var VI=Object.defineProperty;var UI=(t,e,n)=>e in t?VI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var th=(t,e,n)=>UI(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function S0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var G_={exports:{}},Sp={},W_={exports:{}},yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gu=Symbol.for("react.element"),GI=Symbol.for("react.portal"),WI=Symbol.for("react.fragment"),$I=Symbol.for("react.strict_mode"),qI=Symbol.for("react.profiler"),HI=Symbol.for("react.provider"),QI=Symbol.for("react.context"),XI=Symbol.for("react.forward_ref"),KI=Symbol.for("react.suspense"),YI=Symbol.for("react.memo"),JI=Symbol.for("react.lazy"),mv=Symbol.iterator;function ZI(t){return t===null||typeof t!="object"?null:(t=mv&&t[mv]||t["@@iterator"],typeof t=="function"?t:null)}var $_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q_=Object.assign,H_={};function Zl(t,e,n){this.props=t,this.context=e,this.refs=H_,this.updater=n||$_}Zl.prototype.isReactComponent={};Zl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Q_(){}Q_.prototype=Zl.prototype;function I0(t,e,n){this.props=t,this.context=e,this.refs=H_,this.updater=n||$_}var k0=I0.prototype=new Q_;k0.constructor=I0;q_(k0,Zl.prototype);k0.isPureReactComponent=!0;var gv=Array.isArray,X_=Object.prototype.hasOwnProperty,D0={current:null},K_={key:!0,ref:!0,__self:!0,__source:!0};function Y_(t,e,n){var r,a={},i=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)X_.call(e,r)&&!K_.hasOwnProperty(r)&&(a[r]=e[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:gu,type:t,key:i,ref:s,props:a,_owner:D0.current}}function ek(t,e){return{$$typeof:gu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function R0(t){return typeof t=="object"&&t!==null&&t.$$typeof===gu}function tk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Av=/\/+/g;function Im(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tk(""+t.key):e.toString(36)}function Lh(t,e,n,r,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case gu:case GI:s=!0}}if(s)return s=t,a=a(s),t=r===""?"."+Im(s,0):r,gv(a)?(n="",t!=null&&(n=t.replace(Av,"$&/")+"/"),Lh(a,e,n,"",function(d){return d})):a!=null&&(R0(a)&&(a=ek(a,n+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(Av,"$&/")+"/")+t)),e.push(a)),1;if(s=0,r=r===""?".":r+":",gv(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Im(i,l);s+=Lh(i,e,n,c,a)}else if(c=ZI(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Im(i,l++),s+=Lh(i,e,n,c,a);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function rh(t,e,n){if(t==null)return t;var r=[],a=0;return Lh(t,r,"","",function(i){return e.call(n,i,a++)}),r}function nk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hr={current:null},Fh={transition:null},rk={ReactCurrentDispatcher:hr,ReactCurrentBatchConfig:Fh,ReactCurrentOwner:D0};function J_(){throw Error("act(...) is not supported in production builds of React.")}yt.Children={map:rh,forEach:function(t,e,n){rh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return rh(t,function(){e++}),e},toArray:function(t){return rh(t,function(e){return e})||[]},only:function(t){if(!R0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};yt.Component=Zl;yt.Fragment=WI;yt.Profiler=qI;yt.PureComponent=I0;yt.StrictMode=$I;yt.Suspense=KI;yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rk;yt.act=J_;yt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=q_({},t.props),a=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=D0.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)X_.call(e,c)&&!K_.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:gu,type:t.type,key:a,ref:i,props:r,_owner:s}};yt.createContext=function(t){return t={$$typeof:QI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HI,_context:t},t.Consumer=t};yt.createElement=Y_;yt.createFactory=function(t){var e=Y_.bind(null,t);return e.type=t,e};yt.createRef=function(){return{current:null}};yt.forwardRef=function(t){return{$$typeof:XI,render:t}};yt.isValidElement=R0;yt.lazy=function(t){return{$$typeof:JI,_payload:{_status:-1,_result:t},_init:nk}};yt.memo=function(t,e){return{$$typeof:YI,type:t,compare:e===void 0?null:e}};yt.startTransition=function(t){var e=Fh.transition;Fh.transition={};try{t()}finally{Fh.transition=e}};yt.unstable_act=J_;yt.useCallback=function(t,e){return hr.current.useCallback(t,e)};yt.useContext=function(t){return hr.current.useContext(t)};yt.useDebugValue=function(){};yt.useDeferredValue=function(t){return hr.current.useDeferredValue(t)};yt.useEffect=function(t,e){return hr.current.useEffect(t,e)};yt.useId=function(){return hr.current.useId()};yt.useImperativeHandle=function(t,e,n){return hr.current.useImperativeHandle(t,e,n)};yt.useInsertionEffect=function(t,e){return hr.current.useInsertionEffect(t,e)};yt.useLayoutEffect=function(t,e){return hr.current.useLayoutEffect(t,e)};yt.useMemo=function(t,e){return hr.current.useMemo(t,e)};yt.useReducer=function(t,e,n){return hr.current.useReducer(t,e,n)};yt.useRef=function(t){return hr.current.useRef(t)};yt.useState=function(t){return hr.current.useState(t)};yt.useSyncExternalStore=function(t,e,n){return hr.current.useSyncExternalStore(t,e,n)};yt.useTransition=function(){return hr.current.useTransition()};yt.version="18.3.1";W_.exports=yt;var L=W_.exports;const ue=S0(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ak=L,ik=Symbol.for("react.element"),sk=Symbol.for("react.fragment"),ok=Object.prototype.hasOwnProperty,lk=ak.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ck={key:!0,ref:!0,__self:!0,__source:!0};function Z_(t,e,n){var r,a={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)ok.call(e,r)&&!ck.hasOwnProperty(r)&&(a[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)a[r]===void 0&&(a[r]=e[r]);return{$$typeof:ik,type:t,key:i,ref:s,props:a,_owner:lk.current}}Sp.Fragment=sk;Sp.jsx=Z_;Sp.jsxs=Z_;G_.exports=Sp;var o=G_.exports,Mg={},eC={exports:{}},zr={},tC={exports:{}},nC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,H){var ne=Q.length;Q.push(H);e:for(;0<ne;){var X=ne-1>>>1,K=Q[X];if(0<a(K,H))Q[X]=H,Q[ne]=K,ne=X;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var H=Q[0],ne=Q.pop();if(ne!==H){Q[0]=ne;e:for(var X=0,K=Q.length,ce=K>>>1;X<ce;){var ie=2*(X+1)-1,oe=Q[ie],pe=ie+1,Pe=Q[pe];if(0>a(oe,ne))pe<K&&0>a(Pe,oe)?(Q[X]=Pe,Q[pe]=ne,X=pe):(Q[X]=oe,Q[ie]=ne,X=ie);else if(pe<K&&0>a(Pe,ne))Q[X]=Pe,Q[pe]=ne,X=pe;else break e}}return H}function a(Q,H){var ne=Q.sortIndex-H.sortIndex;return ne!==0?ne:Q.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],d=[],u=1,h=null,m=3,p=!1,A=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(Q){for(var H=n(d);H!==null;){if(H.callback===null)r(d);else if(H.startTime<=Q)r(d),H.sortIndex=H.expirationTime,e(c,H);else break;H=n(d)}}function S(Q){if(g=!1,w(Q),!A)if(n(c)!==null)A=!0,V(k);else{var H=n(d);H!==null&&G(S,H.startTime-Q)}}function k(Q,H){A=!1,g&&(g=!1,x(N),N=-1),p=!0;var ne=m;try{for(w(H),h=n(c);h!==null&&(!(h.expirationTime>H)||Q&&!j());){var X=h.callback;if(typeof X=="function"){h.callback=null,m=h.priorityLevel;var K=X(h.expirationTime<=H);H=t.unstable_now(),typeof K=="function"?h.callback=K:h===n(c)&&r(c),w(H)}else r(c);h=n(c)}if(h!==null)var ce=!0;else{var ie=n(d);ie!==null&&G(S,ie.startTime-H),ce=!1}return ce}finally{h=null,m=ne,p=!1}}var P=!1,E=null,N=-1,C=5,R=-1;function j(){return!(t.unstable_now()-R<C)}function _(){if(E!==null){var Q=t.unstable_now();R=Q;var H=!0;try{H=E(!0,Q)}finally{H?D():(P=!1,E=null)}}else P=!1}var D;if(typeof y=="function")D=function(){y(_)};else if(typeof MessageChannel<"u"){var v=new MessageChannel,O=v.port2;v.port1.onmessage=_,D=function(){O.postMessage(null)}}else D=function(){b(_,0)};function V(Q){E=Q,P||(P=!0,D())}function G(Q,H){N=b(function(){Q(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){A||p||(A=!0,V(k))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(Q){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var ne=m;m=H;try{return Q()}finally{m=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,H){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ne=m;m=Q;try{return H()}finally{m=ne}},t.unstable_scheduleCallback=function(Q,H,ne){var X=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?X+ne:X):ne=X,Q){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ne+K,Q={id:u++,callback:H,priorityLevel:Q,startTime:ne,expirationTime:K,sortIndex:-1},ne>X?(Q.sortIndex=ne,e(d,Q),n(c)===null&&Q===n(d)&&(g?(x(N),N=-1):g=!0,G(S,ne-X))):(Q.sortIndex=K,e(c,Q),A||p||(A=!0,V(k))),Q},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(Q){var H=m;return function(){var ne=m;m=H;try{return Q.apply(this,arguments)}finally{m=ne}}}})(nC);tC.exports=nC;var dk=tC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uk=L,Or=dk;function _e(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rC=new Set,kd={};function wo(t,e){Rl(t,e),Rl(t+"Capture",e)}function Rl(t,e){for(kd[t]=e,t=0;t<e.length;t++)rC.add(e[t])}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lg=Object.prototype.hasOwnProperty,hk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xv={},yv={};function fk(t){return Lg.call(yv,t)?!0:Lg.call(xv,t)?!1:hk.test(t)?yv[t]=!0:(xv[t]=!0,!1)}function pk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mk(t,e,n,r){if(e===null||typeof e>"u"||pk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fr(t,e,n,r,a,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var Vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vn[t]=new fr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vn[e]=new fr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vn[t]=new fr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vn[t]=new fr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vn[t]=new fr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vn[t]=new fr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vn[t]=new fr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vn[t]=new fr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vn[t]=new fr(t,5,!1,t.toLowerCase(),null,!1,!1)});var P0=/[\-:]([a-z])/g;function j0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(P0,j0);Vn[e]=new fr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(P0,j0);Vn[e]=new fr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(P0,j0);Vn[e]=new fr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vn[t]=new fr(t,1,!1,t.toLowerCase(),null,!1,!1)});Vn.xlinkHref=new fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vn[t]=new fr(t,1,!1,t.toLowerCase(),null,!0,!0)});function M0(t,e,n,r){var a=Vn.hasOwnProperty(e)?Vn[e]:null;(a!==null?a.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mk(e,n,a,r)&&(n=null),r||a===null?fk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):a.mustUseProperty?t[a.propertyName]=n===null?a.type===3?!1:"":n:(e=a.attributeName,r=a.attributeNamespace,n===null?t.removeAttribute(e):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var di=uk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ah=Symbol.for("react.element"),Zo=Symbol.for("react.portal"),el=Symbol.for("react.fragment"),L0=Symbol.for("react.strict_mode"),Fg=Symbol.for("react.profiler"),aC=Symbol.for("react.provider"),iC=Symbol.for("react.context"),F0=Symbol.for("react.forward_ref"),Og=Symbol.for("react.suspense"),Bg=Symbol.for("react.suspense_list"),O0=Symbol.for("react.memo"),Si=Symbol.for("react.lazy"),sC=Symbol.for("react.offscreen"),vv=Symbol.iterator;function _c(t){return t===null||typeof t!="object"?null:(t=vv&&t[vv]||t["@@iterator"],typeof t=="function"?t:null)}var sn=Object.assign,km;function zc(t){if(km===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);km=e&&e[1]||""}return`
`+km+t}var Dm=!1;function Rm(t,e){if(!t||Dm)return"";Dm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=r.stack.split(`
`),s=a.length-1,l=i.length-1;1<=s&&0<=l&&a[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(a[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||a[s]!==i[l]){var c=`
`+a[s].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=s&&0<=l);break}}}finally{Dm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zc(t):""}function gk(t){switch(t.tag){case 5:return zc(t.type);case 16:return zc("Lazy");case 13:return zc("Suspense");case 19:return zc("SuspenseList");case 0:case 2:case 15:return t=Rm(t.type,!1),t;case 11:return t=Rm(t.type.render,!1),t;case 1:return t=Rm(t.type,!0),t;default:return""}}function zg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case el:return"Fragment";case Zo:return"Portal";case Fg:return"Profiler";case L0:return"StrictMode";case Og:return"Suspense";case Bg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case iC:return(t.displayName||"Context")+".Consumer";case aC:return(t._context.displayName||"Context")+".Provider";case F0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O0:return e=t.displayName||null,e!==null?e:zg(t.type)||"Memo";case Si:e=t._payload,t=t._init;try{return zg(t(e))}catch{}}return null}function Ak(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zg(e);case 8:return e===L0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function as(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xk(t){var e=oC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ih(t){t._valueTracker||(t._valueTracker=xk(t))}function lC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=oC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function mf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vg(t,e){var n=e.checked;return sn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=as(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cC(t,e){e=e.checked,e!=null&&M0(t,"checked",e,!1)}function Ug(t,e){cC(t,e);var n=as(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Gg(t,e.type,as(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function wv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Gg(t,e,n){(e!=="number"||mf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vc=Array.isArray;function xl(t,e,n,r){if(t=t.options,e){e={};for(var a=0;a<n.length;a++)e["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=e.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&r&&(t[n].defaultSelected=!0)}else{for(n=""+as(n),e=null,a=0;a<t.length;a++){if(t[a].value===n){t[a].selected=!0,r&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function Wg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(_e(91));return sn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _v(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(_e(92));if(Vc(n)){if(1<n.length)throw Error(_e(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:as(n)}}function dC(t,e){var n=as(e.value),r=as(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Cv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function uC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $g(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sh,hC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,a){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sh=sh||document.createElement("div"),sh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Dd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var rd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yk=["Webkit","ms","Moz","O"];Object.keys(rd).forEach(function(t){yk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),rd[e]=rd[t]})});function fC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||rd.hasOwnProperty(t)&&rd[t]?(""+e).trim():e+"px"}function pC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=fC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,a):t[n]=a}}var vk=sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qg(t,e){if(e){if(vk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(_e(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(_e(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(_e(61))}if(e.style!=null&&typeof e.style!="object")throw Error(_e(62))}}function Hg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qg=null;function B0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xg=null,yl=null,vl=null;function Ev(t){if(t=yu(t)){if(typeof Xg!="function")throw Error(_e(280));var e=t.stateNode;e&&(e=Pp(e),Xg(t.stateNode,t.type,e))}}function mC(t){yl?vl?vl.push(t):vl=[t]:yl=t}function gC(){if(yl){var t=yl,e=vl;if(vl=yl=null,Ev(t),e)for(t=0;t<e.length;t++)Ev(e[t])}}function AC(t,e){return t(e)}function xC(){}var Pm=!1;function yC(t,e,n){if(Pm)return t(e,n);Pm=!0;try{return AC(t,e,n)}finally{Pm=!1,(yl!==null||vl!==null)&&(xC(),gC())}}function Rd(t,e){var n=t.stateNode;if(n===null)return null;var r=Pp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(_e(231,e,typeof n));return n}var Kg=!1;if(ri)try{var Cc={};Object.defineProperty(Cc,"passive",{get:function(){Kg=!0}}),window.addEventListener("test",Cc,Cc),window.removeEventListener("test",Cc,Cc)}catch{Kg=!1}function bk(t,e,n,r,a,i,s,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(u){this.onError(u)}}var ad=!1,gf=null,Af=!1,Yg=null,wk={onError:function(t){ad=!0,gf=t}};function _k(t,e,n,r,a,i,s,l,c){ad=!1,gf=null,bk.apply(wk,arguments)}function Ck(t,e,n,r,a,i,s,l,c){if(_k.apply(this,arguments),ad){if(ad){var d=gf;ad=!1,gf=null}else throw Error(_e(198));Af||(Af=!0,Yg=d)}}function _o(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Nv(t){if(_o(t)!==t)throw Error(_e(188))}function Ek(t){var e=t.alternate;if(!e){if(e=_o(t),e===null)throw Error(_e(188));return e!==t?null:t}for(var n=t,r=e;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Nv(a),t;if(i===r)return Nv(a),e;i=i.sibling}throw Error(_e(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s)throw Error(_e(189))}}if(n.alternate!==r)throw Error(_e(190))}if(n.tag!==3)throw Error(_e(188));return n.stateNode.current===n?t:e}function bC(t){return t=Ek(t),t!==null?wC(t):null}function wC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wC(t);if(e!==null)return e;t=t.sibling}return null}var _C=Or.unstable_scheduleCallback,Tv=Or.unstable_cancelCallback,Nk=Or.unstable_shouldYield,Tk=Or.unstable_requestPaint,hn=Or.unstable_now,Sk=Or.unstable_getCurrentPriorityLevel,z0=Or.unstable_ImmediatePriority,CC=Or.unstable_UserBlockingPriority,xf=Or.unstable_NormalPriority,Ik=Or.unstable_LowPriority,EC=Or.unstable_IdlePriority,Ip=null,Sa=null;function kk(t){if(Sa&&typeof Sa.onCommitFiberRoot=="function")try{Sa.onCommitFiberRoot(Ip,t,void 0,(t.current.flags&128)===128)}catch{}}var da=Math.clz32?Math.clz32:Pk,Dk=Math.log,Rk=Math.LN2;function Pk(t){return t>>>=0,t===0?32:31-(Dk(t)/Rk|0)|0}var oh=64,lh=4194304;function Uc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,a=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~a;l!==0?r=Uc(l):(i&=s,i!==0&&(r=Uc(i)))}else s=n&~a,s!==0?r=Uc(s):i!==0&&(r=Uc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&a)&&(a=r&-r,i=e&-e,a>=i||a===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-da(e),a=1<<n,r|=t[n],e&=~a;return r}function jk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-da(i),l=1<<s,c=a[s];c===-1?(!(l&n)||l&r)&&(a[s]=jk(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Jg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function NC(){var t=oh;return oh<<=1,!(oh&4194240)&&(oh=64),t}function jm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Au(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-da(e),t[e]=n}function Lk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var a=31-da(n),i=1<<a;e[a]=0,r[a]=-1,t[a]=-1,n&=~i}}function V0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-da(n),a=1<<r;a&e|t[r]&e&&(t[r]|=e),n&=~a}}var Vt=0;function TC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var SC,U0,IC,kC,DC,Zg=!1,ch=[],$i=null,qi=null,Hi=null,Pd=new Map,jd=new Map,ji=[],Fk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sv(t,e){switch(t){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":Pd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jd.delete(e.pointerId)}}function Ec(t,e,n,r,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},e!==null&&(e=yu(e),e!==null&&U0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function Ok(t,e,n,r,a){switch(e){case"focusin":return $i=Ec($i,t,e,n,r,a),!0;case"dragenter":return qi=Ec(qi,t,e,n,r,a),!0;case"mouseover":return Hi=Ec(Hi,t,e,n,r,a),!0;case"pointerover":var i=a.pointerId;return Pd.set(i,Ec(Pd.get(i)||null,t,e,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,jd.set(i,Ec(jd.get(i)||null,t,e,n,r,a)),!0}return!1}function RC(t){var e=Us(t.target);if(e!==null){var n=_o(e);if(n!==null){if(e=n.tag,e===13){if(e=vC(n),e!==null){t.blockedOn=e,DC(t.priority,function(){IC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=eA(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Qg=r,n.target.dispatchEvent(r),Qg=null}else return e=yu(n),e!==null&&U0(e),t.blockedOn=n,!1;e.shift()}return!0}function Iv(t,e,n){Oh(t)&&n.delete(e)}function Bk(){Zg=!1,$i!==null&&Oh($i)&&($i=null),qi!==null&&Oh(qi)&&(qi=null),Hi!==null&&Oh(Hi)&&(Hi=null),Pd.forEach(Iv),jd.forEach(Iv)}function Nc(t,e){t.blockedOn===e&&(t.blockedOn=null,Zg||(Zg=!0,Or.unstable_scheduleCallback(Or.unstable_NormalPriority,Bk)))}function Md(t){function e(a){return Nc(a,t)}if(0<ch.length){Nc(ch[0],t);for(var n=1;n<ch.length;n++){var r=ch[n];r.blockedOn===t&&(r.blockedOn=null)}}for($i!==null&&Nc($i,t),qi!==null&&Nc(qi,t),Hi!==null&&Nc(Hi,t),Pd.forEach(e),jd.forEach(e),n=0;n<ji.length;n++)r=ji[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ji.length&&(n=ji[0],n.blockedOn===null);)RC(n),n.blockedOn===null&&ji.shift()}var bl=di.ReactCurrentBatchConfig,vf=!0;function zk(t,e,n,r){var a=Vt,i=bl.transition;bl.transition=null;try{Vt=1,G0(t,e,n,r)}finally{Vt=a,bl.transition=i}}function Vk(t,e,n,r){var a=Vt,i=bl.transition;bl.transition=null;try{Vt=4,G0(t,e,n,r)}finally{Vt=a,bl.transition=i}}function G0(t,e,n,r){if(vf){var a=eA(t,e,n,r);if(a===null)Wm(t,e,r,bf,n),Sv(t,r);else if(Ok(a,t,e,n,r))r.stopPropagation();else if(Sv(t,r),e&4&&-1<Fk.indexOf(t)){for(;a!==null;){var i=yu(a);if(i!==null&&SC(i),i=eA(t,e,n,r),i===null&&Wm(t,e,r,bf,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else Wm(t,e,r,null,n)}}var bf=null;function eA(t,e,n,r){if(bf=null,t=B0(r),t=Us(t),t!==null)if(e=_o(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bf=t,null}function PC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sk()){case z0:return 1;case CC:return 4;case xf:case Ik:return 16;case EC:return 536870912;default:return 16}default:return 16}}var Vi=null,W0=null,Bh=null;function jC(){if(Bh)return Bh;var t,e=W0,n=e.length,r,a="value"in Vi?Vi.value:Vi.textContent,i=a.length;for(t=0;t<n&&e[t]===a[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===a[i-r];r++);return Bh=a.slice(t,1<r?1-r:void 0)}function zh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dh(){return!0}function kv(){return!1}function Vr(t){function e(n,r,a,i,s){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?dh:kv,this.isPropagationStopped=kv,this}return sn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dh)},persist:function(){},isPersistent:dh}),e}var ec={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$0=Vr(ec),xu=sn({},ec,{view:0,detail:0}),Uk=Vr(xu),Mm,Lm,Tc,kp=sn({},xu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:q0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Tc&&(Tc&&t.type==="mousemove"?(Mm=t.screenX-Tc.screenX,Lm=t.screenY-Tc.screenY):Lm=Mm=0,Tc=t),Mm)},movementY:function(t){return"movementY"in t?t.movementY:Lm}}),Dv=Vr(kp),Gk=sn({},kp,{dataTransfer:0}),Wk=Vr(Gk),$k=sn({},xu,{relatedTarget:0}),Fm=Vr($k),qk=sn({},ec,{animationName:0,elapsedTime:0,pseudoElement:0}),Hk=Vr(qk),Qk=sn({},ec,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xk=Vr(Qk),Kk=sn({},ec,{data:0}),Rv=Vr(Kk),Yk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Zk[t])?!!e[t]:!1}function q0(){return eD}var tD=sn({},xu,{key:function(t){if(t.key){var e=Yk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:q0,charCode:function(t){return t.type==="keypress"?zh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nD=Vr(tD),rD=sn({},kp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pv=Vr(rD),aD=sn({},xu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:q0}),iD=Vr(aD),sD=sn({},ec,{propertyName:0,elapsedTime:0,pseudoElement:0}),oD=Vr(sD),lD=sn({},kp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cD=Vr(lD),dD=[9,13,27,32],H0=ri&&"CompositionEvent"in window,id=null;ri&&"documentMode"in document&&(id=document.documentMode);var uD=ri&&"TextEvent"in window&&!id,MC=ri&&(!H0||id&&8<id&&11>=id),jv=" ",Mv=!1;function LC(t,e){switch(t){case"keyup":return dD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tl=!1;function hD(t,e){switch(t){case"compositionend":return FC(e);case"keypress":return e.which!==32?null:(Mv=!0,jv);case"textInput":return t=e.data,t===jv&&Mv?null:t;default:return null}}function fD(t,e){if(tl)return t==="compositionend"||!H0&&LC(t,e)?(t=jC(),Bh=W0=Vi=null,tl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return MC&&e.locale!=="ko"?null:e.data;default:return null}}var pD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pD[t.type]:e==="textarea"}function OC(t,e,n,r){mC(r),e=wf(e,"onChange"),0<e.length&&(n=new $0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var sd=null,Ld=null;function mD(t){XC(t,0)}function Dp(t){var e=al(t);if(lC(e))return t}function gD(t,e){if(t==="change")return e}var BC=!1;if(ri){var Om;if(ri){var Bm="oninput"in document;if(!Bm){var Fv=document.createElement("div");Fv.setAttribute("oninput","return;"),Bm=typeof Fv.oninput=="function"}Om=Bm}else Om=!1;BC=Om&&(!document.documentMode||9<document.documentMode)}function Ov(){sd&&(sd.detachEvent("onpropertychange",zC),Ld=sd=null)}function zC(t){if(t.propertyName==="value"&&Dp(Ld)){var e=[];OC(e,Ld,t,B0(t)),yC(mD,e)}}function AD(t,e,n){t==="focusin"?(Ov(),sd=e,Ld=n,sd.attachEvent("onpropertychange",zC)):t==="focusout"&&Ov()}function xD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dp(Ld)}function yD(t,e){if(t==="click")return Dp(e)}function vD(t,e){if(t==="input"||t==="change")return Dp(e)}function bD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pa=typeof Object.is=="function"?Object.is:bD;function Fd(t,e){if(pa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Lg.call(e,a)||!pa(t[a],e[a]))return!1}return!0}function Bv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zv(t,e){var n=Bv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bv(n)}}function VC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?VC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function UC(){for(var t=window,e=mf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mf(t.document)}return e}function Q0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wD(t){var e=UC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&VC(n.ownerDocument.documentElement,n)){if(r!==null&&Q0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!t.extend&&i>r&&(a=r,r=i,i=a),a=zv(n,i);var s=zv(n,r);a&&s&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _D=ri&&"documentMode"in document&&11>=document.documentMode,nl=null,tA=null,od=null,nA=!1;function Vv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nA||nl==null||nl!==mf(r)||(r=nl,"selectionStart"in r&&Q0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),od&&Fd(od,r)||(od=r,r=wf(tA,"onSelect"),0<r.length&&(e=new $0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=nl)))}function uh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var rl={animationend:uh("Animation","AnimationEnd"),animationiteration:uh("Animation","AnimationIteration"),animationstart:uh("Animation","AnimationStart"),transitionend:uh("Transition","TransitionEnd")},zm={},GC={};ri&&(GC=document.createElement("div").style,"AnimationEvent"in window||(delete rl.animationend.animation,delete rl.animationiteration.animation,delete rl.animationstart.animation),"TransitionEvent"in window||delete rl.transitionend.transition);function Rp(t){if(zm[t])return zm[t];if(!rl[t])return t;var e=rl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in GC)return zm[t]=e[n];return t}var WC=Rp("animationend"),$C=Rp("animationiteration"),qC=Rp("animationstart"),HC=Rp("transitionend"),QC=new Map,Uv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ps(t,e){QC.set(t,e),wo(e,[t])}for(var Vm=0;Vm<Uv.length;Vm++){var Um=Uv[Vm],CD=Um.toLowerCase(),ED=Um[0].toUpperCase()+Um.slice(1);ps(CD,"on"+ED)}ps(WC,"onAnimationEnd");ps($C,"onAnimationIteration");ps(qC,"onAnimationStart");ps("dblclick","onDoubleClick");ps("focusin","onFocus");ps("focusout","onBlur");ps(HC,"onTransitionEnd");Rl("onMouseEnter",["mouseout","mouseover"]);Rl("onMouseLeave",["mouseout","mouseover"]);Rl("onPointerEnter",["pointerout","pointerover"]);Rl("onPointerLeave",["pointerout","pointerover"]);wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wo("onBeforeInput",["compositionend","keypress","textInput","paste"]);wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ND=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gc));function Gv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Ck(r,e,void 0,t),t.currentTarget=null}function XC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],a=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Gv(a,l,d),i=c}else for(s=0;s<r.length;s++){if(l=r[s],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Gv(a,l,d),i=c}}}if(Af)throw t=Yg,Af=!1,Yg=null,t}function Qt(t,e){var n=e[oA];n===void 0&&(n=e[oA]=new Set);var r=t+"__bubble";n.has(r)||(KC(e,t,2,!1),n.add(r))}function Gm(t,e,n){var r=0;e&&(r|=4),KC(n,t,r,e)}var hh="_reactListening"+Math.random().toString(36).slice(2);function Od(t){if(!t[hh]){t[hh]=!0,rC.forEach(function(n){n!=="selectionchange"&&(ND.has(n)||Gm(n,!1,t),Gm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hh]||(e[hh]=!0,Gm("selectionchange",!1,e))}}function KC(t,e,n,r){switch(PC(e)){case 1:var a=zk;break;case 4:a=Vk;break;default:a=G0}n=a.bind(null,e,n,t),a=void 0,!Kg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),r?a!==void 0?t.addEventListener(e,n,{capture:!0,passive:a}):t.addEventListener(e,n,!0):a!==void 0?t.addEventListener(e,n,{passive:a}):t.addEventListener(e,n,!1)}function Wm(t,e,n,r,a){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;l!==null;){if(s=Us(l),s===null)return;if(c=s.tag,c===5||c===6){r=i=s;continue e}l=l.parentNode}}r=r.return}yC(function(){var d=i,u=B0(n),h=[];e:{var m=QC.get(t);if(m!==void 0){var p=$0,A=t;switch(t){case"keypress":if(zh(n)===0)break e;case"keydown":case"keyup":p=nD;break;case"focusin":A="focus",p=Fm;break;case"focusout":A="blur",p=Fm;break;case"beforeblur":case"afterblur":p=Fm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Dv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Wk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=iD;break;case WC:case $C:case qC:p=Hk;break;case HC:p=oD;break;case"scroll":p=Uk;break;case"wheel":p=cD;break;case"copy":case"cut":case"paste":p=Xk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Pv}var g=(e&4)!==0,b=!g&&t==="scroll",x=g?m!==null?m+"Capture":null:m;g=[];for(var y=d,w;y!==null;){w=y;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,x!==null&&(S=Rd(y,x),S!=null&&g.push(Bd(y,S,w)))),b)break;y=y.return}0<g.length&&(m=new p(m,A,null,n,u),h.push({event:m,listeners:g}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==Qg&&(A=n.relatedTarget||n.fromElement)&&(Us(A)||A[ai]))break e;if((p||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,p?(A=n.relatedTarget||n.toElement,p=d,A=A?Us(A):null,A!==null&&(b=_o(A),A!==b||A.tag!==5&&A.tag!==6)&&(A=null)):(p=null,A=d),p!==A)){if(g=Dv,S="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=Pv,S="onPointerLeave",x="onPointerEnter",y="pointer"),b=p==null?m:al(p),w=A==null?m:al(A),m=new g(S,y+"leave",p,n,u),m.target=b,m.relatedTarget=w,S=null,Us(u)===d&&(g=new g(x,y+"enter",A,n,u),g.target=w,g.relatedTarget=b,S=g),b=S,p&&A)t:{for(g=p,x=A,y=0,w=g;w;w=Mo(w))y++;for(w=0,S=x;S;S=Mo(S))w++;for(;0<y-w;)g=Mo(g),y--;for(;0<w-y;)x=Mo(x),w--;for(;y--;){if(g===x||x!==null&&g===x.alternate)break t;g=Mo(g),x=Mo(x)}g=null}else g=null;p!==null&&Wv(h,m,p,g,!1),A!==null&&b!==null&&Wv(h,b,A,g,!0)}}e:{if(m=d?al(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var k=gD;else if(Lv(m))if(BC)k=vD;else{k=xD;var P=AD}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=yD);if(k&&(k=k(t,d))){OC(h,k,n,u);break e}P&&P(t,m,d),t==="focusout"&&(P=m._wrapperState)&&P.controlled&&m.type==="number"&&Gg(m,"number",m.value)}switch(P=d?al(d):window,t){case"focusin":(Lv(P)||P.contentEditable==="true")&&(nl=P,tA=d,od=null);break;case"focusout":od=tA=nl=null;break;case"mousedown":nA=!0;break;case"contextmenu":case"mouseup":case"dragend":nA=!1,Vv(h,n,u);break;case"selectionchange":if(_D)break;case"keydown":case"keyup":Vv(h,n,u)}var E;if(H0)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else tl?LC(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(MC&&n.locale!=="ko"&&(tl||N!=="onCompositionStart"?N==="onCompositionEnd"&&tl&&(E=jC()):(Vi=u,W0="value"in Vi?Vi.value:Vi.textContent,tl=!0)),P=wf(d,N),0<P.length&&(N=new Rv(N,t,null,n,u),h.push({event:N,listeners:P}),E?N.data=E:(E=FC(n),E!==null&&(N.data=E)))),(E=uD?hD(t,n):fD(t,n))&&(d=wf(d,"onBeforeInput"),0<d.length&&(u=new Rv("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:d}),u.data=E))}XC(h,e)})}function Bd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wf(t,e){for(var n=e+"Capture",r=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Rd(t,n),i!=null&&r.unshift(Bd(t,i,a)),i=Rd(t,e),i!=null&&r.push(Bd(t,i,a))),t=t.return}return r}function Mo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wv(t,e,n,r,a){for(var i=e._reactName,s=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,a?(c=Rd(n,i),c!=null&&s.unshift(Bd(n,c,l))):a||(c=Rd(n,i),c!=null&&s.push(Bd(n,c,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var TD=/\r\n?/g,SD=/\u0000|\uFFFD/g;function $v(t){return(typeof t=="string"?t:""+t).replace(TD,`
`).replace(SD,"")}function fh(t,e,n){if(e=$v(e),$v(t)!==e&&n)throw Error(_e(425))}function _f(){}var rA=null,aA=null;function iA(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sA=typeof setTimeout=="function"?setTimeout:void 0,ID=typeof clearTimeout=="function"?clearTimeout:void 0,qv=typeof Promise=="function"?Promise:void 0,kD=typeof queueMicrotask=="function"?queueMicrotask:typeof qv<"u"?function(t){return qv.resolve(null).then(t).catch(DD)}:sA;function DD(t){setTimeout(function(){throw t})}function $m(t,e){var n=e,r=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){t.removeChild(a),Md(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);Md(e)}function Qi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Hv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var tc=Math.random().toString(36).slice(2),wa="__reactFiber$"+tc,zd="__reactProps$"+tc,ai="__reactContainer$"+tc,oA="__reactEvents$"+tc,RD="__reactListeners$"+tc,PD="__reactHandles$"+tc;function Us(t){var e=t[wa];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ai]||n[wa]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Hv(t);t!==null;){if(n=t[wa])return n;t=Hv(t)}return e}t=n,n=t.parentNode}return null}function yu(t){return t=t[wa]||t[ai],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function al(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(_e(33))}function Pp(t){return t[zd]||null}var lA=[],il=-1;function ms(t){return{current:t}}function Xt(t){0>il||(t.current=lA[il],lA[il]=null,il--)}function qt(t,e){il++,lA[il]=t.current,t.current=e}var is={},nr=ms(is),_r=ms(!1),to=is;function Pl(t,e){var n=t.type.contextTypes;if(!n)return is;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function Cr(t){return t=t.childContextTypes,t!=null}function Cf(){Xt(_r),Xt(nr)}function Qv(t,e,n){if(nr.current!==is)throw Error(_e(168));qt(nr,e),qt(_r,n)}function YC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in e))throw Error(_e(108,Ak(t)||"Unknown",a));return sn({},n,r)}function Ef(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||is,to=nr.current,qt(nr,t),qt(_r,_r.current),!0}function Xv(t,e,n){var r=t.stateNode;if(!r)throw Error(_e(169));n?(t=YC(t,e,to),r.__reactInternalMemoizedMergedChildContext=t,Xt(_r),Xt(nr),qt(nr,t)):Xt(_r),qt(_r,n)}var Ga=null,jp=!1,qm=!1;function JC(t){Ga===null?Ga=[t]:Ga.push(t)}function jD(t){jp=!0,JC(t)}function gs(){if(!qm&&Ga!==null){qm=!0;var t=0,e=Vt;try{var n=Ga;for(Vt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ga=null,jp=!1}catch(a){throw Ga!==null&&(Ga=Ga.slice(t+1)),_C(z0,gs),a}finally{Vt=e,qm=!1}}return null}var sl=[],ol=0,Nf=null,Tf=0,qr=[],Hr=0,no=null,qa=1,Ha="";function ks(t,e){sl[ol++]=Tf,sl[ol++]=Nf,Nf=t,Tf=e}function ZC(t,e,n){qr[Hr++]=qa,qr[Hr++]=Ha,qr[Hr++]=no,no=t;var r=qa;t=Ha;var a=32-da(r)-1;r&=~(1<<a),n+=1;var i=32-da(e)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,qa=1<<32-da(e)+a|n<<a|r,Ha=i+t}else qa=1<<i|n<<a|r,Ha=t}function X0(t){t.return!==null&&(ks(t,1),ZC(t,1,0))}function K0(t){for(;t===Nf;)Nf=sl[--ol],sl[ol]=null,Tf=sl[--ol],sl[ol]=null;for(;t===no;)no=qr[--Hr],qr[Hr]=null,Ha=qr[--Hr],qr[Hr]=null,qa=qr[--Hr],qr[Hr]=null}var Lr=null,jr=null,Yt=!1,la=null;function e2(t,e){var n=Xr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Kv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Lr=t,jr=Qi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Lr=t,jr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=no!==null?{id:qa,overflow:Ha}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Lr=t,jr=null,!0):!1;default:return!1}}function cA(t){return(t.mode&1)!==0&&(t.flags&128)===0}function dA(t){if(Yt){var e=jr;if(e){var n=e;if(!Kv(t,e)){if(cA(t))throw Error(_e(418));e=Qi(n.nextSibling);var r=Lr;e&&Kv(t,e)?e2(r,n):(t.flags=t.flags&-4097|2,Yt=!1,Lr=t)}}else{if(cA(t))throw Error(_e(418));t.flags=t.flags&-4097|2,Yt=!1,Lr=t}}}function Yv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Lr=t}function ph(t){if(t!==Lr)return!1;if(!Yt)return Yv(t),Yt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!iA(t.type,t.memoizedProps)),e&&(e=jr)){if(cA(t))throw t2(),Error(_e(418));for(;e;)e2(t,e),e=Qi(e.nextSibling)}if(Yv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(_e(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){jr=Qi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}jr=null}}else jr=Lr?Qi(t.stateNode.nextSibling):null;return!0}function t2(){for(var t=jr;t;)t=Qi(t.nextSibling)}function jl(){jr=Lr=null,Yt=!1}function Y0(t){la===null?la=[t]:la.push(t)}var MD=di.ReactCurrentBatchConfig;function Sc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_e(309));var r=n.stateNode}if(!r)throw Error(_e(147,t));var a=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var l=a.refs;s===null?delete l[i]:l[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(_e(284));if(!n._owner)throw Error(_e(290,t))}return t}function mh(t,e){throw t=Object.prototype.toString.call(e),Error(_e(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Jv(t){var e=t._init;return e(t._payload)}function n2(t){function e(x,y){if(t){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function a(x,y){return x=Ji(x,y),x.index=0,x.sibling=null,x}function i(x,y,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,y,w,S){return y===null||y.tag!==6?(y=Zm(w,x.mode,S),y.return=x,y):(y=a(y,w),y.return=x,y)}function c(x,y,w,S){var k=w.type;return k===el?u(x,y,w.props.children,S,w.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Si&&Jv(k)===y.type)?(S=a(y,w.props),S.ref=Sc(x,y,w),S.return=x,S):(S=Hh(w.type,w.key,w.props,null,x.mode,S),S.ref=Sc(x,y,w),S.return=x,S)}function d(x,y,w,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=eg(w,x.mode,S),y.return=x,y):(y=a(y,w.children||[]),y.return=x,y)}function u(x,y,w,S,k){return y===null||y.tag!==7?(y=Ys(w,x.mode,S,k),y.return=x,y):(y=a(y,w),y.return=x,y)}function h(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Zm(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ah:return w=Hh(y.type,y.key,y.props,null,x.mode,w),w.ref=Sc(x,null,y),w.return=x,w;case Zo:return y=eg(y,x.mode,w),y.return=x,y;case Si:var S=y._init;return h(x,S(y._payload),w)}if(Vc(y)||_c(y))return y=Ys(y,x.mode,w,null),y.return=x,y;mh(x,y)}return null}function m(x,y,w,S){var k=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:l(x,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ah:return w.key===k?c(x,y,w,S):null;case Zo:return w.key===k?d(x,y,w,S):null;case Si:return k=w._init,m(x,y,k(w._payload),S)}if(Vc(w)||_c(w))return k!==null?null:u(x,y,w,S,null);mh(x,w)}return null}function p(x,y,w,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(w)||null,l(y,x,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ah:return x=x.get(S.key===null?w:S.key)||null,c(y,x,S,k);case Zo:return x=x.get(S.key===null?w:S.key)||null,d(y,x,S,k);case Si:var P=S._init;return p(x,y,w,P(S._payload),k)}if(Vc(S)||_c(S))return x=x.get(w)||null,u(y,x,S,k,null);mh(y,S)}return null}function A(x,y,w,S){for(var k=null,P=null,E=y,N=y=0,C=null;E!==null&&N<w.length;N++){E.index>N?(C=E,E=null):C=E.sibling;var R=m(x,E,w[N],S);if(R===null){E===null&&(E=C);break}t&&E&&R.alternate===null&&e(x,E),y=i(R,y,N),P===null?k=R:P.sibling=R,P=R,E=C}if(N===w.length)return n(x,E),Yt&&ks(x,N),k;if(E===null){for(;N<w.length;N++)E=h(x,w[N],S),E!==null&&(y=i(E,y,N),P===null?k=E:P.sibling=E,P=E);return Yt&&ks(x,N),k}for(E=r(x,E);N<w.length;N++)C=p(E,x,N,w[N],S),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?N:C.key),y=i(C,y,N),P===null?k=C:P.sibling=C,P=C);return t&&E.forEach(function(j){return e(x,j)}),Yt&&ks(x,N),k}function g(x,y,w,S){var k=_c(w);if(typeof k!="function")throw Error(_e(150));if(w=k.call(w),w==null)throw Error(_e(151));for(var P=k=null,E=y,N=y=0,C=null,R=w.next();E!==null&&!R.done;N++,R=w.next()){E.index>N?(C=E,E=null):C=E.sibling;var j=m(x,E,R.value,S);if(j===null){E===null&&(E=C);break}t&&E&&j.alternate===null&&e(x,E),y=i(j,y,N),P===null?k=j:P.sibling=j,P=j,E=C}if(R.done)return n(x,E),Yt&&ks(x,N),k;if(E===null){for(;!R.done;N++,R=w.next())R=h(x,R.value,S),R!==null&&(y=i(R,y,N),P===null?k=R:P.sibling=R,P=R);return Yt&&ks(x,N),k}for(E=r(x,E);!R.done;N++,R=w.next())R=p(E,x,N,R.value,S),R!==null&&(t&&R.alternate!==null&&E.delete(R.key===null?N:R.key),y=i(R,y,N),P===null?k=R:P.sibling=R,P=R);return t&&E.forEach(function(_){return e(x,_)}),Yt&&ks(x,N),k}function b(x,y,w,S){if(typeof w=="object"&&w!==null&&w.type===el&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ah:e:{for(var k=w.key,P=y;P!==null;){if(P.key===k){if(k=w.type,k===el){if(P.tag===7){n(x,P.sibling),y=a(P,w.props.children),y.return=x,x=y;break e}}else if(P.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Si&&Jv(k)===P.type){n(x,P.sibling),y=a(P,w.props),y.ref=Sc(x,P,w),y.return=x,x=y;break e}n(x,P);break}else e(x,P);P=P.sibling}w.type===el?(y=Ys(w.props.children,x.mode,S,w.key),y.return=x,x=y):(S=Hh(w.type,w.key,w.props,null,x.mode,S),S.ref=Sc(x,y,w),S.return=x,x=S)}return s(x);case Zo:e:{for(P=w.key;y!==null;){if(y.key===P)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(x,y.sibling),y=a(y,w.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else e(x,y);y=y.sibling}y=eg(w,x.mode,S),y.return=x,x=y}return s(x);case Si:return P=w._init,b(x,y,P(w._payload),S)}if(Vc(w))return A(x,y,w,S);if(_c(w))return g(x,y,w,S);mh(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(x,y.sibling),y=a(y,w),y.return=x,x=y):(n(x,y),y=Zm(w,x.mode,S),y.return=x,x=y),s(x)):n(x,y)}return b}var Ml=n2(!0),r2=n2(!1),Sf=ms(null),If=null,ll=null,J0=null;function Z0(){J0=ll=If=null}function ex(t){var e=Sf.current;Xt(Sf),t._currentValue=e}function uA(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wl(t,e){If=t,J0=ll=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(br=!0),t.firstContext=null)}function Zr(t){var e=t._currentValue;if(J0!==t)if(t={context:t,memoizedValue:e,next:null},ll===null){if(If===null)throw Error(_e(308));ll=t,If.dependencies={lanes:0,firstContext:t}}else ll=ll.next=t;return e}var Gs=null;function tx(t){Gs===null?Gs=[t]:Gs.push(t)}function a2(t,e,n,r){var a=e.interleaved;return a===null?(n.next=n,tx(e)):(n.next=a.next,a.next=n),e.interleaved=n,ii(t,r)}function ii(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ii=!1;function nx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Za(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,St&2){var a=r.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),r.pending=e,ii(t,n)}return a=r.interleaved,a===null?(e.next=e,tx(r)):(e.next=a.next,a.next=e),r.interleaved=e,ii(t,n)}function Vh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,V0(t,n)}}function Zv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?a=i=e:i=i.next=e}else a=i=e;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kf(t,e,n,r){var a=t.updateQueue;Ii=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,s===null?i=d:s.next=d,s=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==s&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;s=0,u=d=c=null,l=i;do{var m=l.lane,p=l.eventTime;if((r&m)===m){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var A=t,g=l;switch(m=e,p=n,g.tag){case 1:if(A=g.payload,typeof A=="function"){h=A.call(p,h,m);break e}h=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=g.payload,m=typeof A=="function"?A.call(p,h,m):A,m==null)break e;h=sn({},h,m);break e;case 2:Ii=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=h):u=u.next=p,s|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,e=a.shared.interleaved,e!==null){a=e;do s|=a.lane,a=a.next;while(a!==e)}else i===null&&(a.shared.lanes=0);ao|=s,t.lanes=s,t.memoizedState=h}}function eb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(_e(191,a));a.call(r)}}}var vu={},Ia=ms(vu),Vd=ms(vu),Ud=ms(vu);function Ws(t){if(t===vu)throw Error(_e(174));return t}function rx(t,e){switch(qt(Ud,e),qt(Vd,t),qt(Ia,vu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$g(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$g(e,t)}Xt(Ia),qt(Ia,e)}function Ll(){Xt(Ia),Xt(Vd),Xt(Ud)}function s2(t){Ws(Ud.current);var e=Ws(Ia.current),n=$g(e,t.type);e!==n&&(qt(Vd,t),qt(Ia,n))}function ax(t){Vd.current===t&&(Xt(Ia),Xt(Vd))}var rn=ms(0);function Df(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hm=[];function ix(){for(var t=0;t<Hm.length;t++)Hm[t]._workInProgressVersionPrimary=null;Hm.length=0}var Uh=di.ReactCurrentDispatcher,Qm=di.ReactCurrentBatchConfig,ro=0,an=null,bn=null,Sn=null,Rf=!1,ld=!1,Gd=0,LD=0;function Xn(){throw Error(_e(321))}function sx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!pa(t[n],e[n]))return!1;return!0}function ox(t,e,n,r,a,i){if(ro=i,an=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Uh.current=t===null||t.memoizedState===null?zD:VD,t=n(r,a),ld){i=0;do{if(ld=!1,Gd=0,25<=i)throw Error(_e(301));i+=1,Sn=bn=null,e.updateQueue=null,Uh.current=UD,t=n(r,a)}while(ld)}if(Uh.current=Pf,e=bn!==null&&bn.next!==null,ro=0,Sn=bn=an=null,Rf=!1,e)throw Error(_e(300));return t}function lx(){var t=Gd!==0;return Gd=0,t}function ba(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?an.memoizedState=Sn=t:Sn=Sn.next=t,Sn}function ea(){if(bn===null){var t=an.alternate;t=t!==null?t.memoizedState:null}else t=bn.next;var e=Sn===null?an.memoizedState:Sn.next;if(e!==null)Sn=e,bn=t;else{if(t===null)throw Error(_e(310));bn=t,t={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},Sn===null?an.memoizedState=Sn=t:Sn=Sn.next=t}return Sn}function Wd(t,e){return typeof e=="function"?e(t):e}function Xm(t){var e=ea(),n=e.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=t;var r=bn,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=s=null,c=null,d=i;do{var u=d.lane;if((ro&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,s=r):c=c.next=h,an.lanes|=u,ao|=u}d=d.next}while(d!==null&&d!==i);c===null?s=r:c.next=l,pa(r,e.memoizedState)||(br=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){a=t;do i=a.lane,an.lanes|=i,ao|=i,a=a.next;while(a!==t)}else a===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Km(t){var e=ea(),n=e.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=t;var r=n.dispatch,a=n.pending,i=e.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do i=t(i,s.action),s=s.next;while(s!==a);pa(i,e.memoizedState)||(br=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function o2(){}function l2(t,e){var n=an,r=ea(),a=e(),i=!pa(r.memoizedState,a);if(i&&(r.memoizedState=a,br=!0),r=r.queue,cx(u2.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Sn!==null&&Sn.memoizedState.tag&1){if(n.flags|=2048,$d(9,d2.bind(null,n,r,a,e),void 0,null),kn===null)throw Error(_e(349));ro&30||c2(n,e,a)}return a}function c2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=an.updateQueue,e===null?(e={lastEffect:null,stores:null},an.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function d2(t,e,n,r){e.value=n,e.getSnapshot=r,h2(e)&&f2(t)}function u2(t,e,n){return n(function(){h2(e)&&f2(t)})}function h2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pa(t,n)}catch{return!0}}function f2(t){var e=ii(t,1);e!==null&&ua(e,t,1,-1)}function tb(t){var e=ba();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wd,lastRenderedState:t},e.queue=t,t=t.dispatch=BD.bind(null,an,t),[e.memoizedState,t]}function $d(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=an.updateQueue,e===null?(e={lastEffect:null,stores:null},an.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function p2(){return ea().memoizedState}function Gh(t,e,n,r){var a=ba();an.flags|=t,a.memoizedState=$d(1|e,n,void 0,r===void 0?null:r)}function Mp(t,e,n,r){var a=ea();r=r===void 0?null:r;var i=void 0;if(bn!==null){var s=bn.memoizedState;if(i=s.destroy,r!==null&&sx(r,s.deps)){a.memoizedState=$d(e,n,i,r);return}}an.flags|=t,a.memoizedState=$d(1|e,n,i,r)}function nb(t,e){return Gh(8390656,8,t,e)}function cx(t,e){return Mp(2048,8,t,e)}function m2(t,e){return Mp(4,2,t,e)}function g2(t,e){return Mp(4,4,t,e)}function A2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function x2(t,e,n){return n=n!=null?n.concat([t]):null,Mp(4,4,A2.bind(null,e,t),n)}function dx(){}function y2(t,e){var n=ea();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function v2(t,e){var n=ea();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function b2(t,e,n){return ro&21?(pa(n,e)||(n=NC(),an.lanes|=n,ao|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,br=!0),t.memoizedState=n)}function FD(t,e){var n=Vt;Vt=n!==0&&4>n?n:4,t(!0);var r=Qm.transition;Qm.transition={};try{t(!1),e()}finally{Vt=n,Qm.transition=r}}function w2(){return ea().memoizedState}function OD(t,e,n){var r=Yi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_2(t))C2(e,n);else if(n=a2(t,e,n,r),n!==null){var a=lr();ua(n,t,r,a),E2(n,e,r)}}function BD(t,e,n){var r=Yi(t),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_2(t))C2(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,l=i(s,n);if(a.hasEagerState=!0,a.eagerState=l,pa(l,s)){var c=e.interleaved;c===null?(a.next=a,tx(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}n=a2(t,e,a,r),n!==null&&(a=lr(),ua(n,t,r,a),E2(n,e,r))}}function _2(t){var e=t.alternate;return t===an||e!==null&&e===an}function C2(t,e){ld=Rf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function E2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,V0(t,n)}}var Pf={readContext:Zr,useCallback:Xn,useContext:Xn,useEffect:Xn,useImperativeHandle:Xn,useInsertionEffect:Xn,useLayoutEffect:Xn,useMemo:Xn,useReducer:Xn,useRef:Xn,useState:Xn,useDebugValue:Xn,useDeferredValue:Xn,useTransition:Xn,useMutableSource:Xn,useSyncExternalStore:Xn,useId:Xn,unstable_isNewReconciler:!1},zD={readContext:Zr,useCallback:function(t,e){return ba().memoizedState=[t,e===void 0?null:e],t},useContext:Zr,useEffect:nb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Gh(4194308,4,A2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Gh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gh(4,2,t,e)},useMemo:function(t,e){var n=ba();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ba();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=OD.bind(null,an,t),[r.memoizedState,t]},useRef:function(t){var e=ba();return t={current:t},e.memoizedState=t},useState:tb,useDebugValue:dx,useDeferredValue:function(t){return ba().memoizedState=t},useTransition:function(){var t=tb(!1),e=t[0];return t=FD.bind(null,t[1]),ba().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=an,a=ba();if(Yt){if(n===void 0)throw Error(_e(407));n=n()}else{if(n=e(),kn===null)throw Error(_e(349));ro&30||c2(r,e,n)}a.memoizedState=n;var i={value:n,getSnapshot:e};return a.queue=i,nb(u2.bind(null,r,i,t),[t]),r.flags|=2048,$d(9,d2.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ba(),e=kn.identifierPrefix;if(Yt){var n=Ha,r=qa;n=(r&~(1<<32-da(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Gd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=LD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},VD={readContext:Zr,useCallback:y2,useContext:Zr,useEffect:cx,useImperativeHandle:x2,useInsertionEffect:m2,useLayoutEffect:g2,useMemo:v2,useReducer:Xm,useRef:p2,useState:function(){return Xm(Wd)},useDebugValue:dx,useDeferredValue:function(t){var e=ea();return b2(e,bn.memoizedState,t)},useTransition:function(){var t=Xm(Wd)[0],e=ea().memoizedState;return[t,e]},useMutableSource:o2,useSyncExternalStore:l2,useId:w2,unstable_isNewReconciler:!1},UD={readContext:Zr,useCallback:y2,useContext:Zr,useEffect:cx,useImperativeHandle:x2,useInsertionEffect:m2,useLayoutEffect:g2,useMemo:v2,useReducer:Km,useRef:p2,useState:function(){return Km(Wd)},useDebugValue:dx,useDeferredValue:function(t){var e=ea();return bn===null?e.memoizedState=t:b2(e,bn.memoizedState,t)},useTransition:function(){var t=Km(Wd)[0],e=ea().memoizedState;return[t,e]},useMutableSource:o2,useSyncExternalStore:l2,useId:w2,unstable_isNewReconciler:!1};function sa(t,e){if(t&&t.defaultProps){e=sn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function hA(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:sn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Lp={isMounted:function(t){return(t=t._reactInternals)?_o(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=lr(),a=Yi(t),i=Za(r,a);i.payload=e,n!=null&&(i.callback=n),e=Xi(t,i,a),e!==null&&(ua(e,t,a,r),Vh(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=lr(),a=Yi(t),i=Za(r,a);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Xi(t,i,a),e!==null&&(ua(e,t,a,r),Vh(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=lr(),r=Yi(t),a=Za(n,r);a.tag=2,e!=null&&(a.callback=e),e=Xi(t,a,r),e!==null&&(ua(e,t,r,n),Vh(e,t,r))}};function rb(t,e,n,r,a,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!Fd(n,r)||!Fd(a,i):!0}function N2(t,e,n){var r=!1,a=is,i=e.contextType;return typeof i=="object"&&i!==null?i=Zr(i):(a=Cr(e)?to:nr.current,r=e.contextTypes,i=(r=r!=null)?Pl(t,a):is),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function ab(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Lp.enqueueReplaceState(e,e.state,null)}function fA(t,e,n,r){var a=t.stateNode;a.props=n,a.state=t.memoizedState,a.refs={},nx(t);var i=e.contextType;typeof i=="object"&&i!==null?a.context=Zr(i):(i=Cr(e)?to:nr.current,a.context=Pl(t,i)),a.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(hA(t,e,i,n),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&Lp.enqueueReplaceState(a,a.state,null),kf(t,n,a,r),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Fl(t,e){try{var n="",r=e;do n+=gk(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:a,digest:null}}function Ym(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function pA(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var GD=typeof WeakMap=="function"?WeakMap:Map;function T2(t,e,n){n=Za(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Mf||(Mf=!0,CA=r),pA(t,e)},n}function S2(t,e,n){n=Za(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var a=e.value;n.payload=function(){return r(a)},n.callback=function(){pA(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){pA(t,e),typeof r!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function ib(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new GD;var a=new Set;r.set(e,a)}else a=r.get(e),a===void 0&&(a=new Set,r.set(e,a));a.has(n)||(a.add(n),t=rR.bind(null,t,e,n),e.then(t,t))}function sb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ob(t,e,n,r,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Za(-1,1),e.tag=2,Xi(n,e,1))),n.lanes|=1),t)}var WD=di.ReactCurrentOwner,br=!1;function ir(t,e,n,r){e.child=t===null?r2(e,null,n,r):Ml(e,t.child,n,r)}function lb(t,e,n,r,a){n=n.render;var i=e.ref;return wl(e,a),r=ox(t,e,n,r,i,a),n=lx(),t!==null&&!br?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,si(t,e,a)):(Yt&&n&&X0(e),e.flags|=1,ir(t,e,r,a),e.child)}function cb(t,e,n,r,a){if(t===null){var i=n.type;return typeof i=="function"&&!xx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,I2(t,e,i,r,a)):(t=Hh(n.type,null,r,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&a)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Fd,n(s,r)&&t.ref===e.ref)return si(t,e,a)}return e.flags|=1,t=Ji(i,r),t.ref=e.ref,t.return=e,e.child=t}function I2(t,e,n,r,a){if(t!==null){var i=t.memoizedProps;if(Fd(i,r)&&t.ref===e.ref)if(br=!1,e.pendingProps=r=i,(t.lanes&a)!==0)t.flags&131072&&(br=!0);else return e.lanes=t.lanes,si(t,e,a)}return mA(t,e,n,r,a)}function k2(t,e,n){var r=e.pendingProps,a=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(dl,Dr),Dr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qt(dl,Dr),Dr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,qt(dl,Dr),Dr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,qt(dl,Dr),Dr|=r;return ir(t,e,a,n),e.child}function D2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mA(t,e,n,r,a){var i=Cr(n)?to:nr.current;return i=Pl(e,i),wl(e,a),n=ox(t,e,n,r,i,a),r=lx(),t!==null&&!br?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,si(t,e,a)):(Yt&&r&&X0(e),e.flags|=1,ir(t,e,n,a),e.child)}function db(t,e,n,r,a){if(Cr(n)){var i=!0;Ef(e)}else i=!1;if(wl(e,a),e.stateNode===null)Wh(t,e),N2(e,n,r),fA(e,n,r,a),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var c=s.context,d=n.contextType;typeof d=="object"&&d!==null?d=Zr(d):(d=Cr(n)?to:nr.current,d=Pl(e,d));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||c!==d)&&ab(e,s,r,d),Ii=!1;var m=e.memoizedState;s.state=m,kf(e,r,s,a),c=e.memoizedState,l!==r||m!==c||_r.current||Ii?(typeof u=="function"&&(hA(e,n,u,r),c=e.memoizedState),(l=Ii||rb(e,n,l,r,m,c,d))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),s.props=r,s.state=c,s.context=d,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,i2(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:sa(e.type,l),s.props=d,h=e.pendingProps,m=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=Zr(c):(c=Cr(n)?to:nr.current,c=Pl(e,c));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==h||m!==c)&&ab(e,s,r,c),Ii=!1,m=e.memoizedState,s.state=m,kf(e,r,s,a);var A=e.memoizedState;l!==h||m!==A||_r.current||Ii?(typeof p=="function"&&(hA(e,n,p,r),A=e.memoizedState),(d=Ii||rb(e,n,d,r,m,A,c)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,A,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,A,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),s.props=r,s.state=A,s.context=c,r=d):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return gA(t,e,n,r,i,a)}function gA(t,e,n,r,a,i){D2(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return a&&Xv(e,n,!1),si(t,e,i);r=e.stateNode,WD.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ml(e,t.child,null,i),e.child=Ml(e,null,l,i)):ir(t,e,l,i),e.memoizedState=r.state,a&&Xv(e,n,!0),e.child}function R2(t){var e=t.stateNode;e.pendingContext?Qv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qv(t,e.context,!1),rx(t,e.containerInfo)}function ub(t,e,n,r,a){return jl(),Y0(a),e.flags|=256,ir(t,e,n,r),e.child}var AA={dehydrated:null,treeContext:null,retryLane:0};function xA(t){return{baseLanes:t,cachePool:null,transitions:null}}function P2(t,e,n){var r=e.pendingProps,a=rn.current,i=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),qt(rn,a&1),t===null)return dA(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,i?(r=e.mode,i=e.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Bp(s,r,0,null),t=Ys(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=xA(n),e.memoizedState=AA,t):ux(e,s));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return $D(t,e,s,r,l,a,n);if(i){i=r.fallback,s=e.mode,a=t.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&e.child!==a?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ji(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Ji(l,i):(i=Ys(i,s,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=t.child.memoizedState,s=s===null?xA(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~n,e.memoizedState=AA,r}return i=t.child,t=i.sibling,r=Ji(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ux(t,e){return e=Bp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gh(t,e,n,r){return r!==null&&Y0(r),Ml(e,t.child,null,n),t=ux(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $D(t,e,n,r,a,i,s){if(n)return e.flags&256?(e.flags&=-257,r=Ym(Error(_e(422))),gh(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,a=e.mode,r=Bp({mode:"visible",children:r.children},a,0,null),i=Ys(i,a,s,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ml(e,t.child,null,s),e.child.memoizedState=xA(s),e.memoizedState=AA,i);if(!(e.mode&1))return gh(t,e,s,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(_e(419)),r=Ym(i,r,void 0),gh(t,e,s,r)}if(l=(s&t.childLanes)!==0,br||l){if(r=kn,r!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ii(t,a),ua(r,t,a,-1))}return Ax(),r=Ym(Error(_e(421))),gh(t,e,s,r)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=aR.bind(null,t),a._reactRetry=e,null):(t=i.treeContext,jr=Qi(a.nextSibling),Lr=e,Yt=!0,la=null,t!==null&&(qr[Hr++]=qa,qr[Hr++]=Ha,qr[Hr++]=no,qa=t.id,Ha=t.overflow,no=e),e=ux(e,r.children),e.flags|=4096,e)}function hb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),uA(t.return,e,n)}function Jm(t,e,n,r,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function j2(t,e,n){var r=e.pendingProps,a=r.revealOrder,i=r.tail;if(ir(t,e,r.children,n),r=rn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hb(t,n,e);else if(t.tag===19)hb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qt(rn,r),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(n=e.child,a=null;n!==null;)t=n.alternate,t!==null&&Df(t)===null&&(a=n),n=n.sibling;n=a,n===null?(a=e.child,e.child=null):(a=n.sibling,n.sibling=null),Jm(e,!1,a,n,i);break;case"backwards":for(n=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Df(t)===null){e.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}Jm(e,!0,n,null,i);break;case"together":Jm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function si(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ao|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(_e(153));if(e.child!==null){for(t=e.child,n=Ji(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ji(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function qD(t,e,n){switch(e.tag){case 3:R2(e),jl();break;case 5:s2(e);break;case 1:Cr(e.type)&&Ef(e);break;case 4:rx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,a=e.memoizedProps.value;qt(Sf,r._currentValue),r._currentValue=a;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qt(rn,rn.current&1),e.flags|=128,null):n&e.child.childLanes?P2(t,e,n):(qt(rn,rn.current&1),t=si(t,e,n),t!==null?t.sibling:null);qt(rn,rn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return j2(t,e,n);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),qt(rn,rn.current),r)break;return null;case 22:case 23:return e.lanes=0,k2(t,e,n)}return si(t,e,n)}var M2,yA,L2,F2;M2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yA=function(){};L2=function(t,e,n,r){var a=t.memoizedProps;if(a!==r){t=e.stateNode,Ws(Ia.current);var i=null;switch(n){case"input":a=Vg(t,a),r=Vg(t,r),i=[];break;case"select":a=sn({},a,{value:void 0}),r=sn({},r,{value:void 0}),i=[];break;case"textarea":a=Wg(t,a),r=Wg(t,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_f)}qg(n,r);var s;n=null;for(d in a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(kd.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=a!=null?a[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(kd.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Qt("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};F2=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ic(t,e){if(!Yt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Kn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function HD(t,e,n){var r=e.pendingProps;switch(K0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(e),null;case 1:return Cr(e.type)&&Cf(),Kn(e),null;case 3:return r=e.stateNode,Ll(),Xt(_r),Xt(nr),ix(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ph(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,la!==null&&(TA(la),la=null))),yA(t,e),Kn(e),null;case 5:ax(e);var a=Ws(Ud.current);if(n=e.type,t!==null&&e.stateNode!=null)L2(t,e,n,r,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(_e(166));return Kn(e),null}if(t=Ws(Ia.current),ph(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[wa]=e,r[zd]=i,t=(e.mode&1)!==0,n){case"dialog":Qt("cancel",r),Qt("close",r);break;case"iframe":case"object":case"embed":Qt("load",r);break;case"video":case"audio":for(a=0;a<Gc.length;a++)Qt(Gc[a],r);break;case"source":Qt("error",r);break;case"img":case"image":case"link":Qt("error",r),Qt("load",r);break;case"details":Qt("toggle",r);break;case"input":bv(r,i),Qt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Qt("invalid",r);break;case"textarea":_v(r,i),Qt("invalid",r)}qg(n,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&fh(r.textContent,l,t),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&fh(r.textContent,l,t),a=["children",""+l]):kd.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Qt("scroll",r)}switch(n){case"input":ih(r),wv(r,i,!0);break;case"textarea":ih(r),Cv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=_f)}r=a,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[wa]=e,t[zd]=r,M2(t,e,!1,!1),e.stateNode=t;e:{switch(s=Hg(n,r),n){case"dialog":Qt("cancel",t),Qt("close",t),a=r;break;case"iframe":case"object":case"embed":Qt("load",t),a=r;break;case"video":case"audio":for(a=0;a<Gc.length;a++)Qt(Gc[a],t);a=r;break;case"source":Qt("error",t),a=r;break;case"img":case"image":case"link":Qt("error",t),Qt("load",t),a=r;break;case"details":Qt("toggle",t),a=r;break;case"input":bv(t,r),a=Vg(t,r),Qt("invalid",t);break;case"option":a=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},a=sn({},r,{value:void 0}),Qt("invalid",t);break;case"textarea":_v(t,r),a=Wg(t,r),Qt("invalid",t);break;default:a=r}qg(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?pC(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&hC(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Dd(t,c):typeof c=="number"&&Dd(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(kd.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Qt("scroll",t):c!=null&&M0(t,i,c,s))}switch(n){case"input":ih(t),wv(t,r,!1);break;case"textarea":ih(t),Cv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+as(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?xl(t,!!r.multiple,i,!1):r.defaultValue!=null&&xl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=_f)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kn(e),null;case 6:if(t&&e.stateNode!=null)F2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(_e(166));if(n=Ws(Ud.current),Ws(Ia.current),ph(e)){if(r=e.stateNode,n=e.memoizedProps,r[wa]=e,(i=r.nodeValue!==n)&&(t=Lr,t!==null))switch(t.tag){case 3:fh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wa]=e,e.stateNode=r}return Kn(e),null;case 13:if(Xt(rn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Yt&&jr!==null&&e.mode&1&&!(e.flags&128))t2(),jl(),e.flags|=98560,i=!1;else if(i=ph(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(_e(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(_e(317));i[wa]=e}else jl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Kn(e),i=!1}else la!==null&&(TA(la),la=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rn.current&1?_n===0&&(_n=3):Ax())),e.updateQueue!==null&&(e.flags|=4),Kn(e),null);case 4:return Ll(),yA(t,e),t===null&&Od(e.stateNode.containerInfo),Kn(e),null;case 10:return ex(e.type._context),Kn(e),null;case 17:return Cr(e.type)&&Cf(),Kn(e),null;case 19:if(Xt(rn),i=e.memoizedState,i===null)return Kn(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Ic(i,!1);else{if(_n!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Df(t),s!==null){for(e.flags|=128,Ic(i,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qt(rn,rn.current&1|2),e.child}t=t.sibling}i.tail!==null&&hn()>Ol&&(e.flags|=128,r=!0,Ic(i,!1),e.lanes=4194304)}else{if(!r)if(t=Df(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ic(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Yt)return Kn(e),null}else 2*hn()-i.renderingStartTime>Ol&&n!==1073741824&&(e.flags|=128,r=!0,Ic(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=hn(),e.sibling=null,n=rn.current,qt(rn,r?n&1|2:n&1),e):(Kn(e),null);case 22:case 23:return gx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Dr&1073741824&&(Kn(e),e.subtreeFlags&6&&(e.flags|=8192)):Kn(e),null;case 24:return null;case 25:return null}throw Error(_e(156,e.tag))}function QD(t,e){switch(K0(e),e.tag){case 1:return Cr(e.type)&&Cf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ll(),Xt(_r),Xt(nr),ix(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ax(e),null;case 13:if(Xt(rn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(_e(340));jl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xt(rn),null;case 4:return Ll(),null;case 10:return ex(e.type._context),null;case 22:case 23:return gx(),null;case 24:return null;default:return null}}var Ah=!1,Zn=!1,XD=typeof WeakSet=="function"?WeakSet:Set,Me=null;function cl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){cn(t,e,r)}else n.current=null}function vA(t,e,n){try{n()}catch(r){cn(t,e,r)}}var fb=!1;function KD(t,e){if(rA=vf,t=UC(),Q0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,c=-1,d=0,u=0,h=t,m=null;t:for(;;){for(var p;h!==n||a!==0&&h.nodeType!==3||(l=s+a),h!==i||r!==0&&h.nodeType!==3||(c=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===t)break t;if(m===n&&++d===a&&(l=s),m===i&&++u===r&&(c=s),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(aA={focusedElem:t,selectionRange:n},vf=!1,Me=e;Me!==null;)if(e=Me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Me=t;else for(;Me!==null;){e=Me;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var g=A.memoizedProps,b=A.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:sa(e.type,g),b);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(S){cn(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Me=t;break}Me=e.return}return A=fb,fb=!1,A}function cd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&vA(e,n,i)}a=a.next}while(a!==r)}}function Fp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function bA(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function O2(t){var e=t.alternate;e!==null&&(t.alternate=null,O2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wa],delete e[zd],delete e[oA],delete e[RD],delete e[PD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function B2(t){return t.tag===5||t.tag===3||t.tag===4}function pb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||B2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wA(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_f));else if(r!==4&&(t=t.child,t!==null))for(wA(t,e,n),t=t.sibling;t!==null;)wA(t,e,n),t=t.sibling}function _A(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_A(t,e,n),t=t.sibling;t!==null;)_A(t,e,n),t=t.sibling}var Mn=null,oa=!1;function yi(t,e,n){for(n=n.child;n!==null;)z2(t,e,n),n=n.sibling}function z2(t,e,n){if(Sa&&typeof Sa.onCommitFiberUnmount=="function")try{Sa.onCommitFiberUnmount(Ip,n)}catch{}switch(n.tag){case 5:Zn||cl(n,e);case 6:var r=Mn,a=oa;Mn=null,yi(t,e,n),Mn=r,oa=a,Mn!==null&&(oa?(t=Mn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Mn.removeChild(n.stateNode));break;case 18:Mn!==null&&(oa?(t=Mn,n=n.stateNode,t.nodeType===8?$m(t.parentNode,n):t.nodeType===1&&$m(t,n),Md(t)):$m(Mn,n.stateNode));break;case 4:r=Mn,a=oa,Mn=n.stateNode.containerInfo,oa=!0,yi(t,e,n),Mn=r,oa=a;break;case 0:case 11:case 14:case 15:if(!Zn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&vA(n,e,s),a=a.next}while(a!==r)}yi(t,e,n);break;case 1:if(!Zn&&(cl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){cn(n,e,l)}yi(t,e,n);break;case 21:yi(t,e,n);break;case 22:n.mode&1?(Zn=(r=Zn)||n.memoizedState!==null,yi(t,e,n),Zn=r):yi(t,e,n);break;default:yi(t,e,n)}}function mb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new XD),e.forEach(function(r){var a=iR.bind(null,t,r);n.has(r)||(n.add(r),r.then(a,a))})}}function ia(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:Mn=l.stateNode,oa=!1;break e;case 3:Mn=l.stateNode.containerInfo,oa=!0;break e;case 4:Mn=l.stateNode.containerInfo,oa=!0;break e}l=l.return}if(Mn===null)throw Error(_e(160));z2(i,s,a),Mn=null,oa=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){cn(a,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)V2(e,t),e=e.sibling}function V2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ia(e,t),xa(t),r&4){try{cd(3,t,t.return),Fp(3,t)}catch(g){cn(t,t.return,g)}try{cd(5,t,t.return)}catch(g){cn(t,t.return,g)}}break;case 1:ia(e,t),xa(t),r&512&&n!==null&&cl(n,n.return);break;case 5:if(ia(e,t),xa(t),r&512&&n!==null&&cl(n,n.return),t.flags&32){var a=t.stateNode;try{Dd(a,"")}catch(g){cn(t,t.return,g)}}if(r&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&cC(a,i),Hg(l,s);var d=Hg(l,i);for(s=0;s<c.length;s+=2){var u=c[s],h=c[s+1];u==="style"?pC(a,h):u==="dangerouslySetInnerHTML"?hC(a,h):u==="children"?Dd(a,h):M0(a,u,h,d)}switch(l){case"input":Ug(a,i);break;case"textarea":dC(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?xl(a,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?xl(a,!!i.multiple,i.defaultValue,!0):xl(a,!!i.multiple,i.multiple?[]:"",!1))}a[zd]=i}catch(g){cn(t,t.return,g)}}break;case 6:if(ia(e,t),xa(t),r&4){if(t.stateNode===null)throw Error(_e(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(g){cn(t,t.return,g)}}break;case 3:if(ia(e,t),xa(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Md(e.containerInfo)}catch(g){cn(t,t.return,g)}break;case 4:ia(e,t),xa(t);break;case 13:ia(e,t),xa(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(px=hn())),r&4&&mb(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Zn=(d=Zn)||u,ia(e,t),Zn=d):ia(e,t),xa(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(Me=t,u=t.child;u!==null;){for(h=Me=u;Me!==null;){switch(m=Me,p=m.child,m.tag){case 0:case 11:case 14:case 15:cd(4,m,m.return);break;case 1:cl(m,m.return);var A=m.stateNode;if(typeof A.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(g){cn(r,n,g)}}break;case 5:cl(m,m.return);break;case 22:if(m.memoizedState!==null){Ab(h);continue}}p!==null?(p.return=m,Me=p):Ab(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=fC("display",s))}catch(g){cn(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){cn(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ia(e,t),xa(t),r&4&&mb(t);break;case 21:break;default:ia(e,t),xa(t)}}function xa(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(B2(n)){var r=n;break e}n=n.return}throw Error(_e(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Dd(a,""),r.flags&=-33);var i=pb(t);_A(t,i,a);break;case 3:case 4:var s=r.stateNode.containerInfo,l=pb(t);wA(t,l,s);break;default:throw Error(_e(161))}}catch(c){cn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function YD(t,e,n){Me=t,U2(t)}function U2(t,e,n){for(var r=(t.mode&1)!==0;Me!==null;){var a=Me,i=a.child;if(a.tag===22&&r){var s=a.memoizedState!==null||Ah;if(!s){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Zn;l=Ah;var d=Zn;if(Ah=s,(Zn=c)&&!d)for(Me=a;Me!==null;)s=Me,c=s.child,s.tag===22&&s.memoizedState!==null?xb(a):c!==null?(c.return=s,Me=c):xb(a);for(;i!==null;)Me=i,U2(i),i=i.sibling;Me=a,Ah=l,Zn=d}gb(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Me=i):gb(t)}}function gb(t){for(;Me!==null;){var e=Me;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zn||Fp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Zn)if(n===null)r.componentDidMount();else{var a=e.elementType===e.type?n.memoizedProps:sa(e.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&eb(e,i,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}eb(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Md(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}Zn||e.flags&512&&bA(e)}catch(m){cn(e,e.return,m)}}if(e===t){Me=null;break}if(n=e.sibling,n!==null){n.return=e.return,Me=n;break}Me=e.return}}function Ab(t){for(;Me!==null;){var e=Me;if(e===t){Me=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Me=n;break}Me=e.return}}function xb(t){for(;Me!==null;){var e=Me;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fp(4,e)}catch(c){cn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var a=e.return;try{r.componentDidMount()}catch(c){cn(e,a,c)}}var i=e.return;try{bA(e)}catch(c){cn(e,i,c)}break;case 5:var s=e.return;try{bA(e)}catch(c){cn(e,s,c)}}}catch(c){cn(e,e.return,c)}if(e===t){Me=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Me=l;break}Me=e.return}}var JD=Math.ceil,jf=di.ReactCurrentDispatcher,hx=di.ReactCurrentOwner,Yr=di.ReactCurrentBatchConfig,St=0,kn=null,An=null,On=0,Dr=0,dl=ms(0),_n=0,qd=null,ao=0,Op=0,fx=0,dd=null,Ar=null,px=0,Ol=1/0,za=null,Mf=!1,CA=null,Ki=null,xh=!1,Ui=null,Lf=0,ud=0,EA=null,$h=-1,qh=0;function lr(){return St&6?hn():$h!==-1?$h:$h=hn()}function Yi(t){return t.mode&1?St&2&&On!==0?On&-On:MD.transition!==null?(qh===0&&(qh=NC()),qh):(t=Vt,t!==0||(t=window.event,t=t===void 0?16:PC(t.type)),t):1}function ua(t,e,n,r){if(50<ud)throw ud=0,EA=null,Error(_e(185));Au(t,n,r),(!(St&2)||t!==kn)&&(t===kn&&(!(St&2)&&(Op|=n),_n===4&&Mi(t,On)),Er(t,r),n===1&&St===0&&!(e.mode&1)&&(Ol=hn()+500,jp&&gs()))}function Er(t,e){var n=t.callbackNode;Mk(t,e);var r=yf(t,t===kn?On:0);if(r===0)n!==null&&Tv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Tv(n),e===1)t.tag===0?jD(yb.bind(null,t)):JC(yb.bind(null,t)),kD(function(){!(St&6)&&gs()}),n=null;else{switch(TC(r)){case 1:n=z0;break;case 4:n=CC;break;case 16:n=xf;break;case 536870912:n=EC;break;default:n=xf}n=K2(n,G2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function G2(t,e){if($h=-1,qh=0,St&6)throw Error(_e(327));var n=t.callbackNode;if(_l()&&t.callbackNode!==n)return null;var r=yf(t,t===kn?On:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ff(t,r);else{e=r;var a=St;St|=2;var i=$2();(kn!==t||On!==e)&&(za=null,Ol=hn()+500,Ks(t,e));do try{tR();break}catch(l){W2(t,l)}while(!0);Z0(),jf.current=i,St=a,An!==null?e=0:(kn=null,On=0,e=_n)}if(e!==0){if(e===2&&(a=Jg(t),a!==0&&(r=a,e=NA(t,a))),e===1)throw n=qd,Ks(t,0),Mi(t,r),Er(t,hn()),n;if(e===6)Mi(t,r);else{if(a=t.current.alternate,!(r&30)&&!ZD(a)&&(e=Ff(t,r),e===2&&(i=Jg(t),i!==0&&(r=i,e=NA(t,i))),e===1))throw n=qd,Ks(t,0),Mi(t,r),Er(t,hn()),n;switch(t.finishedWork=a,t.finishedLanes=r,e){case 0:case 1:throw Error(_e(345));case 2:Ds(t,Ar,za);break;case 3:if(Mi(t,r),(r&130023424)===r&&(e=px+500-hn(),10<e)){if(yf(t,0)!==0)break;if(a=t.suspendedLanes,(a&r)!==r){lr(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=sA(Ds.bind(null,t,Ar,za),e);break}Ds(t,Ar,za);break;case 4:if(Mi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,a=-1;0<r;){var s=31-da(r);i=1<<s,s=e[s],s>a&&(a=s),r&=~i}if(r=a,r=hn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*JD(r/1960))-r,10<r){t.timeoutHandle=sA(Ds.bind(null,t,Ar,za),r);break}Ds(t,Ar,za);break;case 5:Ds(t,Ar,za);break;default:throw Error(_e(329))}}}return Er(t,hn()),t.callbackNode===n?G2.bind(null,t):null}function NA(t,e){var n=dd;return t.current.memoizedState.isDehydrated&&(Ks(t,e).flags|=256),t=Ff(t,e),t!==2&&(e=Ar,Ar=n,e!==null&&TA(e)),t}function TA(t){Ar===null?Ar=t:Ar.push.apply(Ar,t)}function ZD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!pa(i(),a))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mi(t,e){for(e&=~fx,e&=~Op,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-da(e),r=1<<n;t[n]=-1,e&=~r}}function yb(t){if(St&6)throw Error(_e(327));_l();var e=yf(t,0);if(!(e&1))return Er(t,hn()),null;var n=Ff(t,e);if(t.tag!==0&&n===2){var r=Jg(t);r!==0&&(e=r,n=NA(t,r))}if(n===1)throw n=qd,Ks(t,0),Mi(t,e),Er(t,hn()),n;if(n===6)throw Error(_e(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ds(t,Ar,za),Er(t,hn()),null}function mx(t,e){var n=St;St|=1;try{return t(e)}finally{St=n,St===0&&(Ol=hn()+500,jp&&gs())}}function io(t){Ui!==null&&Ui.tag===0&&!(St&6)&&_l();var e=St;St|=1;var n=Yr.transition,r=Vt;try{if(Yr.transition=null,Vt=1,t)return t()}finally{Vt=r,Yr.transition=n,St=e,!(St&6)&&gs()}}function gx(){Dr=dl.current,Xt(dl)}function Ks(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ID(n)),An!==null)for(n=An.return;n!==null;){var r=n;switch(K0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cf();break;case 3:Ll(),Xt(_r),Xt(nr),ix();break;case 5:ax(r);break;case 4:Ll();break;case 13:Xt(rn);break;case 19:Xt(rn);break;case 10:ex(r.type._context);break;case 22:case 23:gx()}n=n.return}if(kn=t,An=t=Ji(t.current,null),On=Dr=e,_n=0,qd=null,fx=Op=ao=0,Ar=dd=null,Gs!==null){for(e=0;e<Gs.length;e++)if(n=Gs[e],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=a,r.next=s}n.pending=r}Gs=null}return t}function W2(t,e){do{var n=An;try{if(Z0(),Uh.current=Pf,Rf){for(var r=an.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Rf=!1}if(ro=0,Sn=bn=an=null,ld=!1,Gd=0,hx.current=null,n===null||n.return===null){_n=1,qd=e,An=null;break}e:{var i=t,s=n.return,l=n,c=e;if(e=On,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=sb(s);if(p!==null){p.flags&=-257,ob(p,s,l,i,e),p.mode&1&&ib(i,d,e),e=p,c=d;var A=e.updateQueue;if(A===null){var g=new Set;g.add(c),e.updateQueue=g}else A.add(c);break e}else{if(!(e&1)){ib(i,d,e),Ax();break e}c=Error(_e(426))}}else if(Yt&&l.mode&1){var b=sb(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),ob(b,s,l,i,e),Y0(Fl(c,l));break e}}i=c=Fl(c,l),_n!==4&&(_n=2),dd===null?dd=[i]:dd.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=T2(i,c,e);Zv(i,x);break e;case 1:l=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ki===null||!Ki.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=S2(i,l,e);Zv(i,S);break e}}i=i.return}while(i!==null)}H2(n)}catch(k){e=k,An===n&&n!==null&&(An=n=n.return);continue}break}while(!0)}function $2(){var t=jf.current;return jf.current=Pf,t===null?Pf:t}function Ax(){(_n===0||_n===3||_n===2)&&(_n=4),kn===null||!(ao&268435455)&&!(Op&268435455)||Mi(kn,On)}function Ff(t,e){var n=St;St|=2;var r=$2();(kn!==t||On!==e)&&(za=null,Ks(t,e));do try{eR();break}catch(a){W2(t,a)}while(!0);if(Z0(),St=n,jf.current=r,An!==null)throw Error(_e(261));return kn=null,On=0,_n}function eR(){for(;An!==null;)q2(An)}function tR(){for(;An!==null&&!Nk();)q2(An)}function q2(t){var e=X2(t.alternate,t,Dr);t.memoizedProps=t.pendingProps,e===null?H2(t):An=e,hx.current=null}function H2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=QD(n,e),n!==null){n.flags&=32767,An=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_n=6,An=null;return}}else if(n=HD(n,e,Dr),n!==null){An=n;return}if(e=e.sibling,e!==null){An=e;return}An=e=t}while(e!==null);_n===0&&(_n=5)}function Ds(t,e,n){var r=Vt,a=Yr.transition;try{Yr.transition=null,Vt=1,nR(t,e,n,r)}finally{Yr.transition=a,Vt=r}return null}function nR(t,e,n,r){do _l();while(Ui!==null);if(St&6)throw Error(_e(327));n=t.finishedWork;var a=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(_e(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Lk(t,i),t===kn&&(An=kn=null,On=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xh||(xh=!0,K2(xf,function(){return _l(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Yr.transition,Yr.transition=null;var s=Vt;Vt=1;var l=St;St|=4,hx.current=null,KD(t,n),V2(n,t),wD(aA),vf=!!rA,aA=rA=null,t.current=n,YD(n),Tk(),St=l,Vt=s,Yr.transition=i}else t.current=n;if(xh&&(xh=!1,Ui=t,Lf=a),i=t.pendingLanes,i===0&&(Ki=null),kk(n.stateNode),Er(t,hn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)a=e[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Mf)throw Mf=!1,t=CA,CA=null,t;return Lf&1&&t.tag!==0&&_l(),i=t.pendingLanes,i&1?t===EA?ud++:(ud=0,EA=t):ud=0,gs(),null}function _l(){if(Ui!==null){var t=TC(Lf),e=Yr.transition,n=Vt;try{if(Yr.transition=null,Vt=16>t?16:t,Ui===null)var r=!1;else{if(t=Ui,Ui=null,Lf=0,St&6)throw Error(_e(331));var a=St;for(St|=4,Me=t.current;Me!==null;){var i=Me,s=i.child;if(Me.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Me=d;Me!==null;){var u=Me;switch(u.tag){case 0:case 11:case 15:cd(8,u,i)}var h=u.child;if(h!==null)h.return=u,Me=h;else for(;Me!==null;){u=Me;var m=u.sibling,p=u.return;if(O2(u),u===d){Me=null;break}if(m!==null){m.return=p,Me=m;break}Me=p}}}var A=i.alternate;if(A!==null){var g=A.child;if(g!==null){A.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}Me=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Me=s;else e:for(;Me!==null;){if(i=Me,i.flags&2048)switch(i.tag){case 0:case 11:case 15:cd(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Me=x;break e}Me=i.return}}var y=t.current;for(Me=y;Me!==null;){s=Me;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Me=w;else e:for(s=y;Me!==null;){if(l=Me,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Fp(9,l)}}catch(k){cn(l,l.return,k)}if(l===s){Me=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,Me=S;break e}Me=l.return}}if(St=a,gs(),Sa&&typeof Sa.onPostCommitFiberRoot=="function")try{Sa.onPostCommitFiberRoot(Ip,t)}catch{}r=!0}return r}finally{Vt=n,Yr.transition=e}}return!1}function vb(t,e,n){e=Fl(n,e),e=T2(t,e,1),t=Xi(t,e,1),e=lr(),t!==null&&(Au(t,1,e),Er(t,e))}function cn(t,e,n){if(t.tag===3)vb(t,t,n);else for(;e!==null;){if(e.tag===3){vb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ki===null||!Ki.has(r))){t=Fl(n,t),t=S2(e,t,1),e=Xi(e,t,1),t=lr(),e!==null&&(Au(e,1,t),Er(e,t));break}}e=e.return}}function rR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=lr(),t.pingedLanes|=t.suspendedLanes&n,kn===t&&(On&n)===n&&(_n===4||_n===3&&(On&130023424)===On&&500>hn()-px?Ks(t,0):fx|=n),Er(t,e)}function Q2(t,e){e===0&&(t.mode&1?(e=lh,lh<<=1,!(lh&130023424)&&(lh=4194304)):e=1);var n=lr();t=ii(t,e),t!==null&&(Au(t,e,n),Er(t,n))}function aR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Q2(t,n)}function iR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,a=t.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(_e(314))}r!==null&&r.delete(e),Q2(t,n)}var X2;X2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_r.current)br=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return br=!1,qD(t,e,n);br=!!(t.flags&131072)}else br=!1,Yt&&e.flags&1048576&&ZC(e,Tf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wh(t,e),t=e.pendingProps;var a=Pl(e,nr.current);wl(e,n),a=ox(null,e,r,t,a,n);var i=lx();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Cr(r)?(i=!0,Ef(e)):i=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,nx(e),a.updater=Lp,e.stateNode=a,a._reactInternals=e,fA(e,r,t,n),e=gA(null,e,r,!0,i,n)):(e.tag=0,Yt&&i&&X0(e),ir(null,e,a,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wh(t,e),t=e.pendingProps,a=r._init,r=a(r._payload),e.type=r,a=e.tag=oR(r),t=sa(r,t),a){case 0:e=mA(null,e,r,t,n);break e;case 1:e=db(null,e,r,t,n);break e;case 11:e=lb(null,e,r,t,n);break e;case 14:e=cb(null,e,r,sa(r.type,t),n);break e}throw Error(_e(306,r,""))}return e;case 0:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:sa(r,a),mA(t,e,r,a,n);case 1:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:sa(r,a),db(t,e,r,a,n);case 3:e:{if(R2(e),t===null)throw Error(_e(387));r=e.pendingProps,i=e.memoizedState,a=i.element,i2(t,e),kf(e,r,null,n);var s=e.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){a=Fl(Error(_e(423)),e),e=ub(t,e,r,n,a);break e}else if(r!==a){a=Fl(Error(_e(424)),e),e=ub(t,e,r,n,a);break e}else for(jr=Qi(e.stateNode.containerInfo.firstChild),Lr=e,Yt=!0,la=null,n=r2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jl(),r===a){e=si(t,e,n);break e}ir(t,e,r,n)}e=e.child}return e;case 5:return s2(e),t===null&&dA(e),r=e.type,a=e.pendingProps,i=t!==null?t.memoizedProps:null,s=a.children,iA(r,a)?s=null:i!==null&&iA(r,i)&&(e.flags|=32),D2(t,e),ir(t,e,s,n),e.child;case 6:return t===null&&dA(e),null;case 13:return P2(t,e,n);case 4:return rx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ml(e,null,r,n):ir(t,e,r,n),e.child;case 11:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:sa(r,a),lb(t,e,r,a,n);case 7:return ir(t,e,e.pendingProps,n),e.child;case 8:return ir(t,e,e.pendingProps.children,n),e.child;case 12:return ir(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,a=e.pendingProps,i=e.memoizedProps,s=a.value,qt(Sf,r._currentValue),r._currentValue=s,i!==null)if(pa(i.value,s)){if(i.children===a.children&&!_r.current){e=si(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Za(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),uA(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(_e(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),uA(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}ir(t,e,a.children,n),e=e.child}return e;case 9:return a=e.type,r=e.pendingProps.children,wl(e,n),a=Zr(a),r=r(a),e.flags|=1,ir(t,e,r,n),e.child;case 14:return r=e.type,a=sa(r,e.pendingProps),a=sa(r.type,a),cb(t,e,r,a,n);case 15:return I2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:sa(r,a),Wh(t,e),e.tag=1,Cr(r)?(t=!0,Ef(e)):t=!1,wl(e,n),N2(e,r,a),fA(e,r,a,n),gA(null,e,r,!0,t,n);case 19:return j2(t,e,n);case 22:return k2(t,e,n)}throw Error(_e(156,e.tag))};function K2(t,e){return _C(t,e)}function sR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(t,e,n,r){return new sR(t,e,n,r)}function xx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oR(t){if(typeof t=="function")return xx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===F0)return 11;if(t===O0)return 14}return 2}function Ji(t,e){var n=t.alternate;return n===null?(n=Xr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hh(t,e,n,r,a,i){var s=2;if(r=t,typeof t=="function")xx(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case el:return Ys(n.children,a,i,e);case L0:s=8,a|=8;break;case Fg:return t=Xr(12,n,e,a|2),t.elementType=Fg,t.lanes=i,t;case Og:return t=Xr(13,n,e,a),t.elementType=Og,t.lanes=i,t;case Bg:return t=Xr(19,n,e,a),t.elementType=Bg,t.lanes=i,t;case sC:return Bp(n,a,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case aC:s=10;break e;case iC:s=9;break e;case F0:s=11;break e;case O0:s=14;break e;case Si:s=16,r=null;break e}throw Error(_e(130,t==null?t:typeof t,""))}return e=Xr(s,n,e,a),e.elementType=t,e.type=r,e.lanes=i,e}function Ys(t,e,n,r){return t=Xr(7,t,r,e),t.lanes=n,t}function Bp(t,e,n,r){return t=Xr(22,t,r,e),t.elementType=sC,t.lanes=n,t.stateNode={isHidden:!1},t}function Zm(t,e,n){return t=Xr(6,t,null,e),t.lanes=n,t}function eg(t,e,n){return e=Xr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lR(t,e,n,r,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jm(0),this.expirationTimes=jm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jm(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function yx(t,e,n,r,a,i,s,l,c){return t=new lR(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Xr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nx(i),t}function cR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Y2(t){if(!t)return is;t=t._reactInternals;e:{if(_o(t)!==t||t.tag!==1)throw Error(_e(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Cr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(_e(171))}if(t.tag===1){var n=t.type;if(Cr(n))return YC(t,n,e)}return e}function J2(t,e,n,r,a,i,s,l,c){return t=yx(n,r,!0,t,a,i,s,l,c),t.context=Y2(null),n=t.current,r=lr(),a=Yi(n),i=Za(r,a),i.callback=e??null,Xi(n,i,a),t.current.lanes=a,Au(t,a,r),Er(t,r),t}function zp(t,e,n,r){var a=e.current,i=lr(),s=Yi(a);return n=Y2(n),e.context===null?e.context=n:e.pendingContext=n,e=Za(i,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xi(a,e,s),t!==null&&(ua(t,a,s,i),Vh(t,a,s)),s}function Of(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vx(t,e){bb(t,e),(t=t.alternate)&&bb(t,e)}function dR(){return null}var Z2=typeof reportError=="function"?reportError:function(t){console.error(t)};function bx(t){this._internalRoot=t}Vp.prototype.render=bx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(_e(409));zp(t,e,null,null)};Vp.prototype.unmount=bx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;io(function(){zp(null,t,null,null)}),e[ai]=null}};function Vp(t){this._internalRoot=t}Vp.prototype.unstable_scheduleHydration=function(t){if(t){var e=kC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ji.length&&e!==0&&e<ji[n].priority;n++);ji.splice(n,0,t),n===0&&RC(t)}};function wx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Up(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wb(){}function uR(t,e,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var d=Of(s);i.call(d)}}var s=J2(e,r,t,0,null,!1,!1,"",wb);return t._reactRootContainer=s,t[ai]=s.current,Od(t.nodeType===8?t.parentNode:t),io(),s}for(;a=t.lastChild;)t.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var d=Of(c);l.call(d)}}var c=yx(t,0,!1,null,null,!1,!1,"",wb);return t._reactRootContainer=c,t[ai]=c.current,Od(t.nodeType===8?t.parentNode:t),io(function(){zp(e,c,n,r)}),c}function Gp(t,e,n,r,a){var i=n._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var l=a;a=function(){var c=Of(s);l.call(c)}}zp(e,s,t,a)}else s=uR(n,e,t,a,r);return Of(s)}SC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Uc(e.pendingLanes);n!==0&&(V0(e,n|1),Er(e,hn()),!(St&6)&&(Ol=hn()+500,gs()))}break;case 13:io(function(){var r=ii(t,1);if(r!==null){var a=lr();ua(r,t,1,a)}}),vx(t,1)}};U0=function(t){if(t.tag===13){var e=ii(t,134217728);if(e!==null){var n=lr();ua(e,t,134217728,n)}vx(t,134217728)}};IC=function(t){if(t.tag===13){var e=Yi(t),n=ii(t,e);if(n!==null){var r=lr();ua(n,t,e,r)}vx(t,e)}};kC=function(){return Vt};DC=function(t,e){var n=Vt;try{return Vt=t,e()}finally{Vt=n}};Xg=function(t,e,n){switch(e){case"input":if(Ug(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var a=Pp(r);if(!a)throw Error(_e(90));lC(r),Ug(r,a)}}}break;case"textarea":dC(t,n);break;case"select":e=n.value,e!=null&&xl(t,!!n.multiple,e,!1)}};AC=mx;xC=io;var hR={usingClientEntryPoint:!1,Events:[yu,al,Pp,mC,gC,mx]},kc={findFiberByHostInstance:Us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fR={bundleType:kc.bundleType,version:kc.version,rendererPackageName:kc.rendererPackageName,rendererConfig:kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:di.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bC(t),t===null?null:t.stateNode},findFiberByHostInstance:kc.findFiberByHostInstance||dR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yh.isDisabled&&yh.supportsFiber)try{Ip=yh.inject(fR),Sa=yh}catch{}}zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hR;zr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wx(e))throw Error(_e(200));return cR(t,e,null,n)};zr.createRoot=function(t,e){if(!wx(t))throw Error(_e(299));var n=!1,r="",a=Z2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=yx(t,1,!1,null,null,n,!1,r,a),t[ai]=e.current,Od(t.nodeType===8?t.parentNode:t),new bx(e)};zr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(_e(188)):(t=Object.keys(t).join(","),Error(_e(268,t)));return t=bC(e),t=t===null?null:t.stateNode,t};zr.flushSync=function(t){return io(t)};zr.hydrate=function(t,e,n){if(!Up(e))throw Error(_e(200));return Gp(null,t,e,!0,n)};zr.hydrateRoot=function(t,e,n){if(!wx(t))throw Error(_e(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",s=Z2;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=J2(e,null,t,1,n??null,a,!1,i,s),t[ai]=e.current,Od(t),r)for(t=0;t<r.length;t++)n=r[t],a=n._getVersion,a=a(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,a]:e.mutableSourceEagerHydrationData.push(n,a);return new Vp(e)};zr.render=function(t,e,n){if(!Up(e))throw Error(_e(200));return Gp(null,t,e,!1,n)};zr.unmountComponentAtNode=function(t){if(!Up(t))throw Error(_e(40));return t._reactRootContainer?(io(function(){Gp(null,null,t,!1,function(){t._reactRootContainer=null,t[ai]=null})}),!0):!1};zr.unstable_batchedUpdates=mx;zr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Up(n))throw Error(_e(200));if(t==null||t._reactInternals===void 0)throw Error(_e(38));return Gp(t,e,n,!1,r)};zr.version="18.3.1-next-f1338f8080-20240426";function eE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eE)}catch(t){console.error(t)}}eE(),eC.exports=zr;var $s=eC.exports,_b=$s;Mg.createRoot=_b.createRoot,Mg.hydrateRoot=_b.hydrateRoot;function ma(){return ma=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ma.apply(this,arguments)}function pR(t,e){if(t){if(typeof t=="string")return Cb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cb(t,e)}}function Cb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tE(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=pR(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Qe;(function(t){t.Hour="Hour",t.QuarterDay="Quarter Day",t.HalfDay="Half Day",t.Day="Day",t.Week="Week",t.Month="Month",t.Year="Year"})(Qe||(Qe={}));var Eb={},Bf=function(e,n){n===void 0&&(n={});var r=JSON.stringify([e,n]),a=Eb[r];return a||(a=new Intl.DateTimeFormat(e,n),Eb[r]=a),a},ln=function(e,n,r){var a=new Date(e.getFullYear()+(r==="year"?n:0),e.getMonth()+(r==="month"?n:0),e.getDate()+(r==="day"?n:0),e.getHours()+(r==="hour"?n:0),e.getMinutes()+(r==="minute"?n:0),e.getSeconds()+(r==="second"?n:0),e.getMilliseconds()+(r==="millisecond"?n:0));return a},mr=function(e,n){var r=["millisecond","second","minute","hour","day","month","year"],a=function(l){var c=r.indexOf(n);return r.indexOf(l)<=c},i=new Date(e.getFullYear(),a("year")?0:e.getMonth(),a("month")?1:e.getDate(),a("day")?0:e.getHours(),a("hour")?0:e.getMinutes(),a("minute")?0:e.getSeconds(),a("second")?0:e.getMilliseconds());return i},Nb=function(e,n,r){for(var a=e[0].start,i=e[0].start,s=tE(e),l;!(l=s()).done;){var c=l.value;c.start<a&&(a=c.start),c.end>i&&(i=c.end)}switch(n){case Qe.Year:a=ln(a,-1,"year"),a=mr(a,"year"),i=ln(i,1,"year"),i=mr(i,"year");break;case Qe.Month:a=ln(a,-1*r,"month"),a=mr(a,"month"),i=ln(i,1,"year"),i=mr(i,"year");break;case Qe.Week:a=mr(a,"day"),a=ln(mR(a),-7*r,"day"),i=mr(i,"day"),i=ln(i,1.5,"month");break;case Qe.Day:a=mr(a,"day"),a=ln(a,-1*r,"day"),i=mr(i,"day"),i=ln(i,19,"day");break;case Qe.QuarterDay:a=mr(a,"day"),a=ln(a,-1*r,"day"),i=mr(i,"day"),i=ln(i,66,"hour");break;case Qe.HalfDay:a=mr(a,"day"),a=ln(a,-1*r,"day"),i=mr(i,"day"),i=ln(i,108,"hour");break;case Qe.Hour:a=mr(a,"hour"),a=ln(a,-1*r,"hour"),i=mr(i,"day"),i=ln(i,1,"day");break}return[a,i]},Tb=function(e,n,r){for(var a=new Date(e),i=[a];a<n;){switch(r){case Qe.Year:a=ln(a,1,"year");break;case Qe.Month:a=ln(a,1,"month");break;case Qe.Week:a=ln(a,7,"day");break;case Qe.Day:a=ln(a,1,"day");break;case Qe.HalfDay:a=ln(a,12,"hour");break;case Qe.QuarterDay:a=ln(a,6,"hour");break;case Qe.Hour:a=ln(a,1,"hour");break}i.push(a)}return i},Dc=function(e,n){var r=Bf(n,{month:"long"}).format(e);return r=r.replace(r[0],r[0].toLocaleUpperCase()),r},tg=function(e,n,r){var a=Bf(n,{weekday:r}).format(e);return a=a.replace(a[0],a[0].toLocaleUpperCase()),a},mR=function(e){var n=e.getDay(),r=e.getDate()-n+(n===0?-6:1);return new Date(e.setDate(r))},gR=function(e){var n=new Date(e.valueOf()),r=(n.getDay()+6)%7;n.setDate(n.getDate()-r+3);var a=n.valueOf();n.setMonth(0,1),n.getDay()!==4&&n.setMonth(0,1+(4-n.getDay()+7)%7);var i=(1+Math.ceil((a-n.valueOf())/6048e5)).toString();return i.length===1?"0"+i:i},AR=function(e,n){return new Date(n,e+1,0).getDate()},Cs={ganttTable:"_3_ygE",ganttTable_Header:"_1nBOt",ganttTable_HeaderSeparator:"_2eZzQ",ganttTable_HeaderItem:"_WuQ0f"},xR=function(e){var n=e.headerHeight,r=e.fontFamily,a=e.fontSize,i=e.rowWidth;return ue.createElement("div",{className:Cs.ganttTable,style:{fontFamily:r,fontSize:a}},ue.createElement("div",{className:Cs.ganttTable_Header,style:{height:n-2}},ue.createElement("div",{className:Cs.ganttTable_HeaderItem,style:{minWidth:i}},"Name"),ue.createElement("div",{className:Cs.ganttTable_HeaderSeparator,style:{height:n*.5,marginTop:n*.2}}),ue.createElement("div",{className:Cs.ganttTable_HeaderItem,style:{minWidth:i}},"From"),ue.createElement("div",{className:Cs.ganttTable_HeaderSeparator,style:{height:n*.5,marginTop:n*.25}}),ue.createElement("div",{className:Cs.ganttTable_HeaderItem,style:{minWidth:i}},"To")))},vi={taskListWrapper:"_3ZbQT",taskListTableRow:"_34SS0",taskListCell:"_3lLk3",taskListNameWrapper:"_nI1Xw",taskListExpander:"_2QjE6",taskListEmptyExpander:"_2TfEi"},Sb={},yR=function(e){return function(n,r){var a=n.toString(),i=Sb[a];return i||(i=n.toLocaleDateString(e,r),Sb[a]=i),i}},Ib={weekday:"short",year:"numeric",month:"long",day:"numeric"},vR=function(e){var n=e.rowHeight,r=e.rowWidth,a=e.tasks,i=e.fontFamily,s=e.fontSize,l=e.locale,c=e.onExpanderClick,d=L.useMemo(function(){return yR(l)},[l]);return ue.createElement("div",{className:vi.taskListWrapper,style:{fontFamily:i,fontSize:s}},a.map(function(u){var h="";return u.hideChildren===!1?h="":u.hideChildren===!0&&(h=""),ue.createElement("div",{className:vi.taskListTableRow,style:{height:n},key:u.id+"row"},ue.createElement("div",{className:vi.taskListCell,style:{minWidth:r,maxWidth:r},title:u.name},ue.createElement("div",{className:vi.taskListNameWrapper},ue.createElement("div",{className:h?vi.taskListExpander:vi.taskListEmptyExpander,onClick:function(){return c(u)}},h),ue.createElement("div",null,u.name))),ue.createElement("div",{className:vi.taskListCell,style:{minWidth:r,maxWidth:r}},"",d(u.start,Ib)),ue.createElement("div",{className:vi.taskListCell,style:{minWidth:r,maxWidth:r}},"",d(u.end,Ib)))}))},hd={tooltipDefaultContainer:"_3T42e",tooltipDefaultContainerParagraph:"_29NTg",tooltipDetailsContainer:"_25P-K",tooltipDetailsContainerHidden:"_3gVAq"},bR=function(e){var n=e.task,r=e.rowHeight,a=e.rtl,i=e.svgContainerHeight,s=e.svgContainerWidth,l=e.scrollX,c=e.scrollY,d=e.arrowIndent,u=e.fontSize,h=e.fontFamily,m=e.headerHeight,p=e.taskListWidth,A=e.TooltipContent,g=L.useRef(null),b=L.useState(0),x=b[0],y=b[1],w=L.useState(0),S=w[0],k=w[1];return L.useEffect(function(){if(g.current){var P=g.current.offsetHeight*1.1,E=g.current.offsetWidth*1.1,N=n.index*r-c+m,C;if(a){C=n.x1-d*1.5-E-l,C<0&&(C=n.x2+d*1.5-l);var R=E+C;R>s&&(C=s-E,N+=r)}else{C=n.x2+d*1.5+p-l;var j=E+C,_=p+s;j>_&&(C=n.x1+p-d*1.5-l-E),C<p&&(C=s+p-E,N+=r)}var D=P+N-c;D>i-c&&(N=i-P),y(N),k(C)}},[g,n,d,l,c,m,p,r,i,s,a]),ue.createElement("div",{ref:g,className:S?hd.tooltipDetailsContainer:hd.tooltipDetailsContainerHidden,style:{left:S,top:x}},ue.createElement(A,{task:n,fontSize:u,fontFamily:h}))},wR=function(e){var n=e.task,r=e.fontSize,a=e.fontFamily,i={fontSize:r,fontFamily:a};return ue.createElement("div",{className:hd.tooltipDefaultContainer,style:i},ue.createElement("b",{style:{fontSize:r+6}},n.name+": "+n.start.getDate()+"-"+(n.start.getMonth()+1)+"-"+n.start.getFullYear()+" - "+n.end.getDate()+"-"+(n.end.getMonth()+1)+"-"+n.end.getFullYear()),n.end.getTime()-n.start.getTime()!==0&&ue.createElement("p",{className:hd.tooltipDefaultContainerParagraph},"Duration: "+~~((n.end.getTime()-n.start.getTime())/(1e3*60*60*24))+" day(s)"),ue.createElement("p",{className:hd.tooltipDefaultContainerParagraph},!!n.progress&&"Progress: "+n.progress+" %"))},_R={scroll:"_1eT-t"},CR=function(e){var n=e.scroll,r=e.ganttHeight,a=e.ganttFullHeight,i=e.headerHeight,s=e.rtl,l=e.onScroll,c=L.useRef(null);return L.useEffect(function(){c.current&&(c.current.scrollTop=n)},[n]),ue.createElement("div",{style:{height:r,marginTop:i,marginLeft:s?"":"-1rem"},className:_R.scroll,onScroll:l,ref:c},ue.createElement("div",{style:{height:a,width:1}}))},ER=function(e){var n=e.headerHeight,r=e.fontFamily,a=e.fontSize,i=e.rowWidth,s=e.rowHeight,l=e.scrollY,c=e.tasks,d=e.selectedTask,u=e.setSelectedTask,h=e.onExpanderClick,m=e.locale,p=e.ganttHeight,A=e.taskListRef,g=e.horizontalContainerClass,b=e.TaskListHeader,x=e.TaskListTable,y=L.useRef(null);L.useEffect(function(){y.current&&(y.current.scrollTop=l)},[l]);var w={headerHeight:n,fontFamily:r,fontSize:a,rowWidth:i},S=d?d.id:"",k={rowHeight:s,rowWidth:i,fontFamily:r,fontSize:a,tasks:c,locale:m,selectedTaskId:S,setSelectedTask:u,onExpanderClick:h};return ue.createElement("div",{ref:A},ue.createElement(b,Object.assign({},w)),ue.createElement("div",{ref:y,className:g,style:p?{height:p}:{}},ue.createElement(x,Object.assign({},k))))},vh={gridRow:"_2dZTy",gridRowLine:"_3rUKi",gridTick:"_RuwuK"},NR=function(e){for(var n=e.tasks,r=e.dates,a=e.rowHeight,i=e.svgWidth,s=e.columnWidth,l=e.todayColor,c=e.rtl,d=0,u=[],h=[ue.createElement("line",{key:"RowLineFirst",x:"0",y1:0,x2:i,y2:0,className:vh.gridRowLine})],m=tE(n),p;!(p=m()).done;){var A=p.value;u.push(ue.createElement("rect",{key:"Row"+A.id,x:"0",y:d,width:i,height:a,className:vh.gridRow})),h.push(ue.createElement("line",{key:"RowLine"+A.id,x:"0",y1:d+a,x2:i,y2:d+a,className:vh.gridRowLine})),d+=a}for(var g=new Date,b=0,x=[],y=ue.createElement("rect",null),w=0;w<r.length;w++){var S=r[w];x.push(ue.createElement("line",{key:S.getTime(),x1:b,y1:0,x2:b,y2:d,className:vh.gridTick})),(w+1!==r.length&&S.getTime()<g.getTime()&&r[w+1].getTime()>=g.getTime()||w!==0&&w+1===r.length&&S.getTime()<g.getTime()&&ln(S,S.getTime()-r[w-1].getTime(),"millisecond").getTime()>=g.getTime())&&(y=ue.createElement("rect",{x:b,y:0,width:s,height:d,fill:l})),c&&w+1!==r.length&&S.getTime()>=g.getTime()&&r[w+1].getTime()<g.getTime()&&(y=ue.createElement("rect",{x:b+s,y:0,width:s,height:d,fill:l})),b+=s}return ue.createElement("g",{className:"gridBody"},ue.createElement("g",{className:"rows"},u),ue.createElement("g",{className:"rowLines"},h),ue.createElement("g",{className:"ticks"},x),ue.createElement("g",{className:"today"},y))},TR=function(e){return ue.createElement("g",{className:"grid"},ue.createElement(NR,Object.assign({},e)))},Va={calendarBottomText:"_9w8d5",calendarTopTick:"_1rLuZ",calendarTopText:"_2q1Kt",calendarHeader:"_35nLX"},Lo=function(e){var n=e.value,r=e.x1Line,a=e.y1Line,i=e.y2Line,s=e.xText,l=e.yText;return ue.createElement("g",{className:"calendarTop"},ue.createElement("line",{x1:r,y1:a,x2:r,y2:i,className:Va.calendarTopTick,key:n+"line"}),ue.createElement("text",{key:n+"text",y:l,x:s,className:Va.calendarTopText},n))},SR=function(e){var n=e.dateSetup,r=e.locale,a=e.viewMode,i=e.rtl,s=e.headerHeight,l=e.columnWidth,c=e.fontFamily,d=e.fontSize,u=function(){for(var C=[],R=[],j=s*.5,_=0;_<n.dates.length;_++){var D=n.dates[_],v=D.getFullYear();if(R.push(ue.createElement("text",{key:D.getFullYear(),y:s*.8,x:l*_+l*.5,className:Va.calendarBottomText},v)),_===0||D.getFullYear()!==n.dates[_-1].getFullYear()){var O=D.getFullYear().toString(),V=void 0;i?V=(6+_+D.getFullYear()+1)*l:V=(6+_-D.getFullYear())*l,C.push(ue.createElement(Lo,{key:O,value:O,x1Line:l*_,y1Line:0,y2Line:s,xText:V,yText:j*.9}))}}return[C,R]},h=function(){for(var C=[],R=[],j=s*.5,_=0;_<n.dates.length;_++){var D=n.dates[_],v=Dc(D,r);if(R.push(ue.createElement("text",{key:v+D.getFullYear(),y:s*.8,x:l*_+l*.5,className:Va.calendarBottomText},v)),_===0||D.getFullYear()!==n.dates[_-1].getFullYear()){var O=D.getFullYear().toString(),V=void 0;i?V=(6+_+D.getMonth()+1)*l:V=(6+_-D.getMonth())*l,C.push(ue.createElement(Lo,{key:O,value:O,x1Line:l*_,y1Line:0,y2Line:j,xText:V,yText:j*.9}))}}return[C,R]},m=function(){for(var C=[],R=[],j=1,_=s*.5,D=n.dates,v=D.length-1;v>=0;v--){var O=D[v],V="";(v===0||O.getMonth()!==D[v-1].getMonth())&&(V=Dc(O,r)+", "+O.getFullYear());var G="W"+gR(O);R.push(ue.createElement("text",{key:O.getTime(),y:s*.8,x:l*(v+ +i),className:Va.calendarBottomText},G)),V&&(v!==D.length-1&&C.push(ue.createElement(Lo,{key:V,value:V,x1Line:l*v+j*l,y1Line:0,y2Line:_,xText:l*v+l*j*.5,yText:_*.9})),j=0),j++}return[C,R]},p=function(){for(var C=[],R=[],j=s*.5,_=n.dates,D=0;D<_.length;D++){var v=_[D],O=tg(v,r,"short")+", "+v.getDate().toString();if(R.push(ue.createElement("text",{key:v.getTime(),y:s*.8,x:l*D+l*.5,className:Va.calendarBottomText},O)),D+1!==_.length&&v.getMonth()!==_[D+1].getMonth()){var V=Dc(v,r);C.push(ue.createElement(Lo,{key:V+v.getFullYear(),value:V,x1Line:l*(D+1),y1Line:0,y2Line:j,xText:l*(D+1)-AR(v.getMonth(),v.getFullYear())*l*.5,yText:j*.9}))}}return[C,R]},A=function(){for(var C=[],R=[],j=a===Qe.HalfDay?2:4,_=s*.5,D=n.dates,v=0;v<D.length;v++){var O=D[v],V=Bf(r,{hour:"numeric"}).format(O);if(R.push(ue.createElement("text",{key:O.getTime(),y:s*.8,x:l*(v+ +i),className:Va.calendarBottomText,fontFamily:c},V)),v===0||O.getDate()!==D[v-1].getDate()){var G=tg(O,r,"short")+", "+O.getDate()+" "+Dc(O,r);C.push(ue.createElement(Lo,{key:G+O.getFullYear(),value:G,x1Line:l*v+j*l,y1Line:0,y2Line:_,xText:l*v+j*l*.5,yText:_*.9}))}}return[C,R]},g=function(){for(var C=[],R=[],j=s*.5,_=n.dates,D=0;D<_.length;D++){var v=_[D],O=Bf(r,{hour:"numeric"}).format(v);if(R.push(ue.createElement("text",{key:v.getTime(),y:s*.8,x:l*(D+ +i),className:Va.calendarBottomText,fontFamily:c},O)),D!==0&&v.getDate()!==_[D-1].getDate()){var V=_[D-1],G=tg(V,r,"long")+", "+V.getDate()+" "+Dc(V,r),Q=(v.getHours()-24)/2;C.push(ue.createElement(Lo,{key:G+V.getFullYear(),value:G,x1Line:l*D,y1Line:0,y2Line:j,xText:l*(D+Q),yText:j*.9}))}}return[C,R]},b=[],x=[];switch(n.viewMode){case Qe.Year:var y=u();b=y[0],x=y[1];break;case Qe.Month:var w=h();b=w[0],x=w[1];break;case Qe.Week:var S=m();b=S[0],x=S[1];break;case Qe.Day:var k=p();b=k[0],x=k[1];break;case Qe.QuarterDay:case Qe.HalfDay:var P=A();b=P[0],x=P[1];break;case Qe.Hour:var E=g();b=E[0],x=E[1]}return ue.createElement("g",{className:"calendar",fontSize:d,fontFamily:c},ue.createElement("rect",{x:0,y:0,width:l*n.dates.length,height:s,className:Va.calendarHeader}),x," ",b)};typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function ng(t,e){try{var n=t()}catch(r){return e(r)}return n&&n.then?n.then(void 0,e):n}var IR=function(e){var n=e.taskFrom,r=e.taskTo,a=e.rowHeight,i=e.taskHeight,s=e.arrowIndent,l=e.rtl,c,d;if(l){var u=DR(n,r,a,i,s);c=u[0],d=u[1]}else{var h=kR(n,r,a,i,s);c=h[0],d=h[1]}return ue.createElement("g",{className:"arrow"},ue.createElement("path",{strokeWidth:"1.5",d:c,fill:"none"}),ue.createElement("polygon",{points:d}))},kR=function(e,n,r,a,i){var s=e.index>n.index?-1:1,l=n.y+a/2,c=e.x2+i*2,d=c<n.x1?"":"H "+(n.x1-i),u=c>n.x1?i:n.x1-e.x2-i,h="M "+e.x2+" "+(e.y+a/2)+` 
  h `+i+` 
  v `+s*r/2+` 
  `+d+`
  V `+l+` 
  h `+u,m=n.x1+","+l+` 
  `+(n.x1-5)+","+(l-5)+` 
  `+(n.x1-5)+","+(l+5);return[h,m]},DR=function(e,n,r,a,i){var s=e.index>n.index?-1:1,l=n.y+a/2,c=e.x1-i*2,d=c>n.x2?"":"H "+(n.x2+i),u=c<n.x2?-i:n.x2-e.x1+i,h="M "+e.x1+" "+(e.y+a/2)+` 
  h `+-i+` 
  v `+s*r/2+` 
  `+d+`
  V `+l+` 
  h `+u,m=n.x2+","+l+` 
  `+(n.x2+5)+","+(l+5)+` 
  `+(n.x2+5)+","+(l-5);return[h,m]},RR=function(e,n,r,a,i,s,l,c,d,u,h,m,p,A,g,b,x,y){var w=e.map(function(S,k){return PR(S,k,n,r,a,i,s,l,c,d,u,h,m,p,A,g,b,x,y)});return w=w.map(function(S){for(var k=S.dependencies||[],P=function(C){var R=w.findIndex(function(j){return j.id===k[C]});R!==-1&&w[R].barChildren.push(S)},E=0;E<k.length;E++)P(E);return S}),w},PR=function(e,n,r,a,i,s,l,c,d,u,h,m,p,A,g,b,x,y,w){var S;switch(e.type){case"milestone":S=jR(e,n,r,a,i,s,l,c,y,w);break;case"project":S=kb(e,n,r,a,i,s,l,c,d,A,g,b,x);break;default:S=kb(e,n,r,a,i,s,l,c,d,u,h,m,p);break}return S},kb=function(e,n,r,a,i,s,l,c,d,u,h,m,p){var A,g;d?(g=Db(e.start,r,a),A=Db(e.end,r,a)):(A=zf(e.start,r,a),g=zf(e.end,r,a));var b=e.type;b==="task"&&g-A<c*2&&(b="smalltask",g=A+c*2);var x=Wc(A,g,e.progress,d),y=x[0],w=x[1],S=nE(n,i,s),k=e.type==="project"?e.hideChildren:void 0,P=ma({backgroundColor:m,backgroundSelectedColor:p,progressColor:u,progressSelectedColor:h},e.styles);return ma({},e,{typeInternal:b,x1:A,x2:g,y:S,index:n,progressX:w,progressWidth:y,barCornerRadius:l,handleWidth:c,hideChildren:k,height:s,barChildren:[],styles:P})},jR=function(e,n,r,a,i,s,l,c,d,u){var h=zf(e.start,r,a),m=nE(n,i,s),p=h-s*.5,A=h+s*.5,g=s/1.414,b=ma({backgroundColor:d,backgroundSelectedColor:u,progressColor:"",progressSelectedColor:""},e.styles);return ma({},e,{end:e.start,x1:p,x2:A,y:m,index:n,progressX:0,progressWidth:0,barCornerRadius:l,handleWidth:c,typeInternal:e.type,progress:0,height:g,hideChildren:void 0,barChildren:[],styles:b})},zf=function(e,n,r){var a=n.findIndex(function(c){return c.getTime()>=e.getTime()})-1,i=e.getTime()-n[a].getTime(),s=i/(n[a+1].getTime()-n[a].getTime()),l=a*r+s*r;return l},Db=function(e,n,r){var a=zf(e,n,r);return a+=r,a},nE=function(e,n,r){var a=e*n+(n-r)/2;return a},Wc=function(e,n,r,a){var i=(n-e)*r*.01,s;return a?s=n-i:s=e,[i,s]},MR=function(e,n){if(e>=n.x2)return 100;if(e<=n.x1)return 0;var r=n.x2-n.x1,a=Math.round((e-n.x1)*100/r);return a},LR=function(e,n){if(e>=n.x2)return 0;if(e<=n.x1)return 100;var r=n.x2-n.x1,a=Math.round((n.x2-e)*100/r);return a},rE=function(e,n,r){var a=[e-5,n+r,e+5,n+r,e,n+r-8.66];return a.join(",")},FR=function(e,n,r){e>=r.x2-r.handleWidth*2&&(e=r.x2-r.handleWidth*2);var a=Math.round((e-r.x1)/n),i=a*n,s=r.x1+i;return s},OR=function(e,n,r){e<=r.x1+r.handleWidth*2&&(e=r.x1+r.handleWidth*2);var a=Math.round((e-r.x2)/n),i=a*n,s=r.x2+i;return s},aE=function(e,n,r){var a=Math.round((e-r.x1)/n),i=a*n,s=r.x1+i,l=s+r.x2-r.x1;return[s,l]},Rs=function(e,n,r,a,i){var s=new Date((e-n)/a*i+r.getTime());return s=new Date(s.getTime()+(s.getTimezoneOffset()-r.getTimezoneOffset())*6e4),s},Rb=function(e,n,r,a,i,s,l){var c;switch(r.type){case"milestone":c=zR(e,n,r,a,i,s);break;default:c=BR(e,n,r,a,i,s,l);break}return c},BR=function(e,n,r,a,i,s,l){var c=ma({},r),d=!1;switch(n){case"progress":if(l?c.progress=LR(e,r):c.progress=MR(e,r),d=c.progress!==r.progress,d){var u=Wc(c.x1,c.x2,c.progress,l),h=u[0],m=u[1];c.progressWidth=h,c.progressX=m}break;case"start":{var p=FR(e,a,r);if(c.x1=p,d=c.x1!==r.x1,d){l?c.end=Rs(p,r.x1,r.end,a,i):c.start=Rs(p,r.x1,r.start,a,i);var A=Wc(c.x1,c.x2,c.progress,l),g=A[0],b=A[1];c.progressWidth=g,c.progressX=b}break}case"end":{var x=OR(e,a,r);if(c.x2=x,d=c.x2!==r.x2,d){l?c.start=Rs(x,r.x2,r.start,a,i):c.end=Rs(x,r.x2,r.end,a,i);var y=Wc(c.x1,c.x2,c.progress,l),w=y[0],S=y[1];c.progressWidth=w,c.progressX=S}break}case"move":{var k=aE(e-s,a,r),P=k[0],E=k[1];if(d=P!==r.x1,d){c.start=Rs(P,r.x1,r.start,a,i),c.end=Rs(E,r.x2,r.end,a,i),c.x1=P,c.x2=E;var N=Wc(c.x1,c.x2,c.progress,l),C=N[0],R=N[1];c.progressWidth=C,c.progressX=R}break}}return{isChanged:d,changedTask:c}},zR=function(e,n,r,a,i,s){var l=ma({},r),c=!1;switch(n){case"move":{var d=aE(e-s,a,r),u=d[0],h=d[1];c=u!==r.x1,c&&(l.start=Rs(u,r.x1,r.start,a,i),l.end=l.start,l.x1=u,l.x2=h);break}}return{isChanged:c,changedTask:l}};function VR(t){return t.key!==void 0}function UR(t){var e=t.filter(function(a){return a.hideChildren&&a.type==="project"});if(e.length>0)for(var n=function(i){var s=e[i],l=iE(t,s);t=t.filter(function(c){return l.indexOf(c)===-1})},r=0;e.length>r;r++)n(r);return t}function iE(t,e){var n=[];e.type!=="project"?n=t.filter(function(a){return a.dependencies&&a.dependencies.indexOf(e.id)!==-1}):n=t.filter(function(a){return a.project&&a.project===e.id});var r=[];return n.forEach(function(a){r.push.apply(r,iE(t,a))}),n=n.concat(n,r),n}var GR=function(e,n){var r=e.displayOrder||Number.MAX_VALUE,a=n.displayOrder||Number.MAX_VALUE;return r>a?1:r<a?-1:0},bu={barWrapper:"_KxSXS",barHandle:"_3w_5u",barBackground:"_31ERP"},sE=function(e){var n=e.x,r=e.y,a=e.width,i=e.height,s=e.isSelected,l=e.progressX,c=e.progressWidth,d=e.barCornerRadius,u=e.styles,h=e.onMouseDown,m=function(){return s?u.progressSelectedColor:u.progressColor},p=function(){return s?u.backgroundSelectedColor:u.backgroundColor};return ue.createElement("g",{onMouseDown:h},ue.createElement("rect",{x:n,width:a,y:r,height:i,ry:d,rx:d,fill:p(),className:bu.barBackground}),ue.createElement("rect",{x:l,width:c,y:r,height:i,ry:d,rx:d,fill:m()}))},Pb=function(e){var n=e.x,r=e.y,a=e.width,i=e.height,s=e.barCornerRadius,l=e.onMouseDown;return ue.createElement("rect",{x:n,y:r,width:a,height:i,className:bu.barHandle,ry:s,rx:s,onMouseDown:l})},oE=function(e){var n=e.progressPoint,r=e.onMouseDown;return ue.createElement("polygon",{className:bu.barHandle,points:n,onMouseDown:r})},WR=function(e){var n=e.task,r=e.isProgressChangeable,a=e.isDateChangeable,i=e.rtl,s=e.onEventStart,l=e.isSelected,c=rE(+!i*n.progressWidth+n.progressX,n.y,n.height),d=n.height-2;return ue.createElement("g",{className:bu.barWrapper,tabIndex:0},ue.createElement(sE,{x:n.x1,y:n.y,width:n.x2-n.x1,height:n.height,progressX:n.progressX,progressWidth:n.progressWidth,barCornerRadius:n.barCornerRadius,styles:n.styles,isSelected:l,onMouseDown:function(h){a&&s("move",n,h)}}),ue.createElement("g",{className:"handleGroup"},a&&ue.createElement("g",null,ue.createElement(Pb,{x:n.x1+1,y:n.y+1,width:n.handleWidth,height:d,barCornerRadius:n.barCornerRadius,onMouseDown:function(h){s("start",n,h)}}),ue.createElement(Pb,{x:n.x2-n.handleWidth-1,y:n.y+1,width:n.handleWidth,height:d,barCornerRadius:n.barCornerRadius,onMouseDown:function(h){s("end",n,h)}})),r&&ue.createElement(oE,{progressPoint:c,onMouseDown:function(h){s("progress",n,h)}})))},$R=function(e){var n=e.task,r=e.isProgressChangeable,a=e.isDateChangeable,i=e.onEventStart,s=e.isSelected,l=rE(n.progressWidth+n.x1,n.y,n.height);return ue.createElement("g",{className:bu.barWrapper,tabIndex:0},ue.createElement(sE,{x:n.x1,y:n.y,width:n.x2-n.x1,height:n.height,progressX:n.progressX,progressWidth:n.progressWidth,barCornerRadius:n.barCornerRadius,styles:n.styles,isSelected:s,onMouseDown:function(d){a&&i("move",n,d)}}),ue.createElement("g",{className:"handleGroup"},r&&ue.createElement(oE,{progressPoint:l,onMouseDown:function(d){i("progress",n,d)}})))},jb={milestoneWrapper:"_RRr13",milestoneBackground:"_2P2B1"},qR=function(e){var n=e.task,r=e.isDateChangeable,a=e.onEventStart,i=e.isSelected,s="rotate(45 "+(n.x1+n.height*.356)+` 
    `+(n.y+n.height*.85)+")",l=function(){return i?n.styles.backgroundSelectedColor:n.styles.backgroundColor};return ue.createElement("g",{tabIndex:0,className:jb.milestoneWrapper},ue.createElement("rect",{fill:l(),x:n.x1,width:n.height,y:n.y,height:n.height,rx:n.barCornerRadius,ry:n.barCornerRadius,transform:s,className:jb.milestoneBackground,onMouseDown:function(d){r&&a("move",n,d)}}))},Rc={projectWrapper:"_1KJ6x",projectBackground:"_2RbVy",projectTop:"_2pZMF"},HR=function(e){var n=e.task,r=e.isSelected,a=r?n.styles.backgroundSelectedColor:n.styles.backgroundColor,i=r?n.styles.progressSelectedColor:n.styles.progressColor,s=n.x2-n.x1,l=[n.x1,n.y+n.height/2-1,n.x1,n.y+n.height,n.x1+15,n.y+n.height/2-1].join(","),c=[n.x2,n.y+n.height/2-1,n.x2,n.y+n.height,n.x2-15,n.y+n.height/2-1].join(",");return ue.createElement("g",{tabIndex:0,className:Rc.projectWrapper},ue.createElement("rect",{fill:a,x:n.x1,width:s,y:n.y,height:n.height,rx:n.barCornerRadius,ry:n.barCornerRadius,className:Rc.projectBackground}),ue.createElement("rect",{x:n.progressX,width:n.progressWidth,y:n.y,height:n.height,ry:n.barCornerRadius,rx:n.barCornerRadius,fill:i}),ue.createElement("rect",{fill:a,x:n.x1,width:s,y:n.y,height:n.height/2,rx:n.barCornerRadius,ry:n.barCornerRadius,className:Rc.projectTop}),ue.createElement("polygon",{className:Rc.projectTop,points:l,fill:a}),ue.createElement("polygon",{className:Rc.projectTop,points:c,fill:a}))},Mb={barLabel:"_3zRJQ",barLabelOutside:"_3KcaM"},QR=function(e){var n=ma({},e),r=n.task,a=n.arrowIndent,i=n.isDelete,s=n.taskHeight,l=n.isSelected,c=n.rtl,d=n.onEventStart,u=L.useRef(null),h=L.useState(ue.createElement("div",null)),m=h[0],p=h[1],A=L.useState(!0),g=A[0],b=A[1];L.useEffect(function(){switch(r.typeInternal){case"milestone":p(ue.createElement(qR,Object.assign({},e)));break;case"project":p(ue.createElement(HR,Object.assign({},e)));break;case"smalltask":p(ue.createElement($R,Object.assign({},e)));break;default:p(ue.createElement(WR,Object.assign({},e)));break}},[r,l]),L.useEffect(function(){u.current&&b(u.current.getBBox().width<r.x2-r.x1)},[u,r]);var x=function(){var w=r.x2-r.x1,S=r.barChildren.length>0;return g?r.x1+w*.5:c&&u.current?r.x1-u.current.getBBox().width-a*+S-a*.2:r.x1+w+a*+S+a*.2};return ue.createElement("g",{onKeyDown:function(w){switch(w.key){case"Delete":{i&&d("delete",r,w);break}}w.stopPropagation()},onMouseEnter:function(w){d("mouseenter",r,w)},onMouseLeave:function(w){d("mouseleave",r,w)},onDoubleClick:function(w){d("dblclick",r,w)},onClick:function(w){d("click",r,w)},onFocus:function(){d("select",r)}},m,ue.createElement("text",{x:x(),y:r.y+s*.5,className:g?Mb.barLabel:Mb.barLabelOutside,ref:u},r.name))},XR=function(e){var n,r=e.tasks,a=e.dates,i=e.ganttEvent,s=e.selectedTask,l=e.rowHeight,c=e.columnWidth,d=e.timeStep,u=e.svg,h=e.taskHeight,m=e.arrowColor,p=e.arrowIndent,A=e.fontFamily,g=e.fontSize,b=e.rtl,x=e.setGanttEvent,y=e.setFailedTask,w=e.setSelectedTask,S=e.onDateChange,k=e.onProgressChange,P=e.onDoubleClick,E=e.onClick,N=e.onDelete,C=u==null||(n=u.current)===null||n===void 0?void 0:n.createSVGPoint(),R=L.useState(0),j=R[0],_=R[1],D=L.useState(0),v=D[0],O=D[1],V=L.useState(!1),G=V[0],Q=V[1];L.useEffect(function(){var ne=a[1].getTime()-a[0].getTime()-a[1].getTimezoneOffset()*60*1e3+a[0].getTimezoneOffset()*60*1e3,X=d*c/ne;_(X)},[c,a,d]),L.useEffect(function(){var ne=function(ce){try{var ie;if(!i.changedTask||!C||!(u!=null&&u.current))return Promise.resolve();ce.preventDefault(),C.x=ce.clientX;var oe=C.matrixTransform(u==null||(ie=u.current.getScreenCTM())===null||ie===void 0?void 0:ie.inverse()),pe=Rb(oe.x,i.action,i.changedTask,j,d,v,b),Pe=pe.isChanged,ye=pe.changedTask;return Pe&&x({action:i.action,changedTask:ye}),Promise.resolve()}catch(ge){return Promise.reject(ge)}},X=function K(ce){try{var ie,oe=function(){xe||y(Pe)},pe=i.action,Pe=i.originalSelectedTask,ye=i.changedTask;if(!ye||!C||!(u!=null&&u.current)||!Pe)return Promise.resolve();ce.preventDefault(),C.x=ce.clientX;var ge=C.matrixTransform(u==null||(ie=u.current.getScreenCTM())===null||ie===void 0?void 0:ie.inverse()),Se=Rb(ge.x,pe,ye,j,d,v,b),ve=Se.changedTask,Ae=Pe.start!==ve.start||Pe.end!==ve.end||Pe.progress!==ve.progress;u.current.removeEventListener("mousemove",ne),u.current.removeEventListener("mouseup",K),x({action:""}),Q(!1);var xe=!0,I=function(){if((pe==="move"||pe==="end"||pe==="start")&&S&&Ae){var Y=ng(function(){return Promise.resolve(S(ve,ve.barChildren)).then(function(F){F!==void 0&&(xe=F)})},function(){xe=!1});if(Y&&Y.then)return Y.then(function(){})}else{var q=function(){if(k&&Ae){var F=ng(function(){return Promise.resolve(k(ve,ve.barChildren)).then(function(B){B!==void 0&&(xe=B)})},function(){xe=!1});if(F&&F.then)return F.then(function(){})}}();if(q&&q.then)return q.then(function(){})}}();return Promise.resolve(I&&I.then?I.then(oe):oe(I))}catch(Y){return Promise.reject(Y)}};!G&&(i.action==="move"||i.action==="end"||i.action==="start"||i.action==="progress")&&u!==null&&u!==void 0&&u.current&&(u.current.addEventListener("mousemove",ne),u.current.addEventListener("mouseup",X),Q(!0))},[i,j,v,k,d,S,u,G,C,b,y,x]);var H=function(X,K,ce){try{return Promise.resolve(function(){if(!ce)X==="select"&&w(K.id);else return function(){if(VR(ce)){var ie=function(){if(X==="delete"){var Pe=function(){if(N){var ye=ng(function(){return Promise.resolve(N(K)).then(function(ge){ge!==void 0&&ge&&x({action:X,changedTask:K})})},function(ge){console.error("Error on Delete. "+ge)});if(ye&&ye.then)return ye.then(function(){})}}();if(Pe&&Pe.then)return Pe.then(function(){})}}();if(ie&&ie.then)return ie.then(function(){})}else if(X==="mouseenter")i.action||x({action:X,changedTask:K,originalSelectedTask:K});else if(X==="mouseleave")i.action==="mouseenter"&&x({action:""});else if(X==="dblclick")P&&P(K);else if(X==="click")E&&E(K);else if(X==="move"){var oe;if(!(u!=null&&u.current)||!C)return;C.x=ce.clientX;var pe=C.matrixTransform((oe=u.current.getScreenCTM())===null||oe===void 0?void 0:oe.inverse());O(pe.x-K.x1),x({action:X,changedTask:K,originalSelectedTask:K})}else x({action:X,changedTask:K,originalSelectedTask:K})}()}())}catch(ie){return Promise.reject(ie)}};return ue.createElement("g",{className:"content"},ue.createElement("g",{className:"arrows",fill:m,stroke:m},r.map(function(ne){return ne.barChildren.map(function(X){return ue.createElement(IR,{key:"Arrow from "+ne.id+" to "+r[X.index].id,taskFrom:ne,taskTo:r[X.index],rowHeight:l,taskHeight:h,arrowIndent:p,rtl:b})})})),ue.createElement("g",{className:"bar",fontFamily:A,fontSize:g},r.map(function(ne){return ue.createElement(QR,{task:ne,arrowIndent:p,taskHeight:h,isProgressChangeable:!!k&&!ne.isDisabled,isDateChangeable:!!S&&!ne.isDisabled,isDelete:!ne.isDisabled,onEventStart:H,key:ne.id,isSelected:!!s&&ne.id===s.id,rtl:b})})))},Vf={ganttVerticalContainer:"_CZjuD",horizontalContainer:"_2B2zv",wrapper:"_3eULf"},KR=function(e){var n=e.gridProps,r=e.calendarProps,a=e.barProps,i=e.ganttHeight,s=e.scrollY,l=e.scrollX,c=L.useRef(null),d=L.useRef(null),u=L.useRef(null),h=ma({},a,{svg:c});return L.useEffect(function(){d.current&&(d.current.scrollTop=s)},[s]),L.useEffect(function(){u.current&&(u.current.scrollLeft=l)},[l]),ue.createElement("div",{className:Vf.ganttVerticalContainer,ref:u,dir:"ltr"},ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n.svgWidth,height:r.headerHeight,fontFamily:a.fontFamily},ue.createElement(SR,Object.assign({},r))),ue.createElement("div",{ref:d,className:Vf.horizontalContainer,style:i?{height:i,width:n.svgWidth}:{width:n.svgWidth}},ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n.svgWidth,height:a.rowHeight*a.tasks.length,fontFamily:a.fontFamily,ref:c},ue.createElement(TR,Object.assign({},n)),ue.createElement(XR,Object.assign({},h)))))},Lb={scrollWrapper:"_2k9Ys",scroll:"_19jgW"},YR=function(e){var n=e.scroll,r=e.svgWidth,a=e.taskListWidth,i=e.rtl,s=e.onScroll,l=L.useRef(null);return L.useEffect(function(){l.current&&(l.current.scrollLeft=n)},[n]),ue.createElement("div",{dir:"ltr",style:{margin:i?"0px "+a+"px 0px 0px":"0px 0px 0px "+a+"px"},className:Lb.scrollWrapper,onScroll:s,ref:l},ue.createElement("div",{style:{width:r},className:Lb.scroll}))},rg=function(e){var n=e.tasks,r=e.headerHeight,a=r===void 0?50:r,i=e.columnWidth,s=i===void 0?60:i,l=e.listCellWidth,c=l===void 0?"155px":l,d=e.rowHeight,u=d===void 0?50:d,h=e.ganttHeight,m=h===void 0?0:h,p=e.viewMode,A=p===void 0?Qe.Day:p,g=e.preStepsCount,b=g===void 0?1:g,x=e.locale,y=x===void 0?"en-GB":x,w=e.barFill,S=w===void 0?60:w,k=e.barCornerRadius,P=k===void 0?3:k,E=e.barProgressColor,N=E===void 0?"#a3a3ff":E,C=e.barProgressSelectedColor,R=C===void 0?"#8282f5":C,j=e.barBackgroundColor,_=j===void 0?"#b8c2cc":j,D=e.barBackgroundSelectedColor,v=D===void 0?"#aeb8c2":D,O=e.projectProgressColor,V=O===void 0?"#7db59a":O,G=e.projectProgressSelectedColor,Q=G===void 0?"#59a985":G,H=e.projectBackgroundColor,ne=H===void 0?"#fac465":H,X=e.projectBackgroundSelectedColor,K=X===void 0?"#f7bb53":X,ce=e.milestoneBackgroundColor,ie=ce===void 0?"#f1c453":ce,oe=e.milestoneBackgroundSelectedColor,pe=oe===void 0?"#f29e4c":oe,Pe=e.rtl,ye=Pe===void 0?!1:Pe,ge=e.handleWidth,Se=ge===void 0?8:ge,ve=e.timeStep,Ae=ve===void 0?3e5:ve,xe=e.arrowColor,I=xe===void 0?"grey":xe,Y=e.fontFamily,q=Y===void 0?"Arial, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue":Y,F=e.fontSize,B=F===void 0?"14px":F,z=e.arrowIndent,J=z===void 0?20:z,$=e.todayColor,U=$===void 0?"rgba(252, 248, 227, 0.5)":$,te=e.viewDate,Z=e.TooltipContent,re=Z===void 0?wR:Z,fe=e.TaskListHeader,Te=fe===void 0?xR:fe,Ne=e.TaskListTable,$e=Ne===void 0?vR:Ne,pt=e.onDateChange,ot=e.onProgressChange,Be=e.onDoubleClick,Ue=e.onClick,nt=e.onDelete,It=e.onSelect,mt=e.onExpanderClick,Nt=L.useRef(null),ze=L.useRef(null),gt=L.useState(function(){var ct=Nb(n,A,b),Ie=ct[0],Ye=ct[1];return{viewMode:A,dates:Tb(Ie,Ye,A)}}),vt=gt[0],dt=gt[1],tt=L.useState(void 0),Oe=tt[0],lt=tt[1],Ft=L.useState(0),_t=Ft[0],Ot=Ft[1],un=L.useState(0),Tr=un[0],At=un[1],Un=L.useState(m),mn=Un[0],xn=Un[1],kt=L.useState([]),Mt=kt[0],tn=kt[1],Ur=L.useState({action:""}),rr=Ur[0],ja=Ur[1],pi=L.useMemo(function(){return u*S/100},[u,S]),mi=L.useState(),ra=mi[0],Sr=mi[1],ws=L.useState(null),Ma=ws[0],La=ws[1],Gn=vt.dates.length*s,Gr=Mt.length*u,gi=L.useState(0),pr=gi[0],ee=gi[1],ae=L.useState(-1),de=ae[0],Ce=ae[1],Ee=L.useState(!1),qe=Ee[0],Le=Ee[1];L.useEffect(function(){var ct;mt?ct=UR(n):ct=n,ct=ct.sort(GR);var Ie=Nb(ct,A,b),Ye=Ie[0],Ge=Ie[1],rt=Tb(Ye,Ge,A);ye&&(rt=rt.reverse(),de===-1&&Ce(rt.length*s)),dt({dates:rt,viewMode:A}),tn(RR(ct,rt,s,u,pi,P,Se,ye,N,R,_,v,V,Q,ne,K,ie,pe))},[n,A,b,u,P,s,pi,Se,N,R,_,v,V,Q,ne,K,ie,pe,ye,de,mt]),L.useEffect(function(){if(A===vt.viewMode&&(te&&!Oe||te&&(Oe==null?void 0:Oe.valueOf())!==te.valueOf())){var ct=vt.dates,Ie=ct.findIndex(function(Ye,Ge){return te.valueOf()>=Ye.valueOf()&&Ge+1!==ct.length&&te.valueOf()<ct[Ge+1].valueOf()});if(Ie===-1)return;lt(te),Ce(s*Ie)}},[te,s,vt.dates,vt.viewMode,A,Oe,lt]),L.useEffect(function(){var ct=rr.changedTask,Ie=rr.action;if(ct){if(Ie==="delete")ja({action:""}),tn(Mt.filter(function(rt){return rt.id!==ct.id}));else if(Ie==="move"||Ie==="end"||Ie==="start"||Ie==="progress"){var Ye=Mt.find(function(rt){return rt.id===ct.id});if(Ye&&(Ye.start.getTime()!==ct.start.getTime()||Ye.end.getTime()!==ct.end.getTime()||Ye.progress!==ct.progress)){var Ge=Mt.map(function(rt){return rt.id===ct.id?ct:rt});tn(Ge)}}}},[rr,Mt]),L.useEffect(function(){Ma&&(tn(Mt.map(function(ct){return ct.id!==Ma.id?ct:Ma})),La(null))},[Ma,Mt]),L.useEffect(function(){c||Ot(0),ze.current&&Ot(ze.current.offsetWidth)},[ze,c]),L.useEffect(function(){Nt.current&&At(Nt.current.offsetWidth-_t)},[Nt,_t]),L.useEffect(function(){xn(m?m+a:n.length*u+a)},[m,n,a,u]),L.useEffect(function(){var ct,Ie=function(Ge){if(Ge.shiftKey||Ge.deltaX){var rt=Ge.deltaX?Ge.deltaX:Ge.deltaY,Pn=de+rt;Pn<0?Pn=0:Pn>Gn&&(Pn=Gn),Ce(Pn),Ge.preventDefault()}else if(m){var ar=pr+Ge.deltaY;ar<0?ar=0:ar>Gr-m&&(ar=Gr-m),ar!==pr&&(ee(ar),Ge.preventDefault())}Le(!0)};return(ct=Nt.current)===null||ct===void 0||ct.addEventListener("wheel",Ie,{passive:!1}),function(){var Ye;(Ye=Nt.current)===null||Ye===void 0||Ye.removeEventListener("wheel",Ie)}},[Nt,pr,de,m,Gn,ye,Gr]);var Dt=function(Ie){pr!==Ie.currentTarget.scrollTop&&!qe?(ee(Ie.currentTarget.scrollTop),Le(!0)):Le(!1)},Gt=function(Ie){de!==Ie.currentTarget.scrollLeft&&!qe?(Ce(Ie.currentTarget.scrollLeft),Le(!0)):Le(!1)},Wn=function(Ie){Ie.preventDefault();var Ye=pr,Ge=de,rt=!0;switch(Ie.key){case"Down":case"ArrowDown":Ye+=u,rt=!1;break;case"Up":case"ArrowUp":Ye-=u,rt=!1;break;case"Left":case"ArrowLeft":Ge-=s;break;case"Right":case"ArrowRight":Ge+=s;break}rt?(Ge<0?Ge=0:Ge>Gn&&(Ge=Gn),Ce(Ge)):(Ye<0?Ye=0:Ye>Gr-m&&(Ye=Gr-m),ee(Ye)),Le(!0)},$n=function(Ie){var Ye=Mt.find(function(rt){return rt.id===Ie}),Ge=Mt.find(function(rt){return!!ra&&rt.id===ra.id});It&&(Ge&&It(Ge,!1),Ye&&It(Ye,!0)),Sr(Ye)},Wr=function(Ie){mt&&Ie.hideChildren!==void 0&&mt(ma({},Ie,{hideChildren:!Ie.hideChildren}))},qn={columnWidth:s,svgWidth:Gn,tasks:n,rowHeight:u,dates:vt.dates,todayColor:U,rtl:ye},Io={dateSetup:vt,locale:y,viewMode:A,headerHeight:a,columnWidth:s,fontFamily:q,fontSize:B,rtl:ye},ko={tasks:Mt,dates:vt.dates,ganttEvent:rr,selectedTask:ra,rowHeight:u,taskHeight:pi,columnWidth:s,arrowColor:I,timeStep:Ae,fontFamily:q,fontSize:B,arrowIndent:J,svgWidth:Gn,rtl:ye,setGanttEvent:ja,setFailedTask:La,setSelectedTask:$n,onDateChange:pt,onProgressChange:ot,onDoubleClick:Be,onClick:Ue,onDelete:nt},Do={rowHeight:u,rowWidth:c,fontFamily:q,fontSize:B,tasks:Mt,locale:y,headerHeight:a,scrollY:pr,ganttHeight:m,horizontalContainerClass:Vf.horizontalContainer,selectedTask:ra,taskListRef:ze,setSelectedTask:$n,onExpanderClick:Wr,TaskListHeader:Te,TaskListTable:$e};return ue.createElement("div",null,ue.createElement("div",{className:Vf.wrapper,onKeyDown:Wn,tabIndex:0,ref:Nt},c&&ue.createElement(ER,Object.assign({},Do)),ue.createElement(KR,{gridProps:qn,calendarProps:Io,barProps:ko,ganttHeight:m,scrollY:pr,scrollX:de}),rr.changedTask&&ue.createElement(bR,{arrowIndent:J,rowHeight:u,svgContainerHeight:mn,svgContainerWidth:Tr,fontFamily:q,fontSize:B,scrollX:de,scrollY:pr,task:rr.changedTask,headerHeight:a,taskListWidth:_t,TooltipContent:re,rtl:ye,svgWidth:Gn}),ue.createElement(CR,{ganttFullHeight:Gr,ganttHeight:m,headerHeight:a,scroll:pr,onScroll:Dt,rtl:ye})),ue.createElement(YR,{svgWidth:Gn,taskListWidth:_t,scroll:de,rtl:ye,onScroll:Gt}))};function ft(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ga(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Jn(t,e){const n=ft(t);return isNaN(e)?ga(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function fd(t,e){const n=ft(t);if(isNaN(e))return ga(t,NaN);if(!e)return n;const r=n.getDate(),a=ga(t,n.getTime());a.setMonth(n.getMonth()+e+1,0);const i=a.getDate();return r>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),r),n)}function JR(t){return ft(t).getDay()===6}function ZR(t){return ft(t).getDay()===0}function pd(t){const e=ft(t).getDay();return e===0||e===6}function ag(t,e){const n=ft(t),r=pd(n);if(isNaN(e))return ga(t,NaN);const a=n.getHours(),i=e<0?-1:1,s=Math.trunc(e/5);n.setDate(n.getDate()+s*7);let l=Math.abs(e%5);for(;l>0;)n.setDate(n.getDate()+i),pd(n)||(l-=1);return r&&pd(n)&&e!==0&&(JR(n)&&n.setDate(n.getDate()+(i<0?2:-1)),ZR(n)&&n.setDate(n.getDate()+(i<0?1:-2))),n.setHours(a),n}const lE=6048e5,eP=864e5;let tP={};function wu(){return tP}function so(t,e){var l,c,d,u;const n=wu(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=ft(t),i=a.getDay(),s=(i<r?7:0)+i-r;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function Uf(t){return so(t,{weekStartsOn:1})}function cE(t){const e=ft(t),n=e.getFullYear(),r=ga(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=Uf(r),i=ga(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const s=Uf(i);return e.getTime()>=a.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function Js(t){const e=ft(t);return e.setHours(0,0,0,0),e}function Fb(t){const e=ft(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function _x(t,e){const n=Js(t),r=Js(e),a=+n-Fb(n),i=+r-Fb(r);return Math.round((a-i)/eP)}function nP(t){const e=cE(t),n=ga(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Uf(n)}function rP(t){let e;return t.forEach(function(n){const r=ft(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function aP(t){let e;return t.forEach(n=>{const r=ft(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Ps(t,e){const n=Js(t),r=Js(e);return+n==+r}function iP(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Gf(t){if(!iP(t)&&typeof t!="number")return!1;const e=ft(t);return!isNaN(Number(e))}function bh(t,e){const n=ft(t);let r=ft(e);if(!Gf(n)||!Gf(r))return NaN;const a=_x(n,r),i=a<0?-1:1,s=Math.trunc(a/7);let l=s*5;for(r=Jn(r,s*7);!Ps(n,r);)l+=pd(r)?0:i,r=Jn(r,i);return l===0?0:l}function Cx(t,e){const n=ft(t),r=ft(e),a=Ob(n,r),i=Math.abs(_x(n,r));n.setDate(n.getDate()-a*i);const s=+(Ob(n,r)===-a),l=a*(i-s);return l===0?0:l}function Ob(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function Bb(t){const e=ft(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function zb(t,e){const n=ft(t.start),r=ft(t.end);let a=+n>+r;const i=a?+n:+r,s=a?r:n;s.setHours(0,0,0,0);let l=1;const c=[];for(;+s<=i;)c.push(ft(s)),s.setDate(s.getDate()+l),s.setHours(0,0,0,0);return a?c.reverse():c}function Wf(t){const e=ft(t);return e.setDate(1),e.setHours(0,0,0,0),e}function sP(t){const e=ft(t),n=ga(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Vb(t,e){var l,c;const n=wu(),r=n.weekStartsOn??((c=(l=n.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,a=ft(t),i=a.getDay(),s=(i<r?-7:0)+6-(i-r);return a.setDate(a.getDate()+s),a.setHours(23,59,59,999),a}const oP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lP=(t,e,n)=>{let r;const a=oP[t];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Cl(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const cP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},dP={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uP={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hP={date:Cl({formats:cP,defaultWidth:"full"}),time:Cl({formats:dP,defaultWidth:"full"}),dateTime:Cl({formats:uP,defaultWidth:"full"})},fP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},pP=(t,e,n,r)=>fP[t];function _a(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):s;a=t.formattingValues[l]||t.formattingValues[s]}else{const s=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;a=t.values[l]||t.values[s]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const mP={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},gP={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},AP={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xP={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bP=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},wP={ordinalNumber:bP,era:_a({values:mP,defaultWidth:"wide"}),quarter:_a({values:gP,defaultWidth:"wide",argumentCallback:t=>t-1}),month:_a({values:AP,defaultWidth:"wide"}),day:_a({values:xP,defaultWidth:"wide"}),dayPeriod:_a({values:yP,defaultWidth:"wide",formattingValues:vP,defaultFormattingWidth:"wide"})};function Ca(t){return(e,n={})=>{const r=n.width,a=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const s=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?CP(l,h=>h.test(s)):_P(l,h=>h.test(s));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=e.slice(s.length);return{value:d,rest:u}}}function _P(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function CP(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function dE(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const a=r[0],i=e.match(t.parsePattern);if(!i)return null;let s=t.valueCallback?t.valueCallback(i[0]):i[0];s=n.valueCallback?n.valueCallback(s):s;const l=e.slice(a.length);return{value:s,rest:l}}}const EP=/^(\d+)(th|st|nd|rd)?/i,NP=/\d+/i,TP={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},SP={any:[/^b/i,/^(a|c)/i]},IP={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kP={any:[/1/i,/2/i,/3/i,/4/i]},DP={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},RP={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},PP={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jP={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},MP={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},LP={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},FP={ordinalNumber:dE({matchPattern:EP,parsePattern:NP,valueCallback:t=>parseInt(t,10)}),era:Ca({matchPatterns:TP,defaultMatchWidth:"wide",parsePatterns:SP,defaultParseWidth:"any"}),quarter:Ca({matchPatterns:IP,defaultMatchWidth:"wide",parsePatterns:kP,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ca({matchPatterns:DP,defaultMatchWidth:"wide",parsePatterns:RP,defaultParseWidth:"any"}),day:Ca({matchPatterns:PP,defaultMatchWidth:"wide",parsePatterns:jP,defaultParseWidth:"any"}),dayPeriod:Ca({matchPatterns:MP,defaultMatchWidth:"any",parsePatterns:LP,defaultParseWidth:"any"})},OP={code:"en-US",formatDistance:lP,formatLong:hP,formatRelative:pP,localize:wP,match:FP,options:{weekStartsOn:0,firstWeekContainsDate:1}};function BP(t){const e=ft(t);return _x(e,sP(e))+1}function zP(t){const e=ft(t),n=+Uf(e)-+nP(e);return Math.round(n/lE)+1}function uE(t,e){var u,h,m,p;const n=ft(t),r=n.getFullYear(),a=wu(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(m=a.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,s=ga(t,0);s.setFullYear(r+1,0,i),s.setHours(0,0,0,0);const l=so(s,e),c=ga(t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=so(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function VP(t,e){var l,c,d,u;const n=wu(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=uE(t,e),i=ga(t,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),so(i,e)}function UP(t,e){const n=ft(t),r=+so(n,e)-+VP(n,e);return Math.round(r/lE)+1}function Bt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const bi={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Bt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Bt(n+1,2)},d(t,e){return Bt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Bt(t.getHours()%12||12,e.length)},H(t,e){return Bt(t.getHours(),e.length)},m(t,e){return Bt(t.getMinutes(),e.length)},s(t,e){return Bt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return Bt(a,e.length)}},Fo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ub={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return bi.y(t,e)},Y:function(t,e,n,r){const a=uE(t,r),i=a>0?a:1-a;if(e==="YY"){const s=i%100;return Bt(s,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Bt(i,e.length)},R:function(t,e){const n=cE(t);return Bt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Bt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Bt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Bt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return bi.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Bt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const a=UP(t,r);return e==="wo"?n.ordinalNumber(a,{unit:"week"}):Bt(a,e.length)},I:function(t,e,n){const r=zP(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Bt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):bi.d(t,e)},D:function(t,e,n){const r=BP(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Bt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const a=t.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Bt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const a=t.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Bt(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return Bt(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let a;switch(r===12?a=Fo.noon:r===0?a=Fo.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let a;switch(r>=17?a=Fo.evening:r>=12?a=Fo.afternoon:r>=4?a=Fo.morning:a=Fo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return bi.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):bi.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Bt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Bt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):bi.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):bi.s(t,e)},S:function(t,e){return bi.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Wb(r);case"XXXX":case"XX":return js(r);case"XXXXX":case"XXX":default:return js(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Wb(r);case"xxxx":case"xx":return js(r);case"xxxxx":case"xxx":default:return js(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Gb(r,":");case"OOOO":default:return"GMT"+js(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Gb(r,":");case"zzzz":default:return"GMT"+js(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Bt(r,e.length)},T:function(t,e,n){const r=t.getTime();return Bt(r,e.length)}};function Gb(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+e+Bt(i,2)}function Wb(t,e){return t%60===0?(t>0?"-":"+")+Bt(Math.abs(t)/60,2):js(t,e)}function js(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),a=Bt(Math.trunc(r/60),2),i=Bt(r%60,2);return n+a+e+i}const $b=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},hE=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},GP=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return $b(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",$b(r,e)).replace("{{time}}",hE(a,e))},WP={p:hE,P:GP},$P=/^D+$/,qP=/^Y+$/,HP=["D","DD","YY","YYYY"];function QP(t){return $P.test(t)}function XP(t){return qP.test(t)}function KP(t,e,n){const r=YP(t,e,n);if(console.warn(r),HP.includes(t))throw new RangeError(r)}function YP(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const JP=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ZP=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ej=/^'([^]*?)'?$/,tj=/''/g,nj=/[a-zA-Z]/;function Pt(t,e,n){var u,h,m,p,A,g,b,x;const r=wu(),a=(n==null?void 0:n.locale)??r.locale??OP,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(m=r.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((g=(A=n==null?void 0:n.locale)==null?void 0:A.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((x=(b=r.locale)==null?void 0:b.options)==null?void 0:x.weekStartsOn)??0,l=ft(t);if(!Gf(l))throw new RangeError("Invalid time value");let c=e.match(ZP).map(y=>{const w=y[0];if(w==="p"||w==="P"){const S=WP[w];return S(y,a.formatLong)}return y}).join("").match(JP).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:rj(y)};if(Ub[w])return{isToken:!0,value:y};if(w.match(nj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&XP(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&QP(w))&&KP(w,e,String(t));const S=Ub[w[0]];return S(l,w,a.localize,d)}).join("")}function rj(t){const e=t.match(ej);return e?e[1].replace(tj,"'"):t}function md(t,e){const n=ft(t),r=ft(e);return n.getTime()>r.getTime()}function ul(t,e){const n=ft(t),r=ft(e);return+n<+r}function qb(t){return+ft(t)<Date.now()}function aj(t,e){const n=ft(t),r=ft(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function ij(t,e){const n=+ft(t),[r,a]=[+ft(e.start),+ft(e.end)].sort((i,s)=>i-s);return n>=r&&n<=a}const sj=["01-01","04-21","05-01","09-07","10-12","11-02","11-15","11-20","12-25"];function oj(t){const e=t%19,n=Math.floor(t/100),r=t%100,a=Math.floor(n/4),i=n%4,s=Math.floor((n+8)/25),l=Math.floor((n-s+1)/3),c=(19*e+n-a-l+15)%30,d=Math.floor(r/4),u=r%4,h=(32+2*i+2*d-c-u)%7,m=Math.floor((e+11*c+22*h)/451),p=Math.floor((c+h-7*m+114)/31),A=(c+h-7*m+114)%31+1;return new Date(t,p-1,A)}function lj(t){const e=oj(t),n=Jn(e,-48),r=Jn(e,-47),a=Jn(e,-2),i=Jn(e,60),s=l=>{const c=String(l.getMonth()+1).padStart(2,"0"),d=String(l.getDate()).padStart(2,"0");return`${c}-${d}`};return[s(n),s(r),s(a),s(i)]}const ig={};function Wp(t){const e=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),r=`${e}-${n}`,a=t.getFullYear();return sj.includes(r)?!0:(ig[a]||(ig[a]=lj(a)),ig[a].includes(r))}function Fr(t,e){if(t>e)return 0;let n=0,r=new Date(t);r.setHours(0,0,0,0);const a=new Date(e);for(a.setHours(0,0,0,0);r<=a;)pd(r)||Wp(r)||n++,r=Jn(r,1);return n}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ke=(t,e)=>{const n=L.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,...d},u)=>L.createElement("svg",{ref:u,...cj,width:a,height:a,stroke:r,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${dj(t)}`,l].join(" "),...d},[...e.map(([h,m])=>L.createElement(h,m)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=ke("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=ke("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=ke("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=ke("ArrowLeftCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=ke("ArrowRightCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=ke("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=ke("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=ke("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=ke("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=ke("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=ke("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=ke("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=ke("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=ke("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=ke("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=ke("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=ke("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=ke("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=ke("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=ke("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=ke("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=ke("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=ke("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=ke("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=ke("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=ke("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=ke("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=ke("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=ke("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=ke("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=ke("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=ke("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=ke("FolderInput",[["path",{d:"M2 9V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-1",key:"fm4g5t"}],["path",{d:"M2 13h10",key:"pgb2dq"}],["path",{d:"m9 16 3-3-3-3",key:"6m91ic"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=ke("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=ke("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=ke("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=ke("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=ke("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=ke("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=ke("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=ke("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=ke("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=ke("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=ke("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=ke("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=ke("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=ke("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=ke("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=ke("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=ke("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=ke("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=ke("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=ke("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=ke("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=ke("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=ke("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=ke("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=ke("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=ke("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=ke("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=ke("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=ke("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=ke("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=ke("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=ke("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=ke("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=ke("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function $j(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return L.useMemo(()=>r=>{e.forEach(a=>a(r))},e)}const $p=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function rc(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Sx(t){return"nodeType"in t}function Nr(t){var e,n;return t?rc(t)?t:Sx(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Ix(t){const{Document:e}=Nr(t);return t instanceof e}function Cu(t){return rc(t)?!1:t instanceof Nr(t).HTMLElement}function xE(t){return t instanceof Nr(t).SVGElement}function ac(t){return t?rc(t)?t.document:Sx(t)?Ix(t)?t:Cu(t)||xE(t)?t.ownerDocument:document:document:document}const Ra=$p?L.useLayoutEffect:L.useEffect;function kx(t){const e=L.useRef(t);return Ra(()=>{e.current=t}),L.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.current==null?void 0:e.current(...r)},[])}function qj(){const t=L.useRef(null),e=L.useCallback((r,a)=>{t.current=setInterval(r,a)},[]),n=L.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Xd(t,e){e===void 0&&(e=[t]);const n=L.useRef(t);return Ra(()=>{n.current!==t&&(n.current=t)},e),n}function Eu(t,e){const n=L.useRef();return L.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Qf(t){const e=kx(t),n=L.useRef(null),r=L.useCallback(a=>{a!==n.current&&(e==null||e(a,n.current)),n.current=a},[]);return[n,r]}function PA(t){const e=L.useRef();return L.useEffect(()=>{e.current=t},[t]),e.current}let cg={};function Nu(t,e){return L.useMemo(()=>{if(e)return e;const n=cg[t]==null?0:cg[t]+1;return cg[t]=n,t+"-"+n},[t,e])}function yE(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((i,s)=>{const l=Object.entries(s);for(const[c,d]of l){const u=i[c];u!=null&&(i[c]=u+t*d)}return i},{...e})}}const Tl=yE(1),Kd=yE(-1);function Hj(t){return"clientX"in t&&"clientY"in t}function Dx(t){if(!t)return!1;const{KeyboardEvent:e}=Nr(t.target);return e&&t instanceof e}function Qj(t){if(!t)return!1;const{TouchEvent:e}=Nr(t.target);return e&&t instanceof e}function jA(t){if(Qj(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return Hj(t)?{x:t.clientX,y:t.clientY}:null}const Vl=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Vl.Translate.toString(t),Vl.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),tw="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Xj(t){return t.matches(tw)?t:t.querySelector(tw)}const Kj={display:"none"};function Yj(t){let{id:e,value:n}=t;return ue.createElement("div",{id:e,style:Kj},n)}function Jj(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ue.createElement("div",{id:e,style:a,role:"status","aria-live":r,"aria-atomic":!0},n)}function Zj(){const[t,e]=L.useState("");return{announce:L.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const vE=L.createContext(null);function eM(t){const e=L.useContext(vE);L.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function tM(){const[t]=L.useState(()=>new Set),e=L.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[L.useCallback(r=>{let{type:a,event:i}=r;t.forEach(s=>{var l;return(l=s[a])==null?void 0:l.call(s,i)})},[t]),e]}const nM={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},rM={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function aM(t){let{announcements:e=rM,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=nM}=t;const{announce:i,announcement:s}=Zj(),l=Nu("DndLiveRegion"),[c,d]=L.useState(!1);if(L.useEffect(()=>{d(!0)},[]),eM(L.useMemo(()=>({onDragStart(h){let{active:m}=h;i(e.onDragStart({active:m}))},onDragMove(h){let{active:m,over:p}=h;e.onDragMove&&i(e.onDragMove({active:m,over:p}))},onDragOver(h){let{active:m,over:p}=h;i(e.onDragOver({active:m,over:p}))},onDragEnd(h){let{active:m,over:p}=h;i(e.onDragEnd({active:m,over:p}))},onDragCancel(h){let{active:m,over:p}=h;i(e.onDragCancel({active:m,over:p}))}}),[i,e])),!c)return null;const u=ue.createElement(ue.Fragment,null,ue.createElement(Yj,{id:r,value:a.draggable}),ue.createElement(Jj,{id:l,announcement:s}));return n?$s.createPortal(u,n):u}var wn;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(wn||(wn={}));function Xf(){}function Kf(t,e){return L.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function bE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return L.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Aa=Object.freeze({x:0,y:0});function wE(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function _E(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function iM(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function nw(t){let{left:e,top:n,height:r,width:a}=t;return[{x:e,y:n},{x:e+a,y:n},{x:e,y:n+r},{x:e+a,y:n+r}]}function CE(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function rw(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const EE=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const a=rw(e,e.left,e.top),i=[];for(const s of r){const{id:l}=s,c=n.get(l);if(c){const d=wE(rw(c),a);i.push({id:l,data:{droppableContainer:s,value:d}})}}return i.sort(_E)},sM=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const a=nw(e),i=[];for(const s of r){const{id:l}=s,c=n.get(l);if(c){const d=nw(c),u=a.reduce((m,p,A)=>m+wE(d[A],p),0),h=Number((u/4).toFixed(4));i.push({id:l,data:{droppableContainer:s,value:h}})}}return i.sort(_E)};function oM(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),a=Math.min(e.left+e.width,t.left+t.width),i=Math.min(e.top+e.height,t.top+t.height),s=a-r,l=i-n;if(r<a&&n<i){const c=e.width*e.height,d=t.width*t.height,u=s*l,h=u/(c+d-u);return Number(h.toFixed(4))}return 0}const lM=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const a=[];for(const i of r){const{id:s}=i,l=n.get(s);if(l){const c=oM(l,e);c>0&&a.push({id:s,data:{droppableContainer:i,value:c}})}}return a.sort(iM)};function cM(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function NE(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Aa}function dM(t){return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return a.reduce((s,l)=>({...s,top:s.top+t*l.y,bottom:s.bottom+t*l.y,left:s.left+t*l.x,right:s.right+t*l.x}),{...n})}}const uM=dM(1);function hM(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function fM(t,e,n){const r=hM(e);if(!r)return t;const{scaleX:a,scaleY:i,x:s,y:l}=r,c=t.left-s-(1-a)*parseFloat(n),d=t.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=a?t.width/a:t.width,h=i?t.height/i:t.height;return{width:u,height:h,top:d,right:c+u,bottom:d+h,left:c}}const pM={ignoreTransform:!1};function ic(t,e){e===void 0&&(e=pM);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:u}=Nr(t).getComputedStyle(t);d&&(n=fM(n,d,u))}const{top:r,left:a,width:i,height:s,bottom:l,right:c}=n;return{top:r,left:a,width:i,height:s,bottom:l,right:c}}function aw(t){return ic(t,{ignoreTransform:!0})}function mM(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function gM(t,e){return e===void 0&&(e=Nr(t).getComputedStyle(t)),e.position==="fixed"}function AM(t,e){e===void 0&&(e=Nr(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=e[a];return typeof i=="string"?n.test(i):!1})}function qp(t,e){const n=[];function r(a){if(e!=null&&n.length>=e||!a)return n;if(Ix(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!Cu(a)||xE(a)||n.includes(a))return n;const i=Nr(t).getComputedStyle(a);return a!==t&&AM(a,i)&&n.push(a),gM(a,i)?n:r(a.parentNode)}return t?r(t):n}function TE(t){const[e]=qp(t,1);return e??null}function dg(t){return!$p||!t?null:rc(t)?t:Sx(t)?Ix(t)||t===ac(t).scrollingElement?window:Cu(t)?t:null:null}function SE(t){return rc(t)?t.scrollX:t.scrollLeft}function IE(t){return rc(t)?t.scrollY:t.scrollTop}function MA(t){return{x:SE(t),y:IE(t)}}var In;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(In||(In={}));function kE(t){return!$p||!t?!1:t===document.scrollingElement}function DE(t){const e={x:0,y:0},n=kE(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},a=t.scrollTop<=e.y,i=t.scrollLeft<=e.x,s=t.scrollTop>=r.y,l=t.scrollLeft>=r.x;return{isTop:a,isLeft:i,isBottom:s,isRight:l,maxScroll:r,minScroll:e}}const xM={x:.2,y:.2};function yM(t,e,n,r,a){let{top:i,left:s,right:l,bottom:c}=n;r===void 0&&(r=10),a===void 0&&(a=xM);const{isTop:d,isBottom:u,isLeft:h,isRight:m}=DE(t),p={x:0,y:0},A={x:0,y:0},g={height:e.height*a.y,width:e.width*a.x};return!d&&i<=e.top+g.height?(p.y=In.Backward,A.y=r*Math.abs((e.top+g.height-i)/g.height)):!u&&c>=e.bottom-g.height&&(p.y=In.Forward,A.y=r*Math.abs((e.bottom-g.height-c)/g.height)),!m&&l>=e.right-g.width?(p.x=In.Forward,A.x=r*Math.abs((e.right-g.width-l)/g.width)):!h&&s<=e.left+g.width&&(p.x=In.Backward,A.x=r*Math.abs((e.left+g.width-s)/g.width)),{direction:p,speed:A}}function vM(t){if(t===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:e,left:n,right:r,bottom:a}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:a,width:t.clientWidth,height:t.clientHeight}}function RE(t){return t.reduce((e,n)=>Tl(e,MA(n)),Aa)}function bM(t){return t.reduce((e,n)=>e+SE(n),0)}function wM(t){return t.reduce((e,n)=>e+IE(n),0)}function _M(t,e){if(e===void 0&&(e=ic),!t)return;const{top:n,left:r,bottom:a,right:i}=e(t);TE(t)&&(a<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const CM=[["x",["left","right"],bM],["y",["top","bottom"],wM]];class Rx{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=qp(n),a=RE(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,s,l]of CM)for(const c of s)Object.defineProperty(this,c,{get:()=>{const d=l(r),u=a[i]-d;return this.rect[c]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class xd{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var a;(a=this.target)==null||a.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function EM(t){const{EventTarget:e}=Nr(t);return t instanceof e?t:ac(t)}function ug(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var $r;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})($r||($r={}));function iw(t){t.preventDefault()}function NM(t){t.stopPropagation()}var Et;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Et||(Et={}));const PE={start:[Et.Space,Et.Enter],cancel:[Et.Esc],end:[Et.Space,Et.Enter,Et.Tab]},TM=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Et.Right:return{...n,x:n.x+25};case Et.Left:return{...n,x:n.x-25};case Et.Down:return{...n,y:n.y+25};case Et.Up:return{...n,y:n.y-25}}};class Hp{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new xd(ac(n)),this.windowListeners=new xd(Nr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add($r.Resize,this.handleCancel),this.windowListeners.add($r.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add($r.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&_M(r),n(Aa)}handleKeyDown(e){if(Dx(e)){const{active:n,context:r,options:a}=this.props,{keyboardCodes:i=PE,coordinateGetter:s=TM,scrollBehavior:l="smooth"}=a,{code:c}=e;if(i.end.includes(c)){this.handleEnd(e);return}if(i.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:d}=r.current,u=d?{x:d.left,y:d.top}:Aa;this.referenceCoordinates||(this.referenceCoordinates=u);const h=s(e,{active:n,context:r.current,currentCoordinates:u});if(h){const m=Kd(h,u),p={x:0,y:0},{scrollableAncestors:A}=r.current;for(const g of A){const b=e.code,{isTop:x,isRight:y,isLeft:w,isBottom:S,maxScroll:k,minScroll:P}=DE(g),E=vM(g),N={x:Math.min(b===Et.Right?E.right-E.width/2:E.right,Math.max(b===Et.Right?E.left:E.left+E.width/2,h.x)),y:Math.min(b===Et.Down?E.bottom-E.height/2:E.bottom,Math.max(b===Et.Down?E.top:E.top+E.height/2,h.y))},C=b===Et.Right&&!y||b===Et.Left&&!w,R=b===Et.Down&&!S||b===Et.Up&&!x;if(C&&N.x!==h.x){const j=g.scrollLeft+m.x,_=b===Et.Right&&j<=k.x||b===Et.Left&&j>=P.x;if(_&&!m.y){g.scrollTo({left:j,behavior:l});return}_?p.x=g.scrollLeft-j:p.x=b===Et.Right?g.scrollLeft-k.x:g.scrollLeft-P.x,p.x&&g.scrollBy({left:-p.x,behavior:l});break}else if(R&&N.y!==h.y){const j=g.scrollTop+m.y,_=b===Et.Down&&j<=k.y||b===Et.Up&&j>=P.y;if(_&&!m.x){g.scrollTo({top:j,behavior:l});return}_?p.y=g.scrollTop-j:p.y=b===Et.Down?g.scrollTop-k.y:g.scrollTop-P.y,p.y&&g.scrollBy({top:-p.y,behavior:l});break}}this.handleMove(e,Tl(Kd(h,this.referenceCoordinates),p))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Hp.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=PE,onActivation:a}=e,{active:i}=n;const{code:s}=t.nativeEvent;if(r.start.includes(s)){const l=i.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),a==null||a({event:t.nativeEvent}),!0)}return!1}}];function sw(t){return!!(t&&"distance"in t)}function ow(t){return!!(t&&"delay"in t)}class Px{constructor(e,n,r){var a;r===void 0&&(r=EM(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:i}=e,{target:s}=i;this.props=e,this.events=n,this.document=ac(s),this.documentListeners=new xd(this.document),this.listeners=new xd(r),this.windowListeners=new xd(Nr(s)),this.initialCoordinates=(a=jA(i))!=null?a:Aa,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add($r.Resize,this.handleCancel),this.windowListeners.add($r.DragStart,iw),this.windowListeners.add($r.VisibilityChange,this.handleCancel),this.windowListeners.add($r.ContextMenu,iw),this.documentListeners.add($r.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ow(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(sw(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:a}=this.props;a(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add($r.Click,NM,{capture:!0}),this.removeTextSelection(),this.documentListeners.add($r.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:a,props:i}=this,{onMove:s,options:{activationConstraint:l}}=i;if(!a)return;const c=(n=jA(e))!=null?n:Aa,d=Kd(a,c);if(!r&&l){if(sw(l)){if(l.tolerance!=null&&ug(d,l.tolerance))return this.handleCancel();if(ug(d,l.distance))return this.handleStart()}if(ow(l)&&ug(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}e.cancelable&&e.preventDefault(),s(c)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Et.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const SM={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Qp extends Px{constructor(e){const{event:n}=e,r=ac(n.target);super(e,SM,r)}}Qp.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const IM={move:{name:"mousemove"},end:{name:"mouseup"}};var LA;(function(t){t[t.RightClick=2]="RightClick"})(LA||(LA={}));class kM extends Px{constructor(e){super(e,IM,ac(e.event.target))}}kM.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===LA.RightClick?!1:(r==null||r({event:n}),!0)}}];const hg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class DM extends Px{constructor(e){super(e,hg)}static setup(){return window.addEventListener(hg.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(hg.move.name,e)};function e(){}}}DM.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:a}=n;return a.length>1?!1:(r==null||r({event:n}),!0)}}];var yd;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(yd||(yd={}));var Yf;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Yf||(Yf={}));function RM(t){let{acceleration:e,activator:n=yd.Pointer,canScroll:r,draggingRect:a,enabled:i,interval:s=5,order:l=Yf.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:h,threshold:m}=t;const p=jM({delta:h,disabled:!i}),[A,g]=qj(),b=L.useRef({x:0,y:0}),x=L.useRef({x:0,y:0}),y=L.useMemo(()=>{switch(n){case yd.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case yd.DraggableRect:return a}},[n,a,c]),w=L.useRef(null),S=L.useCallback(()=>{const P=w.current;if(!P)return;const E=b.current.x*x.current.x,N=b.current.y*x.current.y;P.scrollBy(E,N)},[]),k=L.useMemo(()=>l===Yf.TreeOrder?[...d].reverse():d,[l,d]);L.useEffect(()=>{if(!i||!d.length||!y){g();return}for(const P of k){if((r==null?void 0:r(P))===!1)continue;const E=d.indexOf(P),N=u[E];if(!N)continue;const{direction:C,speed:R}=yM(P,N,y,e,m);for(const j of["x","y"])p[j][C[j]]||(R[j]=0,C[j]=0);if(R.x>0||R.y>0){g(),w.current=P,A(S,s),b.current=R,x.current=C;return}}b.current={x:0,y:0},x.current={x:0,y:0},g()},[e,S,r,g,i,s,JSON.stringify(y),JSON.stringify(p),A,d,k,u,JSON.stringify(m)])}const PM={x:{[In.Backward]:!1,[In.Forward]:!1},y:{[In.Backward]:!1,[In.Forward]:!1}};function jM(t){let{delta:e,disabled:n}=t;const r=PA(e);return Eu(a=>{if(n||!r||!a)return PM;const i={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[In.Backward]:a.x[In.Backward]||i.x===-1,[In.Forward]:a.x[In.Forward]||i.x===1},y:{[In.Backward]:a.y[In.Backward]||i.y===-1,[In.Forward]:a.y[In.Forward]||i.y===1}}},[n,e,r])}function MM(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Eu(a=>{var i;return e==null?null:(i=r??a)!=null?i:null},[r,e])}function LM(t,e){return L.useMemo(()=>t.reduce((n,r)=>{const{sensor:a}=r,i=a.activators.map(s=>({eventName:s.eventName,handler:e(s.handler,r)}));return[...n,...i]},[]),[t,e])}var Yd;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Yd||(Yd={}));var FA;(function(t){t.Optimized="optimized"})(FA||(FA={}));const lw=new Map;function FM(t,e){let{dragging:n,dependencies:r,config:a}=e;const[i,s]=L.useState(null),{frequency:l,measure:c,strategy:d}=a,u=L.useRef(t),h=b(),m=Xd(h),p=L.useCallback(function(x){x===void 0&&(x=[]),!m.current&&s(y=>y===null?x:y.concat(x.filter(w=>!y.includes(w))))},[m]),A=L.useRef(null),g=Eu(x=>{if(h&&!n)return lw;if(!x||x===lw||u.current!==t||i!=null){const y=new Map;for(let w of t){if(!w)continue;if(i&&i.length>0&&!i.includes(w.id)&&w.rect.current){y.set(w.id,w.rect.current);continue}const S=w.node.current,k=S?new Rx(c(S),S):null;w.rect.current=k,k&&y.set(w.id,k)}return y}return x},[t,i,n,h,c]);return L.useEffect(()=>{u.current=t},[t]),L.useEffect(()=>{h||p()},[n,h]),L.useEffect(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),L.useEffect(()=>{h||typeof l!="number"||A.current!==null||(A.current=setTimeout(()=>{p(),A.current=null},l))},[l,h,p,...r]),{droppableRects:g,measureDroppableContainers:p,measuringScheduled:i!=null};function b(){switch(d){case Yd.Always:return!1;case Yd.BeforeDragging:return n;default:return!n}}}function jE(t,e){return Eu(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function OM(t,e){return jE(t,e)}function BM(t){let{callback:e,disabled:n}=t;const r=kx(e),a=L.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return L.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function Xp(t){let{callback:e,disabled:n}=t;const r=kx(e),a=L.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return L.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function zM(t){return new Rx(ic(t),t)}function cw(t,e,n){e===void 0&&(e=zM);const[r,a]=L.useState(null);function i(){a(c=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=c??n)!=null?d:null}const u=e(t);return JSON.stringify(c)===JSON.stringify(u)?c:u})}const s=BM({callback(c){if(t)for(const d of c){const{type:u,target:h}=d;if(u==="childList"&&h instanceof HTMLElement&&h.contains(t)){i();break}}}}),l=Xp({callback:i});return Ra(()=>{i(),t?(l==null||l.observe(t),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),s==null||s.disconnect())},[t]),r}function VM(t){const e=jE(t);return NE(t,e)}const dw=[];function UM(t){const e=L.useRef(t),n=Eu(r=>t?r&&r!==dw&&t&&e.current&&t.parentNode===e.current.parentNode?r:qp(t):dw,[t]);return L.useEffect(()=>{e.current=t},[t]),n}function GM(t){const[e,n]=L.useState(null),r=L.useRef(t),a=L.useCallback(i=>{const s=dg(i.target);s&&n(l=>l?(l.set(s,MA(s)),new Map(l)):null)},[]);return L.useEffect(()=>{const i=r.current;if(t!==i){s(i);const l=t.map(c=>{const d=dg(c);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,MA(d)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=t}return()=>{s(t),s(i)};function s(l){l.forEach(c=>{const d=dg(c);d==null||d.removeEventListener("scroll",a)})}},[a,t]),L.useMemo(()=>t.length?e?Array.from(e.values()).reduce((i,s)=>Tl(i,s),Aa):RE(t):Aa,[t,e])}function uw(t,e){e===void 0&&(e=[]);const n=L.useRef(null);return L.useEffect(()=>{n.current=null},e),L.useEffect(()=>{const r=t!==Aa;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Kd(t,n.current):Aa}function WM(t){L.useEffect(()=>{if(!$p)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function $M(t,e){return L.useMemo(()=>t.reduce((n,r)=>{let{eventName:a,handler:i}=r;return n[a]=s=>{i(s,e)},n},{}),[t,e])}function ME(t){return L.useMemo(()=>t?mM(t):null,[t])}const hw=[];function qM(t,e){e===void 0&&(e=ic);const[n]=t,r=ME(n?Nr(n):null),[a,i]=L.useState(hw);function s(){i(()=>t.length?t.map(c=>kE(c)?r:new Rx(e(c),c)):hw)}const l=Xp({callback:s});return Ra(()=>{l==null||l.disconnect(),s(),t.forEach(c=>l==null?void 0:l.observe(c))},[t]),a}function HM(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Cu(e)?e:t}function QM(t){let{measure:e}=t;const[n,r]=L.useState(null),a=L.useCallback(d=>{for(const{target:u}of d)if(Cu(u)){r(h=>{const m=e(u);return h?{...h,width:m.width,height:m.height}:m});break}},[e]),i=Xp({callback:a}),s=L.useCallback(d=>{const u=HM(d);i==null||i.disconnect(),u&&(i==null||i.observe(u)),r(u?e(u):null)},[e,i]),[l,c]=Qf(s);return L.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const XM=[{sensor:Qp,options:{}},{sensor:Hp,options:{}}],KM={current:{}},Qh={draggable:{measure:aw},droppable:{measure:aw,strategy:Yd.WhileDragging,frequency:FA.Optimized},dragOverlay:{measure:ic}};class vd extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const YM={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new vd,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Xf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Qh,measureDroppableContainers:Xf,windowRect:null,measuringScheduled:!1},JM={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Xf,draggableNodes:new Map,over:null,measureDroppableContainers:Xf},Kp=L.createContext(JM),LE=L.createContext(YM);function ZM(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new vd}}}function eL(t,e){switch(e.type){case wn.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case wn.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case wn.DragEnd:case wn.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case wn.RegisterDroppable:{const{element:n}=e,{id:r}=n,a=new vd(t.droppable.containers);return a.set(r,n),{...t,droppable:{...t.droppable,containers:a}}}case wn.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new vd(t.droppable.containers);return s.set(n,{...i,disabled:a}),{...t,droppable:{...t.droppable,containers:s}}}case wn.UnregisterDroppable:{const{id:n,key:r}=e,a=t.droppable.containers.get(n);if(!a||r!==a.key)return t;const i=new vd(t.droppable.containers);return i.delete(n),{...t,droppable:{...t.droppable,containers:i}}}default:return t}}function tL(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:a}=L.useContext(Kp),i=PA(r),s=PA(n==null?void 0:n.id);return L.useEffect(()=>{if(!e&&!r&&i&&s!=null){if(!Dx(i)||document.activeElement===i.target)return;const l=a.get(s);if(!l)return;const{activatorNode:c,node:d}=l;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const u of[c.current,d.current]){if(!u)continue;const h=Xj(u);if(h){h.focus();break}}})}},[r,e,a,s,i]),null}function nL(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((a,i)=>i({transform:a,...r}),n):n}function rL(t){return L.useMemo(()=>({draggable:{...Qh.draggable,...t==null?void 0:t.draggable},droppable:{...Qh.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Qh.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function aL(t){let{activeNode:e,measure:n,initialRect:r,config:a=!0}=t;const i=L.useRef(!1),{x:s,y:l}=typeof a=="boolean"?{x:a,y:a}:a;Ra(()=>{if(!s&&!l||!e){i.current=!1;return}if(i.current||!r)return;const d=e==null?void 0:e.node.current;if(!d||d.isConnected===!1)return;const u=n(d),h=NE(u,r);if(s||(h.x=0),l||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const m=TE(d);m&&m.scrollBy({top:h.y,left:h.x})}},[e,s,l,r,n])}const FE=L.createContext({...Aa,scaleX:1,scaleY:1});var ki;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(ki||(ki={}));const OE=L.memo(function(e){var n,r,a,i;let{id:s,accessibility:l,autoScroll:c=!0,children:d,sensors:u=XM,collisionDetection:h=lM,measuring:m,modifiers:p,...A}=e;const g=L.useReducer(eL,void 0,ZM),[b,x]=g,[y,w]=tM(),[S,k]=L.useState(ki.Uninitialized),P=S===ki.Initialized,{draggable:{active:E,nodes:N,translate:C},droppable:{containers:R}}=b,j=E!=null?N.get(E):null,_=L.useRef({initial:null,translated:null}),D=L.useMemo(()=>{var tt;return E!=null?{id:E,data:(tt=j==null?void 0:j.data)!=null?tt:KM,rect:_}:null},[E,j]),v=L.useRef(null),[O,V]=L.useState(null),[G,Q]=L.useState(null),H=Xd(A,Object.values(A)),ne=Nu("DndDescribedBy",s),X=L.useMemo(()=>R.getEnabled(),[R]),K=rL(m),{droppableRects:ce,measureDroppableContainers:ie,measuringScheduled:oe}=FM(X,{dragging:P,dependencies:[C.x,C.y],config:K.droppable}),pe=MM(N,E),Pe=L.useMemo(()=>G?jA(G):null,[G]),ye=dt(),ge=OM(pe,K.draggable.measure);aL({activeNode:E!=null?N.get(E):null,config:ye.layoutShiftCompensation,initialRect:ge,measure:K.draggable.measure});const Se=cw(pe,K.draggable.measure,ge),ve=cw(pe?pe.parentElement:null),Ae=L.useRef({activatorEvent:null,active:null,activeNode:pe,collisionRect:null,collisions:null,droppableRects:ce,draggableNodes:N,draggingNode:null,draggingNodeRect:null,droppableContainers:R,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),xe=R.getNodeFor((n=Ae.current.over)==null?void 0:n.id),I=QM({measure:K.dragOverlay.measure}),Y=(r=I.nodeRef.current)!=null?r:pe,q=P?(a=I.rect)!=null?a:Se:null,F=!!(I.nodeRef.current&&I.rect),B=VM(F?null:Se),z=ME(Y?Nr(Y):null),J=UM(P?xe??pe:null),$=qM(J),U=nL(p,{transform:{x:C.x-B.x,y:C.y-B.y,scaleX:1,scaleY:1},activatorEvent:G,active:D,activeNodeRect:Se,containerNodeRect:ve,draggingNodeRect:q,over:Ae.current.over,overlayNodeRect:I.rect,scrollableAncestors:J,scrollableAncestorRects:$,windowRect:z}),te=Pe?Tl(Pe,C):null,Z=GM(J),re=uw(Z),fe=uw(Z,[Se]),Te=Tl(U,re),Ne=q?uM(q,U):null,$e=D&&Ne?h({active:D,collisionRect:Ne,droppableRects:ce,droppableContainers:X,pointerCoordinates:te}):null,pt=CE($e,"id"),[ot,Be]=L.useState(null),Ue=F?U:Tl(U,fe),nt=cM(Ue,(i=ot==null?void 0:ot.rect)!=null?i:null,Se),It=L.useRef(null),mt=L.useCallback((tt,Oe)=>{let{sensor:lt,options:Ft}=Oe;if(v.current==null)return;const _t=N.get(v.current);if(!_t)return;const Ot=tt.nativeEvent,un=new lt({active:v.current,activeNode:_t,event:Ot,options:Ft,context:Ae,onAbort(At){if(!N.get(At))return;const{onDragAbort:mn}=H.current,xn={id:At};mn==null||mn(xn),y({type:"onDragAbort",event:xn})},onPending(At,Un,mn,xn){if(!N.get(At))return;const{onDragPending:Mt}=H.current,tn={id:At,constraint:Un,initialCoordinates:mn,offset:xn};Mt==null||Mt(tn),y({type:"onDragPending",event:tn})},onStart(At){const Un=v.current;if(Un==null)return;const mn=N.get(Un);if(!mn)return;const{onDragStart:xn}=H.current,kt={activatorEvent:Ot,active:{id:Un,data:mn.data,rect:_}};$s.unstable_batchedUpdates(()=>{xn==null||xn(kt),k(ki.Initializing),x({type:wn.DragStart,initialCoordinates:At,active:Un}),y({type:"onDragStart",event:kt}),V(It.current),Q(Ot)})},onMove(At){x({type:wn.DragMove,coordinates:At})},onEnd:Tr(wn.DragEnd),onCancel:Tr(wn.DragCancel)});It.current=un;function Tr(At){return async function(){const{active:mn,collisions:xn,over:kt,scrollAdjustedTranslate:Mt}=Ae.current;let tn=null;if(mn&&Mt){const{cancelDrop:Ur}=H.current;tn={activatorEvent:Ot,active:mn,collisions:xn,delta:Mt,over:kt},At===wn.DragEnd&&typeof Ur=="function"&&await Promise.resolve(Ur(tn))&&(At=wn.DragCancel)}v.current=null,$s.unstable_batchedUpdates(()=>{x({type:At}),k(ki.Uninitialized),Be(null),V(null),Q(null),It.current=null;const Ur=At===wn.DragEnd?"onDragEnd":"onDragCancel";if(tn){const rr=H.current[Ur];rr==null||rr(tn),y({type:Ur,event:tn})}})}}},[N]),Nt=L.useCallback((tt,Oe)=>(lt,Ft)=>{const _t=lt.nativeEvent,Ot=N.get(Ft);if(v.current!==null||!Ot||_t.dndKit||_t.defaultPrevented)return;const un={active:Ot};tt(lt,Oe.options,un)===!0&&(_t.dndKit={capturedBy:Oe.sensor},v.current=Ft,mt(lt,Oe))},[N,mt]),ze=LM(u,Nt);WM(u),Ra(()=>{Se&&S===ki.Initializing&&k(ki.Initialized)},[Se,S]),L.useEffect(()=>{const{onDragMove:tt}=H.current,{active:Oe,activatorEvent:lt,collisions:Ft,over:_t}=Ae.current;if(!Oe||!lt)return;const Ot={active:Oe,activatorEvent:lt,collisions:Ft,delta:{x:Te.x,y:Te.y},over:_t};$s.unstable_batchedUpdates(()=>{tt==null||tt(Ot),y({type:"onDragMove",event:Ot})})},[Te.x,Te.y]),L.useEffect(()=>{const{active:tt,activatorEvent:Oe,collisions:lt,droppableContainers:Ft,scrollAdjustedTranslate:_t}=Ae.current;if(!tt||v.current==null||!Oe||!_t)return;const{onDragOver:Ot}=H.current,un=Ft.get(pt),Tr=un&&un.rect.current?{id:un.id,rect:un.rect.current,data:un.data,disabled:un.disabled}:null,At={active:tt,activatorEvent:Oe,collisions:lt,delta:{x:_t.x,y:_t.y},over:Tr};$s.unstable_batchedUpdates(()=>{Be(Tr),Ot==null||Ot(At),y({type:"onDragOver",event:At})})},[pt]),Ra(()=>{Ae.current={activatorEvent:G,active:D,activeNode:pe,collisionRect:Ne,collisions:$e,droppableRects:ce,draggableNodes:N,draggingNode:Y,draggingNodeRect:q,droppableContainers:R,over:ot,scrollableAncestors:J,scrollAdjustedTranslate:Te},_.current={initial:q,translated:Ne}},[D,pe,$e,Ne,N,Y,q,ce,R,ot,J,Te]),RM({...ye,delta:C,draggingRect:Ne,pointerCoordinates:te,scrollableAncestors:J,scrollableAncestorRects:$});const gt=L.useMemo(()=>({active:D,activeNode:pe,activeNodeRect:Se,activatorEvent:G,collisions:$e,containerNodeRect:ve,dragOverlay:I,draggableNodes:N,droppableContainers:R,droppableRects:ce,over:ot,measureDroppableContainers:ie,scrollableAncestors:J,scrollableAncestorRects:$,measuringConfiguration:K,measuringScheduled:oe,windowRect:z}),[D,pe,Se,G,$e,ve,I,N,R,ce,ot,ie,J,$,K,oe,z]),vt=L.useMemo(()=>({activatorEvent:G,activators:ze,active:D,activeNodeRect:Se,ariaDescribedById:{draggable:ne},dispatch:x,draggableNodes:N,over:ot,measureDroppableContainers:ie}),[G,ze,D,Se,x,ne,N,ot,ie]);return ue.createElement(vE.Provider,{value:w},ue.createElement(Kp.Provider,{value:vt},ue.createElement(LE.Provider,{value:gt},ue.createElement(FE.Provider,{value:nt},d)),ue.createElement(tL,{disabled:(l==null?void 0:l.restoreFocus)===!1})),ue.createElement(aM,{...l,hiddenTextDescribedById:ne}));function dt(){const tt=(O==null?void 0:O.autoScrollEnabled)===!1,Oe=typeof c=="object"?c.enabled===!1:c===!1,lt=P&&!tt&&!Oe;return typeof c=="object"?{...c,enabled:lt}:{enabled:lt}}}),iL=L.createContext(null),fw="button",sL="Draggable";function oL(t){let{id:e,data:n,disabled:r=!1,attributes:a}=t;const i=Nu(sL),{activators:s,activatorEvent:l,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:h,over:m}=L.useContext(Kp),{role:p=fw,roleDescription:A="draggable",tabIndex:g=0}=a??{},b=(c==null?void 0:c.id)===e,x=L.useContext(b?FE:iL),[y,w]=Qf(),[S,k]=Qf(),P=$M(s,e),E=Xd(n);Ra(()=>(h.set(e,{id:e,key:i,node:y,activatorNode:S,data:E}),()=>{const C=h.get(e);C&&C.key===i&&h.delete(e)}),[h,e]);const N=L.useMemo(()=>({role:p,tabIndex:g,"aria-disabled":r,"aria-pressed":b&&p===fw?!0:void 0,"aria-roledescription":A,"aria-describedby":u.draggable}),[r,p,g,b,A,u.draggable]);return{active:c,activatorEvent:l,activeNodeRect:d,attributes:N,isDragging:b,listeners:r?void 0:P,node:y,over:m,setNodeRef:w,setActivatorNodeRef:k,transform:x}}function lL(){return L.useContext(LE)}const cL="Droppable",dL={timeout:25};function uL(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:a}=t;const i=Nu(cL),{active:s,dispatch:l,over:c,measureDroppableContainers:d}=L.useContext(Kp),u=L.useRef({disabled:n}),h=L.useRef(!1),m=L.useRef(null),p=L.useRef(null),{disabled:A,updateMeasurementsFor:g,timeout:b}={...dL,...a},x=Xd(g??r),y=L.useCallback(()=>{if(!h.current){h.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{d(Array.isArray(x.current)?x.current:[x.current]),p.current=null},b)},[b]),w=Xp({callback:y,disabled:A||!s}),S=L.useCallback((N,C)=>{w&&(C&&(w.unobserve(C),h.current=!1),N&&w.observe(N))},[w]),[k,P]=Qf(S),E=Xd(e);return L.useEffect(()=>{!w||!k.current||(w.disconnect(),h.current=!1,w.observe(k.current))},[k,w]),L.useEffect(()=>(l({type:wn.RegisterDroppable,element:{id:r,key:i,disabled:n,node:k,rect:m,data:E}}),()=>l({type:wn.UnregisterDroppable,key:i,id:r})),[r]),L.useEffect(()=>{n!==u.current.disabled&&(l({type:wn.SetDroppableDisabled,id:r,key:i,disabled:n}),u.current.disabled=n)},[r,i,n,l]),{active:s,rect:m,isOver:(c==null?void 0:c.id)===r,node:k,over:c,setNodeRef:P}}function Yp(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function hL(t,e){return t.reduce((n,r,a)=>{const i=e.get(r);return i&&(n[a]=i),n},Array(t.length))}function _h(t){return t!==null&&t>=0}function fL(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function pL(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const BE=t=>{let{rects:e,activeIndex:n,overIndex:r,index:a}=t;const i=Yp(e,r,n),s=e[a],l=i[a];return!l||!s?null:{x:l.left-s.left,y:l.top-s.top,scaleX:l.width/s.width,scaleY:l.height/s.height}},Ch={scaleX:1,scaleY:1},zE=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:a,rects:i,overIndex:s}=t;const l=(e=i[n])!=null?e:r;if(!l)return null;if(a===n){const d=i[s];return d?{x:0,y:n<s?d.top+d.height-(l.top+l.height):d.top-l.top,...Ch}:null}const c=mL(i,a,n);return a>n&&a<=s?{x:0,y:-l.height-c,...Ch}:a<n&&a>=s?{x:0,y:l.height+c,...Ch}:{x:0,y:0,...Ch}};function mL(t,e,n){const r=t[e],a=t[e-1],i=t[e+1];return r?n<e?a?r.top-(a.top+a.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):a?r.top-(a.top+a.height):0:0}const VE="Sortable",UE=ue.createContext({activeIndex:-1,containerId:VE,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:BE,disabled:{draggable:!1,droppable:!1}});function GE(t){let{children:e,id:n,items:r,strategy:a=BE,disabled:i=!1}=t;const{active:s,dragOverlay:l,droppableRects:c,over:d,measureDroppableContainers:u}=lL(),h=Nu(VE,n),m=l.rect!==null,p=L.useMemo(()=>r.map(P=>typeof P=="object"&&"id"in P?P.id:P),[r]),A=s!=null,g=s?p.indexOf(s.id):-1,b=d?p.indexOf(d.id):-1,x=L.useRef(p),y=!fL(p,x.current),w=b!==-1&&g===-1||y,S=pL(i);Ra(()=>{y&&A&&u(p)},[y,p,A,u]),L.useEffect(()=>{x.current=p},[p]);const k=L.useMemo(()=>({activeIndex:g,containerId:h,disabled:S,disableTransforms:w,items:p,overIndex:b,useDragOverlay:m,sortedRects:hL(p,c),strategy:a}),[g,h,S.draggable,S.droppable,w,p,b,c,m,a]);return ue.createElement(UE.Provider,{value:k},e)}const gL=t=>{let{id:e,items:n,activeIndex:r,overIndex:a}=t;return Yp(n,r,a).indexOf(e)},AL=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:a,items:i,newIndex:s,previousItems:l,previousContainerId:c,transition:d}=t;return!d||!r||l!==i&&a===s?!1:n?!0:s!==a&&e===c},xL={duration:200,easing:"ease"},WE="transform",yL=Vl.Transition.toString({property:WE,duration:0,easing:"linear"}),vL={roleDescription:"sortable"};function bL(t){let{disabled:e,index:n,node:r,rect:a}=t;const[i,s]=L.useState(null),l=L.useRef(n);return Ra(()=>{if(!e&&n!==l.current&&r.current){const c=a.current;if(c){const d=ic(r.current,{ignoreTransform:!0}),u={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(u.x||u.y)&&s(u)}}n!==l.current&&(l.current=n)},[e,n,r,a]),L.useEffect(()=>{i&&s(null)},[i]),i}function $E(t){let{animateLayoutChanges:e=AL,attributes:n,disabled:r,data:a,getNewIndex:i=gL,id:s,strategy:l,resizeObserverConfig:c,transition:d=xL}=t;const{items:u,containerId:h,activeIndex:m,disabled:p,disableTransforms:A,sortedRects:g,overIndex:b,useDragOverlay:x,strategy:y}=L.useContext(UE),w=wL(r,p),S=u.indexOf(s),k=L.useMemo(()=>({sortable:{containerId:h,index:S,items:u},...a}),[h,a,S,u]),P=L.useMemo(()=>u.slice(u.indexOf(s)),[u,s]),{rect:E,node:N,isOver:C,setNodeRef:R}=uL({id:s,data:k,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:P,...c}}),{active:j,activatorEvent:_,activeNodeRect:D,attributes:v,setNodeRef:O,listeners:V,isDragging:G,over:Q,setActivatorNodeRef:H,transform:ne}=oL({id:s,data:k,attributes:{...vL,...n},disabled:w.draggable}),X=$j(R,O),K=!!j,ce=K&&!A&&_h(m)&&_h(b),ie=!x&&G,oe=ie&&ce?ne:null,Pe=ce?oe??(l??y)({rects:g,activeNodeRect:D,activeIndex:m,overIndex:b,index:S}):null,ye=_h(m)&&_h(b)?i({id:s,items:u,activeIndex:m,overIndex:b}):S,ge=j==null?void 0:j.id,Se=L.useRef({activeId:ge,items:u,newIndex:ye,containerId:h}),ve=u!==Se.current.items,Ae=e({active:j,containerId:h,isDragging:G,isSorting:K,id:s,index:S,items:u,newIndex:Se.current.newIndex,previousItems:Se.current.items,previousContainerId:Se.current.containerId,transition:d,wasDragging:Se.current.activeId!=null}),xe=bL({disabled:!Ae,index:S,node:N,rect:E});return L.useEffect(()=>{K&&Se.current.newIndex!==ye&&(Se.current.newIndex=ye),h!==Se.current.containerId&&(Se.current.containerId=h),u!==Se.current.items&&(Se.current.items=u)},[K,ye,h,u]),L.useEffect(()=>{if(ge===Se.current.activeId)return;if(ge!=null&&Se.current.activeId==null){Se.current.activeId=ge;return}const Y=setTimeout(()=>{Se.current.activeId=ge},50);return()=>clearTimeout(Y)},[ge]),{active:j,activeIndex:m,attributes:v,data:k,rect:E,index:S,newIndex:ye,items:u,isOver:C,isSorting:K,isDragging:G,listeners:V,node:N,overIndex:b,over:Q,setNodeRef:X,setActivatorNodeRef:H,setDroppableNodeRef:R,setDraggableNodeRef:O,transform:xe??Pe,transition:I()};function I(){if(xe||ve&&Se.current.newIndex===S)return yL;if(!(ie&&!Dx(_)||!d)&&(K||Ae))return Vl.Transition.toString({...d,property:WE})}}function wL(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}function Jf(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const _L=[Et.Down,Et.Right,Et.Up,Et.Left],qE=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:a,droppableContainers:i,over:s,scrollableAncestors:l}}=e;if(_L.includes(t.code)){if(t.preventDefault(),!n||!r)return;const c=[];i.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const m=a.get(h.id);if(m)switch(t.code){case Et.Down:r.top<m.top&&c.push(h);break;case Et.Up:r.top>m.top&&c.push(h);break;case Et.Left:r.left>m.left&&c.push(h);break;case Et.Right:r.left<m.left&&c.push(h);break}});const d=sM({collisionRect:r,droppableRects:a,droppableContainers:c});let u=CE(d,"id");if(u===(s==null?void 0:s.id)&&d.length>1&&(u=d[1].id),u!=null){const h=i.get(n.id),m=i.get(u),p=m?a.get(m.id):null,A=m==null?void 0:m.node.current;if(A&&p&&h&&m){const b=qp(A).some((P,E)=>l[E]!==P),x=HE(h,m),y=CL(h,m),w=b||!x?{x:0,y:0}:{x:y?r.width-p.width:0,y:y?r.height-p.height:0},S={x:p.left,y:p.top};return w.x&&w.y?S:Kd(S,w)}}}};function HE(t,e){return!Jf(t)||!Jf(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function CL(t,e){return!Jf(t)||!Jf(e)||!HE(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const pw=({task:t,originalTask:e,allTasks:n,rowHeight:r,isSelected:a,onSelect:i,onEdit:s,onIndent:l,onOutdent:c,onDeleteTask:d,isCompact:u,onToggleCollapse:h,isCollapsed:m,hasChildren:p})=>{const{attributes:A,listeners:g,setNodeRef:b,transform:x,transition:y,isDragging:w}=$E({id:t.id,disabled:u}),S={transform:Vl.Transform.toString(x),transition:y,height:r,zIndex:w?2:1,position:"relative",touchAction:"pan-x pan-y"};let k=0;if(e&&e.parent){k=1;let E=e,N=0;const C=10;for(;E.parent&&N<C;){const R=n.find(j=>j.id===E.parent);if(!R)break;N++,E=R}N>0&&(k=N)}const P=(u?8:20)+k*(u?12:24);return o.jsxs("div",{ref:b,style:S,onClick:()=>i(t.id),className:`flex items-center border-b border-gray-100 transition-colors group ${a?"bg-indigo-50 border-indigo-100":"hover:bg-gray-50 bg-white"} ${w?"shadow-lg ring-1 ring-indigo-500 opacity-90":""}`,children:[o.jsxs("div",{className:`px-2 truncate font-medium text-gray-700 flex-1 border-r border-gray-100 h-full flex items-center gap-2 ${u?"text-[11px]":""}`,style:{width:u?"180px":"280px",minWidth:u?"180px":"280px"},children:[!u&&o.jsx("div",{...A,...g,className:"cursor-grab hover:text-indigo-600 text-gray-400 p-1 flex-shrink-0",children:o.jsx(mE,{size:14})}),o.jsx("div",{style:{paddingLeft:`${P}px`},className:"flex items-center",children:t.type==="project"||p?o.jsx("button",{onClick:E=>{E.stopPropagation(),h&&h(t.id)},className:"mr-2 p-0.5 rounded-sm flex items-center justify-center transition-colors shadow-sm bg-white hover:bg-indigo-50 text-indigo-600 ring-1 ring-indigo-600",style:{width:u?14:18,height:u?14:18},title:m?"Expandir":"Recolher",children:m?o.jsx(Rn,{size:u?10:12,strokeWidth:3}):o.jsx(gE,{size:u?10:12,strokeWidth:3})}):null}),o.jsx("div",{className:`flex-1 cursor-pointer truncate ${t.type==="project"||p?"font-bold text-blue-600":""} text-[11px] flex items-center h-full`,onClick:E=>{E.stopPropagation(),e&&s(e)},title:e?e.name:t.name,children:e?e.name:t.name}),o.jsxs("div",{className:"flex items-center gap-0.5 mr-1",children:[o.jsx("button",{onClick:E=>{E.stopPropagation(),e&&c(e)},className:"p-0.5 hover:bg-gray-200 rounded text-gray-400 hover:text-indigo-600",title:"Diminuir Recuo",children:o.jsx(Hd,{size:12})}),o.jsx("button",{onClick:E=>{E.stopPropagation(),e&&l(e)},className:"p-0.5 hover:bg-gray-200 rounded text-gray-400 hover:text-indigo-600",title:"Aumentar Recuo",children:o.jsx(oo,{size:12})}),o.jsx("button",{onClick:E=>{E.stopPropagation(),e&&d&&confirm("Tem certeza que deseja excluir esta tarefa?")&&d(e.id)},className:"p-0.5 hover:bg-red-50 rounded text-gray-400 hover:text-red-500",title:"Excluir",children:o.jsx(ur,{size:12})})]})]}),o.jsx("div",{className:"px-4 truncate text-gray-500 border-r border-gray-100 h-full flex items-center justify-center cursor-pointer text-[11px]",style:{width:u?"80px":"100px",minWidth:u?"80px":"100px"},onClick:E=>{E.stopPropagation(),e&&s(e)},children:t.start.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}),o.jsx("div",{className:"px-4 truncate text-gray-500 h-full flex items-center justify-center cursor-pointer text-[11px]",style:{width:u?"80px":"100px",minWidth:u?"80px":"100px"},onClick:E=>{E.stopPropagation(),e&&s(e)},children:t.end.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}),o.jsxs("div",{className:"px-4 truncate text-gray-500 h-full flex items-center justify-center cursor-pointer text-[11px] bg-gray-50/50",style:{width:u?"60px":"80px",minWidth:u?"60px":"80px"},title:"Durao em Dias teis",children:[Fr(t.start,t.end),"d"]})]})},EL=({tasks:t,onTaskChange:e,onEditTask:n,onAddTask:r,onDeleteTask:a,onIndent:i,onOutdent:s,onReorderTasks:l,isModalOpen:c=!1,onLandscapeModeChange:d,onViewModeChange:u,aiConfidence:h})=>{const[m,p]=L.useState(null),A=ue.useRef(null),g=ue.useRef(null),b=Y=>{const q=window.innerWidth*.05,F=window.innerWidth*.05,B=Y==="left"||Y==="right",z=Y==="up"||Y==="down";if(A.current){const J=A.current.querySelectorAll("div");let $=!1;if(J.forEach(U=>{const te=window.getComputedStyle(U);B&&(te.overflowX==="auto"||te.overflowX==="scroll")&&U.scrollWidth>U.clientWidth&&(U.scrollBy({left:Y==="right"?q:-q,behavior:"auto"}),$=!0),z&&(te.overflowY==="auto"||te.overflowY==="scroll")&&U.scrollHeight>U.clientHeight&&(U.scrollBy({top:Y==="down"?F:-F,behavior:"auto"}),$=!0)}),$)return}g.current&&(B?g.current.scrollBy({left:Y==="right"?q:-q,behavior:"auto"}):g.current.scrollBy({top:Y==="down"?F:-F,behavior:"auto"}))},x=ue.useRef(null),y=()=>{x.current&&(cancelAnimationFrame(x.current),x.current=null)},w=Y=>{y();const q=()=>{b(Y),x.current=requestAnimationFrame(q)};q()},[S,k]=L.useState(!1);L.useEffect(()=>{d==null||d(S)},[S,d]);const[P,E]=L.useState(!1),[N,C]=L.useState(Qe.Year);L.useEffect(()=>{u==null||u(N)},[N,u]);const[R,j]=L.useState([]),[_,D]=L.useState(!0),[v,O]=L.useState(!1),[V,G]=L.useState(typeof window<"u"?window.innerWidth<1024:!1),[Q,H]=L.useState(!1),ne=ue.useRef(!1),X=ue.useRef(!1);L.useEffect(()=>{if(t.length>0&&!X.current){const Y=Array.from(new Set(t.filter(q=>t.some(F=>F.parent===q.id)).map(q=>q.id)));j(Y),X.current=!0}},[t]),L.useEffect(()=>{if(N===Qe.Year){const Y=setTimeout(()=>{A.current&&A.current.querySelectorAll("div").forEach(F=>{const B=window.getComputedStyle(F);(B.overflowX==="auto"||B.overflowX==="scroll")&&(F.scrollLeft=0)})},100);return()=>clearTimeout(Y)}},[N]);const K=Y=>{j(q=>q.includes(Y)?q.filter(F=>F!==Y):[...q,Y])};L.useEffect(()=>{E(!!S)},[S]);const ce=bE(Kf(Qp,{activationConstraint:{distance:15}}),Kf(Hp,{coordinateGetter:qE}));L.useEffect(()=>{const Y=()=>{G(window.innerWidth<1024),window.innerWidth>=1024&&S&&k(!1)};return window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},[S]),L.useEffect(()=>{ne.current=!1;const Y=A.current;if(!Y)return;let q;const F=()=>{var ot;q&&q.disconnect();const J=Array.from(Y.querySelectorAll("svg")).filter(Be=>!Be.closest("button")&&!Be.closest(".icon-wrapper"));let $=null,U=new Date;if(U.setHours(0,0,0,0),t.length>0){const Be=t.reduce((Ue,nt)=>new Date(nt.start)<Ue?new Date(nt.start):Ue,new Date(864e13));Be<U&&(U=Be)}const te={janeiro:0,fevereiro:1,maro:2,abril:3,maio:4,junho:5,julho:6,agosto:7,setembro:8,outubro:9,novembro:10,dezembro:11,jan:0,fev:1,mar:2,abr:3,mai:4,jun:5,jul:6,ago:7,set:8,out:9,nov:10,dez:11},Z={"Seg.,":"S","Ter.,":"T","Qua.,":"Q","Qui.,":"Q","Sex.,":"S","Sb.,":"S","Dom.,":"D","seg.,":"s","ter.,":"t","qua.,":"q","qui.,":"q","sex.,":"s","sb.,":"s","dom.,":"d"},re=new Date;re.setHours(0,0,0,0);const fe=[],Te=new Set;let Ne=null,$e=0;for(const Be of J){const Ue=Array.from(Be.querySelectorAll("text"));let nt=U.getMonth(),It=U.getFullYear();const mt=Ue.find(ze=>{var vt;const gt=((vt=ze.textContent)==null?void 0:vt.toLowerCase())||"";return Object.keys(te).some(dt=>gt.includes(dt))});if(mt){const ze=((ot=mt.textContent)==null?void 0:ot.toLowerCase())||"",gt=Object.keys(te).find(vt=>ze.includes(vt));if(gt!==void 0){nt=te[gt];const vt=ze.match(/\d{4}/);vt&&(It=parseInt(vt[0]))}}let Nt=-1;Ue.forEach(ze=>{let gt=ze.textContent||"";if(gt==="!")return;const vt=parseFloat(ze.getAttribute("x")||"0");if(vt<=0||Te.has(vt))return;if(N===Qe.Month){const Oe=gt.toLowerCase(),lt={janeiro:"Jan",fevereiro:"Fev",maro:"Mar",abril:"Abr",maio:"Mai",junho:"Jun",julho:"Jul",agosto:"Ago",setembro:"Set",outubro:"Out",novembro:"Nov",dezembro:"Dez"};for(const[Ft,_t]of Object.entries(lt))if(Oe.includes(Ft)){const Ot=gt.replace(new RegExp(Ft,"i"),_t);ze.textContent!==Ot&&(ze.textContent=Ot,gt=Ot)}}const dt=gt.match(/^[WS](\d+)$/);if(dt&&N===Qe.Week){const Oe=`S${dt[1]}`;ze.textContent!==Oe&&(ze.textContent=Oe,gt=Oe),ze.style.fill="#6b7280",ze.style.fontWeight="600",ze.getAttribute("text-anchor")!=="middle"&&(ze.setAttribute("x",(vt+Se/2).toString()),ze.setAttribute("text-anchor","middle"));return}if(S){const Oe=gt.match(/([a-zA-Z]+\.,)\s*(\d+)/);if(Oe){const[lt,Ft,_t]=Oe;if(Z[Ft]){const Ot=`${Z[Ft]}-${_t.padStart(2,"0")}`;ze.textContent!==Ot&&(ze.textContent=Ot,gt=Ot)}}}if(P||v?ze.style.fontSize="8px":ze.style.fontSize="",Object.keys(te).some(Oe=>gt.toLowerCase().includes(Oe))&&gt.length>8)return;const tt=gt.match(/(\d+)/);if(tt){const Oe=parseInt(tt[0]);if(Nt>20&&Oe<10&&(nt++,nt>11&&(nt=0,It++)),Nt=Oe,Oe>=1&&Oe<=31){const lt=new Date(It,nt,Oe);Ne||(Ne=lt,$e=vt);let Ft=null,_t=!1;lt.getDate()===re.getDate()&&lt.getMonth()===re.getMonth()&&lt.getFullYear()===re.getFullYear()?(Ft="today",ze.style.fill="#2563eb",ze.style.fontWeight="bold",_t=!0):Wp(lt)?(Ft="holiday",ze.style.fill="#dc2626",ze.style.fontWeight="bold",_t=!0):lt.getDay()===0||lt.getDay()===6?(Ft="weekend",ze.style.fill="#d97706",ze.style.fontWeight="bold",_t=!0):(ze.style.fill="",ze.style.fontWeight=""),Ft&&_t&&(fe.push({x:vt,type:Ft,sourceSvg:Be}),Te.add(vt),Ft==="today"&&!$&&($={x:vt,element:Be}))}}})}for(const Be of J){const Ue=Be.querySelector("#custom-backgrounds");Ue&&Ue.remove();const nt=Be.querySelector("#custom-ruler");if(nt&&nt.remove(),fe.length===0)return;const It=document.createElementNS("http://www.w3.org/2000/svg","g");It.id="custom-backgrounds";const mt=document.createElementNS("http://www.w3.org/2000/svg","g");mt.id="custom-ruler",Be.firstChild?Be.insertBefore(It,Be.firstChild):Be.appendChild(It),Be.appendChild(mt),fe.forEach(Nt=>{const ze=document.createElementNS("http://www.w3.org/2000/svg","rect");if(ze.setAttribute("x",Math.max(0,Nt.x-Se/2).toString()),ze.setAttribute("y","0"),ze.setAttribute("width",Se.toString()),ze.setAttribute("height","100%"),Nt.type==="today"){ze.setAttribute("fill","#eff6ff"),ze.setAttribute("fill-opacity","0.5"),It.appendChild(ze);const gt=J.indexOf(Nt.sourceSvg),vt=J.indexOf(Be);if(vt>gt){const dt=document.createElementNS("http://www.w3.org/2000/svg","line");dt.setAttribute("x1",Nt.x.toString()),dt.setAttribute("x2",Nt.x.toString()),dt.setAttribute("y1","0"),dt.setAttribute("y2","100%"),dt.setAttribute("stroke","#ef4444"),dt.setAttribute("stroke-width","1"),mt.appendChild(dt)}if(vt===gt+1){const dt=document.createElementNS("http://www.w3.org/2000/svg","rect");dt.setAttribute("x",(Nt.x-15).toString()),dt.setAttribute("y","2"),dt.setAttribute("width","30"),dt.setAttribute("height","14"),dt.setAttribute("fill","white"),dt.setAttribute("rx","4"),mt.appendChild(dt);const tt=document.createElementNS("http://www.w3.org/2000/svg","text");tt.textContent="Hoje",tt.setAttribute("x",Nt.x.toString()),tt.setAttribute("y","12"),tt.setAttribute("text-anchor","middle"),tt.setAttribute("fill","#ef4444"),tt.setAttribute("font-weight","bold"),tt.setAttribute("font-size","10px"),mt.appendChild(tt)}}else ze.setAttribute("fill",Nt.type==="holiday"?"#fef2f2":"#f3f4f6"),It.appendChild(ze)})}if(Y.querySelectorAll(".barLabel").forEach(Be=>{Be instanceof SVGTextElement&&Be.setAttribute("dy","0")}),!ne.current){let Be=null;for(const Ue of J){const nt=Ue.parentElement;if(nt&&(nt.scrollWidth>nt.clientWidth||getComputedStyle(nt).overflowX==="auto"||getComputedStyle(nt).overflowX==="scroll")){Be=nt;break}}if(!Be&&J.length>0&&(Be=J[J.length-1].parentElement),Be){if(N===Qe.Week)Be.scrollTo({left:0,behavior:"smooth"}),ne.current=!0;else if($){const Ue=$.x-Be.clientWidth/2;Math.abs(Be.scrollLeft-Ue)>10&&Be.scrollTo({left:Math.max(0,Ue),behavior:"smooth"}),ne.current=!0}else if(Ne&&N!==Qe.Week){let Ue=0;const nt=Ne;N===Qe.Month?Ue=((re.getFullYear()-nt.getFullYear())*12+(re.getMonth()-nt.getMonth()))*Se:Ue=Math.floor((re.getTime()-nt.getTime())/864e5)*Se;const mt=$e+Ue-Be.clientWidth/2;Math.abs(Be.scrollLeft-mt)>10&&Be.scrollTo({left:Math.max(0,mt),behavior:"smooth"}),ne.current=!0}}}q&&q.observe(Y,{childList:!0,subtree:!0,attributes:!0})};let B;q=new MutationObserver(J=>{J.some(U=>U.type==="childList"||U.type==="attributes"&&U.attributeName!=="style"&&U.attributeName!=="class")&&(clearTimeout(B),B=setTimeout(F,100))});const z=setTimeout(F,200);return q.observe(Y,{childList:!0,subtree:!0,attributes:!0}),()=>{clearTimeout(z),q.disconnect()}},[t,m,P,S,N,v]);const ie=L.useMemo(()=>{const Y=new Date;Y.setHours(0,0,0,0);const q=t.map($=>{const U=(new Date($.end).getTime()-new Date($.start).getTime())/864e5;let te=$.type;$.type!=="project"&&(te=U<=1?"milestone":"task");const Z=new Date($.end);Z.setHours(0,0,0,0);const re=Z<=Y&&$.progress<100&&$.type!=="project";let fe=$.styles;return fe||(re?fe={progressColor:"#dc2626",backgroundColor:"#fca5a5",backgroundSelectedColor:"#fecaca"}:$.progress===100?fe={progressColor:"#10b981",backgroundColor:"#dcfce7",backgroundSelectedColor:"#bbf7d0"}:$.type==="project"?fe={progressColor:"#4f46e5",backgroundColor:"#e0e7ff",backgroundSelectedColor:"#c7d2fe"}:fe={progressColor:"#3b82f6",backgroundColor:"#eef2ff",backgroundSelectedColor:"#dbeafe"}),{start:new Date($.start),end:new Date($.end),name:$.name,id:$.id,type:te,progress:$.progress,isDisabled:!1,styles:fe,project:$.parent||void 0,dependencies:$.dependencies||[],hideChildren:R.includes($.id)}}),F=Y.getFullYear()+5;let B=new Date(`${F}-12-31`);if(N===Qe.Day){const $=t.length>0?t.reduce((U,te)=>te.end>U?te.end:U,new Date):new Date;B=new Date($),B.setDate(B.getDate()+60)}q.push({start:B,end:B,name:"",id:`dummy-extender-${B.getTime()}`,type:"task",progress:0,isDisabled:!0,styles:{backgroundColor:"transparent",backgroundSelectedColor:"transparent",progressColor:"transparent"},hideChildren:!1,project:void 0,dependencies:[]});const z=new Map;return t.forEach($=>{$.parent&&z.set($.id,$.parent)}),q.filter($=>{let U=$.id,te=0;for(;te<20;){const Z=z.get(U);if(!Z)break;if(R.includes(Z))return!1;U=Z,te++}return!0})},[t,R,N]),oe=Y=>{if(Y.type==="project")return;const q=t.find(F=>F.id===Y.id);q&&e({...q,start:Y.start,end:Y.end})},pe=Y=>{if(Y.type==="project")return;const q=t.find(F=>F.id===Y.id);q&&e({...q,progress:Y.progress})},Pe=Y=>{const{active:q,over:F}=Y;if(F&&q.id!==F.id){const B=t.findIndex(J=>J.id===q.id),z=t.findIndex(J=>J.id===F.id);if(B!==-1&&z!==-1){const J=Yp(t,B,z);l(J,q.id)}}},ye=P||v,ge=v?24:P?28:34,Se=N===Qe.Year?130:v?30:P?40:65,ve=ye?"180px":"280px",Ae=`
        .gantt-landscape-container svg text {
            font-size: 10px !important;
        }
        .gantt-landscape-container .grid-header {
            height: 26px !important; 
        }
        /* Landscape Container Overrides */
        .gantt-landscape-container .grid-header > text {
             font-size: 9px !important; 
             transform: translateY(-14px); /* Pull text up to center it visually */
             dominant-baseline: auto; /* Reset to let transform handle it */
        }
        /* Vertical Align Text and Reduce Task List Font */
        .gantt-landscape-container .taskListWrapper svg text {
             dominant-baseline: middle;
             alignment-baseline: middle;
             font-size: 9px !important;
             transform: translateY(1px); /* Fine-tune optical center */
        }
        
        /* Ensure the gantt internal container allows scrolling */
        .gantt-landscape-container > div {
            overflow: auto !important;
            -webkit-overflow-scrolling: touch !important;
        }
    `,xe=S?{position:"fixed",top:0,left:"100vw",width:"100vh",height:"100vw",transform:"rotate(90deg)",transformOrigin:"top left",zIndex:9999,background:"white",touchAction:"manipulation"}:{},I=S?"flex flex-col gantt-landscape-container":"w-full flex flex-col h-full bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden relative";return o.jsxs("div",{ref:A,className:I,style:xe,children:[S&&o.jsx("style",{children:Ae}),o.jsxs("div",{className:`flex items-center justify-between p-2 border-b border-gray-100 bg-gray-50 flex-shrink-0 ${S?"px-8 py-2 h-14":""}`,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:`font-bold text-gray-700 whitespace-nowrap ${P||v?"text-sm":""}`,children:"Cronograma"}),o.jsx("button",{onClick:()=>D(!_),className:`hidden lg:flex items-center gap-1 px-3 py-1.5 rounded-full text-xs font-bold transition-colors ml-2 shadow-sm
                            ${_?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-indigo-600 text-white hover:bg-indigo-700"}`,title:_?"Ocultar Lista":"Mostrar Lista",children:o.jsx(Qb,{size:16,className:_?"text-indigo-600":"text-current"})}),o.jsxs("button",{onClick:()=>O(!v),className:`hidden lg:flex items-center gap-1 px-3 py-1.5 rounded-full text-xs font-bold transition-colors ml-2 shadow-sm
                            ${v?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:v?"Modo Normal":"Modo Super Compacto",children:[v?o.jsx(Zb,{size:14}):o.jsx(ew,{size:14}),o.jsx("span",{className:"hidden xl:inline",children:v?"Normal":"Compacto"})]}),o.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1 ml-2",children:[o.jsx("button",{onClick:()=>j([]),className:"p-1 hover:bg-white rounded transition-colors shadow-sm",title:"Expandir Tudo",children:o.jsx(Rn,{size:16,className:"text-green-600"})}),o.jsx("button",{onClick:()=>{const Y=Array.from(new Set(t.filter(q=>t.some(F=>F.parent===q.id)).map(q=>q.id)));j(Y)},className:"p-1 hover:bg-white rounded transition-colors shadow-sm ml-1",title:"Recolher Tudo",children:o.jsx(gE,{size:16,className:"text-red-600"})})]}),h!==void 0&&o.jsxs("div",{className:`hidden md:flex px-3 py-1.5 rounded-lg text-xs font-bold border items-center gap-2 ml-2 ${h>.8?"bg-green-50 text-green-700 border-green-200":"bg-orange-50 text-orange-700 border-orange-200"}`,children:[o.jsx(sr,{size:14}),(h*100).toFixed(0),"% Confiana"]}),o.jsx("button",{onClick:()=>k(!S),className:`lg:hidden flex items-center gap-1 px-3 py-1.5 rounded-full text-xs font-bold transition-colors ml-2 shadow-sm
                            ${S?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:o.jsx(Qb,{size:16,className:S?"text-white":"text-indigo-600"})}),S&&o.jsx("button",{onClick:()=>E(!P),className:"flex items-center justify-center p-1.5 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200 ml-2",title:P?"Aumentar Zoom":"Diminuir Zoom",children:P?o.jsx(Zb,{size:14}):o.jsx(ew,{size:14})})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:`${S?"flex":"hidden"} lg:flex gap-2`,children:[o.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1 mr-2",children:[o.jsx("button",{onClick:()=>C(Qe.Day),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${N===Qe.Day?"bg-white shadow text-indigo-600":"text-gray-500 hover:text-gray-900"}`,children:"Dia"}),o.jsx("button",{onClick:()=>C(Qe.Week),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${N===Qe.Week?"bg-white shadow text-indigo-600":"text-gray-500 hover:text-gray-900"}`,children:"Semana"}),o.jsx("button",{onClick:()=>C(Qe.Month),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${N===Qe.Month?"bg-white shadow text-indigo-600":"text-gray-500 hover:text-gray-900"}`,children:"Ms"}),o.jsx("button",{onClick:()=>C(Qe.Year),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${N===Qe.Year?"bg-white shadow text-indigo-600":"text-gray-500 hover:text-gray-900"}`,children:"Ano"})]}),o.jsxs("button",{onClick:()=>r(m||void 0),className:`hidden lg:flex items-center gap-2 bg-indigo-600 text-white px-3 py-1.5 rounded-md text-sm hover:bg-indigo-700 transition ml-2 whitespace-nowrap ${P?"text-xs px-2 py-1":""}`,children:[o.jsx("span",{className:"text-lg font-bold leading-none",style:{marginTop:"-2px"},children:"+"}),o.jsx("span",{className:"hidden sm:inline",children:"Nova Tarefa"})]})]}),o.jsxs("div",{className:`${S?"hidden":""} lg:hidden relative`,children:[o.jsxs("button",{onClick:()=>H(!Q),className:"bg-indigo-600 text-white px-3 py-1.5 rounded-md text-sm font-medium shadow hover:bg-indigo-700 transition flex items-center gap-2",children:[o.jsx("span",{children:"Aes"}),o.jsx(Lj,{size:16})]}),Q&&o.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-100 z-50 p-2 flex flex-col gap-2 animate-in fade-in zoom-in duration-200",children:[o.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase px-2 mb-1",children:"Visualizao"}),o.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>{C(Qe.Day),H(!1)},className:`flex-1 px-2 py-1 text-xs font-medium rounded-md transition-all ${N===Qe.Day?"bg-white shadow text-indigo-600":"text-gray-500"}`,children:"Dia"}),o.jsx("button",{onClick:()=>{C(Qe.Week),H(!1)},className:`flex-1 px-2 py-1 text-xs font-medium rounded-md transition-all ${N===Qe.Week?"bg-white shadow text-indigo-600":"text-gray-500"}`,children:"Sem"}),o.jsx("button",{onClick:()=>{C(Qe.Month),H(!1)},className:`flex-1 px-2 py-1 text-xs font-medium rounded-md transition-all ${N===Qe.Month?"bg-white shadow text-indigo-600":"text-gray-500"}`,children:"Ms"}),o.jsx("button",{onClick:()=>{C(Qe.Year),H(!1)},className:`flex-1 px-2 py-1 text-xs font-medium rounded-md transition-all ${N===Qe.Year?"bg-white shadow text-indigo-600":"text-gray-500"}`,children:"Ano"})]}),o.jsx("div",{className:"h-px bg-gray-100 my-1"}),o.jsxs("button",{onClick:()=>{r(m||void 0),H(!1)},className:"flex items-center gap-2 bg-indigo-600 text-white px-3 py-2 rounded-md text-sm font-medium hover:bg-indigo-700 transition justify-center",children:[o.jsx(Rn,{size:16}),o.jsx("span",{children:"Nova Tarefa"})]})]})]})]})]}),o.jsx("div",{id:"gantt-chart-area",ref:g,className:`flex-1 overflow-x-auto overflow-y-auto bg-white w-full touch-pan-x touch-pan-y ${V?"mobile-gantt-fix":""}`,style:{WebkitOverflowScrolling:"touch"},children:!t||t.length===0?o.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-400 min-h-[200px]",children:o.jsx("p",{children:'No tasks to display. Click "Nova Tarefa" to start.'})}):S?o.jsx(rg,{tasks:ie,viewMode:N,locale:"pt-BR",onDateChange:oe,onProgressChange:pe,listCellWidth:_?ve:"",columnWidth:Se,rowHeight:ge,barFill:55,ganttHeight:window.innerWidth-(ye?56:65),TaskListTable:_?Y=>o.jsx("div",{className:"font-sans text-sm border-r border-gray-200 bg-white",children:Y.tasks.filter(q=>q.id!=="gantt-spacer").map(q=>{const F=t.find(B=>B.id===q.id);return o.jsx(pw,{task:q,originalTask:F,allTasks:t,rowHeight:Y.rowHeight,isSelected:m===q.id,onSelect:B=>p(z=>z===B?null:B),onEdit:n,onIndent:i,onOutdent:s,onDeleteTask:a,isCompact:ye,onToggleCollapse:K,isCollapsed:R.includes(q.id)},q.id)})}):()=>o.jsx(o.Fragment,{}),TaskListHeader:_?({headerHeight:Y})=>o.jsxs("div",{className:"flex items-center bg-gray-50 border-b border-r border-gray-200 font-bold text-gray-500 uppercase tracking-wider",style:{height:Y,fontSize:ye?"10px":"12px"},children:[o.jsx("div",{className:"px-4 flex-1 border-r border-gray-200 h-full flex items-center",style:{width:ve,minWidth:ve},children:"Tarefa"}),o.jsx("div",{className:"px-4 border-r border-gray-200 h-full flex items-center justify-center",style:{width:ye?"80px":"100px",minWidth:ye?"80px":"100px"},children:"Incio"}),o.jsx("div",{className:"px-4 h-full flex items-center justify-center",style:{width:ye?"80px":"100px",minWidth:ye?"80px":"100px"},children:"Fim"}),o.jsx("div",{className:"px-4 h-full flex items-center justify-center text-gray-400",style:{width:ye?"60px":"80px",minWidth:ye?"60px":"80px"},children:"Dias"})]}):()=>o.jsx(o.Fragment,{})}):o.jsx("div",{className:"w-full h-full",children:V?o.jsx(rg,{tasks:ie,viewMode:N,locale:"pt-BR",onDateChange:void 0,onProgressChange:void 0,onDoubleClick:void 0,onSelect:Y=>{const q=t.find(F=>F.id===Y.id);q&&n(q)},listCellWidth:_&&!V?ve:"",columnWidth:Se,rowHeight:ge,barFill:55,ganttHeight:500,TaskListTable:()=>o.jsx(o.Fragment,{}),TaskListHeader:()=>o.jsx(o.Fragment,{})}):o.jsx(OE,{sensors:ce,collisionDetection:EE,onDragEnd:Pe,children:o.jsx(rg,{tasks:ie,viewMode:N,locale:"pt-BR",onDateChange:oe,onProgressChange:pe,listCellWidth:_&&!V?ve:"",columnWidth:Se,rowHeight:ge,barFill:55,ganttHeight:500,TaskListTable:!_||V?()=>o.jsx(o.Fragment,{}):Y=>o.jsx("div",{className:"font-sans text-sm border-r border-gray-200 bg-white touch-pan-x touch-pan-y",children:o.jsx(GE,{items:Y.tasks.filter(q=>q.id!=="gantt-spacer").map(q=>q.id),strategy:zE,children:Y.tasks.filter(q=>q.id!=="gantt-spacer").map(q=>{const F=t.find(z=>z.id===q.id),B=t.some(z=>z.parent===q.id);return o.jsx(pw,{task:q,originalTask:F,allTasks:t,rowHeight:Y.rowHeight,isSelected:m===q.id,onSelect:z=>p(J=>J===z?null:z),onEdit:n,onIndent:i,onOutdent:s,onDeleteTask:a,isCompact:ye,onToggleCollapse:K,isCollapsed:R.includes(q.id),hasChildren:B},q.id)})})}),TaskListHeader:!_||V?()=>o.jsx(o.Fragment,{}):({headerHeight:Y})=>o.jsxs("div",{className:"flex items-center bg-gray-50 border-b border-r border-gray-200 font-bold text-gray-500 uppercase tracking-wider",style:{height:Y,fontSize:ye?"10px":"12px"},children:[o.jsx("div",{className:"px-4 flex-1 border-r border-gray-200 h-full flex items-center",style:{width:ve,minWidth:ve},children:"Tarefa"}),o.jsx("div",{className:"px-4 border-r border-gray-200 h-full flex items-center justify-center",style:{width:ye?"80px":"100px",minWidth:ye?"80px":"100px"},children:"Incio"}),o.jsx("div",{className:"px-4 border-r border-gray-200 h-full flex items-center justify-center",style:{width:ye?"80px":"100px",minWidth:ye?"80px":"100px"},children:"Fim"}),o.jsx("div",{className:"px-4 h-full flex items-center justify-center text-gray-400",style:{width:ye?"60px":"80px",minWidth:ye?"60px":"80px"},children:"Dias"})]})})})})}),V&&!c&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed bottom-20 left-4 z-30",children:o.jsx("button",{onClick:()=>D(!_),className:"p-3 bg-white shadow-xl rounded-full text-indigo-600 active:scale-90 transition-all border border-indigo-100",children:_?o.jsx(Hd,{size:24}):o.jsx(oo,{size:24})})}),o.jsxs("div",{className:"fixed bottom-20 right-4 z-30 flex flex-col items-center gap-0",children:[o.jsx("button",{onTouchStart:()=>w("up"),onTouchEnd:y,onMouseDown:()=>w("up"),onMouseUp:y,onMouseLeave:y,onContextMenu:Y=>Y.preventDefault(),className:"p-3 bg-indigo-600 shadow-xl rounded-full text-white active:scale-90 transition-all border-2 border-white/20",children:o.jsx(Aj,{size:24})}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onTouchStart:()=>w("left"),onTouchEnd:y,onMouseDown:()=>w("left"),onMouseUp:y,onMouseLeave:y,onContextMenu:Y=>Y.preventDefault(),className:"p-3 bg-indigo-600 shadow-xl rounded-full text-white active:scale-90 transition-all border-2 border-white/20",children:o.jsx(Hd,{size:24})}),o.jsx("button",{onTouchStart:()=>w("right"),onTouchEnd:y,onMouseDown:()=>w("right"),onMouseUp:y,onMouseLeave:y,onContextMenu:Y=>Y.preventDefault(),className:"p-3 bg-indigo-600 shadow-xl rounded-full text-white active:scale-90 transition-all border-2 border-white/20",children:o.jsx(oo,{size:24})})]}),o.jsx("button",{onTouchStart:()=>w("down"),onTouchEnd:y,onMouseDown:()=>w("down"),onMouseUp:y,onMouseLeave:y,onContextMenu:Y=>Y.preventDefault(),className:"p-3 bg-indigo-600 shadow-xl rounded-full text-white active:scale-90 transition-all border-2 border-white/20",children:o.jsx(Co,{size:24})})]})]})]})},NL="0.1.52",QE=({item:t,activeView:e,onNavigate:n,level:r=0,isCollapsed:a=!1})=>{const[i,s]=L.useState(t.isOpen||!1),l=t.id===e,c=L.useMemo(()=>{const p=A=>A.id===e?!0:A.children?A.children.some(p):!1;return t.children?t.children.some(p):!1},[t,e]),d="flex items-center w-full p-3 transition-colors duration-200 outline-none",u=l?"bg-indigo-600/10 text-indigo-400 border-r-2 border-indigo-600":c?"text-slate-200":"text-slate-400 hover:text-white hover:bg-slate-800",h=a?12:r*12+12,m=()=>{t.children?s(!i):t.id&&n(t.id)};return L.useMemo(()=>{c&&s(!0)},[c]),o.jsxs("div",{className:"w-full",children:[o.jsxs("button",{onClick:m,className:`${d} ${u} ${a?"justify-center":""}`,style:{paddingLeft:`${h}px`},title:a?t.label:void 0,children:[o.jsx(t.icon,{size:20,className:`shrink-0 ${l?"text-indigo-400":""}`}),!a&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"ml-3 font-medium text-sm truncate flex-1 text-left animate-in fade-in zoom-in-95 duration-200",children:t.label}),t.children&&o.jsx("span",{className:"ml-2",children:i?o.jsx(Co,{size:14}):o.jsx(oo,{size:14})})]})]}),t.children&&i&&!a&&o.jsx("div",{className:"overflow-hidden transition-all duration-300",children:t.children.map((p,A)=>o.jsx(QE,{item:p,activeView:e,onNavigate:n,level:r+1,isCollapsed:a},p.id||A))})]})},XE=({activeView:t,onNavigate:e,className:n="",clients:r=[],projects:a=[],currentUser:i})=>{const[s,l]=L.useState(!1),c=L.useMemo(()=>[{label:"Clientes",icon:vj,children:[{label:"Viso Geral / Gerenciar",id:"clients_manage",icon:Ad}]}],[r,a]);return o.jsxs("aside",{className:`h-full bg-slate-900 text-white flex flex-col transition-all duration-300 flex-shrink-0 border-r border-slate-800 ${s?"w-20":"w-20 lg:w-64"} ${n}`,children:[o.jsxs("div",{className:`h-16 flex items-center ${s?"justify-center":"justify-center lg:justify-between lg:px-6"} border-b border-slate-800 bg-slate-950/50 shrink-0 relative group`,children:[o.jsxs("div",{className:`flex items-center ${s?"justify-center":""}`,children:[o.jsx("img",{src:"/logo.png",alt:"Logo",className:`object-contain transition-all duration-300 ${s?"h-8 w-8":"h-8 w-auto"}`}),!s&&o.jsx("span",{className:"ml-3 font-bold text-lg tracking-tight text-white animate-in fade-in slide-in-from-left-2 whitespace-nowrap",children:"UERJ-FAF 2025"})]}),o.jsx("button",{onClick:()=>l(!s),className:`absolute -right-3 top-1/2 -translate-y-1/2 bg-slate-800 text-slate-400 p-1 rounded-full border border-slate-700 hover:text-white hover:bg-slate-700 transition-all z-10 hidden lg:flex ${s?"-right-3":"opacity-0 group-hover:opacity-100"}`,title:s?"Expandir Menu":"Recolher Menu",children:s?o.jsx(yj,{size:14}):o.jsx(xj,{size:14})})]}),i&&o.jsxs("div",{className:`p-4 border-b border-slate-800 flex items-center gap-3 ${s?"justify-center":""}`,children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold border border-slate-600 shrink-0",children:i.displayName?i.displayName.charAt(0).toUpperCase():"U"}),!s&&o.jsxs("div",{className:"flex-1 overflow-hidden animate-in fade-in slide-in-from-left-2",children:[o.jsx("p",{className:"text-sm font-medium truncate text-slate-200",children:i.displayName}),o.jsx("p",{className:"text-xs text-slate-500 truncate",children:i.email})]})]}),o.jsx("nav",{className:"flex-1 py-4 pb-20 overflow-y-auto scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent",children:o.jsx("div",{className:"space-y-1",children:c.map((d,u)=>o.jsx(QE,{item:d,activeView:t,onNavigate:e,isCollapsed:s},d.id||u))})}),o.jsxs("div",{className:`p-4 border-t border-slate-800 bg-slate-950/30 shrink-0 ${s?"flex justify-center":""}`,children:[(i==null?void 0:i.role)==="master"&&o.jsxs("button",{onClick:()=>e("settings"),className:`flex items-center text-slate-400 hover:text-white transition-colors w-full ${s?"justify-center":"justify-center lg:justify-start"} group p-2 rounded-lg hover:bg-slate-800`,title:s?"Configuraes":void 0,children:[o.jsx(Ad,{size:20,className:"group-hover:rotate-90 transition-transform duration-500"}),!s&&o.jsx("span",{className:"ml-3 font-medium",children:"Configuraes"})]}),o.jsx("div",{className:"text-xs text-slate-600 text-center mt-2 font-mono",children:!s&&`v${NL}`})]})]})},TL=t=>{const{isOpen:e,onClose:n,...r}=t;return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:`fixed inset-0 bg-black/60 backdrop-blur-sm z-40 transition-opacity duration-300 lg:hidden ${e?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:n}),o.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-72 bg-slate-900 transform transition-transform duration-300 lg:hidden ${e?"translate-x-0":"-translate-x-full"} shadow-2xl border-r border-slate-700 h-[100dvh]`,children:o.jsx(XE,{...r,className:"w-full h-full border-none",onNavigate:a=>{r.onNavigate(a),n()}})})]})},SL=({stats:t,project:e,onUpdateProject:n,onShowClientBlockages:r})=>{var O,V;const a=!!(e!=null&&e.fixedSnapshot),s=(()=>{if(!e)return 0;if(e.fixedSnapshot)return e.fixedSnapshot.price;const G=t.totalCost,Q=(e.margin||0)/100,H=(e.deliveryDeviation||0)/100,ne=(e.taxRate||0)/100,K=(1-Q>.001?G/(1-Q):G)-G,ie=(1-H>.001?G/(1-H):G)-G,oe=G+K+ie,pe=1-ne;return pe<=.001?0:oe/pe})(),l=(G,Q)=>{if(!e||!n)return;const H=parseFloat(Q);n({...e,[G]:isNaN(H)?0:H})},c=G=>{if(!e||!n||!e.fixedSnapshot)return;const Q=parseFloat(G);n({...e,fixedSnapshot:{...e.fixedSnapshot,price:isNaN(Q)?0:Q}})},d=()=>{!e||!n||a||n({...e,fixedSnapshot:{cost:t.totalCost,duration:t.totalDuration,startDate:t.startDate,endDate:t.endDate,margin:e.margin||0,taxRate:e.taxRate||0,deliveryDeviation:e.deliveryDeviation||0,price:s}})},u=({label:G,value:Q,subValue:H,icon:ne,colorClass:X,subColorClass:K})=>o.jsxs("div",{className:"flex flex-col min-w-[80px]",children:[o.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[o.jsx("div",{className:`p-1 rounded bg-opacity-10 ${X.replace("text-","bg-")}`,children:o.jsx(ne,{size:12,className:X})}),o.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 tracking-wider",children:G})]}),o.jsxs("div",{className:"flex items-baseline gap-2",children:[o.jsx("span",{className:"text-sm font-bold text-gray-900",children:Q}),H&&o.jsx("span",{className:`text-xs font-medium ${K}`,children:H})]})]}),h=(G,Q)=>G===void 0?{label:"-",color:"text-gray-400",subColor:"text-gray-400"}:G<.95?{label:Q?"Estourado":"Atrasado",color:"text-red-600",subColor:"text-red-500"}:G>1.05?{label:"Analisar",color:"text-orange-600",subColor:"text-orange-500"}:{label:"Ok",color:"text-emerald-600",subColor:"text-emerald-600"},m=h(t.spi,!1),p=h(t.cpi,!0),A=G=>{if(!G)return"-";const Q=new Date(G.seconds?G.seconds*1e3:G);return isNaN(Q.getTime())?"-":Q.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})},g=(e==null?void 0:e.fixedSnapshot)||{cost:t.totalCost,duration:t.totalDuration,startDate:t.startDate,endDate:t.endDate,margin:(e==null?void 0:e.margin)||0,taxRate:(e==null?void 0:e.taxRate)||0,deliveryDeviation:(e==null?void 0:e.deliveryDeviation)||0,price:s},b=(g.margin||0)/100,x=(g.deliveryDeviation||0)/100,y=1-b>.001?g.cost/(1-b)-g.cost:0,w=1-x>.001?g.cost/(1-x)-g.cost:0,S=(()=>{if(!e)return t.totalCost;let G=0;return e.monthlyCosts&&(G+=e.monthlyCosts.reduce((Q,H)=>Q+(H.cost||0),0)),e.otherCosts&&e.otherCosts.forEach(Q=>{Q.values&&(G+=Object.values(Q.values).reduce((H,ne)=>H+(ne||0),0))}),G>0?G:t.totalCost})(),k=t.totalDuration;e!=null&&e.deliveryDeviation;const P=g.price*(1-g.taxRate/100),E=g.deliveryDeviation||1,C=((e==null?void 0:e.deliveryDeviation)||0)*(w/E),R=P-w,j=P-C-S,_=R>.001?j/R*100:0,[D,v]=L.useState(!1);return o.jsx("div",{className:"-mt-8 -mx-8 bg-white border-b border-gray-200 px-8 py-6 mb-6 shadow-sm z-20 relative",children:o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsxs("div",{className:`relative p-5 rounded-xl border transition-all ${a?"bg-indigo-50/30 border-indigo-200":"bg-white border-gray-200"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-gray-100 pb-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`p-1.5 rounded-lg ${a?"bg-indigo-100 text-indigo-600":"bg-emerald-100 text-emerald-600"}`,children:o.jsx(sr,{size:16})}),o.jsxs("div",{children:[o.jsx("h3",{className:`text-sm font-bold uppercase tracking-wider ${a?"text-indigo-900":"text-emerald-900"}`,children:"Indicadores de Venda"}),o.jsx("p",{className:"text-xs text-gray-500",children:a?"Valores congelados conforme contrato vendido.":"Estimativas baseadas no planejamento atual."})]})]}),e&&o.jsxs("button",{onClick:d,className:`text-[10px] uppercase font-bold px-3 py-1.5 rounded-full flex items-center gap-1.5 transition-colors border ${a?"bg-indigo-100 text-indigo-700 border-indigo-200 hover:bg-indigo-200":"bg-emerald-50 text-emerald-700 border-emerald-200 hover:bg-emerald-100"}`,children:[a?o.jsx(Nx,{size:10}):o.jsx(Uj,{size:10}),a?"Editar (Vendido)":"Marcar como Vendido"]})]}),o.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 xl:grid-cols-8 gap-6",children:[o.jsx(u,{label:"Estimado",value:`R$ ${g.cost.toLocaleString("pt-BR",{notation:"compact"})}`,icon:ha,colorClass:"text-gray-600"}),o.jsx(u,{label:"Prazo",value:`${g.duration}d`,icon:lo,colorClass:"text-gray-600"}),o.jsx(u,{label:"Incio",value:A(g.startDate),icon:Gi,colorClass:"text-gray-600"}),o.jsx(u,{label:"Fim",value:A(g.endDate),icon:Gi,colorClass:"text-gray-600"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-[10px] text-gray-400 font-bold block mb-0.5 uppercase",children:"MARGEM"}),o.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[g.margin,"%"]}),o.jsxs("span",{className:"text-[10px] text-gray-400 font-medium block",children:["R$ ",y.toLocaleString("pt-BR",{notation:"compact"})]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-[10px] text-gray-400 font-bold block mb-0.5 uppercase",children:"DESVIO"}),o.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[g.deliveryDeviation,"%"]}),o.jsxs("span",{className:"text-[10px] text-gray-400 font-medium block",children:["R$ ",w.toLocaleString("pt-BR",{notation:"compact"})]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-[10px] text-gray-400 font-bold block mb-0.5 uppercase",children:"IMPOSTO"}),o.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[g.taxRate,"%"]})]}),o.jsxs("div",{className:`border-l pl-4 ${a?"border-indigo-200":"border-gray-200"}`,children:[o.jsx("span",{className:`text-[10px] font-bold block mb-0.5 uppercase ${a?"text-indigo-600":"text-emerald-600"}`,children:"Investimento"}),a?D?o.jsxs("div",{className:"flex items-center gap-1 border-b border-indigo-300 border-dashed",children:[o.jsx("span",{className:"text-sm font-bold text-indigo-700 leading-none",children:"R$"}),o.jsx("input",{type:"number",autoFocus:!0,value:g.price,onChange:G=>c(G.target.value),onBlur:()=>v(!1),onKeyDown:G=>G.key==="Enter"&&v(!1),className:"w-full bg-transparent text-sm font-bold text-indigo-700 leading-none focus:outline-none"})]}):o.jsx("div",{onClick:()=>v(!0),className:"cursor-pointer hover:bg-indigo-50 rounded px-1 -ml-1 transition-colors group",title:"Clique para editar",children:o.jsxs("span",{className:"text-sm font-bold text-indigo-700 leading-none group-hover:underline decoration-dashed underline-offset-4",children:["R$ ",g.price.toLocaleString("pt-BR",{notation:"compact"})]})}):o.jsxs("span",{className:"text-sm font-bold text-emerald-700 leading-none",children:["R$ ",g.price.toLocaleString("pt-BR",{notation:"compact"})]})]})]})]}),a&&o.jsxs("div",{className:"bg-white p-5 rounded-xl border border-blue-100 shadow-sm animate-in fade-in slide-in-from-top-4 duration-300 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-blue-500"}),o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx("div",{className:"p-1.5 rounded-lg bg-blue-100 text-blue-600",children:o.jsx($f,{size:16})}),o.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-blue-900",children:"Indicadores da Operao"})]}),o.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 xl:grid-cols-8 gap-6",children:[o.jsx(u,{label:"Custo Real",value:`R$ ${S.toLocaleString("pt-BR",{notation:"compact"})}`,subValue:S>g.cost?"Estourado":void 0,subColorClass:"text-red-500",icon:ha,colorClass:"text-blue-600"}),o.jsx(u,{label:"Prazo Real",value:`${k}d`,subValue:k>g.duration?"Atrasado":void 0,subColorClass:"text-red-500",icon:lo,colorClass:"text-blue-600"}),o.jsx(u,{label:"Incio Atual",value:A(t.startDate),icon:Gi,colorClass:"text-blue-600"}),o.jsx(u,{label:"Fim Atual",value:A(t.endDate),icon:Gi,colorClass:"text-blue-600"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-[10px] text-blue-400 font-bold block mb-0.5 uppercase",children:"MARGEM REAL"}),o.jsxs("span",{className:`text-sm font-bold ${_<g.margin?"text-red-600":"text-blue-900"}`,children:[_.toFixed(1),"%"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-[10px] text-blue-400 font-bold block mb-0.5 uppercase",children:"DESVIO REAL"}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("input",{type:"number",value:(e==null?void 0:e.deliveryDeviation)||0,onChange:G=>l("deliveryDeviation",G.target.value),className:"w-12 bg-transparent text-sm font-bold text-blue-900 border-b border-blue-200 focus:outline-none focus:border-blue-500 transition-colors"}),o.jsx("span",{className:"text-xs text-blue-400 font-bold",children:"%"})]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-[10px] text-gray-300 font-bold block mb-0.5 uppercase",children:"IMPOSTO"}),o.jsxs("span",{className:"text-sm font-bold text-gray-400",children:[g.taxRate,"%"]})]}),o.jsxs("div",{className:"border-l border-blue-100 pl-4",children:[o.jsx("span",{className:"text-[10px] font-bold block mb-0.5 uppercase text-blue-600",children:"Receita NET"}),o.jsx("span",{className:"text-base font-black leading-none text-blue-700",children:P.toLocaleString("pt-BR",{notation:"compact"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6 pt-6 border-t border-blue-100/50",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider flex items-center gap-1",children:[o.jsx($f,{size:12,className:"text-blue-500"})," Execuo (Prazo)"]}),o.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border border-gray-100 shadow-sm h-full",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-[10px] text-gray-400 block uppercase font-semibold",children:"% Planejado"}),o.jsxs("span",{className:"text-lg font-bold text-gray-800",children:[(t.plannedProgress||0).toFixed(1),o.jsx("span",{className:"text-xs text-gray-500 ml-0.5",children:"%"})]})]}),o.jsx("div",{className:"w-px h-8 bg-gray-100"}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:"text-[10px] text-gray-400 block uppercase font-semibold",children:"% Executado"}),o.jsxs("span",{className:`text-lg font-bold ${(t.progress||0)<(t.plannedProgress||0)?"text-red-600":"text-emerald-600"}`,children:[(t.progress||0).toFixed(1),o.jsx("span",{className:"text-xs ml-0.5",children:"%"})]})]})]})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider flex items-center gap-1",children:[o.jsx(ha,{size:12,className:"text-emerald-500"})," Execuo (Custo)"]}),o.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border border-gray-100 shadow-sm h-full",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-[10px] text-gray-400 block uppercase font-semibold",children:"PV (Plan)"}),o.jsx("span",{className:"text-lg font-bold text-gray-800",children:(t.plannedCostToDate||0).toLocaleString("pt-BR",{notation:"compact"})})]}),o.jsx("div",{className:"w-px h-8 bg-gray-100"}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:"text-[10px] text-gray-400 block uppercase font-semibold",children:"AC (Real)"}),o.jsx("span",{className:`text-lg font-bold ${(t.realCostToDate||0)>(t.plannedCostToDate||0)?"text-red-600":"text-emerald-600"}`,children:(t.realCostToDate||0).toLocaleString("pt-BR",{notation:"compact"})})]})]})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider flex items-center gap-1",children:[o.jsx(qf,{size:12,className:"text-purple-500"})," Performance"]}),o.jsxs("div",{className:"flex items-center justify-around gap-4 bg-white p-3 rounded-lg border border-gray-100 shadow-sm h-full",children:[o.jsx(u,{label:"SPI (Prazo)",value:((O=t.spi)==null?void 0:O.toFixed(2))||"0.00",subValue:m.label,subColorClass:m.subColor,icon:qf,colorClass:m.color}),o.jsx("div",{className:"w-px h-8 bg-gray-100"}),o.jsx(u,{label:"CPI (Custo)",value:((V=t.cpi)==null?void 0:V.toFixed(2))||"1.00",subValue:p.label,subColorClass:p.subColor,icon:ss,colorClass:p.color})]})]}),e&&n&&o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("span",{className:"text-[10px] font-bold text-red-500 uppercase tracking-wider flex items-center gap-1",children:[o.jsx(Bl,{size:12})," Impacto & Alertas"]}),o.jsxs("div",{onClick:r,className:"flex items-center justify-between px-4 py-3 bg-red-50 rounded-lg border border-red-100 shadow-sm h-full cursor-pointer hover:bg-red-100 transition-all group",title:"Clique para ver detalhes do bloqueio",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-[10px] font-bold text-red-400 uppercase block mb-1 group-hover:text-red-500",children:"Bloqueio Cliente"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"p-1 bg-red-200 rounded text-red-700",children:o.jsx(Bl,{size:12})}),o.jsx("span",{className:"text-xs text-red-400 italic",children:"Ver detalhes"})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("span",{className:"text-lg font-black text-red-700 block leading-none",children:[t.totalClientBlockageHours||0,o.jsx("span",{className:"text-xs font-medium ml-0.5",children:"h"})]}),o.jsxs("span",{className:"text-xs font-bold text-red-400 block mt-1",children:["R$ ",(t.totalClientBlockageCost||0).toLocaleString("pt-BR",{notation:"compact"})]})]})]})]})]})]})]})})},IL={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},kL=(t,e,n)=>{let r;const a=IL[t];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+r:"h "+r:r},DL={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},RL={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},PL={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jL={date:Cl({formats:DL,defaultWidth:"full"}),time:Cl({formats:RL,defaultWidth:"full"}),dateTime:Cl({formats:PL,defaultWidth:"full"})},ML={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},LL=(t,e,n,r)=>{const a=ML[t];return typeof a=="function"?a(e):a},FL={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},OL={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},BL={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},zL={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},VL={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},UL={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},GL=(t,e)=>{const n=Number(t);return(e==null?void 0:e.unit)==="week"?n+"":n+""},WL={ordinalNumber:GL,era:_a({values:FL,defaultWidth:"wide"}),quarter:_a({values:OL,defaultWidth:"wide",argumentCallback:t=>t-1}),month:_a({values:BL,defaultWidth:"wide"}),day:_a({values:zL,defaultWidth:"wide"}),dayPeriod:_a({values:VL,defaultWidth:"wide",formattingValues:UL,defaultFormattingWidth:"wide"})},$L=/^(\d+)[o]?/i,qL=/\d+/i,HL={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},QL={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},XL={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},KL={any:[/1/i,/2/i,/3/i,/4/i]},YL={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},JL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},ZL={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},e4={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},t4={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},n4={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},r4={ordinalNumber:dE({matchPattern:$L,parsePattern:qL,valueCallback:t=>parseInt(t,10)}),era:Ca({matchPatterns:HL,defaultMatchWidth:"wide",parsePatterns:QL,defaultParseWidth:"any"}),quarter:Ca({matchPatterns:XL,defaultMatchWidth:"wide",parsePatterns:KL,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ca({matchPatterns:YL,defaultMatchWidth:"wide",parsePatterns:JL,defaultParseWidth:"any"}),day:Ca({matchPatterns:ZL,defaultMatchWidth:"wide",parsePatterns:e4,defaultParseWidth:"any"}),dayPeriod:Ca({matchPatterns:t4,defaultMatchWidth:"any",parsePatterns:n4,defaultParseWidth:"any"})},Qa={code:"pt-BR",formatDistance:kL,formatLong:jL,formatRelative:LL,localize:WL,match:r4,options:{weekStartsOn:0,firstWeekContainsDate:1}},a4=({options:t,value:e,onChange:n,placeholder:r="Selecione...",className:a="",disabled:i=!1})=>{const[s,l]=L.useState(!1),[c,d]=L.useState(""),u=L.useRef(null),h=L.useRef(null);L.useEffect(()=>{const g=b=>{u.current&&!u.current.contains(b.target)&&l(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]),L.useEffect(()=>{s&&h.current?setTimeout(()=>{var g;return(g=h.current)==null?void 0:g.focus()},50):d("")},[s]);const m=L.useMemo(()=>{if(!c)return t;const g=c.toLowerCase();return t.filter(b=>b.label.toLowerCase().includes(g)||b.subLabel&&b.subLabel.toLowerCase().includes(g))},[t,c]),p=t.find(g=>g.value===e),A=g=>{n(g),l(!1)};return o.jsxs("div",{className:`relative ${a}`,ref:u,children:[o.jsxs("button",{type:"button",onClick:()=>!i&&l(!s),disabled:i,className:`
                    w-full flex items-center justify-between
                    bg-white border text-left cursor-pointer
                    rounded-lg shadow-sm
                    py-2.5 px-3 text-sm
                    focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500
                    ${s?"border-indigo-500 ring-2 ring-indigo-500":"border-gray-300"}
                    ${i?"opacity-50 cursor-not-allowed bg-gray-50":"hover:bg-gray-50"}
                `,children:[o.jsx("span",{className:`block truncate ${p?"text-gray-900":"text-gray-400"}`,children:p?`${p.label}${p.subLabel?` (${p.subLabel})`:""}`:r}),o.jsx(Co,{size:16,className:`text-gray-400 transition-transform ${s?"rotate-180":""}`})]}),s&&o.jsxs("div",{className:"absolute z-50 mt-1 w-full bg-white rounded-lg shadow-xl border border-gray-200 animate-in fade-in zoom-in-95 duration-100 min-w-[250px]",children:[o.jsx("div",{className:"p-2 border-b border-gray-100",children:o.jsxs("div",{className:"relative",children:[o.jsx(nc,{size:14,className:"absolute left-2.5 top-2.5 text-gray-400"}),o.jsx("input",{ref:h,type:"text",className:"w-full pl-8 pr-3 py-1.5 text-sm border border-gray-200 rounded-md focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 placeholder-gray-400",placeholder:"Pesquisar...",value:c,onChange:g=>d(g.target.value)})]})}),o.jsx("ul",{className:"max-h-60 overflow-auto py-1",children:m.length===0?o.jsx("li",{className:"px-4 py-3 text-sm text-gray-500 text-center italic",children:"Nenhum resultado encontrado."}):m.map(g=>o.jsxs("li",{onClick:()=>A(g.value),className:`
                                        cursor-pointer select-none relative py-2 pl-3 pr-9 hover:bg-indigo-50
                                        ${g.value===e?"bg-indigo-50 text-indigo-700 font-medium":"text-gray-900"}
                                    `,children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"block truncate text-sm",children:g.label}),g.subLabel&&o.jsx("span",{className:`block truncate text-xs ${g.value===e?"text-indigo-500":"text-gray-400"}`,children:g.subLabel})]}),g.value===e&&o.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-3 text-indigo-600",children:o.jsx(Nl,{size:16})})]},g.value))})]})]})},i4=({task:t,resources:e,projectTeam:n,allTasks:r,onSave:a,onCancel:i,onSplit:s,forceLandscape:l=!1})=>{const[c,d]=L.useState({progress:0,dependencies:[],type:"task",...t}),[u,h]=L.useState(!1),[m,p]=L.useState("start"),[A,g]=L.useState(""),[b,x]=L.useState(new Date),[y,w]=L.useState(2),S=L.useRef(null);L.useEffect(()=>{t&&d({...t,dependencies:t.dependencies||[]})},[t]);const[k,P]=L.useState(!1),[E,N]=L.useState(new Date),C=L.useRef(null),[R,j]=L.useState("start");L.useEffect(()=>{t&&(c.start&&x(c.start),c.realStart&&N(c.realStart))},[t]),L.useEffect(()=>{function $(U){S.current&&!S.current.contains(U.target)&&h(!1),C.current&&!C.current.contains(U.target)&&P(!1)}return document.addEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}},[]);const _=$=>{const U=new Date($);if(U.setHours(12,0,0,0),m==="start")d(te=>({...te,start:U,end:U})),p("end");else{const te=c.start||U;ul(U,te)?d(Z=>({...Z,start:U,end:te})):d(Z=>({...Z,end:U})),p("start"),h(!1)}},D=$=>{const U=new Date($);if(U.setHours(12,0,0,0),R==="start")d(te=>({...te,realStart:U,realEnd:U})),j("end");else{const te=c.realStart||U;ul(U,te)?d(Z=>({...Z,realStart:U,realEnd:te})):d(Z=>({...Z,realEnd:U})),j("start"),P(!1)}},v=($,U=!1)=>{U?N(te=>fd(te,$)):x(te=>fd(te,$))},O=Wf(b),V=Bb(O),G=zb({start:so(O),end:Vb(V)}),Q=Wf(E),H=Bb(Q),ne=zb({start:so(Q),end:Vb(H)}),X=t!=null&&t.id?r.filter($=>{var U;return(U=$.dependencies)==null?void 0:U.includes(t.id)}):[],K=r.filter($=>{var U;return $.id!==(t==null?void 0:t.id)&&!((U=c.dependencies)!=null&&U.includes($.id))&&$.type!=="project"}),ce=()=>{if(!A)return;const $=c.dependencies||[];d(U=>({...U,dependencies:[...$,A]})),g("")},ie=$=>{const U=c.dependencies||[];d(te=>({...te,dependencies:U.filter(Z=>Z!==$)}))},oe=($,U)=>!$||!U?0:Fr($,U),pe=L.useMemo(()=>{const $=te=>{let Z=0,re=0,fe=0,Te=0;for(const Ne of te)if(Ne.type==="project"){const $e=r.filter(ot=>ot.parent===Ne.id),pt=$($e);Z+=pt.hours,re+=pt.cost,fe+=pt.realHours,Te+=pt.realCost}else{const $e=oe(Ne.start,Ne.end)*8,pt=Ne.hourlyRate||0;Z+=$e,re+=$e*pt;const ot=Ne.realStart&&Ne.realEnd?oe(Ne.realStart,Ne.realEnd)*8:0;fe+=ot,Te+=ot*pt}return{hours:Z,cost:re,realHours:fe,realCost:Te}};let U={hours:0,cost:0,realHours:0,realCost:0};if(c.type==="project"){if(c.id){const te=r.filter(Z=>Z.parent===c.id);U=$(te)}}else{const te=oe(c.start,c.end)*8,Z=c.hourlyRate||0,re=c.realStart&&c.realEnd?oe(c.realStart,c.realEnd)*8:0;U={hours:te,cost:te*Z,realHours:re,realCost:re*Z}}return{hours:U.hours,ftes:U.hours/168,avgRate:U.hours>0?U.cost/U.hours:0,totalCost:U.cost,totalRealCost:U.realCost,realHours:U.realHours}},[c,r]),[Pe,ye]=L.useState(!1);L.useEffect(()=>{const $=()=>{const Z=window.matchMedia("(orientation: landscape) and (max-height: 900px) and (max-width: 1024px)");ye(Z.matches)};$();const U=window.matchMedia("(orientation: landscape) and (max-height: 900px) and (max-width: 1024px)"),te=Z=>ye(Z.matches);return U.addEventListener?U.addEventListener("change",te):U.addListener(te),window.addEventListener("resize",$),()=>{U.removeEventListener?U.removeEventListener("change",te):U.removeListener(te),window.removeEventListener("resize",$)}},[]);const ge=Pe||l,Se=l&&!Pe,ve=$=>{if($&&$.preventDefault(),!c.name||!c.start||!c.end){alert("Por favor preencha todos os campos obrigatrios (Nome, Incio, Fim).");return}const te=[...new Set(c.dependencies||[])].filter(Z=>Z!==(t==null?void 0:t.id)&&r.some(re=>re.id===Z));a({...c,dependencies:te})},Ae=$=>{const U=$?ne:G,te=$?E:b,Z=$?"realStart":"start",re=$?"realEnd":"end";return U.map((fe,Te)=>{const Ne=c[Z]?Ps(fe,c[Z]):!1,$e=c[re]?Ps(fe,c[re]):!1,pt=c[Z]&&c[re]?ij(fe,{start:c[Z],end:c[re]}):!1,ot=aj(fe,te);return o.jsx("button",{type:"button",onClick:()=>$?D(fe):_(fe),className:`
                         h-9 w-9 flex items-center justify-center text-sm transition-all relative rounded-full
                         ${ot?"text-gray-700 hover:bg-indigo-50":"text-gray-300"}
                         ${pt&&!Ne&&!$e?"bg-indigo-50 text-indigo-700 rounded-none":""}
                         ${Ne||$e?"bg-indigo-600 text-white shadow-md z-10 font-bold":""}
                         ${Ne&&c[re]&&c[Z]&&!Ps(c[Z],c[re])?"rounded-r-none":""}
                         ${$e&&c[Z]&&c[re]&&!Ps(c[Z],c[re])?"rounded-l-none":""}
                     `,children:Pt(fe,"d")},Te)})},xe=ge?"fixed inset-0 z-[99999] flex justify-start pointer-events-auto":"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999] p-4",I=ge?"w-2/5 h-full bg-white shadow-2xl flex flex-col rounded-r-xl border-r border-gray-200":"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",Y=ge?"px-4 py-2 border-b border-gray-100 flex justify-between items-center bg-gray-50 flex-shrink-0":"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50 flex-shrink-0",q=ge?"flex-1 p-4 space-y-4 overflow-y-auto":"flex-1 overflow-y-auto p-6 space-y-6",F=ge?"w-full rounded border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 border py-1 px-2 text-xs":"w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 border p-2.5",B=ge?"block text-[10px] font-bold text-gray-700 mb-0.5":"block text-sm font-medium text-gray-700 mb-1",z=ge?"font-bold text-gray-900 border-b pb-1 mb-2 text-xs flex items-center gap-2":"font-semibold text-gray-900 border-b pb-2 mb-4 flex items-center gap-2",J=Se?{position:"fixed",top:0,left:"100vw",width:"100vh",height:"100vw",transform:"rotate(90deg)",transformOrigin:"top left",zIndex:99999}:{zIndex:ge?99999:9999};return o.jsx("div",{className:xe,style:J,children:o.jsxs("div",{className:I,children:[o.jsxs("div",{className:Y,children:[o.jsxs("h2",{className:`font-bold text-gray-800 ${ge?"text-sm flex items-center gap-2":"text-xl"}`,children:[t?"Editar Tarefa":"Nova Tarefa",ge&&o.jsx("span",{className:"text-[10px] font-normal text-gray-400 bg-gray-50 px-1 rounded border",children:"Modo Horizontal"})]}),o.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600",children:o.jsx(yr,{size:ge?20:24})})]}),o.jsxs("form",{onSubmit:ve,className:q,children:[o.jsxs("div",{className:ge?"space-y-2":"space-y-4",children:[o.jsx("h3",{className:z,children:"Informaes Gerais"}),o.jsxs("div",{className:`grid gap-4 ${ge?"grid-cols-2 gap-2":"grid-cols-1 md:grid-cols-2"}`,children:[o.jsxs("div",{className:ge?"col-span-1":"md:col-span-2",children:[o.jsx("label",{className:B,children:"Nome da Tarefa"}),o.jsx("input",{type:"text",value:c.name||"",onChange:$=>d(U=>({...U,name:$.target.value})),className:F,required:!0,placeholder:"ex: Design da Homepage"})]}),o.jsxs("div",{className:"relative",ref:S,children:[o.jsx("label",{className:B,children:"Estimativa (Planejado)"}),o.jsxs("div",{onClick:()=>h(!u),className:`${F} flex items-center justify-between cursor-pointer hover:bg-gray-50 bg-white`,children:[o.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[o.jsx(Gi,{size:ge?14:18,className:"text-gray-400"}),o.jsxs("span",{className:"font-medium",children:[c.start?Pt(c.start,"dd/MM/yyyy"):"__/__/____","  -  ",c.end?Pt(c.end,"dd/MM/yyyy"):"__/__/____"]})]}),o.jsx("div",{className:`text-gray-400 bg-gray-100 rounded ${ge?"text-[10px] px-1":"text-xs px-2 py-1"}`,children:c.start&&c.end?`${oe(c.start,c.end)} dias teis`:"Selecione"})]}),u&&o.jsxs("div",{className:"absolute top-full left-0 z-50 mt-1 bg-white rounded-lg shadow-xl border border-gray-200 p-4 w-[320px] animate-in fade-in zoom-in-95 duration-150",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("button",{type:"button",onClick:()=>v(-1,!1),className:"p-1 hover:bg-gray-100 rounded-full text-gray-600",children:o.jsx(Hd,{size:20})}),o.jsx("span",{className:"font-bold text-gray-900 capitalize",children:Pt(b,"MMMM yyyy",{locale:Qa})}),o.jsx("button",{type:"button",onClick:()=>v(1,!1),className:"p-1 hover:bg-gray-100 rounded-full text-gray-600",children:o.jsx(oo,{size:20})})]}),o.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-2 text-center text-xs font-bold text-gray-400",children:[o.jsx("div",{children:"D"}),o.jsx("div",{children:"S"}),o.jsx("div",{children:"T"}),o.jsx("div",{children:"Q"}),o.jsx("div",{children:"Q"}),o.jsx("div",{children:"S"}),o.jsx("div",{children:"S"})]}),o.jsx("div",{className:"grid grid-cols-7 gap-1",children:Ae(!1)}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex justify-between items-center text-xs",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-600"})," Incio"]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-900"})," Fim"]})]}),o.jsx("div",{className:"font-medium text-gray-500",children:m==="start"?"Selecione o Incio":"Selecione o Fim"})]})]})]}),o.jsxs("div",{className:`grid ${ge?"grid-cols-2 gap-2":"grid-cols-2 gap-4"}`,children:[o.jsxs("div",{children:[o.jsx("label",{className:B,children:"Status (Progresso)"}),o.jsxs("select",{value:(c.progress||0)===0?"todo":(c.progress||0)>=100?c.start&&c.realStart&&Ps(c.start,c.realStart)&&c.end&&c.realEnd&&Ps(c.end,c.realEnd)?"done_on_time":"done":"doing",onChange:$=>{const U=$.target.value;if(U==="todo"&&d(te=>({...te,progress:0})),U==="done"){const te=new Date;te.setHours(12,0,0,0),d(Z=>({...Z,progress:100,realStart:Z.start,realEnd:te})),P(!0),C.current&&C.current.scrollIntoView({behavior:"smooth",block:"center"})}U==="done_on_time"&&d(te=>({...te,progress:100,realStart:te.start,realEnd:te.end})),U==="doing"&&(c.progress===0||c.progress===100)&&d(te=>({...te,progress:50}))},className:F,children:[o.jsx("option",{value:"todo",children:"A Fazer"}),o.jsx("option",{value:"doing",children:"Em Andamento"}),o.jsx("option",{value:"done",children:"Concludo em Atraso/Antecipado"}),o.jsx("option",{value:"done_on_time",children:"Concludo no Prazo"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:B,children:"Percentual"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"number",min:"0",max:"99",value:c.progress||0,onChange:$=>{const U=$.target.value;if(U===""){d(Z=>({...Z,progress:0}));return}let te=parseInt(U);isNaN(te)&&(te=0),te<0&&(te=0),te>=100&&(te=99),d(Z=>({...Z,progress:te}))},className:`${F} text-center`}),o.jsx("span",{className:"text-gray-500 font-medium text-xs",children:"%"})]})]}),(t==null?void 0:t.type)==="project"&&o.jsx("p",{className:"text-[10px] text-amber-600 mt-1 col-span-2",children:"* Progresso de projetos  calculado automaticamente."})]}),o.jsxs("div",{className:ge?"col-span-1":"md:col-span-2",children:[o.jsx("label",{className:B,children:"Tarefa Pai (Hierarquia)"}),o.jsxs("select",{value:c.parent||"",onChange:$=>d(U=>({...U,parent:$.target.value})),className:F,children:[o.jsx("option",{value:"auto-id-1",children:"-- Nenhuma (Raiz) --"}),r.filter($=>$.id!==(t==null?void 0:t.id)).map($=>o.jsx("option",{value:$.id,children:$.name},$.id))]})]})]})]}),o.jsxs("div",{className:ge?"space-y-2 opacity-90 scale-95 origin-top-left w-[105%]":"space-y-4",children:[o.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-2 border-b border-gray-100 pb-2 mb-4",children:o.jsx("h3",{className:z,children:"Execuo e Financeiro"})}),n&&n.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:B,children:"Profissional / Papel Sugerido"}),o.jsxs("select",{value:c.assignedResource||"",onChange:$=>{const U=$.target.value,te=n.find(Z=>Z.role.trim()===U.trim());d(Z=>({...Z,assignedResource:U,hourlyRate:te&&te.hourlyRate!==void 0&&te.hourlyRate!==null?te.hourlyRate:Z.hourlyRate}))},className:`${F} bg-indigo-50 border-indigo-200 text-indigo-900 font-medium`,children:[o.jsx("option",{value:"",children:"-- Selecionar Papel da Equipe --"}),n.map(($,U)=>o.jsxs("option",{value:$.role,children:[$.role," (",$.hourlyRate?`R$ ${$.hourlyRate}/h`:"Sem Taxa definida",")"]},U))]}),o.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"Ao selecionar um papel, a taxa/hora ser atualizada automaticamente (se definida na aba Equipe)."})]}),o.jsxs("div",{className:`grid gap-4 ${ge?"grid-cols-2 gap-2 text-xs":"grid-cols-1 md:grid-cols-2"}`,children:[o.jsxs("div",{className:"relative",ref:C,children:[o.jsx("label",{className:B,children:"Execuo Real"}),o.jsx("div",{onClick:()=>P(!k),className:`${F} flex items-center justify-between cursor-pointer hover:bg-gray-50 bg-white`,children:o.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[o.jsx(Gi,{size:ge?14:18,className:"text-emerald-500"}),o.jsxs("span",{className:"font-medium",children:[c.realStart?Pt(c.realStart,"dd/MM/yyyy"):"__/__/____","  -  ",c.realEnd?Pt(c.realEnd,"dd/MM/yyyy"):"__/__/____"]})]})}),k&&o.jsxs("div",{className:"absolute top-full left-0 z-50 mt-1 bg-white rounded-lg shadow-xl border border-gray-200 p-4 w-[320px] animate-in fade-in zoom-in-95 duration-150",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("button",{type:"button",onClick:()=>v(-1,!0),className:"p-1 hover:bg-gray-100 rounded-full text-gray-600",children:o.jsx(Hd,{size:20})}),o.jsx("span",{className:"font-bold text-gray-900 capitalize",children:Pt(E,"MMMM yyyy",{locale:Qa})}),o.jsx("button",{type:"button",onClick:()=>v(1,!0),className:"p-1 hover:bg-gray-100 rounded-full text-gray-600",children:o.jsx(oo,{size:20})})]}),o.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-2 text-center text-xs font-bold text-gray-400",children:[o.jsx("div",{children:"D"}),o.jsx("div",{children:"S"}),o.jsx("div",{children:"T"}),o.jsx("div",{children:"Q"}),o.jsx("div",{children:"Q"}),o.jsx("div",{children:"S"}),o.jsx("div",{children:"S"})]}),o.jsx("div",{className:"grid grid-cols-7 gap-1",children:Ae(!0)})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:B,children:"Valor Hora (R$)"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 font-bold text-xs pointer-events-none",children:"R$"}),o.jsx("input",{type:"number",value:c.hourlyRate||"",onChange:$=>d(U=>({...U,hourlyRate:parseFloat($.target.value)})),className:`${F} pl-8`,placeholder:"0,00"})]})]})]}),o.jsxs("div",{className:`bg-gray-50 rounded-lg border border-gray-200 ${ge?"p-2":"p-4"}`,children:[o.jsx("h4",{className:`font-bold text-gray-700 mb-2 ${ge?"text-[10px]":"text-xs uppercase tracking-wider"}`,children:"Totais Calculados"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] text-gray-500",children:"Horas Plan."}),o.jsxs("p",{className:`font-bold text-gray-900 ${ge?"text-xs":"text-lg"}`,children:[Math.round(pe.hours),"h"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] text-gray-500",children:"Custo Plan."}),o.jsxs("p",{className:`font-bold text-gray-900 ${ge?"text-xs":"text-lg"}`,children:["R$ ",pe.totalCost.toLocaleString("pt-BR",{notation:"compact"})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] text-emerald-600",children:"Horas Reais"}),o.jsxs("p",{className:`font-bold text-emerald-700 ${ge?"text-xs":"text-lg"}`,children:[Math.round(pe.realHours),"h"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] text-emerald-600",children:"Custo Real"}),o.jsxs("p",{className:`font-bold text-emerald-700 ${ge?"text-xs":"text-lg"}`,children:["R$ ",pe.totalRealCost.toLocaleString("pt-BR",{notation:"compact"})]})]})]})]})]}),o.jsxs("div",{className:ge?"space-y-2":"space-y-4",children:[o.jsxs("h3",{className:z,children:[o.jsx(Rj,{size:ge?14:18}),"Dependncias"]}),o.jsxs("div",{className:`grid ${ge?"grid-cols-2 gap-2":"grid-cols-1 md:grid-cols-2 gap-6"}`,children:[o.jsxs("div",{className:`bg-gray-50 p-2 rounded-lg border border-gray-200 ${ge?"text-xs":""}`,children:[o.jsxs("h4",{className:`font-bold text-gray-700 mb-2 flex items-center gap-2 ${ge?"text-[10px]":"text-sm"}`,children:[o.jsx(uj,{size:14,className:"text-amber-600"}),"Predecessoras"]}),o.jsxs("div",{className:"space-y-2 mb-2 max-h-20 overflow-y-auto",children:[(c.dependencies||[]).length===0&&o.jsx("p",{className:"text-[10px] text-gray-400 italic",children:"Nenhuma."}),(c.dependencies||[]).map($=>{const U=r.find(te=>te.id===$);return o.jsxs("div",{className:"flex justify-between items-center bg-white p-1 rounded shadow-sm border border-gray-100",children:[o.jsx("span",{className:"truncate flex-1",title:U?U.name:$,children:U?U.name:$}),o.jsx("button",{type:"button",onClick:()=>ie($),className:"text-red-400 hover:text-red-600 p-1",children:o.jsx(yr,{size:12})})]},$)})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:"flex-1 w-0 min-w-0",children:o.jsx(a4,{value:A,onChange:$=>g($),options:K.map($=>({value:$.id,label:$.name})),placeholder:"Add Dep..."})}),o.jsx("button",{type:"button",onClick:ce,disabled:!A,className:"bg-indigo-600 text-white px-2 py-1 rounded text-xs hover:bg-indigo-700 disabled:opacity-50",children:o.jsx(Rn,{size:14})})]})]}),o.jsxs("div",{className:`bg-gray-50 p-2 rounded-lg border border-gray-200 opacity-80 ${ge?"text-xs":""}`,children:[o.jsxs("h4",{className:`font-bold text-gray-700 mb-2 flex items-center gap-2 ${ge?"text-[10px]":"text-sm"}`,children:[o.jsx(hj,{size:14,className:"text-blue-600"}),"Sucessoras"]}),o.jsxs("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:[X.length===0&&o.jsx("p",{className:"text-[10px] text-gray-400 italic",children:"Nenhuma."}),X.map($=>o.jsx("div",{className:"bg-white p-1 rounded shadow-sm border border-gray-100 text-gray-600 truncate",children:$.name},$.id))]})]})]})]}),t&&s&&o.jsxs("div",{className:`pt-2 border-t border-gray-100 ${ge?"mt-3":"mt-6"}`,children:[o.jsxs("h3",{className:z,children:[o.jsx(_j,{size:ge?14:16,className:"text-orange-600"}),"Ferramentas Avanadas"]}),o.jsx("div",{className:`bg-orange-50 rounded-lg border border-orange-100 ${ge?"p-2":"p-4"}`,children:o.jsxs("div",{className:"flex items-end gap-3",children:[o.jsxs("div",{className:"w-24",children:[o.jsx("label",{className:B,children:"Fator de Quebra"}),o.jsx("input",{type:"number",min:"2",max:"10",value:y,onChange:$=>w(Math.max(2,parseInt($.target.value)||2)),className:F})]}),o.jsxs("button",{type:"button",onClick:()=>{y<2||window.confirm(`Confirmar paralelismo em ${y}?`)&&s(c,y)},className:`flex-1 flex items-center justify-center gap-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg font-medium transition-colors shadow-sm ${ge?"px-3 py-1 text-xs":"px-4 py-2 text-sm"}`,children:[o.jsx(Cj,{size:16}),"Aplicar"]})]})})]})]}),o.jsxs("div",{className:`border-t border-gray-100 flex justify-end gap-3 bg-gray-50 flex-shrink-0 ${ge?"p-2":"p-4"}`,children:[o.jsx("button",{type:"button",onClick:i,className:`font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 shadow-sm ${ge?"px-4 py-1.5 text-xs":"px-5 py-2.5 text-sm"}`,children:"Cancelar"}),o.jsx("button",{type:"button",onClick:ve,className:`font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 shadow-md ${ge?"px-4 py-1.5 text-xs":"px-5 py-2.5 text-sm"}`,children:"Salvar Alteraes"})]})]})})};var mw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},s4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const i=t[n++];e[r++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=t[n++],s=t[n++],l=t[n++],c=((a&7)<<18|(i&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],s=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return e.join("")},YE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const i=t[a],s=a+1<t.length,l=s?t[a+1]:0,c=a+2<t.length,d=c?t[a+2]:0,u=i>>2,h=(i&3)<<4|l>>4;let m=(l&15)<<2|d>>6,p=d&63;c||(p=64,s||(m=64)),r.push(n[u],n[h],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):s4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const i=n[t.charAt(a++)],l=a<t.length?n[t.charAt(a)]:0;++a;const d=a<t.length?n[t.charAt(a)]:64;++a;const h=a<t.length?n[t.charAt(a)]:64;if(++a,i==null||l==null||d==null||h==null)throw new o4;const m=i<<2|l>>4;if(r.push(m),d!==64){const p=l<<4&240|d>>2;if(r.push(p),h!==64){const A=d<<6&192|h;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class o4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l4=function(t){const e=KE(t);return YE.encodeByteArray(e,!0)},Zf=function(t){return l4(t).replace(/\./g,"")},JE=function(t){try{return YE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=()=>c4().__FIREBASE_DEFAULTS__,u4=()=>{if(typeof process>"u"||typeof mw>"u")return;const t=mw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},h4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&JE(t[1]);return e&&JSON.parse(e)},Jp=()=>{try{return d4()||u4()||h4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZE=t=>{var e,n;return(n=(e=Jp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},f4=t=>{const e=ZE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},eN=()=>{var t;return(t=Jp())===null||t===void 0?void 0:t.config},tN=t=>{var e;return(e=Jp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zf(JSON.stringify(n)),Zf(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function g4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function A4(){var t;const e=(t=Jp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function x4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function y4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function v4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b4(){const t=En();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function nN(){return!A4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rN(){try{return typeof indexedDB=="object"}catch{return!1}}function w4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var i;e(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4="FirebaseError";class ui extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_4,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tu.prototype.create)}}class Tu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,i=this.errors[e],s=i?C4(i,r):"Error",l=`${this.serviceName}: ${s} (${a}).`;return new ui(a,l,r)}}function C4(t,e){return t.replace(E4,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const E4=/\{\$([^}]+)}/g;function N4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ep(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const i=t[a],s=e[a];if(gw(i)&&gw(s)){if(!ep(i,s))return!1}else if(i!==s)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function gw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $c(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,i]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(i)}}),e}function qc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function T4(t,e){const n=new S4(t,e);return n.subscribe.bind(n)}class S4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");I4(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=fg),a.error===void 0&&(a.error=fg),a.complete===void 0&&(a.complete=fg);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function I4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t){return t&&t._delegate?t._delegate:t}class uo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new p4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(R4(e))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:a});r.resolve(i)}catch{}}}}clearInstance(e=Ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ms){return this.instances.has(e)}getOptions(e=Ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&s.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(a,i);const s=this.instances.get(a);return s&&e(s,a),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:D4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ms){return this.component?this.component.multipleInstances?e:Ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D4(t){return t===Ms?void 0:t}function R4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new k4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(bt||(bt={}));const j4={debug:bt.DEBUG,verbose:bt.VERBOSE,info:bt.INFO,warn:bt.WARN,error:bt.ERROR,silent:bt.SILENT},M4=bt.INFO,L4={[bt.DEBUG]:"log",[bt.VERBOSE]:"log",[bt.INFO]:"info",[bt.WARN]:"warn",[bt.ERROR]:"error"},F4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=L4[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jx{constructor(e){this.name=e,this._logLevel=M4,this._logHandler=F4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?j4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,bt.DEBUG,...e),this._logHandler(this,bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,bt.VERBOSE,...e),this._logHandler(this,bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,bt.INFO,...e),this._logHandler(this,bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,bt.WARN,...e),this._logHandler(this,bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,bt.ERROR,...e),this._logHandler(this,bt.ERROR,...e)}}const O4=(t,e)=>e.some(n=>t instanceof n);let Aw,xw;function B4(){return Aw||(Aw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z4(){return xw||(xw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aN=new WeakMap,OA=new WeakMap,iN=new WeakMap,pg=new WeakMap,Mx=new WeakMap;function V4(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(Zi(t.result)),a()},s=()=>{r(t.error),a()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&aN.set(n,t)}).catch(()=>{}),Mx.set(e,t),e}function U4(t){if(OA.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),a()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});OA.set(t,e)}let BA={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return OA.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function G4(t){BA=t(BA)}function W4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(mg(this),e,...n);return iN.set(r,e.sort?e.sort():[e]),Zi(r)}:z4().includes(t)?function(...e){return t.apply(mg(this),e),Zi(aN.get(this))}:function(...e){return Zi(t.apply(mg(this),e))}}function $4(t){return typeof t=="function"?W4(t):(t instanceof IDBTransaction&&U4(t),O4(t,B4())?new Proxy(t,BA):t)}function Zi(t){if(t instanceof IDBRequest)return V4(t);if(pg.has(t))return pg.get(t);const e=$4(t);return e!==t&&(pg.set(t,e),Mx.set(e,t)),e}const mg=t=>Mx.get(t);function q4(t,e,{blocked:n,upgrade:r,blocking:a,terminated:i}={}){const s=indexedDB.open(t,e),l=Zi(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Zi(s.result),c.oldVersion,c.newVersion,Zi(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),a&&c.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const H4=["get","getKey","getAll","getAllKeys","count"],Q4=["put","add","delete","clear"],gg=new Map;function yw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gg.get(e))return gg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=Q4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||H4.includes(n)))return;const i=async function(s,...l){const c=this.transaction(s,a?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),a&&c.done]))[0]};return gg.set(e,i),i}G4(t=>({...t,get:(e,n,r)=>yw(e,n)||t.get(e,n,r),has:(e,n)=>!!yw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(K4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function K4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zA="@firebase/app",vw="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new jx("@firebase/app"),Y4="@firebase/app-compat",J4="@firebase/analytics-compat",Z4="@firebase/analytics",e5="@firebase/app-check-compat",t5="@firebase/app-check",n5="@firebase/auth",r5="@firebase/auth-compat",a5="@firebase/database",i5="@firebase/data-connect",s5="@firebase/database-compat",o5="@firebase/functions",l5="@firebase/functions-compat",c5="@firebase/installations",d5="@firebase/installations-compat",u5="@firebase/messaging",h5="@firebase/messaging-compat",f5="@firebase/performance",p5="@firebase/performance-compat",m5="@firebase/remote-config",g5="@firebase/remote-config-compat",A5="@firebase/storage",x5="@firebase/storage-compat",y5="@firebase/firestore",v5="@firebase/vertexai-preview",b5="@firebase/firestore-compat",w5="firebase",_5="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="[DEFAULT]",C5={[zA]:"fire-core",[Y4]:"fire-core-compat",[Z4]:"fire-analytics",[J4]:"fire-analytics-compat",[t5]:"fire-app-check",[e5]:"fire-app-check-compat",[n5]:"fire-auth",[r5]:"fire-auth-compat",[a5]:"fire-rtdb",[i5]:"fire-data-connect",[s5]:"fire-rtdb-compat",[o5]:"fire-fn",[l5]:"fire-fn-compat",[c5]:"fire-iid",[d5]:"fire-iid-compat",[u5]:"fire-fcm",[h5]:"fire-fcm-compat",[f5]:"fire-perf",[p5]:"fire-perf-compat",[m5]:"fire-rc",[g5]:"fire-rc-compat",[A5]:"fire-gcs",[x5]:"fire-gcs-compat",[y5]:"fire-fst",[b5]:"fire-fst-compat",[v5]:"fire-vertex","fire-js":"fire-js",[w5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=new Map,E5=new Map,UA=new Map;function bw(t,e){try{t.container.addComponent(e)}catch(n){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ul(t){const e=t.name;if(UA.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;UA.set(e,t);for(const n of tp.values())bw(n,t);for(const n of E5.values())bw(n,t);return!0}function Lx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ca(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new Tu("app","Firebase",N5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=_5;function sN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:VA,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw es.create("bad-app-name",{appName:String(a)});if(n||(n=eN()),!n)throw es.create("no-options");const i=tp.get(a);if(i){if(ep(n,i.options)&&ep(r,i.config))return i;throw es.create("duplicate-app",{appName:a})}const s=new P4(a);for(const c of UA.values())s.addComponent(c);const l=new T5(n,r,s);return tp.set(a,l),l}function oN(t=VA){const e=tp.get(t);if(!e&&t===VA&&eN())return sN();if(!e)throw es.create("no-app",{appName:t});return e}function ts(t,e,n){var r;let a=(r=C5[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const i=a.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${a}" with version "${e}":`];i&&l.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(l.join(" "));return}Ul(new uo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5="firebase-heartbeat-database",I5=1,Jd="firebase-heartbeat-store";let Ag=null;function lN(){return Ag||(Ag=q4(S5,I5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jd)}catch(n){console.warn(n)}}}}).catch(t=>{throw es.create("idb-open",{originalErrorMessage:t.message})})),Ag}async function k5(t){try{const n=(await lN()).transaction(Jd),r=await n.objectStore(Jd).get(cN(t));return await n.done,r}catch(e){if(e instanceof ui)oi.warn(e.message);else{const n=es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oi.warn(n.message)}}}async function ww(t,e){try{const r=(await lN()).transaction(Jd,"readwrite");await r.objectStore(Jd).put(e,cN(t)),await r.done}catch(n){if(n instanceof ui)oi.warn(n.message);else{const r=es.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oi.warn(r.message)}}}function cN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=1024,R5=30*24*60*60*1e3;class P5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new M5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=_w();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=R5}),this._storage.overwrite(this._heartbeatsCache))}catch(r){oi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_w(),{heartbeatsToSend:r,unsentEntries:a}=j5(this._heartbeatsCache.heartbeats),i=Zf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return oi.warn(n),""}}}function _w(){return new Date().toISOString().substring(0,10)}function j5(t,e=D5){const n=[];let r=t.slice();for(const a of t){const i=n.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),Cw(n)>e){i.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Cw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class M5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rN()?w4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await k5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return ww(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return ww(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Cw(t){return Zf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(t){Ul(new uo("platform-logger",e=>new X4(e),"PRIVATE")),Ul(new uo("heartbeat",e=>new P5(e),"PRIVATE")),ts(zA,vw,t),ts(zA,vw,"esm2017"),ts("fire-js","")}L5("");var Ew=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zs,dN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,N){function C(){}C.prototype=N.prototype,E.D=N.prototype,E.prototype=new C,E.prototype.constructor=E,E.C=function(R,j,_){for(var D=Array(arguments.length-2),v=2;v<arguments.length;v++)D[v-2]=arguments[v];return N.prototype[j].apply(R,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(E,N,C){C||(C=0);var R=Array(16);if(typeof N=="string")for(var j=0;16>j;++j)R[j]=N.charCodeAt(C++)|N.charCodeAt(C++)<<8|N.charCodeAt(C++)<<16|N.charCodeAt(C++)<<24;else for(j=0;16>j;++j)R[j]=N[C++]|N[C++]<<8|N[C++]<<16|N[C++]<<24;N=E.g[0],C=E.g[1],j=E.g[2];var _=E.g[3],D=N+(_^C&(j^_))+R[0]+3614090360&4294967295;N=C+(D<<7&4294967295|D>>>25),D=_+(j^N&(C^j))+R[1]+3905402710&4294967295,_=N+(D<<12&4294967295|D>>>20),D=j+(C^_&(N^C))+R[2]+606105819&4294967295,j=_+(D<<17&4294967295|D>>>15),D=C+(N^j&(_^N))+R[3]+3250441966&4294967295,C=j+(D<<22&4294967295|D>>>10),D=N+(_^C&(j^_))+R[4]+4118548399&4294967295,N=C+(D<<7&4294967295|D>>>25),D=_+(j^N&(C^j))+R[5]+1200080426&4294967295,_=N+(D<<12&4294967295|D>>>20),D=j+(C^_&(N^C))+R[6]+2821735955&4294967295,j=_+(D<<17&4294967295|D>>>15),D=C+(N^j&(_^N))+R[7]+4249261313&4294967295,C=j+(D<<22&4294967295|D>>>10),D=N+(_^C&(j^_))+R[8]+1770035416&4294967295,N=C+(D<<7&4294967295|D>>>25),D=_+(j^N&(C^j))+R[9]+2336552879&4294967295,_=N+(D<<12&4294967295|D>>>20),D=j+(C^_&(N^C))+R[10]+4294925233&4294967295,j=_+(D<<17&4294967295|D>>>15),D=C+(N^j&(_^N))+R[11]+2304563134&4294967295,C=j+(D<<22&4294967295|D>>>10),D=N+(_^C&(j^_))+R[12]+1804603682&4294967295,N=C+(D<<7&4294967295|D>>>25),D=_+(j^N&(C^j))+R[13]+4254626195&4294967295,_=N+(D<<12&4294967295|D>>>20),D=j+(C^_&(N^C))+R[14]+2792965006&4294967295,j=_+(D<<17&4294967295|D>>>15),D=C+(N^j&(_^N))+R[15]+1236535329&4294967295,C=j+(D<<22&4294967295|D>>>10),D=N+(j^_&(C^j))+R[1]+4129170786&4294967295,N=C+(D<<5&4294967295|D>>>27),D=_+(C^j&(N^C))+R[6]+3225465664&4294967295,_=N+(D<<9&4294967295|D>>>23),D=j+(N^C&(_^N))+R[11]+643717713&4294967295,j=_+(D<<14&4294967295|D>>>18),D=C+(_^N&(j^_))+R[0]+3921069994&4294967295,C=j+(D<<20&4294967295|D>>>12),D=N+(j^_&(C^j))+R[5]+3593408605&4294967295,N=C+(D<<5&4294967295|D>>>27),D=_+(C^j&(N^C))+R[10]+38016083&4294967295,_=N+(D<<9&4294967295|D>>>23),D=j+(N^C&(_^N))+R[15]+3634488961&4294967295,j=_+(D<<14&4294967295|D>>>18),D=C+(_^N&(j^_))+R[4]+3889429448&4294967295,C=j+(D<<20&4294967295|D>>>12),D=N+(j^_&(C^j))+R[9]+568446438&4294967295,N=C+(D<<5&4294967295|D>>>27),D=_+(C^j&(N^C))+R[14]+3275163606&4294967295,_=N+(D<<9&4294967295|D>>>23),D=j+(N^C&(_^N))+R[3]+4107603335&4294967295,j=_+(D<<14&4294967295|D>>>18),D=C+(_^N&(j^_))+R[8]+1163531501&4294967295,C=j+(D<<20&4294967295|D>>>12),D=N+(j^_&(C^j))+R[13]+2850285829&4294967295,N=C+(D<<5&4294967295|D>>>27),D=_+(C^j&(N^C))+R[2]+4243563512&4294967295,_=N+(D<<9&4294967295|D>>>23),D=j+(N^C&(_^N))+R[7]+1735328473&4294967295,j=_+(D<<14&4294967295|D>>>18),D=C+(_^N&(j^_))+R[12]+2368359562&4294967295,C=j+(D<<20&4294967295|D>>>12),D=N+(C^j^_)+R[5]+4294588738&4294967295,N=C+(D<<4&4294967295|D>>>28),D=_+(N^C^j)+R[8]+2272392833&4294967295,_=N+(D<<11&4294967295|D>>>21),D=j+(_^N^C)+R[11]+1839030562&4294967295,j=_+(D<<16&4294967295|D>>>16),D=C+(j^_^N)+R[14]+4259657740&4294967295,C=j+(D<<23&4294967295|D>>>9),D=N+(C^j^_)+R[1]+2763975236&4294967295,N=C+(D<<4&4294967295|D>>>28),D=_+(N^C^j)+R[4]+1272893353&4294967295,_=N+(D<<11&4294967295|D>>>21),D=j+(_^N^C)+R[7]+4139469664&4294967295,j=_+(D<<16&4294967295|D>>>16),D=C+(j^_^N)+R[10]+3200236656&4294967295,C=j+(D<<23&4294967295|D>>>9),D=N+(C^j^_)+R[13]+681279174&4294967295,N=C+(D<<4&4294967295|D>>>28),D=_+(N^C^j)+R[0]+3936430074&4294967295,_=N+(D<<11&4294967295|D>>>21),D=j+(_^N^C)+R[3]+3572445317&4294967295,j=_+(D<<16&4294967295|D>>>16),D=C+(j^_^N)+R[6]+76029189&4294967295,C=j+(D<<23&4294967295|D>>>9),D=N+(C^j^_)+R[9]+3654602809&4294967295,N=C+(D<<4&4294967295|D>>>28),D=_+(N^C^j)+R[12]+3873151461&4294967295,_=N+(D<<11&4294967295|D>>>21),D=j+(_^N^C)+R[15]+530742520&4294967295,j=_+(D<<16&4294967295|D>>>16),D=C+(j^_^N)+R[2]+3299628645&4294967295,C=j+(D<<23&4294967295|D>>>9),D=N+(j^(C|~_))+R[0]+4096336452&4294967295,N=C+(D<<6&4294967295|D>>>26),D=_+(C^(N|~j))+R[7]+1126891415&4294967295,_=N+(D<<10&4294967295|D>>>22),D=j+(N^(_|~C))+R[14]+2878612391&4294967295,j=_+(D<<15&4294967295|D>>>17),D=C+(_^(j|~N))+R[5]+4237533241&4294967295,C=j+(D<<21&4294967295|D>>>11),D=N+(j^(C|~_))+R[12]+1700485571&4294967295,N=C+(D<<6&4294967295|D>>>26),D=_+(C^(N|~j))+R[3]+2399980690&4294967295,_=N+(D<<10&4294967295|D>>>22),D=j+(N^(_|~C))+R[10]+4293915773&4294967295,j=_+(D<<15&4294967295|D>>>17),D=C+(_^(j|~N))+R[1]+2240044497&4294967295,C=j+(D<<21&4294967295|D>>>11),D=N+(j^(C|~_))+R[8]+1873313359&4294967295,N=C+(D<<6&4294967295|D>>>26),D=_+(C^(N|~j))+R[15]+4264355552&4294967295,_=N+(D<<10&4294967295|D>>>22),D=j+(N^(_|~C))+R[6]+2734768916&4294967295,j=_+(D<<15&4294967295|D>>>17),D=C+(_^(j|~N))+R[13]+1309151649&4294967295,C=j+(D<<21&4294967295|D>>>11),D=N+(j^(C|~_))+R[4]+4149444226&4294967295,N=C+(D<<6&4294967295|D>>>26),D=_+(C^(N|~j))+R[11]+3174756917&4294967295,_=N+(D<<10&4294967295|D>>>22),D=j+(N^(_|~C))+R[2]+718787259&4294967295,j=_+(D<<15&4294967295|D>>>17),D=C+(_^(j|~N))+R[9]+3951481745&4294967295,E.g[0]=E.g[0]+N&4294967295,E.g[1]=E.g[1]+(j+(D<<21&4294967295|D>>>11))&4294967295,E.g[2]=E.g[2]+j&4294967295,E.g[3]=E.g[3]+_&4294967295}r.prototype.u=function(E,N){N===void 0&&(N=E.length);for(var C=N-this.blockSize,R=this.B,j=this.h,_=0;_<N;){if(j==0)for(;_<=C;)a(this,E,_),_+=this.blockSize;if(typeof E=="string"){for(;_<N;)if(R[j++]=E.charCodeAt(_++),j==this.blockSize){a(this,R),j=0;break}}else for(;_<N;)if(R[j++]=E[_++],j==this.blockSize){a(this,R),j=0;break}}this.h=j,this.o+=N},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var N=1;N<E.length-8;++N)E[N]=0;var C=8*this.o;for(N=E.length-8;N<E.length;++N)E[N]=C&255,C/=256;for(this.u(E),E=Array(16),N=C=0;4>N;++N)for(var R=0;32>R;R+=8)E[C++]=this.g[N]>>>R&255;return E};function i(E,N){var C=l;return Object.prototype.hasOwnProperty.call(C,E)?C[E]:C[E]=N(E)}function s(E,N){this.h=N;for(var C=[],R=!0,j=E.length-1;0<=j;j--){var _=E[j]|0;R&&_==N||(C[j]=_,R=!1)}this.g=C}var l={};function c(E){return-128<=E&&128>E?i(E,function(N){return new s([N|0],0>N?-1:0)}):new s([E|0],0>E?-1:0)}function d(E){if(isNaN(E)||!isFinite(E))return h;if(0>E)return b(d(-E));for(var N=[],C=1,R=0;E>=C;R++)N[R]=E/C|0,C*=4294967296;return new s(N,0)}function u(E,N){if(E.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(E.charAt(0)=="-")return b(u(E.substring(1),N));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=d(Math.pow(N,8)),R=h,j=0;j<E.length;j+=8){var _=Math.min(8,E.length-j),D=parseInt(E.substring(j,j+_),N);8>_?(_=d(Math.pow(N,_)),R=R.j(_).add(d(D))):(R=R.j(C),R=R.add(d(D)))}return R}var h=c(0),m=c(1),p=c(16777216);t=s.prototype,t.m=function(){if(g(this))return-b(this).m();for(var E=0,N=1,C=0;C<this.g.length;C++){var R=this.i(C);E+=(0<=R?R:4294967296+R)*N,N*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A(this))return"0";if(g(this))return"-"+b(this).toString(E);for(var N=d(Math.pow(E,6)),C=this,R="";;){var j=S(C,N).g;C=x(C,j.j(N));var _=((0<C.g.length?C.g[0]:C.h)>>>0).toString(E);if(C=j,A(C))return _+R;for(;6>_.length;)_="0"+_;R=_+R}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function A(E){if(E.h!=0)return!1;for(var N=0;N<E.g.length;N++)if(E.g[N]!=0)return!1;return!0}function g(E){return E.h==-1}t.l=function(E){return E=x(this,E),g(E)?-1:A(E)?0:1};function b(E){for(var N=E.g.length,C=[],R=0;R<N;R++)C[R]=~E.g[R];return new s(C,~E.h).add(m)}t.abs=function(){return g(this)?b(this):this},t.add=function(E){for(var N=Math.max(this.g.length,E.g.length),C=[],R=0,j=0;j<=N;j++){var _=R+(this.i(j)&65535)+(E.i(j)&65535),D=(_>>>16)+(this.i(j)>>>16)+(E.i(j)>>>16);R=D>>>16,_&=65535,D&=65535,C[j]=D<<16|_}return new s(C,C[C.length-1]&-2147483648?-1:0)};function x(E,N){return E.add(b(N))}t.j=function(E){if(A(this)||A(E))return h;if(g(this))return g(E)?b(this).j(b(E)):b(b(this).j(E));if(g(E))return b(this.j(b(E)));if(0>this.l(p)&&0>E.l(p))return d(this.m()*E.m());for(var N=this.g.length+E.g.length,C=[],R=0;R<2*N;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(var j=0;j<E.g.length;j++){var _=this.i(R)>>>16,D=this.i(R)&65535,v=E.i(j)>>>16,O=E.i(j)&65535;C[2*R+2*j]+=D*O,y(C,2*R+2*j),C[2*R+2*j+1]+=_*O,y(C,2*R+2*j+1),C[2*R+2*j+1]+=D*v,y(C,2*R+2*j+1),C[2*R+2*j+2]+=_*v,y(C,2*R+2*j+2)}for(R=0;R<N;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=N;R<2*N;R++)C[R]=0;return new s(C,0)};function y(E,N){for(;(E[N]&65535)!=E[N];)E[N+1]+=E[N]>>>16,E[N]&=65535,N++}function w(E,N){this.g=E,this.h=N}function S(E,N){if(A(N))throw Error("division by zero");if(A(E))return new w(h,h);if(g(E))return N=S(b(E),N),new w(b(N.g),b(N.h));if(g(N))return N=S(E,b(N)),new w(b(N.g),N.h);if(30<E.g.length){if(g(E)||g(N))throw Error("slowDivide_ only works with positive integers.");for(var C=m,R=N;0>=R.l(E);)C=k(C),R=k(R);var j=P(C,1),_=P(R,1);for(R=P(R,2),C=P(C,2);!A(R);){var D=_.add(R);0>=D.l(E)&&(j=j.add(C),_=D),R=P(R,1),C=P(C,1)}return N=x(E,j.j(N)),new w(j,N)}for(j=h;0<=E.l(N);){for(C=Math.max(1,Math.floor(E.m()/N.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),_=d(C),D=_.j(N);g(D)||0<D.l(E);)C-=R,_=d(C),D=_.j(N);A(_)&&(_=m),j=j.add(_),E=x(E,D)}return new w(j,E)}t.A=function(E){return S(this,E).h},t.and=function(E){for(var N=Math.max(this.g.length,E.g.length),C=[],R=0;R<N;R++)C[R]=this.i(R)&E.i(R);return new s(C,this.h&E.h)},t.or=function(E){for(var N=Math.max(this.g.length,E.g.length),C=[],R=0;R<N;R++)C[R]=this.i(R)|E.i(R);return new s(C,this.h|E.h)},t.xor=function(E){for(var N=Math.max(this.g.length,E.g.length),C=[],R=0;R<N;R++)C[R]=this.i(R)^E.i(R);return new s(C,this.h^E.h)};function k(E){for(var N=E.g.length+1,C=[],R=0;R<N;R++)C[R]=E.i(R)<<1|E.i(R-1)>>>31;return new s(C,E.h)}function P(E,N){var C=N>>5;N%=32;for(var R=E.g.length-C,j=[],_=0;_<R;_++)j[_]=0<N?E.i(_+C)>>>N|E.i(_+C+1)<<32-N:E.i(_+C);return new s(j,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,dN=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=u,Zs=s}).apply(typeof Ew<"u"?Ew:typeof self<"u"?self:typeof window<"u"?window:{});var Eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uN,Hc,hN,Xh,GA,fN,pN,mN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,T,M){return f==Array.prototype||f==Object.prototype||(f[T]=M.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eh=="object"&&Eh];for(var T=0;T<f.length;++T){var M=f[T];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var r=n(this);function a(f,T){if(T)e:{var M=r;f=f.split(".");for(var W=0;W<f.length-1;W++){var se=f[W];if(!(se in M))break e;M=M[se]}f=f[f.length-1],W=M[f],T=T(W),T!=W&&T!=null&&e(M,f,{configurable:!0,writable:!0,value:T})}}function i(f,T){f instanceof String&&(f+="");var M=0,W=!1,se={next:function(){if(!W&&M<f.length){var he=M++;return{value:T(he,f[he]),done:!1}}return W=!0,{done:!0,value:void 0}}};return se[Symbol.iterator]=function(){return se},se}a("Array.prototype.values",function(f){return f||function(){return i(this,function(T,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(f){var T=typeof f;return T=T!="object"?T:f?Array.isArray(f)?"array":T:"null",T=="array"||T=="object"&&typeof f.length=="number"}function d(f){var T=typeof f;return T=="object"&&f!=null||T=="function"}function u(f,T,M){return f.call.apply(f.bind,arguments)}function h(f,T,M){if(!f)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(se,W),f.apply(T,se)}}return function(){return f.apply(T,arguments)}}function m(f,T,M){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,m.apply(null,arguments)}function p(f,T){var M=Array.prototype.slice.call(arguments,1);return function(){var W=M.slice();return W.push.apply(W,arguments),f.apply(this,W)}}function A(f,T){function M(){}M.prototype=T.prototype,f.aa=T.prototype,f.prototype=new M,f.prototype.constructor=f,f.Qb=function(W,se,he){for(var Re=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)Re[Wt-2]=arguments[Wt];return T.prototype[se].apply(W,Re)}}function g(f){const T=f.length;if(0<T){const M=Array(T);for(let W=0;W<T;W++)M[W]=f[W];return M}return[]}function b(f,T){for(let M=1;M<arguments.length;M++){const W=arguments[M];if(c(W)){const se=f.length||0,he=W.length||0;f.length=se+he;for(let Re=0;Re<he;Re++)f[se+Re]=W[Re]}else f.push(W)}}class x{constructor(T,M){this.i=T,this.j=M,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function y(f){return/^[\s\xa0]*$/.test(f)}function w(){var f=l.navigator;return f&&(f=f.userAgent)?f:""}function S(f){return S[" "](f),f}S[" "]=function(){};var k=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function P(f,T,M){for(const W in f)T.call(M,f[W],W,f)}function E(f,T){for(const M in f)T.call(void 0,f[M],M,f)}function N(f){const T={};for(const M in f)T[M]=f[M];return T}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(f,T){let M,W;for(let se=1;se<arguments.length;se++){W=arguments[se];for(M in W)f[M]=W[M];for(let he=0;he<C.length;he++)M=C[he],Object.prototype.hasOwnProperty.call(W,M)&&(f[M]=W[M])}}function j(f){var T=1;f=f.split(":");const M=[];for(;0<T&&f.length;)M.push(f.shift()),T--;return f.length&&M.push(f.join(":")),M}function _(f){l.setTimeout(()=>{throw f},0)}function D(){var f=H;let T=null;return f.g&&(T=f.g,f.g=f.g.next,f.g||(f.h=null),T.next=null),T}class v{constructor(){this.h=this.g=null}add(T,M){const W=O.get();W.set(T,M),this.h?this.h.next=W:this.g=W,this.h=W}}var O=new x(()=>new V,f=>f.reset());class V{constructor(){this.next=this.g=this.h=null}set(T,M){this.h=T,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let G,Q=!1,H=new v,ne=()=>{const f=l.Promise.resolve(void 0);G=()=>{f.then(X)}};var X=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(M){_(M)}var T=O;T.j(f),100>T.h&&(T.h++,f.next=T.g,T.g=f)}Q=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(f,T){this.type=f,this.g=this.target=T,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var f=!1,T=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const M=()=>{};l.addEventListener("test",M,T),l.removeEventListener("test",M,T)}catch{}return f}();function oe(f,T){if(ce.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var M=this.type=f.type,W=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=T,T=f.relatedTarget){if(k){e:{try{S(T.nodeName);var se=!0;break e}catch{}se=!1}se||(T=null)}}else M=="mouseover"?T=f.fromElement:M=="mouseout"&&(T=f.toElement);this.relatedTarget=T,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:pe[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&oe.aa.h.call(this)}}A(oe,ce);var pe={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Pe="closure_listenable_"+(1e6*Math.random()|0),ye=0;function ge(f,T,M,W,se){this.listener=f,this.proxy=null,this.src=T,this.type=M,this.capture=!!W,this.ha=se,this.key=++ye,this.da=this.fa=!1}function Se(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ve(f){this.src=f,this.g={},this.h=0}ve.prototype.add=function(f,T,M,W,se){var he=f.toString();f=this.g[he],f||(f=this.g[he]=[],this.h++);var Re=xe(f,T,W,se);return-1<Re?(T=f[Re],M||(T.fa=!1)):(T=new ge(T,this.src,he,!!W,se),T.fa=M,f.push(T)),T};function Ae(f,T){var M=T.type;if(M in f.g){var W=f.g[M],se=Array.prototype.indexOf.call(W,T,void 0),he;(he=0<=se)&&Array.prototype.splice.call(W,se,1),he&&(Se(T),f.g[M].length==0&&(delete f.g[M],f.h--))}}function xe(f,T,M,W){for(var se=0;se<f.length;++se){var he=f[se];if(!he.da&&he.listener==T&&he.capture==!!M&&he.ha==W)return se}return-1}var I="closure_lm_"+(1e6*Math.random()|0),Y={};function q(f,T,M,W,se){if(Array.isArray(T)){for(var he=0;he<T.length;he++)q(f,T[he],M,W,se);return null}return M=re(M),f&&f[Pe]?f.K(T,M,d(W)?!!W.capture:!1,se):F(f,T,M,!1,W,se)}function F(f,T,M,W,se,he){if(!T)throw Error("Invalid event type");var Re=d(se)?!!se.capture:!!se,Wt=te(f);if(Wt||(f[I]=Wt=new ve(f)),M=Wt.add(T,M,W,Re,he),M.proxy)return M;if(W=B(),M.proxy=W,W.src=f,W.listener=M,f.addEventListener)ie||(se=Re),se===void 0&&(se=!1),f.addEventListener(T.toString(),W,se);else if(f.attachEvent)f.attachEvent($(T.toString()),W);else if(f.addListener&&f.removeListener)f.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return M}function B(){function f(M){return T.call(f.src,f.listener,M)}const T=U;return f}function z(f,T,M,W,se){if(Array.isArray(T))for(var he=0;he<T.length;he++)z(f,T[he],M,W,se);else W=d(W)?!!W.capture:!!W,M=re(M),f&&f[Pe]?(f=f.i,T=String(T).toString(),T in f.g&&(he=f.g[T],M=xe(he,M,W,se),-1<M&&(Se(he[M]),Array.prototype.splice.call(he,M,1),he.length==0&&(delete f.g[T],f.h--)))):f&&(f=te(f))&&(T=f.g[T.toString()],f=-1,T&&(f=xe(T,M,W,se)),(M=-1<f?T[f]:null)&&J(M))}function J(f){if(typeof f!="number"&&f&&!f.da){var T=f.src;if(T&&T[Pe])Ae(T.i,f);else{var M=f.type,W=f.proxy;T.removeEventListener?T.removeEventListener(M,W,f.capture):T.detachEvent?T.detachEvent($(M),W):T.addListener&&T.removeListener&&T.removeListener(W),(M=te(T))?(Ae(M,f),M.h==0&&(M.src=null,T[I]=null)):Se(f)}}}function $(f){return f in Y?Y[f]:Y[f]="on"+f}function U(f,T){if(f.da)f=!0;else{T=new oe(T,this);var M=f.listener,W=f.ha||f.src;f.fa&&J(f),f=M.call(W,T)}return f}function te(f){return f=f[I],f instanceof ve?f:null}var Z="__closure_events_fn_"+(1e9*Math.random()>>>0);function re(f){return typeof f=="function"?f:(f[Z]||(f[Z]=function(T){return f.handleEvent(T)}),f[Z])}function fe(){K.call(this),this.i=new ve(this),this.M=this,this.F=null}A(fe,K),fe.prototype[Pe]=!0,fe.prototype.removeEventListener=function(f,T,M,W){z(this,f,T,M,W)};function Te(f,T){var M,W=f.F;if(W)for(M=[];W;W=W.F)M.push(W);if(f=f.M,W=T.type||T,typeof T=="string")T=new ce(T,f);else if(T instanceof ce)T.target=T.target||f;else{var se=T;T=new ce(W,f),R(T,se)}if(se=!0,M)for(var he=M.length-1;0<=he;he--){var Re=T.g=M[he];se=Ne(Re,W,!0,T)&&se}if(Re=T.g=f,se=Ne(Re,W,!0,T)&&se,se=Ne(Re,W,!1,T)&&se,M)for(he=0;he<M.length;he++)Re=T.g=M[he],se=Ne(Re,W,!1,T)&&se}fe.prototype.N=function(){if(fe.aa.N.call(this),this.i){var f=this.i,T;for(T in f.g){for(var M=f.g[T],W=0;W<M.length;W++)Se(M[W]);delete f.g[T],f.h--}}this.F=null},fe.prototype.K=function(f,T,M,W){return this.i.add(String(f),T,!1,M,W)},fe.prototype.L=function(f,T,M,W){return this.i.add(String(f),T,!0,M,W)};function Ne(f,T,M,W){if(T=f.i.g[String(T)],!T)return!0;T=T.concat();for(var se=!0,he=0;he<T.length;++he){var Re=T[he];if(Re&&!Re.da&&Re.capture==M){var Wt=Re.listener,jn=Re.ha||Re.src;Re.fa&&Ae(f.i,Re),se=Wt.call(jn,W)!==!1&&se}}return se&&!W.defaultPrevented}function $e(f,T,M){if(typeof f=="function")M&&(f=m(f,M));else if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:l.setTimeout(f,T||0)}function pt(f){f.g=$e(()=>{f.g=null,f.i&&(f.i=!1,pt(f))},f.l);const T=f.h;f.h=null,f.m.apply(null,T)}class ot extends K{constructor(T,M){super(),this.m=T,this.l=M,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:pt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Be(f){K.call(this),this.h=f,this.g={}}A(Be,K);var Ue=[];function nt(f){P(f.g,function(T,M){this.g.hasOwnProperty(M)&&J(T)},f),f.g={}}Be.prototype.N=function(){Be.aa.N.call(this),nt(this)},Be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var It=l.JSON.stringify,mt=l.JSON.parse,Nt=class{stringify(f){return l.JSON.stringify(f,void 0)}parse(f){return l.JSON.parse(f,void 0)}};function ze(){}ze.prototype.h=null;function gt(f){return f.h||(f.h=f.i())}function vt(){}var dt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tt(){ce.call(this,"d")}A(tt,ce);function Oe(){ce.call(this,"c")}A(Oe,ce);var lt={},Ft=null;function _t(){return Ft=Ft||new fe}lt.La="serverreachability";function Ot(f){ce.call(this,lt.La,f)}A(Ot,ce);function un(f){const T=_t();Te(T,new Ot(T))}lt.STAT_EVENT="statevent";function Tr(f,T){ce.call(this,lt.STAT_EVENT,f),this.stat=T}A(Tr,ce);function At(f){const T=_t();Te(T,new Tr(T,f))}lt.Ma="timingevent";function Un(f,T){ce.call(this,lt.Ma,f),this.size=T}A(Un,ce);function mn(f,T){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){f()},T)}function xn(){this.g=!0}xn.prototype.xa=function(){this.g=!1};function kt(f,T,M,W,se,he){f.info(function(){if(f.g)if(he)for(var Re="",Wt=he.split("&"),jn=0;jn<Wt.length;jn++){var Rt=Wt[jn].split("=");if(1<Rt.length){var Hn=Rt[0];Rt=Rt[1];var Qn=Hn.split("_");Re=2<=Qn.length&&Qn[1]=="type"?Re+(Hn+"="+Rt+"&"):Re+(Hn+"=redacted&")}}else Re=null;else Re=he;return"XMLHTTP REQ ("+W+") [attempt "+se+"]: "+T+`
`+M+`
`+Re})}function Mt(f,T,M,W,se,he,Re){f.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+se+"]: "+T+`
`+M+`
`+he+" "+Re})}function tn(f,T,M,W){f.info(function(){return"XMLHTTP TEXT ("+T+"): "+rr(f,M)+(W?" "+W:"")})}function Ur(f,T){f.info(function(){return"TIMEOUT: "+T})}xn.prototype.info=function(){};function rr(f,T){if(!f.g)return T;if(!T)return null;try{var M=JSON.parse(T);if(M){for(f=0;f<M.length;f++)if(Array.isArray(M[f])){var W=M[f];if(!(2>W.length)){var se=W[1];if(Array.isArray(se)&&!(1>se.length)){var he=se[0];if(he!="noop"&&he!="stop"&&he!="close")for(var Re=1;Re<se.length;Re++)se[Re]=""}}}}return It(M)}catch{return T}}var ja={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mi;function ra(){}A(ra,ze),ra.prototype.g=function(){return new XMLHttpRequest},ra.prototype.i=function(){return{}},mi=new ra;function Sr(f,T,M,W){this.j=f,this.i=T,this.l=M,this.R=W||1,this.U=new Be(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ws}function ws(){this.i=null,this.g="",this.h=!1}var Ma={},La={};function Gn(f,T,M){f.L=1,f.v=qu(rt(T)),f.m=M,f.P=!0,Gr(f,null)}function Gr(f,T){f.F=Date.now(),ee(f),f.A=rt(f.v);var M=f.A,W=f.R;Array.isArray(W)||(W=[String(W)]),Hy(M.i,"t",W),f.C=0,M=f.j.J,f.h=new ws,f.g=uv(f.j,M?T:null,!f.m),0<f.O&&(f.M=new ot(m(f.Y,f,f.g),f.O)),T=f.U,M=f.g,W=f.ca;var se="readystatechange";Array.isArray(se)||(se&&(Ue[0]=se.toString()),se=Ue);for(var he=0;he<se.length;he++){var Re=q(M,se[he],W||T.handleEvent,!1,T.h||T);if(!Re)break;T.g[Re.key]=Re}T=f.H?N(f.H):{},f.m?(f.u||(f.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,T)):(f.u="GET",f.g.ea(f.A,f.u,null,T)),un(),kt(f.i,f.u,f.A,f.l,f.R,f.m)}Sr.prototype.ca=function(f){f=f.target;const T=this.M;T&&Fa(f)==3?T.j():this.Y(f)},Sr.prototype.Y=function(f){try{if(f==this.g)e:{const Qn=Fa(this.g);var T=this.g.Ba();const jo=this.g.Z();if(!(3>Qn)&&(Qn!=3||this.g&&(this.h.h||this.g.oa()||ev(this.g)))){this.J||Qn!=4||T==7||(T==8||0>=jo?un(3):un(2)),de(this);var M=this.g.Z();this.X=M;t:if(gi(this)){var W=ev(this.g);f="";var se=W.length,he=Fa(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ee(this),Ce(this);var Re="";break t}this.h.i=new l.TextDecoder}for(T=0;T<se;T++)this.h.h=!0,f+=this.h.i.decode(W[T],{stream:!(he&&T==se-1)});W.length=0,this.h.g+=f,this.C=0,Re=this.h.g}else Re=this.g.oa();if(this.o=M==200,Mt(this.i,this.u,this.A,this.l,this.R,Qn,M),this.o){if(this.T&&!this.K){t:{if(this.g){var Wt,jn=this.g;if((Wt=jn.g?jn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Wt)){var Rt=Wt;break t}}Rt=null}if(M=Rt)tn(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qe(this,M);else{this.o=!1,this.s=3,At(12),Ee(this),Ce(this);break e}}if(this.P){M=!0;let aa;for(;!this.J&&this.C<Re.length;)if(aa=pr(this,Re),aa==La){Qn==4&&(this.s=4,At(14),M=!1),tn(this.i,this.l,null,"[Incomplete Response]");break}else if(aa==Ma){this.s=4,At(15),tn(this.i,this.l,Re,"[Invalid Chunk]"),M=!1;break}else tn(this.i,this.l,aa,null),qe(this,aa);if(gi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qn!=4||Re.length!=0||this.h.h||(this.s=1,At(16),M=!1),this.o=this.o&&M,!M)tn(this.i,this.l,Re,"[Invalid Chunked Response]"),Ee(this),Ce(this);else if(0<Re.length&&!this.W){this.W=!0;var Hn=this.j;Hn.g==this&&Hn.ba&&!Hn.M&&(Hn.j.info("Great, no buffering proxy detected. Bytes received: "+Re.length),Tm(Hn),Hn.M=!0,At(11))}}else tn(this.i,this.l,Re,null),qe(this,Re);Qn==4&&Ee(this),this.o&&!this.J&&(Qn==4?ov(this.j,this):(this.o=!1,ee(this)))}else BI(this.g),M==400&&0<Re.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),Ee(this),Ce(this)}}}catch{}finally{}};function gi(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function pr(f,T){var M=f.C,W=T.indexOf(`
`,M);return W==-1?La:(M=Number(T.substring(M,W)),isNaN(M)?Ma:(W+=1,W+M>T.length?La:(T=T.slice(W,W+M),f.C=W+M,T)))}Sr.prototype.cancel=function(){this.J=!0,Ee(this)};function ee(f){f.S=Date.now()+f.I,ae(f,f.I)}function ae(f,T){if(f.B!=null)throw Error("WatchDog timer not null");f.B=mn(m(f.ba,f),T)}function de(f){f.B&&(l.clearTimeout(f.B),f.B=null)}Sr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Ur(this.i,this.A),this.L!=2&&(un(),At(17)),Ee(this),this.s=2,Ce(this)):ae(this,this.S-f)};function Ce(f){f.j.G==0||f.J||ov(f.j,f)}function Ee(f){de(f);var T=f.M;T&&typeof T.ma=="function"&&T.ma(),f.M=null,nt(f.U),f.g&&(T=f.g,f.g=null,T.abort(),T.ma())}function qe(f,T){try{var M=f.j;if(M.G!=0&&(M.g==f||$n(M.h,f))){if(!f.K&&$n(M.h,f)&&M.G==3){try{var W=M.Da.g.parse(T)}catch{W=null}if(Array.isArray(W)&&W.length==3){var se=W;if(se[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<f.F)Ju(M),Ku(M);else break e;Nm(M),At(18)}}else M.za=se[1],0<M.za-M.T&&37500>se[2]&&M.F&&M.v==0&&!M.C&&(M.C=mn(m(M.Za,M),6e3));if(1>=Wn(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else _s(M,11)}else if((f.K||M.g==f)&&Ju(M),!y(T))for(se=M.Da.g.parse(T),T=0;T<se.length;T++){let Rt=se[T];if(M.T=Rt[0],Rt=Rt[1],M.G==2)if(Rt[0]=="c"){M.K=Rt[1],M.ia=Rt[2];const Hn=Rt[3];Hn!=null&&(M.la=Hn,M.j.info("VER="+M.la));const Qn=Rt[4];Qn!=null&&(M.Aa=Qn,M.j.info("SVER="+M.Aa));const jo=Rt[5];jo!=null&&typeof jo=="number"&&0<jo&&(W=1.5*jo,M.L=W,M.j.info("backChannelRequestTimeoutMs_="+W)),W=M;const aa=f.g;if(aa){const eh=aa.g?aa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(eh){var he=W.h;he.g||eh.indexOf("spdy")==-1&&eh.indexOf("quic")==-1&&eh.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(Wr(he,he.h),he.h=null))}if(W.D){const Sm=aa.g?aa.g.getResponseHeader("X-HTTP-Session-Id"):null;Sm&&(W.ya=Sm,Ht(W.I,W.D,Sm))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-f.F,M.j.info("Handshake RTT: "+M.R+"ms")),W=M;var Re=f;if(W.qa=dv(W,W.J?W.ia:null,W.W),Re.K){qn(W.h,Re);var Wt=Re,jn=W.L;jn&&(Wt.I=jn),Wt.B&&(de(Wt),ee(Wt)),W.g=Re}else iv(W);0<M.i.length&&Yu(M)}else Rt[0]!="stop"&&Rt[0]!="close"||_s(M,7);else M.G==3&&(Rt[0]=="stop"||Rt[0]=="close"?Rt[0]=="stop"?_s(M,7):Em(M):Rt[0]!="noop"&&M.l&&M.l.ta(Rt),M.v=0)}}un(4)}catch{}}var Le=class{constructor(f,T){this.g=f,this.map=T}};function Dt(f){this.l=f||10,l.PerformanceNavigationTiming?(f=l.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gt(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Wn(f){return f.h?1:f.g?f.g.size:0}function $n(f,T){return f.h?f.h==T:f.g?f.g.has(T):!1}function Wr(f,T){f.g?f.g.add(T):f.h=T}function qn(f,T){f.h&&f.h==T?f.h=null:f.g&&f.g.has(T)&&f.g.delete(T)}Dt.prototype.cancel=function(){if(this.i=Io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Io(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let T=f.i;for(const M of f.g.values())T=T.concat(M.D);return T}return g(f.i)}function ko(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(c(f)){for(var T=[],M=f.length,W=0;W<M;W++)T.push(f[W]);return T}T=[],M=0;for(W in f)T[M++]=f[W];return T}function Do(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(c(f)||typeof f=="string"){var T=[];f=f.length;for(var M=0;M<f;M++)T.push(M);return T}T=[],M=0;for(const W in f)T[M++]=W;return T}}}function ct(f,T){if(f.forEach&&typeof f.forEach=="function")f.forEach(T,void 0);else if(c(f)||typeof f=="string")Array.prototype.forEach.call(f,T,void 0);else for(var M=Do(f),W=ko(f),se=W.length,he=0;he<se;he++)T.call(void 0,W[he],M&&M[he],f)}var Ie=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ye(f,T){if(f){f=f.split("&");for(var M=0;M<f.length;M++){var W=f[M].indexOf("="),se=null;if(0<=W){var he=f[M].substring(0,W);se=f[M].substring(W+1)}else he=f[M];T(he,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function Ge(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ge){this.h=f.h,Pn(this,f.j),this.o=f.o,this.g=f.g,ar(this,f.s),this.l=f.l;var T=f.i,M=new xc;M.i=T.i,T.g&&(M.g=new Map(T.g),M.h=T.h),mc(this,M),this.m=f.m}else f&&(T=String(f).match(Ie))?(this.h=!1,Pn(this,T[1]||"",!0),this.o=gc(T[2]||""),this.g=gc(T[3]||"",!0),ar(this,T[4]),this.l=gc(T[5]||"",!0),mc(this,T[6]||"",!0),this.m=gc(T[7]||"")):(this.h=!1,this.i=new xc(null,this.h))}Ge.prototype.toString=function(){var f=[],T=this.j;T&&f.push(Ac(T,Wy,!0),":");var M=this.g;return(M||T=="file")&&(f.push("//"),(T=this.o)&&f.push(Ac(T,Wy,!0),"@"),f.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&f.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&f.push("/"),f.push(Ac(M,M.charAt(0)=="/"?II:SI,!0))),(M=this.i.toString())&&f.push("?",M),(M=this.m)&&f.push("#",Ac(M,DI)),f.join("")};function rt(f){return new Ge(f)}function Pn(f,T,M){f.j=M?gc(T,!0):T,f.j&&(f.j=f.j.replace(/:$/,""))}function ar(f,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);f.s=T}else f.s=null}function mc(f,T,M){T instanceof xc?(f.i=T,RI(f.i,f.h)):(M||(T=Ac(T,kI)),f.i=new xc(T,f.h))}function Ht(f,T,M){f.i.set(T,M)}function qu(f){return Ht(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function gc(f,T){return f?T?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ac(f,T,M){return typeof f=="string"?(f=encodeURI(f).replace(T,TI),M&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function TI(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Wy=/[#\/\?@]/g,SI=/[#\?:]/g,II=/[#\?]/g,kI=/[#\?@]/g,DI=/#/g;function xc(f,T){this.h=this.g=null,this.i=f||null,this.j=!!T}function Ai(f){f.g||(f.g=new Map,f.h=0,f.i&&Ye(f.i,function(T,M){f.add(decodeURIComponent(T.replace(/\+/g," ")),M)}))}t=xc.prototype,t.add=function(f,T){Ai(this),this.i=null,f=Ro(this,f);var M=this.g.get(f);return M||this.g.set(f,M=[]),M.push(T),this.h+=1,this};function $y(f,T){Ai(f),T=Ro(f,T),f.g.has(T)&&(f.i=null,f.h-=f.g.get(T).length,f.g.delete(T))}function qy(f,T){return Ai(f),T=Ro(f,T),f.g.has(T)}t.forEach=function(f,T){Ai(this),this.g.forEach(function(M,W){M.forEach(function(se){f.call(T,se,W,this)},this)},this)},t.na=function(){Ai(this);const f=Array.from(this.g.values()),T=Array.from(this.g.keys()),M=[];for(let W=0;W<T.length;W++){const se=f[W];for(let he=0;he<se.length;he++)M.push(T[W])}return M},t.V=function(f){Ai(this);let T=[];if(typeof f=="string")qy(this,f)&&(T=T.concat(this.g.get(Ro(this,f))));else{f=Array.from(this.g.values());for(let M=0;M<f.length;M++)T=T.concat(f[M])}return T},t.set=function(f,T){return Ai(this),this.i=null,f=Ro(this,f),qy(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[T]),this.h+=1,this},t.get=function(f,T){return f?(f=this.V(f),0<f.length?String(f[0]):T):T};function Hy(f,T,M){$y(f,T),0<M.length&&(f.i=null,f.g.set(Ro(f,T),g(M)),f.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],T=Array.from(this.g.keys());for(var M=0;M<T.length;M++){var W=T[M];const he=encodeURIComponent(String(W)),Re=this.V(W);for(W=0;W<Re.length;W++){var se=he;Re[W]!==""&&(se+="="+encodeURIComponent(String(Re[W]))),f.push(se)}}return this.i=f.join("&")};function Ro(f,T){return T=String(T),f.j&&(T=T.toLowerCase()),T}function RI(f,T){T&&!f.j&&(Ai(f),f.i=null,f.g.forEach(function(M,W){var se=W.toLowerCase();W!=se&&($y(this,W),Hy(this,se,M))},f)),f.j=T}function PI(f,T){const M=new xn;if(l.Image){const W=new Image;W.onload=p(xi,M,"TestLoadImage: loaded",!0,T,W),W.onerror=p(xi,M,"TestLoadImage: error",!1,T,W),W.onabort=p(xi,M,"TestLoadImage: abort",!1,T,W),W.ontimeout=p(xi,M,"TestLoadImage: timeout",!1,T,W),l.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=f}else T(!1)}function jI(f,T){const M=new xn,W=new AbortController,se=setTimeout(()=>{W.abort(),xi(M,"TestPingServer: timeout",!1,T)},1e4);fetch(f,{signal:W.signal}).then(he=>{clearTimeout(se),he.ok?xi(M,"TestPingServer: ok",!0,T):xi(M,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(se),xi(M,"TestPingServer: error",!1,T)})}function xi(f,T,M,W,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),W(M)}catch{}}function MI(){this.g=new Nt}function LI(f,T,M){const W=M||"";try{ct(f,function(se,he){let Re=se;d(se)&&(Re=It(se)),T.push(W+he+"="+encodeURIComponent(Re))})}catch(se){throw T.push(W+"type="+encodeURIComponent("_badmap")),se}}function Hu(f){this.l=f.Ub||null,this.j=f.eb||!1}A(Hu,ze),Hu.prototype.g=function(){return new Qu(this.l,this.j)},Hu.prototype.i=function(f){return function(){return f}}({});function Qu(f,T){fe.call(this),this.D=f,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Qu,fe),t=Qu.prototype,t.open=function(f,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=T,this.readyState=1,vc(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(T.body=f),(this.D||l).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yc(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,vc(this)),this.g&&(this.readyState=3,vc(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qy(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qy(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var T=f.value?f.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!f.done}))&&(this.response=this.responseText+=T)}f.done?yc(this):vc(this),this.readyState==3&&Qy(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,yc(this))},t.Qa=function(f){this.g&&(this.response=f,yc(this))},t.ga=function(){this.g&&yc(this)};function yc(f){f.readyState=4,f.l=null,f.j=null,f.v=null,vc(f)}t.setRequestHeader=function(f,T){this.u.append(f,T)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],T=this.h.entries();for(var M=T.next();!M.done;)M=M.value,f.push(M[0]+": "+M[1]),M=T.next();return f.join(`\r
`)};function vc(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Qu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Xy(f){let T="";return P(f,function(M,W){T+=W,T+=":",T+=M,T+=`\r
`}),T}function Cm(f,T,M){e:{for(W in M){var W=!1;break e}W=!0}W||(M=Xy(M),typeof f=="string"?M!=null&&encodeURIComponent(String(M)):Ht(f,T,M))}function on(f){fe.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(on,fe);var FI=/^https?$/i,OI=["POST","PUT"];t=on.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,T,M,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);T=T?T.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mi.g(),this.v=this.o?gt(this.o):gt(mi),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(T,String(f),!0),this.B=!1}catch(he){Ky(this,he);return}if(f=M||"",M=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var se in W)M.set(se,W[se]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const he of W.keys())M.set(he,W.get(he));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(M.keys()).find(he=>he.toLowerCase()=="content-type"),se=l.FormData&&f instanceof l.FormData,!(0<=Array.prototype.indexOf.call(OI,T,void 0))||W||se||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Re]of M)this.g.setRequestHeader(he,Re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zy(this),this.u=!0,this.g.send(f),this.u=!1}catch(he){Ky(this,he)}};function Ky(f,T){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=T,f.m=5,Yy(f),Xu(f)}function Yy(f){f.A||(f.A=!0,Te(f,"complete"),Te(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Te(this,"complete"),Te(this,"abort"),Xu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xu(this,!0)),on.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Jy(this):this.bb())},t.bb=function(){Jy(this)};function Jy(f){if(f.h&&typeof s<"u"&&(!f.v[1]||Fa(f)!=4||f.Z()!=2)){if(f.u&&Fa(f)==4)$e(f.Ea,0,f);else if(Te(f,"readystatechange"),Fa(f)==4){f.h=!1;try{const Re=f.Z();e:switch(Re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var M;if(!(M=T)){var W;if(W=Re===0){var se=String(f.D).match(Ie)[1]||null;!se&&l.self&&l.self.location&&(se=l.self.location.protocol.slice(0,-1)),W=!FI.test(se?se.toLowerCase():"")}M=W}if(M)Te(f,"complete"),Te(f,"success");else{f.m=6;try{var he=2<Fa(f)?f.g.statusText:""}catch{he=""}f.l=he+" ["+f.Z()+"]",Yy(f)}}finally{Xu(f)}}}}function Xu(f,T){if(f.g){Zy(f);const M=f.g,W=f.v[0]?()=>{}:null;f.g=null,f.v=null,T||Te(f,"ready");try{M.onreadystatechange=W}catch{}}}function Zy(f){f.I&&(l.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Fa(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Fa(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var T=this.g.responseText;return f&&T.indexOf(f)==0&&(T=T.substring(f.length)),mt(T)}};function ev(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function BI(f){const T={};f=(f.g&&2<=Fa(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<f.length;W++){if(y(f[W]))continue;var M=j(f[W]);const se=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const he=T[se]||[];T[se]=he,he.push(M)}E(T,function(W){return W.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bc(f,T,M){return M&&M.internalChannelParams&&M.internalChannelParams[f]||T}function tv(f){this.Aa=0,this.i=[],this.j=new xn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bc("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bc("baseRetryDelayMs",5e3,f),this.cb=bc("retryDelaySeedMs",1e4,f),this.Wa=bc("forwardChannelMaxRetries",2,f),this.wa=bc("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Dt(f&&f.concurrentRequestLimit),this.Da=new MI,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=tv.prototype,t.la=8,t.G=1,t.connect=function(f,T,M,W){At(0),this.W=f,this.H=T||{},M&&W!==void 0&&(this.H.OSID=M,this.H.OAID=W),this.F=this.X,this.I=dv(this,null,this.W),Yu(this)};function Em(f){if(nv(f),f.G==3){var T=f.U++,M=rt(f.I);if(Ht(M,"SID",f.K),Ht(M,"RID",T),Ht(M,"TYPE","terminate"),wc(f,M),T=new Sr(f,f.j,T),T.L=2,T.v=qu(rt(M)),M=!1,l.navigator&&l.navigator.sendBeacon)try{M=l.navigator.sendBeacon(T.v.toString(),"")}catch{}!M&&l.Image&&(new Image().src=T.v,M=!0),M||(T.g=uv(T.j,null),T.g.ea(T.v)),T.F=Date.now(),ee(T)}cv(f)}function Ku(f){f.g&&(Tm(f),f.g.cancel(),f.g=null)}function nv(f){Ku(f),f.u&&(l.clearTimeout(f.u),f.u=null),Ju(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&l.clearTimeout(f.s),f.s=null)}function Yu(f){if(!Gt(f.h)&&!f.s){f.s=!0;var T=f.Ga;G||ne(),Q||(G(),Q=!0),H.add(T,f),f.B=0}}function zI(f,T){return Wn(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=T.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=mn(m(f.Ga,f,T),lv(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const se=new Sr(this,this.j,f);let he=this.o;if(this.S&&(he?(he=N(he),R(he,this.S)):he=this.S),this.m!==null||this.O||(se.H=he,he=null),this.P)e:{for(var T=0,M=0;M<this.i.length;M++){t:{var W=this.i[M];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(T+=W,4096<T){T=M;break e}if(T===4096||M===this.i.length-1){T=M+1;break e}}T=1e3}else T=1e3;T=av(this,se,T),M=rt(this.I),Ht(M,"RID",f),Ht(M,"CVER",22),this.D&&Ht(M,"X-HTTP-Session-Id",this.D),wc(this,M),he&&(this.O?T="headers="+encodeURIComponent(String(Xy(he)))+"&"+T:this.m&&Cm(M,this.m,he)),Wr(this.h,se),this.Ua&&Ht(M,"TYPE","init"),this.P?(Ht(M,"$req",T),Ht(M,"SID","null"),se.T=!0,Gn(se,M,null)):Gn(se,M,T),this.G=2}}else this.G==3&&(f?rv(this,f):this.i.length==0||Gt(this.h)||rv(this))};function rv(f,T){var M;T?M=T.l:M=f.U++;const W=rt(f.I);Ht(W,"SID",f.K),Ht(W,"RID",M),Ht(W,"AID",f.T),wc(f,W),f.m&&f.o&&Cm(W,f.m,f.o),M=new Sr(f,f.j,M,f.B+1),f.m===null&&(M.H=f.o),T&&(f.i=T.D.concat(f.i)),T=av(f,M,1e3),M.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Wr(f.h,M),Gn(M,W,T)}function wc(f,T){f.H&&P(f.H,function(M,W){Ht(T,W,M)}),f.l&&ct({},function(M,W){Ht(T,W,M)})}function av(f,T,M){M=Math.min(f.i.length,M);var W=f.l?m(f.l.Na,f.l,f):null;e:{var se=f.i;let he=-1;for(;;){const Re=["count="+M];he==-1?0<M?(he=se[0].g,Re.push("ofs="+he)):he=0:Re.push("ofs="+he);let Wt=!0;for(let jn=0;jn<M;jn++){let Rt=se[jn].g;const Hn=se[jn].map;if(Rt-=he,0>Rt)he=Math.max(0,se[jn].g-100),Wt=!1;else try{LI(Hn,Re,"req"+Rt+"_")}catch{W&&W(Hn)}}if(Wt){W=Re.join("&");break e}}}return f=f.i.splice(0,M),T.D=f,W}function iv(f){if(!f.g&&!f.u){f.Y=1;var T=f.Fa;G||ne(),Q||(G(),Q=!0),H.add(T,f),f.v=0}}function Nm(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=mn(m(f.Fa,f),lv(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,sv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=mn(m(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),Ku(this),sv(this))};function Tm(f){f.A!=null&&(l.clearTimeout(f.A),f.A=null)}function sv(f){f.g=new Sr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var T=rt(f.qa);Ht(T,"RID","rpc"),Ht(T,"SID",f.K),Ht(T,"AID",f.T),Ht(T,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ht(T,"TO",f.ja),Ht(T,"TYPE","xmlhttp"),wc(f,T),f.m&&f.o&&Cm(T,f.m,f.o),f.L&&(f.g.I=f.L);var M=f.g;f=f.ia,M.L=1,M.v=qu(rt(T)),M.m=null,M.P=!0,Gr(M,f)}t.Za=function(){this.C!=null&&(this.C=null,Ku(this),Nm(this),At(19))};function Ju(f){f.C!=null&&(l.clearTimeout(f.C),f.C=null)}function ov(f,T){var M=null;if(f.g==T){Ju(f),Tm(f),f.g=null;var W=2}else if($n(f.h,T))M=T.D,qn(f.h,T),W=1;else return;if(f.G!=0){if(T.o)if(W==1){M=T.m?T.m.length:0,T=Date.now()-T.F;var se=f.B;W=_t(),Te(W,new Un(W,M)),Yu(f)}else iv(f);else if(se=T.s,se==3||se==0&&0<T.X||!(W==1&&zI(f,T)||W==2&&Nm(f)))switch(M&&0<M.length&&(T=f.h,T.i=T.i.concat(M)),se){case 1:_s(f,5);break;case 4:_s(f,10);break;case 3:_s(f,6);break;default:_s(f,2)}}}function lv(f,T){let M=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(M*=2),M*T}function _s(f,T){if(f.j.info("Error code "+T),T==2){var M=m(f.fb,f),W=f.Xa;const se=!W;W=new Ge(W||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Pn(W,"https"),qu(W),se?PI(W.toString(),M):jI(W.toString(),M)}else At(2);f.G=0,f.l&&f.l.sa(T),cv(f),nv(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function cv(f){if(f.G=0,f.ka=[],f.l){const T=Io(f.h);(T.length!=0||f.i.length!=0)&&(b(f.ka,T),b(f.ka,f.i),f.h.i.length=0,g(f.i),f.i.length=0),f.l.ra()}}function dv(f,T,M){var W=M instanceof Ge?rt(M):new Ge(M);if(W.g!="")T&&(W.g=T+"."+W.g),ar(W,W.s);else{var se=l.location;W=se.protocol,T=T?T+"."+se.hostname:se.hostname,se=+se.port;var he=new Ge(null);W&&Pn(he,W),T&&(he.g=T),se&&ar(he,se),M&&(he.l=M),W=he}return M=f.D,T=f.ya,M&&T&&Ht(W,M,T),Ht(W,"VER",f.la),wc(f,W),W}function uv(f,T,M){if(T&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=f.Ca&&!f.pa?new on(new Hu({eb:M})):new on(f.pa),T.Ha(f.J),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hv(){}t=hv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Zu(){}Zu.prototype.g=function(f,T){return new Ir(f,T)};function Ir(f,T){fe.call(this),this.g=new tv(T),this.l=f,this.h=T&&T.messageUrlParams||null,f=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(f?f["X-WebChannel-Content-Type"]=T.messageContentType:f={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(f?f["X-WebChannel-Client-Profile"]=T.va:f={"X-WebChannel-Client-Profile":T.va}),this.g.S=f,(f=T&&T.Sb)&&!y(f)&&(this.g.m=f),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!y(T)&&(this.g.D=T,f=this.h,f!==null&&T in f&&(f=this.h,T in f&&delete f[T])),this.j=new Po(this)}A(Ir,fe),Ir.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ir.prototype.close=function(){Em(this.g)},Ir.prototype.o=function(f){var T=this.g;if(typeof f=="string"){var M={};M.__data__=f,f=M}else this.u&&(M={},M.__data__=It(f),f=M);T.i.push(new Le(T.Ya++,f)),T.G==3&&Yu(T)},Ir.prototype.N=function(){this.g.l=null,delete this.j,Em(this.g),delete this.g,Ir.aa.N.call(this)};function fv(f){tt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var T=f.__sm__;if(T){e:{for(const M in T){f=M;break e}f=void 0}(this.i=f)&&(f=this.i,T=T!==null&&f in T?T[f]:void 0),this.data=T}else this.data=f}A(fv,tt);function pv(){Oe.call(this),this.status=1}A(pv,Oe);function Po(f){this.g=f}A(Po,hv),Po.prototype.ua=function(){Te(this.g,"a")},Po.prototype.ta=function(f){Te(this.g,new fv(f))},Po.prototype.sa=function(f){Te(this.g,new pv)},Po.prototype.ra=function(){Te(this.g,"b")},Zu.prototype.createWebChannel=Zu.prototype.g,Ir.prototype.send=Ir.prototype.o,Ir.prototype.open=Ir.prototype.m,Ir.prototype.close=Ir.prototype.close,mN=function(){return new Zu},pN=function(){return _t()},fN=lt,GA={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ja.NO_ERROR=0,ja.TIMEOUT=8,ja.HTTP_ERROR=6,Xh=ja,pi.COMPLETE="complete",hN=pi,vt.EventType=dt,dt.OPEN="a",dt.CLOSE="b",dt.ERROR="c",dt.MESSAGE="d",fe.prototype.listen=fe.prototype.K,Hc=vt,on.prototype.listenOnce=on.prototype.L,on.prototype.getLastError=on.prototype.Ka,on.prototype.getLastErrorCode=on.prototype.Ba,on.prototype.getStatus=on.prototype.Z,on.prototype.getResponseJson=on.prototype.Oa,on.prototype.getResponseText=on.prototype.oa,on.prototype.send=on.prototype.ea,on.prototype.setWithCredentials=on.prototype.Ha,uN=on}).apply(typeof Eh<"u"?Eh:typeof self<"u"?self:typeof window<"u"?window:{});const Nw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=new jx("@firebase/firestore");function Ho(){return ho.logLevel}function we(t,...e){if(ho.logLevel<=bt.DEBUG){const n=e.map(Fx);ho.debug(`Firestore (${oc}): ${t}`,...n)}}function or(t,...e){if(ho.logLevel<=bt.ERROR){const n=e.map(Fx);ho.error(`Firestore (${oc}): ${t}`,...n)}}function os(t,...e){if(ho.logLevel<=bt.WARN){const n=e.map(Fx);ho.warn(`Firestore (${oc}): ${t}`,...n)}}function Fx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t="Unexpected state"){const e=`FIRESTORE (${oc}) INTERNAL ASSERTION FAILED: `+t;throw or(e),new Error(e)}function Ve(t,e){t||Fe()}function et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ln.UNAUTHENTICATED))}shutdown(){}}class F5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class O5{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ve(this.o===void 0);let r=this.i;const a=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new ka;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ka,e.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await a(this.currentUser)})},l=c=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ka)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string"),new gN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string"),new Ln(e)}}class B5{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class z5{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new B5(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class V5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U5{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ve(this.o===void 0);const r=i=>{i.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.R;return this.R=i.token,we("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const a=i=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?a(i):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string"),this.R=n.token,new V5(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const a=G5(40);for(let i=0;i<a.length;++i)r.length<20&&a[i]<n&&(r+=e.charAt(a[i]%e.length))}return r}}function it(t,e){return t<e?-1:t>e?1:0}function Gl(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}function xN(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new De(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new De(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new De(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Zt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.timestamp=e}static fromTimestamp(e){return new We(e)}static min(){return new We(new Zt(0,0))}static max(){return new We(new Zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n,r){n===void 0?n=0:n>e.length&&Fe(),r===void 0?r=e.length-n:r>e.length-n&&Fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const i=e.get(a),s=n.get(a);if(i<s)return-1;if(i>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Lt extends Zd{construct(e,n,r){return new Lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new Lt(n)}static emptyPath(){return new Lt([])}}const W5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Zd{construct(e,n,r){return new Jt(e,n,r)}static isValidIdentifier(e){return W5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Jt(["__name__"])}static fromServerFormat(e){const n=[];let r="",a=0;const i=()=>{if(r.length===0)throw new De(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;a<e.length;){const l=e[a];if(l==="\\"){if(a+1===e.length)throw new De(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[a+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new De(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,a+=2}else l==="`"?(s=!s,a++):l!=="."||s?(r+=l,a++):(i(),a++)}if(i(),s)throw new De(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(Lt.fromString(e))}static fromName(e){return new je(Lt.fromString(e).popFirst(5))}static empty(){return new je(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new Lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n,r,a){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=a}}function WA(t){return t.fields.find(e=>e.kind===2)}function Ls(t){return t.fields.filter(e=>e.kind!==2)}np.UNKNOWN_ID=-1;class Kh{constructor(e,n){this.fieldPath=e,this.kind=n}}class eu{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new eu(0,Br.min())}}function $5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=We.fromTimestamp(r===1e9?new Zt(n+1,0):new Zt(n,r));return new Br(a,je.empty(),e)}function yN(t){return new Br(t.readTime,t.key,-1)}class Br{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Br(We.min(),je.empty(),-1)}static max(){return new Br(We.max(),je.empty(),-1)}}function Bx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=je.comparator(t.documentKey,e.documentKey),n!==0?n:it(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==vN)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((r,a)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,a)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,r)=>{n(e)})}static reject(e){return new le((n,r)=>{r(e)})}static waitFor(e){return new le((n,r)=>{let a=0,i=0,s=!1;e.forEach(l=>{++a,l.next(()=>{++i,s&&i===a&&n()},c=>r(c))}),s=!0,i===a&&n()})}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next(a=>a?le.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,i)=>{r.push(n.call(this,a,i))}),this.waitFor(r)}static mapArray(e,n){return new le((r,a)=>{const i=e.length,s=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(u=>{s[d]=u,++l,l===i&&r(s)},u=>a(u))}})}static doWhile(e,n){return new le((r,a)=>{const i=()=>{e()===!0?n().next(()=>{i()},a):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new ka,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new bd(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const a=zx(r.target.error);this.V.reject(new bd(e,a))}}static open(e,n,r,a){try{return new Zp(n,e.transaction(a,r))}catch(i){throw new bd(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(we("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new H5(n)}}class ns{constructor(e,n,r){this.name=e,this.version=n,this.p=r,ns.S(En())===12.2&&or("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return we("SimpleDb","Removing database:",e),Fs(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!rN())return!1;if(ns.v())return!0;const e=En(),n=ns.S(e),r=0<n&&n<10,a=wN(e),i=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(we("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=i=>{const s=i.target.result;n(s)},a.onblocked=()=>{r(new bd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=i=>{const s=i.target.error;s.name==="VersionError"?r(new De(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new De(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new bd(e,s))},a.onupgradeneeded=i=>{we("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const s=i.target.result;this.p.O(s,a.transaction,i.oldVersion,this.version).next(()=>{we("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,a){const i=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.M(e);const l=Zp.open(this.db,e,i?"readonly":"readwrite",r),c=a(l).next(d=>(l.g(),d)).catch(d=>(l.abort(d),le.reject(d))).toPromise();return c.catch(()=>{}),await l.m,c}catch(l){const c=l,d=c.name!=="FirebaseError"&&s<3;if(we("SimpleDb","Transaction failed with error:",c.message,"Retrying:",d),this.close(),!d)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function wN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class q5{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Fs(this.B.delete())}}class bd extends De{constructor(e,n){super(me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function As(t){return t.name==="IndexedDbTransactionError"}class H5{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(we("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(we("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Fs(r)}add(e){return we("SimpleDb","ADD",this.store.name,e,e),Fs(this.store.add(e))}get(e){return Fs(this.store.get(e)).next(n=>(n===void 0&&(n=null),we("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return we("SimpleDb","DELETE",this.store.name,e),Fs(this.store.delete(e))}count(){return we("SimpleDb","COUNT",this.store.name),Fs(this.store.count())}U(e,n){const r=this.options(e,n),a=r.index?this.store.index(r.index):this.store;if(typeof a.getAll=="function"){const i=a.getAll(r.range);return new le((s,l)=>{i.onerror=c=>{l(c.target.error)},i.onsuccess=c=>{s(c.target.result)}})}{const i=this.cursor(r),s=[];return this.W(i,(l,c)=>{s.push(c)}).next(()=>s)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new le((a,i)=>{r.onerror=s=>{i(s.target.error)},r.onsuccess=s=>{a(s.target.result)}})}j(e,n){we("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const a=this.cursor(r);return this.W(a,(i,s,l)=>l.delete())}J(e,n){let r;n?r=e:(r={},n=e);const a=this.cursor(r);return this.W(a,n)}Y(e){const n=this.cursor({});return new le((r,a)=>{n.onerror=i=>{const s=zx(i.target.error);a(s)},n.onsuccess=i=>{const s=i.target.result;s?e(s.primaryKey,s.value).next(l=>{l?s.continue():r()}):r()}})}W(e,n){const r=[];return new le((a,i)=>{e.onerror=s=>{i(s.target.error)},e.onsuccess=s=>{const l=s.target.result;if(!l)return void a();const c=new q5(l),d=n(l.primaryKey,l.value,c);if(d instanceof le){const u=d.catch(h=>(c.done(),le.reject(h)));r.push(u)}c.isDone?a():c.K===null?l.continue():l.continue(c.K)}}).next(()=>le.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Fs(t){return new le((e,n)=>{t.onsuccess=r=>{const a=r.target.result;e(a)},t.onerror=r=>{const a=zx(r.target.error);n(a)}})}let Tw=!1;function zx(t){const e=ns.S(En());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new De("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Tw||(Tw=!0,setTimeout(()=>{throw r},0)),r}}return t}class Q5{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){we("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{we("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){As(n)?we("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Eo(n)}await this.X(6e4)})}}class X5{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let a=n,i=!0;return le.doWhile(()=>i===!0&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return we("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,a).next(l=>{a-=l,r.add(s)});i=!1})).next(()=>n-a)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(a=>this.localStore.localDocuments.getNextDocuments(e,n,a,r).next(i=>{const s=i.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(a,i)).next(l=>(we("IndexBackfiller",`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,n,l))).next(()=>s.size)}))}re(e,n){let r=e;return n.changes.forEach((a,i)=>{const s=yN(i);Bx(s,r)>0&&(r=s)}),new Br(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Kr.oe=-1;function em(t){return t==null}function tu(t){return t===0&&1/t==-1/0}function K5(t){return typeof t=="number"&&Number.isInteger(t)&&!tu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Sw(e)),e=Y5(t.get(n),e);return Sw(e)}function Y5(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const i=t.charAt(a);switch(i){case"\0":n+="";break;case"":n+="";break;default:n+=i}}return n}function Sw(t){return t+""}function Na(t){const e=t.length;if(Ve(e>=2),e===2)return Ve(t.charAt(0)===""&&t.charAt(1)===""),Lt.emptyPath();const n=e-2,r=[];let a="";for(let i=0;i<e;){const s=t.indexOf("",i);switch((s<0||s>n)&&Fe(),t.charAt(s+1)){case"":const l=t.substring(i,s);let c;a.length===0?c=l:(a+=l,c=a,a=""),r.push(c);break;case"":a+=t.substring(i,s),a+="\0";break;case"":a+=t.substring(i,s+1);break;default:Fe()}i=s+2}return new Lt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(t,e){return[t,cr(e)]}function _N(t,e,n){return[t,cr(e),n]}const J5={},Z5=["prefixPath","collectionGroup","readTime","documentId"],e3=["prefixPath","collectionGroup","documentId"],t3=["collectionGroup","readTime","prefixPath","documentId"],n3=["canonicalId","targetId"],r3=["targetId","path"],a3=["path","targetId"],i3=["collectionId","parent"],s3=["indexId","uid"],o3=["uid","sequenceNumber"],l3=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],c3=["indexId","uid","orderedDocumentKey"],d3=["userId","collectionPath","documentId"],u3=["userId","collectionPath","largestBatchId"],h3=["userId","collectionGroup","largestBatchId"],CN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],f3=[...CN,"documentOverlays"],EN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],NN=EN,Vx=[...NN,"indexConfiguration","indexState","indexEntries"],p3=Vx,m3=[...Vx,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A extends bN{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Nn(t,e){const n=et(t);return ns.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function No(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n){this.comparator=e,this.root=n||Fn.EMPTY}insert(e,n){return new en(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(e){return new en(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nh(this.root,e,this.comparator,!0)}}class Nh{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&a&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fn{constructor(e,n,r,a,i){this.key=e,this.value=n,this.color=r??Fn.RED,this.left=a??Fn.EMPTY,this.right=i??Fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,i){return new Fn(e??this.key,n??this.value,r??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const i=r(e,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(e,n,r),null):i===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Fn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}}Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(e,n,r,a,i){return this}insert(e,n,r){return new Fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new en(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dw(this.data.getIterator())}getIteratorFrom(e){return new Dw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,i=r.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class Dw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Oo(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new wr([])}unionWith(e){let n=new Ut(Jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new SN("Invalid base64 string: "+i):i}}(e);return new pn(n)}static fromUint8Array(e){const n=function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i}(e);return new pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const g3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function li(t){if(Ve(!!t),typeof t=="string"){let e=0;const n=g3.exec(t);if(Ve(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kt(t.seconds),nanos:Kt(t.nanos)}}function Kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ls(t){return typeof t=="string"?pn.fromBase64String(t):pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Gx(t){const e=t.mapValue.fields.__previous_value__;return Ux(e)?Gx(e):e}function nu(t){const e=li(t.mapValue.fields.__local_write_time__.timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,n,r,a,i,s,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d}}class cs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new cs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof cs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Jh={nullValue:"NULL_VALUE"};function fo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ux(t)?4:IN(t)?9007199254740991:tm(t)?10:11:Fe()}function Pa(t,e){if(t===e)return!0;const n=fo(t);if(n!==fo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nu(t).isEqual(nu(e));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=li(a.timestampValue),l=li(i.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,i){return ls(a.bytesValue).isEqual(ls(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,i){return Kt(a.geoPointValue.latitude)===Kt(i.geoPointValue.latitude)&&Kt(a.geoPointValue.longitude)===Kt(i.geoPointValue.longitude)}(t,e);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return Kt(a.integerValue)===Kt(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=Kt(a.doubleValue),l=Kt(i.doubleValue);return s===l?tu(s)===tu(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return Gl(t.arrayValue.values||[],e.arrayValue.values||[],Pa);case 10:case 11:return function(a,i){const s=a.mapValue.fields||{},l=i.mapValue.fields||{};if(kw(s)!==kw(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!Pa(s[c],l[c])))return!1;return!0}(t,e);default:return Fe()}}function ru(t,e){return(t.values||[]).find(n=>Pa(n,e))!==void 0}function ds(t,e){if(t===e)return 0;const n=fo(t),r=fo(e);if(n!==r)return it(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return it(t.booleanValue,e.booleanValue);case 2:return function(i,s){const l=Kt(i.integerValue||i.doubleValue),c=Kt(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Rw(t.timestampValue,e.timestampValue);case 4:return Rw(nu(t),nu(e));case 5:return it(t.stringValue,e.stringValue);case 6:return function(i,s){const l=ls(i),c=ls(s);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const l=i.split("/"),c=s.split("/");for(let d=0;d<l.length&&d<c.length;d++){const u=it(l[d],c[d]);if(u!==0)return u}return it(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const l=it(Kt(i.latitude),Kt(s.latitude));return l!==0?l:it(Kt(i.longitude),Kt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Pw(t.arrayValue,e.arrayValue);case 10:return function(i,s){var l,c,d,u;const h=i.fields||{},m=s.fields||{},p=(l=h.value)===null||l===void 0?void 0:l.arrayValue,A=(c=m.value)===null||c===void 0?void 0:c.arrayValue,g=it(((d=p==null?void 0:p.values)===null||d===void 0?void 0:d.length)||0,((u=A==null?void 0:A.values)===null||u===void 0?void 0:u.length)||0);return g!==0?g:Pw(p,A)}(t.mapValue,e.mapValue);case 11:return function(i,s){if(i===Wi.mapValue&&s===Wi.mapValue)return 0;if(i===Wi.mapValue)return 1;if(s===Wi.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=s.fields||{},u=Object.keys(d);c.sort(),u.sort();for(let h=0;h<c.length&&h<u.length;++h){const m=it(c[h],u[h]);if(m!==0)return m;const p=ds(l[c[h]],d[u[h]]);if(p!==0)return p}return it(c.length,u.length)}(t.mapValue,e.mapValue);default:throw Fe()}}function Rw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return it(t,e);const n=li(t),r=li(e),a=it(n.seconds,r.seconds);return a!==0?a:it(n.nanos,r.nanos)}function Pw(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const i=ds(n[a],r[a]);if(i)return i}return it(n.length,r.length)}function Wl(t){return qA(t)}function qA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=li(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ls(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return je.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",a=!0;for(const i of n.values||[])a?a=!1:r+=",",r+=qA(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",i=!0;for(const s of r)i?i=!1:a+=",",a+=`${s}:${qA(n.fields[s])}`;return a+"}"}(t.mapValue):Fe()}function au(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function HA(t){return!!t&&"integerValue"in t}function iu(t){return!!t&&"arrayValue"in t}function jw(t){return!!t&&"nullValue"in t}function Mw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zh(t){return!!t&&"mapValue"in t}function tm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function wd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return No(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function IN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const kN={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function x3(t){return"nullValue"in t?Jh:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?au(cs.empty(),je.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?tm(t)?kN:{mapValue:{}}:Fe()}function y3(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?au(cs.empty(),je.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?kN:"mapValue"in t?tm(t)?{mapValue:{}}:Wi:Fe()}function Lw(t,e){const n=ds(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Fw(t,e){const n=ds(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.value=e}static empty(){return new er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wd(n)}setAll(e){let n=Jt.emptyPath(),r={},a=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,a),r={},a=[],n=l.popLast()}s?r[l.lastSegment()]=wd(s):a.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,a)}delete(e){const n=this.field(e.popLast());Zh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Zh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){No(n,(a,i)=>e[a]=i);for(const a of r)delete e[a]}clone(){return new er(wd(this.value))}}function DN(t){const e=[];return No(t.fields,(n,r)=>{const a=new Jt([n]);if(Zh(r)){const i=DN(r.mapValue).fields;if(i.length===0)e.push(a);else for(const s of i)e.push(a.child(s))}else e.push(a)}),new wr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,r,a,i,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=i,this.data=s,this.documentState=l}static newInvalidDocument(e){return new dn(e,0,We.min(),We.min(),We.min(),er.empty(),0)}static newFoundDocument(e,n,r,a){return new dn(e,1,n,We.min(),r,a,0)}static newNoDocument(e,n){return new dn(e,2,n,We.min(),We.min(),er.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,We.min(),We.min(),er.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n){this.position=e,this.inclusive=n}}function Ow(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const i=e[a],s=t.position[a];if(i.field.isKeyField()?r=je.comparator(je.fromName(s.referenceValue),n.key):r=ds(s,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Bw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Pa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n="asc"){this.field=e,this.dir=n}}function v3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{}class wt extends RN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new b3(e,n,r):n==="array-contains"?new C3(e,r):n==="in"?new ON(e,r):n==="not-in"?new E3(e,r):n==="array-contains-any"?new N3(e,r):new wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new w3(e,r):new _3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ds(n,this.value)):n!==null&&fo(this.value)===fo(n)&&this.matchesComparison(ds(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zt extends RN{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new zt(e,n)}matches(e){return ql(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ql(t){return t.op==="and"}function QA(t){return t.op==="or"}function Wx(t){return PN(t)&&ql(t)}function PN(t){for(const e of t.filters)if(e instanceof zt)return!1;return!0}function XA(t){if(t instanceof wt)return t.field.canonicalString()+t.op.toString()+Wl(t.value);if(Wx(t))return t.filters.map(e=>XA(e)).join(",");{const e=t.filters.map(n=>XA(n)).join(",");return`${t.op}(${e})`}}function jN(t,e){return t instanceof wt?function(r,a){return a instanceof wt&&r.op===a.op&&r.field.isEqual(a.field)&&Pa(r.value,a.value)}(t,e):t instanceof zt?function(r,a){return a instanceof zt&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((i,s,l)=>i&&jN(s,a.filters[l]),!0):!1}(t,e):void Fe()}function MN(t,e){const n=t.filters.concat(e);return zt.create(n,t.op)}function LN(t){return t instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${Wl(n.value)}`}(t):t instanceof zt?function(n){return n.op.toString()+" {"+n.getFilters().map(LN).join(" ,")+"}"}(t):"Filter"}class b3 extends wt{constructor(e,n,r){super(e,n,r),this.key=je.fromName(r.referenceValue)}matches(e){const n=je.comparator(e.key,this.key);return this.matchesComparison(n)}}class w3 extends wt{constructor(e,n){super(e,"in",n),this.keys=FN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _3 extends wt{constructor(e,n){super(e,"not-in",n),this.keys=FN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function FN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>je.fromName(r.referenceValue))}class C3 extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return iu(n)&&ru(n.arrayValue,this.value)}}class ON extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class E3 extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ru(this.value.arrayValue,n)}}class N3 extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!iu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ru(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,n=null,r=[],a=[],i=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=i,this.startAt=s,this.endAt=l,this.ue=null}}function KA(t,e=null,n=[],r=[],a=null,i=null,s=null){return new T3(t,e,n,r,a,i,s)}function po(t){const e=et(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>XA(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),em(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wl(r)).join(",")),e.ue=n}return e.ue}function Iu(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!v3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bw(t.startAt,e.startAt)&&Bw(t.endAt,e.endAt)}function rp(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function ap(t,e){return t.filters.filter(n=>n instanceof wt&&n.field.isEqual(e))}function zw(t,e,n){let r=Jh,a=!0;for(const i of ap(t,e)){let s=Jh,l=!0;switch(i.op){case"<":case"<=":s=x3(i.value);break;case"==":case"in":case">=":s=i.value;break;case">":s=i.value,l=!1;break;case"!=":case"not-in":s=Jh}Lw({value:r,inclusive:a},{value:s,inclusive:l})<0&&(r=s,a=l)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const s=n.position[i];Lw({value:r,inclusive:a},{value:s,inclusive:n.inclusive})<0&&(r=s,a=n.inclusive);break}}return{value:r,inclusive:a}}function Vw(t,e,n){let r=Wi,a=!0;for(const i of ap(t,e)){let s=Wi,l=!0;switch(i.op){case">=":case">":s=y3(i.value),l=!1;break;case"==":case"in":case"<=":s=i.value;break;case"<":s=i.value,l=!1;break;case"!=":case"not-in":s=Wi}Fw({value:r,inclusive:a},{value:s,inclusive:l})>0&&(r=s,a=l)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const s=n.position[i];Fw({value:r,inclusive:a},{value:s,inclusive:n.inclusive})>0&&(r=s,a=n.inclusive);break}}return{value:r,inclusive:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n=null,r=[],a=[],i=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=i,this.limitType=s,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function S3(t,e,n,r,a,i,s,l){return new lc(t,e,n,r,a,i,s,l)}function ku(t){return new lc(t)}function Uw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function BN(t){return t.collectionGroup!==null}function _d(t){const e=et(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new Ut(Jt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new su(i,r))}),n.has(Jt.keyField().canonicalString())||e.ce.push(new su(Jt.keyField(),r))}return e.ce}function Jr(t){const e=et(t);return e.le||(e.le=I3(e,_d(t))),e.le}function I3(t,e){if(t.limitType==="F")return KA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new su(a.field,i)});const n=t.endAt?new $l(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $l(t.startAt.position,t.startAt.inclusive):null;return KA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function YA(t,e){const n=t.filters.concat([e]);return new lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function JA(t,e,n){return new lc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nm(t,e){return Iu(Jr(t),Jr(e))&&t.limitType===e.limitType}function zN(t){return`${po(Jr(t))}|lt:${t.limitType}`}function Qo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>LN(a)).join(", ")}]`),em(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>Wl(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>Wl(a)).join(",")),`Target(${r})`}(Jr(t))}; limitType=${t.limitType})`}function Du(t,e){return e.isFoundDocument()&&function(r,a){const i=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):je.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,a){for(const i of _d(r))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,a){for(const i of r.filters)if(!i.matches(a))return!1;return!0}(t,e)&&function(r,a){return!(r.startAt&&!function(s,l,c){const d=Ow(s,l,c);return s.inclusive?d<=0:d<0}(r.startAt,_d(r),a)||r.endAt&&!function(s,l,c){const d=Ow(s,l,c);return s.inclusive?d>=0:d>0}(r.endAt,_d(r),a))}(t,e)}function k3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function VN(t){return(e,n)=>{let r=!1;for(const a of _d(t)){const i=D3(a,e,n);if(i!==0)return i;r=r||a.field.isKeyField()}return 0}}function D3(t,e,n){const r=t.field.isKeyField()?je.comparator(e.key,n.key):function(i,s,l){const c=s.data.field(i),d=l.data.field(i);return c!==null&&d!==null?ds(c,d):Fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,i]of r)if(this.equalsFn(a,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],e))return void(a[i]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){No(this.inner,(n,r)=>{for(const[a,i]of r)e(a,i)})}isEmpty(){return TN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=new en(je.comparator);function Mr(){return R3}const UN=new en(je.comparator);function Qc(...t){let e=UN;for(const n of t)e=e.insert(n.key,n);return e}function GN(t){let e=UN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ta(){return Cd()}function WN(){return Cd()}function Cd(){return new xs(t=>t.toString(),(t,e)=>t.isEqual(e))}const P3=new en(je.comparator),j3=new Ut(je.comparator);function ht(...t){let e=j3;for(const n of t)e=e.add(n);return e}const M3=new Ut(it);function L3(){return M3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tu(e)?"-0":e}}function $N(t){return{integerValue:""+t}}function F3(t,e){return K5(e)?$N(e):$x(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(){this._=void 0}}function O3(t,e,n){return t instanceof ou?function(a,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&Ux(i)&&(i=Gx(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Hl?HN(t,e):t instanceof Ql?QN(t,e):function(a,i){const s=qN(a,i),l=Gw(s)+Gw(a.Pe);return HA(s)&&HA(a.Pe)?$N(l):$x(a.serializer,l)}(t,e)}function B3(t,e,n){return t instanceof Hl?HN(t,e):t instanceof Ql?QN(t,e):n}function qN(t,e){return t instanceof lu?function(r){return HA(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ou extends rm{}class Hl extends rm{constructor(e){super(),this.elements=e}}function HN(t,e){const n=XN(e);for(const r of t.elements)n.some(a=>Pa(a,r))||n.push(r);return{arrayValue:{values:n}}}class Ql extends rm{constructor(e){super(),this.elements=e}}function QN(t,e){let n=XN(e);for(const r of t.elements)n=n.filter(a=>!Pa(a,r));return{arrayValue:{values:n}}}class lu extends rm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Gw(t){return Kt(t.integerValue||t.doubleValue)}function XN(t){return iu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,n){this.field=e,this.transform=n}}function V3(t,e){return t.field.isEqual(e.field)&&function(r,a){return r instanceof Hl&&a instanceof Hl||r instanceof Ql&&a instanceof Ql?Gl(r.elements,a.elements,Pa):r instanceof lu&&a instanceof lu?Pa(r.Pe,a.Pe):r instanceof ou&&a instanceof ou}(t.transform,e.transform)}class U3{constructor(e,n){this.version=e,this.transformResults=n}}class Cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ef(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class am{}function KN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ru(t.key,Cn.none()):new cc(t.key,t.data,Cn.none());{const n=t.data,r=er.empty();let a=new Ut(Jt.comparator);for(let i of e.fields)if(!a.has(i)){let s=n.field(i);s===null&&i.length>1&&(i=i.popLast(),s=n.field(i)),s===null?r.delete(i):r.set(i,s),a=a.add(i)}return new hi(t.key,r,new wr(a.toArray()),Cn.none())}}function G3(t,e,n){t instanceof cc?function(a,i,s){const l=a.value.clone(),c=$w(a.fieldTransforms,i,s.transformResults);l.setAll(c),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof hi?function(a,i,s){if(!ef(a.precondition,i))return void i.convertToUnknownDocument(s.version);const l=$w(a.fieldTransforms,i,s.transformResults),c=i.data;c.setAll(YN(a)),c.setAll(l),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ed(t,e,n,r){return t instanceof cc?function(i,s,l,c){if(!ef(i.precondition,s))return l;const d=i.value.clone(),u=qw(i.fieldTransforms,c,s);return d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof hi?function(i,s,l,c){if(!ef(i.precondition,s))return l;const d=qw(i.fieldTransforms,c,s),u=s.data;return u.setAll(YN(i)),u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,s,l){return ef(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function W3(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),i=qN(r.transform,a||null);i!=null&&(n===null&&(n=er.empty()),n.set(r.field,i))}return n||null}function Ww(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Gl(r,a,(i,s)=>V3(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cc extends am{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class hi extends am{constructor(e,n,r,a,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function YN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function $w(t,e,n){const r=new Map;Ve(t.length===n.length);for(let a=0;a<n.length;a++){const i=t[a],s=i.transform,l=e.data.field(i.field);r.set(i.field,B3(s,l,n[a]))}return r}function qw(t,e,n){const r=new Map;for(const a of t){const i=a.transform,s=n.data.field(a.field);r.set(a.field,O3(i,s,e))}return r}class Ru extends am{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JN extends am{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(e.key)&&G3(i,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ed(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ed(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=WN();return this.mutations.forEach(a=>{const i=e.get(a.key),s=i.overlayedDocument;let l=this.applyToLocalView(s,i.mutatedFields);l=n.has(a.key)?null:l;const c=KN(s,l);c!==null&&r.set(a.key,c),s.isValidDocument()||s.convertToNoDocument(We.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ht())}isEqual(e){return this.batchId===e.batchId&&Gl(this.mutations,e.mutations,(n,r)=>Ww(n,r))&&Gl(this.baseMutations,e.baseMutations,(n,r)=>Ww(n,r))}}class Hx{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){Ve(e.mutations.length===r.length);let a=function(){return P3}();const i=e.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,r[s].version);return new Hx(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn,Tt;function q3(t){switch(t){default:return Fe();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function ZN(t){if(t===void 0)return or("GRPC error has no .code"),me.UNKNOWN;switch(t){case gn.OK:return me.OK;case gn.CANCELLED:return me.CANCELLED;case gn.UNKNOWN:return me.UNKNOWN;case gn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case gn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case gn.INTERNAL:return me.INTERNAL;case gn.UNAVAILABLE:return me.UNAVAILABLE;case gn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case gn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case gn.NOT_FOUND:return me.NOT_FOUND;case gn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case gn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case gn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case gn.ABORTED:return me.ABORTED;case gn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case gn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case gn.DATA_LOSS:return me.DATA_LOSS;default:return Fe()}}(Tt=gn||(gn={}))[Tt.OK=0]="OK",Tt[Tt.CANCELLED=1]="CANCELLED",Tt[Tt.UNKNOWN=2]="UNKNOWN",Tt[Tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tt[Tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tt[Tt.NOT_FOUND=5]="NOT_FOUND",Tt[Tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tt[Tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tt[Tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tt[Tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tt[Tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tt[Tt.ABORTED=10]="ABORTED",Tt[Tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tt[Tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tt[Tt.INTERNAL=13]="INTERNAL",Tt[Tt.UNAVAILABLE=14]="UNAVAILABLE",Tt[Tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=new Zs([4294967295,4294967295],0);function Hw(t){const e=H3().encode(t),n=new dN;return n.update(e),new Uint8Array(n.digest())}function Qw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Zs([n,r],0),new Zs([a,i],0)]}class Xx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xc(`Invalid padding: ${n}`);if(r<0)throw new Xc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Zs.fromNumber(this.Ie)}Ee(e,n,r){let a=e.add(n.multiply(Zs.fromNumber(r)));return a.compare(Q3)===1&&(a=new Zs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Hw(e),[r,a]=Qw(n);for(let i=0;i<this.hashCount;i++){const s=this.Ee(r,a,i);if(!this.de(s))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Xx(i,a,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.Ie===0)return;const n=Hw(e),[r,a]=Qw(n);for(let i=0;i<this.hashCount;i++){const s=this.Ee(r,a,i);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n,r,a,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Pu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new im(We.min(),a,new en(it),Mr(),ht())}}class Pu{constructor(e,n,r,a,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Pu(r,n,ht(),ht(),ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n,r,a){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=a}}class eT{constructor(e,n){this.targetId=e,this.me=n}}class tT{constructor(e,n,r=pn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class Xw{constructor(){this.fe=0,this.ge=Yw(),this.pe=pn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ht(),n=ht(),r=ht();return this.ge.forEach((a,i)=>{switch(i){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Fe()}}),new Pu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Yw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class X3{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mr(),this.qe=Kw(),this.Qe=new en(it)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,a)=>{this.ze(a)&&n(a)})}He(e){const n=e.targetId,r=e.me.count,a=this.Je(n);if(a){const i=a.target;if(rp(i))if(r===0){const s=new je(i.path);this.Ue(n,s,dn.newNoDocument(s,We.min()))}else Ve(r===1);else{const s=this.Ye(n);if(s!==r){const l=this.Ze(e),c=l?this.Xe(l,e,s):1;if(c!==0){this.je(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:i=0}=n;let s,l;try{s=ls(r).toUint8Array()}catch(c){if(c instanceof SN)return os("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Xx(s,a,i)}catch(c){return os(c instanceof Xc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let a=0;return r.forEach(i=>{const s=this.Le.tt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,i,null),a++)}),a}rt(e){const n=new Map;this.Be.forEach((i,s)=>{const l=this.Je(s);if(l){if(i.current&&rp(l.target)){const c=new je(l.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,dn.newNoDocument(c,e))}i.be&&(n.set(s,i.ve()),i.Ce())}});let r=ht();this.qe.forEach((i,s)=>{let l=!0;s.forEachWhile(c=>{const d=this.Je(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ke.forEach((i,s)=>s.setReadTime(e));const a=new im(e,n,this.Qe,this.ke,r);return this.ke=Mr(),this.qe=Kw(),this.Qe=new en(it),a}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const a=this.Ge(e);this.it(e,n)?a.Fe(n,1):a.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Xw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ut(it),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Xw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Kw(){return new en(je.comparator)}function Yw(){return new en(je.comparator)}const K3={asc:"ASCENDING",desc:"DESCENDING"},Y3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},J3={and:"AND",or:"OR"};class Z3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ZA(t,e){return t.useProto3Json||em(e)?e:{value:e}}function Xl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eF(t,e){return Xl(t,e.toTimestamp())}function dr(t){return Ve(!!t),We.fromTimestamp(function(n){const r=li(n);return new Zt(r.seconds,r.nanos)}(t))}function Kx(t,e){return e0(t,e).canonicalString()}function e0(t,e){const n=function(a){return new Lt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function rT(t){const e=Lt.fromString(t);return Ve(hT(e)),e}function ip(t,e){return Kx(t.databaseId,e.path)}function eo(t,e){const n=rT(e);if(n.get(1)!==t.databaseId.projectId)throw new De(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new De(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new je(sT(n))}function aT(t,e){return Kx(t.databaseId,e)}function iT(t){const e=rT(t);return e.length===4?Lt.emptyPath():sT(e)}function t0(t){return new Lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sT(t){return Ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Jw(t,e,n){return{name:ip(t,e),fields:n.value.mapValue.fields}}function tF(t,e,n){const r=eo(t,e.name),a=dr(e.updateTime),i=e.createTime?dr(e.createTime):We.min(),s=new er({mapValue:{fields:e.fields}}),l=dn.newFoundDocument(r,a,i,s);return n&&l.setHasCommittedMutations(),n?l.setHasCommittedMutations():l}function nF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],i=function(d,u){return d.useProto3Json?(Ve(u===void 0||typeof u=="string"),pn.fromBase64String(u||"")):(Ve(u===void 0||u instanceof Buffer||u instanceof Uint8Array),pn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(d){const u=d.code===void 0?me.UNKNOWN:ZN(d.code);return new De(u,d.message||"")}(s);n=new tT(r,a,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=eo(t,r.document.name),i=dr(r.document.updateTime),s=r.document.createTime?dr(r.document.createTime):We.min(),l=new er({mapValue:{fields:r.document.fields}}),c=dn.newFoundDocument(a,i,s,l),d=r.targetIds||[],u=r.removedTargetIds||[];n=new tf(d,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=eo(t,r.document),i=r.readTime?dr(r.readTime):We.min(),s=dn.newNoDocument(a,i),l=r.removedTargetIds||[];n=new tf([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=eo(t,r.document),i=r.removedTargetIds||[];n=new tf([],i,a,null)}else{if(!("filter"in e))return Fe();{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:i}=r,s=new $3(a,i),l=r.targetId;n=new eT(l,s)}}return n}function sp(t,e){let n;if(e instanceof cc)n={update:Jw(t,e.key,e.value)};else if(e instanceof Ru)n={delete:ip(t,e.key)};else if(e instanceof hi)n={update:Jw(t,e.key,e.data),updateMask:lF(e.fieldMask)};else{if(!(e instanceof JN))return Fe();n={verify:ip(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const l=s.transform;if(l instanceof ou)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Hl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ql)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof lu)return{fieldPath:s.field.canonicalString(),increment:l.Pe};throw Fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:eF(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Fe()}(t,e.precondition)),n}function n0(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?Cn.updateTime(dr(i.updateTime)):i.exists!==void 0?Cn.exists(i.exists):Cn.none()}(e.currentDocument):Cn.none(),r=e.updateTransforms?e.updateTransforms.map(a=>function(s,l){let c=null;if("setToServerValue"in l)Ve(l.setToServerValue==="REQUEST_TIME"),c=new ou;else if("appendMissingElements"in l){const u=l.appendMissingElements.values||[];c=new Hl(u)}else if("removeAllFromArray"in l){const u=l.removeAllFromArray.values||[];c=new Ql(u)}else"increment"in l?c=new lu(s,l.increment):Fe();const d=Jt.fromServerFormat(l.fieldPath);return new z3(d,c)}(t,a)):[];if(e.update){e.update.name;const a=eo(t,e.update.name),i=new er({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=function(c){const d=c.fieldPaths||[];return new wr(d.map(u=>Jt.fromServerFormat(u)))}(e.updateMask);return new hi(a,i,s,n,r)}return new cc(a,i,n,r)}if(e.delete){const a=eo(t,e.delete);return new Ru(a,n)}if(e.verify){const a=eo(t,e.verify);return new JN(a,n)}return Fe()}function rF(t,e){return t&&t.length>0?(Ve(e!==void 0),t.map(n=>function(a,i){let s=a.updateTime?dr(a.updateTime):dr(i);return s.isEqual(We.min())&&(s=dr(i)),new U3(s,a.transformResults||[])}(n,e))):[]}function oT(t,e){return{documents:[aT(t,e.path)]}}function lT(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=aT(t,a);const i=function(d){if(d.length!==0)return uT(zt.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(d){if(d.length!==0)return d.map(u=>function(m){return{field:Xo(m.field),direction:iF(m.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=ZA(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:a}}function cT(t){let e=iT(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Ve(r===1);const u=n.from[0];u.allDescendants?a=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const m=dT(h);return m instanceof zt&&Wx(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(m=>function(A){return new su(Ko(A.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(h){let m;return m=typeof h=="object"?h.value:h,em(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(h){const m=!!h.before,p=h.values||[];return new $l(p,m)}(n.startAt));let d=null;return n.endAt&&(d=function(h){const m=!h.before,p=h.values||[];return new $l(p,m)}(n.endAt)),S3(e,a,s,i,l,"F",c,d)}function aF(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ko(n.unaryFilter.field);return wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Ko(n.unaryFilter.field);return wt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ko(n.unaryFilter.field);return wt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ko(n.unaryFilter.field);return wt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}}(t):t.fieldFilter!==void 0?function(n){return wt.create(Ko(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zt.create(n.compositeFilter.filters.map(r=>dT(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Fe()}}(n.compositeFilter.op))}(t):Fe()}function iF(t){return K3[t]}function sF(t){return Y3[t]}function oF(t){return J3[t]}function Xo(t){return{fieldPath:t.canonicalString()}}function Ko(t){return Jt.fromServerFormat(t.fieldPath)}function uT(t){return t instanceof wt?function(n){if(n.op==="=="){if(Mw(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NAN"}};if(jw(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Mw(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NOT_NAN"}};if(jw(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xo(n.field),op:sF(n.op),value:n.value}}}(t):t instanceof zt?function(n){const r=n.getFilters().map(a=>uT(a));return r.length===1?r[0]:{compositeFilter:{op:oF(n.op),filters:r}}}(t):Fe()}function lF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n,r,a,i=We.min(),s=We.min(),l=pn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Xa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){this.ct=e}}function cF(t,e){let n;if(e.document)n=tF(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=je.fromSegments(e.noDocument.path),a=go(e.noDocument.readTime);n=dn.newNoDocument(r,a),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Fe();{const r=je.fromSegments(e.unknownDocument.path),a=go(e.unknownDocument.version);n=dn.newUnknownDocument(r,a)}}return e.readTime&&n.setReadTime(function(a){const i=new Zt(a[0],a[1]);return We.fromTimestamp(i)}(e.readTime)),n}function Zw(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:op(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,s){return{name:ip(i,s.key),fields:s.data.value.mapValue.fields,updateTime:Xl(i,s.version.toTimestamp()),createTime:Xl(i,s.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:mo(e.version)};else{if(!e.isUnknownDocument())return Fe();r.unknownDocument={path:n.path.toArray(),version:mo(e.version)}}return r}function op(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function mo(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function go(t){const e=new Zt(t.seconds,t.nanoseconds);return We.fromTimestamp(e)}function Os(t,e){const n=(e.baseMutations||[]).map(i=>n0(t.ct,i));for(let i=0;i<e.mutations.length-1;++i){const s=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const l=e.mutations[i+1];s.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map(i=>n0(t.ct,i)),a=Zt.fromMillis(e.localWriteTimeMs);return new qx(e.batchId,a,n,r)}function Kc(t){const e=go(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?go(t.lastLimboFreeSnapshotVersion):We.min();let r;return r=function(i){return i.documents!==void 0}(t.query)?function(i){return Ve(i.documents.length===1),Jr(ku(iT(i.documents[0])))}(t.query):function(i){return Jr(cT(i))}(t.query),new Xa(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,pn.fromBase64String(t.resumeToken))}function pT(t,e){const n=mo(e.snapshotVersion),r=mo(e.lastLimboFreeSnapshotVersion);let a;a=rp(e.target)?oT(t.ct,e.target):lT(t.ct,e.target)._t;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:po(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function mT(t){const e=cT({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?JA(e,e.limit,"L"):e}function xg(t,e){return new Qx(e.largestBatchId,n0(t.ct,e.overlayMutation))}function e1(t,e){const n=e.path.lastSegment();return[t,cr(e.path.popLast()),n]}function t1(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:mo(r.readTime),documentKey:cr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{getBundleMetadata(e,n){return n1(e).get(n).next(r=>{if(r)return function(i){return{id:i.bundleId,createTime:go(i.createTime),version:i.version}}(r)})}saveBundleMetadata(e,n){return n1(e).put(function(a){return{bundleId:a.id,createTime:mo(dr(a.createTime)),version:a.version}}(n))}getNamedQuery(e,n){return r1(e).get(n).next(r=>{if(r)return function(i){return{name:i.name,query:mT(i.bundledQuery),readTime:go(i.readTime)}}(r)})}saveNamedQuery(e,n){return r1(e).put(function(a){return{name:a.name,readTime:mo(dr(a.readTime)),bundledQuery:a.bundledQuery}}(n))}}function n1(t){return Nn(t,"bundles")}function r1(t){return Nn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new sm(e,r)}getOverlay(e,n){return Pc(e).get(e1(this.userId,n)).next(r=>r?xg(this.serializer,r):null)}getOverlays(e,n){const r=Ta();return le.forEach(n,a=>this.getOverlay(e,a).next(i=>{i!==null&&r.set(a,i)})).next(()=>r)}saveOverlays(e,n,r){const a=[];return r.forEach((i,s)=>{const l=new Qx(n,s);a.push(this.ht(e,l))}),le.waitFor(a)}removeOverlaysForBatchId(e,n,r){const a=new Set;n.forEach(s=>a.add(cr(s.getCollectionPath())));const i=[];return a.forEach(s=>{const l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);i.push(Pc(e).j("collectionPathOverlayIndex",l))}),le.waitFor(i)}getOverlaysForCollection(e,n,r){const a=Ta(),i=cr(n),s=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Pc(e).U("collectionPathOverlayIndex",s).next(l=>{for(const c of l){const d=xg(this.serializer,c);a.set(d.getKey(),d)}return a})}getOverlaysForCollectionGroup(e,n,r,a){const i=Ta();let s;const l=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Pc(e).J({index:"collectionGroupOverlayIndex",range:l},(c,d,u)=>{const h=xg(this.serializer,d);i.size()<a||h.largestBatchId===s?(i.set(h.getKey(),h),s=h.largestBatchId):u.done()}).next(()=>i)}ht(e,n){return Pc(e).put(function(a,i,s){const[l,c,d]=e1(i,s.mutation.key);return{userId:i,collectionPath:c,documentId:d,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:sp(a.ct,s.mutation)}}(this.serializer,this.userId,n))}}function Pc(t){return Nn(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{Pt(e){return Nn(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?pn.fromUint8Array(r):pn.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Kt(e.integerValue));else if("doubleValue"in e){const r=Kt(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),tu(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=li(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(ls(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?IN(e)?this.dt(n,Number.MAX_SAFE_INTEGER):tm(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Fe()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const a of Object.keys(r))this.Vt(a,n),this.Tt(r[a],n)}wt(e,n){var r,a;const i=e.fields||{};this.dt(n,53);const s="value",l=((a=(r=i[s].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.length)||0;this.dt(n,15),n.At(Kt(l)),this.Vt(s,n),this.Tt(i[s],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const a of r)this.Tt(a,n)}yt(e,n){this.dt(n,37),je.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}Bs.vt=new Bs;function hF(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function a1(t){const e=64-function(r){let a=0;for(let i=0;i<8;++i){const s=hF(255&r[i]);if(a+=s,s!==8)break}return a}(t);return Math.ceil(e/8)}class fF{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const a=n.codePointAt(0);this.Ft(240|a>>>18),this.Ft(128|63&a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const a=n.codePointAt(0);this.Ot(240|a>>>18),this.Ot(128|63&a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a)}}this.Nt()}kt(e){const n=this.qt(e),r=a1(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=255&n[a]}Kt(e){const n=this.qt(e),r=a1(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=~(255&n[a])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let a=1;a<n.length;++a)n[a]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class pF{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class mF{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class jc{constructor(){this.jt=new fF,this.Ht=new pF(this.jt),this.Jt=new mF(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n,r,a){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=a}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new zs(this.indexId,this.documentKey,this.arrayValue,r)}}function wi(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=i1(t.arrayValue,e.arrayValue),n!==0?n:(n=i1(t.directionalValue,e.directionalValue),n!==0?n:je.comparator(t.documentKey,e.documentKey)))}function i1(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e){this.Xt=new Ut((n,r)=>Jt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(Ve(e.collectionGroup===this.collectionId),this.nn)return!1;const n=WA(e);if(n!==void 0&&!this.sn(n))return!1;const r=Ls(e);let a=new Set,i=0,s=0;for(;i<r.length&&this.sn(r[i]);++i)a=a.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.Xt.size>0){const l=this.Xt.getIterator().getNext();if(!a.has(l.field.canonicalString())){const c=r[i];if(!this.on(l,c)||!this._n(this.en[s++],c))return!1}++i}for(;i<r.length;++i){const l=r[i];if(s>=this.en.length||!this._n(this.en[s++],l))return!1}return!0}an(){if(this.nn)return null;let e=new Ut(Jt.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Kh(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Kh(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Kh(r.field,r.dir==="asc"?0:1)));return new np(np.UNKNOWN_ID,this.collectionId,n,eu.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(t){var e,n;if(Ve(t instanceof wt||t instanceof zt),t instanceof wt){if(t instanceof ON){const a=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(i=>wt.create(t.field,"==",i)))||[];return zt.create(a,"or")}return t}const r=t.filters.map(a=>gT(a));return zt.create(r,t.op)}function gF(t){if(t.getFilters().length===0)return[];const e=i0(gT(t));return Ve(AT(e)),r0(e)||a0(e)?[e]:e.getFilters()}function r0(t){return t instanceof wt}function a0(t){return t instanceof zt&&Wx(t)}function AT(t){return r0(t)||a0(t)||function(n){if(n instanceof zt&&QA(n)){for(const r of n.getFilters())if(!r0(r)&&!a0(r))return!1;return!0}return!1}(t)}function i0(t){if(Ve(t instanceof wt||t instanceof zt),t instanceof wt)return t;if(t.filters.length===1)return i0(t.filters[0]);const e=t.filters.map(r=>i0(r));let n=zt.create(e,t.op);return n=lp(n),AT(n)?n:(Ve(n instanceof zt),Ve(ql(n)),Ve(n.filters.length>1),n.filters.reduce((r,a)=>Yx(r,a)))}function Yx(t,e){let n;return Ve(t instanceof wt||t instanceof zt),Ve(e instanceof wt||e instanceof zt),n=t instanceof wt?e instanceof wt?function(a,i){return zt.create([a,i],"and")}(t,e):o1(t,e):e instanceof wt?o1(e,t):function(a,i){if(Ve(a.filters.length>0&&i.filters.length>0),ql(a)&&ql(i))return MN(a,i.getFilters());const s=QA(a)?a:i,l=QA(a)?i:a,c=s.filters.map(d=>Yx(d,l));return zt.create(c,"or")}(t,e),lp(n)}function o1(t,e){if(ql(e))return MN(e,t.getFilters());{const n=e.filters.map(r=>Yx(t,r));return zt.create(n,"or")}}function lp(t){if(Ve(t instanceof wt||t instanceof zt),t instanceof wt)return t;const e=t.getFilters();if(e.length===1)return lp(e[0]);if(PN(t))return t;const n=e.map(a=>lp(a)),r=[];return n.forEach(a=>{a instanceof wt?r.push(a):a instanceof zt&&(a.op===t.op?r.push(...a.filters):r.push(a))}),r.length===1?r[0]:zt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(){this.un=new Jx}addToCollectionParentIndex(e,n){return this.un.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Br.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Br.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class Jx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Ut(Lt.comparator),i=!a.has(r);return this.index[n]=a.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Ut(Lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Uint8Array(0);class xF{constructor(e,n){this.databaseId=n,this.cn=new Jx,this.ln=new xs(r=>po(r),(r,a)=>Iu(r,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),a=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const i={collectionId:r,parent:cr(a)};return l1(e).put(i)}return le.resolve()}getCollectionParents(e,n){const r=[],a=IDBKeyRange.bound([n,""],[xN(n),""],!1,!0);return l1(e).U(a).next(i=>{for(const s of i){if(s.collectionId!==n)break;r.push(Na(s.parent))}return r})}addFieldIndex(e,n){const r=Mc(e),a=function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete a.indexId;const i=r.add(a);if(n.indexState){const s=zo(e);return i.next(l=>{s.put(t1(l,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return i.next()}deleteFieldIndex(e,n){const r=Mc(e),a=zo(e),i=Bo(e);return r.delete(n.indexId).next(()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Mc(e),r=Bo(e),a=zo(e);return n.j().next(()=>r.j()).next(()=>a.j())}createTargetIndexes(e,n){return le.forEach(this.hn(n),r=>this.getIndexType(e,r).next(a=>{if(a===0||a===1){const i=new s1(r).an();if(i!=null)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,n){const r=Bo(e);let a=!0;const i=new Map;return le.forEach(this.hn(n),s=>this.Pn(e,s).next(l=>{a&&(a=!!l),i.set(s,l)})).next(()=>{if(a){let s=ht();const l=[];return le.forEach(i,(c,d)=>{we("IndexedDbIndexManager",`Using index ${function(w){return`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(S=>`${S.fieldPath}:${S.kind}`).join(",")}`}(c)} to execute ${po(n)}`);const u=function(w,S){const k=WA(S);if(k===void 0)return null;for(const P of ap(w,k.fieldPath))switch(P.op){case"array-contains-any":return P.value.arrayValue.values||[];case"array-contains":return[P.value]}return null}(d,c),h=function(w,S){const k=new Map;for(const P of Ls(S))for(const E of ap(w,P.fieldPath))switch(E.op){case"==":case"in":k.set(P.fieldPath.canonicalString(),E.value);break;case"not-in":case"!=":return k.set(P.fieldPath.canonicalString(),E.value),Array.from(k.values())}return null}(d,c),m=function(w,S){const k=[];let P=!0;for(const E of Ls(S)){const N=E.kind===0?zw(w,E.fieldPath,w.startAt):Vw(w,E.fieldPath,w.startAt);k.push(N.value),P&&(P=N.inclusive)}return new $l(k,P)}(d,c),p=function(w,S){const k=[];let P=!0;for(const E of Ls(S)){const N=E.kind===0?Vw(w,E.fieldPath,w.endAt):zw(w,E.fieldPath,w.endAt);k.push(N.value),P&&(P=N.inclusive)}return new $l(k,P)}(d,c),A=this.In(c,d,m),g=this.In(c,d,p),b=this.Tn(c,d,h),x=this.En(c.indexId,u,A,m.inclusive,g,p.inclusive,b);return le.forEach(x,y=>r.G(y,n.limit).next(w=>{w.forEach(S=>{const k=je.fromSegments(S.documentKey);s.has(k)||(s=s.add(k),l.push(k))})}))}).next(()=>l)}return le.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=gF(zt.create(e.filters,"and")).map(r=>KA(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,a,i,s,l){const c=(n!=null?n.length:1)*Math.max(r.length,i.length),d=c/(n!=null?n.length:1),u=[];for(let h=0;h<c;++h){const m=n?this.dn(n[h/d]):Th,p=this.An(e,m,r[h%d],a),A=this.Rn(e,m,i[h%d],s),g=l.map(b=>this.An(e,m,b,!0));u.push(...this.createRange(p,A,g))}return u}An(e,n,r,a){const i=new zs(e,je.empty(),n,r);return a?i:i.Zt()}Rn(e,n,r,a){const i=new zs(e,je.empty(),n,r);return a?i.Zt():i}Pn(e,n){const r=new s1(n),a=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,a).next(i=>{let s=null;for(const l of i)r.rn(l)&&(!s||l.fields.length>s.fields.length)&&(s=l);return s})}getIndexType(e,n){let r=2;const a=this.hn(n);return le.forEach(a,i=>this.Pn(e,i).next(s=>{s?r!==0&&s.fields.length<function(c){let d=new Ut(Jt.comparator),u=!1;for(const h of c.filters)for(const m of h.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?u=!0:d=d.add(m.field));for(const h of c.orderBy)h.field.isKeyField()||(d=d.add(h.field));return d.size+(u?1:0)}(i)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&a.length>1&&r===2?1:r)}Vn(e,n){const r=new jc;for(const a of Ls(e)){const i=n.data.field(a.fieldPath);if(i==null)return null;const s=r.Yt(a.kind);Bs.vt.It(i,s)}return r.zt()}dn(e){const n=new jc;return Bs.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new jc;return Bs.vt.It(au(this.databaseId,n),r.Yt(function(i){const s=Ls(i);return s.length===0?0:s[s.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let a=[];a.push(new jc);let i=0;for(const s of Ls(e)){const l=r[i++];for(const c of a)if(this.fn(n,s.fieldPath)&&iu(l))a=this.gn(a,s,l);else{const d=c.Yt(s.kind);Bs.vt.It(l,d)}}return this.pn(a)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const a=[...e],i=[];for(const s of r.arrayValue.values||[])for(const l of a){const c=new jc;c.seed(l.zt()),Bs.vt.It(s,c.Yt(n.kind)),i.push(c)}return i}fn(e,n){return!!e.filters.find(r=>r instanceof wt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Mc(e),a=zo(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(i=>{const s=[];return le.forEach(i,l=>a.get([l.indexId,this.uid]).next(c=>{s.push(function(u,h){const m=h?new eu(h.sequenceNumber,new Br(go(h.readTime),new je(Na(h.documentKey)),h.largestBatchId)):eu.empty(),p=u.fields.map(([A,g])=>new Kh(Jt.fromServerFormat(A),g));return new np(u.indexId,u.collectionGroup,p,m)}(l,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,a)=>{const i=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return i!==0?i:it(r.collectionGroup,a.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const a=Mc(e),i=zo(e);return this.yn(e).next(s=>a.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(l=>le.forEach(l,c=>i.put(t1(c.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){const r=new Map;return le.forEach(n,(a,i)=>{const s=r.get(a.collectionGroup);return(s?le.resolve(s):this.getFieldIndexes(e,a.collectionGroup)).next(l=>(r.set(a.collectionGroup,l),le.forEach(l,c=>this.wn(e,a,c).next(d=>{const u=this.Sn(i,c);return d.isEqual(u)?le.resolve():this.bn(e,i,c,d,u)}))))})}Dn(e,n,r,a){return Bo(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,a){return Bo(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const a=Bo(e);let i=new Ut(wi);return a.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(s,l)=>{i=i.add(new zs(r.indexId,n,l.arrayValue,l.directionalValue))}).next(()=>i)}Sn(e,n){let r=new Ut(wi);const a=this.Vn(n,e);if(a==null)return r;const i=WA(n);if(i!=null){const s=e.data.field(i.fieldPath);if(iu(s))for(const l of s.arrayValue.values||[])r=r.add(new zs(n.indexId,e.key,this.dn(l),a))}else r=r.add(new zs(n.indexId,e.key,Th,a));return r}bn(e,n,r,a,i){we("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(c,d,u,h,m){const p=c.getIterator(),A=d.getIterator();let g=Oo(p),b=Oo(A);for(;g||b;){let x=!1,y=!1;if(g&&b){const w=u(g,b);w<0?y=!0:w>0&&(x=!0)}else g!=null?y=!0:x=!0;x?(h(b),b=Oo(A)):y?(m(g),g=Oo(p)):(g=Oo(p),b=Oo(A))}}(a,i,wi,l=>{s.push(this.Dn(e,n,r,l))},l=>{s.push(this.vn(e,n,r,l))}),le.waitFor(s)}yn(e){let n=1;return zo(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,a,i)=>{i.done(),n=a.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,l)=>wi(s,l)).filter((s,l,c)=>!l||wi(s,c[l-1])!==0);const a=[];a.push(e);for(const s of r){const l=wi(s,e),c=wi(s,n);if(l===0)a[0]=e.Zt();else if(l>0&&c<0)a.push(s),a.push(s.Zt());else if(c>0)break}a.push(n);const i=[];for(let s=0;s<a.length;s+=2){if(this.Cn(a[s],a[s+1]))return[];const l=[a[s].indexId,this.uid,a[s].arrayValue,a[s].directionalValue,Th,[]],c=[a[s+1].indexId,this.uid,a[s+1].arrayValue,a[s+1].directionalValue,Th,[]];i.push(IDBKeyRange.bound(l,c))}return i}Cn(e,n){return wi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(c1)}getMinOffset(e,n){return le.mapArray(this.hn(n),r=>this.Pn(e,r).next(a=>a||Fe())).next(c1)}}function l1(t){return Nn(t,"collectionParents")}function Bo(t){return Nn(t,"indexEntries")}function Mc(t){return Nn(t,"indexConfiguration")}function zo(t){return Nn(t,"indexState")}function c1(t){Ve(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const a=t[r].indexState.offset;Bx(a,e)<0&&(e=a),n<a.largestBatchId&&(n=a.largestBatchId)}return new Br(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class gr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new gr(e,gr.DEFAULT_COLLECTION_PERCENTILE,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(t,e,n){const r=t.store("mutations"),a=t.store("documentMutations"),i=[],s=IDBKeyRange.only(n.batchId);let l=0;const c=r.J({range:s},(u,h,m)=>(l++,m.delete()));i.push(c.next(()=>{Ve(l===1)}));const d=[];for(const u of n.mutations){const h=_N(e,u.key.path,n.batchId);i.push(a.delete(h)),d.push(u.key)}return le.waitFor(i).next(()=>d)}function cp(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Fe();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr.DEFAULT_COLLECTION_PERCENTILE=10,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gr.DEFAULT=new gr(41943040,gr.DEFAULT_COLLECTION_PERCENTILE,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gr.DISABLED=new gr(-1,0,0);class om{constructor(e,n,r,a){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=a,this.Fn={}}static lt(e,n,r,a){Ve(e.uid!=="");const i=e.isAuthenticated()?e.uid:"";return new om(i,n,r,a)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _i(e).J({index:"userMutationsIndex",range:r},(a,i,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,a){const i=Yo(e),s=_i(e);return s.add({}).next(l=>{Ve(typeof l=="number");const c=new qx(l,n,r,a),d=function(p,A,g){const b=g.baseMutations.map(y=>sp(p.ct,y)),x=g.mutations.map(y=>sp(p.ct,y));return{userId:A,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:b,mutations:x}}(this.serializer,this.userId,c),u=[];let h=new Ut((m,p)=>it(m.canonicalString(),p.canonicalString()));for(const m of a){const p=_N(this.userId,m.key.path,l);h=h.add(m.key.path.popLast()),u.push(s.put(d)),u.push(i.put(p,J5))}return h.forEach(m=>{u.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Fn[l]=c.keys()}),le.waitFor(u).next(()=>c)})}lookupMutationBatch(e,n){return _i(e).get(n).next(r=>r?(Ve(r.userId===this.userId),Os(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?le.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const a=r.keys();return this.Fn[n]=a,a}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return _i(e).J({index:"userMutationsIndex",range:a},(s,l,c)=>{l.userId===this.userId&&(Ve(l.batchId>=r),i=Os(this.serializer,l)),c.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return _i(e).J({index:"userMutationsIndex",range:n,reverse:!0},(a,i,s)=>{r=i.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _i(e).U("userMutationsIndex",n).next(r=>r.map(a=>Os(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Yh(this.userId,n.path),a=IDBKeyRange.lowerBound(r),i=[];return Yo(e).J({range:a},(s,l,c)=>{const[d,u,h]=s,m=Na(u);if(d===this.userId&&n.path.isEqual(m))return _i(e).get(h).next(p=>{if(!p)throw Fe();Ve(p.userId===this.userId),i.push(Os(this.serializer,p))});c.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ut(it);const a=[];return n.forEach(i=>{const s=Yh(this.userId,i.path),l=IDBKeyRange.lowerBound(s),c=Yo(e).J({range:l},(d,u,h)=>{const[m,p,A]=d,g=Na(p);m===this.userId&&i.path.isEqual(g)?r=r.add(A):h.done()});a.push(c)}),le.waitFor(a).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1,i=Yh(this.userId,r),s=IDBKeyRange.lowerBound(i);let l=new Ut(it);return Yo(e).J({range:s},(c,d,u)=>{const[h,m,p]=c,A=Na(m);h===this.userId&&r.isPrefixOf(A)?A.length===a&&(l=l.add(p)):u.done()}).next(()=>this.xn(e,l))}xn(e,n){const r=[],a=[];return n.forEach(i=>{a.push(_i(e).get(i).next(s=>{if(s===null)throw Fe();Ve(s.userId===this.userId),r.push(Os(this.serializer,s))}))}),le.waitFor(a).next(()=>r)}removeMutationBatch(e,n){return xT(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),le.forEach(r,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return le.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),a=[];return Yo(e).J({range:r},(i,s,l)=>{if(i[0]===this.userId){const c=Na(i[1]);a.push(c)}else l.done()}).next(()=>{Ve(a.length===0)})})}containsKey(e,n){return yT(e,this.userId,n)}Nn(e){return vT(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function yT(t,e,n){const r=Yh(e,n.path),a=r[1],i=IDBKeyRange.lowerBound(r);let s=!1;return Yo(t).J({range:i,H:!0},(l,c,d)=>{const[u,h,m]=l;u===e&&h===a&&(s=!0),d.done()}).next(()=>s)}function _i(t){return Nn(t,"mutations")}function Yo(t){return Nn(t,"documentMutations")}function vT(t){return Nn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ao(0)}static kn(){return new Ao(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new Ao(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>We.fromTimestamp(new Zt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(a=>(a.highestListenSequenceNumber=n,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),n>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=n),this.Qn(e,a)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Vo(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(Ve(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let a=0;const i=[];return Vo(e).J((s,l)=>{const c=Kc(l);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(a++,i.push(this.removeTargetData(e,c)))}).next(()=>le.waitFor(i)).next(()=>a)}forEachTarget(e,n){return Vo(e).J((r,a)=>{const i=Kc(a);n(i)})}qn(e){return u1(e).get("targetGlobalKey").next(n=>(Ve(n!==null),n))}Qn(e,n){return u1(e).put("targetGlobalKey",n)}Kn(e,n){return Vo(e).put(pT(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=po(n),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Vo(e).J({range:a,index:"queryTargetsIndex"},(s,l,c)=>{const d=Kc(l);Iu(n,d.target)&&(i=d,c.done())}).next(()=>i)}addMatchingKeys(e,n,r){const a=[],i=Li(e);return n.forEach(s=>{const l=cr(s.path);a.push(i.put({targetId:r,path:l})),a.push(this.referenceDelegate.addReference(e,r,s))}),le.waitFor(a)}removeMatchingKeys(e,n,r){const a=Li(e);return le.forEach(n,i=>{const s=cr(i.path);return le.waitFor([a.delete([r,s]),this.referenceDelegate.removeReference(e,r,i)])})}removeMatchingKeysForTargetId(e,n){const r=Li(e),a=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),a=Li(e);let i=ht();return a.J({range:r,H:!0},(s,l,c)=>{const d=Na(s[1]),u=new je(d);i=i.add(u)}).next(()=>i)}containsKey(e,n){const r=cr(n.path),a=IDBKeyRange.bound([r],[xN(r)],!1,!0);let i=0;return Li(e).J({index:"documentTargetsIndex",H:!0,range:a},([s,l],c,d)=>{s!==0&&(i++,d.done())}).next(()=>i>0)}ot(e,n){return Vo(e).get(n).next(r=>r?Kc(r):null)}}function Vo(t){return Nn(t,"targets")}function u1(t){return Nn(t,"targetGlobal")}function Li(t){return Nn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1([t,e],[n,r]){const a=it(t,n);return a===0?it(e,r):a}class vF{constructor(e){this.Un=e,this.buffer=new Ut(h1),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();h1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){we("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){As(n)?we("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.Hn(3e5)})}}class wF{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Kr.oe);const r=new vF(n);return this.Jn.forEachTarget(e,a=>r.zn(a.sequenceNumber)).next(()=>this.Jn.Zn(e,a=>r.zn(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(d1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d1):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,a,i,s,l,c,d;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),a=this.params.maximumSequenceNumbersToCollect):a=h,s=Date.now(),this.nthSequenceNumber(e,a))).next(h=>(r=h,l=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(d=Date.now(),Ho()<=bt.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${a} in `+(l-s)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${h} documents in `+(d-c)+`ms
Total Duration: ${d-u}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:h})))}}function _F(t,e){return new wF(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e,n){this.db=e,this.garbageCollector=_F(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,a)=>n(a))}addReference(e,n,r){return Sh(e,r)}removeReference(e,n,r){return Sh(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Sh(e,n)}nr(e,n){return function(a,i){let s=!1;return vT(a).Y(l=>yT(a,l,i).next(c=>(c&&(s=!0),le.resolve(!c)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let i=0;return this.tr(e,(s,l)=>{if(l<=n){const c=this.nr(e,s).next(d=>{if(!d)return i++,r.getEntry(e,s).next(()=>(r.removeEntry(s,We.min()),Li(e).delete(function(h){return[0,cr(h.path)]}(s))))});a.push(c)}}).next(()=>le.waitFor(a)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Sh(e,n)}tr(e,n){const r=Li(e);let a,i=Kr.oe;return r.J({index:"documentTargetsIndex"},([s,l],{path:c,sequenceNumber:d})=>{s===0?(i!==Kr.oe&&n(new je(Na(a)),i),i=d,a=c):i=Kr.oe}).next(()=>{i!==Kr.oe&&n(new je(Na(a)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Sh(t,e){return Li(t).put(function(r,a){return{targetId:0,path:cr(r.path),sequenceNumber:a}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(){this.changes=new xs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Es(e).put(r)}removeEntry(e,n,r){return Es(e).delete(function(i,s){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],op(s),l[l.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=dn.newInvalidDocument(n);return Es(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Lc(n))},(a,i)=>{r=this.ir(n,i)}).next(()=>r)}sr(e,n){let r={size:0,document:dn.newInvalidDocument(n)};return Es(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Lc(n))},(a,i)=>{r={document:this.ir(n,i),size:cp(i)}}).next(()=>r)}getEntries(e,n){let r=Mr();return this._r(e,n,(a,i)=>{const s=this.ir(a,i);r=r.insert(a,s)}).next(()=>r)}ar(e,n){let r=Mr(),a=new en(je.comparator);return this._r(e,n,(i,s)=>{const l=this.ir(i,s);r=r.insert(i,l),a=a.insert(i,cp(s))}).next(()=>({documents:r,ur:a}))}_r(e,n,r){if(n.isEmpty())return le.resolve();let a=new Ut(m1);n.forEach(c=>a=a.add(c));const i=IDBKeyRange.bound(Lc(a.first()),Lc(a.last())),s=a.getIterator();let l=s.getNext();return Es(e).J({index:"documentKeyIndex",range:i},(c,d,u)=>{const h=je.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;l&&m1(l,h)<0;)r(l,null),l=s.getNext();l&&l.isEqual(h)&&(r(l,d),l=s.hasNext()?s.getNext():null),l?u.$(Lc(l)):u.done()}).next(()=>{for(;l;)r(l,null),l=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,a,i){const s=n.path,l=[s.popLast().toArray(),s.lastSegment(),op(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Es(e).U(IDBKeyRange.bound(l,c,!0)).next(d=>{i==null||i.incrementDocumentReadCount(d.length);let u=Mr();for(const h of d){const m=this.ir(je.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);m.isFoundDocument()&&(Du(n,m)||a.has(m.key))&&(u=u.insert(m.key,m))}return u})}getAllFromCollectionGroup(e,n,r,a){let i=Mr();const s=p1(n,r),l=p1(n,Br.max());return Es(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,l,!0)},(c,d,u)=>{const h=this.ir(je.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);i=i.insert(h.key,h),i.size===a&&u.done()}).next(()=>i)}newChangeBuffer(e){return new NF(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return f1(e).get("remoteDocumentGlobalKey").next(n=>(Ve(!!n),n))}rr(e,n){return f1(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=cF(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(We.min())))return r}return dn.newInvalidDocument(e)}}function wT(t){return new EF(t)}class NF extends bT{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new xs(r=>r.toString(),(r,a)=>r.isEqual(a))}applyChanges(e){const n=[];let r=0,a=new Ut((i,s)=>it(i.canonicalString(),s.canonicalString()));return this.changes.forEach((i,s)=>{const l=this.lr.get(i);if(n.push(this.cr.removeEntry(e,i,l.readTime)),s.isValidDocument()){const c=Zw(this.cr.serializer,s);a=a.add(i.path.popLast());const d=cp(c);r+=d-l.size,n.push(this.cr.addEntry(e,i,c))}else if(r-=l.size,this.trackRemovals){const c=Zw(this.cr.serializer,s.convertToNoDocument(We.min()));n.push(this.cr.addEntry(e,i,c))}}),a.forEach(i=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,i))}),n.push(this.cr.updateMetadata(e,r)),le.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:a})=>(a.forEach((i,s)=>{this.lr.set(i,{size:s,readTime:r.get(i).readTime})}),r))}}function f1(t){return Nn(t,"remoteDocumentGlobal")}function Es(t){return Nn(t,"remoteDocumentsV14")}function Lc(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function p1(t,e){const n=e.documentKey.path.toArray();return[t,op(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function m1(t,e){const n=t.path.toArray(),r=e.path.toArray();let a=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(a=it(n[i],r[i]),a)return a;return a=it(n.length,r.length),a||(a=it(n[n.length-2],r[r.length-2]),a||it(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(r!==null&&Ed(r.mutation,a,wr.empty(),Zt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ht()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ht()){const a=Ta();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(i=>{let s=Qc();return i.forEach((l,c)=>{s=s.insert(l,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Ta();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ht()))}populateOverlays(e,n,r){const a=[];return r.forEach(i=>{n.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(e,a).next(i=>{i.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,a){let i=Mr();const s=Cd(),l=function(){return Cd()}();return n.forEach((c,d)=>{const u=r.get(d.key);a.has(d.key)&&(u===void 0||u.mutation instanceof hi)?i=i.insert(d.key,d):u!==void 0?(s.set(d.key,u.mutation.getFieldMask()),Ed(u.mutation,d,u.mutation.getFieldMask(),Zt.now())):s.set(d.key,wr.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,u)=>s.set(d,u)),n.forEach((d,u)=>{var h;return l.set(d,new TF(u,(h=s.get(d))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Cd();let a=new en((s,l)=>s-l),i=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let u=r.get(c)||wr.empty();u=l.applyToLocalView(d,u),r.set(c,u);const h=(a.get(l.batchId)||ht()).add(c);a=a.insert(l.batchId,h)})}).next(()=>{const s=[],l=a.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,u=c.value,h=WN();u.forEach(m=>{if(!i.has(m)){const p=KN(n.get(m),r.get(m));p!==null&&h.set(m,p),i=i.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,h))}return le.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,a){return function(s){return je.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):BN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-i.size):le.resolve(Ta());let l=-1,c=i;return s.next(d=>le.forEach(d,(u,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),i.get(u)?le.resolve():this.remoteDocumentCache.getEntry(e,u).next(m=>{c=c.insert(u,m)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,ht())).next(u=>({batchId:l,changes:GN(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new je(n)).next(r=>{let a=Qc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const i=n.collectionGroup;let s=Qc();return this.indexManager.getCollectionParents(e,i).next(l=>le.forEach(l,c=>{const d=function(h,m){return new lc(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,a).next(u=>{u.forEach((h,m)=>{s=s.insert(h,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,a){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,a))).next(s=>{i.forEach((c,d)=>{const u=d.getKey();s.get(u)===null&&(s=s.insert(u,dn.newInvalidDocument(u)))});let l=Qc();return s.forEach((c,d)=>{const u=i.get(c);u!==void 0&&Ed(u.mutation,d,wr.empty(),Zt.now()),Du(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return le.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:dr(a.createTime)}}(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(a){return{name:a.name,query:mT(a.bundledQuery),readTime:dr(a.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(){this.overlays=new en(je.comparator),this.Ir=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ta();return le.forEach(n,a=>this.getOverlay(e,a).next(i=>{i!==null&&r.set(a,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,i)=>{this.ht(e,n,i)}),le.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.Ir.get(r);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const a=Ta(),i=n.length+1,s=new je(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&a.set(c.getKey(),c)}return le.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let i=new en((d,u)=>d-u);const s=this.overlays.getIterator();for(;s.hasNext();){const d=s.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let u=i.get(d.largestBatchId);u===null&&(u=Ta(),i=i.insert(d.largestBatchId,u)),u.set(d.getKey(),d)}}const l=Ta(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,u)=>l.set(d,u)),!(l.size()>=a)););return le.resolve(l)}ht(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const s=this.Ir.get(a.largestBatchId).delete(r.key);this.Ir.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Qx(n,r));let i=this.Ir.get(n);i===void 0&&(i=ht(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(){this.Tr=new Ut(Tn.Er),this.dr=new Ut(Tn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Tn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Tn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new je(new Lt([])),r=new Tn(n,e),a=new Tn(n,e+1),i=[];return this.dr.forEachInRange([r,a],s=>{this.Vr(s),i.push(s.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new je(new Lt([])),r=new Tn(n,e),a=new Tn(n,e+1);let i=ht();return this.dr.forEachInRange([r,a],s=>{i=i.add(s.key)}),i}containsKey(e){const n=new Tn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return je.comparator(e.key,n.key)||it(e.wr,n.wr)}static Ar(e,n){return it(e.wr,n.wr)||je.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ut(Tn.Er)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new qx(i,n,r,a);this.mutationQueue.push(s);for(const l of a)this.br=this.br.add(new Tn(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return le.resolve(s)}lookupMutationBatch(e,n){return le.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.vr(r),i=a<0?0:a;return le.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tn(n,0),a=new Tn(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,a],s=>{const l=this.Dr(s.wr);i.push(l)}),le.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ut(it);return n.forEach(a=>{const i=new Tn(a,0),s=new Tn(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,s],l=>{r=r.add(l.wr)})}),le.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let i=r;je.isDocumentKey(i)||(i=i.child(""));const s=new Tn(new je(i),0);let l=new Ut(it);return this.br.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===a&&(l=l.add(c.wr)),!0)},s),le.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const a=this.Dr(r);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Ve(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return le.forEach(n.mutations,a=>{const i=new Tn(a.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Tn(n,0),a=this.br.firstAfterOrEqual(r);return le.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e){this.Mr=e,this.docs=function(){return new en(je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),i=a?a.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let r=Mr();return n.forEach(a=>{const i=this.docs.get(a);r=r.insert(a,i?i.document.mutableCopy():dn.newInvalidDocument(a))}),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let i=Mr();const s=n.path,l=new je(s.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:u}}=c.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||Bx(yN(u),r)<=0||(a.has(u.key)||Du(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return le.resolve(i)}getAllFromCollectionGroup(e,n,r,a){Fe()}Or(e,n){return le.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new PF(this)}getSize(e){return le.resolve(this.size)}}class PF extends bT{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.cr.addEntry(e,a)):this.cr.removeEntry(r)}),le.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e){this.persistence=e,this.Nr=new xs(n=>po(n),Iu),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Zx,this.targetCount=0,this.kr=Ao.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,a)=>n(a)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),le.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ao(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Kn(n),le.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let a=0;const i=[];return this.Nr.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),a++)}),le.waitFor(i).next(()=>a)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const a=this.persistence.referenceDelegate,i=[];return a&&n.forEach(s=>{i.push(a.markPotentiallyOrphaned(e,s))}),le.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Kr(0),this.Kr=!1,this.Kr=!0,this.$r=new kF,this.referenceDelegate=e(this),this.Ur=new jF(this),this.indexManager=new AF,this.remoteDocumentCache=function(a){return new RF(a)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new fT(n),this.Gr=new SF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new IF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new DF(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const a=new MF(this.Qr.next());return this.referenceDelegate.zr(),r(a).next(i=>this.referenceDelegate.jr(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Hr(e,n){return le.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class MF extends bN{constructor(e){super(),this.currentSequenceNumber=e}}class lm{constructor(e){this.persistence=e,this.Jr=new Zx,this.Yr=null}static Zr(e){return new lm(e)}get Xr(){if(this.Yr)return this.Yr;throw Fe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),le.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(a=>this.Xr.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Xr,r=>{const a=je.fromPath(r);return this.ei(e,a).next(i=>{i||n.removeEntry(a,We.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return le.or([()=>le.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e){this.serializer=e}O(e,n,r,a){const i=new Zp("createOrUpgrade",n);r<1&&a>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Iw,{unique:!0}),c.createObjectStore("documentMutations")}(e),g1(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=le.resolve();return r<3&&a>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),g1(e)),s=s.next(()=>function(c){const d=c.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:We.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",u)}(i))),r<4&&a>=4&&(r!==0&&(s=s.next(()=>function(c,d){return d.store("mutations").U().next(u=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Iw,{unique:!0});const h=d.store("mutations"),m=u.map(p=>h.put(p));return le.waitFor(m)})}(e,i))),s=s.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&a>=5&&(s=s.next(()=>this.ni(i))),r<6&&a>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ri(i)))),r<7&&a>=7&&(s=s.next(()=>this.ii(i))),r<8&&a>=8&&(s=s.next(()=>this.si(e,i))),r<9&&a>=9&&(s=s.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&a>=10&&(s=s.next(()=>this.oi(i))),r<11&&a>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&a>=12&&(s=s.next(()=>{(function(c){const d=c.createObjectStore("documentOverlays",{keyPath:d3});d.createIndex("collectionPathOverlayIndex",u3,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",h3,{unique:!1})})(e)})),r<13&&a>=13&&(s=s.next(()=>function(c){const d=c.createObjectStore("remoteDocumentsV14",{keyPath:Z5});d.createIndex("documentKeyIndex",e3),d.createIndex("collectionGroupIndex",t3)}(e)).next(()=>this._i(e,i)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&a>=14&&(s=s.next(()=>this.ai(e,i))),r<15&&a>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:s3}).createIndex("sequenceNumberIndex",o3,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:l3}).createIndex("documentKeyIndex",c3,{unique:!1})}(e))),r<16&&a>=16&&(s=s.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&a>=17&&(s=s.next(()=>{(function(c){c.createObjectStore("globals",{keyPath:"name"})})(e)})),s}ri(e){let n=0;return e.store("remoteDocuments").J((r,a)=>{n+=cp(a)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(a=>le.forEach(a,i=>{const s=IDBKeyRange.bound([i.userId,-1],[i.userId,i.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(l=>le.forEach(l,c=>{Ve(c.userId===i.userId);const d=Os(this.serializer,c);return xT(e,i.userId,d).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const i=[];return r.J((s,l)=>{const c=new Lt(s),d=function(h){return[0,cr(h)]}(c);i.push(n.get(d).next(u=>u?le.resolve():(h=>n.put({targetId:0,path:cr(h),sequenceNumber:a.highestListenSequenceNumber}))(c)))}).next(()=>le.waitFor(i))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:i3});const r=n.store("collectionParents"),a=new Jx,i=s=>{if(a.add(s)){const l=s.lastSegment(),c=s.popLast();return r.put({collectionId:l,parent:cr(c)})}};return n.store("remoteDocuments").J({H:!0},(s,l)=>{const c=new Lt(s);return i(c.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([s,l,c],d)=>{const u=Na(l);return i(u.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,a)=>{const i=Kc(a),s=pT(this.serializer,i);return n.put(s)})}_i(e,n){const r=n.store("remoteDocuments"),a=[];return r.J((i,s)=>{const l=n.store("remoteDocumentsV14"),c=function(h){return h.document?new je(Lt.fromString(h.document.name).popFirst(5)):h.noDocument?je.fromSegments(h.noDocument.path):h.unknownDocument?je.fromSegments(h.unknownDocument.path):Fe()}(s).path.toArray(),d={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};a.push(l.put(d))}).next(()=>le.waitFor(a))}ai(e,n){const r=n.store("mutations"),a=wT(this.serializer),i=new CT(lm.Zr,this.serializer.ct);return r.U().next(s=>{const l=new Map;return s.forEach(c=>{var d;let u=(d=l.get(c.userId))!==null&&d!==void 0?d:ht();Os(this.serializer,c).keys().forEach(h=>u=u.add(h)),l.set(c.userId,u)}),le.forEach(l,(c,d)=>{const u=new Ln(d),h=sm.lt(this.serializer,u),m=i.getIndexManager(u),p=om.lt(u,this.serializer,m,i.referenceDelegate);return new _T(a,p,h,m).recalculateAndSaveOverlaysForDocumentKeys(new $A(n,Kr.oe),c).next()})})}}function g1(t){t.createObjectStore("targetDocuments",{keyPath:r3}).createIndex("documentTargetsIndex",a3,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",n3,{unique:!0}),t.createObjectStore("targetGlobal")}const yg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ey{constructor(e,n,r,a,i,s,l,c,d,u,h=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=i,this.window=s,this.document=l,this.ci=d,this.li=u,this.hi=h,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=m=>Promise.resolve(),!ey.D())throw new De(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new CF(this,a),this.Ai=n+"main",this.serializer=new fT(c),this.Ri=new ns(this.Ai,this.hi,new LF(this.serializer)),this.$r=new uF,this.Ur=new yF(this.referenceDelegate,this.serializer),this.remoteDocumentCache=wT(this.serializer),this.Gr=new dF,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,u===!1&&or("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new De(me.FAILED_PRECONDITION,yg);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Kr(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ih(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(As(e))return we("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return we("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Fc(e).get("owner").next(n=>le.resolve(this.vi(n)))}Ci(e){return Ih(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Nn(n,"clientMetadata");return r.U().next(a=>{const i=this.xi(a,18e5),s=a.filter(l=>i.indexOf(l)===-1);return le.forEach(s,l=>r.delete(l.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?le.resolve(!0):Fc(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new De(me.FAILED_PRECONDITION,yg);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ih(e).U().next(r=>this.xi(r,5e3).find(a=>{if(this.clientId!==a.clientId){const i=!this.networkEnabled&&a.networkEnabled,s=!this.inForeground&&a.inForeground,l=this.networkEnabled===a.networkEnabled;if(i||s&&l)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&we("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new $A(e,Kr.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Ih(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return om.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new xF(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return sm.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){we("IndexedDbPersistence","Starting transaction:",e);const a=n==="readonly"?"readonly":"readwrite",i=function(c){return c===17?m3:c===16?p3:c===15?Vx:c===14?NN:c===13?EN:c===12?f3:c===11?CN:void Fe()}(this.hi);let s;return this.Ri.runTransaction(e,a,i,l=>(s=new $A(l,this.Qr?this.Qr.next():Kr.oe),n==="readwrite-primary"?this.wi(s).next(c=>!!c||this.Si(s)).next(c=>{if(!c)throw or(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new De(me.FAILED_PRECONDITION,vN);return r(s)}).next(c=>this.Di(s).next(()=>c)):this.Ki(s).next(()=>r(s)))).then(l=>(s.raiseOnCommittedEvent(),l))}Ki(e){return Fc(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new De(me.FAILED_PRECONDITION,yg)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fc(e).put("owner",n)}static D(){return ns.D()}bi(e){const n=Fc(e);return n.get("owner").next(r=>this.vi(r)?(we("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):le.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(or(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;nN()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return we("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return or("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){or("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Fc(t){return Nn(t,"owner")}function Ih(t){return Nn(t,"clientMetadata")}function FF(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=a}static Wi(e,n){let r=ht(),a=ht();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new ty(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return nN()?8:wN(En())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,a){const i={result:null};return this.Yi(e,n).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.Zi(e,n,a,r).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new OF;return this.Xi(e,n,s).next(l=>{if(i.result=l,this.zi)return this.es(e,n,s,l.size)})}).next(()=>i.result)}es(e,n,r,a){return r.documentReadCount<this.ji?(Ho()<=bt.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Qo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),le.resolve()):(Ho()<=bt.DEBUG&&we("QueryEngine","Query:",Qo(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.Hi*a?(Ho()<=bt.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Qo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jr(n))):le.resolve())}Yi(e,n){if(Uw(n))return le.resolve(null);let r=Jr(n);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=JA(n,null,"F"),r=Jr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const s=ht(...i);return this.Ji.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.ts(n,l);return this.ns(n,d,s,c.readTime)?this.Yi(e,JA(n,null,"F")):this.rs(e,d,n,c)}))})))}Zi(e,n,r,a){return Uw(n)||a.isEqual(We.min())?le.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const s=this.ts(n,i);return this.ns(n,s,r,a)?le.resolve(null):(Ho()<=bt.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Qo(n)),this.rs(e,s,n,$5(a,-1)).next(l=>l))})}ts(e,n){let r=new Ut(VN(e));return n.forEach((a,i)=>{Du(e,i)&&(r=r.add(i))}),r}ns(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}Xi(e,n,r){return Ho()<=bt.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Qo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Br.min(),r)}rs(e,n,r,a){return this.Ji.getDocumentsMatchingQuery(e,r,a).next(i=>(n.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e,n,r,a){this.persistence=e,this.ss=n,this.serializer=a,this.os=new en(it),this._s=new xs(i=>po(i),Iu),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _T(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function NT(t,e,n,r){return new BF(t,e,n,r)}async function TT(t,e){const n=et(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(i=>(a=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const s=[],l=[];let c=ht();for(const d of a){s.push(d.batchId);for(const u of d.mutations)c=c.add(u.key)}for(const d of i){l.push(d.batchId);for(const u of d.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(d=>({hs:d,removedBatchIds:s,addedBatchIds:l}))})})}function zF(t,e){const n=et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,d,u){const h=d.batch,m=h.keys();let p=le.resolve();return m.forEach(A=>{p=p.next(()=>u.getEntry(c,A)).next(g=>{const b=d.docVersions.get(A);Ve(b!==null),g.version.compareTo(b)<0&&(h.applyToRemoteDocument(g,d),g.isValidDocument()&&(g.setReadTime(d.commitVersion),u.addEntry(g)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ht();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}function ST(t){const e=et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function VF(t,e){const n=et(t),r=e.snapshotVersion;let a=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});a=n.os;const l=[];e.targetChanges.forEach((u,h)=>{const m=a.get(h);if(!m)return;l.push(n.Ur.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(i,u.addedDocuments,h)));let p=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(pn.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),a=a.insert(h,p),function(g,b,x){return g.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(m,p,u)&&l.push(n.Ur.updateTargetData(i,p))});let c=Mr(),d=ht();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),l.push(UF(i,s,e.documentUpdates).next(u=>{c=u.Ps,d=u.Is})),!r.isEqual(We.min())){const u=n.Ur.getLastRemoteSnapshotVersion(i).next(h=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(u)}return le.waitFor(l).next(()=>s.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.os=a,i))}function UF(t,e,n){let r=ht(),a=ht();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=Mr();return n.forEach((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(l)),c.isNoDocument()&&c.version.isEqual(We.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):we("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{Ps:s,Is:a}})}function GF(t,e){const n=et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function WF(t,e){const n=et(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Ur.getTargetData(r,e).next(i=>i?(a=i,le.resolve(a)):n.Ur.allocateTargetId(r).next(s=>(a=new Xa(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.os.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function s0(t,e,n){const r=et(t),a=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,s=>r.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!As(s))throw s;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(a.target)}function A1(t,e,n){const r=et(t);let a=We.min(),i=ht();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,d,u){const h=et(c),m=h._s.get(u);return m!==void 0?le.resolve(h.os.get(m)):h.Ur.getTargetData(d,u)}(r,s,Jr(e)).next(l=>{if(l)return a=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,l.targetId).next(c=>{i=c})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?a:We.min(),n?i:ht())).next(l=>($F(r,k3(e),l),{documents:l,Ts:i})))}function $F(t,e,n){let r=t.us.get(e)||We.min();n.forEach((a,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class x1{constructor(){this.activeTargetIds=L3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IT{constructor(){this.so=new x1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new x1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh=null;function vg(){return kh===null?kh=function(){return 268435456+Math.round(2147483648*Math.random())}():kh++,"0x"+kh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn="WebChannelConnection";class XF extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${a}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${i}`}get Fo(){return!1}Mo(n,r,a,i,s){const l=vg(),c=this.xo(n,r.toUriEncodedString());we("RestConnection",`Sending RPC '${n}' ${l}:`,c,a);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,s),this.No(n,c,d,a).then(u=>(we("RestConnection",`Received RPC '${n}' ${l}: `,u),u),u=>{throw os("RestConnection",`RPC '${n}' ${l} failed with error: `,u,"url: ",c,"request:",a),u})}Lo(n,r,a,i,s,l){return this.Mo(n,r,a,i,s)}Oo(n,r,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,s)=>n[s]=i),a&&a.headers.forEach((i,s)=>n[s]=i)}xo(n,r){const a=HF[n];return`${this.Do}/v1/${r}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,a){const i=vg();return new Promise((s,l)=>{const c=new uN;c.setWithCredentials(!0),c.listenOnce(hN.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Xh.NO_ERROR:const u=c.getResponseJson();we(Yn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),s(u);break;case Xh.TIMEOUT:we(Yn,`RPC '${e}' ${i} timed out`),l(new De(me.DEADLINE_EXCEEDED,"Request time out"));break;case Xh.HTTP_ERROR:const h=c.getStatus();if(we(Yn,`RPC '${e}' ${i} failed with status:`,h,"response text:",c.getResponseText()),h>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const p=m==null?void 0:m.error;if(p&&p.status&&p.message){const A=function(b){const x=b.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(x)>=0?x:me.UNKNOWN}(p.status);l(new De(A,p.message))}else l(new De(me.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new De(me.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{we(Yn,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(a);we(Yn,`RPC '${e}' ${i} sending request:`,a),c.send(n,"POST",d,r,15)})}Bo(e,n,r){const a=vg(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=mN(),l=pN(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=i.join("");we(Yn,`Creating RPC '${e}' stream ${a}: ${u}`,c);const h=s.createWebChannel(u,c);let m=!1,p=!1;const A=new QF({Io:b=>{p?we(Yn,`Not sending because RPC '${e}' stream ${a} is closed:`,b):(m||(we(Yn,`Opening RPC '${e}' stream ${a} transport.`),h.open(),m=!0),we(Yn,`RPC '${e}' stream ${a} sending:`,b),h.send(b))},To:()=>h.close()}),g=(b,x,y)=>{b.listen(x,w=>{try{y(w)}catch(S){setTimeout(()=>{throw S},0)}})};return g(h,Hc.EventType.OPEN,()=>{p||(we(Yn,`RPC '${e}' stream ${a} transport opened.`),A.yo())}),g(h,Hc.EventType.CLOSE,()=>{p||(p=!0,we(Yn,`RPC '${e}' stream ${a} transport closed`),A.So())}),g(h,Hc.EventType.ERROR,b=>{p||(p=!0,os(Yn,`RPC '${e}' stream ${a} transport errored:`,b),A.So(new De(me.UNAVAILABLE,"The operation could not be completed")))}),g(h,Hc.EventType.MESSAGE,b=>{var x;if(!p){const y=b.data[0];Ve(!!y);const w=y,S=w.error||((x=w[0])===null||x===void 0?void 0:x.error);if(S){we(Yn,`RPC '${e}' stream ${a} received error:`,S);const k=S.status;let P=function(C){const R=gn[C];if(R!==void 0)return ZN(R)}(k),E=S.message;P===void 0&&(P=me.INTERNAL,E="Unknown error status: "+k+" with message "+S.message),p=!0,A.So(new De(P,E)),h.close()}else we(Yn,`RPC '${e}' stream ${a} received:`,y),A.bo(y)}}),g(l,fN.STAT_EVENT,b=>{b.stat===GA.PROXY?we(Yn,`RPC '${e}' stream ${a} detected buffering proxy`):b.stat===GA.NOPROXY&&we(Yn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KF(){return typeof window<"u"?window:null}function nf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(t){return new Z3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n,r=1e3,a=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=a,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),a=Math.max(0,n-r);a>0&&we("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n,r,a,i,s,l,c){this.ui=e,this.Ho=r,this.Jo=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new kT(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(or(n.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.Yo===n&&this.P_(r,a)},r=>{e(()=>{const a=new De(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(a)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(a=>{r(()=>this.I_(a))}),this.stream.onMessage(a=>{r(()=>++this.e_==1?this.E_(a):this.onNext(a))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YF extends DT{constructor(e,n,r,a,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,s),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=nF(this.serializer,e),r=function(i){if(!("targetChange"in i))return We.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?We.min():s.readTime?dr(s.readTime):We.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=t0(this.serializer),n.addTarget=function(i,s){let l;const c=s.target;if(l=rp(c)?{documents:oT(i,c)}:{query:lT(i,c)._t},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=nT(i,s.resumeToken);const d=ZA(i,s.expectedCount);d!==null&&(l.expectedCount=d)}else if(s.snapshotVersion.compareTo(We.min())>0){l.readTime=Xl(i,s.snapshotVersion.toTimestamp());const d=ZA(i,s.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=aF(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=t0(this.serializer),n.removeTarget=e,this.a_(n)}}class JF extends DT{constructor(e,n,r,a,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=rF(e.writeResults,e.commitTime),r=dr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=t0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>sp(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF extends class{}{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new De(me.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Mo(e,e0(n,r),a,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new De(me.UNKNOWN,i.toString())})}Lo(e,n,r,a,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Lo(e,e0(n,r),a,s,l,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new De(me.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class eO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(or(n),this.D_=!1):we("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,n,r,a,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(s=>{r.enqueueAndForget(async()=>{To(this)&&(we("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=et(c);d.L_.add(4),await ju(d),d.q_.set("Unknown"),d.L_.delete(4),await dm(d)}(this))})}),this.q_=new eO(r,a)}}async function dm(t){if(To(t))for(const e of t.B_)await e(!0)}async function ju(t){for(const e of t.B_)await e(!1)}function RT(t,e){const n=et(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),iy(n)?ay(n):dc(n).r_()&&ry(n,e))}function ny(t,e){const n=et(t),r=dc(n);n.N_.delete(e),r.r_()&&PT(n,e),n.N_.size===0&&(r.r_()?r.o_():To(n)&&n.q_.set("Unknown"))}function ry(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(We.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}dc(t).A_(e)}function PT(t,e){t.Q_.xe(e),dc(t).R_(e)}function ay(t){t.Q_=new X3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),dc(t).start(),t.q_.v_()}function iy(t){return To(t)&&!dc(t).n_()&&t.N_.size>0}function To(t){return et(t).L_.size===0}function jT(t){t.Q_=void 0}async function nO(t){t.q_.set("Online")}async function rO(t){t.N_.forEach((e,n)=>{ry(t,e)})}async function aO(t,e){jT(t),iy(t)?(t.q_.M_(e),ay(t)):t.q_.set("Unknown")}async function iO(t,e,n){if(t.q_.set("Online"),e instanceof tT&&e.state===2&&e.cause)try{await async function(a,i){const s=i.cause;for(const l of i.targetIds)a.N_.has(l)&&(await a.remoteSyncer.rejectListen(l,s),a.N_.delete(l),a.Q_.removeTarget(l))}(t,e)}catch(r){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dp(t,r)}else if(e instanceof tf?t.Q_.Ke(e):e instanceof eT?t.Q_.He(e):t.Q_.We(e),!n.isEqual(We.min()))try{const r=await ST(t.localStore);n.compareTo(r)>=0&&await function(i,s){const l=i.Q_.rt(s);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const u=i.N_.get(d);u&&i.N_.set(d,u.withResumeToken(c.resumeToken,s))}}),l.targetMismatches.forEach((c,d)=>{const u=i.N_.get(c);if(!u)return;i.N_.set(c,u.withResumeToken(pn.EMPTY_BYTE_STRING,u.snapshotVersion)),PT(i,c);const h=new Xa(u.target,c,d,u.sequenceNumber);ry(i,h)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){we("RemoteStore","Failed to raise snapshot:",r),await dp(t,r)}}async function dp(t,e,n){if(!As(e))throw e;t.L_.add(1),await ju(t),t.q_.set("Offline"),n||(n=()=>ST(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await dm(t)})}function MT(t,e){return e().catch(n=>dp(t,n,e))}async function Mu(t){const e=et(t),n=us(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;sO(e);)try{const a=await GF(e.localStore,r);if(a===null){e.O_.length===0&&n.o_();break}r=a.batchId,oO(e,a)}catch(a){await dp(e,a)}LT(e)&&FT(e)}function sO(t){return To(t)&&t.O_.length<10}function oO(t,e){t.O_.push(e);const n=us(t);n.r_()&&n.V_&&n.m_(e.mutations)}function LT(t){return To(t)&&!us(t).n_()&&t.O_.length>0}function FT(t){us(t).start()}async function lO(t){us(t).p_()}async function cO(t){const e=us(t);for(const n of t.O_)e.m_(n.mutations)}async function dO(t,e,n){const r=t.O_.shift(),a=Hx.from(r,e,n);await MT(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Mu(t)}async function uO(t,e){e&&us(t).V_&&await async function(r,a){if(function(s){return q3(s)&&s!==me.ABORTED}(a.code)){const i=r.O_.shift();us(r).s_(),await MT(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,a)),await Mu(r)}}(t,e),LT(t)&&FT(t)}async function v1(t,e){const n=et(t);n.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const r=To(n);n.L_.add(3),await ju(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await dm(n)}async function hO(t,e){const n=et(t);e?(n.L_.delete(2),await dm(n)):e||(n.L_.add(2),await ju(n),n.q_.set("Unknown"))}function dc(t){return t.K_||(t.K_=function(n,r,a){const i=et(n);return i.w_(),new YF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(t.datastore,t.asyncQueue,{Eo:nO.bind(null,t),Ro:rO.bind(null,t),mo:aO.bind(null,t),d_:iO.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),iy(t)?ay(t):t.q_.set("Unknown")):(await t.K_.stop(),jT(t))})),t.K_}function us(t){return t.U_||(t.U_=function(n,r,a){const i=et(n);return i.w_(),new JF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:lO.bind(null,t),mo:uO.bind(null,t),f_:cO.bind(null,t),g_:dO.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Mu(t)):(await t.U_.stop(),t.O_.length>0&&(we("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n,r,a,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=i,this.deferred=new ka,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,i){const s=Date.now()+r,l=new sy(e,n,s,a,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oy(t,e){if(or("AsyncQueue",`${e}: ${t}`),As(t))return new De(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||je.comparator(n.key,r.key):(n,r)=>je.comparator(n.key,r.key),this.keyedMap=Qc(),this.sortedSet=new en(this.comparator)}static emptySet(e){return new Sl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Sl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,i=r.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Sl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(){this.W_=new en(je.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Fe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Kl{constructor(e,n,r,a,i,s,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,a,i){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new Kl(e,n,Sl.emptySet(n),s,r,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class pO{constructor(){this.queries=w1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const a=et(n),i=a.queries;a.queries=w1(),i.forEach((s,l)=>{for(const c of l.j_)c.onError(r)})})(this,new De(me.ABORTED,"Firestore shutting down"))}}function w1(){return new xs(t=>zN(t),nm)}async function ly(t,e){const n=et(t);let r=3;const a=e.query;let i=n.queries.get(a);i?!i.H_()&&e.J_()&&(r=2):(i=new fO,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(a,!0);break;case 1:i.z_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(s){const l=oy(s,`Initialization of query '${Qo(e.query)}' failed`);return void e.onError(l)}n.queries.set(a,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&dy(n)}async function cy(t,e){const n=et(t),r=e.query;let a=3;const i=n.queries.get(r);if(i){const s=i.j_.indexOf(e);s>=0&&(i.j_.splice(s,1),i.j_.length===0?a=e.J_()?0:1:!i.H_()&&e.J_()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function mO(t,e){const n=et(t);let r=!1;for(const a of e){const i=a.query,s=n.queries.get(i);if(s){for(const l of s.j_)l.X_(a)&&(r=!0);s.z_=a}}r&&dy(n)}function gO(t,e,n){const r=et(t),a=r.queries.get(e);if(a)for(const i of a.j_)i.onError(n);r.queries.delete(e)}function dy(t){t.Y_.forEach(e=>{e.next()})}var o0,_1;(_1=o0||(o0={})).ea="default",_1.Cache="cache";class uy{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Kl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==o0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){this.key=e}}class BT{constructor(e){this.key=e}}class AO{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ht(),this.mutatedKeys=ht(),this.Aa=VN(e),this.Ra=new Sl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new b1,a=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,s=a,l=!1;const c=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((u,h)=>{const m=a.get(u),p=Du(this.query,h)?h:null,A=!!m&&this.mutatedKeys.has(m.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;m&&p?m.data.isEqual(p.data)?A!==g&&(r.track({type:3,doc:p}),b=!0):this.ga(m,p)||(r.track({type:2,doc:p}),b=!0,(c&&this.Aa(p,c)>0||d&&this.Aa(p,d)<0)&&(l=!0)):!m&&p?(r.track({type:0,doc:p}),b=!0):m&&!p&&(r.track({type:1,doc:m}),b=!0,(c||d)&&(l=!0)),b&&(p?(s=s.add(p),i=g?i.add(u):i.delete(u)):(s=s.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ra:s,fa:r,ns:l,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((u,h)=>function(p,A){const g=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return g(p)-g(A)}(u.type,h.type)||this.Aa(u.doc,h.doc)),this.pa(r),a=a!=null&&a;const l=n&&!a?this.ya():[],c=this.da.size===0&&this.current&&!a?1:0,d=c!==this.Ea;return this.Ea=c,s.length!==0||d?{snapshot:new Kl(this.query,e.Ra,i,s,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new b1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ht(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new BT(r))}),this.da.forEach(r=>{e.has(r)||n.push(new OT(r))}),n}ba(e){this.Ta=e.Ts,this.da=ht();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Kl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class xO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yO{constructor(e){this.key=e,this.va=!1}}class vO{constructor(e,n,r,a,i,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new xs(l=>zN(l),nm),this.Ma=new Map,this.xa=new Set,this.Oa=new en(je.comparator),this.Na=new Map,this.La=new Zx,this.Ba={},this.ka=new Map,this.qa=Ao.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function bO(t,e,n=!0){const r=$T(t);let a;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.Da()):a=await zT(r,e,n,!0),a}async function wO(t,e){const n=$T(t);await zT(n,e,!0,!1)}async function zT(t,e,n,r){const a=await WF(t.localStore,Jr(e)),i=a.targetId,s=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await _O(t,e,i,s==="current",a.resumeToken)),t.isPrimaryClient&&n&&RT(t.remoteStore,a),l}async function _O(t,e,n,r,a){t.Ka=(h,m,p)=>async function(g,b,x,y){let w=b.view.ma(x);w.ns&&(w=await A1(g.localStore,b.query,!1).then(({documents:E})=>b.view.ma(E,w)));const S=y&&y.targetChanges.get(b.targetId),k=y&&y.targetMismatches.get(b.targetId)!=null,P=b.view.applyChanges(w,g.isPrimaryClient,S,k);return E1(g,b.targetId,P.wa),P.snapshot}(t,h,m,p);const i=await A1(t.localStore,e,!0),s=new AO(e,i.Ts),l=s.ma(i.documents),c=Pu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),d=s.applyChanges(l,t.isPrimaryClient,c);E1(t,n,d.wa);const u=new xO(e,n,s);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function CO(t,e,n){const r=et(t),a=r.Fa.get(e),i=r.Ma.get(a.targetId);if(i.length>1)return r.Ma.set(a.targetId,i.filter(s=>!nm(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await s0(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&ny(r.remoteStore,a.targetId),l0(r,a.targetId)}).catch(Eo)):(l0(r,a.targetId),await s0(r.localStore,a.targetId,!0))}async function EO(t,e){const n=et(t),r=n.Fa.get(e),a=n.Ma.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ny(n.remoteStore,r.targetId))}async function NO(t,e,n){const r=qT(t);try{const a=await function(s,l){const c=et(s),d=Zt.now(),u=l.reduce((p,A)=>p.add(A.key),ht());let h,m;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let A=Mr(),g=ht();return c.cs.getEntries(p,u).next(b=>{A=b,A.forEach((x,y)=>{y.isValidDocument()||(g=g.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,A)).next(b=>{h=b;const x=[];for(const y of l){const w=W3(y,h.get(y.key).overlayedDocument);w!=null&&x.push(new hi(y.key,w,DN(w.value.mapValue),Cn.exists(!0)))}return c.mutationQueue.addMutationBatch(p,d,x,l)}).next(b=>{m=b;const x=b.applyToLocalDocumentSet(h,g);return c.documentOverlayCache.saveOverlays(p,b.batchId,x)})}).then(()=>({batchId:m.batchId,changes:GN(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(s,l,c){let d=s.Ba[s.currentUser.toKey()];d||(d=new en(it)),d=d.insert(l,c),s.Ba[s.currentUser.toKey()]=d}(r,a.batchId,n),await Lu(r,a.changes),await Mu(r.remoteStore)}catch(a){const i=oy(a,"Failed to persist write");n.reject(i)}}async function VT(t,e){const n=et(t);try{const r=await VF(n.localStore,e);e.targetChanges.forEach((a,i)=>{const s=n.Na.get(i);s&&(Ve(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?s.va=!0:a.modifiedDocuments.size>0?Ve(s.va):a.removedDocuments.size>0&&(Ve(s.va),s.va=!1))}),await Lu(n,r,e)}catch(r){await Eo(r)}}function C1(t,e,n){const r=et(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Fa.forEach((i,s)=>{const l=s.view.Z_(e);l.snapshot&&a.push(l.snapshot)}),function(s,l){const c=et(s);c.onlineState=l;let d=!1;c.queries.forEach((u,h)=>{for(const m of h.j_)m.Z_(l)&&(d=!0)}),d&&dy(c)}(r.eventManager,e),a.length&&r.Ca.d_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function TO(t,e,n){const r=et(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Na.get(e),i=a&&a.key;if(i){let s=new en(je.comparator);s=s.insert(i,dn.newNoDocument(i,We.min()));const l=ht().add(i),c=new im(We.min(),new Map,new en(it),s,l);await VT(r,c),r.Oa=r.Oa.remove(i),r.Na.delete(e),hy(r)}else await s0(r.localStore,e,!1).then(()=>l0(r,e,n)).catch(Eo)}async function SO(t,e){const n=et(t),r=e.batch.batchId;try{const a=await zF(n.localStore,e);GT(n,r,null),UT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Lu(n,a)}catch(a){await Eo(a)}}async function IO(t,e,n){const r=et(t);try{const a=await function(s,l){const c=et(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let u;return c.mutationQueue.lookupMutationBatch(d,l).next(h=>(Ve(h!==null),u=h.keys(),c.mutationQueue.removeMutationBatch(d,h))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,u,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,u)).next(()=>c.localDocuments.getDocuments(d,u))})}(r.localStore,e);GT(r,e,n),UT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Lu(r,a)}catch(a){await Eo(a)}}function UT(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function GT(t,e,n){const r=et(t);let a=r.Ba[r.currentUser.toKey()];if(a){const i=a.get(e);i&&(n?i.reject(n):i.resolve(),a=a.remove(e)),r.Ba[r.currentUser.toKey()]=a}}function l0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||WT(t,r)})}function WT(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(ny(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),hy(t))}function E1(t,e,n){for(const r of n)r instanceof OT?(t.La.addReference(r.key,e),kO(t,r)):r instanceof BT?(we("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||WT(t,r.key)):Fe()}function kO(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(we("SyncEngine","New document in limbo: "+n),t.xa.add(r),hy(t))}function hy(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new je(Lt.fromString(e)),r=t.qa.next();t.Na.set(r,new yO(n)),t.Oa=t.Oa.insert(n,r),RT(t.remoteStore,new Xa(Jr(ku(n.path)),r,"TargetPurposeLimboResolution",Kr.oe))}}async function Lu(t,e,n){const r=et(t),a=[],i=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{s.push(r.Ka(c,e,n).then(d=>{var u;if((d||n)&&r.isPrimaryClient){const h=d?!d.fromCache:(u=n==null?void 0:n.targetChanges.get(c.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(d){a.push(d);const h=ty.Wi(c.targetId,d);i.push(h)}}))}),await Promise.all(s),r.Ca.d_(a),await async function(c,d){const u=et(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>le.forEach(d,m=>le.forEach(m.$i,p=>u.persistence.referenceDelegate.addReference(h,m.targetId,p)).next(()=>le.forEach(m.Ui,p=>u.persistence.referenceDelegate.removeReference(h,m.targetId,p)))))}catch(h){if(!As(h))throw h;we("LocalStore","Failed to update sequence numbers: "+h)}for(const h of d){const m=h.targetId;if(!h.fromCache){const p=u.os.get(m),A=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(A);u.os=u.os.insert(m,g)}}}(r.localStore,i))}async function DO(t,e){const n=et(t);if(!n.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const r=await TT(n.localStore,e);n.currentUser=e,function(i,s){i.ka.forEach(l=>{l.forEach(c=>{c.reject(new De(me.CANCELLED,s))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Lu(n,r.hs)}}function RO(t,e){const n=et(t),r=n.Na.get(e);if(r&&r.va)return ht().add(r.key);{let a=ht();const i=n.Ma.get(e);if(!i)return a;for(const s of i){const l=n.Fa.get(s);a=a.unionWith(l.view.Va)}return a}}function $T(t){const e=et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TO.bind(null,e),e.Ca.d_=mO.bind(null,e.eventManager),e.Ca.$a=gO.bind(null,e.eventManager),e}function qT(t){const e=et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IO.bind(null,e),e}class cu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return NT(this.persistence,new ET,e.initialUser,this.serializer)}Ga(e){return new CT(lm.Zr,this.serializer)}Wa(e){return new IT}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cu.provider={build:()=>new cu};class PO extends cu{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await qT(this.Ja.syncEngine),await Mu(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return NT(this.persistence,new ET,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new bF(r,e.asyncQueue,n)}Ha(e,n){const r=new X5(n,this.persistence);return new Q5(e.asyncQueue,r)}Ga(e){const n=FF(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?gr.withCacheSize(this.cacheSizeBytes):gr.DEFAULT;return new ey(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,KF(),nf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new IT}}class up{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>C1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DO.bind(null,this.syncEngine),await hO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pO}()}createDatastore(e){const n=cm(e.databaseInfo.databaseId),r=function(i){return new XF(i)}(e.databaseInfo);return function(i,s,l,c){return new ZF(i,s,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,a,i,s,l){return new tO(r,a,i,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>C1(this.syncEngine,n,0),function(){return y1.D()?new y1:new qF}())}createSyncEngine(e,n){return function(a,i,s,l,c,d,u){const h=new vO(a,i,s,l,c,d);return u&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const i=et(a);we("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await ju(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}up.provider={build:()=>new up};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n,r,a,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=Ln.UNAUTHENTICATED,this.clientId=Ox.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async s=>{we("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(we("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ka;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=oy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bg(t,e){t.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async a=>{r.isEqual(a)||(await TT(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function N1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await MO(t);we("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>v1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>v1(e.remoteStore,a)),t._onlineComponents=e}async function MO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{await bg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===me.FAILED_PRECONDITION||a.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;os("Error using user provided cache. Falling back to memory cache: "+n),await bg(t,new cu)}}else we("FirestoreClient","Using default OfflineComponentProvider"),await bg(t,new cu);return t._offlineComponents}async function HT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),await N1(t,t._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),await N1(t,new up))),t._onlineComponents}function LO(t){return HT(t).then(e=>e.syncEngine)}async function hp(t){const e=await HT(t),n=e.eventManager;return n.onListen=bO.bind(null,e.syncEngine),n.onUnlisten=CO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EO.bind(null,e.syncEngine),n}function FO(t,e,n={}){const r=new ka;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,l,c,d){const u=new fy({next:m=>{u.Za(),s.enqueueAndForget(()=>cy(i,h));const p=m.docs.has(l);!p&&m.fromCache?d.reject(new De(me.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&c&&c.source==="server"?d.reject(new De(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),h=new uy(ku(l.path),u,{includeMetadataChanges:!0,_a:!0});return ly(i,h)}(await hp(t),t.asyncQueue,e,n,r)),r.promise}function OO(t,e,n={}){const r=new ka;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,l,c,d){const u=new fy({next:m=>{u.Za(),s.enqueueAndForget(()=>cy(i,h)),m.fromCache&&c.source==="server"?d.reject(new De(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),h=new uy(l,u,{includeMetadataChanges:!0,_a:!0});return ly(i,h)}(await hp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(t,e,n){if(!n)throw new De(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KT(t,e,n,r){if(e===!0&&r===!0)throw new De(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function S1(t){if(!je.isDocumentKey(t))throw new De(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function I1(t){if(je.isDocumentKey(t))throw new De(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function um(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe()}function Bn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new De(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=um(t);throw new De(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new De(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new De(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new De(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new De(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new De(me.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hm{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new AN;switch(r.type){case"firstParty":return new z5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new De(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=T1.get(n);r&&(we("ComponentProvider","Removing Datastore"),T1.delete(n),r.terminate())}(this),Promise.resolve()}}function YT(t,e,n,r={}){var a;const i=(t=Bn(t,hm))._getSettings(),s=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==s&&os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:s,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Ln.MOCK_USER;else{l=m4(r.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new De(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ln(d)}t._authCredentials=new F5(new gN(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fi(this.firestore,e,this._query)}}class zn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class ti extends fi{constructor(e,n,r){super(e,n,ku(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new je(e))}withConverter(e){return new ti(this.firestore,e,this._path)}}function yn(t,e,...n){if(t=fn(t),XT("collection","path",e),t instanceof hm){const r=Lt.fromString(e,...n);return I1(r),new ti(t,null,r)}{if(!(t instanceof zn||t instanceof ti))throw new De(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return I1(r),new ti(t.firestore,null,r)}}function vn(t,e,...n){if(t=fn(t),arguments.length===1&&(e=Ox.newId()),XT("doc","path",e),t instanceof hm){const r=Lt.fromString(e,...n);return S1(r),new zn(t,null,new je(r))}{if(!(t instanceof zn||t instanceof ti))throw new De(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return S1(r),new zn(t.firestore,t instanceof ti?t.converter:null,new je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new kT(this,"async_queue_retry"),this.Vu=()=>{const r=nf();r&&we("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=nf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=nf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ka;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!As(e))throw e;we("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const a=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(r);throw or("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const a=sy.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(a),a}fu(){this.Eu&&Fe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function R1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const i of r)if(i in a&&typeof a[i]=="function")return!0;return!1}(t,["next","error","complete"])}class ta extends hm{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new D1,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new D1(e),this._firestoreClient=void 0,await e}}}function JT(t,e){const n=typeof t=="object"?t:oN(),r=typeof t=="string"?t:"(default)",a=Lx(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const i=f4("firestore");i&&YT(a,...i)}return a}function uc(t){if(t._terminated)throw new De(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ZT(t),t._firestoreClient}function ZT(t){var e,n,r;const a=t._freezeSettings(),i=function(l,c,d,u){return new A3(l,c,d,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,QT(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new jO(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}function eS(t,e){os("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return BO(t,up.provider,{build:r=>new PO(r,n.cacheSizeBytes,void 0)}),Promise.resolve()}function BO(t,e,n){if((t=Bn(t,ta))._firestoreClient||t._terminated)throw new De(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new De(me.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},ZT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xo(pn.fromBase64String(e))}catch(n){throw new De(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xo(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new De(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new De(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new De(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==a[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=/^__.*__$/;class VO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new hi(e,this.data,this.fieldMask,n,this.fieldTransforms):new cc(e,this.data,n,this.fieldTransforms)}}class tS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new hi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function nS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}class py{constructor(e,n,r,a,i,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new py(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Fu({path:r,xu:!1});return a.Ou(e),a}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Fu({path:r,xu:!1});return a.vu(),a}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return fp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(nS(this.Cu)&&zO.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class UO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cm(e)}Qu(e,n,r,a=!1){return new py({Cu:e,methodName:n,qu:r,path:Jt.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fu(t){const e=t._freezeSettings(),n=cm(t._databaseId);return new UO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function my(t,e,n,r,a,i={}){const s=t.Qu(i.merge||i.mergeFields?2:0,e,n,a);gy("Data must be an object, but it was:",s,r);const l=iS(r,s);let c,d;if(i.merge)c=new wr(s.fieldMask),d=s.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const m=c0(e,h,n);if(!s.contains(m))throw new De(me.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);oS(u,m)||u.push(m)}c=new wr(u),d=s.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,d=s.fieldTransforms;return new VO(new er(l),c,d)}class gm extends fm{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gm}}function rS(t,e,n,r){const a=t.Qu(1,e,n);gy("Data must be an object, but it was:",a,r);const i=[],s=er.empty();No(r,(c,d)=>{const u=Ay(e,c,n);d=fn(d);const h=a.Nu(u);if(d instanceof gm)i.push(u);else{const m=Ou(d,h);m!=null&&(i.push(u),s.set(u,m))}});const l=new wr(i);return new tS(s,l,a.fieldTransforms)}function aS(t,e,n,r,a,i){const s=t.Qu(1,e,n),l=[c0(e,r,n)],c=[a];if(i.length%2!=0)throw new De(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(c0(e,i[m])),c.push(i[m+1]);const d=[],u=er.empty();for(let m=l.length-1;m>=0;--m)if(!oS(d,l[m])){const p=l[m];let A=c[m];A=fn(A);const g=s.Nu(p);if(A instanceof gm)d.push(p);else{const b=Ou(A,g);b!=null&&(d.push(p),u.set(p,b))}}const h=new wr(d);return new tS(u,h,s.fieldTransforms)}function GO(t,e,n,r=!1){return Ou(n,t.Qu(r?4:3,e))}function Ou(t,e){if(sS(t=fn(t)))return gy("Unsupported field value:",e,t),iS(t,e);if(t instanceof fm)return function(r,a){if(!nS(a.Cu))throw a.Bu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,a){const i=[];let s=0;for(const l of r){let c=Ou(l,a.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(t,e)}return function(r,a){if((r=fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return F3(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Zt.fromDate(r);return{timestampValue:Xl(a.serializer,i)}}if(r instanceof Zt){const i=new Zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xl(a.serializer,i)}}if(r instanceof pm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xo)return{bytesValue:nT(a.serializer,r._byteString)};if(r instanceof zn){const i=a.databaseId,s=r.firestore._databaseId;if(!s.isEqual(i))throw a.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Kx(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof mm)return function(s,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return $x(l.serializer,c)})}}}}}}(r,a);throw a.Bu(`Unsupported field value: ${um(r)}`)}(t,e)}function iS(t,e){const n={};return TN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):No(t,(r,a)=>{const i=Ou(a,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function sS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Zt||t instanceof pm||t instanceof xo||t instanceof zn||t instanceof fm||t instanceof mm)}function gy(t,e,n){if(!sS(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=um(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function c0(t,e,n){if((e=fn(e))instanceof hc)return e._internalPath;if(typeof e=="string")return Ay(t,e);throw fp("Field path arguments must be of type string or ",t,!1,void 0,n)}const WO=new RegExp("[~\\*/\\[\\]]");function Ay(t,e,n){if(e.search(WO)>=0)throw fp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hc(...e.split("."))._internalPath}catch{throw fp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fp(t,e,n,r,a){const i=r&&!r.isEmpty(),s=a!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||s)&&(c+=" (found",i&&(c+=` in field ${r}`),s&&(c+=` in document ${a}`),c+=")"),new De(me.INVALID_ARGUMENT,l+t+c)}function oS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n,r,a,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $O(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Am("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $O extends lS{data(){return super.data()}}function Am(t,e){return typeof e=="string"?Ay(t,e):e instanceof hc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new De(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xy{}class yy extends xy{}function Di(t,e,...n){let r=[];e instanceof xy&&r.push(e),r=r.concat(n),function(i){const s=i.filter(c=>c instanceof xm).length,l=i.filter(c=>c instanceof Bu).length;if(s>1||s>0&&l>0)throw new De(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)t=a._apply(t);return t}class Bu extends yy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Bu(e,n,r)}_apply(e){const n=this._parse(e);return uS(e._query,n),new fi(e.firestore,e.converter,YA(e._query,n))}_parse(e){const n=Fu(e.firestore);return function(i,s,l,c,d,u,h){let m;if(d.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new De(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){j1(h,u);const p=[];for(const A of h)p.push(P1(c,i,A));m={arrayValue:{values:p}}}else m=P1(c,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||j1(h,u),m=GO(l,s,h,u==="in"||u==="not-in");return wt.create(d,u,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Jo(t,e,n){const r=e,a=Am("where",t);return Bu._create(a,r,n)}class xm extends xy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new xm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:zt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,i){let s=a;const l=i.getFlattenedFilters();for(const c of l)uS(s,c),s=YA(s,c)}(e._query,n),new fi(e.firestore,e.converter,YA(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ym extends yy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ym(e,n)}_apply(e){const n=function(a,i,s){if(a.startAt!==null)throw new De(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new De(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new su(i,s)}(e._query,this._field,this._direction);return new fi(e.firestore,e.converter,function(a,i){const s=a.explicitOrderBy.concat([i]);return new lc(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function dS(t,e="asc"){const n=e,r=Am("orderBy",t);return ym._create(r,n)}function P1(t,e,n){if(typeof(n=fn(n))=="string"){if(n==="")throw new De(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BN(e)&&n.indexOf("/")!==-1)throw new De(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Lt.fromString(n));if(!je.isDocumentKey(r))throw new De(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return au(t,new je(r))}if(n instanceof zn)return au(t,n._key);throw new De(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${um(n)}.`)}function j1(t,e){if(!Array.isArray(t)||t.length===0)throw new De(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uS(t,e){const n=function(a,i){for(const s of a)for(const l of s.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new De(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new De(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class hS{convertValue(e,n="none"){switch(fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return No(e,(a,i)=>{r[a]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,a;const i=(a=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(s=>Kt(s.doubleValue));return new mm(i)}convertGeoPoint(e){return new pm(Kt(e.latitude),Kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Gx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=li(e);return new Zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Lt.fromString(e);Ve(hT(r));const a=new cs(r.get(1),r.get(3)),i=new je(r.popFirst(5));return a.isEqual(n)||or(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class by extends lS{constructor(e,n,r,a,i,s){super(e,n,r,a,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Am("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Nd extends by{data(e={}){return super.data(e)}}class wy{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new hl(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Nd(this._firestore,this._userDataWriter,r.key,r,new hl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new De(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(l=>{const c=new Nd(a._firestore,a._userDataWriter,l.doc.key,l.doc,new hl(a._snapshot.mutatedKeys.has(l.doc.key),a._snapshot.fromCache),a.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Nd(a._firestore,a._userDataWriter,l.doc.key,l.doc,new hl(a._snapshot.mutatedKeys.has(l.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,u=-1;return l.type!==0&&(d=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),u=s.indexOf(l.doc.key)),{type:qO(l.type),doc:c,oldIndex:d,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function qO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t){t=Bn(t,zn);const e=Bn(t.firestore,ta);return FO(uc(e),t._key).then(n=>fS(e,t,n))}class _y extends hS{constructor(e){super(),this.firestore=e}convertBytes(e){return new xo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,n)}}function Yc(t){t=Bn(t,fi);const e=Bn(t.firestore,ta),n=uc(e),r=new _y(e);return cS(t._query),OO(n,t._query).then(a=>new wy(e,r,t,a))}function pp(t,e,n){t=Bn(t,zn);const r=Bn(t.firestore,ta),a=vy(t.converter,e,n);return fc(r,[my(Fu(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Cn.none())])}function Fi(t,e,n,...r){t=Bn(t,zn);const a=Bn(t.firestore,ta),i=Fu(a);let s;return s=typeof(e=fn(e))=="string"||e instanceof hc?aS(i,"updateDoc",t._key,e,n,r):rS(i,"updateDoc",t._key,e),fc(a,[s.toMutation(t._key,Cn.exists(!0))])}function Jc(t){return fc(Bn(t.firestore,ta),[new Ru(t._key,Cn.none())])}function Ni(t,e){const n=Bn(t.firestore,ta),r=vn(t),a=vy(t.converter,e);return fc(n,[my(Fu(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Cn.exists(!1))]).then(()=>r)}function fl(t,...e){var n,r,a;t=fn(t);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||R1(e[s])||(i=e[s],s++);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(R1(e[s])){const h=e[s];e[s]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[s+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[s+2]=(a=h.complete)===null||a===void 0?void 0:a.bind(h)}let c,d,u;if(t instanceof zn)d=Bn(t.firestore,ta),u=ku(t._key.path),c={next:h=>{e[s]&&e[s](fS(d,t,h))},error:e[s+1],complete:e[s+2]};else{const h=Bn(t,fi);d=Bn(h.firestore,ta),u=h._query;const m=new _y(d);c={next:p=>{e[s]&&e[s](new wy(d,m,h,p))},error:e[s+1],complete:e[s+2]},cS(t._query)}return function(m,p,A,g){const b=new fy(g),x=new uy(p,b,A);return m.asyncQueue.enqueueAndForget(async()=>ly(await hp(m),x)),()=>{b.Za(),m.asyncQueue.enqueueAndForget(async()=>cy(await hp(m),x))}}(uc(d),u,l,c)}function fc(t,e){return function(r,a){const i=new ka;return r.asyncQueue.enqueueAndForget(async()=>NO(await LO(r),a,i)),i.promise}(uc(t),e)}function fS(t,e,n){const r=n.docs.get(e._key),a=new _y(t);return new by(t,a,e._key,r,new hl(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Fu(e)}set(e,n,r){this._verifyNotCommitted();const a=wg(e,this._firestore),i=vy(a.converter,n,r),s=my(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,r);return this._mutations.push(s.toMutation(a._key,Cn.none())),this}update(e,n,r,...a){this._verifyNotCommitted();const i=wg(e,this._firestore);let s;return s=typeof(n=fn(n))=="string"||n instanceof hc?aS(this._dataReader,"WriteBatch.update",i._key,n,r,a):rS(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(s.toMutation(i._key,Cn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=wg(e,this._firestore);return this._mutations=this._mutations.concat(new Ru(n._key,Cn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new De(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wg(t,e){if((t=fn(t)).firestore!==e)throw new De(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(t){return uc(t=Bn(t,ta)),new pS(t,e=>fc(t,e))}(function(e,n=!0){(function(a){oc=a})(sc),Ul(new uo("firestore",(r,{instanceIdentifier:a,options:i})=>{const s=r.getProvider("app").getImmediate(),l=new ta(new O5(r.getProvider("auth-internal")),new U5(r.getProvider("app-check-internal")),function(d,u){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new De(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cs(d.options.projectId,u)}(s,a),s);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),ts(Nw,"4.7.3",e),ts(Nw,"4.7.3","esm2017")})();const HO=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:hS,Bytes:xo,CollectionReference:ti,DocumentReference:zn,DocumentSnapshot:by,FieldPath:hc,FieldValue:fm,Firestore:ta,FirestoreError:De,GeoPoint:pm,Query:fi,QueryCompositeFilterConstraint:xm,QueryConstraint:yy,QueryDocumentSnapshot:Nd,QueryFieldFilterConstraint:Bu,QueryOrderByConstraint:ym,QuerySnapshot:wy,SnapshotMetadata:hl,Timestamp:Zt,VectorValue:mm,WriteBatch:pS,_AutoId:Ox,_ByteString:pn,_DatabaseId:cs,_DocumentKey:je,_EmptyAuthCredentialsProvider:AN,_FieldPath:Jt,_cast:Bn,_logWarn:os,_validateIsNotUsedTogether:KT,addDoc:Ni,collection:yn,connectFirestoreEmulator:YT,deleteDoc:Jc,doc:vn,enableIndexedDbPersistence:eS,ensureFirestoreConfigured:uc,executeWrite:fc,getDoc:d0,getDocs:Yc,getFirestore:JT,onSnapshot:fl,orderBy:dS,query:Di,setDoc:pp,updateDoc:Fi,where:Jo,writeBatch:Zc},Symbol.toStringTag,{value:"Module"}));var QO="firebase",XO="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ts(QO,XO,"app");function Cy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function So(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{d(r.next(u))}catch(h){s(h)}}function c(u){try{d(r.throw(u))}catch(h){s(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})}function mS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KO=mS,gS=new Tu("auth","Firebase",mS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp=new jx("@firebase/auth");function YO(t,...e){mp.logLevel<=bt.WARN&&mp.warn(`Auth (${sc}): ${t}`,...e)}function rf(t,...e){mp.logLevel<=bt.ERROR&&mp.error(`Auth (${sc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(t,...e){throw Ny(t,...e)}function fa(t,...e){return Ny(t,...e)}function Ey(t,e,n){const r=Object.assign(Object.assign({},KO()),{[e]:n});return new Tu("auth","Firebase",r).create(e,{appName:t.name})}function ni(t){return Ey(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JO(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&na(t,"argument-error"),Ey(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ny(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gS.create(t,...e)}function Ze(t,e,...n){if(!t)throw Ny(e,...n)}function Ka(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rf(e),new Error(e)}function ci(t,e){t||Ka(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ZO(){return M1()==="http:"||M1()==="https:"}function M1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZO()||y4()||"connection"in navigator)?navigator.onLine:!0}function t6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ci(n>e,"Short delay should be less than long delay!"),this.isMobile=g4()||v4()}get(){return e6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(t,e){ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ka("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ka("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ka("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6=new zu(3e4,6e4);function ys(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function vs(t,e,n,r,a={}){return xS(t,a,async()=>{let i={},s={};r&&(e==="GET"?s=r:i={body:JSON.stringify(r)});const l=Su(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},i);return x4()||(d.referrerPolicy="no-referrer"),AS.fetch()(yS(t,t.config.apiHost,n,l),d)})}async function xS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},n6),e);try{const a=new i6(t),i=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Dh(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const l=i.ok?s.errorMessage:s.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dh(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Dh(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Dh(t,"user-disabled",s);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Ey(t,u,d);na(t,u)}}catch(a){if(a instanceof ui)throw a;na(t,"network-request-failed",{message:String(a)})}}async function Vu(t,e,n,r,a={}){const i=await vs(t,e,n,r,a);return"mfaPendingCredential"in i&&na(t,"multi-factor-auth-required",{_serverResponse:i}),i}function yS(t,e,n,r){const a=`${e}${n}?${r}`;return t.config.emulator?Ty(t.config,a):`${t.config.apiScheme}://${a}`}function a6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class i6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fa(this.auth,"network-request-failed")),r6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=fa(t,e,r);return a.customData._tokenResponse=n,a}function L1(t){return t!==void 0&&t.enterprise!==void 0}class s6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return a6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function o6(t,e){return vs(t,"GET","/v2/recaptchaConfig",ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(t,e){return vs(t,"POST","/v1/accounts:delete",e)}async function vS(t,e){return vs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function c6(t,e=!1){const n=fn(t),r=await n.getIdToken(e),a=Sy(r);Ze(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const i=typeof a.firebase=="object"?a.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:a,token:r,authTime:Td(_g(a.auth_time)),issuedAtTime:Td(_g(a.iat)),expirationTime:Td(_g(a.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function _g(t){return Number(t)*1e3}function Sy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return rf("JWT malformed, contained fewer than 3 sections"),null;try{const a=JE(n);return a?JSON.parse(a):(rf("Failed to decode base64 JWT payload"),null)}catch(a){return rf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function F1(t){const e=Sy(t);return Ze(e,"internal-error"),Ze(typeof e.exp<"u","internal-error"),Ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ui&&d6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function d6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Td(this.lastLoginAt),this.creationTime=Td(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gp(t){var e;const n=t.auth,r=await t.getIdToken(),a=await du(t,vS(n,{idToken:r}));Ze(a==null?void 0:a.users.length,n,"internal-error");const i=a.users[0];t._notifyReloadListener(i);const s=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?bS(i.providerUserInfo):[],l=f6(t.providerData,s),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),u=c?d:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new h0(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function h6(t){const e=fn(t);await gp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function f6(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function bS(t){return t.map(e=>{var{providerId:n}=e,r=Cy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p6(t,e){const n=await xS(t,{},async()=>{const r=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:i}=t.config,s=yS(t,a,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",AS.fetch()(s,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function m6(t,e){return vs(t,"POST","/v2/accounts:revokeToken",ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ze(e.idToken,"internal-error"),Ze(typeof e.idToken<"u","internal-error"),Ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):F1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ze(e.length!==0,"internal-error");const n=F1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:i}=await p6(e,n);this.updateTokensAndExpiration(r,a,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:i}=n,s=new Il;return r&&(Ze(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),a&&(Ze(typeof a=="string","internal-error",{appName:e}),s.accessToken=a),i&&(Ze(typeof i=="number","internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Il,this.toJSON())}_performRefresh(){return Ka("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t,e){Ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ya{constructor(e){var{uid:n,auth:r,stsTokenManager:a}=e,i=Cy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new u6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new h0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await du(this,this.stsTokenManager.getToken(this.auth,e));return Ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return c6(this,e)}reload(){return h6(this)}_assign(e){this!==e&&(Ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ya(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await gp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ca(this.auth.app))return Promise.reject(ni(this.auth));const e=await this.getIdToken();return await du(this,l6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,a,i,s,l,c,d,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(a=n.email)!==null&&a!==void 0?a:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,A=(s=n.photoURL)!==null&&s!==void 0?s:void 0,g=(l=n.tenantId)!==null&&l!==void 0?l:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,x=(d=n.createdAt)!==null&&d!==void 0?d:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:S,isAnonymous:k,providerData:P,stsTokenManager:E}=n;Ze(w&&E,e,"internal-error");const N=Il.fromJSON(this.name,E);Ze(typeof w=="string",e,"internal-error"),Ci(h,e.name),Ci(m,e.name),Ze(typeof S=="boolean",e,"internal-error"),Ze(typeof k=="boolean",e,"internal-error"),Ci(p,e.name),Ci(A,e.name),Ci(g,e.name),Ci(b,e.name),Ci(x,e.name),Ci(y,e.name);const C=new Ya({uid:w,auth:e,email:m,emailVerified:S,displayName:h,isAnonymous:k,photoURL:A,phoneNumber:p,tenantId:g,stsTokenManager:N,createdAt:x,lastLoginAt:y});return P&&Array.isArray(P)&&(C.providerData=P.map(R=>Object.assign({},R))),b&&(C._redirectEventId=b),C}static async _fromIdTokenResponse(e,n,r=!1){const a=new Il;a.updateFromServerResponse(n);const i=new Ya({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await gp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Ze(a.localId!==void 0,"internal-error");const i=a.providerUserInfo!==void 0?bS(a.providerUserInfo):[],s=!(a.email&&a.passwordHash)&&!(i!=null&&i.length),l=new Il;l.updateFromIdToken(r);const c=new Ya({uid:a.localId,auth:e,stsTokenManager:l,isAnonymous:s}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new h0(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=new Map;function Ja(t){ci(t instanceof Function,"Expected a class definition");let e=O1.get(t);return e?(ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,O1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wS.type="NONE";const B1=wS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t,e,n){return`firebase:${t}:${e}:${n}`}class kl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:i}=this.auth;this.fullUserKey=af(this.userKey,a.apiKey,i),this.fullPersistenceKey=af("persistence",a.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ya._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new kl(Ja(B1),e,r);const a=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=a[0]||Ja(B1);const s=af(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const u=await d._get(s);if(u){const h=Ya._fromJSON(e,u);d!==i&&(l=h),i=d;break}}catch{}const c=a.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new kl(i,e,r):(i=c[0],l&&await i._set(s,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(s)}catch{}})),new kl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_S(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SS(e))return"Blackberry";if(IS(e))return"Webos";if(CS(e))return"Safari";if((e.includes("chrome/")||ES(e))&&!e.includes("edge/"))return"Chrome";if(TS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _S(t=En()){return/firefox\//i.test(t)}function CS(t=En()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ES(t=En()){return/crios\//i.test(t)}function NS(t=En()){return/iemobile/i.test(t)}function TS(t=En()){return/android/i.test(t)}function SS(t=En()){return/blackberry/i.test(t)}function IS(t=En()){return/webos/i.test(t)}function Iy(t=En()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function g6(t=En()){var e;return Iy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function A6(){return b4()&&document.documentMode===10}function kS(t=En()){return Iy(t)||TS(t)||IS(t)||SS(t)||/windows phone/i.test(t)||NS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(t,e=[]){let n;switch(t){case"Browser":n=z1(En());break;case"Worker":n=`${z1(En())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((s,l)=>{try{const c=e(i);s(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y6(t,e={}){return vs(t,"GET","/v2/passwordPolicy",ys(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=6;class b6{constructor(e){var n,r,a,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:v6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,a,i,s,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(a=c.containsLowercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V1(this),this.idTokenSubscription=new V1(this),this.beforeStateQueue=new x6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ja(n)),this._initializationPromise=this.queue(async()=>{var r,a;if(!this._deleted&&(this.persistenceManager=await kl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vS(this,{idToken:e}),r=await Ya._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ca(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=a==null?void 0:a._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&(c!=null&&c.user)&&(a=c.user,i=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(a)}catch(s){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=t6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ca(this.app))return Promise.reject(ni(this));const n=e?fn(e):null;return n&&Ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ca(this.app)?Promise.reject(ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ca(this.app)?Promise.reject(ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ja(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await y6(this),n=new b6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Tu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await m6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ja(e)||this._popupRedirectResolver;Ze(n,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[Ja(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ze(l,this,"internal-error"),l.then(()=>{s||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,a);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&YO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function bs(t){return fn(t)}class V1{constructor(e){this.auth=e,this.observer=null,this.addObserver=T4(n=>this.observer=n)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _6(t){vm=t}function RS(t){return vm.loadJS(t)}function C6(){return vm.recaptchaEnterpriseScript}function E6(){return vm.gapiScript}function N6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const T6="recaptcha-enterprise",S6="NO_RECAPTCHA";class I6{constructor(e){this.type=T6,this.auth=bs(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(s,l)=>{o6(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new s6(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,s(d.siteKey)}}).catch(c=>{l(c)})})}function a(i,s,l){const c=window.grecaptcha;L1(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{s(d)}).catch(()=>{s(S6)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,s)=>{r(this.auth).then(l=>{if(!n&&L1(window.grecaptcha))a(l,i,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=C6();c.length!==0&&(c+=l),RS(c).then(()=>{a(l,i,s)}).catch(d=>{s(d)})}}).catch(l=>{s(l)})})}}async function U1(t,e,n,r=!1){const a=new I6(t);let i;try{i=await a.verify(n)}catch{i=await a.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:i}):Object.assign(s,{captchaResponse:i}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function f0(t,e,n,r){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await U1(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await U1(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(t,e){const n=Lx(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),i=n.getOptions();if(ep(i,e??{}))return a;na(a,"already-initialized")}return n.initialize({options:e})}function D6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ja);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function R6(t,e,n){const r=bs(t);Ze(r._canInitEmulator,r,"emulator-config-failed"),Ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,i=PS(e),{host:s,port:l}=P6(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})}),j6()}function PS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function P6(t){const e=PS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const i=a[1];return{host:i,port:G1(r.substr(i.length+1))}}else{const[i,s]=r.split(":");return{host:i,port:G1(s)}}}function G1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function j6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ka("not implemented")}_getIdTokenResponse(e){return Ka("not implemented")}_linkToIdToken(e,n){return Ka("not implemented")}_getReauthenticationResolver(e){return Ka("not implemented")}}async function M6(t,e){return vs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L6(t,e){return Vu(t,"POST","/v1/accounts:signInWithPassword",ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F6(t,e){return Vu(t,"POST","/v1/accounts:signInWithEmailLink",ys(t,e))}async function O6(t,e){return Vu(t,"POST","/v1/accounts:signInWithEmailLink",ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends ky{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new uu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new uu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return f0(e,n,"signInWithPassword",L6);case"emailLink":return F6(e,{email:this._email,oobCode:this._password});default:na(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return f0(e,r,"signUpPassword",M6);case"emailLink":return O6(e,{idToken:n,email:this._email,oobCode:this._password});default:na(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(t,e){return Vu(t,"POST","/v1/accounts:signInWithIdp",ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6="http://localhost";class yo extends ky{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):na("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=n,i=Cy(n,["providerId","signInMethod"]);if(!r||!a)return null;const s=new yo(r,a);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Dl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Dl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Dl(e,n)}buildRequest(){const e={requestUri:B6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function V6(t){const e=$c(qc(t)).link,n=e?$c(qc(e)).deep_link_id:null,r=$c(qc(t)).deep_link_id;return(r?$c(qc(r)).link:null)||r||n||e||t}class Dy{constructor(e){var n,r,a,i,s,l;const c=$c(qc(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,h=z6((a=c.mode)!==null&&a!==void 0?a:null);Ze(d&&u&&h,"argument-error"),this.apiKey=d,this.operation=h,this.code=u,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=V6(e);try{return new Dy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(){this.providerId=pc.PROVIDER_ID}static credential(e,n){return uu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Dy.parseLink(n);return Ze(r,"argument-error"),uu._fromEmailAndCode(e,r.code,r.tenantId)}}pc.PROVIDER_ID="password";pc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends Ry{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Uu{constructor(){super("facebook.com")}static credential(e){return yo._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends Uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return yo._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wa.credentialFromTaggedObject(e)}static credentialFromError(e){return Wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wa.credential(n,r)}catch{return null}}}Wa.GOOGLE_SIGN_IN_METHOD="google.com";Wa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Uu{constructor(){super("github.com")}static credential(e){return yo._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Uu{constructor(){super("twitter.com")}static credential(e,n){return yo._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return zi.credential(n,r)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U6(t,e){return Vu(t,"POST","/v1/accounts:signUp",ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const i=await Ya._fromIdTokenResponse(e,r,a),s=W1(r);return new vo({user:i,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=W1(r);return new vo({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function W1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap extends ui{constructor(e,n,r,a){var i;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Ap.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Ap(e,n,r,a)}}function jS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ap._fromErrorAndOperation(t,i,e,r):i})}async function G6(t,e,n=!1){const r=await du(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W6(t,e,n=!1){const{auth:r}=t;if(ca(r.app))return Promise.reject(ni(r));const a="reauthenticate";try{const i=await du(t,jS(r,a,e,t),n);Ze(i.idToken,r,"internal-error");const s=Sy(i.idToken);Ze(s,r,"internal-error");const{sub:l}=s;return Ze(t.uid===l,r,"user-mismatch"),vo._forOperation(t,a,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&na(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MS(t,e,n=!1){if(ca(t.app))return Promise.reject(ni(t));const r="signIn",a=await jS(t,r,e),i=await vo._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(i.user),i}async function $6(t,e){return MS(bs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LS(t){const e=bs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function q6(t,e,n){if(ca(t.app))return Promise.reject(ni(t));const r=bs(t),s=await f0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",U6).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&LS(t),c}),l=await vo._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(l.user),l}function H6(t,e,n){return ca(t.app)?Promise.reject(ni(t)):$6(fn(t),pc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&LS(t),r})}function Q6(t,e,n,r){return fn(t).onIdTokenChanged(e,n,r)}function X6(t,e,n){return fn(t).beforeAuthStateChanged(e,n)}function K6(t,e,n,r){return fn(t).onAuthStateChanged(e,n,r)}function Y6(t){return fn(t).signOut()}const xp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xp,"1"),this.storage.removeItem(xp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=1e3,Z6=10;class OS extends FS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},i=this.storage.getItem(r);A6()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Z6):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},J6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}OS.type="LOCAL";const eB=OS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS extends FS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BS.type="SESSION";const zS=BS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new bm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:i}=n.data,s=this.handlersMap[a];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const l=Array.from(s).map(async d=>d(n.origin,i)),c=await tB(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let i,s;return new Promise((l,c)=>{const d=Py("",20);a.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:a,onMessage(h){const m=h;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(u),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(s),a.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[a.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(){return window}function rB(t){Da().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(){return typeof Da().WorkerGlobalScope<"u"&&typeof Da().importScripts=="function"}async function aB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function sB(){return VS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="firebaseLocalStorageDb",oB=1,yp="firebaseLocalStorage",GS="fbase_key";class Gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wm(t,e){return t.transaction([yp],e?"readwrite":"readonly").objectStore(yp)}function lB(){const t=indexedDB.deleteDatabase(US);return new Gu(t).toPromise()}function p0(){const t=indexedDB.open(US,oB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yp,{keyPath:GS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yp)?e(r):(r.close(),await lB(),e(await p0()))})})}async function $1(t,e,n){const r=wm(t,!0).put({[GS]:e,value:n});return new Gu(r).toPromise()}async function cB(t,e){const n=wm(t,!1).get(e),r=await new Gu(n).toPromise();return r===void 0?null:r.value}function q1(t,e){const n=wm(t,!0).delete(e);return new Gu(n).toPromise()}const dB=800,uB=3;class WS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await p0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bm._getInstance(sB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await aB(),!this.activeServiceWorker)return;this.sender=new nB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await p0();return await $1(e,xp,"1"),await q1(e,xp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>cB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>q1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const i=wm(a,!1).getAll();return new Gu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:i}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(i)&&(this.notifyListeners(a,i),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WS.type="LOCAL";const hB=WS;new zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(t,e){return e?Ja(e):(Ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy extends ky{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Dl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fB(t){return MS(t.auth,new jy(t),t.bypassAuthState)}function pB(t){const{auth:e,user:n}=t;return Ze(n,e,"internal-error"),W6(n,new jy(t),t.bypassAuthState)}async function mB(t){const{auth:e,user:n}=t;return Ze(n,e,"internal-error"),G6(n,new jy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n,r,a,i=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:i,error:s,type:l}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fB;case"linkViaPopup":case"linkViaRedirect":return mB;case"reauthViaPopup":case"reauthViaRedirect":return pB;default:na(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=new zu(2e3,1e4);async function AB(t,e,n){if(ca(t.app))return Promise.reject(fa(t,"operation-not-supported-in-this-environment"));const r=bs(t);JO(t,e,Ry);const a=$S(r,n);return new qs(r,"signInViaPopup",e,a).executeNotNull()}class qs extends qS{constructor(e,n,r,a,i){super(e,n,a,i),this.provider=r,this.authWindow=null,this.pollId=null,qs.currentPopupAction&&qs.currentPopupAction.cancel(),qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ze(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=Py();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gB.get())};e()}}qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB="pendingRedirect",sf=new Map;class yB extends qS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=sf.get(this.auth._key());if(!e){try{const r=await vB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}sf.set(this.auth._key(),e)}return this.bypassAuthState||sf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vB(t,e){const n=_B(e),r=wB(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function bB(t,e){sf.set(t._key(),e)}function wB(t){return Ja(t._redirectPersistence)}function _B(t){return af(xB,t.config.apiKey,t.name)}async function CB(t,e,n=!1){if(ca(t.app))return Promise.reject(ni(t));const r=bs(t),a=$S(r,e),s=await new yB(r,a,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB=10*60*1e3;class NB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!HS(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(fa(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EB&&this.cachedEventUids.clear(),this.cachedEventUids.has(H1(e))}saveEventToCache(e){this.cachedEventUids.add(H1(e)),this.lastProcessedEventTime=Date.now()}}function H1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SB(t,e={}){return vs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kB=/^https?/;async function DB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await SB(t);for(const n of e)try{if(RB(n))return}catch{}na(t,"unauthorized-domain")}function RB(t){const e=u0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!kB.test(n))return!1;if(IB.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PB=new zu(3e4,6e4);function Q1(){const t=Da().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jB(t){return new Promise((e,n)=>{var r,a,i;function s(){Q1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Q1(),n(fa(t,"network-request-failed"))},timeout:PB.get()})}if(!((a=(r=Da().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((i=Da().gapi)===null||i===void 0)&&i.load)s();else{const l=N6("iframefcb");return Da()[l]=()=>{gapi.load?s():n(fa(t,"network-request-failed"))},RS(`${E6()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw of=null,e})}let of=null;function MB(t){return of=of||jB(t),of}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LB=new zu(5e3,15e3),FB="__/auth/iframe",OB="emulator/auth/iframe",BB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VB(t){const e=t.config;Ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ty(e,OB):`https://${t.config.authDomain}/${FB}`,r={apiKey:e.apiKey,appName:t.name,v:sc},a=zB.get(t.config.apiHost);a&&(r.eid=a);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Su(r).slice(1)}`}async function UB(t){const e=await MB(t),n=Da().gapi;return Ze(n,t,"internal-error"),e.open({where:document.body,url:VB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BB,dontclear:!0},r=>new Promise(async(a,i)=>{await r.restyle({setHideOnLeave:!1});const s=fa(t,"network-request-failed"),l=Da().setTimeout(()=>{i(s)},LB.get());function c(){Da().clearTimeout(l),a(r)}r.ping(c).then(c,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WB=500,$B=600,qB="_blank",HB="http://localhost";class X1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QB(t,e,n,r=WB,a=$B){const i=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},GB),{width:r.toString(),height:a.toString(),top:i,left:s}),d=En().toLowerCase();n&&(l=ES(d)?qB:n),_S(d)&&(e=e||HB,c.scrollbars="yes");const u=Object.entries(c).reduce((m,[p,A])=>`${m}${p}=${A},`,"");if(g6(d)&&l!=="_self")return XB(e||"",l),new X1(null);const h=window.open(e||"",l,u);Ze(h,t,"popup-blocked");try{h.focus()}catch{}return new X1(h)}function XB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB="__/auth/handler",YB="emulator/auth/handler",JB=encodeURIComponent("fac");async function K1(t,e,n,r,a,i){Ze(t.config.authDomain,t,"auth-domain-config-required"),Ze(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:sc,eventId:a};if(e instanceof Ry){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",N4(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))s[u]=h}if(e instanceof Uu){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const c=await t._getAppCheckToken(),d=c?`#${JB}=${encodeURIComponent(c)}`:"";return`${ZB(t)}?${Su(l).slice(1)}${d}`}function ZB({config:t}){return t.emulator?Ty(t,YB):`https://${t.authDomain}/${KB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="webStorageSupport";class ez{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zS,this._completeRedirectFn=CB,this._overrideRedirectResult=bB}async _openPopup(e,n,r,a){var i;ci((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const s=await K1(e,n,r,u0(),a);return QB(e,s,Py())}async _openRedirect(e,n,r,a){await this._originValidation(e);const i=await K1(e,n,r,u0(),a);return rB(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:i}=this.eventManagers[n];return a?Promise.resolve(a):(ci(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await UB(e),r=new NB(e);return n.register("authEvent",a=>(Ze(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cg,{type:Cg},a=>{var i;const s=(i=a==null?void 0:a[0])===null||i===void 0?void 0:i[Cg];s!==void 0&&n(!!s),na(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kS()||CS()||Iy()}}const tz=ez;var Y1="@firebase/auth",J1="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function az(t){Ul(new uo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=r.options;Ze(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DS(t)},d=new w6(r,a,i,c);return D6(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ul(new uo("auth-internal",e=>{const n=bs(e.getProvider("auth").getImmediate());return(r=>new nz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ts(Y1,J1,rz(t)),ts(Y1,J1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz=5*60,sz=tN("authIdTokenMaxAge")||iz;let Z1=null;const oz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sz)return;const a=n==null?void 0:n.token;Z1!==a&&(Z1=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function lz(t=oN()){const e=Lx(t,"auth");if(e.isInitialized())return e.getImmediate();const n=k6(t,{popupRedirectResolver:tz,persistence:[hB,eB,zS]}),r=tN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const s=oz(i.toString());X6(n,s,()=>s(n.currentUser)),Q6(n,l=>s(l))}}const a=ZE("auth");return a&&R6(n,`http://${a}`),n}function cz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}_6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const i=fa("internal-error");i.customData=a,n(i)},r.type="text/javascript",r.charset="UTF-8",cz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});az("Browser");const dz={apiKey:"AIzaSyDbqP5rpbIHRRghF3GgzgWXaKz3Scjo2fs",authDomain:"project-9d27e.firebaseapp.com",projectId:"project-9d27e",storageBucket:"project-9d27e.firebasestorage.app",messagingSenderId:"597870661336",appId:"1:597870661336:web:8b01fca47052e0d0a491ad"},QS=sN(dz),st=JT(QS),Oc=lz(QS);eS(st).catch(t=>{console.warn("Firestore persistence error:",t.code)});const Ns="projects",Oa="tasks",Uo="resources",Ts="clients",ya=t=>{if(!t||typeof t!="object")return t;const e={...t};return Object.keys(e).forEach(n=>{e[n]===void 0&&delete e[n]}),e},vp=t=>{const e=new Date(t);for(;;){const n=e.getDay();if(!(n===6||n===0)&&!Wp(e))break;e.setDate(e.getDate()+1)}return e},uz=(t,e)=>{const n=Math.ceil(e/864e5);let r=new Date(t),a=0;for(;a<n;){r.setDate(r.getDate()+1);const i=r.getDay();!(i===0||i===6)&&!Wp(r)&&a++}return n===0&&e>0,r},ut={subscribeClients:(t,e,n)=>{let r=yn(st,Ts);return n!=="master"&&e&&(r=Di(yn(st,Ts),Jo("ownerId","==",e))),fl(r,a=>{const i=a.docs.map(s=>{var c;const l=s.data();return{...l,id:s.id,createdAt:(c=l.createdAt)!=null&&c.toDate?l.createdAt.toDate():l.createdAt?new Date(l.createdAt):void 0}});t(i)})},createClient:async t=>Ni(yn(st,Ts),ya(t)),updateClient:async(t,e)=>{const n=vn(st,Ts,t);return Fi(n,ya(e))},deleteClient:async t=>Jc(vn(st,Ts,t)),subscribeProjects:(t,e,n)=>{let r=yn(st,Ns);return n!=="master"&&e&&(r=Di(yn(st,Ns),Jo("ownerId","==",e))),fl(r,a=>{const i=a.docs.map(s=>{var c,d;const l=s.data();return{...l,id:s.id,startDate:(c=l.startDate)!=null&&c.toDate?l.startDate.toDate():l.startDate?new Date(l.startDate):new Date,createdAt:(d=l.createdAt)!=null&&d.toDate?l.createdAt.toDate():l.createdAt?new Date(l.createdAt):new Date}});t(i)})},createProject:async t=>Ni(yn(st,Ns),ya(t)),updateProject:async(t,e)=>{const n=vn(st,Ns,t);return Fi(n,ya(e))},deleteProject:async t=>Jc(vn(st,Ns,t)),subscribeTasks:(t,e)=>{const n=Di(yn(st,Oa),Jo("projectId","==",t));return fl(n,r=>{const a=r.docs.map(i=>{var l,c;const s=i.data();return{id:i.id,...s,start:(l=s.start)!=null&&l.toDate?s.start.toDate():new Date(s.start),end:(c=s.end)!=null&&c.toDate?s.end.toDate():new Date(s.end),realStart:s.realStart?s.realStart.toDate?s.realStart.toDate():new Date(s.realStart):void 0,realEnd:s.realEnd?s.realEnd.toDate?s.realEnd.toDate():new Date(s.realEnd):void 0}});a.sort((i,s)=>(i.order??0)-(s.order??0)),e(a)})},addTask:async t=>{const e=ya(t);if(e.id){const n=vn(st,Oa,e.id);return await pp(n,e),n}else return Ni(yn(st,Oa),e)},updateTask:async(t,e)=>{const n=vn(st,Oa,t);return Fi(n,ya(e))},deleteTask:async t=>Jc(vn(st,Oa,t)),deleteAllTasksForProject:async t=>{const e=Di(yn(st,Oa),Jo("projectId","==",t)),n=await Yc(e),r=Zc(st);return n.docs.forEach(a=>{r.delete(a.ref)}),r.commit()},batchUpdateTasks:async t=>{const e=Zc(st);return t.forEach(({id:n,data:r})=>{const a=vn(st,Oa,n);e.update(a,ya(r))}),e.commit()},replaceProjectTasks:async(t,e)=>{const n=Di(yn(st,Oa),Jo("projectId","==",t)),r=await Yc(n),a=[];for(let c=0;c<r.docs.length;c+=400){const d=Zc(st);r.docs.slice(c,c+400).forEach(u=>d.delete(u.ref)),a.push(d.commit())}await Promise.all(a);const i=[];for(let c=0;c<e.length;c+=400)i.push(e.slice(c,c+400));let s=null,l=null;for(const c of i){const d=Zc(st);c.forEach(u=>{const h=vn(st,Oa,u.id),m={...u,projectId:t};if(d.set(h,ya(m)),u.type!=="project"&&u.start&&u.end){const p=new Date(u.start),A=new Date(u.end);(!s||p<s)&&(s=p),(!l||A>l)&&(l=A)}}),await d.commit()}if(s&&l){const c=vn(st,Ns,t);await Fi(c,{startDate:s,endDate:l})}},recalculateProjectSchedule:async(t,e)=>{const n=new Map;e.forEach(i=>n.set(i.id,{...i}));let r=!1;const a=[];for(let i=0;i<e.length+2;i++){let s=!1;for(const l of e){const c=n.get(l.id);if(!c.dependencies||c.dependencies.length===0)continue;let d=0;if(c.dependencies.forEach(u=>{const h=n.get(u);if(h&&h.end){const m=new Date(h.end).getTime();m>d&&(d=m)}}),d>0){const u=new Date(c.start).getTime(),h=new Date(c.end).getTime(),m=new Date(d),p=vp(m),A=new Date(u),g=A.getDay()===0||A.getDay()===6;if(u<p.getTime()||g){const b=u<p.getTime()?p:vp(A),x=h-u,y=uz(b,x);c.start=b,c.end=y,n.set(c.id,c),s=!0,r=!0}}}if(!s)break}return r&&(e.forEach(i=>{const s=n.get(i.id);(new Date(s.start).getTime()!==new Date(i.start).getTime()||new Date(s.end).getTime()!==new Date(i.end).getTime())&&a.push({id:s.id,data:{start:s.start,end:s.end}})}),a.length>0)?(console.log(`Rescheduling (WorkDays): Updating ${a.length} tasks.`),await ut.batchUpdateTasks(a),a):[]},subscribeResources:t=>fl(yn(st,Uo),e=>{const n=e.docs.map(r=>({id:r.id,...r.data()}));t(n)}),addResource:async t=>Ni(yn(st,Uo),ya(t)),updateResource:async(t,e)=>{const n=vn(st,Uo,t);return Fi(n,ya(e))},deleteResource:async t=>Jc(vn(st,Uo,t)),seedInitialData:async()=>{if(!(await Yc(yn(st,Uo))).empty)return;const e=[{name:"Ana Silva",role:"Product Owner",hourlyRate:150,avatarUrl:""},{name:"Carlos Dev",role:"FullStack Dev",hourlyRate:100,avatarUrl:""},{name:"Marina UI",role:"Designer",hourlyRate:110,avatarUrl:""}],n=[];for(const a of e){const i=await Ni(yn(st,Uo),a);n.push({...a,id:i.id})}const r=await Ni(yn(st,Ns),{name:"Plataforma SaaS v1",description:"Desenvolvimento do MVP",startDate:new Date,createdAt:new Date});r.id,new Date(Date.now()+864e5*2),r.id,new Date(Date.now()+864e5*5),n[2].id},addKnowledgeEntry:async(t,e)=>{const n=yn(st,Ts,t,"knowledgeBase");return Ni(n,{content:e,createdAt:new Date})},getKnowledgeBase:async t=>{const e=yn(st,Ts,t,"knowledgeBase"),n=Di(e);return(await Yc(n)).docs.map(a=>a.data().content)}},hz=({resources:t,isConnected:e})=>{const[n,r]=L.useState({name:"",role:"",hourlyRate:0}),[a,i]=L.useState(!1),[s,l]=L.useState(null),[c,d]=L.useState({name:"",role:"",hourlyRate:0}),u=g=>{l(g.id),d({name:g.name,role:g.role,hourlyRate:g.hourlyRate})},h=()=>{l(null),d({name:"",role:"",hourlyRate:0})},m=async()=>{if(s)try{await ut.updateResource(s,c),l(null)}catch(g){console.error("Error updating resource:",g)}},p=async g=>{if(g.preventDefault(),!e){alert("Conecte-se ao Firebase para gerenciar membros da equipe.");return}if(n.name)try{await ut.addResource(n),r({name:"",role:"",hourlyRate:0}),i(!1)}catch(b){console.error("Error adding resource:",b)}},A=async g=>{e&&confirm("Excluir este membro da equipe? As tarefas atribudas a ele permanecero, mas perdero o vnculo de atribuio.")&&await ut.deleteResource(g)};return o.jsxs("div",{className:"w-full max-w-5xl mx-auto animate-in fade-in duration-300",children:[o.jsx("div",{className:"flex items-center justify-between mb-8",children:o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[o.jsx(co,{className:"text-indigo-600",size:28}),"Gesto da Equipe"]}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Adicione ou remova membros do projeto e gerencie seus custos."})]})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsxs("div",{className:"grid grid-cols-12 gap-4 p-4 bg-gray-50 border-b border-gray-200 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:[o.jsx("div",{className:"col-span-5 pl-2",children:"Membro"}),o.jsx("div",{className:"col-span-4",children:"Funo"}),o.jsx("div",{className:"col-span-2",children:"Taxa/Hora"}),o.jsx("div",{className:"col-span-1 text-right",children:"Aes"})]}),o.jsxs("div",{className:"divide-y divide-gray-100",children:[t.map(g=>o.jsx("div",{className:"grid grid-cols-12 gap-4 p-4 items-center hover:bg-gray-50 transition-colors group",children:s===g.id?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center shrink-0",children:o.jsx(Hf,{size:20,className:"text-gray-400"})}),o.jsx("input",{autoFocus:!0,className:"w-full px-2 py-1 border border-indigo-300 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500",value:c.name,onChange:b=>d({...c,name:b.target.value})})]}),o.jsx("div",{className:"col-span-4",children:o.jsx("input",{className:"w-full px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm",value:c.role,onChange:b=>d({...c,role:b.target.value}),placeholder:"Funo"})}),o.jsxs("div",{className:"col-span-2 relative",children:[o.jsx(ha,{size:14,className:"absolute left-2 top-2 text-gray-400"}),o.jsx("input",{type:"number",className:"w-full pl-6 pr-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm",value:c.hourlyRate,onChange:b=>d({...c,hourlyRate:parseFloat(b.target.value)})})]}),o.jsxs("div",{className:"col-span-1 text-right flex items-center justify-end gap-1",children:[o.jsx("button",{onClick:m,className:"p-1 text-green-600 hover:bg-green-50 rounded",children:o.jsx(_u,{size:18})}),o.jsx("button",{onClick:h,className:"p-1 text-red-500 hover:bg-red-50 rounded",children:o.jsx(yr,{size:18})})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold shrink-0",children:g.name.charAt(0).toUpperCase()}),o.jsx("span",{className:"font-medium text-gray-900",children:g.name})]}),o.jsxs("div",{className:"col-span-4 text-gray-600 flex items-center gap-2",children:[o.jsx(Xb,{size:14,className:"text-gray-400"}),g.role]}),o.jsxs("div",{className:"col-span-2 text-green-600 font-medium flex items-center gap-1",children:[o.jsx(ha,{size:14}),g.hourlyRate,"/h"]}),o.jsxs("div",{className:"col-span-1 text-right flex items-center justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:()=>u(g),className:"text-gray-400 hover:text-indigo-600 p-2 transition-colors",title:"Editar",disabled:!e,children:o.jsx(Qd,{size:18})}),o.jsx("button",{onClick:()=>A(g.id),className:"text-gray-400 hover:text-red-500 p-2 transition-colors",title:"Remover",disabled:!e,children:o.jsx(ur,{size:18})})]})]})},g.id)),t.length===0&&o.jsx("div",{className:"text-center py-12 text-gray-400",children:"Nenhum membro da equipe encontrado."})]})]}),o.jsx("div",{className:"mt-8",children:a?o.jsxs("form",{onSubmit:p,className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm animate-in slide-in-from-top-2",children:[o.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[o.jsx(Rn,{className:"text-indigo-600",size:20}),"Adicionar Novo Membro"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Nome"}),o.jsxs("div",{className:"relative",children:[o.jsx(Hf,{className:"absolute left-3 top-2.5 text-gray-400",size:16}),o.jsx("input",{type:"text",placeholder:"Nome do Membro",className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:outline-none",value:n.name,onChange:g=>r({...n,name:g.target.value}),required:!0})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Funo"}),o.jsxs("div",{className:"relative",children:[o.jsx(Xb,{className:"absolute left-3 top-2.5 text-gray-400",size:16}),o.jsx("input",{type:"text",placeholder:"ex: Desenvolvedor Snior",className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:border-indigo-500",value:n.role,onChange:g=>r({...n,role:g.target.value})})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Taxa/Hora"}),o.jsxs("div",{className:"relative",children:[o.jsx(ha,{className:"absolute left-3 top-2.5 text-gray-400",size:16}),o.jsx("input",{type:"number",placeholder:"0.00",className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:border-indigo-500",value:n.hourlyRate,onChange:g=>r({...n,hourlyRate:parseFloat(g.target.value)})})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6 border-t border-gray-100 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 font-medium",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-6 py-2 text-sm bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 shadow-md transform hover:scale-105 transition-all font-medium",children:"Adicionar Membro"})]})]}):o.jsxs("button",{onClick:()=>i(!0),disabled:!e,className:"group w-full py-4 border-2 border-dashed border-gray-300 rounded-xl text-gray-500 hover:border-indigo-500 hover:text-indigo-600 hover:bg-indigo-50 transition-all flex items-center justify-center gap-2 font-medium disabled:opacity-50 disabled:cursor-not-allowed bg-white",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 group-hover:bg-indigo-100 flex items-center justify-center transition-colors",children:o.jsx(Rn,{size:18})}),e?"Adicionar Novo Membro da Equipe":"Conecte ao Banco para Adicionar"]})})]})},fz=({project:t,tasks:e,onUpdateTeam:n})=>{const[r,a]=L.useState([]),[i,s]=L.useState([250,100,400,150,150,60]),[l,c]=L.useState(null),d=ue.useRef(0),u=ue.useRef(0);L.useEffect(()=>{const k=E=>{if(l!==null){const N=E.clientX-d.current;s(C=>{const R=[...C];return R[l]=Math.max(50,u.current+N),R})}},P=()=>{c(null),document.body.style.cursor="default"};return l!==null&&(document.addEventListener("mousemove",k),document.addEventListener("mouseup",P),document.body.style.cursor="col-resize"),()=>{document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",P),document.body.style.cursor="default"}},[l]);const h=(k,P)=>{P.preventDefault(),c(k),d.current=P.clientX,u.current=i[k]};L.useEffect(()=>{t.teamStructure?a(t.teamStructure):a([])},[t.teamStructure]);const m=(k,P)=>{const E=parseFloat(P),N=[...r];N[k]={...N[k],hourlyRate:isNaN(E)?0:E},a(N)},p=(k,P)=>{const E=[...r];E[k]={...E[k],role:P},a(E)},A=(k,P)=>{const E=[...r];E[k]={...E[k],responsibilities:P.split(",")},a(E)},g=()=>{a([...r,{role:"Novo Papel",responsibilities:[],hourlyRate:0,quantity:1}])},b=k=>{if(confirm("Remover este papel da equipe?")){const P=[...r];P.splice(k,1),a(P)}},x=()=>{const k=r.map(P=>({...P,responsibilities:P.responsibilities.map(E=>E.trim()).filter(Boolean)}));a(k),n(k),alert(`Dados salvos! (${k.length} papis). Agora os valores sero aplicados ao selecionar o papel na tarefa.`)},y=k=>{const P=e.filter(N=>N.assignedResource===k);let E=0;return P.forEach(N=>{const C=Fr(N.start,N.end);E+=C*8}),{totalHours:E,count:P.length}},w=r.length>0?r.reduce((k,P)=>{const{totalHours:E}=y(P.role);return k+E*(P.hourlyRate||0)},0):0,S=r.length>0?r.reduce((k,P)=>k+y(P.role).totalHours,0):0;return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden animate-in fade-in duration-300",children:[o.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(co,{className:"text-indigo-600",size:20}),"Estrutura de Equipe & Custos"]}),o.jsxs("p",{className:"text-sm text-gray-500 flex gap-4 mt-1",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(lo,{size:12})," ",S,"h Totais"]}),o.jsxs("span",{className:"flex items-center gap-1 font-semibold text-indigo-700 bg-indigo-50 px-2 py-0.5 rounded",children:[o.jsx(ha,{size:12})," Custo Estimado: R$ ",w.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),o.jsxs("button",{onClick:x,className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg font-medium transition-colors shadow-sm",children:[o.jsx(_u,{size:16}),"Salvar Alteraes"]})]}),r.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-gray-500",children:[o.jsx(co,{size:48,className:"mb-4 text-gray-300"}),o.jsx("p",{children:"Nenhuma estrutura de equipe definida."}),o.jsxs("button",{onClick:g,className:"mt-4 flex items-center gap-2 text-indigo-600 font-medium hover:bg-indigo-50 px-3 py-2 rounded-lg transition-colors",children:[o.jsx(Rn,{size:16})," Adicionar Primeiro Papel manualmente"]})]}):o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full text-left border-collapse table-fixed",children:[o.jsx("thead",{children:o.jsx("tr",{className:"bg-gray-50 text-gray-500 text-xs uppercase tracking-wider border-b border-gray-200",children:["Profissional / Papel","Horas Totais","Responsabilidades (separar por vrgula)","Taxa / Hora","Custo Total",""].map((k,P)=>o.jsx("th",{className:"p-4 font-semibold relative group select-none",style:{width:i[P]},children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{children:k}),P<5&&o.jsx("div",{className:"w-1 h-4 bg-gray-300 cursor-col-resize hover:bg-indigo-500 rounded opacity-0 group-hover:opacity-100 transition-opacity absolute right-0",onMouseDown:E=>h(P,E)})]})},P))})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:r.map((k,P)=>{const{totalHours:E}=y(k.role),N=E*(k.hourlyRate||0);return o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[o.jsx("td",{className:"p-4 font-medium text-indigo-900",children:o.jsx("input",{type:"text",value:k.role,onChange:C=>p(P,C.target.value),className:"w-full border-none bg-transparent hover:bg-white focus:bg-white focus:ring-2 focus:ring-indigo-500 rounded px-2 py-1 transition-all outline-none"})}),o.jsx("td",{className:"p-4 text-center text-gray-700 font-mono text-sm",children:o.jsxs("div",{className:"bg-gray-100 py-1 px-2 rounded",children:[E,"h"]})}),o.jsx("td",{className:"p-4 border-r border-transparent hover:border-gray-100 overflow-hidden",children:o.jsx("input",{type:"text",value:k.responsibilities.join(","),onChange:C=>A(P,C.target.value),className:"w-full border-none bg-transparent hover:bg-white focus:bg-white focus:ring-2 focus:ring-indigo-500 rounded px-2 py-1 transition-all outline-none text-xs text-gray-600 truncate focus:overflow-visible focus:z-10 focus:absolute focus:w-auto focus:min-w-full focus:shadow-md",placeholder:"Adicionar responsabilidades (separar por vrgula)..."})}),o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"relative group min-w-[120px]",children:[o.jsx(ha,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors pointer-events-none"}),o.jsx("input",{type:"number",value:k.hourlyRate||"",onChange:C=>m(P,C.target.value),placeholder:"0.00",className:"w-full pl-8 pr-3 py-2 border border-gray-200 rounded-lg text-sm text-gray-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all outline-none bg-white hover:border-gray-300"})]})}),o.jsxs("td",{className:"p-4 text-right font-medium text-gray-900",children:["R$ ",N.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),o.jsx("td",{className:"p-4 text-center",children:o.jsx("button",{onClick:()=>b(P),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded transition-colors opacity-0 group-hover:opacity-100",title:"Remover Papel",children:o.jsx(ur,{size:16})})})]},P)})})]}),o.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50/50",children:o.jsxs("button",{onClick:g,className:"flex items-center gap-2 text-indigo-600 font-medium hover:bg-indigo-100 px-4 py-2 rounded-lg transition-colors text-sm",children:[o.jsx(Rn,{size:16}),"Adicionar Novo Papel"]})})]}),o.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-100 text-xs text-center text-gray-500 flex items-center justify-center gap-2",children:[o.jsx(fE,{size:12}),"Clculo baseado em: (Dias teis das Tarefas x 8h) x Taxa Horria."]})]})},pz=["Licenas","Aereo","Hotel","Alimentao","Gasolina","Horas Extras","Aluguel Notebook"],Ei=t=>t?t instanceof Date?t:typeof(t==null?void 0:t.toDate)=="function"?t.toDate():t!=null&&t.seconds?new Date(t.seconds*1e3):new Date(t):new Date,mz=({project:t,tasks:e})=>{var O;const{startMonth:n,months:r}=L.useMemo(()=>{const V=e.filter(ie=>ie.start&&ie.end);if(!V.length&&!t.start){const ie=Wf(new Date);return{startMonth:ie,months:[ie]}}const G=V.map(ie=>[Ei(ie.start),Ei(ie.end)]).flat();t.start&&G.push(Ei(t.start)),t.end&&G.push(Ei(t.end));const Q=G.reduce((ie,oe)=>oe<ie?oe:ie,G[0]||new Date),H=G.reduce((ie,oe)=>oe>ie?oe:ie,G[0]||new Date),ne=Wf(Q),X=fd(H,12),K=[];let ce=ne;for(;ce<=X;)K.push(ce),ce=fd(ce,1);return{startMonth:ne,months:K}},[e,t.start,t.end]),[a,i]=L.useState(t.monthlyCosts||[]),[s,l]=L.useState(t.otherCosts||[]),[c,d]=L.useState(t.revenueDistribution||[]),[u,h]=L.useState(!1),m=()=>{var ge,Se;const V=new Map;(ge=t.teamStructure)==null||ge.forEach(ve=>{ve.hourlyRate&&V.set(ve.role.trim(),ve.hourlyRate)});const G=[],Q=new Set;e.forEach(ve=>{ve.assignedResource&&Q.add(ve.assignedResource.trim())}),(Se=t.teamStructure)==null||Se.forEach(ve=>Q.add(ve.role.trim())),Q.forEach(ve=>{const Ae=e.filter(xe=>(xe.assignedResource||"").trim()===ve);r.forEach(xe=>{let I=0,Y=0;Ae.forEach(q=>{if(!q.start||!q.end)return;let F,B;q.progress===100&&q.realStart&&q.realEnd?(F=Ei(q.realStart),B=Ei(q.realEnd)):(F=Ei(q.start),B=Ei(q.end));const z=xe,J=new Date(fd(xe,1).getTime()-1);if(F<=J&&B>=z){const $=F>z?F:z,U=B<J?B:J,te=Fr($,U);if(te>0){const Z=te*8,re=q.hourlyRate||V.get(ve)||0;I+=Z,Y+=Z*re}}}),I>0&&G.push({id:crypto.randomUUID(),month:xe.toISOString().slice(0,7),role:ve,hours:I,cost:Y})})}),i(G);const H=new Map;let ne=0;r.forEach(ve=>{const Ae=ve.toISOString().slice(0,7),xe=G.filter(q=>q.month===Ae).reduce((q,F)=>q+F.cost,0),I=s.reduce((q,F)=>q+(F.values[Ae]||0),0),Y=xe+I;H.set(Ae,Y),ne+=Y});let X=t.margin||0,K="Margem Planejada";if(t.fixedSnapshot){K="Margem Real";const ve=t.fixedSnapshot,xe=ve.price*(1-(ve.taxRate||0)/100),I=(ve.deliveryDeviation||0)/100,Y=1-I>.001?ve.cost/(1-I)-ve.cost:0,q=t.deliveryDeviation||0,F=ve.deliveryDeviation||1,B=F!==0?q*(Y/F):0,z=xe-Y,J=xe-B-ne;z>.001?X=J/z*100:X=0}const ce=X/100,ie=(t.taxRate||0)/100,oe=1-ce,pe=1-ie,Pe={};r.forEach(ve=>{const Ae=ve.toISOString().slice(0,7),xe=H.get(Ae)||0;if(xe>0&&oe>.001){const I=xe/oe,Y=pe>.001?I/pe:I;Pe[Ae]=Y}});const ye={id:crypto.randomUUID(),description:`Receita Sugerida (${K} ${X.toFixed(1)}%)`,values:Pe};d([ye]),h(!0)},p=(V,G,Q,H)=>{i(ne=>{var K,ce;const X=ne.findIndex(ie=>ie.role===V&&ie.month===G);if(X>=0){const ie=[...ne];if(ie[X]={...ie[X],[Q]:H},Q==="hours"){const oe=(K=t.teamStructure)==null?void 0:K.find(pe=>pe.role===V);oe!=null&&oe.hourlyRate&&(ie[X].cost=H*oe.hourlyRate)}return ie}else{const ie=(ce=t.teamStructure)==null?void 0:ce.find(pe=>pe.role===V),oe={id:crypto.randomUUID(),role:V,month:G,hours:Q==="hours"?H:0,cost:Q==="cost"?H:0};return Q==="hours"&&(ie!=null&&ie.hourlyRate)&&(oe.cost=H*ie.hourlyRate),[...ne,oe]}}),h(!0)},A=()=>{const V={id:crypto.randomUUID(),description:"Novo Custo",type:"",values:{}};l([...s,V]),h(!0)},g=V=>{l(G=>G.filter(Q=>Q.id!==V)),h(!0)},b=(V,G,Q)=>{l(H=>H.map(ne=>ne.id===V?{...ne,[G]:Q}:ne)),h(!0)},x=(V,G,Q)=>{l(H=>H.map(ne=>ne.id===V?{...ne,values:{...ne.values,[G]:Q}}:ne)),h(!0)},y=()=>{const V={id:crypto.randomUUID(),description:"Nova Receita",values:{}};d([...c,V]),h(!0)},w=V=>{d(G=>G.filter(Q=>Q.id!==V)),h(!0)},S=(V,G)=>{d(Q=>Q.map(H=>H.id===V?{...H,description:G}:H)),h(!0)},k=(V,G,Q)=>{d(H=>H.map(ne=>ne.id===V?{...ne,values:{...ne.values,[G]:Q}}:ne)),h(!0)},P=async()=>{await ut.updateProject(t.id,{monthlyCosts:a,otherCosts:s,revenueDistribution:c}),h(!1),alert("Custos e Receita salvos!")},E=Array.from(new Set([...((O=t.teamStructure)==null?void 0:O.map(V=>V.role))||[],...a.map(V=>V.role)])).sort(),N=r.map(V=>{const G=V.toISOString().slice(0,7),Q=a.filter(H=>H.month===G);return{cost:Q.reduce((H,ne)=>H+(ne.cost||0),0),hours:Q.reduce((H,ne)=>H+(ne.hours||0),0)}}),C=N.reduce((V,G)=>V+G.cost,0),R=r.map(V=>{const G=V.toISOString().slice(0,7);return s.reduce((Q,H)=>Q+(H.values[G]||0),0)}),j=R.reduce((V,G)=>V+G,0),_=r.map(V=>{const G=V.toISOString().slice(0,7);return c.reduce((Q,H)=>Q+(H.values[G]||0),0)}),D=_.reduce((V,G)=>V+G,0);r.map((V,G)=>({month:V,total:N[G].cost+R[G]}));const v=C+j;return o.jsxs("div",{className:"flex flex-col h-full bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100 bg-gray-50 flex-shrink-0",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(ha,{className:"text-indigo-600"}),"Declarao Mensal"]}),o.jsx("p",{className:"text-xs text-gray-500",children:"Consolidado de Custos e Distribuio de Receita."})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"text-right mr-4 border-r border-gray-200 pr-6",children:[o.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:"Custo Previsto"}),o.jsx("p",{className:"text-xl font-bold text-red-600",children:v.toLocaleString("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:0})})]}),o.jsxs("div",{className:"text-right mr-4 border-r border-gray-200 pr-6",children:[o.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:"Receita Prevista"}),o.jsx("p",{className:"text-xl font-bold text-emerald-600",children:D.toLocaleString("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:0})})]}),o.jsxs("button",{onClick:m,className:"flex items-center gap-2 text-indigo-600 hover:bg-indigo-50 px-3 py-2 rounded-lg text-sm font-medium transition-colors border border-transparent hover:border-indigo-100",title:"Recalcular Custos e Receita Base",children:[o.jsx(fE,{size:16}),"Calcular Base"]}),u&&o.jsxs("button",{onClick:P,className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm font-bold shadow-sm hover:bg-indigo-700 transition-colors",children:[o.jsx(_u,{size:16}),"Salvar"]})]})]}),o.jsxs("div",{className:"flex-1 overflow-auto bg-white p-4 space-y-8",children:[o.jsxs("div",{className:"rounded-xl border border-gray-200 overflow-hidden",children:[o.jsxs("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200 flex justify-between items-center",children:[o.jsxs("h4",{className:"text-sm font-bold text-gray-700 uppercase tracking-wider flex items-center gap-2",children:[o.jsx(ha,{size:14})," Custos de Pessoal"]}),o.jsxs("span",{className:"text-xs font-bold text-gray-500",children:["Total: ",(C/1e3).toFixed(1),"k"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border-separate border-spacing-0",children:[o.jsxs("thead",{className:"bg-gray-50",children:[o.jsxs("tr",{children:[o.jsx("th",{rowSpan:2,className:"sticky left-0 bg-gray-50 px-4 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-r w-48 align-bottom",children:"Papel / Recurso"}),r.map(V=>o.jsx("th",{colSpan:3,className:"px-2 py-2 text-center text-xs font-bold text-gray-700 uppercase border-b border-r min-w-[200px] bg-gray-100",children:V.toLocaleDateString("pt-BR",{month:"short",year:"2-digit"})},V.toISOString())),o.jsx("th",{rowSpan:2,className:"px-4 py-3 text-right text-xs font-bold text-gray-900 uppercase border-b border-l bg-gray-50 align-bottom",children:"Total"})]}),o.jsx("tr",{children:r.map(V=>o.jsx(gz,{},V.toISOString()))})]}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-100",children:[E.map(V=>{const G=a.filter(Q=>Q.role===V).reduce((Q,H)=>Q+H.cost,0);return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"sticky left-0 bg-white px-4 py-2 text-sm font-medium text-gray-900 border-r border-gray-100 whitespace-nowrap",children:V}),r.map(Q=>{const H=Q.toISOString().slice(0,7),ne=a.find(ie=>ie.role===V&&ie.month===H),X=(ne==null?void 0:ne.hours)||0,K=(ne==null?void 0:ne.cost)||0,ce=X/168;return o.jsx(Az,{hours:X,cost:K,fte:ce,onUpdateHours:ie=>p(V,H,"hours",ie),onUpdateCost:ie=>p(V,H,"cost",ie)},H)}),o.jsx("td",{className:"px-4 py-2 text-right text-sm font-bold text-indigo-700 bg-gray-50 border-l border-gray-200",children:G>0?(G/1e3).toFixed(1)+"k":"-"})]},V)}),o.jsxs("tr",{className:"bg-gray-100 font-bold border-t border-gray-300",children:[o.jsx("td",{className:"sticky left-0 bg-gray-100 px-4 py-2 text-xs text-gray-800 border-r border-gray-300 text-right uppercase",children:"Subtotal Pessoal"}),N.map((V,G)=>o.jsx("td",{colSpan:3,className:"px-2 py-2 text-right text-xs text-indigo-800 border-r border-gray-200 bg-indigo-50/30",children:V.cost>0?(V.cost/1e3).toFixed(1)+"k":"-"},G)),o.jsx("td",{className:"px-4 py-2 text-right text-xs text-indigo-800 border-l border-gray-300 bg-indigo-100",children:(C/1e3).toFixed(1)+"k"})]})]})]})})]}),o.jsxs("div",{className:"rounded-xl border border-gray-200 overflow-hidden",children:[o.jsxs("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200 flex justify-between items-center",children:[o.jsxs("h4",{className:"text-sm font-bold text-gray-700 uppercase tracking-wider flex items-center gap-2",children:[o.jsx(Vj,{size:14,className:"text-pink-600"})," Outros Custos"]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("span",{className:"text-xs font-bold text-gray-500",children:["Total: ",(j/1e3).toFixed(1),"k"]}),o.jsxs("button",{onClick:A,className:"flex items-center gap-1 text-pink-600 hover:bg-pink-50 px-2 py-1 rounded text-xs font-bold transition-colors border border-transparent hover:border-pink-100",children:[o.jsx(Rn,{size:12})," Add Item"]})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border-separate border-spacing-0",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"sticky left-0 bg-gray-50 px-4 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-r w-48",children:"Descrio"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-r w-32",children:"Tipo"}),r.map(V=>o.jsx("th",{className:"px-2 py-3 text-center text-xs font-bold text-gray-700 uppercase border-b border-r min-w-[100px] bg-gray-100",children:V.toLocaleDateString("pt-BR",{month:"short",year:"2-digit"})},V.toISOString())),o.jsx("th",{className:"px-4 py-3 text-right text-xs font-bold text-gray-900 uppercase border-b border-l bg-gray-50 min-w-[100px]",children:"Total"}),o.jsx("th",{className:"px-2 py-3 border-b bg-gray-50 w-8"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-100",children:[s.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:r.length+4,className:"text-center py-6 text-gray-400 text-xs italic",children:"Nenhum custo adicional."})}),s.map(V=>{const G=Object.values(V.values).reduce((Q,H)=>Q+H,0);return o.jsxs("tr",{className:"hover:bg-gray-50 group",children:[o.jsx("td",{className:"sticky left-0 bg-white group-hover:bg-gray-50 px-2 py-1 border-r border-gray-100 z-10 align-middle",children:o.jsx("input",{type:"text",value:V.description,onChange:Q=>b(V.id,"description",Q.target.value),className:"w-full border-none bg-transparent focus:ring-0 text-xs font-medium text-gray-900 placeholder-gray-400",placeholder:"Descrio..."})}),o.jsx("td",{className:"px-2 py-1 border-r border-gray-100 align-middle bg-white relative",children:o.jsx(xz,{value:V.type,onChange:Q=>b(V.id,"type",Q)})}),r.map(Q=>{const H=Q.toISOString().slice(0,7),ne=V.values[H]||0;return o.jsx("td",{className:"px-1 py-1 border-r border-gray-100 text-right align-middle",children:o.jsx("input",{type:"number",value:ne>0?ne:"",onChange:X=>x(V.id,H,parseFloat(X.target.value)||0),className:"w-full text-right bg-transparent border-none p-1 text-xs focus:ring-1 focus:ring-pink-300 rounded font-mono text-gray-700",placeholder:"-"})},H)}),o.jsx("td",{className:"px-4 py-2 text-right text-xs font-bold text-pink-700 bg-gray-50 border-l border-gray-200 align-middle",children:G>0?(G/1e3).toFixed(1)+"k":"-"}),o.jsx("td",{className:"px-1 text-center align-middle",children:o.jsx("button",{onClick:()=>g(V.id),className:"text-gray-300 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",title:"Remover",children:o.jsx(ur,{size:12})})})]},V.id)}),o.jsxs("tr",{className:"bg-gray-100 font-bold border-t border-gray-300",children:[o.jsx("td",{colSpan:2,className:"sticky left-0 bg-gray-100 px-4 py-2 text-xs text-gray-800 border-r border-gray-300 text-right uppercase",children:"Subtotal Outros"}),R.map((V,G)=>o.jsx("td",{className:"px-2 py-2 text-right text-xs text-pink-800 border-r border-gray-200 bg-pink-50/30",children:V>0?(V/1e3).toFixed(1)+"k":"-"},G)),o.jsx("td",{className:"px-4 py-2 text-right text-xs text-pink-800 border-l border-gray-300 bg-pink-100",children:(j/1e3).toFixed(1)+"k"}),o.jsx("td",{})]})]})]})})]}),o.jsxs("div",{className:"rounded-xl border border-gray-200 overflow-hidden",children:[o.jsxs("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200 flex justify-between items-center",children:[o.jsxs("h4",{className:"text-sm font-bold text-gray-700 uppercase tracking-wider flex items-center gap-2",children:[o.jsx(Tx,{size:14,className:"text-emerald-600"})," Distribuio de Receita"]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("span",{className:"text-xs font-bold text-gray-500",children:["Total: ",(D/1e3).toFixed(1),"k"]}),o.jsxs("button",{onClick:y,className:"flex items-center gap-1 text-emerald-600 hover:bg-emerald-50 px-2 py-1 rounded text-xs font-bold transition-colors border border-transparent hover:border-emerald-100",children:[o.jsx(Rn,{size:12})," Add Item"]})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border-separate border-spacing-0",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{colSpan:2,className:"sticky left-0 bg-gray-50 px-4 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-r w-80",children:"Descrio / Referncia"}),r.map(V=>o.jsx("th",{className:"px-2 py-3 text-center text-xs font-bold text-gray-700 uppercase border-b border-r min-w-[100px] bg-gray-100",children:V.toLocaleDateString("pt-BR",{month:"short",year:"2-digit"})},V.toISOString())),o.jsx("th",{className:"px-4 py-3 text-right text-xs font-bold text-gray-900 uppercase border-b border-l bg-gray-50 min-w-[100px]",children:"Total"}),o.jsx("th",{className:"px-2 py-3 border-b bg-gray-50 w-8"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-100",children:[c.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:r.length+4,className:"text-center py-6 text-gray-400 text-xs italic",children:'Nenhuma previso de receita. Clique "Calcular Base" para gerar automaticamente.'})}),c.map(V=>{const G=Object.values(V.values).reduce((Q,H)=>Q+H,0);return o.jsxs("tr",{className:"hover:bg-gray-50 group",children:[o.jsx("td",{colSpan:2,className:"sticky left-0 bg-white group-hover:bg-gray-50 px-2 py-1 border-r border-gray-100 z-10 align-middle",children:o.jsx("input",{type:"text",value:V.description,onChange:Q=>S(V.id,Q.target.value),className:"w-full border-none bg-transparent focus:ring-0 text-xs font-medium text-gray-900 placeholder-gray-400",placeholder:"Descrio..."})}),r.map(Q=>{const H=Q.toISOString().slice(0,7),ne=V.values[H]||0;return o.jsx("td",{className:"px-1 py-1 border-r border-gray-100 text-right align-middle",children:o.jsx("input",{type:"number",value:ne>0?ne:"",onChange:X=>k(V.id,H,parseFloat(X.target.value)||0),className:"w-full text-right bg-transparent border-none p-1 text-xs focus:ring-1 focus:ring-emerald-300 rounded font-mono text-gray-700",placeholder:"-"})},H)}),o.jsx("td",{className:"px-4 py-2 text-right text-xs font-bold text-emerald-700 bg-gray-50 border-l border-gray-200 align-middle",children:G>0?(G/1e3).toFixed(1)+"k":"-"}),o.jsx("td",{className:"px-1 text-center align-middle",children:o.jsx("button",{onClick:()=>w(V.id),className:"text-gray-300 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",title:"Remover",children:o.jsx(ur,{size:12})})})]},V.id)}),o.jsxs("tr",{className:"bg-gray-100 font-bold border-t border-gray-300",children:[o.jsx("td",{colSpan:2,className:"sticky left-0 bg-gray-100 px-4 py-2 text-xs text-gray-800 border-r border-gray-300 text-right uppercase",children:"Total Receita"}),_.map((V,G)=>o.jsx("td",{className:"px-2 py-2 text-right text-xs text-emerald-800 border-r border-gray-200 bg-emerald-50/30",children:V>0?(V/1e3).toFixed(1)+"k":"-"},G)),o.jsx("td",{className:"px-4 py-2 text-right text-xs text-emerald-800 border-l border-gray-300 bg-emerald-100",children:(D/1e3).toFixed(1)+"k"}),o.jsx("td",{})]})]})]})})]})]})]})},gz=()=>o.jsxs(o.Fragment,{children:[o.jsx("th",{className:"px-1 py-1 text-center text-[10px] font-medium text-gray-500 bg-gray-50 border-b border-r border-t w-16",children:"Horas"}),o.jsx("th",{className:"px-1 py-1 text-center text-[10px] font-medium text-gray-500 bg-gray-50 border-b border-r border-t w-24",children:"Valor"}),o.jsx("th",{className:"px-1 py-1 text-center text-[10px] font-medium text-gray-500 bg-gray-50 border-b border-r border-t w-14",children:"FTE"})]}),Az=({hours:t,cost:e,fte:n,onUpdateHours:r,onUpdateCost:a})=>o.jsxs(o.Fragment,{children:[o.jsx("td",{className:"px-1 py-1 border-r border-gray-100 text-center text-[11px] font-mono text-gray-600 bg-inherit",children:r.name!==""?o.jsx("input",{type:"number",readOnly:r.name==="",className:"w-full text-center bg-transparent border-none p-0 focus:ring-1 focus:ring-indigo-300 rounded",value:t>0?Math.round(t):"",placeholder:"-",onChange:i=>r(parseFloat(i.target.value)||0)}):o.jsx("span",{children:t>0?Math.round(t):"-"})}),o.jsx("td",{className:"px-1 py-1 border-r border-gray-100 text-right text-[11px] font-mono text-gray-700 bg-inherit",children:a.name!==""?o.jsx("input",{type:"number",className:"w-full text-right bg-transparent border-none p-0 focus:ring-1 focus:ring-indigo-300 rounded",value:e>0?Math.round(e):"",placeholder:"-",onChange:i=>a(parseFloat(i.target.value)||0)}):o.jsx("span",{children:e>0?(e/1e3).toFixed(1)+"k":"-"})}),o.jsx("td",{className:"px-1 py-1 border-r border-gray-200 text-center text-[10px] text-gray-400 bg-inherit font-mono",children:n>0?n.toFixed(1):"-"})]}),xz=({value:t,onChange:e})=>{const[n,r]=L.useState(!1),[a,i]=L.useState(""),[s,l]=L.useState({top:0,left:0,width:0}),c=L.useRef(null),d=L.useRef(null),u=p=>{if(p.stopPropagation(),c.current){const A=c.current.getBoundingClientRect();l({top:A.bottom+window.scrollY,left:A.left+window.scrollX,width:A.width})}r(!n),i("")},h=p=>{e(p),r(!1)};L.useEffect(()=>{n&&d.current&&d.current.focus()},[n]);const m=pz.filter(p=>p.toLowerCase().includes(a.toLowerCase()));return o.jsxs(o.Fragment,{children:[o.jsxs("div",{ref:c,onClick:u,className:`flex items-center justify-between w-full px-2 py-1.5 text-xs text-gray-700 bg-white border border-transparent hover:border-gray-300 rounded cursor-pointer transition-all ${!t&&"text-gray-400"}`,children:[o.jsx("span",{className:"truncate",children:t||"Selecione..."}),o.jsx(Co,{size:14,className:"text-gray-400 flex-shrink-0 ml-1"})]}),n&&$s.createPortal(o.jsx("div",{className:"fixed inset-0 z-[9999] flex items-start justify-start",onClick:()=>r(!1),children:o.jsxs("div",{className:"fixed bg-white rounded-lg shadow-xl border border-gray-200 overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-100",style:{top:s.top+4,left:s.left,width:Math.max(s.width,200),maxHeight:"300px"},onClick:p=>p.stopPropagation(),children:[o.jsxs("div",{className:"p-2 border-b border-gray-100 bg-gray-50 flex items-center gap-2",children:[o.jsx(nc,{size:14,className:"text-gray-400"}),o.jsx("input",{ref:d,type:"text",value:a,onChange:p=>i(p.target.value),placeholder:"Buscar tipo...",className:"w-full bg-transparent border-none p-0 text-xs focus:ring-0 text-gray-700 placeholder-gray-400",onKeyDown:p=>{p.key==="Enter"&&m.length>0&&h(m[0])}})]}),o.jsxs("div",{className:"overflow-y-auto max-h-[200px] p-1",children:[m.length===0?o.jsx("div",{className:"px-3 py-2 text-xs text-gray-400 text-center italic",children:"Nenhuma opo encontrada."}):m.map(p=>o.jsx("button",{onClick:()=>h(p),className:`w-full text-left px-3 py-2 text-xs rounded hover:bg-pink-50 hover:text-pink-700 transition-colors ${t===p?"bg-pink-50 text-pink-700 font-medium":"text-gray-700"}`,children:p},p)),a&&!m.includes(a)&&o.jsxs("button",{onClick:()=>h(a),className:"w-full text-left px-3 py-2 text-xs rounded hover:bg-gray-50 text-indigo-600 border-t border-gray-100 mt-1 font-medium italic",children:['Usar "',a,'"']})]})]})}),document.body)]})},XS=({id:t,initialValue:e,placeholder:n,isRich:r=!1,label:a,className:i=""})=>{const[s,l]=L.useState(!1),[c,d]=L.useState(e),[u,h]=L.useState(e);L.useEffect(()=>{const A=localStorage.getItem(`antigravity_text_${t}`);A&&(d(A),h(A))},[t]);const m=()=>{h(c),localStorage.setItem(`antigravity_text_${t}`,c),l(!1)},p=()=>{d(u),l(!1)};return s?o.jsxs("div",{className:`relative bg-white border border-indigo-200 rounded-lg shadow-sm p-4 animate-in fade-in zoom-in-95 duration-200 ${i}`,children:[a&&o.jsx("label",{className:"block text-xs font-bold text-indigo-600 uppercase tracking-wider mb-2",children:a}),r?o.jsx("textarea",{className:"w-full text-gray-800 text-sm p-2 border border-gray-200 rounded-md focus:ring-2 focus:ring-indigo-500 min-h-[120px]",value:c,onChange:A=>d(A.target.value),placeholder:n,autoFocus:!0}):o.jsx("input",{type:"text",className:"w-full text-gray-800 font-medium text-lg p-2 border-b-2 border-indigo-500 focus:outline-none",value:c,onChange:A=>d(A.target.value),placeholder:n,autoFocus:!0}),o.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[o.jsx("button",{onClick:p,className:"p-1 text-gray-400 hover:text-red-500 transition-colors",children:o.jsx(yr,{size:18})}),o.jsx("button",{onClick:m,className:"p-1 text-indigo-600 hover:text-indigo-800 transition-colors bg-indigo-50 rounded-full",children:o.jsx(Nl,{size:18})})]})]}):o.jsxs("div",{onClick:()=>l(!0),className:`group cursor-pointer relative border border-transparent hover:border-gray-200 hover:bg-gray-50 rounded-lg p-2 -ml-2 transition-all ${i}`,children:[a&&o.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:a}),o.jsx("div",{className:`${r?"text-sm text-gray-600 leading-relaxed whitespace-pre-wrap":"text-lg font-medium text-gray-800"}`,children:u||o.jsx("span",{className:"text-gray-400 italic",children:n||"Clique para adicionar texto..."})}),o.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(Qd,{size:14,className:"text-gray-400"})})]})},yz=({tasks:t,resources:e})=>{const n=t.filter(h=>h.type!=="project"),r=n.filter(h=>h.progress===100).length;n.filter(h=>h.progress>0&&h.progress<100).length,n.filter(h=>h.progress===0).length,n.length;const a=n.filter(h=>h.status==="blocked"||h.name.toLowerCase().includes("[block]")),i=new Date,s=new Date;s.setDate(i.getDate()+(5-i.getDay()));const l=n.filter(h=>h.progress<100&&h.end<=s&&h.end>=i),c=n.filter(h=>h.progress<100&&qb(h.end)).length,d=e.map(h=>{const m=n.filter(p=>p.resourceId===h.id&&p.progress<100&&p.progress>0);return{...h,activeCount:m.length,activeTasks:m}}).sort((h,m)=>m.activeCount-h.activeCount),u=d.filter(h=>h.activeCount>2);return o.jsxs("div",{className:"space-y-6 lg:p-4 animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start justify-between",children:[o.jsxs("div",{className:"w-full md:w-1/3",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Sala de Guerra (War Room)"}),o.jsx("p",{className:"text-gray-500 text-sm",children:"Painel de execuo ttica diria e resoluo de bloqueios."})]}),o.jsxs("div",{className:"w-full md:w-2/3 bg-blue-50 border border-blue-100 rounded-xl p-4 relative",children:[o.jsx("div",{className:"absolute top-4 right-4",children:o.jsx(Wj,{size:16,className:"text-blue-400"})}),o.jsx(XS,{id:"daily_log",label:"Dirio de Bordo (Status do Dia)",initialValue:"",placeholder:"Escreva aqui o status rpido do dia. Ex: 'Deploy da API instvel pela manh. Equipe focada em hotfix.'",className:"bg-transparent border-none p-0"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:`p-5 rounded-xl border border-gray-100 shadow-sm flex items-center justify-between ${a.length>0?"bg-red-50 border-red-200":"bg-white"}`,children:[o.jsxs("div",{children:[o.jsx("p",{className:`text-sm font-bold uppercase tracking-wider ${a.length>0?"text-red-700":"text-gray-500"}`,children:"Bloqueios Ativos"}),o.jsx("h3",{className:`text-3xl font-bold mt-1 ${a.length>0?"text-red-700":"text-gray-900"}`,children:a.length})]}),o.jsx("div",{className:`p-3 rounded-full ${a.length>0?"bg-red-200 text-red-700":"bg-gray-100 text-gray-400"}`,children:o.jsx(Bl,{size:24})})]}),o.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider",children:"Metas da Semana"}),o.jsx("h3",{className:"text-3xl font-bold text-gray-900 mt-1",children:l.length}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Tarefas para entregar at sexta"})]}),o.jsx("div",{className:"p-3 bg-indigo-50 rounded-full text-indigo-600",children:o.jsx(vz,{})})]}),o.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider",children:"Entregas Totais"}),o.jsx("h3",{className:"text-3xl font-bold text-gray-900 mt-1",children:r})]}),o.jsx("div",{className:"p-3 bg-green-50 rounded-full text-green-600",children:o.jsx(IA,{size:24})})]}),o.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider",children:"Em Atraso"}),o.jsx("h3",{className:`text-3xl font-bold mt-1 ${c>0?"text-amber-600":"text-gray-900"}`,children:c})]}),o.jsx("div",{className:"p-3 bg-gray-50 rounded-full text-gray-400",children:o.jsx(lo,{size:24})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl border border-red-100 shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"bg-red-50 px-6 py-4 border-b border-red-100 flex justify-between items-center",children:[o.jsxs("h3",{className:"font-bold text-red-900 flex items-center gap-2",children:[o.jsx(gd,{size:18}),"Prioridade Alta: Bloqueios & Atrasos"]}),o.jsxs("span",{className:"text-xs font-bold bg-white text-red-700 px-2 py-1 rounded shadow-sm",children:[a.length+c," Itens"]})]}),o.jsxs("div",{className:"divide-y divide-gray-100",children:[[...a,...n.filter(h=>qb(h.end)&&h.progress<100&&!a.includes(h))].slice(0,5).map(h=>{var m;return o.jsxs("div",{className:"p-4 hover:bg-gray-50 flex items-center justify-between group",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${h.status==="blocked"?"bg-red-500 animate-pulse":"bg-amber-500"}`}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:h.name}),o.jsxs("p",{className:"text-xs text-gray-500",children:[((m=e.find(p=>p.id===h.resourceId))==null?void 0:m.name)||"Sem dono"," ",o.jsx("span",{className:"ml-1 text-red-500",children:h.status==="blocked"?"BLOQUEADO":`${Cx(new Date,h.end)} dias atrasado`})]})]})]}),o.jsx("button",{className:"text-xs font-medium text-indigo-600 hover:text-indigo-800 opacity-0 group-hover:opacity-100 transition-opacity",children:"Resolver"})]},h.id)}),a.length+c===0&&o.jsxs("div",{className:"p-8 text-center text-gray-400 text-sm",children:[o.jsx(IA,{size:32,className:"mx-auto mb-2 text-green-300"}),"Nenhuma urgncia crtica. Bom trabalho!"]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:o.jsx("h3",{className:"font-bold text-gray-800",children:"Playlist da Semana (Entregas Curtas)"})}),o.jsx("div",{className:"divide-y divide-gray-100",children:l.length>0?l.map(h=>{var m;return o.jsxs("div",{className:"p-4 hover:bg-gray-50 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"w-8 h-8 rounded-full border-2 border-gray-200 flex items-center justify-center text-gray-300 text-xs font-bold",children:[h.progress,"%"]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800 text-sm",children:h.name}),o.jsx("p",{className:"text-xs text-gray-500",children:Pt(h.end,"EEEE (dd/MM)",{locale:Qa})})]})]}),o.jsx("div",{className:"flex -space-x-2",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 border border-white flex items-center justify-center text-[10px] text-gray-500 font-bold",children:(((m=e.find(p=>p.id===h.resourceId))==null?void 0:m.name)||"?").charAt(0)})})]},h.id)}):o.jsx("div",{className:"p-6 text-center text-gray-400 text-sm italic",children:"Sem entregas agendadas para o resto da semana."})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[o.jsxs("h3",{className:"font-bold text-gray-800 mb-6 flex items-center gap-2",children:[o.jsx(co,{size:18}),"Radar da Equipe"]}),o.jsxs("div",{className:"space-y-6",children:[u.length>0&&o.jsxs("div",{className:"bg-amber-50 p-3 rounded-lg border border-amber-100 mb-4",children:[o.jsxs("p",{className:"text-xs font-bold text-amber-800 uppercase mb-1 flex items-center gap-1",children:[o.jsx(Bl,{size:12})," Sobrecarga Detectada"]}),o.jsxs("p",{className:"text-xs text-amber-700",children:[u.map(h=>h.name.split(" ")[0]).join(", ")," tem mais de 2 tarefas ativas simultneas."]})]}),d.map(h=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 text-indigo-700 flex items-center justify-center font-bold text-xs",children:h.name.charAt(0)}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-bold text-gray-700",children:h.name}),o.jsx("p",{className:"text-xs text-gray-400",children:h.role})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:`text-lg font-bold ${h.activeCount>2?"text-amber-600":"text-gray-900"}`,children:h.activeCount}),o.jsx("span",{className:"text-xs text-gray-400 block",children:"ativas"})]})]}),h.activeTasks.length>0&&o.jsx("div",{className:"pl-10 space-y-1",children:h.activeTasks.map(m=>o.jsxs("div",{className:"text-[10px] text-gray-500 truncate flex items-center gap-1",children:[o.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-300"}),m.name]},m.id))}),o.jsx("div",{className:"w-full bg-gray-100 h-1 mt-3 rounded-full overflow-hidden",children:o.jsx("div",{className:`h-full ${h.activeCount>2?"bg-amber-400":"bg-green-400"}`,style:{width:`${Math.min(100,h.activeCount/5*100)}%`}})})]},h.id))]})]})]})]})},vz=()=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("circle",{cx:"12",cy:"12",r:"6"}),o.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),bz=({tasks:t,resources:e,onEditTask:n,isConnected:r,currentUser:a})=>{const[i,s]=L.useState(""),[l,c]=L.useState(new Set),d=S=>{const k=new Set(l);k.has(S)?k.delete(S):k.add(S),c(k)},u=(S,k)=>k==="project"?o.jsx(pE,{size:16,className:"text-indigo-500"}):S===100?o.jsx(IA,{size:16,className:"text-green-500"}):S>0?o.jsx(lo,{size:16,className:"text-amber-500"}):o.jsx(bj,{size:16,className:"text-gray-400"}),h=(S,k)=>k==="project"?"Grupo":S===100?"Concludo":S>0?"Em Andamento":"A Fazer",m=S=>e.find(k=>k.id===S),p=async(S,k)=>{S.stopPropagation(),r&&confirm("Tem certeza que deseja excluir esta tarefa?")&&await ut.deleteTask(k)},A=L.useMemo(()=>{const S=new Map,k=P=>{if(S.has(P))return S.get(P);const E=t.find(C=>C.id===P);if(!E)return{hours:0,cost:0,realCost:0,fte:0,rate:0};const N=t.filter(C=>C.parent===P);if(N.length>0){let C=0,R=0,j=0;N.forEach(V=>{const G=k(V.id);C+=G.hours,R+=G.cost,j+=G.realCost});const _=Math.max(1,Fr(E.start,E.end)),D=C/(_*8),v=C>0?R/C:0,O={hours:C,cost:R,realCost:j,fte:D,rate:v};return S.set(P,O),O}else{const R=Math.max(1,Fr(E.start,E.end))*8;let j=E.hourlyRate||0;if(!j&&E.resourceId){const V=e.find(G=>G.id===E.resourceId);V&&(j=V.hourlyRate)}const _=R*j;let D=0;E.realStart&&E.realEnd&&(D=Fr(E.realStart,E.realEnd)*8*j);const O={hours:R,cost:_,realCost:D,fte:1,rate:j};return S.set(P,O),O}};return t.forEach(P=>k(P.id)),S},[t,e]),{rootTasks:g,getChildren:b}=L.useMemo(()=>{const S=P=>t.filter(E=>E.parent===P).sort((E,N)=>(E.order||0)-(N.order||0));return{rootTasks:t.filter(P=>!P.parent||!t.find(E=>E.id===P.parent)).sort((P,E)=>(P.order||0)-(E.order||0)),getChildren:S}},[t]),x=S=>S>=1e6?`R$ ${(S/1e6).toFixed(1)}M`:S>=1e3?`R$ ${(S/1e3).toFixed(1)}k`:`R$ ${S.toFixed(0)}`,y=(S,k=0)=>{var R,j;const P=b(S.id),E=P.length>0||S.type==="project",N=l.has(S.id),C=A.get(S.id)||{hours:0,cost:0,realCost:0,fte:0,rate:0};return i?null:o.jsxs(o.Fragment,{children:[o.jsxs("tr",{className:`
                        group transition-colors cursor-pointer border-b border-gray-50
                        ${S.type==="project"?"bg-gray-50 hover:bg-gray-100":"hover:bg-gray-50 bg-white"}
                    `,onClick:()=>n(S),children:[o.jsx("td",{className:"px-6 py-4 sticky left-0 bg-inherit z-10 shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)] min-w-[320px]",children:o.jsxs("div",{className:"flex items-center",style:{paddingLeft:`${k*24}px`},children:[E?o.jsx("button",{onClick:_=>{_.stopPropagation(),d(S.id)},className:"p-1 mr-2 text-gray-400 hover:text-indigo-600 rounded hover:bg-gray-200 transition-colors flex-shrink-0",children:N?o.jsx(Co,{size:14}):o.jsx(oo,{size:14})}):o.jsx("span",{className:"w-6 mr-2 inline-block flex-shrink-0"}),o.jsxs("div",{className:"truncate pr-4",children:[o.jsx("div",{className:`font-medium truncate ${S.type==="project"?"text-indigo-900 font-bold":"text-gray-900"}`,title:S.name,children:S.name}),o.jsxs("div",{className:"text-[10px] text-gray-400",children:[Pt(S.start,"d MMM",{locale:Qa})," - ",Pt(S.end,"d MMM",{locale:Qa})]})]})]})}),o.jsx("td",{className:"px-6 py-4 min-w-[140px]",children:o.jsxs("div",{className:"flex items-center gap-2",children:[u(S.progress,S.type),o.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full whitespace-nowrap ${S.type==="project"?"bg-indigo-100 text-indigo-700":S.progress===100?"bg-green-100 text-green-700":S.progress>0?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-600"}`,children:h(S.progress,S.type)})]})}),o.jsx("td",{className:"px-6 py-4 min-w-[160px]",children:S.resourceId?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-xs font-bold flex-shrink-0",children:(R=m(S.resourceId))==null?void 0:R.name.charAt(0)}),o.jsx("span",{className:"text-gray-700 text-xs truncate",children:(j=m(S.resourceId))==null?void 0:j.name})]}):o.jsx("span",{className:"text-gray-400 italic text-xs",children:"No Atribudo"})}),o.jsx("td",{className:"px-6 py-4 min-w-[100px] text-gray-600 text-xs",children:o.jsxs("span",{className:"font-mono bg-blue-50 text-blue-700 px-2 py-1 rounded",children:[C.hours,"h"]})}),o.jsx("td",{className:"px-6 py-4 min-w-[100px] text-gray-600 text-xs text-center",children:o.jsx("span",{className:"font-mono bg-purple-50 text-purple-700 px-2 py-1 rounded",children:C.fte.toFixed(1)})}),o.jsx("td",{className:"px-6 py-4 min-w-[120px] text-gray-600 text-xs text-right",children:o.jsxs("span",{className:"font-mono text-emerald-700 font-medium whitespace-nowrap",children:["R$ ",C.rate.toFixed(0)]})}),o.jsx("td",{className:"px-6 py-4 min-w-[120px] text-gray-900 text-xs font-bold text-right",children:o.jsx("span",{className:"font-mono bg-amber-50 text-amber-800 px-2 py-1 rounded border border-amber-100 whitespace-nowrap",children:x(C.cost)})}),o.jsx("td",{className:"px-6 py-4 min-w-[120px] text-gray-900 text-xs font-bold text-right",children:o.jsx("span",{className:"font-mono bg-emerald-50 text-emerald-800 px-2 py-1 rounded border border-emerald-100 whitespace-nowrap",children:x(C.realCost)})}),o.jsx("td",{className:"px-6 py-4 min-w-[100px] text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{className:"p-2 text-gray-400 hover:text-indigo-600 transition-colors",title:"Editar Tarefa",children:o.jsx(RA,{size:16})}),o.jsx("button",{className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Excluir Tarefa",disabled:!r,onClick:_=>p(_,S.id),children:o.jsx(ur,{size:16})})]})})]},S.id),N&&P.map(_=>y(_,k+1))]})},w=()=>{const S=t.filter(k=>k.name.toLowerCase().includes(i.toLowerCase()));return S.length===0?o.jsx("tr",{children:o.jsxs("td",{colSpan:10,className:"px-6 py-12 text-center text-gray-400",children:['Nenhuma tarefa encontrada com "',i,'".']})}):S.map(k=>{var E;const P=A.get(k.id)||{hours:0,cost:0,realCost:0,fte:0,rate:0};return o.jsxs("tr",{className:"group hover:bg-gray-50 transition-colors cursor-pointer border-b border-gray-50 bg-white",onClick:()=>n(k),children:[o.jsxs("td",{className:"px-6 py-4 sticky left-0 bg-white z-10 shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]",children:[o.jsx("div",{className:"font-medium text-gray-900",children:k.name}),o.jsxs("div",{className:"text-[10px] text-gray-400",children:[Pt(k.start,"d MMM",{locale:Qa})," - ",Pt(k.end,"d MMM",{locale:Qa})]})]}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[u(k.progress,k.type),o.jsx("span",{className:"text-xs text-gray-600 whitespace-nowrap",children:h(k.progress,k.type)})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"text-gray-500 text-xs whitespace-nowrap",children:((E=m(k.resourceId))==null?void 0:E.name)||"-"})}),o.jsxs("td",{className:"px-6 py-4 text-xs font-mono text-blue-600",children:[P.hours,"h"]}),o.jsx("td",{className:"px-6 py-4 text-xs font-mono text-purple-600 text-center",children:P.fte.toFixed(1)}),o.jsxs("td",{className:"px-6 py-4 text-xs font-mono text-right text-emerald-600",children:["R$ ",P.rate.toFixed(0)]}),o.jsx("td",{className:"px-6 py-4 text-xs font-mono text-right font-bold text-amber-700",children:x(P.cost)}),o.jsx("td",{className:"px-6 py-4 text-xs font-mono text-right font-bold text-emerald-700",children:x(P.realCost)}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{className:"p-2 text-gray-400 hover:text-indigo-600",children:o.jsx(RA,{size:16})}),o.jsx("button",{onClick:N=>p(N,k.id),className:"p-2 text-gray-400 hover:text-red-500",children:o.jsx(ur,{size:16})})]})})]},k.id)})};return o.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"hidden md:block",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Lista Estruturada"}),o.jsx("p",{className:"text-gray-500",children:"Visualizao detalhada com mtricas financeiras e de esforo."})]}),o.jsxs("div",{className:"relative",children:[o.jsx(nc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),o.jsx("input",{type:"text",placeholder:"Filtrar tarefas...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:outline-none w-64",value:i,onChange:S=>s(S.target.value)})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden flex flex-col",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left whitespace-nowrap",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium border-b border-gray-200 uppercase text-xs tracking-wider",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 min-w-[320px] sticky left-0 bg-gray-50 z-20 shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]",children:"Estrutura / Nome"}),o.jsx("th",{className:"px-6 py-3 min-w-[140px]",children:"Status"}),o.jsx("th",{className:"px-6 py-3 min-w-[160px]",children:"Responsvel"}),o.jsx("th",{className:"px-6 py-3 min-w-[100px]",children:"Horas teis"}),o.jsx("th",{className:"px-6 py-3 min-w-[100px] text-center",children:"FTEs / Ms"}),o.jsx("th",{className:"px-6 py-3 min-w-[120px] text-right",children:"Valor / h"}),o.jsx("th",{className:"px-6 py-3 min-w-[140px] text-right",children:"Custo Est."}),o.jsx("th",{className:"px-6 py-3 min-w-[140px] text-right",children:"Custo Exec."}),o.jsx("th",{className:"px-6 py-3 min-w-[100px] text-right",children:"Aes"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-100",children:[i?w():g.map(S=>y(S)),!i&&g.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:10,className:"px-6 py-12 text-center text-gray-400",children:"Nenhuma tarefa estruturada encontrada."})})]})]})})})]})},wz=({tasks:t,resources:e,projects:n=[],client:r,fiscalYear:a})=>{var S;const i=n.reduce((k,P)=>k+(P.grossValue||0),0),s=n.reduce((k,P)=>k+(P.netValue||0),0);t.reduce((k,P)=>{if(!P.resourceId)return k;const E=e.find(C=>C.id===P.resourceId);if(!E)return k;const N=Math.max(0,(P.end.getTime()-P.start.getTime())/(1e3*60*60));return k+N*E.hourlyRate},0);const l=n.length>0?n.reduce((k,P)=>k+(P.margin||0),0)/n.length:0,c=(S=r==null?void 0:r.budgets)==null?void 0:S.find(k=>k.fiscalYear===a),d=(c==null?void 0:c.margin)||0,[u,h]=L.useState([{id:1,title:"Lanamento MVP",date:"2024-03-30",description:"Validao de market-fit.",status:"completed"},{id:2,title:"Expanso Latam",date:"2025-08-15",description:"Escritrio no Mxico.",status:"future"}]),[m,p]=L.useState(!1),[A,g]=L.useState({title:"",date:"",description:""}),b=()=>{if(!A.title||!A.date)return;const k=new Date(A.date)>=new Date,P={id:A.id||Date.now(),title:A.title,date:A.date,description:A.description,status:k?"future":"completed"};let E;A.id?E=u.map(N=>N.id===A.id?P:N):E=[...u,P],h(E.sort((N,C)=>new Date(N.date).getTime()-new Date(C.date).getTime())),p(!1),g({title:"",date:"",description:""})},x=k=>{h(P=>P.filter(E=>E.id!==k)),p(!1)},y=()=>{g({title:"",date:"",description:""}),p(!0)},w=k=>{g(k),p(!0)};return o.jsx("div",{className:"space-y-2 animate-in fade-in duration-300 print:p-0 print:space-y-0",children:o.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-200 print:shadow-none print:border-none print:p-0",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-6 mb-8 flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Relatrio Estratgico (Viso Executiva)"}),o.jsxs("p",{className:"text-gray-500",children:["Documento Confidencial  Gerado em ",Pt(new Date,"dd MMMM yyyy",{locale:Qa})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-2xl font-bold text-indigo-900 mb-1",children:"PROJETOS"}),o.jsx("div",{className:"text-sm text-gray-400 font-medium tracking-widest uppercase",children:"Estratgia & Inovao"})]})]}),o.jsx("div",{className:"mb-10 bg-slate-50 p-6 rounded-xl border border-slate-100",children:o.jsx(XS,{id:"exec_summary",label:"Sumrio Executivo (Anlise Mensal)",initialValue:"",placeholder:"Escreva aqui a anlise estratgica do perodo. (Ex: 'O portflio apresenta aderncia de 90% aos objetivos globais. A expanso asitica demandou 15% a mais de oramento no projeto Z...')",isRich:!0})}),o.jsxs("div",{className:"grid grid-cols-4 gap-6 mb-12 print:gap-4",children:[o.jsxs("div",{className:"p-5 bg-white rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:o.jsx(Tx,{size:48,className:"text-emerald-600"})}),o.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Valor Contratado (YTD)"}),o.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["R$ ",i.toLocaleString("pt-BR",{minimumFractionDigits:0,maximumFractionDigits:0})]}),o.jsxs("div",{className:"text-xs text-emerald-600 font-medium mt-2 flex items-center",children:[o.jsx(fj,{size:12,className:"mr-1"})," +12% vs Ano Anterior"]})]}),o.jsxs("div",{className:"p-5 bg-white rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:o.jsx(ss,{size:48,className:"text-blue-600"})}),o.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Margem Mdia Contratual"}),o.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[l.toFixed(1),"%"]}),o.jsxs("div",{className:"text-xs text-blue-600 font-medium mt-2",children:["Meta da Diretoria: ",d,"%"]})]}),o.jsxs("div",{className:"p-5 bg-white rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:o.jsx(qf,{size:48,className:"text-purple-600"})}),o.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Valor Lquido Realizado"}),o.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:["R$ ",s.toLocaleString("pt-BR",{minimumFractionDigits:0,maximumFractionDigits:0})]}),o.jsx("div",{className:"text-xs text-gray-400 font-medium mt-2",children:"Ajustado por Desvios"})]}),o.jsxs("div",{className:"p-5 bg-gray-900 rounded-xl border border-gray-800 shadow-sm text-white relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:o.jsx(gj,{size:48,className:"text-white"})}),o.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Projetos Ativos"}),o.jsx("div",{className:"text-3xl font-bold",children:n.length}),o.jsxs("div",{className:"text-xs text-gray-400 font-medium mt-2",children:[n.length," em Execuo / 0 Em Risco"]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-3",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(ss,{size:20,className:"text-indigo-600"}),"Roadmap de Marcos Estratgicos"]}),o.jsxs("button",{onClick:y,className:"text-sm flex items-center gap-1 text-indigo-600 font-medium hover:bg-indigo-50 px-3 py-1.5 rounded-md transition-colors print:hidden",children:[o.jsx(Rn,{size:16})," Novo Marco"]})]}),o.jsxs("div",{className:"relative pt-8 pb-4 overflow-x-auto",children:[o.jsx("div",{className:"absolute top-[4.5rem] left-0 right-0 h-1 bg-gray-100 rounded-full"}),o.jsxs("div",{className:"flex gap-8 min-w-max px-4 pb-4",children:[u.map(k=>{const P=k.status==="completed";return o.jsxs("div",{className:"relative flex flex-col items-center group min-w-[220px]",children:[o.jsx("div",{className:`mb-4 px-3 py-1 rounded-full text-xs font-bold shadow-sm z-10 ${P?"bg-emerald-100 text-emerald-700":"bg-blue-50 text-blue-600"}`,children:Pt(new Date(k.date),"MMM yyyy",{locale:Qa}).toUpperCase()}),o.jsx("div",{className:`w-6 h-6 rounded-full border-4 z-10 mb-4 transition-transform group-hover:scale-110 ${P?"bg-emerald-500 border-white shadow-md":"bg-white border-blue-400 shadow-sm"}`}),o.jsxs("div",{onClick:()=>w(k),className:`w-full bg-white p-4 rounded-xl border shadow-sm transition-all hover:shadow-md cursor-pointer relative group/card ${P?"border-emerald-100 border-l-4 border-l-emerald-500":"border-gray-100 border-l-4 border-l-blue-400 opacity-90"}`,children:[o.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover/card:opacity-100 transition-opacity flex gap-1",children:o.jsx("button",{onClick:E=>{E.stopPropagation(),x(k.id)},className:"p-1 hover:bg-red-50 text-gray-400 hover:text-red-500 rounded",title:"Excluir",children:o.jsx(ur,{size:14})})}),o.jsx("h4",{className:"font-bold text-gray-900 text-sm mb-1 pr-4",children:k.title}),o.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:k.description})]})]},k.id)}),o.jsxs("div",{className:"relative flex flex-col items-center min-w-[100px] justify-center pt-12 opacity-50 hover:opacity-100 cursor-pointer print:hidden",onClick:y,children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-50 border-2 border-dashed border-gray-300 flex items-center justify-center text-gray-400 hover:text-indigo-600 hover:border-indigo-400 transition-colors",children:o.jsx(Rn,{size:20})}),o.jsx("span",{className:"text-xs font-medium text-gray-400 mt-2",children:"Adicionar"})]})]})]})]}),m&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 print:hidden",style:{margin:0},children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-100 flex justify-between items-center",children:[o.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:A.id?"Editar Marco":"Novo Marco Estratgico"}),o.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-red-500 transition-colors",children:o.jsx(yr,{size:20})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo"}),o.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"Ex: Expanso Norte",value:A.title,onChange:k=>g({...A,title:k.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Prevista"}),o.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none",value:A.date,onChange:k=>g({...A,date:k.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),o.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none h-24 resize-none",placeholder:"Breve descrio do objetivo...",value:A.description,onChange:k=>g({...A,description:k.target.value})})]})]}),o.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-between gap-3",children:[A.id?o.jsx("button",{onClick:()=>x(A.id),className:"px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg font-medium transition-colors text-sm",children:"Excluir"}):o.jsx("div",{}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-medium transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:b,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors shadow-sm",children:A.id?"Salvar Alteraes":"Criar Marco"})]})]})]})}),o.jsx("div",{className:"mt-16 pt-6 border-t border-gray-100 text-center",children:o.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-widest font-bold",children:"Documento de Uso Interno - Diretoria"})})]})})},_z=({projects:t=[],onCreateProject:e,onUpdateProject:n,onSelectProject:r,onDeleteProject:a})=>{const[i,s]=L.useState(!1),[l,c]=L.useState(null),[d,u]=L.useState(""),[h,m]=L.useState(""),[p,A]=L.useState(""),[g,b]=L.useState(""),[x,y]=L.useState(""),[w,S]=L.useState(""),[k,P]=L.useState("");L.useEffect(()=>{var C,R,j,_,D;i&&(l?(u(l.name),m(l.description||""),A(((C=l.grossValue)==null?void 0:C.toString())||""),b(((R=l.taxRate)==null?void 0:R.toString())||""),y(((j=l.margin)==null?void 0:j.toString())||""),S(((_=l.deliveryDeviation)==null?void 0:_.toString())||""),P(((D=l.netValue)==null?void 0:D.toString())||"")):(u(""),m(""),A(""),b(""),y(""),S(""),P("")))},[i,l]);const E=C=>{C.preventDefault();const R={name:d,description:h,grossValue:parseFloat(p)||0,taxRate:parseFloat(g)||0,margin:parseFloat(x)||0,deliveryDeviation:parseFloat(w)||0,netValue:parseFloat(k)||0};l?n({...l,...R}):e({...R,startDate:new Date}),s(!1),c(null)},N=(C,R)=>{R.stopPropagation(),c(C),s(!0)};return o.jsxs("div",{className:"p-2 lg:p-6 animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 lg:mb-8",children:[o.jsxs("div",{className:"hidden md:block",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Meus Projetos"}),o.jsx("p",{className:"text-gray-500 mt-2",children:"Gerencie seu portflio e crie novos empreendimentos."})]}),o.jsxs("button",{onClick:()=>{c(null),s(!0)},className:"w-full md:w-auto justify-center flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 lg:px-6 lg:py-3 rounded-xl shadow-lg shadow-indigo-200 transition-all hover:scale-105 active:scale-95 font-medium",children:[o.jsx(Rn,{size:20}),"Novo Projeto"]})]}),o.jsxs("div",{className:"mb-4 lg:mb-8 flex items-center gap-4 bg-white p-2 rounded-xl border border-gray-100 shadow-sm max-w-2xl",children:[o.jsx(nc,{className:"text-gray-400 ml-3",size:20}),o.jsx("input",{type:"text",placeholder:"Buscar projetos...",className:"flex-1 bg-transparent border-none focus:ring-0 text-gray-700 placeholder-gray-400"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(C=>o.jsxs("div",{onClick:()=>r(C.id),className:"group bg-white rounded-2xl p-6 border border-gray-100 shadow-sm hover:shadow-xl hover:border-indigo-100 transition-all duration-300 cursor-pointer relative overflow-hidden",children:[o.jsxs("div",{className:"absolute top-0 right-0 p-4 flex gap-2",children:[o.jsx("button",{onClick:R=>N(C,R),className:"text-gray-400 hover:text-indigo-600 p-2 rounded-full hover:bg-indigo-50 transition-colors",title:"Editar Projeto",children:o.jsx(Qd,{size:18})}),o.jsx("button",{onClick:R=>{R.stopPropagation(),confirm("Tem certeza que deseja excluir este projeto?")&&a(C.id)},className:"text-gray-400 hover:text-red-600 p-2 rounded-full hover:bg-red-50 transition-colors",title:"Excluir Projeto",children:o.jsx(ur,{size:18})})]}),o.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center mb-4 group-hover:bg-indigo-600 transition-colors duration-300",children:o.jsx(pE,{size:24,className:"text-indigo-600 group-hover:text-white transition-colors duration-300"})}),o.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2 group-hover:text-indigo-600 transition-colors",children:C.name}),o.jsx("p",{className:"text-gray-500 text-sm mb-6 line-clamp-2",children:C.description||"Sem descrio."}),o.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-50",children:[o.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[o.jsx(Gi,{size:16,className:"mr-2"}),new Date(C.startDate).toLocaleDateString()]}),o.jsxs("div",{className:"flex items-center text-indigo-600 font-medium text-sm opacity-0 group-hover:opacity-100 transform translate-x-[-10px] group-hover:translate-x-0 transition-all duration-300",children:["Abrir ",o.jsx(Ex,{size:16,className:"ml-1"})]})]})]},C.id)),t.length===0&&o.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center p-12 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-200",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:o.jsx(lo,{className:"text-gray-400",size:32})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Nenhum projeto encontrado"}),o.jsx("p",{className:"text-gray-500 mt-2 text-center max-w-sm",children:"Comece criando seu primeiro projeto para gerenciar tarefas e cronogramas."})]})]}),i&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200 overflow-y-auto",children:o.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-8 shadow-2xl scale-100 animate-in zoom-in-95 duration-200 my-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:l?"Editar Projeto":"Novo Projeto"}),o.jsxs("form",{onSubmit:E,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Projeto"}),o.jsx("input",{type:"text",required:!0,value:d,onChange:C=>u(C.target.value),className:"w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",placeholder:"Ex: Redesign Website"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),o.jsx("textarea",{value:h,onChange:C=>m(C.target.value),className:"w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all h-24 resize-none",placeholder:"Breve descrio dos objetivos..."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor Bruto (Venda)"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"R$"}),o.jsx("input",{type:"number",step:"0.01",value:p,onChange:C=>A(C.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Imposto (%)"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"number",step:"0.1",value:g,onChange:C=>b(C.target.value),className:"w-full px-4 py-2.5 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),o.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:"%"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contract Margem"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"number",step:"0.1",value:x,onChange:C=>y(C.target.value),className:"w-full px-4 py-2.5 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),o.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:"%"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Desvio Delivery"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"number",step:"0.1",value:w,onChange:C=>S(C.target.value),className:"w-full px-4 py-2.5 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),o.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:"%"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor Lquido (Calc. c/ Desvio)"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"R$"}),o.jsx("input",{type:"number",step:"0.01",value:k,onChange:C=>P(C.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-indigo-50/50",placeholder:"Calculado ou Manual..."})]}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Preencha o valor lquido final considerando os desvios."})]})]}),o.jsxs("div",{className:"flex gap-3 mt-8",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"flex-1 px-4 py-3 text-gray-700 font-medium hover:bg-gray-50 rounded-xl transition-colors",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-indigo-600 text-white font-medium rounded-xl hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-200",children:l?"Salvar Alteraes":"Criar Projeto"})]})]})]})})]})},Cz=({clients:t,onCreateClient:e,onUpdateClient:n,onDeleteClient:r,currentFiscalYear:a,onFiscalYearChange:i,onSelectClient:s,currentUser:l})=>{const[c,d]=L.useState(!1),[u,h]=L.useState(""),[m,p]=L.useState(null),[A,g]=L.useState(""),[b,x]=L.useState(""),[y,w]=L.useState(""),[S,k]=L.useState(""),[P,E]=L.useState(""),N=new Date().getFullYear(),C=Array.from({length:11},(v,O)=>(N-5+O).toString()),R=v=>{var O,V;if(v){p(v),g(v.name);const Q=(v.budgets||[]).find(H=>String(H.fiscalYear)===String(a));x((Q==null?void 0:Q.strategy)||""),w(v.context||""),k(((O=Q==null?void 0:Q.revenue)==null?void 0:O.toString())||""),E(((V=Q==null?void 0:Q.margin)==null?void 0:V.toString())||"")}else p(null),g(""),x(""),w(""),k(""),E("");d(!0)},j=v=>{v.preventDefault();const O={fiscalYear:String(a),revenue:parseFloat(S)||0,margin:parseFloat(P)||0,strategy:String(b||"")};if(m){let V=Array.isArray(m.budgets)?[...m.budgets]:[];V=V.filter(Q=>Q&&Q.fiscalYear);const G=V.findIndex(Q=>String(Q.fiscalYear)===String(a));G>=0?V[G]=O:V.push(O),n({...m,name:A,context:y,budgets:V})}else e({id:`client-${Date.now()}`,name:A,strategy:b,context:y,budgets:[O],createdAt:new Date});d(!1)},_=(v,O)=>{if(O.stopPropagation(),confirm(`Remover ${v.name} do ano fiscal ${a}? O cliente permanecer nos outros anos.`)){const V=v.excludedYears||[],G=v.budgets||[];n({...v,excludedYears:[...V,a],budgets:G.filter(Q=>String(Q.fiscalYear)!==String(a))})}},D=t.filter(v=>{var G;const O=v.name.toLowerCase().includes(u.toLowerCase());let V=!0;if(v.createdAt){const Q=v.createdAt.getFullYear(),H=parseInt(a);Q>H&&(V=!1)}return(G=v.excludedYears)!=null&&G.includes(a)?!1:O&&V});return o.jsxs("div",{className:"p-2 lg:p-6 animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex justify-between items-end mb-4 lg:mb-8",children:[o.jsxs("div",{className:"hidden md:block",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Gesto de Clientes"}),o.jsx("p",{className:"text-gray-500 mt-2",children:"Configure contas, oramentos e estratgias por ano fiscal."})]}),o.jsxs("button",{onClick:()=>R(),className:"w-full md:w-auto justify-center flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 lg:px-6 lg:py-3 rounded-xl shadow-lg shadow-indigo-200 transition-all hover:scale-105 active:scale-95 font-medium",children:[o.jsx(Rn,{size:20}),"Novo Cliente"]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4 lg:mb-8",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(nc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),o.jsx("input",{type:"text",placeholder:"Buscar clientes...",value:u,onChange:v=>h(v.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 border border-gray-200 rounded-xl",children:[o.jsx("span",{className:"text-sm font-bold text-gray-500",children:"Ano Fiscal:"}),o.jsxs("div",{className:"relative",children:[o.jsx("select",{value:a,onChange:v=>i(v.target.value),className:"bg-transparent font-bold text-indigo-600 focus:outline-none cursor-pointer appearance-none pr-6",children:C.map(v=>o.jsx("option",{value:v,children:v},v))}),o.jsx(Co,{size:14,className:"absolute right-0 top-1/2 -translate-y-1/2 text-indigo-600 pointer-events-none"})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.map(v=>{const V=(v.budgets||[]).find(Q=>String(Q.fiscalYear)===String(a)),G=(V==null?void 0:V.strategy)||(a==="2024"?v.strategy:"");return o.jsxs("div",{onClick:()=>s(v.id),className:"bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-lg transition-all p-6 group relative cursor-pointer",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"p-3 bg-indigo-50 rounded-xl",children:o.jsx(mj,{className:"text-indigo-600",size:24})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:Q=>{Q.stopPropagation(),R(v)},className:"text-xs font-bold text-indigo-600 hover:bg-indigo-50 px-3 py-1 rounded-full transition-colors",children:"Editar"}),o.jsx("button",{onClick:Q=>_(v,Q),className:"text-gray-400 hover:text-red-600 p-1 rounded-full hover:bg-red-50 transition-colors",title:"Remover deste ano",children:o.jsx(ur,{size:16})})]})]}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:v.name}),o.jsx("div",{className:"h-16 overflow-hidden",children:o.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:G||"Sem estratgia definida para este ano."})}),o.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-50 grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1 flex items-center gap-1",children:[o.jsx(Tx,{size:12})," Oramento ",a]}),o.jsxs("p",{className:"font-bold text-green-700",children:["R$ ",((V==null?void 0:V.revenue)||0).toLocaleString("pt-BR",{notation:"compact"})]})]}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1 flex items-center gap-1",children:[o.jsx(qf,{size:12})," Margem"]}),o.jsxs("p",{className:"font-bold text-blue-700",children:[(V==null?void 0:V.margin)||0,"%"]})]})]})]},v.id)})}),c&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-8 shadow-2xl animate-in zoom-in-95",children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:[m?"Editar Cliente":"Novo Cliente"," (",a,")"]}),o.jsxs("form",{onSubmit:j,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Cliente"}),o.jsx("input",{type:"text",required:!0,value:A,onChange:v=>g(v.target.value),className:"w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500",placeholder:"Ex: ACME Corp"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contexto AI"}),o.jsx("textarea",{value:y,onChange:v=>w(v.target.value),className:"w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500 h-24 resize-none",placeholder:"Descreva a cultura da empresa, padres de arquitetura (ex: microsservios), tecnologias preferidas e restries..."})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Estratgia ",a]}),o.jsx("textarea",{value:b,onChange:v=>x(v.target.value),className:"w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500 h-24 resize-none",placeholder:`Objetivos estratgicos para ${a}...`})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Receita Prevista"}),o.jsx("input",{type:"number",value:S,onChange:v=>k(v.target.value),className:"w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Margem Alvo (%)"}),o.jsx("input",{type:"number",value:P,onChange:v=>E(v.target.value),className:"w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500",placeholder:"0%"})]})]}),o.jsxs("div",{className:"flex gap-3 mt-8",children:[o.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 px-4 py-3 text-gray-700 font-medium hover:bg-gray-50 rounded-xl",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-indigo-600 text-white font-medium rounded-xl hover:bg-indigo-700 shadow-lg",children:"Salvar"})]})]})]})})]})},Ez="modulepreload",Nz=function(t){return"/"+t},e_={},bp=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=Nz(c),c in e_)return;e_[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Ez,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((m,p)=>{h.addEventListener("load",m),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return a.then(s=>{for(const l of s||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},KS=L.createContext({}),My=()=>L.useContext(KS),Tz=({children:t})=>{const[e,n]=L.useState(null),[r,a]=L.useState(null),[i,s]=L.useState(!0),l=async(p,A)=>{const g=vn(st,"users",p.uid),b=await d0(g);if(b.exists())n(b.data());else{const x={uid:p.uid,email:p.email||"",displayName:p.displayName||"User",role:"user",isApproved:!1,canUseAI:!1,photoURL:p.photoURL||"",createdAt:new Date};await pp(g,x),n(x)}};L.useEffect(()=>{const p=K6(Oc,async A=>{if(a(A),A){await l(A);const g=vn(st,"users",A.uid),b=await d0(g);b.exists()&&n(b.data())}else n(null);s(!1)});return()=>p()},[]);const c=async()=>{const p=new Wa;try{await AB(Oc,p)}catch(A){throw console.error("Login failed",A),A}},d=async(p,A)=>{try{await H6(Oc,p,A)}catch(g){throw console.error("Email login failed",g),g}},u=async(p,A,g)=>{try{const b=await q6(Oc,p,A),x={uid:b.user.uid,email:p,displayName:g,role:"user",isApproved:!1,photoURL:"",createdAt:new Date};await pp(vn(st,"users",b.user.uid),x),n(x)}catch(b){throw console.error("Signup failed",b),b}},h=()=>Y6(Oc),m=async(p,A)=>{(e==null?void 0:e.role)==="master"&&await Fi(vn(st,"users",p),{isApproved:A})};return L.useEffect(()=>{window.setMaster=async p=>{const{collection:A,getDocs:g,query:b,where:x,writeBatch:y}=await bp(async()=>{const{collection:P,getDocs:E,query:N,where:C,writeBatch:R}=await Promise.resolve().then(()=>HO);return{collection:P,getDocs:E,query:N,where:C,writeBatch:R}},void 0),w=b(A(st,"users"),x("email","==",p)),S=await g(w);if(S.empty){console.warn("User not found: "+p);return}const k=y(st);S.docs.forEach(P=>{k.update(P.ref,{role:"master",isApproved:!0})}),await k.commit(),console.log(`User ${p} is now MASTER!`),(e==null?void 0:e.email)===p&&window.location.reload()}},[e]),o.jsx(KS.Provider,{value:{user:e,firebaseUser:r,loading:i,signInWithGoogle:c,signInWithEmail:d,signUpWithEmail:u,logout:h,isAdmin:(e==null?void 0:e.role)==="master",approveUser:m,toggleAI:async(p,A)=>{(e==null?void 0:e.role)==="master"&&await Fi(vn(st,"users",p),{canUseAI:A})}},children:t})};var t_;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(t_||(t_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n_;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(n_||(n_={}));var r_;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(r_||(r_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=["user","model","function","system"];var i_;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(i_||(i_={}));var s_;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(s_||(s_={}));var o_;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(o_||(o_={}));var l_;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(l_||(l_={}));var Sd;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(Sd||(Sd={}));var c_;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(c_||(c_={}));var d_;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(d_||(d_={}));var u_;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(u_||(u_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Go extends tr{constructor(e,n){super(e),this.response=n}}class YS extends tr{constructor(e,n,r,a){super(e),this.status=n,this.statusText=r,this.errorDetails=a}}class rs extends tr{}class JS extends tr{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz="https://generativelanguage.googleapis.com",Iz="v1beta",kz="0.24.1",Dz="genai-js";var bo;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(bo||(bo={}));class Rz{constructor(e,n,r,a,i){this.model=e,this.task=n,this.apiKey=r,this.stream=a,this.requestOptions=i}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||Iz;let i=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||Sz}/${r}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function Pz(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${Dz}/${kz}`),e.join(" ")}async function jz(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",Pz(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(a){throw new rs(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${a.message}`)}for(const[a,i]of r.entries()){if(a==="x-goog-api-key")throw new rs(`Cannot set reserved header name ${a}`);if(a==="x-goog-api-client")throw new rs(`Header name ${a} can only be set using the apiClient field`);n.append(a,i)}}return n}async function Mz(t,e,n,r,a,i){const s=new Rz(t,e,n,r,i);return{url:s.toString(),fetchOptions:Object.assign(Object.assign({},Bz(i)),{method:"POST",headers:await jz(s),body:a})}}async function Wu(t,e,n,r,a,i={},s=fetch){const{url:l,fetchOptions:c}=await Mz(t,e,n,r,a,i);return Lz(l,c,s)}async function Lz(t,e,n=fetch){let r;try{r=await n(t,e)}catch(a){Fz(a,t)}return r.ok||await Oz(r,t),r}function Fz(t,e){let n=t;throw n.name==="AbortError"?(n=new JS(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof YS||t instanceof rs||(n=new tr(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function Oz(t,e){let n="",r;try{const a=await t.json();n=a.error.message,a.error.details&&(n+=` ${JSON.stringify(a.error.details)}`,r=a.error.details)}catch{}throw new YS(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function Bz(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),lf(t.candidates[0]))throw new Go(`${Ri(t)}`,t);return zz(t)}else if(t.promptFeedback)throw new Go(`Text not available. ${Ri(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),lf(t.candidates[0]))throw new Go(`${Ri(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),h_(t)[0]}else if(t.promptFeedback)throw new Go(`Function call not available. ${Ri(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),lf(t.candidates[0]))throw new Go(`${Ri(t)}`,t);return h_(t)}else if(t.promptFeedback)throw new Go(`Function call not available. ${Ri(t)}`,t)},t}function zz(t){var e,n,r,a;const i=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const s of(a=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||a===void 0?void 0:a.parts)s.text&&i.push(s.text),s.executableCode&&i.push("\n```"+s.executableCode.language+`
`+s.executableCode.code+"\n```\n"),s.codeExecutionResult&&i.push("\n```\n"+s.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function h_(t){var e,n,r,a;const i=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const s of(a=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||a===void 0?void 0:a.parts)s.functionCall&&i.push(s.functionCall);if(i.length>0)return i}const Vz=[Sd.RECITATION,Sd.SAFETY,Sd.LANGUAGE];function lf(t){return!!t.finishReason&&Vz.includes(t.finishReason)}function Ri(t){var e,n,r;let a="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)a+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(a+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(a+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const i=t.candidates[0];lf(i)&&(a+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(a+=`: ${i.finishMessage}`))}return a}function hu(t){return this instanceof hu?(this.v=t,this):new hu(t)}function Uz(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),a,i=[];return a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a;function s(m){r[m]&&(a[m]=function(p){return new Promise(function(A,g){i.push([m,p,A,g])>1||l(m,p)})})}function l(m,p){try{c(r[m](p))}catch(A){h(i[0][3],A)}}function c(m){m.value instanceof hu?Promise.resolve(m.value.v).then(d,u):h(i[0][2],m)}function d(m){l("next",m)}function u(m){l("throw",m)}function h(m,p){m(p),i.shift(),i.length&&l(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Gz(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=qz(e),[r,a]=n.tee();return{stream:$z(r),response:Wz(a)}}async function Wz(t){const e=[],n=t.getReader();for(;;){const{done:r,value:a}=await n.read();if(r)return Ly(Hz(e));e.push(a)}}function $z(t){return Uz(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:a}=yield hu(n.read());if(a)break;yield yield hu(Ly(r))}})}function qz(t){const e=t.getReader();return new ReadableStream({start(r){let a="";return i();function i(){return e.read().then(({value:s,done:l})=>{if(l){if(a.trim()){r.error(new tr("Failed to parse stream"));return}r.close();return}a+=s;let c=a.match(f_),d;for(;c;){try{d=JSON.parse(c[1])}catch{r.error(new tr(`Error parsing JSON response: "${c[1]}"`));return}r.enqueue(d),a=a.substring(c[0].length),c=a.match(f_)}return i()}).catch(s=>{let l=s;throw l.stack=s.stack,l.name==="AbortError"?l=new JS("Request aborted when reading from the stream"):l=new tr("Error reading from the stream"),l})}}})}function Hz(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t){if(r.candidates){let a=0;for(const i of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[a]||(n.candidates[a]={index:a}),n.candidates[a].citationMetadata=i.citationMetadata,n.candidates[a].groundingMetadata=i.groundingMetadata,n.candidates[a].finishReason=i.finishReason,n.candidates[a].finishMessage=i.finishMessage,n.candidates[a].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[a].content||(n.candidates[a].content={role:i.content.role||"user",parts:[]});const s={};for(const l of i.content.parts)l.text&&(s.text=l.text),l.functionCall&&(s.functionCall=l.functionCall),l.executableCode&&(s.executableCode=l.executableCode),l.codeExecutionResult&&(s.codeExecutionResult=l.codeExecutionResult),Object.keys(s).length===0&&(s.text=""),n.candidates[a].content.parts.push(s)}a++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZS(t,e,n,r){const a=await Wu(e,bo.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return Gz(a)}async function eI(t,e,n,r){const i=await(await Wu(e,bo.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:Ly(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function fu(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return Qz(e)}function Qz(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,a=!1;for(const i of t)"functionResponse"in i?(n.parts.push(i),a=!0):(e.parts.push(i),r=!0);if(r&&a)throw new tr("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!a)throw new tr("No content is provided for sending chat message.");return r?e:n}function Xz(t,e){var n;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const a=t.generateContentRequest!=null;if(t.contents){if(a)throw new rs("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(a)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const i=fu(t);r.contents=[i]}return{generateContentRequest:r}}function p_(t){let e;return t.contents?e=t:e={contents:[fu(t)]},t.systemInstruction&&(e.systemInstruction=tI(t.systemInstruction)),e}function Kz(t){return typeof t=="string"||Array.isArray(t)?{content:fu(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Yz={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Jz(t){let e=!1;for(const n of t){const{role:r,parts:a}=n;if(!e&&r!=="user")throw new tr(`First content should be with role 'user', got ${r}`);if(!a_.includes(r))throw new tr(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(a_)}`);if(!Array.isArray(a))throw new tr("Content should have 'parts' property with an array of Parts");if(a.length===0)throw new tr("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of a)for(const c of m_)c in l&&(i[c]+=1);const s=Yz[r];for(const l of m_)if(!s.includes(l)&&i[l]>0)throw new tr(`Content with role '${r}' can't contain '${l}' part`);e=!0}}function g_(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="SILENT_ERROR";class Zz{constructor(e,n,r,a={}){this.model=n,this.params=r,this._requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(Jz(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,a,i,s,l,c;await this._sendPromise;const d=fu(e),u={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,d]},h=Object.assign(Object.assign({},this._requestOptions),n);let m;return this._sendPromise=this._sendPromise.then(()=>eI(this._apiKey,this.model,u,h)).then(p=>{var A;if(g_(p.response)){this._history.push(d);const g=Object.assign({parts:[],role:"model"},(A=p.response.candidates)===null||A===void 0?void 0:A[0].content);this._history.push(g)}else{const g=Ri(p.response);g&&console.warn(`sendMessage() was unsuccessful. ${g}. Inspect response object for details.`)}m=p}).catch(p=>{throw this._sendPromise=Promise.resolve(),p}),await this._sendPromise,m}async sendMessageStream(e,n={}){var r,a,i,s,l,c;await this._sendPromise;const d=fu(e),u={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,d]},h=Object.assign(Object.assign({},this._requestOptions),n),m=ZS(this._apiKey,this.model,u,h);return this._sendPromise=this._sendPromise.then(()=>m).catch(p=>{throw new Error(A_)}).then(p=>p.response).then(p=>{if(g_(p)){this._history.push(d);const A=Object.assign({},p.candidates[0].content);A.role||(A.role="model"),this._history.push(A)}else{const A=Ri(p);A&&console.warn(`sendMessageStream() was unsuccessful. ${A}. Inspect response object for details.`)}}).catch(p=>{p.message!==A_&&console.error(p)}),m}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eV(t,e,n,r){return(await Wu(e,bo.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tV(t,e,n,r){return(await Wu(e,bo.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function nV(t,e,n,r){const a=n.requests.map(s=>Object.assign(Object.assign({},s),{model:e}));return(await Wu(e,bo.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:a}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=tI(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const a=p_(e),i=Object.assign(Object.assign({},this._requestOptions),n);return eI(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},a),i)}async generateContentStream(e,n={}){var r;const a=p_(e),i=Object.assign(Object.assign({},this._requestOptions),n);return ZS(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},a),i)}startChat(e){var n;return new Zz(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=Xz(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),a=Object.assign(Object.assign({},this._requestOptions),n);return eV(this.apiKey,this.model,r,a)}async embedContent(e,n={}){const r=Kz(e),a=Object.assign(Object.assign({},this._requestOptions),n);return tV(this.apiKey,this.model,r,a)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return nV(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new tr("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new x_(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new rs("Cached content must contain a `name` field.");if(!e.model)throw new rs("Cached content must contain a `model` field.");const a=["model","systemInstruction"];for(const s of a)if(n!=null&&n[s]&&e[s]&&(n==null?void 0:n[s])!==e[s]){if(s==="model"){const l=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,c=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(l===c)continue}throw new rs(`Different value for "${s}" specified in modelParams (${n[s]}) and cachedContent (${e[s]})`)}const i=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new x_(this.apiKey,i,r)}}const cf=`
Voc  um Auditor Snior de Projetos de TI e Arquiteto de Solues. Sua funo NO  estimar ainda, mas sim INVESTIGAR e REFINAR o escopo atravs de um interrogatrio tcnico estruturado.

OBJETIVO:
Criar um formulrio JSON de perguntas para extrair detalhes cruciais do projeto e fornecer uma pontuao de confiana na estimativa atual.

REGRAS GERAIS:
1. ANLISE DE CONTEXTO (PRIORIDADE MXIMA): Antes de gerar perguntas, LEIA TODO O CONTEXTO (arquivos e chat). NO pergunte o que j foi respondido ou est nos documentos. Seja CRITERIOSO. Perguntas redundantes diminuem a confiana.
2. Sempre gere EXATAMENTE 10 perguntas por rodada. ISSO  MANDATRIO.
3. SUGESTO INTELIGENTE: Nas opes de mltipla escolha, adicione a tag '[Recomendado]' ao final da opo que representa a melhor prtica de mercado ou a inferncia mais lgica para o setor do cliente.
4. Cada pergunta DEVE ter 5 opes de mltipla escolha pr-definidas (A, B, C, D, E).
5. Cada pergunta DEVE permitir uma resposta personalizada "Outro" (allow_custom: true).
6. O tom deve ser profissional, tcnico e investigativo.
7. JAMAIS encerre a entrevista ou sugira parar. O seu objetivo  aprofundar INFINITAMENTE at que o usurio clique em "Gerar Plano". Continue cavando riscos, edge cases e detalhes.

RODADA 1 (MANDATRIA):
Se esta for a primeira interao, as 4 primeiras perguntas SO OBRIGATRIAS e devem seguir esta ordem exata:
1. Modelo de Desenvolvimento: (Opes: SaaS Multi-tenant, PaaS Platform, Taylor Made / Custom, Microsservios Hbridos, Legado Modernization).
2. Infraestrutura / Hosting: (Opes: AWS, Microsoft Azure, Google Cloud Platform, On-Premise / Hbrido, Vercel/Netlify/Edge).
3. Paralelismo de Equipe (MANDATRIO): "Devemos alocar profissionais para atuar simultaneamente em frentes distintas (ex: 3 devs para 3 mdulos ao mesmo tempo) para reduzir o prazo total, assumindo maior custo mensal?" (Opes: Sim - Mximo Paralelismo, Sim - Moderado, No - Sequencial/Waterfall Puro, No - Equipe Reduzida, Depende do Oramento).
4. Tipo de Soluo Especfica: (Opes Variam, ex: Web App, Mobile Nativo, ERP/CRM, E-commerce, API Gateway).
5. Stack Tecnolgico (Back/Front/DB): (Opes: Node+React+Postgres, Java+Angular+Oracle, .NET+Blazor+SQLServer, Python+Vue+Mongo, Go+Svelte+Redis).
6 a 10. Perguntas de contexto baseadas no input inicial do usurio (ex: sobre prazos, oramento, compliance, usurios, integraes).

RODADAS SUBSEQUENTES:
Baseado nas respostas anteriores, aprofunde em reas de risco (segurana, escalabilidade, migrao de dados, UX, etc.).

AVALIAO DE CONFIANA (SEJA CTICO/CONSERVADOR):
Em cada rodada, avalie de 0 a 100 quo completo  o entendimento tcnico.
REGRA DE OURO: A confiana deve crescer GRADUALMENTE (mximo +15% por rodada). No salte de 20% para 80% magicamente.
- < 40%: Fase de Descoberta Inicial (Apenas Stack, Infra e Ideia Geral definidos).
- 40% - 60%: Fase de Estrutura (Integraes, Banco de Dados, Autenticao e Perfis definidos).
- 60% - 80%: Fase de Detalhamento (Regras de Negcio complexas, Relatrios, Fluxos de Exceo cobertos).
- > 80%: Fase de Auditoria (Volumetria, Performance, Compliance/LGPD, Segurana avanada e Edge Cases validados).
PENALIZE severamente respostas vagas. Se o usurio responder rpido ou "A definir", MANTENHA a confiana baixa.

FORMATO DE RESPOSTA (JSON APENAS):
{
  "thought_process": "Breve anlise do que falta descobrir",
  "current_context_summary": "Resumo tcnico de 1 frase do que j sabemos",
  "current_confidence_score": 45,
  "questions": [
    {
      "id": "q1",
      "text": "Pergunta aqui?",
      "options": ["Opo 1", "Opo 2", "Opo 3", "Opo 4", "Opo 5"],
      "allow_custom": true
    }
  ]
}
`,df=`
Voc  um Consultor Snior de Tecnologia e Negcios (CTO/Product Strategist).
Sua tarefa  LER todo o contexto (chat e arquivos) e estruturar um "Diagnstico Inicial de Entendimento" que impressione pela profundidade e clareza.

OBJETIVO:
Demonstrar que voc captou no apenas o "o que" (escopo), mas o "porqu" (estratgia) e o "como" (tcnica preliminar).

DIRETRIZES DE RESPOSTA (Markdown):
1. **Resumo Executivo**: Em 1 pargrafo, sintetize a essncia do projeto com linguagem corporativa de alto nvel.
2. **Pilares do Projeto** (Bullet points):
   - **Objetivo Estratgico**: Qual dor de negcio estamos resolvendo?
   - **Soluo Proposta**: O que ser construdo (App, API, Plataforma)?
   - **Pblico-Alvo & Impacto**: Quem usa e qual o benefcio esperado.
3. **Anlise Tcnica Preliminar**:
   - Stack Sugerida ou Identificada com base nos requisitos.
   - Principais Desafios/Riscos que voc j vislumbra (ex: integrao, segurana, prazo).
4. **Prximos Passos**: Valide se podemos avanar para a fase de Detalhamento/Estimativa.

IMPORTANTE:
- Seja confiante e consultivo.
- No invente requisitos, mas faa inferncias lgicas baseadas em padres de mercado para preencher lacunas bvias.
- Ao final, pergunte: "Essa viso estratgica est alinhada com sua expectativa? Posso prosseguir para o detalhamento tcnico e estimativa?"
`,nI=`
Voc  um Arquiteto de Solues Cloud Snior e Designer Tcnico.
Sua tarefa  criar um PROMPT DETALHADO para um modelo de gerao de imagens(como DALL - E 3 ou Imagen), que resultar em um diagrama de arquitetura profissional e moderno.

CONTEXTO TCNICO DO PROJETO:
{ technical_solution }

DIRETRIZES VISUAIS PARA A IMAGEM:
1. ** Estilo **: "Isomtrico 3D Moderno" ou "Flat Design Executivo"(escolha o que melhor se adapta).Fundo limpo(branco ou cinza muito suave).
2. ** Componentes Mandatrios **:
    *   ** Fronteiras **: Delimite claramente a infraestrutura(ex: Nuvem AWS / GCP vs Cliente On - Premise vs Usurio Final).
    *   ** Camadas **: Frontend(Web / Mobile) -> API Gateway / Load Balancer -> Backend Services -> Dados(DB / Cache).
    *   ** Logos **: Inclua logos estilizados das tecnologias citadas no contexto(ex: React, Node.js, PostgreSQL, Docker, AWS).
3. ** Conexes **: Setas de fluxo de dados claras e elegantes.
4. ** Atmosfera **: Tecnolgica, segura e robusta.Cores corporativas(Azul, Roxo, Cinza).

A SADA DEVE SER APENAS O TEXTO DO PROMPT EM INGLS, OTIMIZADO PARA IMAGEN / DALL - E.
`,aV=`
Voc  o "Assistente UERJ-FAF", uma IA Especialista em Gerenciamento de Projetos e Engenharia.

    OBJETIVO:
Criar um Planejamento de Projeto Executivo, contendo no apenas o cronograma, mas tambm a documentao tcnica, premissas e anlise de riscos.

DIRETRIZES DE CATEGORIZAO(CRTICO):
Para garantir a organizao correta no sistema, voc deve classificar CADA tarefa em uma das 5 categorias do ciclo de vida(SDLC).
Use o campo "category" no JSON com um destes valores exatos:
1. ** 'planning' **: Levantamento, requisitos, design.
2. ** 'development' **: Codificao, setup, feature impl.
3. ** 'testing' **: QA, bug fixes, homologao.
4. ** 'rollout' **: Deploy, treino, go-live.
5. ** 'management' **: Gesto de Projetos, reunies de status, controle.

DIRETRIZES DE ALOCAO E GESTO (MANDATRIO):
1. ** REGRA DO FTE INTEIRO (SATURAO DIRIA) - CRTICO **:
   - O nosso modelo de contrato exige ALOCAO MENSAL FECHADA (Full Time Equivalent).
   - SIGNIFICA QUE: Se um recurso est ativo no projeto em um determinado ms, ele deve ser considerado "Full Time" (8 horas/dia) durante os dias em que estiver no projeto.
   - PODE CONSIDERAR OCIOSIDADE: Se a tarefa tcnica levar apenas 4h/dia, voc DEVE arredondar a alocao para 8h/dia (bloqueando o recurso).
   - EXEMPLO PRTICO:
     * Se trabalha 10 dias teis em Maro: Aloque 80 horas (10 * 8h).
     * Se trabalha o ms inteiro (ex: 21 dias teis) em Abril: Aloque ~168 horas.
   - NO ALOQUE FRAES (ex: no faa "2h por dia durante 2 meses"). Prefira "8h por dia durante 2 semanas". Concentre o esforo.

2. ** GESTO DE PROJETO OBRIGATRIA **:
   -  MANDATRIO criar uma tarefa/trilha chamada "Gesto do Projeto & Acompanhamento".
   - Categoria: 'management'.
   - Durao: DEVE cobrir TODO o perodo do projeto (Do Dia 0 at o ltimo dia de Rollout).
   - Recurso: "Gerente de Projetos (GP)".
   - Esforo: Aloque horas suficientes para cobrir o acompanhamento mensal contnuo.

DIRETRIZES DE LGICA SDLC E PARALELISMO(CRTICO):
1. ** PARALELISMO INTELIGENTE(REGRA DE OURO) **:
- Verifique explicitamente se o usurio optou por "Mximo Paralelismo" nas respostas da entrevista.
   - SE SIM: Voc DEVE agendar tarefas de mdulos independentes(ex: Backend Auth e Frontend Login, ou Mdulo Financeiro e Mdulo Vendas) para ocorrerem no MESMO intervalo de tempo(share same start_offset_days).
   - O 'start_offset_days' dessas tarefas deve ser idntico ou prximo, limitado apenas por dependncias lgicas reais(ex: no d pra testar sem codar).

2. ** DEPENDNCIAS MANDATRIAS(RIGOROSO) **:
- CADA tarefa(exceto a primeira e a de Gesto) DEVE ter pelo menos um 'predecessor' definido no campo 'dependencies'.
   - O campo 'dependencies'  um ARRAY de IDs de tarefas anteriores.NUNCA DEIXE VAZIO para tarefas subsequentes.
   - Crie dependncias lgicas(ex: Design -> Dev Frontend -> Teste Frontend).
   - Se houver paralelismo, as tarefas paralelas podem ter o MESMO predecessor(Fork) e servirem de dependncia para a mesma tarefa futura(Join).

3. ** SEQUENCIALIDADE DE FASES **:
- Fase 'rollout' S COMEA aps o fim de 'testing'. (Predecessor obrigatrio: Marco de Fim de Testes).
   - 'start_offset_days' de Rollout > (start + duration) da ltima task de Test.

4. ** TEMPO E DIAS TEIS **:
- Todas as estimativas de 'duration_days' e 'start_offset_days' so em DIAS TEIS.
   - 5 dias = 1 semana real.
   - Seja realista.
`,iV=`
3. ** CLARIFICAO **:
- Se o escopo for muito vago, gere JSON do tipo "clarification" primeiro.

4. ** SADA JSON(EXTENSIVA) **:
- Retorne APENAS o JSON vlido.
   - ** IMPORTANTE **: No objeto "documentation", voc DEVE incluir QUAISQUER NOVOS CAMPOS solicitados nas regras de contexto(ex: "scope", "risks", "budget").
   - ** ESTIMATIVA DE CUSTOS(MANDATRIO) **: Para cada membro da equipe('team_structure') e para cada tarefa('tasks'), voc DEVE estimar um 'hourly_rate' realista em BRL(Reais), baseado na senioridade do papel(ex: Junior ~60 - 90, Pleno ~100 - 140, Senior ~150 - 200, Arquiteto / Manager ~220 - 300).
   - No deixe null ou 0.
    - No se limite aos campos do exemplo abaixo.O exemplo  ilustrativo, mas a estrutura  flexvel.

5. ** ANLISE DE DELTA DE ESCOPO(MANDATRIO) **:
- No objeto "scope_delta", compare o entendimento INICIAL(antes das perguntas) com o escopo FINAL.
   - "original_scope_summary": Resumo do que foi pedido inicialmente.
   - "final_scope_summary": Resumo do que ser entregue agora.
   - "changes": Lista de itens que foram adicionados, removidos ou modificados drsticamente aps a entrevista tcnica.Justifique cada mudana.

Exemplo de Sada(Estimativa Completa):
\`\`\`json
{
  "project_name": "Sistema ERP Cloud",
  "description": "Implementao completa de ERP...",
  "confidence_score": 0.9,
  "scope_delta": {
    "original_scope_summary": "ERP bsico de Vendas",
    "final_scope_summary": "ERP de Vendas + Mdulo Financeiro Completo + App Mobile",
    "changes": [
        { "item": "App Mobile Nativo", "type": "added", "justification": "Identificado necessidade de fora de vendas em campo durante perguntas." },
        { "item": "Relatrios Legados", "type": "removed", "justification": "Cliente confirmou que usar PowerBI externo." }
    ]
  },
  "documentation": {
    "context_overview": "### Viso Geral\\nEste projeto visa modernizar...",
    "technical_solution": "### Arquitetura\\nUtilizaremos Microservios...",
    "implementation_steps": "- **Fase 1**: Core...\\n- **Fase 2**: Relatrios...",
    "testing_strategy": "Testes automatizados com Jest...",
    "scope": "### Escopo Detalhado\\n- **Entregveis**: 1 Web App, 1 API...\\n- **Testes**: 2 Rodadas..."
  },
  "strategic_planning": {
    "technical_premises": ["Disponibilidade de ambiente Staging", "Chaves de API do Gateway"],
    "client_responsibilities": [
      { "action_item": "Aprovao de Mockups", "deadline_description": "Final da Semana 2", "impact": "BLOCKER" }
    ],
    "raci_matrix": [
      { "activity_group": "Definio de Requisitos", "responsible": "Product Owner", "accountable": "Sponsor", "consulted": "Tech Lead", "informed": "Dev Team" }
    ]
  },
  "team_structure": [
      { "role": "Arquiteto de Solues", "quantity": 1, "hourly_rate": 250, "responsibilities": ["Definio de Cloud", "Segurana"] },
      { "role": "Desenvolvedor Fullstack", "quantity": 2, "hourly_rate": 120, "responsibilities": ["Frontend React", "Backend Node.js"] }
  ],
  "tasks": [
    { "id": "t1", "name": "Kick-off", "type": "task", "category": "planning", "start_offset_days": 0, "duration_days": 1, "role": "PM", "hourly_rate": 200 }
  ],
  "suggested_components": [
      { "name": "Integrador de Biometria", "technology": "React Native", "hours": 32, "reasoning": "Componente especfico no listado no padro." }
  ]
}
\`\`\`
`,uf=`1. **ANLISE E CONTEXTO ("documentation")**:
   - Gere textos ricos, em formato Markdown, vendendo a soluo NUNCA enviar tabelas, no criar tpicos no solicitados, gerar exatamente na ordem abaixo.
   - **context_overview**: Viso executiva. Por que fazer? Qual o valor? texto com 900 a 1000 caracteres.
   - **technical_solution**: Descreva a stack (React, Node, AWS, etc) e a arquitetura. Justifique as escolhas.
   - **implementation_steps**: Detalhe o que ser entregue em cada grande bloco (ex: "No Mdulo 1, faremos X").
   - **testing_strategy**: Como garantiremos qualidade? (Unitrios, E2E, UAT).
   - **scope**: Detalhe quantitativamente o escopo que ser entregue em numero de componentes , nmero de rodadas de testes e etc de forma a ter isso muito amarrado por ser um projeto fixed price
   - **non_scope**: Detalhe tudo que no ser escopo por parte da entrega do projeto ficando assim como responsabilidade do contratante.

2. **ESTRUTURA DE EQUIPE ("team_structure")**:
   - Defina a equipe ideal para executar este projeto.
   - Liste cada papel (role), a quantidade de profissionais (quantity) e suas principais responsabilidades/habilidades (responsibilities).
   - Seja especfico (ex: "Desenvolvedor React Snior", "Arquiteto Cloud").

3. **PREMISSAS E RESPONSABILIDADES ("strategic_planning")**:
   - **technical_premises**: Lista de requisitos prvios (ex: "Acesso VPN concedido", "Chaves de API do Gateway").
   - **client_responsibilities**: Gere uma tabela de prazos para o cliente. Onde ele pode bloquear a gente? (ex: "Aprovar Designs at dia 5"). Classifique o Impacto.
   - **raci_matrix**: Defina quem faz o que. Suggested Roles: Project Manager, Lead Dev, Client Sponsor, Client IT.`,sV=()=>{try{const t=localStorage.getItem("PRICING_CONFIG");if(!t)return"";const e=JSON.parse(t),n=e.matrix||{},r=e.components||[];if(Object.keys(n).length===0&&r.length===0)return"";let a=`

=== DIRETRIZES DE PRECIFICAO E ESTIMATIVA (CONFIGURAO TCNICA) ===
`;a+=`ATENO: Utilize as tabelas abaixo para calibrar suas estimativas de horas e definio de escopo.

`,a+=`1. MATRIZ DE PESO (Complexidade x Incerteza):
`,a+=`Use estes fatores para ponderar a dificuldade das tarefas quando houver incerteza:
`,a+=JSON.stringify(n,null,2)+`

`,a+=`2. CATLOGO DE OBJETOS E COMPONENTES PADRO:
`,a+=`Ao descrever o 'scope' e estimar 'tasks', voc DEVE quantificar os itens usando estes objetos como referncia base (Technology - Name: Avg Hours):
`;const i={};return r.forEach(s=>{i[s.technology]||(i[s.technology]=[]),i[s.technology].push(`   - [${s.id}] ${s.name}: ~${s.hours}h`)}),Object.entries(i).forEach(([s,l])=>{a+=`
   [${s}]
${l.join(`
`)}`}),a+=`

INSTRUES MANDATRIAS DE ESCOPO E COMPONENTES:
`,a+=`1. No campo 'scope' do JSON, voc DEVE quantificar o esforo listando os objetos (ex: 'Sero desenvolvidos 5x Screen Container, 3x API Route Handler...').
`,a+=`2. COMPONENTES AUSENTES: Se a soluo exigir um componente que NO existe na lista acima, voc DEVE list-lo no array 'suggested_components' do JSON (ver estrutura abaixo). Crie um nome coerente, defina a tecnologia e estime as horas para um Pleno. NO invente IDs, deixe null.
`,a}catch(t){return console.error("Error reading pricing config for prompt",t),""}},oV=t=>{const e=sV();return`${aV}

PROTOCOLO DE INTERAO E GERAO DE CONTEDO (RIGOROSO):

${t||uf}

${e}

${iV}`};class lV{constructor(){th(this,"genAI",null);th(this,"model",null);th(this,"chat",null);const e=localStorage.getItem("GEMINI_API_KEY");e&&this.initialize(e)}initialize(e){this.genAI=new rV(e);const n=localStorage.getItem("GEMINI_CUSTOM_CONTEXT_RULES"),r=localStorage.getItem("GEMINI_TEXT_MODEL")||"gemini-1.5-flash";this.model=this.genAI.getGenerativeModel({model:r,systemInstruction:oV(n||void 0),generationConfig:{temperature:.7,responseMimeType:"application/json"}})}isConfigured(){return!!this.genAI}async startChat(){if(!this.model)throw new Error("Gemini API not configured");return this.chat=this.model.startChat({history:[]}),this.chat}async sendMessage(e,n){if(this.chat||await this.startChat(),!this.chat)throw new Error("Failed to start chat");try{let r=[{text:e}];if(n&&n.length>0){const s=n.map(l=>({inlineData:{mimeType:l.mimeType,data:l.data}}));r=[...r,...s]}return(await this.chat.sendMessage(r)).response.text()}catch(r){throw console.error("Gemini Error:",r),r}}parseEstimate(e){try{const n=this.parseJSON(e);return n&&!n.type||n&&n.tasks?n:null}catch{return null}}parseClarification(e){try{const n=this.parseJSON(e);return n&&n.type==="clarification"?n:null}catch{return null}}async refineRequirements(e,n,r,a){if(!this.genAI)throw new Error("Gemini API not configured");const i=this.genAI.getGenerativeModel({model:"gemini-2.5-flash",systemInstruction:localStorage.getItem("GEMINI_INTERVIEWER_RULES")||cf,generationConfig:{responseMimeType:"application/json"}});let s=`Contexto Inicial: ${n}

`;r&&r.length>0?(s+=`RESPOSTAS DA RODADA ANTERIOR:
`,r.forEach(m=>{s+=`- Q: ${m.questionId} | A: ${m.answer}
`}),s+=`
Com base nessas respostas, gere a PRXIMA rodada de 10 perguntas de aprofundamento. OBRIGATRIO: Gere 10 novas perguntas focadas em riscos no cobertos, detalhes de infra, segurana ou requisitos no funcionais.`):s+="Esta  a primeira rodada. Gere as 10 perguntas iniciais (incluindo as 4 mandatrias). Caso existam arquivos anexados, considere o contedo deles como parte fundamental do contexto.";const l=i.startChat({history:e});let c=[{text:s}];if(a&&a.length>0){const m=a.map(p=>{const A=p.data.includes("base64,")?p.data.split("base64,")[1]:p.data;return{inlineData:{mimeType:p.type,data:A}}});c=[...c,...m]}const u=(await l.sendMessage(c)).response.text(),h=this.parseJSON(u);if(!h)throw console.error("Failed to parse refinement JSON. Raw text:",u),new Error("Invalid JSON response from AI Interviewer");return h}async getInitialUnderstanding(e,n){if(!this.genAI)throw new Error("Gemini API not configured");const a=this.genAI.getGenerativeModel({model:"gemini-2.5-flash",systemInstruction:localStorage.getItem("GEMINI_INITIAL_UNDERSTANDING_PROMPT")||df}).startChat({history:[]});e[e.length-1].parts;let s=[{text:`CONTEXTO DO PROJETO:
${e.map(c=>`${c.role==="user"?"CLIENTE":"SISTEMA"}: ${c.parts[0].text}`).join(`

`)}`}];if(n&&n.length>0){const c=n.map(d=>{const u=d.data.includes("base64,")?d.data.split("base64,")[1]:d.data;return{inlineData:{mimeType:d.type,data:u}}});s=[...s,...c]}return(await a.sendMessage(s)).response.text()}async generateEstimate(e,n){if(!this.genAI)throw new Error("Gemini API not configured");this.model||this.initialize(localStorage.getItem("GEMINI_API_KEY")||"");const r=this.model.startChat({history:e.slice(0,-1)});let i=[...e[e.length-1].parts];if(n&&n.length>0){const d=n.map(u=>{const h=u.data.includes("base64,")?u.data.split("base64,")[1]:u.data;return{inlineData:{mimeType:u.type,data:h}}});i=[...i,...d]}const l=(await r.sendMessage(i)).response.text(),c=this.parseEstimate(l);if(!c)throw new Error("Failed to parse the generated project plan.");return c}parseJSON(e){try{return JSON.parse(e)}catch{const r=e.match(/```json\n([\s\S]*?)\n```/)||e.match(/```([\s\S]*?)```/);if(r&&r[1])try{return JSON.parse(r[1])}catch(s){console.error("Failed to parse extracted JSON",s)}const a=e.indexOf("{"),i=e.lastIndexOf("}");if(a!==-1&&i!==-1)try{return JSON.parse(e.substring(a,i+1))}catch(s){console.error("Failed to fuzzy parse JSON",s)}return null}}async generateArchitecturePrompt(e){if(!this.genAI)throw new Error("Gemini API not configured");const r=(localStorage.getItem("GEMINI_ARCHITECTURE_PROMPT")||nI).replace("{technical_solution}",e);return(await this.genAI.getGenerativeModel({model:localStorage.getItem("GEMINI_TEXT_MODEL")||"gemini-1.5-flash"}).generateContent(r)).response.text()}async generateImage(e){var u,h,m,p;const n=localStorage.getItem("GEMINI_API_KEY");if(!n)throw new Error("Gemini API Key not found");const r=localStorage.getItem("GEMINI_IMAGE_MODEL")||"gemini-3-pro-image-preview",a=r.includes("models/")?r:`models/${r}`,i=`https://generativelanguage.googleapis.com/v1beta/${a}:generateContent?key=${n}`,s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:e}]}]})});if(!s.ok){const A=await s.text();throw console.warn(`Image Generation Failed with ${a}: ${A}. Retrying with fallback...`),new Error(`Image Generation Failed (${a}): ${A}`)}const c=(u=(await s.json()).candidates)==null?void 0:u[0],d=(m=(h=c==null?void 0:c.content)==null?void 0:h.parts)==null?void 0:m[0];if((p=d==null?void 0:d.inlineData)!=null&&p.data)return`data:${d.inlineData.mimeType||"image/png"};base64,${d.inlineData.data}`;throw new Error("No image data received from API (Unexpected response format)")}async analyzeSlideLayout(e){var l;if(!this.genAI)throw new Error("Gemini API not configured");const n=this.genAI.getGenerativeModel({model:localStorage.getItem("GEMINI_TEXT_MODEL")||"gemini-1.5-flash",generationConfig:{responseMimeType:"application/json"}}),r=`
            Analyze this presentation slide background image. 
            Identify the optimal "safe area" for placing text content. This should be a large, continuous empty or low-contrast space.
            Avoid covering important visual elements (logos, complex graphics).
            
            Return ONLY a JSON object with this structure:
            {
                "safe_area": { 
                    "x": number (percentage 0-100 from left), 
                    "y": number (percentage 0-100 from top), 
                    "w": number (percentage 0-100 width), 
                    "h": number (percentage 0-100 height) 
                },
                "font_color": string (hex color code best for contrast on this area, e.g. "#FFFFFF" or "#000000")
            }
        `,a=e.replace(/^data:image\/\w+;base64,/,""),s=(await n.generateContent([r,{inlineData:{data:a,mimeType:((l=e.match(/data:([^;]+);base64,/))==null?void 0:l[1])||"image/png"}}])).response.text();return this.parseJSON(s)}async optimizeContentForSlide(e,n){if(!this.genAI)throw new Error("Gemini API not configured");const r=this.genAI.getGenerativeModel({model:localStorage.getItem("GEMINI_TEXT_MODEL")||"gemini-1.5-flash"}),a=`
            You are a Presentation Design Expert.
            Refactor the following raw content to fit into a specific slide layout: "${n}".
            
            Global Rules:
            1. LANGUAGE: PORTUGUESE (BRAZIL) - MANDATORY.
            2. Maintain ALL critical information and details. Do NOT summarize too aggressively.
            3. Use concise bullet points for readability, but keep the depth of content.
            4. Use strong action verbs.
            5. Output must be in Markdown format (using * or - for bullets, ** for bold).
            6. Do NOT output a JSON, just the Markdown text.
            7. Ensure the text fits the description provided, optimizing line breaks if needed.

            Content to Refactor:
            ${e}
        `;return(await r.generateContent(a)).response.text()}async distributeContentAcrossSlides(e,n){if(!this.genAI)throw new Error("Gemini API not configured");const r=this.genAI.getGenerativeModel({model:localStorage.getItem("GEMINI_TEXT_MODEL")||"gemini-1.5-flash",generationConfig:{responseMimeType:"application/json"}}),i={context_overview:1300,technical_solution:2400,architecture_diagram:500,implementation_steps:1750,testing_strategy:1650,scope:1580,non_scope:1580,budget:1580,risks:1680,technical_premises:2500,team_structure:2e3,client_responsibilities:2e3,raci_matrix:2e3}[n]||1600,l=["technical_solution","implementation_steps","testing_strategy","scope","non_scope","budget","risks"].includes(n),c=e.length,d=Math.max(1,Math.ceil(c/i));let u="",h="";l?(d===1?u=`Length: ${c} chars. Capacity: ${i}. FIT: YES. Use 1 slide with Dual Columns.`:u=`Length: ${c} chars. Capacity: ${i}. FIT: NO. Split into approx ${d} slides (Dual Column each).`,h=`
                You are an Expert Presentation Layout Agent.
                Your goal is to format the provided text into a specialized "Executive Summary + Dual Column" layout.
                
                Technical Data:
                - Content Type: ${n}
                - Input Length: ${c} chars
                - Limit per Slide: ${i} chars
                - Analysis: ${u}
                
                Layout Requirements per Slide:
                1. **Summary Box (Top)**: Extract a refined, high-impact 1-sentence executive summary/subtitle for the slide.
                2. **Dual Columns (Body)**: Split the remaining detailed content into two semantically balanced columns (Left and Right).
                
                Rules:
                1. Language: Portuguese (Brazil).
                2. Balance the text between Left and Right columns visually (approx same length).
                3. Maintain bullet points and formatting.
                4. Do NOT split slides unless absolutely necessary (> ${i} chars).
                5. If splitting, ensure each slide has its own Summary and balanced columns.

                Input Text:
                "${e}"

                Output JSON Schema:
                [
                    {
                        "title_suffix": "", // e.g. "" or "(Cont.)"
                        "summary": "High-level executive summary of this slide's content",
                        "left_column": "Markdown text for left column",
                        "right_column": "Markdown text for right column",
                        "content": "", // Leave empty for this layout
                        "font_size": 10, // Default to 10 for dense 2-col layouts
                        "columns": 2
                    }
                ]
            `):(d===1?u="Character count: "+c+". Limit: "+i+". FIT: YES. Put ALL this content in 1 slide.":u="Character count: "+c+". Limit: "+i+". FIT: NO. Split into approx "+d+" slides.",h=`
                You are an Expert Presentation Layout Agent.
                Your task is to distribute the provided text into one or more slides based STRICTLY on the capacity limits provided.
                
                Technical Data:
                - Content Type: ${n}
                - Input Length: ${c} chars
                - Strict Capacity Limit: ${i} chars per slide
                - Analysis: ${u}
                - Layout: ${n==="context_overview"?"Vertical Column (Narrow): Width 4 inches, Height 4 inches.":"Standard Slide (Wide): Width 9 inches, Height 4 inches."}
                
                Rules:
                1. LANGUAGE: Portuguese (Brazil).
                2. PRIMARY GOAL: Fill each slide up to the capacity limit (${i} chars) before creating a new one.
                3. Do NOT match semantic blocks if it wastes significant space. Prioritize filling the slide.
                4. If the text fits in the limit, DO NOT SPLIT, absolutely forbidden.
                5. ALWAYS use a single full-width column (columns: 1).
                6. Return a JSON structure defining the slides.

                Input Text:
                "${e}"

                Output JSON Schema:
                [
                    {
                        "title_suffix": "", // e.g. "" for first slide, "(Cont.)" for others
                        "content": "markdown content for this specific slide",
                        "font_size": 11, // Default 11, reduce to 10 or 9 ONLY if very close to limit overflow
                        "columns": 1
                    }
                ]
            `);const p=(await r.generateContent(h)).response.text();return this.parseJSON(p)}}const xr=new lV;var rI={exports:{}},cV="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",dV=cV,uV=dV;function aI(){}function iI(){}iI.resetWarningCache=aI;var hV=function(){function t(r,a,i,s,l,c){if(c!==uV){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:iI,resetWarningCache:aI};return n.PropTypes=n,n};rI.exports=hV();var fV=rI.exports;const $t=S0(fV),pV=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Yl(t,e,n){const r=mV(t),{webkitRelativePath:a}=t,i=typeof e=="string"?e:typeof a=="string"&&a.length>0?a:`./${t.name}`;return typeof r.path!="string"&&y_(r,"path",i),y_(r,"relativePath",i),r}function mV(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),a=pV.get(r);a&&Object.defineProperty(t,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return t}function y_(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const gV=[".DS_Store","Thumbs.db"];function AV(t){return So(this,void 0,void 0,function*(){return wp(t)&&xV(t.dataTransfer)?wV(t.dataTransfer,t.type):yV(t)?vV(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?bV(t):[]})}function xV(t){return wp(t)}function yV(t){return wp(t)&&wp(t.target)}function wp(t){return typeof t=="object"&&t!==null}function vV(t){return m0(t.target.files).map(e=>Yl(e))}function bV(t){return So(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Yl(n))})}function wV(t,e){return So(this,void 0,void 0,function*(){if(t.items){const n=m0(t.items).filter(a=>a.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(_V));return v_(sI(r))}return v_(m0(t.files).map(n=>Yl(n)))})}function v_(t){return t.filter(e=>gV.indexOf(e.name)===-1)}function m0(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function _V(t){if(typeof t.webkitGetAsEntry!="function")return b_(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?oI(e):b_(t,e)}function sI(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?sI(n):[n]],[])}function b_(t,e){return So(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const i=yield t.getAsFileSystemHandle();if(i===null)throw new Error(`${t} is not a File`);if(i!==void 0){const s=yield i.getFile();return s.handle=i,Yl(s)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return Yl(r,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function CV(t){return So(this,void 0,void 0,function*(){return t.isDirectory?oI(t):EV(t)})}function oI(t){const e=t.createReader();return new Promise((n,r)=>{const a=[];function i(){e.readEntries(s=>So(this,void 0,void 0,function*(){if(s.length){const l=Promise.all(s.map(CV));a.push(l),i()}else try{const l=yield Promise.all(a);n(l)}catch(l){r(l)}}),s=>{r(s)})}i()})}function EV(t){return So(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const a=Yl(r,t.fullPath);e(a)},r=>{n(r)})})})}var Eg=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",a=(t.type||"").toLowerCase(),i=a.replace(/\/.*$/,"");return n.some(function(s){var l=s.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?i===l.replace(/\/.*$/,""):a===l})}return!0};function w_(t){return SV(t)||TV(t)||cI(t)||NV()}function NV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TV(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SV(t){if(Array.isArray(t))return g0(t)}function __(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function C_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?__(Object(n),!0).forEach(function(r){lI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):__(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lI(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pu(t,e){return DV(t)||kV(t,e)||cI(t,e)||IV()}function IV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cI(t,e){if(t){if(typeof t=="string")return g0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g0(t,e)}}function g0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kV(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],a=!0,i=!1,s,l;try{for(n=n.call(t);!(a=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw l}}return r}}function DV(t){if(Array.isArray(t))return t}var RV=typeof Eg=="function"?Eg:Eg.default,PV="file-invalid-type",jV="file-too-large",MV="file-too-small",LV="too-many-files",FV=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:PV,message:"File type must be ".concat(r)}},E_=function(e){return{code:jV,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},N_=function(e){return{code:MV,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},OV={code:LV,message:"Too many files"};function dI(t,e){var n=t.type==="application/x-moz-file"||RV(t,e);return[n,n?null:FV(e)]}function uI(t,e,n){if(Vs(t.size))if(Vs(e)&&Vs(n)){if(t.size>n)return[!1,E_(n)];if(t.size<e)return[!1,N_(e)]}else{if(Vs(e)&&t.size<e)return[!1,N_(e)];if(Vs(n)&&t.size>n)return[!1,E_(n)]}return[!0,null]}function Vs(t){return t!=null}function BV(t){var e=t.files,n=t.accept,r=t.minSize,a=t.maxSize,i=t.multiple,s=t.maxFiles,l=t.validator;return!i&&e.length>1||i&&s>=1&&e.length>s?!1:e.every(function(c){var d=dI(c,n),u=pu(d,1),h=u[0],m=uI(c,r,a),p=pu(m,1),A=p[0],g=l?l(c):null;return h&&A&&!g})}function _p(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Rh(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function T_(t){t.preventDefault()}function zV(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function VV(t){return t.indexOf("Edge/")!==-1}function UV(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return zV(t)||VV(t)}function va(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return e.some(function(l){return!_p(r)&&l&&l.apply(void 0,[r].concat(i)),_p(r)})}}function GV(){return"showOpenFilePicker"in window}function WV(t){if(Vs(t)){var e=Object.entries(t).filter(function(n){var r=pu(n,2),a=r[0],i=r[1],s=!0;return hI(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(i)||!i.every(fI))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(n,r){var a=pu(r,2),i=a[0],s=a[1];return C_(C_({},n),{},lI({},i,s))},{});return[{description:"Files",accept:e}]}return t}function $V(t){if(Vs(t))return Object.entries(t).reduce(function(e,n){var r=pu(n,2),a=r[0],i=r[1];return[].concat(w_(e),[a],w_(i))},[]).filter(function(e){return hI(e)||fI(e)}).join(",")}function qV(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function HV(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function hI(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function fI(t){return/^.*\.[\w]+$/.test(t)}var QV=["children"],XV=["open"],KV=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],YV=["refKey","onChange","onClick"];function JV(t){return t8(t)||e8(t)||pI(t)||ZV()}function ZV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e8(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function t8(t){if(Array.isArray(t))return A0(t)}function Ng(t,e){return a8(t)||r8(t,e)||pI(t,e)||n8()}function n8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pI(t,e){if(t){if(typeof t=="string")return A0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A0(t,e)}}function A0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r8(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],a=!0,i=!1,s,l;try{for(n=n.call(t);!(a=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw l}}return r}}function a8(t){if(Array.isArray(t))return t}function S_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S_(Object(n),!0).forEach(function(r){x0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cp(t,e){if(t==null)return{};var n=i8(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function i8(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}var Fy=L.forwardRef(function(t,e){var n=t.children,r=Cp(t,QV),a=Ep(r),i=a.open,s=Cp(a,XV);return L.useImperativeHandle(e,function(){return{open:i}},[i]),ue.createElement(L.Fragment,null,n(nn(nn({},s),{},{open:i})))});Fy.displayName="Dropzone";var mI={disabled:!1,getFilesFromEvent:AV,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Fy.defaultProps=mI;Fy.propTypes={children:$t.func,accept:$t.objectOf($t.arrayOf($t.string)),multiple:$t.bool,preventDropOnDocument:$t.bool,noClick:$t.bool,noKeyboard:$t.bool,noDrag:$t.bool,noDragEventsBubbling:$t.bool,minSize:$t.number,maxSize:$t.number,maxFiles:$t.number,disabled:$t.bool,getFilesFromEvent:$t.func,onFileDialogCancel:$t.func,onFileDialogOpen:$t.func,useFsAccessApi:$t.bool,autoFocus:$t.bool,onDragEnter:$t.func,onDragLeave:$t.func,onDragOver:$t.func,onDrop:$t.func,onDropAccepted:$t.func,onDropRejected:$t.func,onError:$t.func,validator:$t.func};var y0={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Ep(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=nn(nn({},mI),t),n=e.accept,r=e.disabled,a=e.getFilesFromEvent,i=e.maxSize,s=e.minSize,l=e.multiple,c=e.maxFiles,d=e.onDragEnter,u=e.onDragLeave,h=e.onDragOver,m=e.onDrop,p=e.onDropAccepted,A=e.onDropRejected,g=e.onFileDialogCancel,b=e.onFileDialogOpen,x=e.useFsAccessApi,y=e.autoFocus,w=e.preventDropOnDocument,S=e.noClick,k=e.noKeyboard,P=e.noDrag,E=e.noDragEventsBubbling,N=e.onError,C=e.validator,R=L.useMemo(function(){return $V(n)},[n]),j=L.useMemo(function(){return WV(n)},[n]),_=L.useMemo(function(){return typeof b=="function"?b:I_},[b]),D=L.useMemo(function(){return typeof g=="function"?g:I_},[g]),v=L.useRef(null),O=L.useRef(null),V=L.useReducer(s8,y0),G=Ng(V,2),Q=G[0],H=G[1],ne=Q.isFocused,X=Q.isFileDialogActive,K=L.useRef(typeof window<"u"&&window.isSecureContext&&x&&GV()),ce=function(){!K.current&&X&&setTimeout(function(){if(O.current){var re=O.current.files;re.length||(H({type:"closeDialog"}),D())}},300)};L.useEffect(function(){return window.addEventListener("focus",ce,!1),function(){window.removeEventListener("focus",ce,!1)}},[O,X,D,K]);var ie=L.useRef([]),oe=function(re){v.current&&v.current.contains(re.target)||(re.preventDefault(),ie.current=[])};L.useEffect(function(){return w&&(document.addEventListener("dragover",T_,!1),document.addEventListener("drop",oe,!1)),function(){w&&(document.removeEventListener("dragover",T_),document.removeEventListener("drop",oe))}},[v,w]),L.useEffect(function(){return!r&&y&&v.current&&v.current.focus(),function(){}},[v,y,r]);var pe=L.useCallback(function(Z){N?N(Z):console.error(Z)},[N]),Pe=L.useCallback(function(Z){Z.preventDefault(),Z.persist(),J(Z),ie.current=[].concat(JV(ie.current),[Z.target]),Rh(Z)&&Promise.resolve(a(Z)).then(function(re){if(!(_p(Z)&&!E)){var fe=re.length,Te=fe>0&&BV({files:re,accept:R,minSize:s,maxSize:i,multiple:l,maxFiles:c,validator:C}),Ne=fe>0&&!Te;H({isDragAccept:Te,isDragReject:Ne,isDragActive:!0,type:"setDraggedFiles"}),d&&d(Z)}}).catch(function(re){return pe(re)})},[a,d,pe,E,R,s,i,l,c,C]),ye=L.useCallback(function(Z){Z.preventDefault(),Z.persist(),J(Z);var re=Rh(Z);if(re&&Z.dataTransfer)try{Z.dataTransfer.dropEffect="copy"}catch{}return re&&h&&h(Z),!1},[h,E]),ge=L.useCallback(function(Z){Z.preventDefault(),Z.persist(),J(Z);var re=ie.current.filter(function(Te){return v.current&&v.current.contains(Te)}),fe=re.indexOf(Z.target);fe!==-1&&re.splice(fe,1),ie.current=re,!(re.length>0)&&(H({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Rh(Z)&&u&&u(Z))},[v,u,E]),Se=L.useCallback(function(Z,re){var fe=[],Te=[];Z.forEach(function(Ne){var $e=dI(Ne,R),pt=Ng($e,2),ot=pt[0],Be=pt[1],Ue=uI(Ne,s,i),nt=Ng(Ue,2),It=nt[0],mt=nt[1],Nt=C?C(Ne):null;if(ot&&It&&!Nt)fe.push(Ne);else{var ze=[Be,mt];Nt&&(ze=ze.concat(Nt)),Te.push({file:Ne,errors:ze.filter(function(gt){return gt})})}}),(!l&&fe.length>1||l&&c>=1&&fe.length>c)&&(fe.forEach(function(Ne){Te.push({file:Ne,errors:[OV]})}),fe.splice(0)),H({acceptedFiles:fe,fileRejections:Te,isDragReject:Te.length>0,type:"setFiles"}),m&&m(fe,Te,re),Te.length>0&&A&&A(Te,re),fe.length>0&&p&&p(fe,re)},[H,l,R,s,i,c,m,p,A,C]),ve=L.useCallback(function(Z){Z.preventDefault(),Z.persist(),J(Z),ie.current=[],Rh(Z)&&Promise.resolve(a(Z)).then(function(re){_p(Z)&&!E||Se(re,Z)}).catch(function(re){return pe(re)}),H({type:"reset"})},[a,Se,pe,E]),Ae=L.useCallback(function(){if(K.current){H({type:"openDialog"}),_();var Z={multiple:l,types:j};window.showOpenFilePicker(Z).then(function(re){return a(re)}).then(function(re){Se(re,null),H({type:"closeDialog"})}).catch(function(re){qV(re)?(D(re),H({type:"closeDialog"})):HV(re)?(K.current=!1,O.current?(O.current.value=null,O.current.click()):pe(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):pe(re)});return}O.current&&(H({type:"openDialog"}),_(),O.current.value=null,O.current.click())},[H,_,D,x,Se,pe,j,l]),xe=L.useCallback(function(Z){!v.current||!v.current.isEqualNode(Z.target)||(Z.key===" "||Z.key==="Enter"||Z.keyCode===32||Z.keyCode===13)&&(Z.preventDefault(),Ae())},[v,Ae]),I=L.useCallback(function(){H({type:"focus"})},[]),Y=L.useCallback(function(){H({type:"blur"})},[]),q=L.useCallback(function(){S||(UV()?setTimeout(Ae,0):Ae())},[S,Ae]),F=function(re){return r?null:re},B=function(re){return k?null:F(re)},z=function(re){return P?null:F(re)},J=function(re){E&&re.stopPropagation()},$=L.useMemo(function(){return function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},re=Z.refKey,fe=re===void 0?"ref":re,Te=Z.role,Ne=Z.onKeyDown,$e=Z.onFocus,pt=Z.onBlur,ot=Z.onClick,Be=Z.onDragEnter,Ue=Z.onDragOver,nt=Z.onDragLeave,It=Z.onDrop,mt=Cp(Z,KV);return nn(nn(x0({onKeyDown:B(va(Ne,xe)),onFocus:B(va($e,I)),onBlur:B(va(pt,Y)),onClick:F(va(ot,q)),onDragEnter:z(va(Be,Pe)),onDragOver:z(va(Ue,ye)),onDragLeave:z(va(nt,ge)),onDrop:z(va(It,ve)),role:typeof Te=="string"&&Te!==""?Te:"presentation"},fe,v),!r&&!k?{tabIndex:0}:{}),mt)}},[v,xe,I,Y,q,Pe,ye,ge,ve,k,P,r]),U=L.useCallback(function(Z){Z.stopPropagation()},[]),te=L.useMemo(function(){return function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},re=Z.refKey,fe=re===void 0?"ref":re,Te=Z.onChange,Ne=Z.onClick,$e=Cp(Z,YV),pt=x0({accept:R,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:F(va(Te,ve)),onClick:F(va(Ne,U)),tabIndex:-1},fe,O);return nn(nn({},pt),$e)}},[O,n,l,ve,r]);return nn(nn({},Q),{},{isFocused:ne&&!r,getRootProps:$,getInputProps:te,rootRef:v,inputRef:O,open:F(Ae)})}function s8(t,e){switch(e.type){case"focus":return nn(nn({},t),{},{isFocused:!0});case"blur":return nn(nn({},t),{},{isFocused:!1});case"openDialog":return nn(nn({},y0),{},{isFileDialogActive:!0});case"closeDialog":return nn(nn({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return nn(nn({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return nn(nn({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return nn({},y0);default:return t}}function I_(){}const o8="ProposalSlidesDB",hs="images",l8=1,Oy=()=>new Promise((t,e)=>{const n=indexedDB.open(o8,l8);n.onupgradeneeded=r=>{const a=r.target.result;a.objectStoreNames.contains(hs)||a.createObjectStore(hs)},n.onsuccess=()=>t(n.result),n.onerror=()=>e(n.error)}),c8=t=>new Promise((e,n)=>{const r=new FileReader;r.onloadend=()=>{r.result&&typeof r.result=="string"?e(r.result):n(new Error("Failed to read file"))},r.onerror=n,r.readAsDataURL(t)}),k_=async(t,e)=>{const n=await c8(e),r=await Oy();return new Promise((a,i)=>{const s=r.transaction(hs,"readwrite");s.objectStore(hs).put(n,t),s.oncomplete=()=>a(),s.onerror=()=>i(s.error)})},Hs=async t=>{const e=await Oy();return new Promise((n,r)=>{const s=e.transaction(hs,"readonly").objectStore(hs).get(t);s.onsuccess=()=>n(s.result||null),s.onerror=()=>r(s.error)})},D_=async t=>{const e=await Oy();return new Promise((n,r)=>{const a=e.transaction(hs,"readwrite");a.objectStore(hs).delete(t),a.oncomplete=()=>n(),a.onerror=()=>r(a.error)})},d8=["GG","G","M","P","PP"],R_=["PP","P","M","G","GG"],P_={"GG-PP":5,"GG-P":6,"GG-M":7,"GG-G":8,"GG-GG":9,"G-PP":4,"G-P":5,"G-M":6,"G-G":7,"G-GG":8,"M-PP":3,"M-P":4,"M-M":5,"M-G":6,"M-GG":7,"P-PP":2,"P-P":3,"P-M":4,"P-G":5,"P-GG":6,"PP-PP":1,"PP-P":2,"PP-M":3,"PP-G":4,"PP-GG":5},u8=[{id:"java-1",name:"Microservice Setup",technology:"Java",hours:16},{id:"java-2",name:"REST Controller (CRUD)",technology:"Java",hours:8},{id:"java-3",name:"Service Layer Logic",technology:"Java",hours:12},{id:"java-4",name:"JPA/Hibernate Entity & Repository",technology:"Java",hours:6},{id:"java-5",name:"DTO Mapping",technology:"Java",hours:4},{id:"java-6",name:"Security Configuration (JWT/OAuth)",technology:"Java",hours:16},{id:"java-7",name:"Unit Testing (JUnit/Mockito)",technology:"Java",hours:8},{id:"java-8",name:"Batch Job (Spring Batch)",technology:"Java",hours:24},{id:"java-9",name:"Exception Handler (Global)",technology:"Java",hours:6},{id:"java-10",name:"Integration with 3rd Party API",technology:"Java",hours:12},{id:"java-11",name:"Thymeleaf / JSP View (SSR)",technology:"Java",hours:8},{id:"java-12",name:"JSF / PrimeFaces Page",technology:"Java",hours:12},{id:"java-13",name:"EJB / Message Driven Bean",technology:"Java",hours:10},{id:"node-1",name:"Express/Fastify Server Setup",technology:"Node.js",hours:8},{id:"node-2",name:"API Route Handler",technology:"Node.js",hours:6},{id:"node-3",name:"Middleware (Auth/Logging)",technology:"Node.js",hours:8},{id:"node-4",name:"Database Schema (Mongoose/Prisma)",technology:"Node.js",hours:6},{id:"node-5",name:"Authentication Logic",technology:"Node.js",hours:12},{id:"node-6",name:"WebSocket / Real-time Handler",technology:"Node.js",hours:16},{id:"node-7",name:"Background Worker (Bull/Agenda)",technology:"Node.js",hours:12},{id:"node-8",name:"File Upload Service",technology:"Node.js",hours:8},{id:"node-9",name:"Utility/Helper Functions",technology:"Node.js",hours:4},{id:"node-10",name:"Unit Tests (Jest)",technology:"Node.js",hours:8},{id:"node-11",name:"SSR View (EJS / Pug / Handlebars)",technology:"Node.js",hours:8},{id:"node-12",name:"Serverless Function (AWS Lambda/Vercel)",technology:"Node.js",hours:6},{id:"py-1",name:"API Endpoint Function",technology:"Python",hours:6},{id:"py-2",name:"Pydantic Model / Marshmallow Schema",technology:"Python",hours:4},{id:"py-3",name:"Celery Task (Async)",technology:"Python",hours:12},{id:"py-4",name:"Data Processing Script (Pandas/Polars)",technology:"Python",hours:16},{id:"py-5",name:"Auth & Dependency Injection",technology:"Python",hours:8},{id:"py-6",name:"Scraper / Crawler Bot",technology:"Python",hours:12},{id:"py-7",name:"FastAPI Router Setup",technology:"Python",hours:4},{id:"py-8",name:"OpenCV / Image Processing Module",technology:"Python",hours:20},{id:"py-9",name:"Database Migration (Alembic)",technology:"Python",hours:6},{id:"py-10",name:"PyTest Suite",technology:"Python",hours:8},{id:"py-11",name:"Django Template / Jinja2 View",technology:"Python",hours:8},{id:"py-12",name:"Streamlit / Dash App Page",technology:"Python",hours:10},{id:"py-13",name:"AI Model Inference Pipeline",technology:"Python",hours:24},{id:"react-1",name:"Page/View Container",technology:"React",hours:8},{id:"react-2",name:"Reusable UI Component (Atom)",technology:"React",hours:6},{id:"react-3",name:"Complex Widget / Dashboard",technology:"React",hours:24},{id:"react-4",name:"Custom Hook",technology:"React",hours:4},{id:"react-5",name:"Context Provider / State Slice",technology:"React",hours:8},{id:"react-6",name:"Form with Validation (Hook Form)",technology:"React",hours:12},{id:"react-7",name:"Data Fetching Hook (SWR/TanStack)",technology:"React",hours:6},{id:"react-8",name:"Layout / Navigation Setup",technology:"React",hours:12},{id:"react-9",name:"Modal / Popup Manager",technology:"React",hours:6},{id:"react-10",name:"Integration Tests (React Testing Lib)",technology:"React",hours:12},{id:"react-11",name:"Redux Store / Slice Setup",technology:"React",hours:8},{id:"react-12",name:"Next.js Server Component (RSC)",technology:"React",hours:8},{id:"rn-1",name:"Screen Container",technology:"React Native",hours:10},{id:"rn-2",name:"Custom Native Module (Bridge)",technology:"React Native",hours:24},{id:"rn-3",name:"Navigation Setup (React Navigation)",technology:"React Native",hours:12},{id:"rn-4",name:"List View (FlatList optimized)",technology:"React Native",hours:8},{id:"rn-5",name:"Platform Specific Style/Logic",technology:"React Native",hours:6},{id:"rn-6",name:"Camera / Media Logic",technology:"React Native",hours:16},{id:"rn-7",name:"Push Notification Handler",technology:"React Native",hours:12},{id:"rn-8",name:"Offline Storage (MMKV/Realm)",technology:"React Native",hours:8},{id:"rn-9",name:"Authentication Flow (Mobile)",technology:"React Native",hours:12},{id:"rn-10",name:"Deep Linking Setup",technology:"React Native",hours:8},{id:"rn-11",name:"Expo Config / Permission Handler",technology:"React Native",hours:6},{id:"rn-12",name:"OTA Update Config (CodePush)",technology:"React Native",hours:8},{id:"android-1",name:"Activity / Fragment Layout",technology:"Android",hours:10},{id:"android-2",name:"ViewModel & LiveData/Flow",technology:"Android",hours:8},{id:"android-3",name:"RecyclerView Adapter",technology:"Android",hours:6},{id:"android-4",name:"Room Database Entity/DAO",technology:"Android",hours:8},{id:"android-5",name:"Retrofit API Service",technology:"Android",hours:6},{id:"android-6",name:"Custom View Component",technology:"Android",hours:16},{id:"android-7",name:"Background Service / Worker",technology:"Android",hours:16},{id:"android-8",name:"Dependency Injection (Hilt/Koin)",technology:"Android",hours:8},{id:"android-9",name:"Gradle Build / Flavor Config",technology:"Android",hours:6},{id:"android-10",name:"Jetpack Compose Screen",technology:"Android",hours:12},{id:"android-11",name:"BroadcastReceiver / Intent Filter",technology:"Android",hours:6},{id:"ios-1",name:"ViewController / SwiftUI View",technology:"iOS",hours:10},{id:"ios-2",name:"ViewModel (MVVM)",technology:"iOS",hours:8},{id:"ios-3",name:"CoreData / SwiftData Model",technology:"iOS",hours:10},{id:"ios-4",name:"Network Manager (Combine/Async)",technology:"iOS",hours:10},{id:"ios-5",name:"Custom Table/Collection Cell",technology:"iOS",hours:6},{id:"ios-6",name:"SwiftUI Animation/Transition",technology:"iOS",hours:8},{id:"ios-7",name:"App Delegate / Scene Config",technology:"iOS",hours:4},{id:"ios-8",name:"Coordinator Pattern",technology:"iOS",hours:12},{id:"ios-9",name:"StoreKit Integration (IAP)",technology:"iOS",hours:16},{id:"ios-10",name:"Local Notification Manager",technology:"iOS",hours:8},{id:"ios-11",name:"Widget Extension",technology:"iOS",hours:16},{id:"net-1",name:"ASP.NET Core Controller",technology:".NET",hours:8},{id:"net-2",name:"Entity Framework Model/Context",technology:".NET",hours:8},{id:"net-3",name:"Business Service Layer",technology:".NET",hours:10},{id:"net-4",name:"LINQ Query / Repository Method",technology:".NET",hours:6},{id:"net-5",name:"Dependency Injection Config",technology:".NET",hours:4},{id:"net-6",name:"SignalR Hub (Real-time)",technology:".NET",hours:12},{id:"net-7",name:"Background Hosted Service",technology:".NET",hours:12},{id:"net-8",name:"Identity / Auth Setup",technology:".NET",hours:16},{id:"net-9",name:"Blazor Component",technology:".NET",hours:10},{id:"net-10",name:"NUnit / XUnit Test Class",technology:".NET",hours:8},{id:"net-11",name:"ASP.NET MVC View (Razor)",technology:".NET",hours:8},{id:"net-12",name:"Razor Page (.cshtml)",technology:".NET",hours:8},{id:"net-13",name:"WPF Window / UserControl (XAML)",technology:".NET",hours:12},{id:"net-14",name:"MAUI / Xamarin Page",technology:".NET",hours:12},{id:"net-15",name:"Azure Function (Serverless)",technology:".NET",hours:6},{id:"net-16",name:"Minimal API Endpoint",technology:".NET",hours:4}],h8=()=>{const[t,e]=L.useState(P_),[n,r]=L.useState(u8),[a,i]=L.useState(""),[s,l]=L.useState(""),[c,d]=L.useState(""),[u,h]=L.useState(0),[m,p]=L.useState(null),[A,g]=L.useState(null),[b,x]=L.useState(!1),{getRootProps:y,getInputProps:w}=Ep({onDrop:_=>{const D=_[0];if(D){const v=new FileReader;v.onload=O=>{var G;const V=(G=O.target)==null?void 0:G.result;p(V),localStorage.setItem("PRICING_EXAMPLE_IMG",V)},v.readAsDataURL(D)}},accept:{"image/*":[]},maxFiles:1});L.useEffect(()=>{const _=localStorage.getItem("PRICING_EXAMPLE_IMG");_&&p(_)},[]);const S=(_,D,v)=>{e(O=>({...O,[`${_}-${D}`]:v}))},k=()=>{g(null),l(""),d(""),h(0),x(!0)},P=_=>{l(_.name),d(_.technology),h(_.hours),g(_.id),x(!0)},E=()=>{if(!(!s||!c||u<=0)){if(A)r(_=>_.map(D=>D.id===A?{...D,name:s,technology:c,hours:u}:D)),g(null);else{const _={id:Date.now().toString(),name:s,technology:c,hours:u};r([...n,_])}l(""),h(0),g(null)}},N=()=>{l(""),h(0),g(null)},C=(_,D)=>{D.stopPropagation(),r(v=>v.filter(O=>O.id!==_)),A===_&&N()},j=n.filter(_=>_.technology.toLowerCase().includes(a.toLowerCase())||_.name.toLowerCase().includes(a.toLowerCase())).reduce((_,D)=>(_[D.technology]||(_[D.technology]=[]),_[D.technology].push(D),_),{});return o.jsxs("div",{className:"h-full flex flex-col md:flex-row gap-6 p-6 overflow-hidden",children:[o.jsxs("div",{className:"w-full md:w-1/2 flex flex-col gap-6 overflow-y-auto pr-2",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden shrink-0",children:[o.jsxs("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200 flex justify-between items-center",children:[o.jsx("h3",{className:"font-bold text-gray-800",children:"Matriz: Complexidade x Incerteza"}),o.jsxs("button",{onClick:()=>e(P_),className:"text-xs text-gray-500 hover:text-indigo-600 flex items-center gap-1",children:[o.jsx(AE,{size:12})," Resetar"]})]}),o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex mb-1",children:[o.jsx("div",{className:"w-16"})," ",o.jsx("div",{className:"flex-1 grid grid-cols-5 text-center font-bold text-xs text-gray-600 bg-gray-100 rounded-t py-1",children:R_.map(_=>o.jsx("div",{className:`${_==="PP"?"bg-blue-100":_==="P"?"bg-blue-200":_==="M"?"bg-blue-300":_==="G"?"bg-blue-600 text-white":"bg-blue-800 text-white"} py-1 px-1 mx-0.5 rounded-sm`,children:_},_))})]}),d8.map(_=>o.jsxs("div",{className:"flex items-center mb-1",children:[o.jsx("div",{className:`w-16 h-8 flex items-center justify-center font-bold text-xs rounded-l mr-1 ${_==="GG"?"bg-orange-700 text-white":_==="G"?"bg-orange-500 text-white":_==="M"?"bg-orange-300 text-gray-800":_==="P"?"bg-orange-200 text-gray-800":"bg-orange-100 text-gray-800"}`,children:_}),o.jsx("div",{className:"flex-1 grid grid-cols-5 gap-1",children:R_.map(D=>o.jsx("input",{type:"number",value:t[`${_}-${D}`]||0,onChange:v=>S(_,D,parseFloat(v.target.value)),className:"w-full h-8 text-center text-sm border rounded bg-white hover:border-indigo-300 focus:border-indigo-600 focus:ring-1 focus:ring-indigo-600 outline-none transition-all"},`${_}-${D}`))})]},_)),o.jsx("div",{className:"text-center text-[10px] text-gray-400 mt-2",children:"* Valores representam pontos de peso."})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden shrink-0 min-h-[250px] flex flex-col",children:[o.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:o.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(zl,{size:16,className:"text-gray-500"})," Exemplo de Referncia"]})}),o.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[o.jsxs("div",{...y(),className:`flex-1 min-h-[150px] border-2 border-dashed rounded-lg flex items-center justify-center flex-col gap-2 cursor-pointer transition-colors ${m?"border-indigo-200 bg-gray-50":"border-gray-300 hover:border-indigo-400 hover:bg-gray-50"}`,style:{backgroundImage:m?`url(${m})`:"none",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},children:[o.jsx("input",{...w()}),!m&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"p-3 bg-indigo-50 text-indigo-600 rounded-full",children:o.jsx(Rn,{size:24})}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Clique ou arraste uma imagem"}),o.jsx("p",{className:"text-xs text-gray-400",children:"Referncia visual para estimativa"})]})]})]}),m&&o.jsx("button",{onClick:_=>{_.stopPropagation(),p(null),localStorage.removeItem("PRICING_EXAMPLE_IMG")},className:"mt-2 text-xs text-red-500 hover:text-red-700 self-center",children:"Remover Imagem"})]})]})]}),o.jsxs("div",{className:"w-full md:w-1/2 flex flex-col h-full bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden relative",children:[o.jsxs("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200 flex justify-between items-center shrink-0",children:[o.jsx("h3",{className:"font-bold text-gray-800",children:"Unidades de Servio por Objeto"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:k,className:"flex items-center gap-1 px-3 py-1 bg-white border border-indigo-200 text-indigo-600 rounded-md text-xs font-bold hover:bg-indigo-50 hover:border-indigo-300 transition-colors shadow-sm",children:[o.jsx(Rn,{size:12})," Novo"]}),o.jsxs("div",{className:"relative",children:[o.jsx(nc,{size:14,className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Buscar...",value:a,onChange:_=>i(_.target.value),className:"pl-8 pr-2 py-1 text-xs border rounded-full focus:outline-none focus:border-indigo-500 w-32 md:w-40"})]})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 min-h-[400px]",children:Object.keys(j).length===0?o.jsx("div",{className:"text-center text-gray-400 py-10",children:"Nenhum componente encontrado."}):Object.entries(j).map(([_,D])=>o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:"text-xs font-bold text-indigo-600 bg-indigo-50 px-2 py-1 rounded inline-block mb-2 uppercase tracking-wide",children:_}),o.jsx("div",{className:"space-y-1",children:D.map(v=>o.jsxs("div",{className:"flex items-center justify-between text-sm p-2 rounded border border-transparent hover:bg-gray-50 hover:border-gray-100 transition-all",children:[o.jsx("span",{className:"font-medium text-gray-700 truncate mr-2",onClick:()=>P(v),children:v.name}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[o.jsxs("span",{className:"text-gray-500 font-mono bg-gray-100 px-2 py-0.5 rounded text-xs mr-2",children:[v.hours,"h"]}),o.jsx("button",{onClick:()=>P(v),className:"text-gray-400 hover:text-indigo-600 p-1 rounded transition-colors",title:"Editar",children:o.jsx(RA,{size:14})}),o.jsx("button",{onClick:O=>C(v.id,O),className:"text-gray-300 hover:text-red-500 hover:bg-red-50 p-1 rounded transition-colors",title:"Excluir",children:o.jsx(ur,{size:14})})]})]},v.id))})]},_))}),b&&o.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-[1px]",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 w-full max-w-sm mx-4 animate-in fade-in zoom-in-95 duration-200 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:A?"Editar Componente":"Novo Componente"}),o.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(yr,{size:20})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Nome do Objeto"}),o.jsx("input",{type:"text",value:s,onChange:_=>l(_.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none text-sm",placeholder:"Ex: Login Screen",autoFocus:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Tecnologia"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",list:"tech-list-modal",value:c,onChange:_=>d(_.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none text-sm",placeholder:"Ex: React"}),o.jsx("datalist",{id:"tech-list-modal",children:Object.keys(j).map(_=>o.jsx("option",{value:_},_))})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Horas Estimadas"}),o.jsx("input",{type:"number",value:u||"",onChange:_=>h(parseFloat(_.target.value)),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none text-sm",placeholder:"0"})]}),o.jsxs("div",{className:"pt-2 flex gap-3",children:[o.jsx("button",{onClick:()=>x(!1),className:"flex-1 py-2 text-sm font-medium text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:()=>{E(),x(!1)},disabled:!s||!c||u<=0,className:"flex-1 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:A?"Salvar":"Criar"})]})]})]})})]})]})},Tg={slides:[{id:"auto-1",type:"automatic",name:"Contedo Gerado (Cronograma, Documentao, etc.)"}],branding:{}},f8=({slide:t,preview:e,branding:n,logoPreview:r,onClose:a,onSave:i})=>{var D,v;const s=t.type==="automatic",[l,c]=L.useState(t.overlays||[]),[d,u]=L.useState(n||{}),[h,m]=L.useState(null),[p,A]=L.useState(null),[g,b]=L.useState(!1),[x,y]=L.useState(null),[w,S]=L.useState(null),k=()=>{const O={id:Date.now().toString(),text:"Novo Texto",x:1,y:1,fontSize:18,color:"000000",bold:!1,width:8};c([...l,O]),A(O.id)},P=(O,V)=>{c(G=>G.map(Q=>Q.id===O?{...Q,...V}:Q))},E=O=>{c(V=>V.filter(G=>G.id!==O)),p===O&&A(null)},N=(O,V,G,Q)=>{O.stopPropagation(),A(V),b(!0),y({x:O.clientX,y:O.clientY}),S({x:G,y:Q})};L.useEffect(()=>{n&&(u(n),n.logoWidth&&n.logoHeight&&m(n.logoWidth/n.logoHeight))},[n]);const C=O=>{if(!g||!x||!w||!p)return;const V=O.clientX-x.x,G=O.clientY-x.y,Q=100,H=V/Q,ne=G/Q;p==="logo"?u(X=>({...X,logoX:Math.max(0,parseFloat((w.x+H).toFixed(2))),logoY:Math.max(0,parseFloat((w.y+ne).toFixed(2)))})):c(X=>X.map(K=>K.id===p?{...K,x:Math.max(0,parseFloat((w.x+H).toFixed(2))),y:Math.max(0,parseFloat((w.y+ne).toFixed(2)))}:K))},R=()=>{b(!1),y(null),S(null)},j=p==="logo"?null:l.find(O=>O.id===p),_=()=>{s?i([],d):i(l)};return o.jsx("div",{className:"fixed inset-0 z-[99999] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",onMouseUp:R,onMouseMove:C,children:o.jsxs("div",{className:"bg-white w-full max-w-6xl h-[90vh] rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100 bg-gray-50",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Editar Layout: ",t.name]}),o.jsx("p",{className:"text-xs text-gray-500",children:s?"Arraste o logo para posicionar. Ajuste configuraes na barra lateral.":"Adicione textos dinmicos. Arraste para mover."})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:a,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg text-sm font-medium transition-colors",children:"Cancelar"}),o.jsxs("button",{onClick:_,className:"px-4 py-2 bg-indigo-600 text-white hover:bg-indigo-700 rounded-lg text-sm font-medium shadow-sm transition-colors flex items-center gap-2",children:[o.jsx(_u,{size:16})," Salvar Alteraes"]})]})]}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsx("div",{className:"flex-1 bg-gray-200 p-8 flex items-center justify-center overflow-auto relative select-none",children:o.jsxs("div",{className:"relative bg-white shadow-lg overflow-hidden",style:{width:"1000px",aspectRatio:"16/9",backgroundImage:!s&&e?`url(${e})`:"none",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},children:[s&&o.jsxs(o.Fragment,{children:[r&&o.jsx("div",{onMouseDown:O=>N(O,"logo",d.logoX??8.4,d.logoY??.15),className:`absolute cursor-move border-2 border-dashed ${p==="logo"?"border-indigo-600 z-10":"border-red-500/50 hover:border-red-600"} transition-colors`,style:{left:`${(d.logoX??8.4)/10*100}%`,top:`${(d.logoY??.15)/5.625*100}%`,width:`${(d.logoWidth??1.5)/10*100}%`,minHeight:"20px",backgroundColor:"rgba(255,0,0,0.05)"},children:o.jsx("img",{src:r,alt:"Logo",className:"w-full h-auto pointer-events-none",onLoad:O=>{const V=O.currentTarget.naturalWidth/O.currentTarget.naturalHeight;V&&!isNaN(V)&&m(V)}})}),o.jsx("div",{onMouseDown:O=>N(O,"title",d.titleX??.5,d.titleY??.5),className:`absolute cursor-move border-2 border-dashed ${p==="title"?"border-indigo-600 z-10":"border-gray-200 hover:border-gray-400"}`,style:{left:`${(d.titleX??.5)/10*100}%`,top:`${(d.titleY??.5)/5.625*100}%`,right:"5%",width:"auto",height:"auto"},children:o.jsx("h1",{className:"font-bold pointer-events-none whitespace-nowrap leading-none",style:{fontSize:"26px",color:"#00204A",fontFamily:"Arial, sans-serif"},children:"Soluo Tcnica & Escopo"})}),o.jsx("div",{onMouseDown:O=>N(O,"line",d.lineX??.5,d.lineY??.9),className:`absolute cursor-move border-2 border-dashed ${p==="line"?"border-indigo-600 z-10":"border-gray-200 hover:border-gray-400"} flex items-start justify-center`,style:{left:`${(d.lineX??.5)/10*100}%`,top:`${(d.lineY??.9)/5.625*100}%`,width:`${(d.lineWidth??9)/10*100}%`,height:"24px"},children:o.jsx("div",{className:"w-full pointer-events-none rounded-full mt-0",style:{height:"3px",backgroundColor:"#0072BC"}})})]}),!s&&l.map(O=>o.jsx("div",{onMouseDown:V=>N(V,O.id,O.x,O.y),className:`absolute cursor-move border hover:border-indigo-300 transition-colors ${p===O.id?"border-indigo-600 ring-1 ring-indigo-600 z-10":"border-transparent"}`,style:{left:`${O.x/10*100}%`,top:`${O.y/5.625*100}%`,fontSize:`${O.fontSize}px`,color:`#${O.color}`,fontWeight:O.bold?"bold":"normal",width:O.width?`${O.width/10*100}%`:"auto",height:O.height?`${O.height/5.625*100}%`:"auto",whiteSpace:O.width?"normal":"nowrap",wordWrap:"break-word",lineHeight:"1.2"},children:O.text},O.id))]})}),o.jsxs("div",{className:"w-80 bg-white border-l border-gray-200 p-4 flex flex-col gap-6 overflow-y-auto",children:[!s&&o.jsx("div",{className:"p-4 bg-indigo-50 rounded-xl border border-indigo-100 text-center",children:o.jsxs("button",{onClick:k,className:"w-full py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2 font-medium shadow-sm",children:[o.jsx(Rn,{size:16})," Adicionar Texto"]})}),s&&p==="logo"&&o.jsxs("div",{className:"space-y-4 animate-in slide-in-from-right-4 fade-in duration-200",children:[o.jsx("h4",{className:"text-sm font-bold text-gray-900 border-b pb-2",children:"Editar Logo"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"X (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:d.logoX??8.4,onChange:O=>u(V=>({...V,logoX:parseFloat(O.target.value)})),className:"w-full px-2 py-2 border rounded-lg text-sm"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Y (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:d.logoY??.15,onChange:O=>u(V=>({...V,logoY:parseFloat(O.target.value)})),className:"w-full px-2 py-2 border rounded-lg text-sm"})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Largura (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:d.logoWidth??1.5,onChange:O=>{const V=Math.max(.1,parseFloat(O.target.value));u(G=>({...G,logoWidth:V,logoHeight:h?V/h:G.logoHeight}))},className:"w-full px-2 py-2 border rounded-lg text-sm"})]})]}),s&&p==="title"&&o.jsxs("div",{className:"space-y-4 animate-in slide-in-from-right-4 fade-in duration-200",children:[o.jsx("h4",{className:"text-sm font-bold text-gray-900 border-b pb-2",children:"Editar Ttulo"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"X (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:d.titleX??.5,onChange:O=>u(V=>({...V,titleX:parseFloat(O.target.value)})),className:"w-full px-2 py-2 border rounded-lg text-sm"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Y (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:d.titleY??.5,onChange:O=>u(V=>({...V,titleY:parseFloat(O.target.value)})),className:"w-full px-2 py-2 border rounded-lg text-sm"})]})]})]}),s&&p==="line"&&o.jsxs("div",{className:"space-y-4 animate-in slide-in-from-right-4 fade-in duration-200",children:[o.jsx("h4",{className:"text-sm font-bold text-gray-900 border-b pb-2",children:"Editar Linha Divisria"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"X (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:d.lineX??.5,onChange:O=>u(V=>({...V,lineX:parseFloat(O.target.value)})),className:"w-full px-2 py-2 border rounded-lg text-sm"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Y (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:d.lineY??.9,onChange:O=>u(V=>({...V,lineY:parseFloat(O.target.value)})),className:"w-full px-2 py-2 border rounded-lg text-sm"})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Largura (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:d.lineWidth??9,onChange:O=>u(V=>({...V,lineWidth:parseFloat(O.target.value)})),className:"w-full px-2 py-2 border rounded-lg text-sm"})]})]}),j?o.jsxs("div",{className:"space-y-4 animate-in slide-in-from-right-4 fade-in duration-200",children:[o.jsx("h4",{className:"text-sm font-bold text-gray-900 border-b pb-2",children:"Editar Texto Selecionado"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Contedo"}),o.jsx("input",{type:"text",value:j.text,onChange:O=>P(j.id,{text:O.target.value}),className:"w-full px-3 py-2 border rounded-lg text-sm bg-gray-50 focus:bg-white transition-colors outline-none focus:ring-2 focus:ring-indigo-500"}),o.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[o.jsxs("button",{onClick:()=>P(j.id,{text:j.text+"{cliente}"}),className:"px-2 py-1 bg-indigo-50 text-indigo-700 hover:bg-indigo-100 border border-indigo-200 rounded text-[10px] font-medium transition-colors",title:"Nome do Cliente",children:["+ ","{cliente}"]}),o.jsxs("button",{onClick:()=>P(j.id,{text:j.text+"{projeto}"}),className:"px-2 py-1 bg-indigo-50 text-indigo-700 hover:bg-indigo-100 border border-indigo-200 rounded text-[10px] font-medium transition-colors",title:"Nome do Projeto",children:["+ ","{projeto}"]}),o.jsxs("button",{onClick:()=>P(j.id,{text:j.text+"{data}"}),className:"px-2 py-1 bg-indigo-50 text-indigo-700 hover:bg-indigo-100 border border-indigo-200 rounded text-[10px] font-medium transition-colors",title:"Data Atual (DD/MM/AAAA)",children:["+ ","{data}"]}),o.jsxs("button",{onClick:()=>P(j.id,{text:j.text+"{contexto}"}),className:"px-2 py-1 bg-indigo-50 text-indigo-700 hover:bg-indigo-100 border border-indigo-200 rounded text-[10px] font-medium transition-colors",title:"Contedo: Context Overview",children:["+ ","{contexto}"]}),o.jsx("button",{onClick:()=>P(j.id,{text:j.text+"[budget]"}),className:"px-2 py-1 bg-indigo-50 text-indigo-700 hover:bg-indigo-100 border border-indigo-200 rounded text-[10px] font-medium transition-colors",title:"Contedo: Budget",children:"+ [budget]"})]}),o.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Variveis sero preenchidas ao gerar o PPT."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"X (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:j.x,onChange:O=>P(j.id,{x:parseFloat(O.target.value)}),className:"w-full px-2 py-2 border rounded-lg text-sm"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Y (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:j.y,onChange:O=>P(j.id,{y:parseFloat(O.target.value)}),className:"w-full px-2 py-2 border rounded-lg text-sm"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"W (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:j.width&&j.width>0?j.width:"",onChange:O=>P(j.id,{width:parseFloat(O.target.value)||0}),className:"w-full px-2 py-2 border rounded-lg text-sm",placeholder:"Auto"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"H (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:j.height&&j.height>0?j.height:"",onChange:O=>P(j.id,{height:parseFloat(O.target.value)||0}),className:"w-full px-2 py-2 border rounded-lg text-sm",placeholder:"Auto"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Tamanho (pt)"}),o.jsx("input",{type:"number",value:j.fontSize,onChange:O=>P(j.id,{fontSize:parseInt(O.target.value)}),className:"w-full px-3 py-2 border rounded-lg text-sm"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Cor (Hex)"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"relative w-8 h-8 rounded border border-gray-300 overflow-hidden shrink-0 cursor-pointer",children:o.jsx("input",{type:"color",value:`#${j.color}`,onChange:O=>P(j.id,{color:O.target.value.replace("#","").toUpperCase()}),className:"absolute inset-0 w-[150%] h-[150%] -top-1/4 -left-1/4 p-0 m-0 border-0 cursor-pointer"})}),o.jsx("input",{type:"text",value:j.color,onChange:O=>P(j.id,{color:O.target.value.replace("#","").toUpperCase()}),className:"w-full px-3 py-2 border rounded-lg text-sm font-mono uppercase",maxLength:6})]})]})]}),o.jsx("div",{className:"flex items-center gap-2 pt-2",children:o.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer select-none",children:[o.jsx("input",{type:"checkbox",checked:j.bold,onChange:O=>P(j.id,{bold:O.target.checked}),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),"Negrito"]})}),o.jsxs("button",{onClick:()=>E(j.id),className:"w-full mt-4 py-2 text-red-600 hover:bg-red-50 border border-red-200 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2",children:[o.jsx(ur,{size:14})," Excluir Texto"]})]}):!s&&o.jsx("div",{className:"text-center text-gray-400 mt-10 text-sm",children:"Selecione um texto para editar"}),s&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[o.jsx("h5",{className:"text-xs font-bold text-gray-500 mb-2 uppercase",children:"Ferramentas de Logo"}),o.jsxs("div",{className:"text-[10px] text-gray-400 font-mono mb-2",children:["Pos: ",((D=d.logoX)==null?void 0:D.toFixed(2))??"?",'" x ',((v=d.logoY)==null?void 0:v.toFixed(2))??"?",'"']}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[o.jsx("button",{onClick:()=>u(O=>({...O,logoX:8.4,logoY:.15})),className:"py-1 px-2 bg-gray-50 text-gray-600 rounded text-[10px] hover:bg-gray-100 border border-gray-200",children:"Resetar (Canto)"}),o.jsx("button",{onClick:()=>u(O=>({...O,logoX:4,logoY:2.5})),className:"py-1 px-2 bg-gray-50 text-gray-600 rounded text-[10px] hover:bg-gray-100 border border-gray-200",children:"Mover Centro"}),o.jsx("button",{onClick:()=>{h&&d.logoWidth&&u(O=>({...O,logoHeight:O.logoWidth/h}))},className:"col-span-2 py-1 px-2 bg-indigo-50 text-indigo-700 rounded text-[10px] hover:bg-indigo-100 border border-indigo-200 font-bold",children:"Corrigir Proporo (Original)"})]})]}),s&&!p&&o.jsx("div",{className:"text-center text-gray-400 mt-2 text-xs px-4",children:r?"O logo est destacado com borda vermelha/azul para facilitar a localizao.":o.jsxs("div",{className:"text-red-500",children:["Nenhum logo disponvel.",o.jsx("br",{}),'Carregue um logo na seo "Branding Global".']})})]})]})]})})},p8=({slide:t,onDelete:e,onEdit:n,preview:r})=>{const{attributes:a,listeners:i,setNodeRef:s,transform:l,transition:c,isDragging:d}=$E({id:t.id}),u={transform:Vl.Transform.toString(l),transition:c,zIndex:d?9999:"auto"},h=t.type==="automatic";return o.jsxs("div",{ref:s,style:u,className:`flex items-center gap-3 p-3 rounded-lg border mb-2 ${d?"shadow-lg ring-2 ring-indigo-500 bg-white":"bg-white border-gray-200"}`,children:[o.jsx("div",{...a,...i,className:"cursor-grab text-gray-400 hover:text-gray-600 p-1",children:o.jsx(mE,{size:20})}),o.jsx("div",{className:`p-1 rounded overflow-hidden flex-shrink-0 border border-gray-100 ${h?"bg-indigo-50":"bg-gray-50"}`,children:r?o.jsx("img",{src:r,alt:"Slide Preview",className:"h-10 w-16 object-cover rounded-sm"}):o.jsx("div",{className:`h-10 w-16 flex items-center justify-center ${h?"text-indigo-400":"text-gray-300"}`,children:h?o.jsx(DA,{size:20}):o.jsx(zl,{size:20})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:`text-sm font-medium truncate ${h?"text-indigo-900":"text-gray-900"}`,children:t.name}),t.type==="automatic"&&o.jsx("span",{className:"text-[10px] text-indigo-500 uppercase font-bold tracking-wider",children:"Sistema"}),t.type==="custom"&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-[10px] text-gray-400",children:"Slide Fixo (Imagem)"}),t.overlays&&t.overlays.length>0&&o.jsxs("span",{className:"text-[10px] bg-indigo-50 text-indigo-600 px-1.5 py-0.5 rounded-full font-medium",children:[t.overlays.length," textos"]})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:()=>n&&n(t),className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:h?"Editar Layout/Branding":"Editar Textos Sobrepostos",children:h?o.jsx(DA,{size:18}):o.jsx(ei,{size:18})}),!h&&o.jsx("button",{onClick:()=>e(t.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded transition-colors",title:"Excluir Slide",children:o.jsx(ur,{size:18})})]})]})},m8=()=>{const{user:t,isAdmin:e,approveUser:n,toggleAI:r}=My(),[a,i]=L.useState("general"),[s,l]=L.useState(""),[c,d]=L.useState(!1),[u,h]=L.useState(""),[m,p]=L.useState("gemini-1.5-flash"),[A,g]=L.useState("gemini-3-pro-image-preview"),[b,x]=L.useState(""),[y,w]=L.useState(""),[S,k]=L.useState(""),[P,E]=L.useState(""),[N,C]=L.useState("initial"),[R,j]=L.useState(Tg),[_,D]=L.useState(null),[v,O]=L.useState(null),[V,G]=L.useState(!1),[Q,H]=L.useState([]);L.useEffect(()=>{var Ne;const z=localStorage.getItem("GEMINI_API_KEY");z&&l(z);const J=localStorage.getItem("GEMINI_TEXT_MODEL");J&&p(J);const $=localStorage.getItem("GEMINI_IMAGE_MODEL");$&&g($);const U=localStorage.getItem("GEMINI_CUSTOM_CONTEXT_RULES");x(U||uf);const te=localStorage.getItem("GEMINI_INTERVIEWER_RULES");w(te||cf);const Z=localStorage.getItem("GEMINI_INITIAL_UNDERSTANDING_PROMPT");k(Z||df);const re=localStorage.getItem("GEMINI_ARCHITECTURE_PROMPT");E(re||nI),localStorage.getItem("PPT_SMART_DESIGN_ENABLED")==="true"&&G(!0);const Te=localStorage.getItem("PPT_TEMPLATE_CONFIG");if(Te)try{const $e=JSON.parse(Te);$e.slides.find(pt=>pt.type==="automatic")||$e.slides.push(Tg.slides[0]),j($e),(Ne=$e.branding)!=null&&Ne.logoId&&Hs($e.branding.logoId).then(D)}catch($e){console.error("Failed to load template config",$e)}},[]),L.useEffect(()=>{localStorage.setItem("GEMINI_CUSTOM_CONTEXT_RULES",b)},[b]),L.useEffect(()=>{localStorage.setItem("GEMINI_INITIAL_UNDERSTANDING_PROMPT",S)},[S]),L.useEffect(()=>{localStorage.setItem("GEMINI_INTERVIEWER_RULES",y)},[y]),L.useEffect(()=>{localStorage.setItem("GEMINI_ARCHITECTURE_PROMPT",P)},[P]),L.useEffect(()=>{R!==Tg&&localStorage.setItem("PPT_TEMPLATE_CONFIG",JSON.stringify(R))},[R]),L.useEffect(()=>{localStorage.setItem("PPT_SMART_DESIGN_ENABLED",String(V))},[V]);const[ne,X]=L.useState({});L.useEffect(()=>{a==="template"&&(async()=>{const J={};let $=!1;for(const U of R.slides)if(U.type==="custom"&&U.imageId&&!ne[U.id])try{const te=await Hs(U.imageId);te&&(J[U.id]=te,$=!0)}catch(te){console.error(`Failed to load preview for slide ${U.id}`,te)}$&&X(U=>({...U,...J}))})()},[R.slides,ne,a]),L.useEffect(()=>{if(!e)return;const z=Di(yn(st,"users"),dS("createdAt","desc")),J=fl(z,$=>{const U=$.docs.map(te=>te.data());H(U)});return()=>J()},[e]);const K=bE(Kf(Qp),Kf(Hp,{coordinateGetter:qE})),ce=z=>{const{active:J,over:$}=z;$&&J.id!==$.id&&j(U=>{const te=U.slides.findIndex(fe=>fe.id===J.id),Z=U.slides.findIndex(fe=>fe.id===$.id),re=Yp(U.slides,te,Z);return{...U,slides:re}})},ie=L.useCallback(async z=>{if(z.length!==0)for(const J of z){const $=`slide-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,U=`img-${$}`;try{await k_(U,J);const te={id:$,type:"custom",name:J.name.replace(/\.[^/.]+$/,""),imageId:U};j(Z=>({...Z,slides:[...Z.slides,te]}))}catch(te){console.error(te),alert(`Erro ao salvar imagem do slide ${J.name}.`)}}},[]),{getRootProps:oe,getInputProps:pe}=Ep({onDrop:ie,accept:{"image/*":[]},multiple:!0}),Pe=async z=>{const J=R.branding[`${z}Id`];if(J&&typeof J=="string")try{await D_(J)}catch($){console.error("Error deleting branding image",$)}j($=>{const U={...$.branding};return delete U[`${z}Id`],delete U.logoWidth,delete U.logoHeight,{...$,branding:U}}),D(null)},ye=(z,J)=>{v&&(j($=>({...$,slides:$.slides.map(U=>U.id===v?{...U,overlays:z}:U),branding:J?{...$.branding,...J}:$.branding})),O(null))},ge=async(z,J)=>{if(J.length===0)return;const $=J[0],U=`brand-${z}`;try{await k_(U,$);let te={};if(z==="logo"){const Z=new FileReader;Z.readAsDataURL($),await new Promise(re=>{Z.onload=fe=>{var Ne;const Te=new Image;Te.src=(Ne=fe.target)==null?void 0:Ne.result,Te.onload=()=>{te={logoWidth:.5*(Te.naturalWidth/Te.naturalHeight),logoHeight:.5},re()}}})}if(j(Z=>({...Z,branding:{...Z.branding,[`${z}Id`]:U,...te}})),z==="logo"){const Z=await Hs(U);D(Z)}}catch(te){console.error(te),alert("Erro ao salvar imagem de branding.")}},Se=async(z,J)=>{confirm("Remover este slide?")&&(J&&await D_(J),j($=>({...$,slides:$.slides.filter(U=>U.id!==z)})))},ve=()=>{localStorage.setItem("GEMINI_API_KEY",s),localStorage.setItem("GEMINI_TEXT_MODEL",m),localStorage.setItem("GEMINI_IMAGE_MODEL",A),b!==uf?localStorage.setItem("GEMINI_CUSTOM_CONTEXT_RULES",b):localStorage.removeItem("GEMINI_CUSTOM_CONTEXT_RULES"),y!==cf?localStorage.setItem("GEMINI_INTERVIEWER_RULES",y):localStorage.removeItem("GEMINI_INTERVIEWER_RULES"),S!==df?localStorage.setItem("GEMINI_INITIAL_UNDERSTANDING_PROMPT",S):localStorage.removeItem("GEMINI_INITIAL_UNDERSTANDING_PROMPT"),localStorage.setItem("PPT_TEMPLATE_CONFIG",JSON.stringify(R)),s&&xr.initialize(s),h("Configuraes salvas com sucesso!"),setTimeout(()=>h(""),3e3)},Ae=()=>{window.confirm("Tem certeza que deseja restaurar as regras originais do prompt selecionado?")&&(N==="generation"?x(uf):N==="interviewer"?w(cf):k(df))},xe=async(z,J)=>{try{await n(z,!J)}catch($){console.error($),alert("Erro ao atualizar status.")}},I=({id:z,label:J,icon:$})=>o.jsxs("button",{onClick:()=>i(z),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg transition-colors whitespace-nowrap ${a===z?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:[o.jsx($,{size:16}),J]}),{getRootProps:Y,getInputProps:q,isDragActive:F}=Ep({onDrop:z=>ge("logo",z),accept:{"image/*":[]},maxFiles:1}),B=v?R.slides.find(z=>z.id===v):null;return o.jsxs("div",{className:"w-full h-full flex flex-col bg-gray-50/30",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center p-4 md:p-6 border-b border-gray-100 bg-white shadow-sm z-10 shrink-0",children:[o.jsxs("div",{className:"mb-4 sm:mb-0",children:[o.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Configuraes"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Gerencie acessos, integraes e comportamento da IA"})]}),o.jsxs("div",{className:"flex gap-1 bg-gray-50 p-1 rounded-xl border border-gray-200 overflow-x-auto max-w-full",children:[o.jsx(I,{id:"general",label:"Geral",icon:Ad}),o.jsx(I,{id:"template",label:"Template PPT",icon:DA}),o.jsx(I,{id:"pricing",label:"Peso de Precificao",icon:Ad}),o.jsx(I,{id:"prompts",label:"Prompt IA",icon:ei})]})]}),o.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[a==="pricing"&&o.jsx("div",{className:"h-full animate-in fade-in slide-in-from-bottom-2 duration-300",children:o.jsx(h8,{})}),a==="general"&&o.jsx("div",{className:"h-full overflow-y-auto p-4 md:p-6 lg:p-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:o.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e&&o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 mb-6 border-b pb-4",children:[o.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg",children:o.jsx(Bj,{className:"text-indigo-600",size:24})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Gesto de Acessos"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Aprovao de logins e controle de permisses"})]})]}),o.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"text-xs text-gray-500 uppercase bg-gray-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Usurio"}),o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Email"}),o.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Perfil"}),o.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Acesso IA"}),o.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Status"}),o.jsx("th",{className:"px-6 py-4 text-right font-semibold",children:"Ao"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:Q.map(z=>o.jsxs("tr",{className:"bg-white hover:bg-gray-50/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:o.jsxs("div",{className:"flex items-center gap-2",children:[z.displayName||"Sem Nome",z.uid===(t==null?void 0:t.uid)&&o.jsx("span",{className:"text-[10px] bg-indigo-100 text-indigo-700 px-1.5 py-0.5 rounded font-bold",children:"VOC"})]})}),o.jsx("td",{className:"px-6 py-4 text-gray-500",children:z.email}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("span",{className:`inline-block px-2.5 py-1 rounded text-xs font-bold ${z.role==="master"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-600"}`,children:z.role.toUpperCase()})}),o.jsx("td",{className:"px-6 py-4 text-center",children:z.role!=="master"&&o.jsx("div",{className:"flex justify-center",children:o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer group",title:"Permitir uso de IA",children:[o.jsx("input",{type:"checkbox",className:"sr-only peer",checked:z.canUseAI,onChange:()=>r&&r(z.uid,!z.canUseAI)}),o.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})})}),o.jsx("td",{className:"px-6 py-4 text-center",children:z.isApproved?o.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-green-50 text-green-700 font-bold text-xs border border-green-100",children:[o.jsx(Nl,{size:12})," Ativo"]}):o.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-amber-50 text-amber-700 font-bold text-xs border border-amber-100 animate-pulse",children:[o.jsx(zj,{size:12})," Pendente"]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:z.role!=="master"&&(z.isApproved?o.jsx("button",{onClick:()=>xe(z.uid,!0),className:"text-red-500 hover:text-red-700 font-medium text-xs border border-red-200 hover:bg-red-50 px-3 py-1.5 rounded transition-colors",children:"Bloquear"}):o.jsx("button",{onClick:()=>xe(z.uid,!1),className:"bg-green-600 text-white hover:bg-green-700 font-medium text-xs px-4 py-1.5 rounded shadow-sm shadow-green-200 transition-all transform active:scale-95",children:"Aprovar Acesso"}))})]},z.uid))})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center gap-2",children:[o.jsx("div",{className:"p-1.5 bg-gray-100 rounded text-gray-600",children:o.jsx(Ad,{size:20})}),"Integraes & Chaves"]}),o.jsxs("div",{className:"max-w-2xl",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Google Gemini API Key"}),o.jsxs("div",{className:"relative group",children:[o.jsx("input",{type:c?"text":"password",value:s,onChange:z=>l(z.target.value),placeholder:"Cole sua API Key do Google AI Studio aqui",className:"w-full pl-4 pr-12 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-mono text-sm bg-gray-50 focus:bg-white"}),o.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:c?o.jsx(Ej,{size:18}):o.jsx(Nj,{size:18})})]}),o.jsxs("p",{className:"text-xs text-gray-500 mt-2 flex items-center gap-1",children:["Necessrio para utilizar as funcionalidades de Estimativa Inteligente.",o.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 font-medium hover:underline inline-flex items-center gap-0.5 ml-1",children:["Obter chave ",o.jsx("span",{className:"text-[10px]",children:""})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6 pt-6 border-t border-gray-100",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Modelo de Texto (LLM)"}),o.jsx("input",{type:"text",value:m,onChange:z=>p(z.target.value),placeholder:"ex: gemini-1.5-flash",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-mono text-sm bg-gray-50 focus:bg-white"}),o.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Padro: gemini-1.5-flash"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Modelo de Imagem (Futuro)"}),o.jsx("input",{type:"text",value:A,onChange:z=>g(z.target.value),placeholder:"ex: gemini-3-pro-image-preview",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-mono text-sm bg-gray-50 focus:bg-white"}),o.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Padro: gemini-3-pro-image-preview"})]})]})]})]})]})}),a==="template"&&o.jsx("div",{className:"h-full overflow-y-auto p-4 md:p-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:o.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-1 space-y-6",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:"Branding Global"}),o.jsx("p",{className:"text-xs text-gray-500 mb-6",children:"Estes elementos sero aplicados aos Slides Automticos."}),o.jsx("div",{className:"mb-6 p-4 bg-indigo-50 rounded-lg border border-indigo-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"text-sm font-bold text-indigo-900 flex items-center gap-2",children:[o.jsx(sr,{size:16,className:"text-indigo-600"}),"Smart Slide Engine (IA)"]}),o.jsx("p",{className:"text-xs text-indigo-700 mt-1",children:"Gera imagens de fundo, analisa layouts e otimiza textos autom."})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:V,onChange:z=>G(z.target.checked),className:"sr-only peer"}),o.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("label",{className:"text-xs font-bold text-gray-700 uppercase tracking-wide",children:"Logomarca (PNG)"}),R.branding.logoId&&o.jsx("button",{onClick:z=>{z.stopPropagation(),Pe("logo")},className:"text-red-500 hover:text-red-700 hover:bg-red-50 p-1 rounded transition-colors",title:"Remover Logo",children:o.jsx(ur,{size:14})})]}),o.jsxs("div",{...Y(),className:`border-2 border-dashed rounded-lg p-4 flex flex-col items-center justify-center cursor-pointer transition-colors relative ${F?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("input",{...q()}),_?o.jsxs("div",{className:"flex flex-col items-center gap-2 w-full",children:[o.jsx("div",{className:"h-24 w-full flex items-center justify-center bg-gray-50 rounded border border-gray-100 p-2",children:o.jsx("img",{src:_,alt:"Logo",className:"max-h-full max-w-full object-contain"})}),o.jsxs("div",{className:"w-full mt-2 pt-2 border-t border-gray-100 flex flex-col gap-3",onClick:z=>z.stopPropagation(),children:[o.jsxs("div",{className:"text-[10px] text-center text-gray-400 font-mono",children:[(R.branding.logoWidth??0).toFixed(2),'" x ',(R.branding.logoHeight??0).toFixed(2),'"']}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Pos X (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:R.branding.logoX??8.4,onChange:z=>{const J=parseFloat(z.target.value);j($=>({...$,branding:{...$.branding,logoX:J}}))},className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-indigo-500 bg-white",placeholder:"8.4"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Pos Y (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:R.branding.logoY??.15,onChange:z=>{const J=parseFloat(z.target.value);j($=>({...$,branding:{...$.branding,logoY:J}}))},className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-indigo-500 bg-white",placeholder:"0.15"})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Largura (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:R.branding.logoWidth??1.5,onChange:z=>{const J=parseFloat(z.target.value);if(J>0){const $=R.branding.logoWidth||1.5,U=R.branding.logoHeight||.5,te=$/U,Z=J/te;j(re=>({...re,branding:{...re.branding,logoWidth:J,logoHeight:Z}}))}},className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-indigo-500 bg-white"}),o.jsxs("p",{className:"text-[10px] text-gray-400 text-right",children:["Altura Auto: ",(R.branding.logoHeight??0).toFixed(2),'"']})]})]})]}):o.jsxs("div",{className:"text-center text-gray-400 py-4",children:[o.jsx(zl,{className:"mx-auto mb-2",size:24}),o.jsx("span",{className:"text-xs",children:"Arraste logo aqui"})]}),R.branding.logoId&&!_&&o.jsx("div",{className:"absolute top-1 right-1 bg-green-500 text-white rounded-full p-1",children:o.jsx(Nl,{size:8})})]})]})})]})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 flex flex-col h-full min-h-[500px]",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Estrutura de Slides"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Defina a ordem do PPT Final. Arraste para reordenar."})]}),o.jsxs("div",{...oe(),className:"cursor-pointer",children:[o.jsx("input",{...pe()}),o.jsxs("button",{className:"flex items-center gap-2 bg-indigo-50 hover:bg-indigo-100 text-indigo-700 px-3 py-2 rounded-lg text-sm font-bold border border-indigo-200 transition-colors",children:[o.jsx(Rn,{size:16})," Add Slide da Capa/Fim"]})]})]}),o.jsxs("div",{className:"flex-1 bg-gray-50 rounded-xl p-4 border border-gray-200 overflow-y-auto",children:[o.jsx(OE,{sensors:K,collisionDetection:EE,onDragEnd:ce,children:o.jsx(GE,{items:R.slides.map(z=>z.id),strategy:zE,children:R.slides.map(z=>o.jsx(p8,{slide:z,onDelete:J=>Se(J,z.imageId),onEdit:()=>O(z.id),preview:ne[z.id]},z.id))})}),R.slides.length===0&&o.jsx("div",{className:"text-center py-10 text-gray-400",children:"Nenhum slide configurado."})]})]})})]})}),a==="prompts"&&o.jsx("div",{className:"h-full flex flex-col p-4 md:p-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:o.jsxs("div",{className:"flex-1 flex flex-col bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsxs("div",{className:"flex border-b border-gray-100 bg-gray-50/50",children:[o.jsx("button",{onClick:()=>C("initial"),className:`flex-1 py-3 px-4 text-sm font-bold transition-colors ${N==="initial"?"border-b-2 border-indigo-600 text-indigo-700 bg-white":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:"1. Entendimento Inicial"}),o.jsx("button",{onClick:()=>C("interviewer"),className:`flex-1 py-3 px-4 text-sm font-bold transition-colors ${N==="interviewer"?"border-b-2 border-indigo-600 text-indigo-700 bg-white":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:"2. Entrevistador (Chat)"}),o.jsx("button",{onClick:()=>C("generation"),className:`flex-1 py-3 px-4 text-sm font-bold transition-colors ${N==="generation"?"border-b-2 border-indigo-600 text-indigo-700 bg-white":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:"3. Documentao (Estimar)"}),o.jsx("button",{onClick:()=>C("architecture"),className:`flex-1 py-3 px-4 text-sm font-bold transition-colors ${N==="architecture"?"border-b-2 border-indigo-600 text-indigo-700 bg-white":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:"4. Arquitetura (Imagem)"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center p-4 border-b border-gray-100 bg-white gap-4",children:[o.jsx("div",{children:N==="initial"?o.jsxs(o.Fragment,{children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(sr,{size:20,className:"text-indigo-600"}),"Validao de Entendimento (Fase 1)"]}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Prompt que orienta a IA a explicar o que entendeu do projeto ANTES de iniciar as perguntas."})]}):N==="interviewer"?o.jsxs(o.Fragment,{children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(SA,{size:20,className:"text-indigo-600"}),"Instrues do Sistema (Fase 2 - Chat)"]}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Define a personalidade, regras de perguntas e algoritmo de confiana da entrevista."})]}):N==="architecture"?o.jsxs(o.Fragment,{children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(zl,{size:20,className:"text-indigo-600"}),"Prompt de Arquitetura (Fase 4 - Visual)"]}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Define como a IA deve instruir o modelo de imagem a gerar o diagrama de arquitetura."})]}):o.jsxs(o.Fragment,{children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(ei,{size:20,className:"text-indigo-600"}),"Regras de Documentao (Fase 3 - Sada)"]}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Edite apenas as regras de gerao da Documentao Tcnica (Contexto) e Planejamento."})]})}),o.jsxs("button",{onClick:Ae,className:"flex items-center gap-2 text-xs font-medium text-gray-600 hover:text-indigo-700 bg-white hover:bg-indigo-50 border border-gray-200 hover:border-indigo-200 px-3 py-2 rounded-lg transition-all shadow-sm",title:"Restaurar regra padro",children:[o.jsx(AE,{size:14}),"Restaurar Padro"]})]}),o.jsxs("div",{className:"flex-1 relative group bg-indigo-50/10 flex flex-col",children:[N==="generation"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"px-6 py-2 bg-gray-100 border-b border-gray-200 text-xs text-gray-400 font-mono select-none flex items-center gap-2",children:[o.jsx(sg,{size:12}),"[SISTEMA: Identidade, Regras SDLC e Formato JSON] (No editvel)"]}),o.jsx("div",{className:"px-6 py-2 bg-indigo-100/50 border-b border-indigo-100 text-xs text-indigo-700 font-bold font-mono select-none uppercase tracking-wide",children:" Suas regras de gerao (Injetadas no prompt)"}),o.jsx("textarea",{value:b,onChange:z=>x(z.target.value),className:"flex-1 w-full p-4 md:p-6 font-mono text-sm leading-relaxed text-indigo-900 bg-white outline-none resize-none selection:bg-indigo-100",placeholder:"Digite as instrues para Contexto e Planejamento aqui...",spellCheck:!1}),o.jsxs("div",{className:"px-6 py-2 bg-gray-100 border-t border-gray-200 text-xs text-gray-400 font-mono select-none flex items-center gap-2",children:[o.jsx(sg,{size:12}),"[SISTEMA: Exemplo de Sada JSON] (No editvel)"]})]}):N==="architecture"?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"px-6 py-2 bg-indigo-100/50 border-b border-indigo-100 text-xs text-indigo-700 font-bold font-mono select-none uppercase tracking-wide",children:" Prompt Gerador de Imagem (Meta-Prompt)"}),o.jsx("textarea",{value:P,onChange:z=>E(z.target.value),className:"flex-1 w-full p-4 md:p-6 font-mono text-sm leading-relaxed text-indigo-900 bg-white outline-none resize-none selection:bg-indigo-100",placeholder:"Digite as instrues para a IA criar o prompt da imagem...",spellCheck:!1})]}):N==="interviewer"?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"px-6 py-2 bg-indigo-100/50 border-b border-indigo-100 text-xs text-indigo-700 font-bold font-mono select-none uppercase tracking-wide",children:" Instruo de Sistema Completa (Substitui o padro)"}),o.jsx("textarea",{value:y,onChange:z=>w(z.target.value),className:"flex-1 w-full p-4 md:p-6 font-mono text-sm leading-relaxed text-indigo-900 bg-white outline-none resize-none selection:bg-indigo-100",placeholder:"Digite as instrues completas para o comportamento da IA...",spellCheck:!1})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"px-6 py-2 bg-indigo-100/50 border-b border-indigo-100 text-xs text-indigo-700 font-bold font-mono select-none uppercase tracking-wide",children:" Instruo para Fase de Entendimento Inicial (Validao)"}),o.jsx("textarea",{value:S,onChange:z=>k(z.target.value),className:"flex-1 w-full p-4 md:p-6 font-mono text-sm leading-relaxed text-indigo-900 bg-white outline-none resize-none selection:bg-indigo-100",placeholder:"Digite as instrues para a IA resumir o projeto...",spellCheck:!1})]}),o.jsxs("div",{className:"absolute top-24 right-8 pointer-events-none opacity-50 text-[10px] text-gray-400 bg-white/90 px-2 py-1 rounded border border-gray-100 backdrop-blur-sm z-10",children:[(N==="generation"?b:N==="interviewer"?y:N==="architecture"?P:S).length," caracteres"]})]}),N==="generation"&&o.jsxs("div",{className:"p-3 bg-blue-50 border-t border-blue-100 text-xs text-blue-800 flex items-start gap-2",children:[o.jsx(sg,{size:14,className:"mt-0.5 shrink-0"}),o.jsx("span",{className:"opacity-90 leading-relaxed",children:"O texto acima ser inserido no centro do Prompt do Sistema, entre as regras rgidas do sistema (SDLC) e o formato de sada JSON. Use isso para personalizar o estilo da documentao ou adicionar novas sees ao relatrio."})]})]})})]}),o.jsxs("div",{className:"p-4 md:p-6 border-t border-gray-200 bg-white shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] z-20 shrink-0 flex justify-between items-center",children:[o.jsx("div",{className:"flex-1",children:u&&o.jsxs("span",{className:"inline-flex items-center gap-2 text-green-700 bg-green-50 px-3 py-1.5 rounded-lg text-sm font-medium animate-in slide-in-from-left-2 fade-in",children:[o.jsx(Nl,{size:16})," ",u]})}),o.jsxs("button",{onClick:ve,className:"flex items-center gap-2 bg-indigo-600 text-white px-8 py-3 rounded-xl hover:bg-indigo-700 hover:shadow-lg hover:shadow-indigo-200 transition-all font-bold transform active:scale-95",children:[o.jsx(_u,{size:18}),"Salvar Alteraes"]})]}),B&&o.jsx(f8,{slide:B,preview:ne[B.id],branding:R.branding,logoPreview:_,onClose:()=>O(null),onSave:ye})]})},By=({content:t,className:e=""})=>{if(t==null)return null;let n;typeof t!="string"?(console.warn("MarkdownRenderer received non-string content:",t),typeof t=="object"?n="```json\n"+JSON.stringify(t,null,2)+"\n```":n=String(t)):n=t;let r=n.replace(/([^\n])\s-\s\*\*/g,`$1
- **`);r=r.replace(/([^\n])(#{3,})/g,`$1
$2`);const a=r.split(`
`),i=[];let s=[],l=[],c=0;const d=()=>{s.length>0&&(i.push(o.jsx("ul",{className:"list-disc pl-5 space-y-2 mb-4",children:s.map((h,m)=>o.jsx("li",{className:"pl-1",children:ed(h)},m))},`list-${c++}`)),s=[])},u=()=>{if(l.length>0){const h=l.map(m=>m.split("|").map(p=>p.trim()).filter((p,A,g)=>A>0&&A<g.length-1));if(h.length>=2){const m=h[0],p=h.slice(1).filter(A=>{var g;return!((g=A[0])!=null&&g.match(/^[: -]+$/))});i.push(o.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 mb-6 shadow-sm",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-700 font-semibold",children:o.jsx("tr",{children:m.map((A,g)=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider border-b border-gray-200",children:ed(A)},g))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:p.map((A,g)=>o.jsx("tr",{className:"hover:bg-gray-50 transition-colors",children:A.map((b,x)=>o.jsx("td",{className:"px-6 py-4 whitespace-nowrap md:whitespace-normal text-gray-700 leading-snug",children:ed(b)},x))},g))})]})},`table-${c++}`))}l=[]}};return a.forEach((h,m)=>{const p=h.trim();if(!p){d(),u();return}if(p.startsWith("|")){d(),l.push(p);return}if(p.startsWith("- ")||p.startsWith("* ")){u(),s.push(p.substring(2));return}if(d(),u(),p.startsWith("### ")){i.push(o.jsx("h4",{className:"text-lg font-bold text-gray-900 mt-6 mb-3 border-b border-gray-100 pb-2",children:p.replace("### ","")},`h4-${c++}`));return}if(p.startsWith("#### ")){i.push(o.jsx("h5",{className:"font-bold text-gray-800 mt-4 mb-2",children:p.replace("#### ","")},`h5-${c++}`));return}i.push(o.jsx("p",{className:"mb-4 last:mb-0 text-justify",children:ed(p)},`p-${c++}`))}),d(),u(),o.jsx("div",{className:`text-gray-700 text-sm leading-relaxed ${e}`,children:i})},ed=t=>t.includes("<br/>")||t.includes("<br>")?t.split(/<br\/?>/g).reduce((r,a,i)=>(i>0&&r.push(o.jsx("br",{},`br-${i}`)),r.push(...ed(a)),r),[]):t.includes("**")?t.split(/(\*\*.*?\*\*)/g).map((n,r)=>n.startsWith("**")&&n.endsWith("**")?o.jsx("strong",{className:"font-semibold text-gray-900",children:n.slice(2,-2)},r):n):[t],g8=({estimate:t,onApply:e,isApplying:n,progressLog:r})=>{const[a,i]=L.useState("summary"),s=({id:l,label:c,icon:d})=>o.jsxs("button",{onClick:()=>i(l),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg transition-colors ${a===l?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"} `,children:[o.jsx(d,{size:16}),c]});return o.jsxs("div",{className:"w-full",children:[o.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2 text-gray-900",children:[o.jsx(sr,{size:18,className:"text-yellow-500"}),"Proposta de Projeto Gerada"]}),o.jsxs("div",{className:"flex gap-2 mb-4 border-b border-gray-200 pb-2 overflow-x-auto",children:[o.jsx(s,{id:"summary",label:"Resumo & Gantt",icon:og}),o.jsx(s,{id:"context",label:"Contexto do Projeto",icon:ei}),o.jsx(s,{id:"planning",label:"Premissas & RACI",icon:El}),o.jsx(s,{id:"delta",label:"Escopo (Delta)",icon:Hb})]}),o.jsxs("div",{className:"min-h-[300px]",children:[a==="summary"&&o.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[o.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:t.description||"Cronograma gerado com sucesso."}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200 text-sm space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[o.jsx("span",{className:"font-semibold text-gray-600",children:"Projeto"}),o.jsx("span",{className:"font-medium text-gray-900",children:t.project_name})]}),o.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[o.jsx("span",{className:"font-semibold text-gray-600",children:"Total de Tarefas"}),o.jsx("span",{className:"bg-indigo-100 text-indigo-700 px-2 py-0.5 rounded-full text-xs font-bold",children:t.tasks.length})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"font-semibold text-gray-600",children:"Confiana da IA"}),o.jsxs("span",{className:`font-bold ${t.confidence_score>.7?"text-green-600":"text-orange-500"} `,children:[(t.confidence_score*100).toFixed(0),"%"]})]})]}),n?o.jsxs("div",{className:"bg-indigo-50 border border-indigo-100 p-4 rounded-xl space-y-3 animate-in fade-in",children:[o.jsxs("h4",{className:"font-semibold text-indigo-900 text-sm flex items-center gap-2",children:[o.jsx(Ea,{size:16,className:"animate-spin text-indigo-600"}),"Processando Projeto..."]}),o.jsxs("div",{className:"space-y-2",children:[r.map((l,c)=>o.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-800",children:[o.jsx(El,{size:14,className:"text-green-600"}),l]},c)),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-400 italic",children:[o.jsx("div",{className:"w-3 h-3 rounded-full border-2 border-indigo-300 border-t-transparent animate-spin"}),"Trabalhando..."]})]})]}):o.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-4 rounded-xl",children:[o.jsx("h4",{className:"font-semibold text-blue-900 text-sm mb-2",children:"Prximos Passos"}),o.jsx("p",{className:"text-blue-700 text-xs",children:'Revise os detalhes nas abas "Contexto" e "Premissas" antes de gerar o grfico. Ao clicar em gerar, as tarefas sero importadas para o cronograma interativo.'})]}),o.jsx("button",{onClick:e,disabled:n,className:`w-full py-3 rounded-xl font-bold transition-all flex items-center justify-center gap-2 shadow-sm ${n?"bg-gray-100 text-gray-400 cursor-wait":"bg-green-600 hover:bg-green-700 hover:shadow-md text-white"} `,children:n?o.jsx(o.Fragment,{children:"Criando Projeto..."}):o.jsxs(o.Fragment,{children:[o.jsx(og,{size:18})," Aprovar e Gerar Gantt"]})})]}),a==="context"&&o.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300 text-sm h-[350px] overflow-y-auto custom-scrollbar pr-2",children:[t.team_structure&&t.team_structure.length>0&&o.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[o.jsxs("h4",{className:"font-bold mb-4 flex items-center gap-2 text-indigo-900",children:[o.jsx(co,{size:18,className:"text-indigo-600"}),"Time do Projeto (Escopo Geral)"]}),o.jsx("div",{className:"flex flex-wrap gap-4 mb-6 justify-center sm:justify-start",children:t.team_structure.map((l,c)=>o.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 px-3 py-2 rounded-lg border border-gray-100 min-w-[200px]",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold shrink-0",children:l.role.substring(0,2).toUpperCase()}),o.jsxs("div",{className:"text-xs",children:[o.jsx("div",{className:"font-bold text-gray-800",children:l.role}),o.jsx("div",{className:"text-gray-500",children:l.quantity>1?`${l.quantity} Profissionais`:"1 Profissional"})]})]},c))}),o.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 shadow-sm",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-indigo-600 text-white",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2 text-left text-xs font-bold uppercase tracking-wider",children:"Perfil"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-bold uppercase tracking-wider w-16 text-center",children:"Qtde"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-bold uppercase tracking-wider",children:"Responsabilidades / Habilidades"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.team_structure.map((l,c)=>o.jsxs("tr",{className:c%2===0?"bg-indigo-50/50":"bg-white",children:[o.jsx("td",{className:"px-3 py-2 text-gray-800 font-bold text-xs",children:l.role}),o.jsx("td",{className:"px-3 py-2 text-gray-600 text-xs font-bold text-center",children:l.quantity}),o.jsx("td",{className:"px-3 py-2 text-gray-600 text-xs text-justify leading-relaxed",children:o.jsx("ul",{className:"list-disc pl-4 space-y-1",children:l.responsibilities.map((d,u)=>o.jsx("li",{children:d},u))})})]},c))})]})})]}),t.documentation?o.jsx("div",{className:"space-y-4",children:Object.entries(t.documentation).map(([l,c],d)=>{const u=l.split("_").map(A=>A.charAt(0).toUpperCase()+A.slice(1)).join(" ");let h="bg-gray-50/50 border-gray-100 text-gray-900",m="text-gray-600",p=ei;return l==="context_overview"?(h="bg-indigo-50/50 border-indigo-100 text-indigo-900",m="text-indigo-600",p=ss):l==="technical_solution"?(h="bg-blue-50/50 border-blue-100 text-blue-900",m="text-blue-600",p=ei):l==="implementation_steps"?(h="bg-green-50/50 border-green-100 text-green-900",m="text-green-600",p=og):l==="testing_strategy"&&(h="bg-teal-50/50 border-teal-100 text-teal-900",m="text-teal-600",p=El),o.jsxs("div",{className:`${h} p-4 rounded-xl border`,children:[o.jsxs("h4",{className:"font-bold mb-2 flex items-center gap-2 capitalize",children:[o.jsx(p,{size:16,className:m}),u]}),o.jsx(By,{content:c,className:"text-xs"})]},l)})}):o.jsx("div",{className:"text-center py-10 text-gray-500 italic",children:"Documentao detalhada no disponvel para esta estimativa."})]}),a==="planning"&&o.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300 text-sm",children:t.strategic_planning?o.jsxs(o.Fragment,{children:[o.jsxs("section",{children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Premissas Tcnicas"}),o.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-700 bg-white p-3 rounded-lg border border-gray-200",children:(t.strategic_planning.technical_premises||[]).map((l,c)=>o.jsx("li",{children:l},c))})]}),o.jsxs("section",{children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Responsabilidades do Cliente (Prazos Crticos)"}),o.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 shadow-sm",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ao Necessria"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prazo"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Impacto"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(t.strategic_planning.client_responsibilities||[]).map((l,c)=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-3 py-2 text-gray-800",children:l.action_item}),o.jsx("td",{className:"px-3 py-2 text-gray-600 italic",children:l.deadline_description}),o.jsx("td",{className:"px-3 py-2",children:o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${l.impact==="BLOCKER"?"bg-red-100 text-red-800":l.impact==="HIGH"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:l.impact})})]},c))})]})})]}),o.jsxs("section",{children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Matriz RACI Sugerida"}),o.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 shadow-sm",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Atividade"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",title:"Responsvel (Executor)",children:"R"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",title:"Aprovador (Accountable)",children:"A"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",title:"Consultado",children:"C"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",title:"Informado",children:"I"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(t.strategic_planning.raci_matrix||[]).map((l,c)=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-3 py-2 text-gray-800 font-medium",children:l.activity_group}),o.jsx("td",{className:"px-3 py-2 text-gray-600 text-xs",children:l.responsible}),o.jsx("td",{className:"px-3 py-2 text-gray-600 text-xs",children:l.accountable}),o.jsx("td",{className:"px-3 py-2 text-gray-600 text-xs",children:l.consulted}),o.jsx("td",{className:"px-3 py-2 text-gray-600 text-xs",children:l.informed})]},c))})]})})]})]}):o.jsx("div",{className:"text-center py-10 text-gray-500 italic",children:"Dados de planejamento estratgico no gerados."})}),a==="delta"&&o.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300 text-sm h-[350px] overflow-y-auto custom-scrollbar pr-2",children:t.scope_delta?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200",children:[o.jsxs("h4",{className:"font-bold text-gray-700 mb-2 flex items-center gap-2",children:[o.jsx(ss,{size:16})," Escopo Inicial"]}),o.jsx("p",{className:"text-gray-600",children:t.scope_delta.original_scope_summary})]}),o.jsxs("div",{className:"bg-indigo-50 p-4 rounded-xl border border-indigo-200",children:[o.jsxs("h4",{className:"font-bold text-indigo-900 mb-2 flex items-center gap-2",children:[o.jsx(sr,{size:16})," Escopo Final"]}),o.jsx("p",{className:"text-indigo-800",children:t.scope_delta.final_scope_summary})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-3 px-1 border-b pb-2",children:"Mudanas e Justificativas"}),o.jsx("div",{className:"space-y-3",children:t.scope_delta.changes.map((l,c)=>o.jsxs("div",{className:`p-3 rounded-lg border-l-4 shadow-sm bg-white ${l.type==="added"?"border-l-emerald-500":l.type==="removed"?"border-l-red-500":"border-l-amber-500"}`,children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("span",{className:"font-bold text-gray-800",children:l.item}),o.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded uppercase ${l.type==="added"?"bg-emerald-100 text-emerald-700":l.type==="removed"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:l.type==="added"?"Adicionado":l.type==="removed"?"Removido":"Modificado"})]}),o.jsxs("p",{className:"text-xs text-gray-600 italic mt-1",children:['"',l.justification,'"']})]},c))})]})]}):o.jsxs("div",{className:"text-center py-12 text-gray-400 bg-gray-50 rounded-xl border border-dashed border-gray-300",children:[o.jsx(Hb,{size:48,className:"mx-auto mb-3 opacity-20"}),o.jsx("p",{className:"font-medium",children:"Anlise de Delta no disponvel."}),o.jsx("p",{className:"text-xs mt-1",children:"Gere uma nova estimativa para visualizar."})]})})]})]})},A8=({isOpen:t,onClose:e,onApplyEstimate:n,user:r,clientContext:a="",knowledgeBase:i=[]})=>{const[s,l]=L.useState([]),[c,d]=L.useState(""),[u,h]=L.useState([]),[m,p]=L.useState(!1),[A,g]=L.useState(null),[b,x]=L.useState("idle"),[y,w]=L.useState(""),[S,k]=L.useState([]),[P,E]=L.useState(!1),[N,C]=L.useState([]);L.useEffect(()=>{t&&C([])},[t]);const[R]=L.useState(xr.isConfigured());(r==null?void 0:r.role)==="admin"||(r==null||r.role);const[j,_]=L.useState(!1),[D,v]=L.useState(null),[O,V]=L.useState({}),[G,Q]=L.useState({}),[H,ne]=L.useState({}),[X,K]=L.useState(""),ce=L.useRef(null),ie=L.useRef(null);L.useEffect(()=>{t&&(l([{id:"welcome",role:"assistant",content:"Ol! Sou o Assistente UERJ-FAF. Posso ajudar voc a estruturar e estimar seu projeto de software. Descreva sua ideia ou faa upload de documentos para comearmos."}]),v(null),V({}),Q({}),ne({}),_(!1),K(""),x("idle"),w(""),d(""),h([]),g(null),E(!1))},[t]),L.useEffect(()=>{var I;(I=ce.current)==null||I.scrollIntoView({behavior:"smooth"})},[s,D]);const oe=async I=>{if(I.target.files&&I.target.files.length>0){const Y=Array.from(I.target.files),q=await Promise.all(Y.map(F=>new Promise(B=>{const z=new FileReader;z.onloadend=()=>B({name:F.name,type:F.type,data:z.result}),z.readAsDataURL(F)})));h(F=>[...F,...q]),I.target.value=""}},pe=(I,Y)=>{Q(q=>({...q,[I]:Y}))},Pe=(I,Y)=>{ne(q=>({...q,[I]:Y}))},ye=async(I=!1)=>{if(!D)return;p(!0);const Y={};D.questions.forEach(z=>{const J=G[z.id],$=H[z.id];J&&$?Y[z.id]=`${J} [Detalhes/Complemento: ${$}]`:J?Y[z.id]=J:$&&(Y[z.id]=$)});const q={...O,...Y};V(q);const F=Object.entries(Y).map(([z,J])=>({questionId:z,answer:J})),B=`**Respostas enviadas:**
`+Object.entries(Y).map(([z,J])=>{const $=D.questions.find(U=>U.id===z);return`- **${$==null?void 0:$.text.substring(0,40)}${$!=null&&$.text&&$.text.length>40?"...":""}**: ${J}`}).join(`
`);l(z=>[...z,{id:Date.now().toString(),role:"user",content:B}]);try{if(I){const z=D.current_confidence_score||0;v(null),_(!1);let J=`CONTEXTO ACUMULADO:
${X}

`;J+=`DETALHAMENTO TCNICO DOS REQUISITOS (VIA ENTREVISTA):
`,Object.entries(q).forEach(([U,te])=>{J+=`[${U}]: ${te}
`}),J+=`

=== DIRETRIZ DE CONFIANA (MANDATRIO) ===
`,J+=`A auditoria tcnica avaliou a confiana atual em: ${z}%.
`,J+=`Voc DEVE usar um valor prximo a este (entre ${Math.max(0,z-5)}% e ${Math.min(100,z+5)}%) no campo 'confidence_score' do JSON final (formato float 0.0-1.0, ex: ${(z/100).toFixed(2)}).
`,J+="NO INFLACIONE A NOTA. Seja coerente com a auditoria.",l(U=>[...U,{id:Date.now().toString()+"gen",role:"assistant",content:"Entendido. Com base em todo o contexto refinado, estou gerando o planejamento executivo final..."}]);const $=await xr.generateEstimate([{role:"user",parts:[{text:J}]}],u);l(U=>[...U,{id:Date.now().toString(),role:"assistant",content:$.description||"Estimativa gerada com sucesso.",estimate:$}])}else{const z=await xr.refineRequirements(s.filter(J=>J.id!=="welcome"&&!J.isError).map(J=>({role:J.role==="user"?"user":"model",parts:[{text:J.content||J.text||""}]})),X,F);v(z),Q({}),ne({})}}catch(z){console.error(z),g("Erro ao processar. Tente novamente."),l(J=>[...J,{id:Date.now().toString()+"err",role:"assistant",isError:!0,content:"Houve um erro ao processar suas respostas. Por favor, tente novamente."}])}finally{p(!1)}},ge=async()=>{if(!c.trim()&&u.length===0||m)return;const I={id:Date.now().toString(),role:"user",content:c,text:c,attachments:u.map(F=>F.name)};l(F=>[...F,I]);const Y=c,q=[...u];d(""),h([]),p(!0),g(null);try{let F=b,B=j;if(s.length<=1&&(F="idle",B=!1,x("idle"),_(!1),v(null)),F!=="accepted"&&!B){v(null);let z=q;if(S.length>0){const te=new Set(S.map(re=>re.name)),Z=q.filter(re=>!te.has(re.name));z=[...S,...Z]}k(z),x("validating");const J=s.map(te=>({role:te.role==="user"?"user":"model",parts:[{text:te.content||te.text||""}]}));J.push({role:"user",parts:[{text:Y}]});const $=await xr.getInitialUnderstanding(J,z);w($),x("reviewing");const U={id:(Date.now()+1).toString(),role:"assistant",content:"Analisei o contexto atualizado. Por favor, valide meu entendimento revisto antes de prosseguirmos.",isError:!1};l(te=>[...te,U])}else if(j)l(z=>[...z,{id:Date.now().toString(),role:"assistant",content:"Por favor, utilize o formulrio acima para responder s perguntas de refinamento, ou clique em 'Gerar Plano' se j estiver satisfeito."}]);else{_(!0),K(Y);const z=await xr.refineRequirements(s.filter(J=>J.id!=="welcome"&&!J.isError).map(J=>({role:J.role==="user"?"user":"model",parts:[{text:J.content||J.text||""}]})).concat([{role:"user",parts:[{text:Y}]}]),Y,void 0,q);v(z)}}catch(F){console.error(F),g("Erro ao processar solicitao. Verifique sua API Key ou tente novamente."),_(!1),x("idle"),l(B=>[...B,{id:Date.now().toString()+"err",role:"assistant",isError:!0,content:`Erro: ${F.message||"Falha na comunicao com a IA"}`}])}finally{p(!1)}},Se=async(I,Y)=>{if(I==="approve"){x("accepted"),_(!0),p(!0);try{const q=s.filter(J=>!J.isError&&J.id!=="welcome").map(J=>({role:J.role==="user"?"user":"model",parts:[{text:J.content||J.text||""}]})),F=s.find(J=>J.role==="user"),B=F?F.content||F.text||"":y;K(B);const z=await xr.refineRequirements(q,B,void 0,S);v(z)}catch(q){console.error(q),g("Erro ao iniciar refinamento. Verifique se o contedo do projeto  vlido."),_(!1),x("reviewing")}finally{p(!1)}}else x("idle"),w(""),l(q=>[...q,{id:Date.now().toString(),role:"assistant",content:"Entendido. Por favor, descreva em detalhes o que est incorreto ou o que falta considerar. Vou reavaliar o contexto com suas observaes."}])},ve=async I=>{if(!P){E(!0),C(["Iniciando criao do projeto..."]);try{await n(I,Y=>{C(q=>[...q,Y])}),e()}catch(Y){console.error(Y),E(!1)}}},Ae=()=>D?o.jsxs("div",{className:"bg-white border border-indigo-100 rounded-xl shadow-lg p-6 mb-4 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-indigo-800",children:[o.jsx("div",{className:"bg-indigo-100 p-2 rounded-lg",children:o.jsx(Gj,{size:20,className:"text-indigo-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg",children:"Refinamento de Escopo"}),o.jsx("p",{className:"text-xs text-indigo-600 max-w-xl",children:D.thought_process})]})]}),o.jsxs("div",{className:"mb-6 bg-gray-50 border border-gray-100 p-3 rounded-xl flex items-center gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex justify-between text-xs font-semibold uppercase tracking-wider text-gray-500 mb-1",children:[o.jsx("span",{children:"Confiabilidade da Estimativa Atual"}),o.jsxs("span",{className:`${D.current_confidence_score>=80?"text-green-600":D.current_confidence_score>=50?"text-amber-600":"text-red-500"}`,children:[D.current_confidence_score||0,"%"]})]}),o.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full overflow-hidden",children:o.jsx("div",{className:`h-full transition-all duration-500 rounded-full ${D.current_confidence_score>=80?"bg-green-500":D.current_confidence_score>=50?"bg-amber-500":"bg-red-500"}`,style:{width:`${D.current_confidence_score||0}%`}})})]}),o.jsx("div",{className:"text-xs text-gray-400 max-w-[200px] leading-tight hidden sm:block",children:D.current_confidence_score>=80?"Nvel timo. Podemos gerar o plano final.":"Ainda h incertezas. Recomenda-se mais uma rodada."})]}),o.jsx("div",{className:"space-y-6 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:D.questions.map((I,Y)=>o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-100",children:[o.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:[o.jsxs("span",{className:"text-indigo-600 mr-2",children:[Y+1,"."]}),I.text]}),o.jsxs("div",{className:"space-y-2",children:[I.options.map((q,F)=>{const B=q.toLowerCase().includes("[recomendado]")||q.toLowerCase().includes("(recomendado)"),z=q.replace(/\[recomendado\]/gi,"").replace(/\(recomendado\)/gi,"").trim();return o.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all ${G[I.id]===q?"bg-indigo-50 border-indigo-300 ring-1 ring-indigo-300":"bg-white border-gray-200 hover:border-indigo-200"}`,children:[o.jsx("input",{type:"radio",name:I.id,value:q,checked:G[I.id]===q,onChange:J=>pe(I.id,J.target.value),className:"w-4 h-4 text-indigo-600 border-gray-300 focus:ring-indigo-500 mt-0.5 self-start"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("span",{className:"text-sm text-gray-700 block",children:z}),B&&o.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-bold bg-green-100 text-green-700 mt-1 uppercase tracking-wider",children:"Recomendado"})]})]},F)}),I.allow_custom&&o.jsx("div",{className:"mt-2 text-xs",children:o.jsx("input",{type:"text",placeholder:"Complemento ou Resposta Personalizada...",className:`w-full text-sm p-3 rounded-lg border ${H[I.id]?"border-indigo-300 ring-1 ring-indigo-300 bg-white":"bg-gray-50 border-gray-200 text-gray-700 focus:bg-white"} focus:ring-2 focus:ring-indigo-500 outline-none transition-all`,onChange:q=>Pe(I.id,q.target.value),value:H[I.id]||""})})]})]},I.id))}),o.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-100 sticky bottom-0 bg-white z-10",children:[o.jsxs("button",{onClick:()=>ye(!1),disabled:m||D.questions.some(I=>!G[I.id]&&!H[I.id]),className:"flex-1 py-3 px-4 bg-white border-2 border-indigo-600 text-indigo-700 font-bold rounded-xl hover:bg-indigo-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[m?o.jsx(Ea,{size:16,className:"animate-spin"}):null,o.jsx("span",{children:m?"Processando...":"Responder e Prxima Rodada"}),!m&&o.jsx(Ex,{size:16})]}),o.jsxs("button",{onClick:()=>ye(!0),disabled:m||D.questions.some(I=>!G[I.id]&&!H[I.id]),className:"flex-1 py-3 px-4 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-indigo-200 flex items-center justify-center gap-2",children:[m?o.jsx(Ea,{size:16,className:"animate-spin"}):o.jsx(sr,{size:16}),o.jsx("span",{children:m?"Gerando...":"Gerar Plano Agora"})]})]})]}):null,xe=(I,Y)=>{const q=I.role==="user";return o.jsxs("div",{className:`flex gap-3 ${q?"flex-row-reverse":""} animate-in fade-in slide-in-from-bottom-2`,children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${q?"bg-gray-200 text-gray-600":"bg-indigo-600 text-white"}`,children:q?o.jsx(Hf,{size:18}):o.jsx(SA,{size:18})}),o.jsxs("div",{className:`max-w-[85%] ${q?"bg-gray-100":"bg-white border border-gray-100 shadow-sm"} p-4 rounded-2xl ${q?"rounded-tr-none":"rounded-tl-none"} text-sm text-gray-700`,children:[I.content&&o.jsx("div",{className:"whitespace-pre-wrap leading-relaxed",children:I.content}),I.text&&!I.content&&o.jsx("div",{className:"whitespace-pre-wrap leading-relaxed",children:I.text}),I.estimate&&o.jsx("div",{className:"mt-4 border-t border-gray-200 pt-3",children:o.jsx(g8,{estimate:I.estimate,onApply:()=>ve(I.estimate),isApplying:P,progressLog:N})}),I.isError&&o.jsxs("div",{className:"mt-2 flex items-center gap-2 text-red-600 font-semibold",children:[o.jsx(gd,{size:16}),o.jsx("span",{children:"Erro na gerao"})]}),I.attachments&&I.attachments.length>0&&o.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:I.attachments.map((F,B)=>o.jsxs("span",{className:"inline-flex items-center gap-1 bg-gray-200/50 px-2 py-1 rounded text-xs text-gray-600 border border-gray-300",children:[o.jsx(lg,{size:10})," ",F]},B))})]})]},I.id||Y)};return o.jsxs("div",{className:`fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6 transition-all duration-300 ${t?"opacity-100 visible":"opacity-0 invisible"}`,children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),o.jsxs("div",{className:`relative bg-white w-full ${j&&D?"max-w-7xl":"max-w-4xl"} h-[90vh] rounded-2xl shadow-2xl flex overflow-hidden ring-1 ring-gray-900/5 transition-all duration-500`,children:[o.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 bg-white z-10",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-indigo-50 p-2 rounded-xl",children:o.jsx(sr,{className:"text-indigo-600",size:24})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-bold text-gray-900 leading-tight",children:"UERJ-FAF 2025"}),o.jsx("p",{className:"text-xs text-gray-500 font-medium flex items-center gap-1",children:R?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"IA Pronta para planejar"]}):"Configurao necessria"})]})]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(yr,{size:20})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 bg-gray-50/50 scroll-smooth relative",children:R?o.jsxs(o.Fragment,{children:[s.map((I,Y)=>xe(I,Y)),b==="reviewing"&&y&&o.jsx("div",{className:"flex w-full justify-start animate-in fade-in slide-in-from-left-2 duration-500 mb-6",children:o.jsxs("div",{className:"flex max-w-[90%] md:max-w-[85%] gap-3 flex-row",children:[o.jsx("div",{className:"shrink-0 w-8 h-8 rounded-full bg-indigo-100 border border-indigo-200 text-indigo-700 flex items-center justify-center",children:o.jsx(sr,{size:16})}),o.jsx("div",{className:"flex flex-col gap-3 w-full",children:o.jsxs("div",{className:"bg-white border border-indigo-100 shadow-md rounded-2xl rounded-tl-sm overflow-hidden relative group",children:[o.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-indigo-500"}),o.jsxs("div",{className:"p-5 bg-indigo-50/10",children:[o.jsx("h4",{className:"font-bold text-indigo-900 flex items-center gap-2 mb-3",children:"Confirmao de Entendimento"}),o.jsx("div",{className:"prose prose-sm max-w-none text-gray-600 bg-white p-4 rounded-lg border border-indigo-50 scroll-smooth",children:o.jsx(By,{content:y})})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white border-t border-gray-100",children:[o.jsxs("button",{onClick:()=>Se("adjust"),className:"flex-1 py-2.5 px-4 bg-white border border-red-200 text-red-600 hover:bg-red-50 rounded-lg font-bold text-xs transition-colors flex items-center justify-center gap-2",children:[o.jsx(yr,{size:14})," Corrigir / Ajustar"]}),o.jsxs("button",{onClick:()=>Se("approve"),className:"flex-1 py-2.5 px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-bold text-xs shadow-md transition-all flex items-center justify-center gap-2",children:[o.jsx(El,{size:14})," Correto, Prosseguir"]})]})]})})]})}),m&&o.jsxs("div",{className:"flex gap-3 animate-pulse",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 text-white flex items-center justify-center flex-shrink-0",children:o.jsx(SA,{size:18})}),o.jsxs("div",{className:"bg-white border border-gray-100 shadow-sm p-4 rounded-2xl rounded-tl-none flex items-center gap-2 text-gray-500 text-sm",children:[o.jsx(Ea,{size:16,className:"animate-spin text-indigo-600"}),o.jsx("span",{className:"font-medium",children:b==="validating"?"Analisando documento e contexto...":j?"O Analista est gerando perguntas...":"Processando..."})]})]}),o.jsx("div",{ref:ce})]}):o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8 opacity-60",children:[o.jsx(gd,{size:48,className:"text-orange-400 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"API Key no configurada"}),o.jsx("p",{className:"text-sm text-gray-600 max-w-md mt-2",children:"Para usar a IA, voc precisa adicionar sua chave do Google Gemini nas configuraes do sistema."})]})}),o.jsxs("div",{className:"p-4 bg-white border-t border-gray-200 shrink-0",children:[A&&o.jsxs("div",{className:"mb-3 p-3 bg-red-50 border border-red-100 rounded-lg flex items-center gap-2 text-red-700 text-xs animate-in slide-in-from-bottom-2",children:[o.jsx(gd,{size:14}),A,o.jsx("button",{onClick:()=>g(null),className:"ml-auto hover:text-red-900",children:o.jsx(yr,{size:14})})]}),u.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:u.map((I,Y)=>o.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-indigo-50 border border-indigo-100 rounded-lg text-xs font-medium text-indigo-700 animate-in zoom-in-95",children:[o.jsx(lg,{size:12}),o.jsx("span",{className:"max-w-[150px] truncate",children:I.name}),o.jsx("button",{onClick:()=>h(q=>q.filter((F,B)=>B!==Y)),className:"hover:bg-indigo-100 p-0.5 rounded-full transition-colors",children:o.jsx(yr,{size:12})})]},Y))}),o.jsxs("div",{className:"flex gap-2 items-end",children:[o.jsx("button",{onClick:()=>{var I;return(I=ie.current)==null?void 0:I.click()},className:"p-3 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-all border border-transparent hover:border-indigo-100",title:"Anexar arquivos",disabled:m||j&&b==="accepted",children:o.jsx(lg,{size:20})}),o.jsx("input",{type:"file",ref:ie,className:"hidden",multiple:!0,onChange:oe}),o.jsx("div",{className:"flex-1 relative",children:o.jsx("textarea",{value:c,onChange:I=>d(I.target.value),onKeyDown:I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),ge())},placeholder:j?"Utilize o formulrio ao lado...":"Digite os detalhes do projeto...",className:"w-full bg-gray-50 border-gray-200 border rounded-xl px-4 py-3 text-sm focus:bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none resize-none min-h-[50px] max-h-[120px]",rows:1,disabled:m||j&&b==="accepted"||b==="reviewing"})}),o.jsx("button",{onClick:ge,disabled:!c.trim()&&u.length===0||m||j&&b==="accepted"||b==="reviewing",className:"p-3 bg-indigo-600 text-white rounded-xl shadow-lg shadow-indigo-200 hover:bg-indigo-700 disabled:opacity-50 disabled:shadow-none transition-all transform active:scale-95",children:m?o.jsx(Ea,{size:20,className:"animate-spin"}):o.jsx(Oj,{size:20})})]})]})]}),j&&D&&o.jsxs("div",{className:"w-full md:w-[450px] bg-slate-50 border-l border-gray-200 flex flex-col h-full animate-in slide-in-from-right-10 duration-500 shadow-2xl z-20",children:[o.jsxs("div",{className:"p-4 border-b border-gray-200 bg-white flex justify-between items-center",children:[o.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(ss,{size:18,className:"text-indigo-600"}),"Refinamento Ativo"]}),o.jsx("button",{onClick:()=>{confirm("Deseja cancelar a entrevista e voltar?")&&(_(!1),v(null),x("reviewing"))},className:"text-gray-400 hover:text-red-500",title:"Cancelar entrevista",children:o.jsx(yr,{size:16})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:Ae()})]})]})]})},x8=(t,e,n)=>{const r=new Map;t.forEach(d=>r.set(d.id,d.dependencies||[]));const a=r.get(n)||[];r.set(n,[...a,e]);const s=(()=>{const d=new Map;return t.forEach(u=>{u.dependencies.forEach(h=>{const m=d.get(h)||[];m.push(u.id),d.set(h,m)})}),d})(),l=[n],c=new Set([n]);for(;l.length>0;){const d=l.shift();if(d===e)return!0;const u=s.get(d)||[];for(const h of u)c.has(h)||(c.add(h),l.push(h))}return!1},Ph=t=>{const e=new Map;t.forEach(s=>{if(s.parent){const l=e.get(s.parent)||[];l.push(s),e.set(s.parent,l)}});let n=t.map(s=>{var c;const l=(((c=e.get(s.id))==null?void 0:c.length)||0)>0;return l&&s.type!=="project"?{...s,type:"project",progress:0}:!l&&s.type==="project"?{...s,type:"task"}:s});e.clear(),n.forEach(s=>{if(s.parent){const l=e.get(s.parent)||[];l.push(s),e.set(s.parent,l)}});const r=Math.max(t.length,100);for(let s=0;s<r;s++){let l=!1;if(n=n.map(d=>{if(d.dependencies.length===0)return d;let u=0;if(d.dependencies.forEach(h=>{const m=n.find(p=>p.id===h);m&&(u=Math.max(u,m.end.getTime()))}),u>0){const h=Jn(new Date(u),1);if(h.getTime()!==d.start.getTime()){l=!0;const m=d.end.getTime()-d.start.getTime();return{...d,start:h,end:new Date(h.getTime()+m)}}}return d}),!l)break}const a=n.filter(s=>!s.parent||s.parent==="auto-id-1"),i=s=>{const l=n.filter(c=>c.parent===s.id);if(l.forEach(i),l.length>0){const c=n.filter(g=>g.parent===s.id),d=aP(c.map(g=>g.start)),u=rP(c.map(g=>g.end));let h=0,m=0;c.forEach(g=>{const b=Math.max(1,Cx(g.end,g.start));h+=b,m+=g.progress*b});const p=h===0?0:Math.round(m/h),A=n.findIndex(g=>g.id===s.id);A!==-1&&(n[A]={...n[A],start:d,end:u,progress:p,type:"project",styles:{progressColor:"#ff9e0b",backgroundColor:"#ffbb54"}})}};return a.forEach(i),n.map(s=>({...s,styles:s.type==="project"?s.styles:{progressColor:"#3b82f6",backgroundColor:"#60a5fa"}}))},y8=t=>{const[e,n]=L.useState(t);L.useEffect(()=>{n(m=>Ph(m))},[]),L.useEffect(()=>{t.length>0&&n(m=>{if(m.length===0)return Ph(t);const p=new Map(t.map(y=>[y.id,y])),A=new Set(t.map(y=>y.id)),g=new Set(m.map(y=>y.id));let b=m.filter(y=>A.has(y.id)).map(y=>({...y,...p.get(y.id)}));const x=t.filter(y=>!g.has(y.id));return b=[...b,...x],b.sort((y,w)=>(y.order??0)-(w.order??0)),Ph(b)})},[t]);const r=m=>Ph(m),a=(m,p)=>{n(A=>{const g=[...A];let b=g.length,x=m.parent;if(p){const w=g.findIndex(S=>S.id===p);w!==-1&&(b=w+1,x=g[w].parent)}m.end<m.start&&(m.end=m.start);const y={...m,parent:x||null};return g.splice(b,0,y),r(g)})},i=m=>{n(p=>{let A=[...p];const g=p.find(b=>b.id===m.id);if(g&&m.parent!==g.parent){const b=A.findIndex(y=>y.id===m.id);b!==-1&&A.splice(b,1);let x=A.length;if(m.parent){const y=A.findIndex(w=>w.id===m.parent);if(y!==-1){let w=y+1;for(;w<A.length&&s(A,w,m.parent);)w++;x=w}}else x=A.length;A.splice(x,0,m)}else{const b=p.find(x=>x.id===m.id);if(b){const x=b.end.getTime(),w=m.end.getTime()-x;let S=A.map(k=>k.id===m.id?m:k);if(w!==0){const k=new Map;S.forEach(N=>{var C;(C=N.dependencies)==null||C.forEach(R=>{const j=k.get(R)||[];j.push(N.id),k.set(R,j)})});const P=[m.id],E=new Set;for(;P.length>0;){const N=P.shift();(k.get(N)||[]).forEach(R=>{E.has(R)||(E.add(R),P.push(R))})}S=S.map(N=>E.has(N.id)?{...N,start:new Date(N.start.getTime()+w),end:new Date(N.end.getTime()+w)}:N)}A=S}else A=A.map(x=>x.id===m.id?m:x)}if(m.dependencies){const b=p.find(x=>x.id===m.id);for(const x of m.dependencies)if(x8(A,x,m.id)){console.error(`Cyclic dependency detected: ${x} -> ${m.id}`);const y={...m,dependencies:(b==null?void 0:b.dependencies)||[]};A=A.map(w=>w.id===m.id?y:w);break}}return r(A)})},s=(m,p,A)=>{let g=m[p];for(;g.parent;){if(g.parent===A)return!0;const b=m.find(x=>x.id===g.parent);if(!b)break;g=b}return!1};return{tasks:e,addTask:a,updateTask:i,deleteTask:m=>{n(p=>{const A=new Set,g=y=>{A.add(y),p.filter(w=>w.parent===y).forEach(w=>g(w.id))};g(m);const x=p.filter(y=>!A.has(y.id)).map(y=>{var w;return{...y,dependencies:((w=y.dependencies)==null?void 0:w.filter(S=>!A.has(S)))||[]}});return r(x)})},handleMoveTask:(m,p,A)=>{n(g=>{const b=g.find(P=>P.id===m);if(!b||b.type==="project")return g;const x=b.end.getTime(),w=A.getTime()-x,S={...b,start:p,end:A};let k=g.map(P=>P.id===m?S:P);if(w!==0){const P=new Map;k.forEach(C=>{var R;(R=C.dependencies)==null||R.forEach(j=>{const _=P.get(j)||[];_.push(C.id),P.set(j,_)})});const E=[m],N=new Set;for(;E.length>0;){const C=E.shift();(P.get(C)||[]).forEach(j=>{N.has(j)||(N.add(j),E.push(j))})}k=k.map(C=>N.has(C.id)?{...C,start:new Date(C.start.getTime()+w),end:new Date(C.end.getTime()+w)}:C)}return r(k)})},indentTask:m=>{const p=e.findIndex(x=>x.id===m);if(p<=0)return;const A=e[p],g=e[p-1],b={...A,parent:g.id};return n(x=>{const y=x.findIndex(E=>E.id===m);if(y<=0)return x;const w=x[y],S=x[y-1],k={...w,parent:S.id},P=[...x];return P[y]=k,r(P)}),b},outdentTask:m=>{const p=e.find(x=>x.id===m);if(!p||!p.parent)return;const A=e.find(x=>x.id===p.parent),g=(A==null?void 0:A.parent)||null,b={...p,parent:g};return n(x=>{const y=x.find(E=>E.id===m);if(!y||!y.parent)return x;const w=x.find(E=>E.id===y.parent),S=(w==null?void 0:w.parent)||null,k={...y,parent:S},P=x.map(E=>E.id===m?k:E);return r(P)}),b},reorderTasks:(m,p)=>{let A=[...m];A=A.map((g,b)=>{if(!g.parent)return g;const x=A.findIndex(y=>y.id===g.parent);return x===-1||x>b?{...g,parent:null}:g}),n(r(A))},handleTaskChange:i,getProjectStats:(m=[])=>{if(e.length===0)return{totalCost:0,totalRealCost:0,progress:0,totalDuration:0,totalRealDuration:0};const p=(V,G)=>!V||!G?0:Fr(V,G);let A=new Date(864e13),g=new Date(-864e13),b=new Date(864e13),x=new Date(-864e13),y=0,w=0,S=0;const k=e.filter(V=>V.type!=="project");if(k.length===0)return{totalCost:0,totalRealCost:0,progress:0,totalDuration:0};k.forEach(V=>{const G=V.start.getTime(),Q=V.end.getTime();G<A.getTime()&&(A=V.start),Q>g.getTime()&&(g=V.end),V.realStart&&V.realStart.getTime()<b.getTime()&&(b=V.realStart),V.realEnd&&V.realEnd.getTime()>x.getTime()&&(x=V.realEnd);const H=Q-G;if(y+=(V.progress||0)*H,V.resourceId&&m.length>0){const ne=m.find(X=>X.id===V.resourceId);if(ne){const X=Math.max(1,p(V.start,V.end));if(w+=X*8*ne.hourlyRate,V.realStart&&V.realEnd){const K=Math.max(1,p(V.realStart,V.realEnd));S+=K*8*ne.hourlyRate}}}});const P=e.filter(V=>!V.parent||!e.find(G=>G.id===V.parent));let E=0,N=0;P.forEach(V=>{let G=Math.max(1,Cx(V.end,V.start));E+=(V.progress||0)*G,N+=G});const C=N>0?Math.round(E/N):0,R=p(A,g);let j=0;x.getTime()>-864e13&&b.getTime()<864e13&&(j=p(b,x));const _=new Date;_.setHours(12,0,0,0);let D=0;if(A.getTime()<864e13&&R>0)if(md(A,_))D=0;else if(md(_,g))D=100;else{const V=p(A,_);D=Math.round(V/R*100)}D=Math.min(100,Math.max(0,D));let v=D>0?C/D:(C>0,1),O=S>0?w/S:(w>0,1);return{totalCost:w,totalRealCost:S,progress:C,plannedProgress:D,totalDuration:Math.max(0,R),totalRealDuration:Math.max(0,j),spi:v,cpi:O}}}},v8=({isOpen:t,onClose:e,tasks:n,onUpdateTasks:r})=>{const[a,i]=L.useState([]),[s,l]=L.useState(!1);L.useEffect(()=>{if(!t)return;const h=Js(new Date),m=[];n.forEach(p=>{var E;if(p.type==="project")return;const A=N=>N?N instanceof Date?N:typeof N.toDate=="function"?N.toDate():new Date(N):new Date,g=Js(A(p.start)),b=Js(A(p.end)),x=p.progress||0,y=(E=p.clientBlockages)==null?void 0:E.find(N=>!N.end),w=!!y;if(x===100)return;let S=0;if(ul(g,h)){const N=Math.max(1,bh(b,g)),C=Math.max(0,bh(h,g));S=Math.min(100,Math.round(C/N*100))}let k=null,P="";ul(b,h)?(k="delayed",P=`Deveria ter terminado em ${Pt(b,"dd/MM")}. Deveria estar em 100%.`):ul(g,h)&&x===0?(k="not_started",P=`Deveria ter iniciado em ${Pt(g,"dd/MM")}. Deveria estar em ${S}%.`):ul(g,h)&&S-x>20&&(k="lagging",P=`Ritmo lento. Esperado ~${S}% (Decorridos ${Math.max(0,bh(h,g))}/${Math.max(1,bh(b,g))} dias).`),(k||w)&&m.push({taskId:p.id,taskName:p.name,type:k||"delayed",description:k?P:"Tarefa Bloqueada pelo Cliente.",currentProgress:x,currentStart:p.start,currentEnd:p.end,newProgress:x,newEndDate:Pt(new Date,"yyyy-MM-dd"),action:"keep",isBlocked:w,activeBlockageStart:y?A(y.start):void 0,blockageReason:""})}),i(m)},[t,n]);const c=(h,m)=>{const p=[...a];if(p[h].action=m,(m==="complete"||m==="complete_on_time"||m==="complete_custom")&&(p[h].newProgress=100),m==="complete_custom"){const A=n.find(g=>g.id===p[h].taskId);p[h].customRealStartDate=p[h].customRealStartDate||Pt(A?A.start:new Date,"yyyy-MM-dd"),p[h].customRealEndDate=p[h].customRealEndDate||Pt(new Date,"yyyy-MM-dd")}m==="blocked_by_client"&&(p[h].blockageStartDate=Pt(new Date,"yyyy-MM-dd")),m==="unblock_client"&&(p[h].blockageEndDate=Pt(new Date,"yyyy-MM-dd")),i(p)},d=(h,m,p)=>{const A=[...a];A[h][m]=p,m==="newProgress"&&p!==A[h].currentProgress&&(p===100?A[h].action="complete":A[h].action="update_progress"),m==="newEndDate"&&p!==Pt(A[h].currentEnd,"yyyy-MM-dd")&&(A[h].action="reschedule"),i(A)},u=async()=>{l(!0);const h=[];a.forEach(m=>{var g;if(m.action==="keep")return;const p={},A=n.find(b=>b.id===m.taskId);if(m.action==="blocked_by_client"){let b=new Date;if(m.blockageStartDate){const[y,w,S]=m.blockageStartDate.split("-").map(Number);b=new Date(y,w-1,S,12,0,0)}const x={id:crypto.randomUUID(),start:b,reason:m.blockageReason||"Motivo no especificado"};p.clientBlockages=[...(A==null?void 0:A.clientBlockages)||[],x]}else if(m.action==="unblock_client"){let b=new Date;if(m.blockageEndDate){const[x,y,w]=m.blockageEndDate.split("-").map(Number);b=new Date(x,y-1,w,12,0,0)}p.clientBlockages=(g=A==null?void 0:A.clientBlockages)==null?void 0:g.map(x=>x.end?x:{...x,end:b})}else if(m.action==="complete")p.progress=100;else if(m.action==="complete_on_time")p.progress=100,A&&(p.realStart=A.start,p.realEnd=A.end);else if(m.action==="complete_custom"){if(p.progress=100,m.customRealStartDate){const[b,x,y]=m.customRealStartDate.split("-").map(Number);p.realStart=new Date(b,x-1,y,12,0,0)}if(m.customRealEndDate){const[b,x,y]=m.customRealEndDate.split("-").map(Number);p.realEnd=new Date(b,x-1,y,18,0,0)}}else if(m.action==="update_progress")p.progress=Math.min(100,Math.max(0,m.newProgress));else if(m.action==="reschedule"){const[b,x,y]=m.newEndDate.split("-").map(Number),w=new Date(b,x-1,y,18,0,0);Gf(w)&&(p.end=w)}Object.keys(p).length>0&&h.push({id:m.taskId,changes:p})}),await r(h),l(!1),e()};return t?o.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl h-[80vh] flex flex-col animate-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"px-8 py-6 border-b border-gray-100 flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[o.jsx(Bl,{className:"text-amber-500"}),"Estabilizao do Cronograma"]}),o.jsxs("p",{className:"text-gray-500 mt-2",children:["Validao de ",a.length," tarefas com pendncias ou atrasos at hoje (",Pt(new Date,"dd/MM/yyyy"),")."]})]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(yr,{size:24})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-8 bg-gray-50",children:a.length===0?o.jsxs("div",{className:"text-center py-20 flex flex-col items-center",children:[o.jsx(kA,{size:64,className:"text-green-500 mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Tudo Certo!"}),o.jsx("p",{className:"text-gray-500 mt-2",children:"No encontramos tarefas atrasadas ou com evoluo pendente."})]}):o.jsx("div",{className:"space-y-4",children:a.map((h,m)=>o.jsx("div",{className:`bg-white border rounded-lg p-5 shadow-sm transition-all ${h.action!=="keep"?"border-indigo-300 ring-1 ring-indigo-50":"border-gray-200"}`,children:o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-6",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded ${h.type==="delayed"?"bg-red-100 text-red-700":h.type==="not_started"?"bg-orange-100 text-orange-700":"bg-yellow-100 text-yellow-700"}`,children:h.type==="delayed"?"Atrasada":h.type==="not_started"?"No Iniciou":"Defasada"}),h.isBlocked&&o.jsx("span",{className:"text-[10px] font-bold uppercase px-2 py-0.5 rounded bg-red-600 text-white animate-pulse",children:"BLOQUEADO PELO CLIENTE"}),o.jsx("h4",{className:"font-bold text-gray-900",children:h.taskName})]}),o.jsx("p",{className:"text-sm text-gray-500",children:h.description}),o.jsxs("div",{className:"text-xs text-gray-400 mt-2 flex gap-4",children:[o.jsxs("span",{children:["Progress Atual: ",o.jsxs("b",{children:[h.currentProgress,"%"]})]}),o.jsxs("span",{children:["Fim Previsto: ",o.jsx("b",{children:Pt(h.currentEnd,"dd/MM/yyyy")})]}),h.isBlocked&&h.activeBlockageStart&&o.jsxs("span",{className:"text-red-400 flex items-center gap-1",children:[o.jsx(Gi,{size:10}),"Bloqueado em: ",Pt(new Date(h.activeBlockageStart),"dd/MM/yyyy")]})]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-6 bg-gray-50 p-3 rounded-lg border border-gray-100",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Ao"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("button",{onClick:()=>c(m,"update_progress"),className:`px-3 py-1.5 text-xs font-medium rounded border transition-colors ${h.action==="update_progress"?"bg-blue-100 text-blue-700 border-blue-200":"bg-white text-gray-600 border-gray-200 hover:border-blue-300"}`,children:"Evoluir"}),o.jsx("button",{onClick:()=>c(m,"reschedule"),className:`px-3 py-1.5 text-xs font-medium rounded border transition-colors ${h.action==="reschedule"?"bg-amber-100 text-amber-700 border-amber-200":"bg-white text-gray-600 border-gray-200 hover:border-amber-300"}`,children:"Reprogramar"}),h.isBlocked?o.jsx("button",{onClick:()=>c(m,"unblock_client"),className:`px-3 py-1.5 text-xs font-medium rounded border transition-colors border-red-200 text-red-700 bg-red-50 hover:bg-red-100 ${h.action==="unblock_client"?"ring-2 ring-red-400":""}`,children:"Desbloqueio pelo cliente"}):o.jsx("button",{onClick:()=>c(m,"blocked_by_client"),className:`px-3 py-1.5 text-xs font-medium rounded border transition-colors border-red-200 text-red-600 hover:bg-red-50 ${h.action==="blocked_by_client"?"bg-red-100 font-bold":"bg-white"}`,children:"Bloqueado pelo cliente"}),o.jsxs("div",{className:"flex gap-1 w-full",children:[o.jsx("button",{onClick:()=>c(m,"complete_custom"),className:`flex-1 px-3 py-1.5 text-xs font-medium rounded border transition-colors ${h.action==="complete_custom"?"bg-indigo-100 text-indigo-700 border-indigo-200":"bg-white text-gray-600 border-gray-200 hover:border-indigo-300"}`,children:"Conc. Atraso/Ant."}),o.jsx("button",{onClick:()=>c(m,"complete_on_time"),className:`flex-1 px-3 py-1.5 text-xs font-medium rounded border transition-colors ${h.action==="complete_on_time"?"bg-emerald-100 text-emerald-700 border-emerald-200":"bg-white text-gray-600 border-gray-200 hover:border-emerald-300"}`,children:"Conc. Prazo"})]})]})]}),o.jsxs("div",{className:"w-[180px] border-l border-gray-200 pl-6 flex flex-col justify-center",children:[h.action==="complete_on_time"&&o.jsxs("div",{className:"flex items-center gap-2 text-green-600 font-bold text-sm",children:[o.jsx(kA,{size:16})," Ser 100% (No Prazo)"]}),h.action==="blocked_by_client"&&o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-bold text-red-500 uppercase block mb-1",children:"Incio do Bloqueio"}),o.jsx("input",{type:"date",value:h.blockageStartDate,onChange:p=>d(m,"blockageStartDate",p.target.value),max:Pt(new Date,"yyyy-MM-dd"),min:Pt(h.currentStart,"yyyy-MM-dd"),className:"w-full text-xs p-1 border border-red-200 rounded focus:border-red-500 outline-none font-medium text-red-700",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-bold text-red-500 uppercase block mb-1",children:"Motivo"}),o.jsx("textarea",{value:h.blockageReason,onChange:p=>d(m,"blockageReason",p.target.value),className:"w-full text-xs p-2 border border-red-200 rounded focus:border-red-500 outline-none bg-red-50 resize-none h-14",placeholder:"Descreva o motivo..."})]})]}),h.action==="unblock_client"&&o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"text-[10px] font-bold text-green-600 uppercase block mb-1",children:"Data de Desbloqueio"}),o.jsx("input",{type:"date",value:h.blockageEndDate,onChange:p=>d(m,"blockageEndDate",p.target.value),max:Pt(new Date,"yyyy-MM-dd"),min:h.activeBlockageStart?Pt(new Date(h.activeBlockageStart),"yyyy-MM-dd"):void 0,className:"w-full text-xs p-1 border border-green-200 rounded focus:border-green-500 outline-none font-medium text-green-700",required:!0}),o.jsx("div",{className:"text-[10px] text-green-500 font-medium",children:"Contador ser interrompido na data acima."})]}),h.action==="complete_custom"&&o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-0.5",children:"Incio Real"}),o.jsx("input",{type:"date",value:h.customRealStartDate,onChange:p=>d(m,"customRealStartDate",p.target.value),className:"w-full text-xs p-1 border border-indigo-200 rounded focus:border-indigo-500 outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-0.5",children:"Fim Real"}),o.jsx("input",{type:"date",value:h.customRealEndDate,onChange:p=>d(m,"customRealEndDate",p.target.value),className:"w-full text-xs p-1 border border-indigo-200 rounded focus:border-indigo-500 outline-none",required:!0})]})]}),h.action==="update_progress"&&o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Novo %"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"range",min:"0",max:"100",value:h.newProgress,onChange:p=>d(m,"newProgress",parseInt(p.target.value)),className:"w-20 accent-blue-600 h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),o.jsxs("span",{className:"text-sm font-bold text-blue-700 w-8 text-right",children:[h.newProgress,"%"]})]})]}),h.action==="reschedule"&&o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Nova Data Fim"}),o.jsx("input",{type:"date",value:h.newEndDate,onChange:p=>d(m,"newEndDate",p.target.value),className:"w-full text-xs p-1.5 border border-amber-300 rounded focus:ring-2 focus:ring-amber-500 outline-none text-gray-700 font-medium"})]})]})]})]})},h.taskId))})}),o.jsxs("div",{className:"px-8 py-5 border-t border-gray-100 bg-white flex justify-end gap-3 rounded-b-xl",children:[o.jsx("button",{onClick:e,className:"px-6 py-2.5 text-gray-600 font-medium hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:"Cancelar"}),o.jsx("button",{onClick:u,disabled:s||a.length===0,className:"px-6 py-2.5 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:s?"Salvando...":`Aplicar ${a.filter(h=>h.action!=="keep").length} Correes`})]})]})}):null},b8=()=>{const{signInWithEmail:t,signUpWithEmail:e,signInWithGoogle:n,loading:r}=My(),[a,i]=L.useState(!0),[s,l]=L.useState(""),[c,d]=L.useState(""),[u,h]=L.useState(""),[m,p]=L.useState(""),[A,g]=L.useState(!1),b=async y=>{y.preventDefault(),p(""),g(!0);try{if(a)await t(s,c);else{if(c.length<6)throw new Error("A senha deve ter pelo menos 6 caracteres.");await e(s,c,u)}}catch(w){console.error(w),w.code==="auth/invalid-credential"||w.code==="auth/user-not-found"||w.code==="auth/wrong-password"?p("Email ou senha incorretos."):w.code==="auth/email-already-in-use"?p("Este email j est em uso."):w.code==="auth/weak-password"?p("A senha  muito fraca."):p(w.message||"Ocorreu um erro ao tentar entrar.")}finally{g(!1)}},x=async()=>{p("");try{await n()}catch(y){console.error(y),p("Erro ao conectar com Google.")}};return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsx(Ea,{className:"animate-spin text-indigo-600",size:48})}):o.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8 font-sans",children:[o.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[o.jsxs("div",{className:"flex flex-col items-center justify-center mb-6",children:[o.jsx("img",{src:"/logo.png",alt:"Logo",className:"h-24 w-auto object-contain mb-4"}),o.jsx("span",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"UERJ-FAF 2025"})]}),o.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 tracking-tight",children:a?"Bem-vindo de volta":"Crie sua conta"}),o.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:a?"Gerencie seus projetos com inteligncia.":"Comece a transformar sua gesto hoje."})]}),o.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:o.jsxs("div",{className:"bg-white py-8 px-4 shadow-xl shadow-gray-100 rounded-2xl sm:px-10 border border-gray-100",children:[o.jsxs("form",{className:"space-y-6",onSubmit:b,children:[!a&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nome Completo"}),o.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Hf,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:u,onChange:y=>h(y.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-lg py-2.5 transition-all",placeholder:"Seu nome"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email corporativo"}),o.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(jj,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s,onChange:y=>l(y.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-lg py-2.5 transition-all",placeholder:"voce@empresa.com"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Senha"}),o.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Nx,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:c,onChange:y=>d(y.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-lg py-2.5 transition-all",placeholder:""})]})]}),m&&o.jsx("div",{className:"rounded-md bg-red-50 p-4 border border-red-100 animate-in fade-in slide-in-from-top-1",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(gd,{className:"h-5 w-5 text-red-400"})}),o.jsx("div",{className:"ml-3",children:o.jsx("h3",{className:"text-sm font-medium text-red-800",children:m})})]})}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:A,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all hover:scale-[1.01] active:scale-[0.99] disabled:opacity-70 disabled:cursor-not-allowed",children:A?o.jsx(Ea,{className:"animate-spin h-5 w-5"}):o.jsxs("span",{className:"flex items-center gap-2",children:[a?"Entrar na plataforma":"Criar nova conta"," ",o.jsx(Ex,{size:16})]})})})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Ou continue com"})})]}),o.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:o.jsxs("button",{onClick:x,className:"w-full inline-flex justify-center py-2.5 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors",children:[o.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[o.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),o.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),o.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),o.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),o.jsx("span",{className:"ml-2",children:"Google"})]})})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-sm text-gray-600",children:[a?"No tem uma conta?":"J tem uma conta?",o.jsx("button",{onClick:()=>i(!a),className:"font-medium text-indigo-600 hover:text-indigo-500 hover:underline ml-1",children:a?"Cadastre-se gratuitamente":"Fazer login"})]})})]})})]})},j_=({initialValue:t,onSave:e,onCancel:n,label:r})=>{const[a,i]=ue.useState(t),s=L.useRef(null);L.useEffect(()=>{s.current&&(s.current.style.height="auto",s.current.style.height=s.current.scrollHeight+"px")},[a]);const l=(d,u="")=>{const h=s.current;if(!h)return;const m=h.selectionStart,p=h.selectionEnd,A=a.substring(m,p),g=a.substring(0,m)+d+A+u+a.substring(p);i(g),setTimeout(()=>{h.focus(),h.setSelectionRange(m+d.length,p+d.length)},0)},c=({icon:d,onClick:u,title:h})=>o.jsx("button",{type:"button",onClick:u,className:"p-1.5 text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:h,children:o.jsx(d,{size:16})});return o.jsxs("div",{className:"bg-white rounded-xl border-2 border-indigo-100 shadow-lg animate-in fade-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-indigo-50 bg-gray-50/50 rounded-t-lg",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[r&&o.jsx("span",{className:"text-xs font-bold text-gray-400 mr-2 uppercase tracking-wider",children:r}),o.jsx("div",{className:"h-4 w-px bg-gray-200 mx-1"}),o.jsx(c,{icon:pj,onClick:()=>l("**","**"),title:"Negrito"}),o.jsx(c,{icon:Dj,onClick:()=>l("*","*"),title:"Itlico"}),o.jsx("div",{className:"h-4 w-px bg-gray-200 mx-1"}),o.jsx(c,{icon:Ij,onClick:()=>l("# "),title:"Ttulo 1"}),o.jsx(c,{icon:kj,onClick:()=>l("## "),title:"Ttulo 2"}),o.jsx("div",{className:"h-4 w-px bg-gray-200 mx-1"}),o.jsx(c,{icon:Pj,onClick:()=>l("- "),title:"Lista"}),o.jsx(c,{icon:Fj,onClick:()=>l("> "),title:"Citao"}),o.jsx(c,{icon:wj,onClick:()=>l("```\n","\n```"),title:"Cdigo"})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("button",{onClick:()=>i(""),className:"text-xs text-red-400 hover:text-red-600 font-medium px-2",children:"Limpar"})})]}),o.jsx("div",{className:"p-2",children:o.jsx("textarea",{ref:s,value:a,onChange:d=>i(d.target.value),className:"w-full min-h-[200px] p-3 text-sm text-gray-800 bg-transparent border-0 focus:ring-0 resize-none font-mono leading-relaxed placeholder-gray-300",placeholder:"Escreva seu contedo aqui... Suporta Markdown."})}),o.jsxs("div",{className:"flex items-center justify-end gap-3 p-3 bg-gray-50 rounded-b-lg border-t border-gray-100",children:[o.jsxs("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors flex items-center gap-2",children:[o.jsx(yr,{size:16}),"Cancelar"]}),o.jsxs("button",{onClick:()=>e(a),className:"px-4 py-2 text-sm font-bold text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow-md shadow-indigo-100 transition-all hover:scale-105 active:scale-95 flex items-center gap-2",children:[o.jsx(Nl,{size:16}),"Salvar Alteraes"]})]})]})},w8=({onImport:t,onExport:e,onExportProposal:n})=>{const r=L.useRef(null),a=i=>{i.target.files&&i.target.files.length>0&&(t(i.target.files[0]),i.target.value="")};return o.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 flex items-center justify-between shadow-sm z-50 relative h-10",children:[o.jsx("div",{className:"flex items-center gap-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative group",children:[o.jsxs("button",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-indigo-600 px-3 py-1.5 rounded-md hover:bg-gray-50 transition-colors",children:[o.jsx(Sj,{size:18}),"Arquivo"]}),o.jsx("div",{className:"absolute left-0 top-full mt-1 w-64 bg-white border border-gray-100 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 transform origin-top-left z-50",children:o.jsxs("div",{className:"p-1",children:[o.jsxs("button",{onClick:()=>{var i;return(i=r.current)==null?void 0:i.click()},className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 rounded-md transition-colors",children:[o.jsx(Tj,{size:16}),o.jsx("span",{children:"Importar Project (.xml)"})]}),e&&o.jsxs("button",{onClick:e,className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 rounded-md transition-colors",children:[o.jsx(Yb,{size:16}),o.jsx("span",{children:"Exportar Project (.xml)"})]}),o.jsx("div",{className:"h-px bg-gray-100 my-1"}),n&&o.jsxs("button",{onClick:n,className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 rounded-md transition-colors",children:[o.jsx(Yb,{size:16,className:"text-orange-500"}),o.jsx("span",{children:"Baixar Proposta (.pptx)"})]})]})})]}),o.jsx("div",{className:"relative group",children:o.jsx("button",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-indigo-600 px-3 py-1.5 rounded-md hover:bg-gray-50 transition-colors",children:"Ajuda"})})]})}),o.jsx("input",{type:"file",accept:".xml",ref:r,className:"hidden",onChange:a})]})},_8=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=a=>{var i,s;try{let l=(i=a.target)==null?void 0:i.result;if(!l)throw new Error("Arquivo vazio");l=l.replace(/xmlns="[^"]*"/g,""),l=l.replace(/xmlns:[a-zA-Z0-9]+="[^"]*"/g,"");const d=new DOMParser().parseFromString(l,"text/xml"),u=d.getElementsByTagName("parsererror");if(u.length>0)throw new Error("Erro de Parse XML: "+u[0].textContent);const h=d.getElementsByTagName("Task"),m=[],p=new Map,A=new Map;for(let b=0;b<h.length;b++){const x=h[b],y=R=>{var j;return((j=x.getElementsByTagName(R)[0])==null?void 0:j.textContent)||""},w=y("UID"),k=y("Active")!=="0",P=y("Name")||"Sem Nome";if(!w||!k)continue;const E=crypto.randomUUID();p.set(w,E),A.set(w,x);let N=new Date(y("Start")),C=new Date(y("Finish"));isNaN(N.getTime())&&(N=new Date),isNaN(C.getTime())&&(C=new Date),m.push({id:E,order:b,name:P,start:N,end:C,type:y("Summary")==="1"?"project":"task",progress:parseInt(y("PercentComplete")||"0"),dependencies:[],parent:null,isExpanded:!0,isDisabled:!1,_xmlLevel:parseInt(y("OutlineLevel")||"0"),_xmlUid:w,styles:{backgroundColor:"#6366f1",progressColor:"#4338ca",backgroundSelectedColor:"#818cf8"}})}if(m.length===0)throw new Error("Nenhuma tarefa vlida encontrada no arquivo.");const g=[];for(const b of m){const x=b._xmlLevel,y=b._xmlUid;for(;g.length>0&&g[g.length-1].level>=x;)g.pop();g.length>0&&(b.parent=g[g.length-1].id),g.push({id:b.id,level:x});const w=A.get(y);if(w){const S=w.getElementsByTagName("PredecessorLink");for(let k=0;k<S.length;k++){const P=(s=S[k].getElementsByTagName("PredecessorUID")[0])==null?void 0:s.textContent;P&&p.has(P)&&b.dependencies.push(p.get(P))}}delete b._xmlLevel,delete b._xmlUid}e(m)}catch(l){console.error("XML Import Exception:",l),n(l)}},r.onerror=()=>{n(new Error("Erro ao ler o arquivo."))},r.readAsText(t)}),Sg=t=>t.replace(/[<>&'"]/g,e=>{switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return e}}),Ti=t=>{if(!t)return Ti(new Date);const e=new Date(t);if(isNaN(e.getTime()))return new Date().toISOString().split(".")[0];const n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${n}-${r}-${a}T08:00:00`},C8=(t,e)=>{if(!e||e.length===0){alert("O projeto no possui tarefas para exportar.");return}const n=[...e].sort((l,c)=>(l.order||0)-(c.order||0)),r=new Map;n.forEach((l,c)=>r.set(l.id,c+1));const a=new Map;n.forEach(l=>{let c=1;l.parent&&a.has(l.parent)&&(c=a.get(l.parent)+1),a.set(l.id,c)});let i=t.startDate;if(n.length>0){const l=n.map(c=>new Date(c.start).getTime()).filter(c=>!isNaN(c));l.length>0&&(i=new Date(Math.min(...l)))}let s=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
`;s+=`<Project xmlns="http://schemas.microsoft.com/project">
`,s+=`  <Name>${Sg(t.name)}</Name>
`,s+=`  <Title>${Sg(t.name)}</Title>
`,s+=`  <CreationDate>${Ti(new Date)}</CreationDate>
`,s+=`  <LastSaved>${Ti(new Date)}</LastSaved>
`,s+=`  <ScheduleFromStart>1</ScheduleFromStart>
`,s+=`  <StartDate>${Ti(i)}</StartDate>
`,s+=`  <FinishDate>${Ti(t.endDate)}</FinishDate>
`,s+=`  <Tasks>
`,n.forEach(l=>{const c=r.get(l.id),d=a.get(l.id),u=n.some(p=>p.parent===l.id),h=l.dependencies&&l.dependencies.length>0;s+=`    <Task>
`,s+=`      <UID>${c}</UID>
`,s+=`      <ID>${c}</ID>
`,s+=`      <Name>${Sg(l.name)}</Name>
`,s+=`      <Active>${l.isDisabled?0:1}</Active>
`;const m=(p,A)=>{const g=new Date(p),b=new Date(A);if(isNaN(g.getTime())||isNaN(b.getTime()))return"PT8H0M0S";const x=new Date(g),y=new Date(b);x.setHours(0,0,0,0),y.setHours(0,0,0,0);let w=0;const S=new Date(x.getTime());for(;S<=y;){const k=S.getDay();k!==0&&k!==6&&w++,S.setDate(S.getDate()+1)}return w===0&&g.getTime()<b.getTime()&&(w=1),`PT${w*8}H0M0S`};s+=`      <Manual>0</Manual>
`,s+=`      <OutlineLevel>${d}</OutlineLevel>
`,s+=`      <Start>${Ti(l.start)}</Start>
`,s+=`      <Finish>${Ti(l.end)}</Finish>
`,s+=`      <Duration>${m(l.start,l.end)}</Duration>
`,s+=`      <PercentComplete>${l.progress||0}</PercentComplete>
`,!h&&!u&&(s+=`      <ConstraintType>4</ConstraintType>
`,s+=`      <ConstraintDate>${Ti(l.start)}</ConstraintDate>
`),s+=`      <Summary>${u?1:0}</Summary>
`,h&&l.dependencies.forEach(p=>{const A=r.get(p);A&&(s+=`      <PredecessorLink>
`,s+=`        <PredecessorUID>${A}</PredecessorUID>
`,s+=`        <Type>1</Type>
`,s+=`      </PredecessorLink>
`)}),s+=`    </Task>
`}),s+=`  </Tasks>
`,s+="</Project>";try{const l=new Blob([s],{type:"application/xml"}),c=URL.createObjectURL(l),d=document.createElement("a");d.href=c,d.download=`${t.name.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.xml`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(c)}catch(l){console.error("Download failed",l),alert("Erro ao gerar download do arquivo XML.")}};function jh(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gI={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,a,i){function s(d,u){if(!a[d]){if(!r[d]){var h=typeof jh=="function"&&jh;if(!u&&h)return h(d,!0);if(l)return l(d,!0);var m=new Error("Cannot find module '"+d+"'");throw m.code="MODULE_NOT_FOUND",m}var p=a[d]={exports:{}};r[d][0].call(p.exports,function(A){var g=r[d][1][A];return s(g||A)},p,p.exports,n,r,a,i)}return a[d].exports}for(var l=typeof jh=="function"&&jh,c=0;c<i.length;c++)s(i[c]);return s}({1:[function(n,r,a){var i=n("./utils"),s=n("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(c){for(var d,u,h,m,p,A,g,b=[],x=0,y=c.length,w=y,S=i.getTypeOf(c)!=="string";x<c.length;)w=y-x,h=S?(d=c[x++],u=x<y?c[x++]:0,x<y?c[x++]:0):(d=c.charCodeAt(x++),u=x<y?c.charCodeAt(x++):0,x<y?c.charCodeAt(x++):0),m=d>>2,p=(3&d)<<4|u>>4,A=1<w?(15&u)<<2|h>>6:64,g=2<w?63&h:64,b.push(l.charAt(m)+l.charAt(p)+l.charAt(A)+l.charAt(g));return b.join("")},a.decode=function(c){var d,u,h,m,p,A,g=0,b=0,x="data:";if(c.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var y,w=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===l.charAt(64)&&w--,c.charAt(c.length-2)===l.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=s.uint8array?new Uint8Array(0|w):new Array(0|w);g<c.length;)d=l.indexOf(c.charAt(g++))<<2|(m=l.indexOf(c.charAt(g++)))>>4,u=(15&m)<<4|(p=l.indexOf(c.charAt(g++)))>>2,h=(3&p)<<6|(A=l.indexOf(c.charAt(g++))),y[b++]=d,p!==64&&(y[b++]=u),A!==64&&(y[b++]=h);return y}},{"./support":30,"./utils":32}],2:[function(n,r,a){var i=n("./external"),s=n("./stream/DataWorker"),l=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function d(u,h,m,p,A){this.compressedSize=u,this.uncompressedSize=h,this.crc32=m,this.compression=p,this.compressedContent=A}d.prototype={getContentWorker:function(){var u=new s(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),h=this;return u.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new s(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(u,h,m){return u.pipe(new l).pipe(new c("uncompressedSize")).pipe(h.compressWorker(m)).pipe(new c("compressedSize")).withStreamInfo("compression",h)},r.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,a){var i=n("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},a.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,a){var i=n("./utils"),s=function(){for(var l,c=[],d=0;d<256;d++){l=d;for(var u=0;u<8;u++)l=1&l?3988292384^l>>>1:l>>>1;c[d]=l}return c}();r.exports=function(l,c){return l!==void 0&&l.length?i.getTypeOf(l)!=="string"?function(d,u,h,m){var p=s,A=m+h;d^=-1;for(var g=m;g<A;g++)d=d>>>8^p[255&(d^u[g])];return-1^d}(0|c,l,l.length,0):function(d,u,h,m){var p=s,A=m+h;d^=-1;for(var g=m;g<A;g++)d=d>>>8^p[255&(d^u.charCodeAt(g))];return-1^d}(0|c,l,l.length,0):0}},{"./utils":32}],5:[function(n,r,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(n,r,a){var i=null;i=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:i}},{lie:37}],7:[function(n,r,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),l=n("./utils"),c=n("./stream/GenericWorker"),d=i?"uint8array":"array";function u(h,m){c.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=m,this.meta={}}a.magic="\b\0",l.inherits(u,c),u.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(d,h.data),!1)},u.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(m){h.push({data:m,meta:h.meta})}},a.compressWorker=function(h){return new u("Deflate",h)},a.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,a){function i(p,A){var g,b="";for(g=0;g<A;g++)b+=String.fromCharCode(255&p),p>>>=8;return b}function s(p,A,g,b,x,y){var w,S,k=p.file,P=p.compression,E=y!==d.utf8encode,N=l.transformTo("string",y(k.name)),C=l.transformTo("string",d.utf8encode(k.name)),R=k.comment,j=l.transformTo("string",y(R)),_=l.transformTo("string",d.utf8encode(R)),D=C.length!==k.name.length,v=_.length!==R.length,O="",V="",G="",Q=k.dir,H=k.date,ne={crc32:0,compressedSize:0,uncompressedSize:0};A&&!g||(ne.crc32=p.crc32,ne.compressedSize=p.compressedSize,ne.uncompressedSize=p.uncompressedSize);var X=0;A&&(X|=8),E||!D&&!v||(X|=2048);var K=0,ce=0;Q&&(K|=16),x==="UNIX"?(ce=798,K|=function(oe,pe){var Pe=oe;return oe||(Pe=pe?16893:33204),(65535&Pe)<<16}(k.unixPermissions,Q)):(ce=20,K|=function(oe){return 63&(oe||0)}(k.dosPermissions)),w=H.getUTCHours(),w<<=6,w|=H.getUTCMinutes(),w<<=5,w|=H.getUTCSeconds()/2,S=H.getUTCFullYear()-1980,S<<=4,S|=H.getUTCMonth()+1,S<<=5,S|=H.getUTCDate(),D&&(V=i(1,1)+i(u(N),4)+C,O+="up"+i(V.length,2)+V),v&&(G=i(1,1)+i(u(j),4)+_,O+="uc"+i(G.length,2)+G);var ie="";return ie+=`
\0`,ie+=i(X,2),ie+=P.magic,ie+=i(w,2),ie+=i(S,2),ie+=i(ne.crc32,4),ie+=i(ne.compressedSize,4),ie+=i(ne.uncompressedSize,4),ie+=i(N.length,2),ie+=i(O.length,2),{fileRecord:h.LOCAL_FILE_HEADER+ie+N+O,dirRecord:h.CENTRAL_FILE_HEADER+i(ce,2)+ie+i(j.length,2)+"\0\0\0\0"+i(K,4)+i(b,4)+N+O+j}}var l=n("../utils"),c=n("../stream/GenericWorker"),d=n("../utf8"),u=n("../crc32"),h=n("../signature");function m(p,A,g,b){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=A,this.zipPlatform=g,this.encodeFileName=b,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(m,c),m.prototype.push=function(p){var A=p.meta.percent||0,g=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,c.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:g?(A+100*(g-b-1))/g:100}}))},m.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var A=this.streamFiles&&!p.file.dir;if(A){var g=s(p,A,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(p){this.accumulate=!1;var A=this.streamFiles&&!p.file.dir,g=s(p,A,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),A)this.push({data:function(b){return h.DATA_DESCRIPTOR+i(b.crc32,4)+i(b.compressedSize,4)+i(b.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var p=this.bytesWritten,A=0;A<this.dirRecords.length;A++)this.push({data:this.dirRecords[A],meta:{percent:100}});var g=this.bytesWritten-p,b=function(x,y,w,S,k){var P=l.transformTo("string",k(S));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(x,2)+i(x,2)+i(y,4)+i(w,4)+i(P.length,2)+P}(this.dirRecords.length,g,p,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(p){this._sources.push(p);var A=this;return p.on("data",function(g){A.processChunk(g)}),p.on("end",function(){A.closedSource(A.previous.streamInfo),A._sources.length?A.prepareNextSource():A.end()}),p.on("error",function(g){A.error(g)}),this},m.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(p){var A=this._sources;if(!c.prototype.error.call(this,p))return!1;for(var g=0;g<A.length;g++)try{A[g].error(p)}catch{}return!0},m.prototype.lock=function(){c.prototype.lock.call(this);for(var p=this._sources,A=0;A<p.length;A++)p[A].lock()},r.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,a){var i=n("../compressions"),s=n("./ZipFileWorker");a.generateWorker=function(l,c,d){var u=new s(c.streamFiles,d,c.platform,c.encodeFileName),h=0;try{l.forEach(function(m,p){h++;var A=function(y,w){var S=y||w,k=i[S];if(!k)throw new Error(S+" is not a valid compression method !");return k}(p.options.compression,c.compression),g=p.options.compressionOptions||c.compressionOptions||{},b=p.dir,x=p.date;p._compressWorker(A,g).withStreamInfo("file",{name:m,dir:b,date:x,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(u)}),u.entriesCount=h}catch(m){u.error(m)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,a){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new i;for(var l in this)typeof this[l]!="function"&&(s[l]=this[l]);return s}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(s,l){return new i().loadAsync(s,l)},i.external=n("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,a){var i=n("./utils"),s=n("./external"),l=n("./utf8"),c=n("./zipEntries"),d=n("./stream/Crc32Probe"),u=n("./nodejsUtils");function h(m){return new s.Promise(function(p,A){var g=m.decompressed.getContentWorker().pipe(new d);g.on("error",function(b){A(b)}).on("end",function(){g.streamInfo.crc32!==m.decompressed.crc32?A(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}r.exports=function(m,p){var A=this;return p=i.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),u.isNode&&u.isStream(m)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",m,!0,p.optimizedBinaryString,p.base64).then(function(g){var b=new c(p);return b.load(g),b}).then(function(g){var b=[s.Promise.resolve(g)],x=g.files;if(p.checkCRC32)for(var y=0;y<x.length;y++)b.push(h(x[y]));return s.Promise.all(b)}).then(function(g){for(var b=g.shift(),x=b.files,y=0;y<x.length;y++){var w=x[y],S=w.fileNameStr,k=i.resolve(w.fileNameStr);A.file(k,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:p.createFolders}),w.dir||(A.file(k).unsafeOriginalName=S)}return b.zipComment.length&&(A.comment=b.zipComment),A})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,a){var i=n("../utils"),s=n("../stream/GenericWorker");function l(c,d){s.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(d)}i.inherits(l,s),l.prototype._bindStream=function(c){var d=this;(this._stream=c).pause(),c.on("data",function(u){d.push({data:u,meta:{percent:0}})}).on("error",function(u){d.isPaused?this.generatedError=u:d.error(u)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},l.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,a){var i=n("readable-stream").Readable;function s(l,c,d){i.call(this,c),this._helper=l;var u=this;l.on("data",function(h,m){u.push(h)||u._helper.pause(),d&&d(m)}).on("error",function(h){u.emit("error",h)}).on("end",function(){u.push(null)})}n("../utils").inherits(s,i),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,a){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,s);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,s)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var s=new Buffer(i);return s.fill(0),s},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,r,a){function i(k,P,E){var N,C=l.getTypeOf(P),R=l.extend(E||{},u);R.date=R.date||new Date,R.compression!==null&&(R.compression=R.compression.toUpperCase()),typeof R.unixPermissions=="string"&&(R.unixPermissions=parseInt(R.unixPermissions,8)),R.unixPermissions&&16384&R.unixPermissions&&(R.dir=!0),R.dosPermissions&&16&R.dosPermissions&&(R.dir=!0),R.dir&&(k=x(k)),R.createFolders&&(N=b(k))&&y.call(this,N,!0);var j=C==="string"&&R.binary===!1&&R.base64===!1;E&&E.binary!==void 0||(R.binary=!j),(P instanceof h&&P.uncompressedSize===0||R.dir||!P||P.length===0)&&(R.base64=!1,R.binary=!0,P="",R.compression="STORE",C="string");var _=null;_=P instanceof h||P instanceof c?P:A.isNode&&A.isStream(P)?new g(k,P):l.prepareContent(k,P,R.binary,R.optimizedBinaryString,R.base64);var D=new m(k,_,R);this.files[k]=D}var s=n("./utf8"),l=n("./utils"),c=n("./stream/GenericWorker"),d=n("./stream/StreamHelper"),u=n("./defaults"),h=n("./compressedObject"),m=n("./zipObject"),p=n("./generate"),A=n("./nodejsUtils"),g=n("./nodejs/NodejsStreamInputAdapter"),b=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var P=k.lastIndexOf("/");return 0<P?k.substring(0,P):""},x=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},y=function(k,P){return P=P!==void 0?P:u.createFolders,k=x(k),this.files[k]||i.call(this,k,null,{dir:!0,createFolders:P}),this.files[k]};function w(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var P,E,N;for(P in this.files)N=this.files[P],(E=P.slice(this.root.length,P.length))&&P.slice(0,this.root.length)===this.root&&k(E,N)},filter:function(k){var P=[];return this.forEach(function(E,N){k(E,N)&&P.push(N)}),P},file:function(k,P,E){if(arguments.length!==1)return k=this.root+k,i.call(this,k,P,E),this;if(w(k)){var N=k;return this.filter(function(R,j){return!j.dir&&N.test(R)})}var C=this.files[this.root+k];return C&&!C.dir?C:null},folder:function(k){if(!k)return this;if(w(k))return this.filter(function(C,R){return R.dir&&k.test(C)});var P=this.root+k,E=y.call(this,P),N=this.clone();return N.root=E.name,N},remove:function(k){k=this.root+k;var P=this.files[k];if(P||(k.slice(-1)!=="/"&&(k+="/"),P=this.files[k]),P&&!P.dir)delete this.files[k];else for(var E=this.filter(function(C,R){return R.name.slice(0,k.length)===k}),N=0;N<E.length;N++)delete this.files[E[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var P,E={};try{if((E=l.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=E.type.toLowerCase(),E.compression=E.compression.toUpperCase(),E.type==="binarystring"&&(E.type="string"),!E.type)throw new Error("No output type specified.");l.checkSupport(E.type),E.platform!=="darwin"&&E.platform!=="freebsd"&&E.platform!=="linux"&&E.platform!=="sunos"||(E.platform="UNIX"),E.platform==="win32"&&(E.platform="DOS");var N=E.comment||this.comment||"";P=p.generateWorker(this,E,N)}catch(C){(P=new c("error")).error(C)}return new d(P,E.type||"string",E.mimeType)},generateAsync:function(k,P){return this.generateInternalStream(k).accumulate(P)},generateNodeStream:function(k,P){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(P)}};r.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,a){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,a){var i=n("./DataReader");function s(l){i.call(this,l);for(var c=0;c<this.data.length;c++)l[c]=255&l[c]}n("../utils").inherits(s,i),s.prototype.byteAt=function(l){return this.data[this.zero+l]},s.prototype.lastIndexOfSignature=function(l){for(var c=l.charCodeAt(0),d=l.charCodeAt(1),u=l.charCodeAt(2),h=l.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===c&&this.data[m+1]===d&&this.data[m+2]===u&&this.data[m+3]===h)return m-this.zero;return-1},s.prototype.readAndCheckSignature=function(l){var c=l.charCodeAt(0),d=l.charCodeAt(1),u=l.charCodeAt(2),h=l.charCodeAt(3),m=this.readData(4);return c===m[0]&&d===m[1]&&u===m[2]&&h===m[3]},s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,a){var i=n("../utils");function s(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var c,d=0;for(this.checkOffset(l),c=this.index+l-1;c>=this.index;c--)d=(d<<8)+this.byteAt(c);return this.index+=l,d},readString:function(l){return i.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,a){var i=n("./Uint8ArrayReader");function s(l){i.call(this,l)}n("../utils").inherits(s,i),s.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,a){var i=n("./DataReader");function s(l){i.call(this,l)}n("../utils").inherits(s,i),s.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},s.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},s.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},s.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,a){var i=n("./ArrayReader");function s(l){i.call(this,l)}n("../utils").inherits(s,i),s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,a){var i=n("../utils"),s=n("../support"),l=n("./ArrayReader"),c=n("./StringReader"),d=n("./NodeBufferReader"),u=n("./Uint8ArrayReader");r.exports=function(h){var m=i.getTypeOf(h);return i.checkSupport(m),m!=="string"||s.uint8array?m==="nodebuffer"?new d(h):s.uint8array?new u(i.transformTo("uint8array",h)):new l(i.transformTo("array",h)):new c(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,a){var i=n("./GenericWorker"),s=n("../utils");function l(c){i.call(this,"ConvertWorker to "+c),this.destType=c}s.inherits(l,i),l.prototype.processChunk=function(c){this.push({data:s.transformTo(this.destType,c.data),meta:c.meta})},r.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,a){var i=n("./GenericWorker"),s=n("../crc32");function l(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(l,i),l.prototype.processChunk=function(c){this.streamInfo.crc32=s(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,a){var i=n("../utils"),s=n("./GenericWorker");function l(c){s.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}i.inherits(l,s),l.prototype.processChunk=function(c){if(c){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+c.data.length}s.prototype.processChunk.call(this,c)},r.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,a){var i=n("../utils"),s=n("./GenericWorker");function l(c){s.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(u){d.dataIsReady=!0,d.data=u,d.max=u&&u.length||0,d.type=i.getTypeOf(u),d.isPaused||d._tickAndRepeat()},function(u){d.error(u)})}i.inherits(l,s),l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,d);break;case"uint8array":c=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":c=this.data.slice(this.index,d)}return this.index=d,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,a){function i(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,l){return this._listeners[s].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,l){if(this._listeners[s])for(var c=0;c<this._listeners[s].length;c++)this._listeners[s][c].call(this,l)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var l=this;return s.on("data",function(c){l.processChunk(c)}),s.on("end",function(){l.end()}),s.on("error",function(c){l.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,l){return this.extraStreamInfo[s]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=i},{}],29:[function(n,r,a){var i=n("../utils"),s=n("./ConvertWorker"),l=n("./GenericWorker"),c=n("../base64"),d=n("../support"),u=n("../external"),h=null;if(d.nodestream)try{h=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(A,g){return new u.Promise(function(b,x){var y=[],w=A._internalType,S=A._outputType,k=A._mimeType;A.on("data",function(P,E){y.push(P),g&&g(E)}).on("error",function(P){y=[],x(P)}).on("end",function(){try{var P=function(E,N,C){switch(E){case"blob":return i.newBlob(i.transformTo("arraybuffer",N),C);case"base64":return c.encode(N);default:return i.transformTo(E,N)}}(S,function(E,N){var C,R=0,j=null,_=0;for(C=0;C<N.length;C++)_+=N[C].length;switch(E){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(j=new Uint8Array(_),C=0;C<N.length;C++)j.set(N[C],R),R+=N[C].length;return j;case"nodebuffer":return Buffer.concat(N);default:throw new Error("concat : unsupported type '"+E+"'")}}(w,y),k);b(P)}catch(E){x(E)}y=[]}).resume()})}function p(A,g,b){var x=g;switch(g){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=g,this._mimeType=b,i.checkSupport(x),this._worker=A.pipe(new s(x)),A.lock()}catch(y){this._worker=new l("error"),this._worker.error(y)}}p.prototype={accumulate:function(A){return m(this,A)},on:function(A,g){var b=this;return A==="data"?this._worker.on(A,function(x){g.call(b,x.data,x.meta)}):this._worker.on(A,function(){i.delay(g,arguments,b)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(A){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},A)}},r.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var i=new ArrayBuffer(0);try{a.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(i),a.blob=s.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!n("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,a){for(var i=n("./utils"),s=n("./support"),l=n("./nodejsUtils"),c=n("./stream/GenericWorker"),d=new Array(256),u=0;u<256;u++)d[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;d[254]=d[254]=1;function h(){c.call(this,"utf-8 decode"),this.leftOver=null}function m(){c.call(this,"utf-8 encode")}a.utf8encode=function(p){return s.nodebuffer?l.newBufferFrom(p,"utf-8"):function(A){var g,b,x,y,w,S=A.length,k=0;for(y=0;y<S;y++)(64512&(b=A.charCodeAt(y)))==55296&&y+1<S&&(64512&(x=A.charCodeAt(y+1)))==56320&&(b=65536+(b-55296<<10)+(x-56320),y++),k+=b<128?1:b<2048?2:b<65536?3:4;for(g=s.uint8array?new Uint8Array(k):new Array(k),y=w=0;w<k;y++)(64512&(b=A.charCodeAt(y)))==55296&&y+1<S&&(64512&(x=A.charCodeAt(y+1)))==56320&&(b=65536+(b-55296<<10)+(x-56320),y++),b<128?g[w++]=b:(b<2048?g[w++]=192|b>>>6:(b<65536?g[w++]=224|b>>>12:(g[w++]=240|b>>>18,g[w++]=128|b>>>12&63),g[w++]=128|b>>>6&63),g[w++]=128|63&b);return g}(p)},a.utf8decode=function(p){return s.nodebuffer?i.transformTo("nodebuffer",p).toString("utf-8"):function(A){var g,b,x,y,w=A.length,S=new Array(2*w);for(g=b=0;g<w;)if((x=A[g++])<128)S[b++]=x;else if(4<(y=d[x]))S[b++]=65533,g+=y-1;else{for(x&=y===2?31:y===3?15:7;1<y&&g<w;)x=x<<6|63&A[g++],y--;1<y?S[b++]=65533:x<65536?S[b++]=x:(x-=65536,S[b++]=55296|x>>10&1023,S[b++]=56320|1023&x)}return S.length!==b&&(S.subarray?S=S.subarray(0,b):S.length=b),i.applyFromCharCode(S)}(p=i.transformTo(s.uint8array?"uint8array":"array",p))},i.inherits(h,c),h.prototype.processChunk=function(p){var A=i.transformTo(s.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var g=A;(A=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),A.set(g,this.leftOver.length)}else A=this.leftOver.concat(A);this.leftOver=null}var b=function(y,w){var S;for((w=w||y.length)>y.length&&(w=y.length),S=w-1;0<=S&&(192&y[S])==128;)S--;return S<0||S===0?w:S+d[y[S]]>w?S:w}(A),x=A;b!==A.length&&(s.uint8array?(x=A.subarray(0,b),this.leftOver=A.subarray(b,A.length)):(x=A.slice(0,b),this.leftOver=A.slice(b,A.length))),this.push({data:a.utf8decode(x),meta:p.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=h,i.inherits(m,c),m.prototype.processChunk=function(p){this.push({data:a.utf8encode(p.data),meta:p.meta})},a.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,a){var i=n("./support"),s=n("./base64"),l=n("./nodejsUtils"),c=n("./external");function d(g){return g}function u(g,b){for(var x=0;x<g.length;++x)b[x]=255&g.charCodeAt(x);return b}n("setimmediate"),a.newBlob=function(g,b){a.checkSupport("blob");try{return new Blob([g],{type:b})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(g),x.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(g,b,x){var y=[],w=0,S=g.length;if(S<=x)return String.fromCharCode.apply(null,g);for(;w<S;)b==="array"||b==="nodebuffer"?y.push(String.fromCharCode.apply(null,g.slice(w,Math.min(w+x,S)))):y.push(String.fromCharCode.apply(null,g.subarray(w,Math.min(w+x,S)))),w+=x;return y.join("")},stringifyByChar:function(g){for(var b="",x=0;x<g.length;x++)b+=String.fromCharCode(g[x]);return b},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function m(g){var b=65536,x=a.getTypeOf(g),y=!0;if(x==="uint8array"?y=h.applyCanBeUsed.uint8array:x==="nodebuffer"&&(y=h.applyCanBeUsed.nodebuffer),y)for(;1<b;)try{return h.stringifyByChunk(g,x,b)}catch{b=Math.floor(b/2)}return h.stringifyByChar(g)}function p(g,b){for(var x=0;x<g.length;x++)b[x]=g[x];return b}a.applyFromCharCode=m;var A={};A.string={string:d,array:function(g){return u(g,new Array(g.length))},arraybuffer:function(g){return A.string.uint8array(g).buffer},uint8array:function(g){return u(g,new Uint8Array(g.length))},nodebuffer:function(g){return u(g,l.allocBuffer(g.length))}},A.array={string:m,array:d,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return l.newBufferFrom(g)}},A.arraybuffer={string:function(g){return m(new Uint8Array(g))},array:function(g){return p(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:d,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return l.newBufferFrom(new Uint8Array(g))}},A.uint8array={string:m,array:function(g){return p(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:d,nodebuffer:function(g){return l.newBufferFrom(g)}},A.nodebuffer={string:m,array:function(g){return p(g,new Array(g.length))},arraybuffer:function(g){return A.nodebuffer.uint8array(g).buffer},uint8array:function(g){return p(g,new Uint8Array(g.length))},nodebuffer:d},a.transformTo=function(g,b){if(b=b||"",!g)return b;a.checkSupport(g);var x=a.getTypeOf(b);return A[x][g](b)},a.resolve=function(g){for(var b=g.split("/"),x=[],y=0;y<b.length;y++){var w=b[y];w==="."||w===""&&y!==0&&y!==b.length-1||(w===".."?x.pop():x.push(w))}return x.join("/")},a.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":i.nodebuffer&&l.isBuffer(g)?"nodebuffer":i.uint8array&&g instanceof Uint8Array?"uint8array":i.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(g){if(!i[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(g){var b,x,y="";for(x=0;x<(g||"").length;x++)y+="\\x"+((b=g.charCodeAt(x))<16?"0":"")+b.toString(16).toUpperCase();return y},a.delay=function(g,b,x){setImmediate(function(){g.apply(x||null,b||[])})},a.inherits=function(g,b){function x(){}x.prototype=b.prototype,g.prototype=new x},a.extend=function(){var g,b,x={};for(g=0;g<arguments.length;g++)for(b in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],b)&&x[b]===void 0&&(x[b]=arguments[g][b]);return x},a.prepareContent=function(g,b,x,y,w){return c.Promise.resolve(b).then(function(S){return i.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new c.Promise(function(k,P){var E=new FileReader;E.onload=function(N){k(N.target.result)},E.onerror=function(N){P(N.target.error)},E.readAsArrayBuffer(S)}):S}).then(function(S){var k=a.getTypeOf(S);return k?(k==="arraybuffer"?S=a.transformTo("uint8array",S):k==="string"&&(w?S=s.decode(S):x&&y!==!0&&(S=function(P){return u(P,i.uint8array?new Uint8Array(P.length):new Array(P.length))}(S))),S):c.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,a){var i=n("./reader/readerFor"),s=n("./utils"),l=n("./signature"),c=n("./zipEntry"),d=n("./support");function u(h){this.files=[],this.loadOptions=h}u.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(m)+", expected "+s.pretty(h)+")")}},isSignature:function(h,m){var p=this.reader.index;this.reader.setIndex(h);var A=this.reader.readString(4)===m;return this.reader.setIndex(p),A},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),m=d.uint8array?"uint8array":"array",p=s.transformTo(m,h);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,m,p,A=this.zip64EndOfCentralSize-44;0<A;)h=this.reader.readInt(2),m=this.reader.readInt(4),p=this.reader.readData(m),this.zip64ExtensibleData[h]={id:h,length:m,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,m;for(h=0;h<this.files.length;h++)m=this.files[h],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(h=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var m=h;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var A=m-p;if(0<A)this.isSignature(m,l.CENTRAL_FILE_HEADER)||(this.reader.zero=A);else if(A<0)throw new Error("Corrupted zip: missing "+Math.abs(A)+" bytes.")},prepareReader:function(h){this.reader=i(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,a){var i=n("./reader/readerFor"),s=n("./utils"),l=n("./compressedObject"),c=n("./crc32"),d=n("./utf8"),u=n("./compressions"),h=n("./support");function m(p,A){this.options=p,this.loadOptions=A}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var A,g;if(p.skip(22),this.fileNameLength=p.readInt(2),g=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((A=function(b){for(var x in u)if(Object.prototype.hasOwnProperty.call(u,x)&&u[x].magic===b)return u[x];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,A,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var A=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(A),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=i(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var A,g,b,x=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<x;)A=p.readInt(2),g=p.readInt(2),b=p.readData(g),this.extraFields[A]={id:A,length:g,value:b};p.setIndex(x)},handleUTF8:function(){var p=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var A=this.findExtraFieldUnicodePath();if(A!==null)this.fileNameStr=A;else{var g=s.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var x=s.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var A=i(p.value);return A.readInt(1)!==1||c(this.fileName)!==A.readInt(4)?null:d.utf8decode(A.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var A=i(p.value);return A.readInt(1)!==1||c(this.fileComment)!==A.readInt(4)?null:d.utf8decode(A.readData(p.length-5))}return null}},r.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,a){function i(A,g,b){this.name=A,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=g,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var s=n("./stream/StreamHelper"),l=n("./stream/DataWorker"),c=n("./utf8"),d=n("./compressedObject"),u=n("./stream/GenericWorker");i.prototype={internalStream:function(A){var g=null,b="string";try{if(!A)throw new Error("No output type specified.");var x=(b=A.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),g=this._decompressWorker();var y=!this._dataBinary;y&&!x&&(g=g.pipe(new c.Utf8EncodeWorker)),!y&&x&&(g=g.pipe(new c.Utf8DecodeWorker))}catch(w){(g=new u("error")).error(w)}return new s(g,b,"")},async:function(A,g){return this.internalStream(A).accumulate(g)},nodeStream:function(A,g){return this.internalStream(A||"nodebuffer").toNodejsStream(g)},_compressWorker:function(A,g){if(this._data instanceof d&&this._data.compression.magic===A.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new c.Utf8EncodeWorker)),d.createWorkerFrom(b,A,g)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof u?this._data:new l(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<h.length;p++)i.prototype[h[p]]=m;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,a){(function(i){var s,l,c=i.MutationObserver||i.WebKitMutationObserver;if(c){var d=0,u=new c(A),h=i.document.createTextNode("");u.observe(h,{characterData:!0}),s=function(){h.data=d=++d%2}}else if(i.setImmediate||i.MessageChannel===void 0)s="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var g=i.document.createElement("script");g.onreadystatechange=function(){A(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},i.document.documentElement.appendChild(g)}:function(){setTimeout(A,0)};else{var m=new i.MessageChannel;m.port1.onmessage=A,s=function(){m.port2.postMessage(0)}}var p=[];function A(){var g,b;l=!0;for(var x=p.length;x;){for(b=p,p=[],g=-1;++g<x;)b[g]();x=p.length}l=!1}r.exports=function(g){p.push(g)!==1||l||s()}}).call(this,typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,a){var i=n("immediate");function s(){}var l={},c=["REJECTED"],d=["FULFILLED"],u=["PENDING"];function h(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,x!==s&&g(this,x)}function m(x,y,w){this.promise=x,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function p(x,y,w){i(function(){var S;try{S=y(w)}catch(k){return l.reject(x,k)}S===x?l.reject(x,new TypeError("Cannot resolve promise with itself")):l.resolve(x,S)})}function A(x){var y=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof y=="function")return function(){y.apply(x,arguments)}}function g(x,y){var w=!1;function S(E){w||(w=!0,l.reject(x,E))}function k(E){w||(w=!0,l.resolve(x,E))}var P=b(function(){y(k,S)});P.status==="error"&&S(P.value)}function b(x,y){var w={};try{w.value=x(y),w.status="success"}catch(S){w.status="error",w.value=S}return w}(r.exports=h).prototype.finally=function(x){if(typeof x!="function")return this;var y=this.constructor;return this.then(function(w){return y.resolve(x()).then(function(){return w})},function(w){return y.resolve(x()).then(function(){throw w})})},h.prototype.catch=function(x){return this.then(null,x)},h.prototype.then=function(x,y){if(typeof x!="function"&&this.state===d||typeof y!="function"&&this.state===c)return this;var w=new this.constructor(s);return this.state!==u?p(w,this.state===d?x:y,this.outcome):this.queue.push(new m(w,x,y)),w},m.prototype.callFulfilled=function(x){l.resolve(this.promise,x)},m.prototype.otherCallFulfilled=function(x){p(this.promise,this.onFulfilled,x)},m.prototype.callRejected=function(x){l.reject(this.promise,x)},m.prototype.otherCallRejected=function(x){p(this.promise,this.onRejected,x)},l.resolve=function(x,y){var w=b(A,y);if(w.status==="error")return l.reject(x,w.value);var S=w.value;if(S)g(x,S);else{x.state=d,x.outcome=y;for(var k=-1,P=x.queue.length;++k<P;)x.queue[k].callFulfilled(y)}return x},l.reject=function(x,y){x.state=c,x.outcome=y;for(var w=-1,S=x.queue.length;++w<S;)x.queue[w].callRejected(y);return x},h.resolve=function(x){return x instanceof this?x:l.resolve(new this(s),x)},h.reject=function(x){var y=new this(s);return l.reject(y,x)},h.all=function(x){var y=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=x.length,S=!1;if(!w)return this.resolve([]);for(var k=new Array(w),P=0,E=-1,N=new this(s);++E<w;)C(x[E],E);return N;function C(R,j){y.resolve(R).then(function(_){k[j]=_,++P!==w||S||(S=!0,l.resolve(N,k))},function(_){S||(S=!0,l.reject(N,_))})}},h.race=function(x){var y=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=x.length,S=!1;if(!w)return this.resolve([]);for(var k=-1,P=new this(s);++k<w;)E=x[k],y.resolve(E).then(function(N){S||(S=!0,l.resolve(P,N))},function(N){S||(S=!0,l.reject(P,N))});var E;return P}},{immediate:36}],38:[function(n,r,a){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,a){var i=n("./zlib/deflate"),s=n("./utils/common"),l=n("./utils/strings"),c=n("./zlib/messages"),d=n("./zlib/zstream"),u=Object.prototype.toString,h=0,m=-1,p=0,A=8;function g(x){if(!(this instanceof g))return new g(x);this.options=s.assign({level:m,method:A,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},x||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var w=i.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(w!==h)throw new Error(c[w]);if(y.header&&i.deflateSetHeader(this.strm,y.header),y.dictionary){var S;if(S=typeof y.dictionary=="string"?l.string2buf(y.dictionary):u.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(w=i.deflateSetDictionary(this.strm,S))!==h)throw new Error(c[w]);this._dict_set=!0}}function b(x,y){var w=new g(y);if(w.push(x,!0),w.err)throw w.msg||c[w.err];return w.result}g.prototype.push=function(x,y){var w,S,k=this.strm,P=this.options.chunkSize;if(this.ended)return!1;S=y===~~y?y:y===!0?4:0,typeof x=="string"?k.input=l.string2buf(x):u.call(x)==="[object ArrayBuffer]"?k.input=new Uint8Array(x):k.input=x,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new s.Buf8(P),k.next_out=0,k.avail_out=P),(w=i.deflate(k,S))!==1&&w!==h)return this.onEnd(w),!(this.ended=!0);k.avail_out!==0&&(k.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(s.shrinkBuf(k.output,k.next_out))):this.onData(s.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||k.avail_out===0)&&w!==1);return S===4?(w=i.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===h):S!==2||(this.onEnd(h),!(k.avail_out=0))},g.prototype.onData=function(x){this.chunks.push(x)},g.prototype.onEnd=function(x){x===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},a.Deflate=g,a.deflate=b,a.deflateRaw=function(x,y){return(y=y||{}).raw=!0,b(x,y)},a.gzip=function(x,y){return(y=y||{}).gzip=!0,b(x,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,a){var i=n("./zlib/inflate"),s=n("./utils/common"),l=n("./utils/strings"),c=n("./zlib/constants"),d=n("./zlib/messages"),u=n("./zlib/zstream"),h=n("./zlib/gzheader"),m=Object.prototype.toString;function p(g){if(!(this instanceof p))return new p(g);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},g||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||g&&g.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var x=i.inflateInit2(this.strm,b.windowBits);if(x!==c.Z_OK)throw new Error(d[x]);this.header=new h,i.inflateGetHeader(this.strm,this.header)}function A(g,b){var x=new p(b);if(x.push(g,!0),x.err)throw x.msg||d[x.err];return x.result}p.prototype.push=function(g,b){var x,y,w,S,k,P,E=this.strm,N=this.options.chunkSize,C=this.options.dictionary,R=!1;if(this.ended)return!1;y=b===~~b?b:b===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof g=="string"?E.input=l.binstring2buf(g):m.call(g)==="[object ArrayBuffer]"?E.input=new Uint8Array(g):E.input=g,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new s.Buf8(N),E.next_out=0,E.avail_out=N),(x=i.inflate(E,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&C&&(P=typeof C=="string"?l.string2buf(C):m.call(C)==="[object ArrayBuffer]"?new Uint8Array(C):C,x=i.inflateSetDictionary(this.strm,P)),x===c.Z_BUF_ERROR&&R===!0&&(x=c.Z_OK,R=!1),x!==c.Z_STREAM_END&&x!==c.Z_OK)return this.onEnd(x),!(this.ended=!0);E.next_out&&(E.avail_out!==0&&x!==c.Z_STREAM_END&&(E.avail_in!==0||y!==c.Z_FINISH&&y!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=l.utf8border(E.output,E.next_out),S=E.next_out-w,k=l.buf2string(E.output,w),E.next_out=S,E.avail_out=N-S,S&&s.arraySet(E.output,E.output,w,S,0),this.onData(k)):this.onData(s.shrinkBuf(E.output,E.next_out)))),E.avail_in===0&&E.avail_out===0&&(R=!0)}while((0<E.avail_in||E.avail_out===0)&&x!==c.Z_STREAM_END);return x===c.Z_STREAM_END&&(y=c.Z_FINISH),y===c.Z_FINISH?(x=i.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===c.Z_OK):y!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(E.avail_out=0))},p.prototype.onData=function(g){this.chunks.push(g)},p.prototype.onEnd=function(g){g===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},a.Inflate=p,a.inflate=A,a.inflateRaw=function(g,b){return(b=b||{}).raw=!0,A(g,b)},a.ungzip=A},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(c){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var u=d.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var h in u)u.hasOwnProperty(h)&&(c[h]=u[h])}}return c},a.shrinkBuf=function(c,d){return c.length===d?c:c.subarray?c.subarray(0,d):(c.length=d,c)};var s={arraySet:function(c,d,u,h,m){if(d.subarray&&c.subarray)c.set(d.subarray(u,u+h),m);else for(var p=0;p<h;p++)c[m+p]=d[u+p]},flattenChunks:function(c){var d,u,h,m,p,A;for(d=h=0,u=c.length;d<u;d++)h+=c[d].length;for(A=new Uint8Array(h),d=m=0,u=c.length;d<u;d++)p=c[d],A.set(p,m),m+=p.length;return A}},l={arraySet:function(c,d,u,h,m){for(var p=0;p<h;p++)c[m+p]=d[u+p]},flattenChunks:function(c){return[].concat.apply([],c)}};a.setTyped=function(c){c?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,s)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,l))},a.setTyped(i)},{}],42:[function(n,r,a){var i=n("./common"),s=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new i.Buf8(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function u(h,m){if(m<65537&&(h.subarray&&l||!h.subarray&&s))return String.fromCharCode.apply(null,i.shrinkBuf(h,m));for(var p="",A=0;A<m;A++)p+=String.fromCharCode(h[A]);return p}c[254]=c[254]=1,a.string2buf=function(h){var m,p,A,g,b,x=h.length,y=0;for(g=0;g<x;g++)(64512&(p=h.charCodeAt(g)))==55296&&g+1<x&&(64512&(A=h.charCodeAt(g+1)))==56320&&(p=65536+(p-55296<<10)+(A-56320),g++),y+=p<128?1:p<2048?2:p<65536?3:4;for(m=new i.Buf8(y),g=b=0;b<y;g++)(64512&(p=h.charCodeAt(g)))==55296&&g+1<x&&(64512&(A=h.charCodeAt(g+1)))==56320&&(p=65536+(p-55296<<10)+(A-56320),g++),p<128?m[b++]=p:(p<2048?m[b++]=192|p>>>6:(p<65536?m[b++]=224|p>>>12:(m[b++]=240|p>>>18,m[b++]=128|p>>>12&63),m[b++]=128|p>>>6&63),m[b++]=128|63&p);return m},a.buf2binstring=function(h){return u(h,h.length)},a.binstring2buf=function(h){for(var m=new i.Buf8(h.length),p=0,A=m.length;p<A;p++)m[p]=h.charCodeAt(p);return m},a.buf2string=function(h,m){var p,A,g,b,x=m||h.length,y=new Array(2*x);for(p=A=0;p<x;)if((g=h[p++])<128)y[A++]=g;else if(4<(b=c[g]))y[A++]=65533,p+=b-1;else{for(g&=b===2?31:b===3?15:7;1<b&&p<x;)g=g<<6|63&h[p++],b--;1<b?y[A++]=65533:g<65536?y[A++]=g:(g-=65536,y[A++]=55296|g>>10&1023,y[A++]=56320|1023&g)}return u(y,A)},a.utf8border=function(h,m){var p;for((m=m||h.length)>h.length&&(m=h.length),p=m-1;0<=p&&(192&h[p])==128;)p--;return p<0||p===0?m:p+c[h[p]]>m?p:m}},{"./common":41}],43:[function(n,r,a){r.exports=function(i,s,l,c){for(var d=65535&i|0,u=i>>>16&65535|0,h=0;l!==0;){for(l-=h=2e3<l?2e3:l;u=u+(d=d+s[c++]|0)|0,--h;);d%=65521,u%=65521}return d|u<<16|0}},{}],44:[function(n,r,a){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,a){var i=function(){for(var s,l=[],c=0;c<256;c++){s=c;for(var d=0;d<8;d++)s=1&s?3988292384^s>>>1:s>>>1;l[c]=s}return l}();r.exports=function(s,l,c,d){var u=i,h=d+c;s^=-1;for(var m=d;m<h;m++)s=s>>>8^u[255&(s^l[m])];return-1^s}},{}],46:[function(n,r,a){var i,s=n("../utils/common"),l=n("./trees"),c=n("./adler32"),d=n("./crc32"),u=n("./messages"),h=0,m=4,p=0,A=-2,g=-1,b=4,x=2,y=8,w=9,S=286,k=30,P=19,E=2*S+1,N=15,C=3,R=258,j=R+C+1,_=42,D=113,v=1,O=2,V=3,G=4;function Q(I,Y){return I.msg=u[Y],Y}function H(I){return(I<<1)-(4<I?9:0)}function ne(I){for(var Y=I.length;0<=--Y;)I[Y]=0}function X(I){var Y=I.state,q=Y.pending;q>I.avail_out&&(q=I.avail_out),q!==0&&(s.arraySet(I.output,Y.pending_buf,Y.pending_out,q,I.next_out),I.next_out+=q,Y.pending_out+=q,I.total_out+=q,I.avail_out-=q,Y.pending-=q,Y.pending===0&&(Y.pending_out=0))}function K(I,Y){l._tr_flush_block(I,0<=I.block_start?I.block_start:-1,I.strstart-I.block_start,Y),I.block_start=I.strstart,X(I.strm)}function ce(I,Y){I.pending_buf[I.pending++]=Y}function ie(I,Y){I.pending_buf[I.pending++]=Y>>>8&255,I.pending_buf[I.pending++]=255&Y}function oe(I,Y){var q,F,B=I.max_chain_length,z=I.strstart,J=I.prev_length,$=I.nice_match,U=I.strstart>I.w_size-j?I.strstart-(I.w_size-j):0,te=I.window,Z=I.w_mask,re=I.prev,fe=I.strstart+R,Te=te[z+J-1],Ne=te[z+J];I.prev_length>=I.good_match&&(B>>=2),$>I.lookahead&&($=I.lookahead);do if(te[(q=Y)+J]===Ne&&te[q+J-1]===Te&&te[q]===te[z]&&te[++q]===te[z+1]){z+=2,q++;do;while(te[++z]===te[++q]&&te[++z]===te[++q]&&te[++z]===te[++q]&&te[++z]===te[++q]&&te[++z]===te[++q]&&te[++z]===te[++q]&&te[++z]===te[++q]&&te[++z]===te[++q]&&z<fe);if(F=R-(fe-z),z=fe-R,J<F){if(I.match_start=Y,$<=(J=F))break;Te=te[z+J-1],Ne=te[z+J]}}while((Y=re[Y&Z])>U&&--B!=0);return J<=I.lookahead?J:I.lookahead}function pe(I){var Y,q,F,B,z,J,$,U,te,Z,re=I.w_size;do{if(B=I.window_size-I.lookahead-I.strstart,I.strstart>=re+(re-j)){for(s.arraySet(I.window,I.window,re,re,0),I.match_start-=re,I.strstart-=re,I.block_start-=re,Y=q=I.hash_size;F=I.head[--Y],I.head[Y]=re<=F?F-re:0,--q;);for(Y=q=re;F=I.prev[--Y],I.prev[Y]=re<=F?F-re:0,--q;);B+=re}if(I.strm.avail_in===0)break;if(J=I.strm,$=I.window,U=I.strstart+I.lookahead,te=B,Z=void 0,Z=J.avail_in,te<Z&&(Z=te),q=Z===0?0:(J.avail_in-=Z,s.arraySet($,J.input,J.next_in,Z,U),J.state.wrap===1?J.adler=c(J.adler,$,Z,U):J.state.wrap===2&&(J.adler=d(J.adler,$,Z,U)),J.next_in+=Z,J.total_in+=Z,Z),I.lookahead+=q,I.lookahead+I.insert>=C)for(z=I.strstart-I.insert,I.ins_h=I.window[z],I.ins_h=(I.ins_h<<I.hash_shift^I.window[z+1])&I.hash_mask;I.insert&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[z+C-1])&I.hash_mask,I.prev[z&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=z,z++,I.insert--,!(I.lookahead+I.insert<C)););}while(I.lookahead<j&&I.strm.avail_in!==0)}function Pe(I,Y){for(var q,F;;){if(I.lookahead<j){if(pe(I),I.lookahead<j&&Y===h)return v;if(I.lookahead===0)break}if(q=0,I.lookahead>=C&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+C-1])&I.hash_mask,q=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),q!==0&&I.strstart-q<=I.w_size-j&&(I.match_length=oe(I,q)),I.match_length>=C)if(F=l._tr_tally(I,I.strstart-I.match_start,I.match_length-C),I.lookahead-=I.match_length,I.match_length<=I.max_lazy_match&&I.lookahead>=C){for(I.match_length--;I.strstart++,I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+C-1])&I.hash_mask,q=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart,--I.match_length!=0;);I.strstart++}else I.strstart+=I.match_length,I.match_length=0,I.ins_h=I.window[I.strstart],I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+1])&I.hash_mask;else F=l._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++;if(F&&(K(I,!1),I.strm.avail_out===0))return v}return I.insert=I.strstart<C-1?I.strstart:C-1,Y===m?(K(I,!0),I.strm.avail_out===0?V:G):I.last_lit&&(K(I,!1),I.strm.avail_out===0)?v:O}function ye(I,Y){for(var q,F,B;;){if(I.lookahead<j){if(pe(I),I.lookahead<j&&Y===h)return v;if(I.lookahead===0)break}if(q=0,I.lookahead>=C&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+C-1])&I.hash_mask,q=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),I.prev_length=I.match_length,I.prev_match=I.match_start,I.match_length=C-1,q!==0&&I.prev_length<I.max_lazy_match&&I.strstart-q<=I.w_size-j&&(I.match_length=oe(I,q),I.match_length<=5&&(I.strategy===1||I.match_length===C&&4096<I.strstart-I.match_start)&&(I.match_length=C-1)),I.prev_length>=C&&I.match_length<=I.prev_length){for(B=I.strstart+I.lookahead-C,F=l._tr_tally(I,I.strstart-1-I.prev_match,I.prev_length-C),I.lookahead-=I.prev_length-1,I.prev_length-=2;++I.strstart<=B&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+C-1])&I.hash_mask,q=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),--I.prev_length!=0;);if(I.match_available=0,I.match_length=C-1,I.strstart++,F&&(K(I,!1),I.strm.avail_out===0))return v}else if(I.match_available){if((F=l._tr_tally(I,0,I.window[I.strstart-1]))&&K(I,!1),I.strstart++,I.lookahead--,I.strm.avail_out===0)return v}else I.match_available=1,I.strstart++,I.lookahead--}return I.match_available&&(F=l._tr_tally(I,0,I.window[I.strstart-1]),I.match_available=0),I.insert=I.strstart<C-1?I.strstart:C-1,Y===m?(K(I,!0),I.strm.avail_out===0?V:G):I.last_lit&&(K(I,!1),I.strm.avail_out===0)?v:O}function ge(I,Y,q,F,B){this.good_length=I,this.max_lazy=Y,this.nice_length=q,this.max_chain=F,this.func=B}function Se(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*E),this.dyn_dtree=new s.Buf16(2*(2*k+1)),this.bl_tree=new s.Buf16(2*(2*P+1)),ne(this.dyn_ltree),ne(this.dyn_dtree),ne(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(N+1),this.heap=new s.Buf16(2*S+1),ne(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*S+1),ne(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ve(I){var Y;return I&&I.state?(I.total_in=I.total_out=0,I.data_type=x,(Y=I.state).pending=0,Y.pending_out=0,Y.wrap<0&&(Y.wrap=-Y.wrap),Y.status=Y.wrap?_:D,I.adler=Y.wrap===2?0:1,Y.last_flush=h,l._tr_init(Y),p):Q(I,A)}function Ae(I){var Y=ve(I);return Y===p&&function(q){q.window_size=2*q.w_size,ne(q.head),q.max_lazy_match=i[q.level].max_lazy,q.good_match=i[q.level].good_length,q.nice_match=i[q.level].nice_length,q.max_chain_length=i[q.level].max_chain,q.strstart=0,q.block_start=0,q.lookahead=0,q.insert=0,q.match_length=q.prev_length=C-1,q.match_available=0,q.ins_h=0}(I.state),Y}function xe(I,Y,q,F,B,z){if(!I)return A;var J=1;if(Y===g&&(Y=6),F<0?(J=0,F=-F):15<F&&(J=2,F-=16),B<1||w<B||q!==y||F<8||15<F||Y<0||9<Y||z<0||b<z)return Q(I,A);F===8&&(F=9);var $=new Se;return(I.state=$).strm=I,$.wrap=J,$.gzhead=null,$.w_bits=F,$.w_size=1<<$.w_bits,$.w_mask=$.w_size-1,$.hash_bits=B+7,$.hash_size=1<<$.hash_bits,$.hash_mask=$.hash_size-1,$.hash_shift=~~(($.hash_bits+C-1)/C),$.window=new s.Buf8(2*$.w_size),$.head=new s.Buf16($.hash_size),$.prev=new s.Buf16($.w_size),$.lit_bufsize=1<<B+6,$.pending_buf_size=4*$.lit_bufsize,$.pending_buf=new s.Buf8($.pending_buf_size),$.d_buf=1*$.lit_bufsize,$.l_buf=3*$.lit_bufsize,$.level=Y,$.strategy=z,$.method=q,Ae(I)}i=[new ge(0,0,0,0,function(I,Y){var q=65535;for(q>I.pending_buf_size-5&&(q=I.pending_buf_size-5);;){if(I.lookahead<=1){if(pe(I),I.lookahead===0&&Y===h)return v;if(I.lookahead===0)break}I.strstart+=I.lookahead,I.lookahead=0;var F=I.block_start+q;if((I.strstart===0||I.strstart>=F)&&(I.lookahead=I.strstart-F,I.strstart=F,K(I,!1),I.strm.avail_out===0)||I.strstart-I.block_start>=I.w_size-j&&(K(I,!1),I.strm.avail_out===0))return v}return I.insert=0,Y===m?(K(I,!0),I.strm.avail_out===0?V:G):(I.strstart>I.block_start&&(K(I,!1),I.strm.avail_out),v)}),new ge(4,4,8,4,Pe),new ge(4,5,16,8,Pe),new ge(4,6,32,32,Pe),new ge(4,4,16,16,ye),new ge(8,16,32,32,ye),new ge(8,16,128,128,ye),new ge(8,32,128,256,ye),new ge(32,128,258,1024,ye),new ge(32,258,258,4096,ye)],a.deflateInit=function(I,Y){return xe(I,Y,y,15,8,0)},a.deflateInit2=xe,a.deflateReset=Ae,a.deflateResetKeep=ve,a.deflateSetHeader=function(I,Y){return I&&I.state?I.state.wrap!==2?A:(I.state.gzhead=Y,p):A},a.deflate=function(I,Y){var q,F,B,z;if(!I||!I.state||5<Y||Y<0)return I?Q(I,A):A;if(F=I.state,!I.output||!I.input&&I.avail_in!==0||F.status===666&&Y!==m)return Q(I,I.avail_out===0?-5:A);if(F.strm=I,q=F.last_flush,F.last_flush=Y,F.status===_)if(F.wrap===2)I.adler=0,ce(F,31),ce(F,139),ce(F,8),F.gzhead?(ce(F,(F.gzhead.text?1:0)+(F.gzhead.hcrc?2:0)+(F.gzhead.extra?4:0)+(F.gzhead.name?8:0)+(F.gzhead.comment?16:0)),ce(F,255&F.gzhead.time),ce(F,F.gzhead.time>>8&255),ce(F,F.gzhead.time>>16&255),ce(F,F.gzhead.time>>24&255),ce(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),ce(F,255&F.gzhead.os),F.gzhead.extra&&F.gzhead.extra.length&&(ce(F,255&F.gzhead.extra.length),ce(F,F.gzhead.extra.length>>8&255)),F.gzhead.hcrc&&(I.adler=d(I.adler,F.pending_buf,F.pending,0)),F.gzindex=0,F.status=69):(ce(F,0),ce(F,0),ce(F,0),ce(F,0),ce(F,0),ce(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),ce(F,3),F.status=D);else{var J=y+(F.w_bits-8<<4)<<8;J|=(2<=F.strategy||F.level<2?0:F.level<6?1:F.level===6?2:3)<<6,F.strstart!==0&&(J|=32),J+=31-J%31,F.status=D,ie(F,J),F.strstart!==0&&(ie(F,I.adler>>>16),ie(F,65535&I.adler)),I.adler=1}if(F.status===69)if(F.gzhead.extra){for(B=F.pending;F.gzindex<(65535&F.gzhead.extra.length)&&(F.pending!==F.pending_buf_size||(F.gzhead.hcrc&&F.pending>B&&(I.adler=d(I.adler,F.pending_buf,F.pending-B,B)),X(I),B=F.pending,F.pending!==F.pending_buf_size));)ce(F,255&F.gzhead.extra[F.gzindex]),F.gzindex++;F.gzhead.hcrc&&F.pending>B&&(I.adler=d(I.adler,F.pending_buf,F.pending-B,B)),F.gzindex===F.gzhead.extra.length&&(F.gzindex=0,F.status=73)}else F.status=73;if(F.status===73)if(F.gzhead.name){B=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>B&&(I.adler=d(I.adler,F.pending_buf,F.pending-B,B)),X(I),B=F.pending,F.pending===F.pending_buf_size)){z=1;break}z=F.gzindex<F.gzhead.name.length?255&F.gzhead.name.charCodeAt(F.gzindex++):0,ce(F,z)}while(z!==0);F.gzhead.hcrc&&F.pending>B&&(I.adler=d(I.adler,F.pending_buf,F.pending-B,B)),z===0&&(F.gzindex=0,F.status=91)}else F.status=91;if(F.status===91)if(F.gzhead.comment){B=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>B&&(I.adler=d(I.adler,F.pending_buf,F.pending-B,B)),X(I),B=F.pending,F.pending===F.pending_buf_size)){z=1;break}z=F.gzindex<F.gzhead.comment.length?255&F.gzhead.comment.charCodeAt(F.gzindex++):0,ce(F,z)}while(z!==0);F.gzhead.hcrc&&F.pending>B&&(I.adler=d(I.adler,F.pending_buf,F.pending-B,B)),z===0&&(F.status=103)}else F.status=103;if(F.status===103&&(F.gzhead.hcrc?(F.pending+2>F.pending_buf_size&&X(I),F.pending+2<=F.pending_buf_size&&(ce(F,255&I.adler),ce(F,I.adler>>8&255),I.adler=0,F.status=D)):F.status=D),F.pending!==0){if(X(I),I.avail_out===0)return F.last_flush=-1,p}else if(I.avail_in===0&&H(Y)<=H(q)&&Y!==m)return Q(I,-5);if(F.status===666&&I.avail_in!==0)return Q(I,-5);if(I.avail_in!==0||F.lookahead!==0||Y!==h&&F.status!==666){var $=F.strategy===2?function(U,te){for(var Z;;){if(U.lookahead===0&&(pe(U),U.lookahead===0)){if(te===h)return v;break}if(U.match_length=0,Z=l._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++,Z&&(K(U,!1),U.strm.avail_out===0))return v}return U.insert=0,te===m?(K(U,!0),U.strm.avail_out===0?V:G):U.last_lit&&(K(U,!1),U.strm.avail_out===0)?v:O}(F,Y):F.strategy===3?function(U,te){for(var Z,re,fe,Te,Ne=U.window;;){if(U.lookahead<=R){if(pe(U),U.lookahead<=R&&te===h)return v;if(U.lookahead===0)break}if(U.match_length=0,U.lookahead>=C&&0<U.strstart&&(re=Ne[fe=U.strstart-1])===Ne[++fe]&&re===Ne[++fe]&&re===Ne[++fe]){Te=U.strstart+R;do;while(re===Ne[++fe]&&re===Ne[++fe]&&re===Ne[++fe]&&re===Ne[++fe]&&re===Ne[++fe]&&re===Ne[++fe]&&re===Ne[++fe]&&re===Ne[++fe]&&fe<Te);U.match_length=R-(Te-fe),U.match_length>U.lookahead&&(U.match_length=U.lookahead)}if(U.match_length>=C?(Z=l._tr_tally(U,1,U.match_length-C),U.lookahead-=U.match_length,U.strstart+=U.match_length,U.match_length=0):(Z=l._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++),Z&&(K(U,!1),U.strm.avail_out===0))return v}return U.insert=0,te===m?(K(U,!0),U.strm.avail_out===0?V:G):U.last_lit&&(K(U,!1),U.strm.avail_out===0)?v:O}(F,Y):i[F.level].func(F,Y);if($!==V&&$!==G||(F.status=666),$===v||$===V)return I.avail_out===0&&(F.last_flush=-1),p;if($===O&&(Y===1?l._tr_align(F):Y!==5&&(l._tr_stored_block(F,0,0,!1),Y===3&&(ne(F.head),F.lookahead===0&&(F.strstart=0,F.block_start=0,F.insert=0))),X(I),I.avail_out===0))return F.last_flush=-1,p}return Y!==m?p:F.wrap<=0?1:(F.wrap===2?(ce(F,255&I.adler),ce(F,I.adler>>8&255),ce(F,I.adler>>16&255),ce(F,I.adler>>24&255),ce(F,255&I.total_in),ce(F,I.total_in>>8&255),ce(F,I.total_in>>16&255),ce(F,I.total_in>>24&255)):(ie(F,I.adler>>>16),ie(F,65535&I.adler)),X(I),0<F.wrap&&(F.wrap=-F.wrap),F.pending!==0?p:1)},a.deflateEnd=function(I){var Y;return I&&I.state?(Y=I.state.status)!==_&&Y!==69&&Y!==73&&Y!==91&&Y!==103&&Y!==D&&Y!==666?Q(I,A):(I.state=null,Y===D?Q(I,-3):p):A},a.deflateSetDictionary=function(I,Y){var q,F,B,z,J,$,U,te,Z=Y.length;if(!I||!I.state||(z=(q=I.state).wrap)===2||z===1&&q.status!==_||q.lookahead)return A;for(z===1&&(I.adler=c(I.adler,Y,Z,0)),q.wrap=0,Z>=q.w_size&&(z===0&&(ne(q.head),q.strstart=0,q.block_start=0,q.insert=0),te=new s.Buf8(q.w_size),s.arraySet(te,Y,Z-q.w_size,q.w_size,0),Y=te,Z=q.w_size),J=I.avail_in,$=I.next_in,U=I.input,I.avail_in=Z,I.next_in=0,I.input=Y,pe(q);q.lookahead>=C;){for(F=q.strstart,B=q.lookahead-(C-1);q.ins_h=(q.ins_h<<q.hash_shift^q.window[F+C-1])&q.hash_mask,q.prev[F&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=F,F++,--B;);q.strstart=F,q.lookahead=C-1,pe(q)}return q.strstart+=q.lookahead,q.block_start=q.strstart,q.insert=q.lookahead,q.lookahead=0,q.match_length=q.prev_length=C-1,q.match_available=0,I.next_in=$,I.input=U,I.avail_in=J,q.wrap=z,p},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,a){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,a){r.exports=function(i,s){var l,c,d,u,h,m,p,A,g,b,x,y,w,S,k,P,E,N,C,R,j,_,D,v,O;l=i.state,c=i.next_in,v=i.input,d=c+(i.avail_in-5),u=i.next_out,O=i.output,h=u-(s-i.avail_out),m=u+(i.avail_out-257),p=l.dmax,A=l.wsize,g=l.whave,b=l.wnext,x=l.window,y=l.hold,w=l.bits,S=l.lencode,k=l.distcode,P=(1<<l.lenbits)-1,E=(1<<l.distbits)-1;e:do{w<15&&(y+=v[c++]<<w,w+=8,y+=v[c++]<<w,w+=8),N=S[y&P];t:for(;;){if(y>>>=C=N>>>24,w-=C,(C=N>>>16&255)===0)O[u++]=65535&N;else{if(!(16&C)){if(!(64&C)){N=S[(65535&N)+(y&(1<<C)-1)];continue t}if(32&C){l.mode=12;break e}i.msg="invalid literal/length code",l.mode=30;break e}R=65535&N,(C&=15)&&(w<C&&(y+=v[c++]<<w,w+=8),R+=y&(1<<C)-1,y>>>=C,w-=C),w<15&&(y+=v[c++]<<w,w+=8,y+=v[c++]<<w,w+=8),N=k[y&E];n:for(;;){if(y>>>=C=N>>>24,w-=C,!(16&(C=N>>>16&255))){if(!(64&C)){N=k[(65535&N)+(y&(1<<C)-1)];continue n}i.msg="invalid distance code",l.mode=30;break e}if(j=65535&N,w<(C&=15)&&(y+=v[c++]<<w,(w+=8)<C&&(y+=v[c++]<<w,w+=8)),p<(j+=y&(1<<C)-1)){i.msg="invalid distance too far back",l.mode=30;break e}if(y>>>=C,w-=C,(C=u-h)<j){if(g<(C=j-C)&&l.sane){i.msg="invalid distance too far back",l.mode=30;break e}if(D=x,(_=0)===b){if(_+=A-C,C<R){for(R-=C;O[u++]=x[_++],--C;);_=u-j,D=O}}else if(b<C){if(_+=A+b-C,(C-=b)<R){for(R-=C;O[u++]=x[_++],--C;);if(_=0,b<R){for(R-=C=b;O[u++]=x[_++],--C;);_=u-j,D=O}}}else if(_+=b-C,C<R){for(R-=C;O[u++]=x[_++],--C;);_=u-j,D=O}for(;2<R;)O[u++]=D[_++],O[u++]=D[_++],O[u++]=D[_++],R-=3;R&&(O[u++]=D[_++],1<R&&(O[u++]=D[_++]))}else{for(_=u-j;O[u++]=O[_++],O[u++]=O[_++],O[u++]=O[_++],2<(R-=3););R&&(O[u++]=O[_++],1<R&&(O[u++]=O[_++]))}break}}break}}while(c<d&&u<m);c-=R=w>>3,y&=(1<<(w-=R<<3))-1,i.next_in=c,i.next_out=u,i.avail_in=c<d?d-c+5:5-(c-d),i.avail_out=u<m?m-u+257:257-(u-m),l.hold=y,l.bits=w}},{}],49:[function(n,r,a){var i=n("../utils/common"),s=n("./adler32"),l=n("./crc32"),c=n("./inffast"),d=n("./inftrees"),u=1,h=2,m=0,p=-2,A=1,g=852,b=592;function x(_){return(_>>>24&255)+(_>>>8&65280)+((65280&_)<<8)+((255&_)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(_){var D;return _&&_.state?(D=_.state,_.total_in=_.total_out=D.total=0,_.msg="",D.wrap&&(_.adler=1&D.wrap),D.mode=A,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new i.Buf32(g),D.distcode=D.distdyn=new i.Buf32(b),D.sane=1,D.back=-1,m):p}function S(_){var D;return _&&_.state?((D=_.state).wsize=0,D.whave=0,D.wnext=0,w(_)):p}function k(_,D){var v,O;return _&&_.state?(O=_.state,D<0?(v=0,D=-D):(v=1+(D>>4),D<48&&(D&=15)),D&&(D<8||15<D)?p:(O.window!==null&&O.wbits!==D&&(O.window=null),O.wrap=v,O.wbits=D,S(_))):p}function P(_,D){var v,O;return _?(O=new y,(_.state=O).window=null,(v=k(_,D))!==m&&(_.state=null),v):p}var E,N,C=!0;function R(_){if(C){var D;for(E=new i.Buf32(512),N=new i.Buf32(32),D=0;D<144;)_.lens[D++]=8;for(;D<256;)_.lens[D++]=9;for(;D<280;)_.lens[D++]=7;for(;D<288;)_.lens[D++]=8;for(d(u,_.lens,0,288,E,0,_.work,{bits:9}),D=0;D<32;)_.lens[D++]=5;d(h,_.lens,0,32,N,0,_.work,{bits:5}),C=!1}_.lencode=E,_.lenbits=9,_.distcode=N,_.distbits=5}function j(_,D,v,O){var V,G=_.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new i.Buf8(G.wsize)),O>=G.wsize?(i.arraySet(G.window,D,v-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(O<(V=G.wsize-G.wnext)&&(V=O),i.arraySet(G.window,D,v-O,V,G.wnext),(O-=V)?(i.arraySet(G.window,D,v-O,O,0),G.wnext=O,G.whave=G.wsize):(G.wnext+=V,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=V))),0}a.inflateReset=S,a.inflateReset2=k,a.inflateResetKeep=w,a.inflateInit=function(_){return P(_,15)},a.inflateInit2=P,a.inflate=function(_,D){var v,O,V,G,Q,H,ne,X,K,ce,ie,oe,pe,Pe,ye,ge,Se,ve,Ae,xe,I,Y,q,F,B=0,z=new i.Buf8(4),J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!_||!_.state||!_.output||!_.input&&_.avail_in!==0)return p;(v=_.state).mode===12&&(v.mode=13),Q=_.next_out,V=_.output,ne=_.avail_out,G=_.next_in,O=_.input,H=_.avail_in,X=v.hold,K=v.bits,ce=H,ie=ne,Y=m;e:for(;;)switch(v.mode){case A:if(v.wrap===0){v.mode=13;break}for(;K<16;){if(H===0)break e;H--,X+=O[G++]<<K,K+=8}if(2&v.wrap&&X===35615){z[v.check=0]=255&X,z[1]=X>>>8&255,v.check=l(v.check,z,2,0),K=X=0,v.mode=2;break}if(v.flags=0,v.head&&(v.head.done=!1),!(1&v.wrap)||(((255&X)<<8)+(X>>8))%31){_.msg="incorrect header check",v.mode=30;break}if((15&X)!=8){_.msg="unknown compression method",v.mode=30;break}if(K-=4,I=8+(15&(X>>>=4)),v.wbits===0)v.wbits=I;else if(I>v.wbits){_.msg="invalid window size",v.mode=30;break}v.dmax=1<<I,_.adler=v.check=1,v.mode=512&X?10:12,K=X=0;break;case 2:for(;K<16;){if(H===0)break e;H--,X+=O[G++]<<K,K+=8}if(v.flags=X,(255&v.flags)!=8){_.msg="unknown compression method",v.mode=30;break}if(57344&v.flags){_.msg="unknown header flags set",v.mode=30;break}v.head&&(v.head.text=X>>8&1),512&v.flags&&(z[0]=255&X,z[1]=X>>>8&255,v.check=l(v.check,z,2,0)),K=X=0,v.mode=3;case 3:for(;K<32;){if(H===0)break e;H--,X+=O[G++]<<K,K+=8}v.head&&(v.head.time=X),512&v.flags&&(z[0]=255&X,z[1]=X>>>8&255,z[2]=X>>>16&255,z[3]=X>>>24&255,v.check=l(v.check,z,4,0)),K=X=0,v.mode=4;case 4:for(;K<16;){if(H===0)break e;H--,X+=O[G++]<<K,K+=8}v.head&&(v.head.xflags=255&X,v.head.os=X>>8),512&v.flags&&(z[0]=255&X,z[1]=X>>>8&255,v.check=l(v.check,z,2,0)),K=X=0,v.mode=5;case 5:if(1024&v.flags){for(;K<16;){if(H===0)break e;H--,X+=O[G++]<<K,K+=8}v.length=X,v.head&&(v.head.extra_len=X),512&v.flags&&(z[0]=255&X,z[1]=X>>>8&255,v.check=l(v.check,z,2,0)),K=X=0}else v.head&&(v.head.extra=null);v.mode=6;case 6:if(1024&v.flags&&(H<(oe=v.length)&&(oe=H),oe&&(v.head&&(I=v.head.extra_len-v.length,v.head.extra||(v.head.extra=new Array(v.head.extra_len)),i.arraySet(v.head.extra,O,G,oe,I)),512&v.flags&&(v.check=l(v.check,O,oe,G)),H-=oe,G+=oe,v.length-=oe),v.length))break e;v.length=0,v.mode=7;case 7:if(2048&v.flags){if(H===0)break e;for(oe=0;I=O[G+oe++],v.head&&I&&v.length<65536&&(v.head.name+=String.fromCharCode(I)),I&&oe<H;);if(512&v.flags&&(v.check=l(v.check,O,oe,G)),H-=oe,G+=oe,I)break e}else v.head&&(v.head.name=null);v.length=0,v.mode=8;case 8:if(4096&v.flags){if(H===0)break e;for(oe=0;I=O[G+oe++],v.head&&I&&v.length<65536&&(v.head.comment+=String.fromCharCode(I)),I&&oe<H;);if(512&v.flags&&(v.check=l(v.check,O,oe,G)),H-=oe,G+=oe,I)break e}else v.head&&(v.head.comment=null);v.mode=9;case 9:if(512&v.flags){for(;K<16;){if(H===0)break e;H--,X+=O[G++]<<K,K+=8}if(X!==(65535&v.check)){_.msg="header crc mismatch",v.mode=30;break}K=X=0}v.head&&(v.head.hcrc=v.flags>>9&1,v.head.done=!0),_.adler=v.check=0,v.mode=12;break;case 10:for(;K<32;){if(H===0)break e;H--,X+=O[G++]<<K,K+=8}_.adler=v.check=x(X),K=X=0,v.mode=11;case 11:if(v.havedict===0)return _.next_out=Q,_.avail_out=ne,_.next_in=G,_.avail_in=H,v.hold=X,v.bits=K,2;_.adler=v.check=1,v.mode=12;case 12:if(D===5||D===6)break e;case 13:if(v.last){X>>>=7&K,K-=7&K,v.mode=27;break}for(;K<3;){if(H===0)break e;H--,X+=O[G++]<<K,K+=8}switch(v.last=1&X,K-=1,3&(X>>>=1)){case 0:v.mode=14;break;case 1:if(R(v),v.mode=20,D!==6)break;X>>>=2,K-=2;break e;case 2:v.mode=17;break;case 3:_.msg="invalid block type",v.mode=30}X>>>=2,K-=2;break;case 14:for(X>>>=7&K,K-=7&K;K<32;){if(H===0)break e;H--,X+=O[G++]<<K,K+=8}if((65535&X)!=(X>>>16^65535)){_.msg="invalid stored block lengths",v.mode=30;break}if(v.length=65535&X,K=X=0,v.mode=15,D===6)break e;case 15:v.mode=16;case 16:if(oe=v.length){if(H<oe&&(oe=H),ne<oe&&(oe=ne),oe===0)break e;i.arraySet(V,O,G,oe,Q),H-=oe,G+=oe,ne-=oe,Q+=oe,v.length-=oe;break}v.mode=12;break;case 17:for(;K<14;){if(H===0)break e;H--,X+=O[G++]<<K,K+=8}if(v.nlen=257+(31&X),X>>>=5,K-=5,v.ndist=1+(31&X),X>>>=5,K-=5,v.ncode=4+(15&X),X>>>=4,K-=4,286<v.nlen||30<v.ndist){_.msg="too many length or distance symbols",v.mode=30;break}v.have=0,v.mode=18;case 18:for(;v.have<v.ncode;){for(;K<3;){if(H===0)break e;H--,X+=O[G++]<<K,K+=8}v.lens[J[v.have++]]=7&X,X>>>=3,K-=3}for(;v.have<19;)v.lens[J[v.have++]]=0;if(v.lencode=v.lendyn,v.lenbits=7,q={bits:v.lenbits},Y=d(0,v.lens,0,19,v.lencode,0,v.work,q),v.lenbits=q.bits,Y){_.msg="invalid code lengths set",v.mode=30;break}v.have=0,v.mode=19;case 19:for(;v.have<v.nlen+v.ndist;){for(;ge=(B=v.lencode[X&(1<<v.lenbits)-1])>>>16&255,Se=65535&B,!((ye=B>>>24)<=K);){if(H===0)break e;H--,X+=O[G++]<<K,K+=8}if(Se<16)X>>>=ye,K-=ye,v.lens[v.have++]=Se;else{if(Se===16){for(F=ye+2;K<F;){if(H===0)break e;H--,X+=O[G++]<<K,K+=8}if(X>>>=ye,K-=ye,v.have===0){_.msg="invalid bit length repeat",v.mode=30;break}I=v.lens[v.have-1],oe=3+(3&X),X>>>=2,K-=2}else if(Se===17){for(F=ye+3;K<F;){if(H===0)break e;H--,X+=O[G++]<<K,K+=8}K-=ye,I=0,oe=3+(7&(X>>>=ye)),X>>>=3,K-=3}else{for(F=ye+7;K<F;){if(H===0)break e;H--,X+=O[G++]<<K,K+=8}K-=ye,I=0,oe=11+(127&(X>>>=ye)),X>>>=7,K-=7}if(v.have+oe>v.nlen+v.ndist){_.msg="invalid bit length repeat",v.mode=30;break}for(;oe--;)v.lens[v.have++]=I}}if(v.mode===30)break;if(v.lens[256]===0){_.msg="invalid code -- missing end-of-block",v.mode=30;break}if(v.lenbits=9,q={bits:v.lenbits},Y=d(u,v.lens,0,v.nlen,v.lencode,0,v.work,q),v.lenbits=q.bits,Y){_.msg="invalid literal/lengths set",v.mode=30;break}if(v.distbits=6,v.distcode=v.distdyn,q={bits:v.distbits},Y=d(h,v.lens,v.nlen,v.ndist,v.distcode,0,v.work,q),v.distbits=q.bits,Y){_.msg="invalid distances set",v.mode=30;break}if(v.mode=20,D===6)break e;case 20:v.mode=21;case 21:if(6<=H&&258<=ne){_.next_out=Q,_.avail_out=ne,_.next_in=G,_.avail_in=H,v.hold=X,v.bits=K,c(_,ie),Q=_.next_out,V=_.output,ne=_.avail_out,G=_.next_in,O=_.input,H=_.avail_in,X=v.hold,K=v.bits,v.mode===12&&(v.back=-1);break}for(v.back=0;ge=(B=v.lencode[X&(1<<v.lenbits)-1])>>>16&255,Se=65535&B,!((ye=B>>>24)<=K);){if(H===0)break e;H--,X+=O[G++]<<K,K+=8}if(ge&&!(240&ge)){for(ve=ye,Ae=ge,xe=Se;ge=(B=v.lencode[xe+((X&(1<<ve+Ae)-1)>>ve)])>>>16&255,Se=65535&B,!(ve+(ye=B>>>24)<=K);){if(H===0)break e;H--,X+=O[G++]<<K,K+=8}X>>>=ve,K-=ve,v.back+=ve}if(X>>>=ye,K-=ye,v.back+=ye,v.length=Se,ge===0){v.mode=26;break}if(32&ge){v.back=-1,v.mode=12;break}if(64&ge){_.msg="invalid literal/length code",v.mode=30;break}v.extra=15&ge,v.mode=22;case 22:if(v.extra){for(F=v.extra;K<F;){if(H===0)break e;H--,X+=O[G++]<<K,K+=8}v.length+=X&(1<<v.extra)-1,X>>>=v.extra,K-=v.extra,v.back+=v.extra}v.was=v.length,v.mode=23;case 23:for(;ge=(B=v.distcode[X&(1<<v.distbits)-1])>>>16&255,Se=65535&B,!((ye=B>>>24)<=K);){if(H===0)break e;H--,X+=O[G++]<<K,K+=8}if(!(240&ge)){for(ve=ye,Ae=ge,xe=Se;ge=(B=v.distcode[xe+((X&(1<<ve+Ae)-1)>>ve)])>>>16&255,Se=65535&B,!(ve+(ye=B>>>24)<=K);){if(H===0)break e;H--,X+=O[G++]<<K,K+=8}X>>>=ve,K-=ve,v.back+=ve}if(X>>>=ye,K-=ye,v.back+=ye,64&ge){_.msg="invalid distance code",v.mode=30;break}v.offset=Se,v.extra=15&ge,v.mode=24;case 24:if(v.extra){for(F=v.extra;K<F;){if(H===0)break e;H--,X+=O[G++]<<K,K+=8}v.offset+=X&(1<<v.extra)-1,X>>>=v.extra,K-=v.extra,v.back+=v.extra}if(v.offset>v.dmax){_.msg="invalid distance too far back",v.mode=30;break}v.mode=25;case 25:if(ne===0)break e;if(oe=ie-ne,v.offset>oe){if((oe=v.offset-oe)>v.whave&&v.sane){_.msg="invalid distance too far back",v.mode=30;break}pe=oe>v.wnext?(oe-=v.wnext,v.wsize-oe):v.wnext-oe,oe>v.length&&(oe=v.length),Pe=v.window}else Pe=V,pe=Q-v.offset,oe=v.length;for(ne<oe&&(oe=ne),ne-=oe,v.length-=oe;V[Q++]=Pe[pe++],--oe;);v.length===0&&(v.mode=21);break;case 26:if(ne===0)break e;V[Q++]=v.length,ne--,v.mode=21;break;case 27:if(v.wrap){for(;K<32;){if(H===0)break e;H--,X|=O[G++]<<K,K+=8}if(ie-=ne,_.total_out+=ie,v.total+=ie,ie&&(_.adler=v.check=v.flags?l(v.check,V,ie,Q-ie):s(v.check,V,ie,Q-ie)),ie=ne,(v.flags?X:x(X))!==v.check){_.msg="incorrect data check",v.mode=30;break}K=X=0}v.mode=28;case 28:if(v.wrap&&v.flags){for(;K<32;){if(H===0)break e;H--,X+=O[G++]<<K,K+=8}if(X!==(4294967295&v.total)){_.msg="incorrect length check",v.mode=30;break}K=X=0}v.mode=29;case 29:Y=1;break e;case 30:Y=-3;break e;case 31:return-4;case 32:default:return p}return _.next_out=Q,_.avail_out=ne,_.next_in=G,_.avail_in=H,v.hold=X,v.bits=K,(v.wsize||ie!==_.avail_out&&v.mode<30&&(v.mode<27||D!==4))&&j(_,_.output,_.next_out,ie-_.avail_out)?(v.mode=31,-4):(ce-=_.avail_in,ie-=_.avail_out,_.total_in+=ce,_.total_out+=ie,v.total+=ie,v.wrap&&ie&&(_.adler=v.check=v.flags?l(v.check,V,ie,_.next_out-ie):s(v.check,V,ie,_.next_out-ie)),_.data_type=v.bits+(v.last?64:0)+(v.mode===12?128:0)+(v.mode===20||v.mode===15?256:0),(ce==0&&ie===0||D===4)&&Y===m&&(Y=-5),Y)},a.inflateEnd=function(_){if(!_||!_.state)return p;var D=_.state;return D.window&&(D.window=null),_.state=null,m},a.inflateGetHeader=function(_,D){var v;return _&&_.state&&2&(v=_.state).wrap?((v.head=D).done=!1,m):p},a.inflateSetDictionary=function(_,D){var v,O=D.length;return _&&_.state?(v=_.state).wrap!==0&&v.mode!==11?p:v.mode===11&&s(1,D,O,0)!==v.check?-3:j(_,D,O,O)?(v.mode=31,-4):(v.havedict=1,m):p},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,a){var i=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(u,h,m,p,A,g,b,x){var y,w,S,k,P,E,N,C,R,j=x.bits,_=0,D=0,v=0,O=0,V=0,G=0,Q=0,H=0,ne=0,X=0,K=null,ce=0,ie=new i.Buf16(16),oe=new i.Buf16(16),pe=null,Pe=0;for(_=0;_<=15;_++)ie[_]=0;for(D=0;D<p;D++)ie[h[m+D]]++;for(V=j,O=15;1<=O&&ie[O]===0;O--);if(O<V&&(V=O),O===0)return A[g++]=20971520,A[g++]=20971520,x.bits=1,0;for(v=1;v<O&&ie[v]===0;v++);for(V<v&&(V=v),_=H=1;_<=15;_++)if(H<<=1,(H-=ie[_])<0)return-1;if(0<H&&(u===0||O!==1))return-1;for(oe[1]=0,_=1;_<15;_++)oe[_+1]=oe[_]+ie[_];for(D=0;D<p;D++)h[m+D]!==0&&(b[oe[h[m+D]]++]=D);if(E=u===0?(K=pe=b,19):u===1?(K=s,ce-=257,pe=l,Pe-=257,256):(K=c,pe=d,-1),_=v,P=g,Q=D=X=0,S=-1,k=(ne=1<<(G=V))-1,u===1&&852<ne||u===2&&592<ne)return 1;for(;;){for(N=_-Q,R=b[D]<E?(C=0,b[D]):b[D]>E?(C=pe[Pe+b[D]],K[ce+b[D]]):(C=96,0),y=1<<_-Q,v=w=1<<G;A[P+(X>>Q)+(w-=y)]=N<<24|C<<16|R|0,w!==0;);for(y=1<<_-1;X&y;)y>>=1;if(y!==0?(X&=y-1,X+=y):X=0,D++,--ie[_]==0){if(_===O)break;_=h[m+b[D]]}if(V<_&&(X&k)!==S){for(Q===0&&(Q=V),P+=v,H=1<<(G=_-Q);G+Q<O&&!((H-=ie[G+Q])<=0);)G++,H<<=1;if(ne+=1<<G,u===1&&852<ne||u===2&&592<ne)return 1;A[S=X&k]=V<<24|G<<16|P-g|0}}return X!==0&&(A[P+X]=_-Q<<24|64<<16|0),x.bits=V,0}},{"../utils/common":41}],51:[function(n,r,a){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,a){var i=n("../utils/common"),s=0,l=1;function c(B){for(var z=B.length;0<=--z;)B[z]=0}var d=0,u=29,h=256,m=h+1+u,p=30,A=19,g=2*m+1,b=15,x=16,y=7,w=256,S=16,k=17,P=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=new Array(2*(m+2));c(j);var _=new Array(2*p);c(_);var D=new Array(512);c(D);var v=new Array(256);c(v);var O=new Array(u);c(O);var V,G,Q,H=new Array(p);function ne(B,z,J,$,U){this.static_tree=B,this.extra_bits=z,this.extra_base=J,this.elems=$,this.max_length=U,this.has_stree=B&&B.length}function X(B,z){this.dyn_tree=B,this.max_code=0,this.stat_desc=z}function K(B){return B<256?D[B]:D[256+(B>>>7)]}function ce(B,z){B.pending_buf[B.pending++]=255&z,B.pending_buf[B.pending++]=z>>>8&255}function ie(B,z,J){B.bi_valid>x-J?(B.bi_buf|=z<<B.bi_valid&65535,ce(B,B.bi_buf),B.bi_buf=z>>x-B.bi_valid,B.bi_valid+=J-x):(B.bi_buf|=z<<B.bi_valid&65535,B.bi_valid+=J)}function oe(B,z,J){ie(B,J[2*z],J[2*z+1])}function pe(B,z){for(var J=0;J|=1&B,B>>>=1,J<<=1,0<--z;);return J>>>1}function Pe(B,z,J){var $,U,te=new Array(b+1),Z=0;for($=1;$<=b;$++)te[$]=Z=Z+J[$-1]<<1;for(U=0;U<=z;U++){var re=B[2*U+1];re!==0&&(B[2*U]=pe(te[re]++,re))}}function ye(B){var z;for(z=0;z<m;z++)B.dyn_ltree[2*z]=0;for(z=0;z<p;z++)B.dyn_dtree[2*z]=0;for(z=0;z<A;z++)B.bl_tree[2*z]=0;B.dyn_ltree[2*w]=1,B.opt_len=B.static_len=0,B.last_lit=B.matches=0}function ge(B){8<B.bi_valid?ce(B,B.bi_buf):0<B.bi_valid&&(B.pending_buf[B.pending++]=B.bi_buf),B.bi_buf=0,B.bi_valid=0}function Se(B,z,J,$){var U=2*z,te=2*J;return B[U]<B[te]||B[U]===B[te]&&$[z]<=$[J]}function ve(B,z,J){for(var $=B.heap[J],U=J<<1;U<=B.heap_len&&(U<B.heap_len&&Se(z,B.heap[U+1],B.heap[U],B.depth)&&U++,!Se(z,$,B.heap[U],B.depth));)B.heap[J]=B.heap[U],J=U,U<<=1;B.heap[J]=$}function Ae(B,z,J){var $,U,te,Z,re=0;if(B.last_lit!==0)for(;$=B.pending_buf[B.d_buf+2*re]<<8|B.pending_buf[B.d_buf+2*re+1],U=B.pending_buf[B.l_buf+re],re++,$===0?oe(B,U,z):(oe(B,(te=v[U])+h+1,z),(Z=E[te])!==0&&ie(B,U-=O[te],Z),oe(B,te=K(--$),J),(Z=N[te])!==0&&ie(B,$-=H[te],Z)),re<B.last_lit;);oe(B,w,z)}function xe(B,z){var J,$,U,te=z.dyn_tree,Z=z.stat_desc.static_tree,re=z.stat_desc.has_stree,fe=z.stat_desc.elems,Te=-1;for(B.heap_len=0,B.heap_max=g,J=0;J<fe;J++)te[2*J]!==0?(B.heap[++B.heap_len]=Te=J,B.depth[J]=0):te[2*J+1]=0;for(;B.heap_len<2;)te[2*(U=B.heap[++B.heap_len]=Te<2?++Te:0)]=1,B.depth[U]=0,B.opt_len--,re&&(B.static_len-=Z[2*U+1]);for(z.max_code=Te,J=B.heap_len>>1;1<=J;J--)ve(B,te,J);for(U=fe;J=B.heap[1],B.heap[1]=B.heap[B.heap_len--],ve(B,te,1),$=B.heap[1],B.heap[--B.heap_max]=J,B.heap[--B.heap_max]=$,te[2*U]=te[2*J]+te[2*$],B.depth[U]=(B.depth[J]>=B.depth[$]?B.depth[J]:B.depth[$])+1,te[2*J+1]=te[2*$+1]=U,B.heap[1]=U++,ve(B,te,1),2<=B.heap_len;);B.heap[--B.heap_max]=B.heap[1],function(Ne,$e){var pt,ot,Be,Ue,nt,It,mt=$e.dyn_tree,Nt=$e.max_code,ze=$e.stat_desc.static_tree,gt=$e.stat_desc.has_stree,vt=$e.stat_desc.extra_bits,dt=$e.stat_desc.extra_base,tt=$e.stat_desc.max_length,Oe=0;for(Ue=0;Ue<=b;Ue++)Ne.bl_count[Ue]=0;for(mt[2*Ne.heap[Ne.heap_max]+1]=0,pt=Ne.heap_max+1;pt<g;pt++)tt<(Ue=mt[2*mt[2*(ot=Ne.heap[pt])+1]+1]+1)&&(Ue=tt,Oe++),mt[2*ot+1]=Ue,Nt<ot||(Ne.bl_count[Ue]++,nt=0,dt<=ot&&(nt=vt[ot-dt]),It=mt[2*ot],Ne.opt_len+=It*(Ue+nt),gt&&(Ne.static_len+=It*(ze[2*ot+1]+nt)));if(Oe!==0){do{for(Ue=tt-1;Ne.bl_count[Ue]===0;)Ue--;Ne.bl_count[Ue]--,Ne.bl_count[Ue+1]+=2,Ne.bl_count[tt]--,Oe-=2}while(0<Oe);for(Ue=tt;Ue!==0;Ue--)for(ot=Ne.bl_count[Ue];ot!==0;)Nt<(Be=Ne.heap[--pt])||(mt[2*Be+1]!==Ue&&(Ne.opt_len+=(Ue-mt[2*Be+1])*mt[2*Be],mt[2*Be+1]=Ue),ot--)}}(B,z),Pe(te,Te,B.bl_count)}function I(B,z,J){var $,U,te=-1,Z=z[1],re=0,fe=7,Te=4;for(Z===0&&(fe=138,Te=3),z[2*(J+1)+1]=65535,$=0;$<=J;$++)U=Z,Z=z[2*($+1)+1],++re<fe&&U===Z||(re<Te?B.bl_tree[2*U]+=re:U!==0?(U!==te&&B.bl_tree[2*U]++,B.bl_tree[2*S]++):re<=10?B.bl_tree[2*k]++:B.bl_tree[2*P]++,te=U,Te=(re=0)===Z?(fe=138,3):U===Z?(fe=6,3):(fe=7,4))}function Y(B,z,J){var $,U,te=-1,Z=z[1],re=0,fe=7,Te=4;for(Z===0&&(fe=138,Te=3),$=0;$<=J;$++)if(U=Z,Z=z[2*($+1)+1],!(++re<fe&&U===Z)){if(re<Te)for(;oe(B,U,B.bl_tree),--re!=0;);else U!==0?(U!==te&&(oe(B,U,B.bl_tree),re--),oe(B,S,B.bl_tree),ie(B,re-3,2)):re<=10?(oe(B,k,B.bl_tree),ie(B,re-3,3)):(oe(B,P,B.bl_tree),ie(B,re-11,7));te=U,Te=(re=0)===Z?(fe=138,3):U===Z?(fe=6,3):(fe=7,4)}}c(H);var q=!1;function F(B,z,J,$){ie(B,(d<<1)+($?1:0),3),function(U,te,Z,re){ge(U),ce(U,Z),ce(U,~Z),i.arraySet(U.pending_buf,U.window,te,Z,U.pending),U.pending+=Z}(B,z,J)}a._tr_init=function(B){q||(function(){var z,J,$,U,te,Z=new Array(b+1);for(U=$=0;U<u-1;U++)for(O[U]=$,z=0;z<1<<E[U];z++)v[$++]=U;for(v[$-1]=U,U=te=0;U<16;U++)for(H[U]=te,z=0;z<1<<N[U];z++)D[te++]=U;for(te>>=7;U<p;U++)for(H[U]=te<<7,z=0;z<1<<N[U]-7;z++)D[256+te++]=U;for(J=0;J<=b;J++)Z[J]=0;for(z=0;z<=143;)j[2*z+1]=8,z++,Z[8]++;for(;z<=255;)j[2*z+1]=9,z++,Z[9]++;for(;z<=279;)j[2*z+1]=7,z++,Z[7]++;for(;z<=287;)j[2*z+1]=8,z++,Z[8]++;for(Pe(j,m+1,Z),z=0;z<p;z++)_[2*z+1]=5,_[2*z]=pe(z,5);V=new ne(j,E,h+1,m,b),G=new ne(_,N,0,p,b),Q=new ne(new Array(0),C,0,A,y)}(),q=!0),B.l_desc=new X(B.dyn_ltree,V),B.d_desc=new X(B.dyn_dtree,G),B.bl_desc=new X(B.bl_tree,Q),B.bi_buf=0,B.bi_valid=0,ye(B)},a._tr_stored_block=F,a._tr_flush_block=function(B,z,J,$){var U,te,Z=0;0<B.level?(B.strm.data_type===2&&(B.strm.data_type=function(re){var fe,Te=4093624447;for(fe=0;fe<=31;fe++,Te>>>=1)if(1&Te&&re.dyn_ltree[2*fe]!==0)return s;if(re.dyn_ltree[18]!==0||re.dyn_ltree[20]!==0||re.dyn_ltree[26]!==0)return l;for(fe=32;fe<h;fe++)if(re.dyn_ltree[2*fe]!==0)return l;return s}(B)),xe(B,B.l_desc),xe(B,B.d_desc),Z=function(re){var fe;for(I(re,re.dyn_ltree,re.l_desc.max_code),I(re,re.dyn_dtree,re.d_desc.max_code),xe(re,re.bl_desc),fe=A-1;3<=fe&&re.bl_tree[2*R[fe]+1]===0;fe--);return re.opt_len+=3*(fe+1)+5+5+4,fe}(B),U=B.opt_len+3+7>>>3,(te=B.static_len+3+7>>>3)<=U&&(U=te)):U=te=J+5,J+4<=U&&z!==-1?F(B,z,J,$):B.strategy===4||te===U?(ie(B,2+($?1:0),3),Ae(B,j,_)):(ie(B,4+($?1:0),3),function(re,fe,Te,Ne){var $e;for(ie(re,fe-257,5),ie(re,Te-1,5),ie(re,Ne-4,4),$e=0;$e<Ne;$e++)ie(re,re.bl_tree[2*R[$e]+1],3);Y(re,re.dyn_ltree,fe-1),Y(re,re.dyn_dtree,Te-1)}(B,B.l_desc.max_code+1,B.d_desc.max_code+1,Z+1),Ae(B,B.dyn_ltree,B.dyn_dtree)),ye(B),$&&ge(B)},a._tr_tally=function(B,z,J){return B.pending_buf[B.d_buf+2*B.last_lit]=z>>>8&255,B.pending_buf[B.d_buf+2*B.last_lit+1]=255&z,B.pending_buf[B.l_buf+B.last_lit]=255&J,B.last_lit++,z===0?B.dyn_ltree[2*J]++:(B.matches++,z--,B.dyn_ltree[2*(v[J]+h+1)]++,B.dyn_dtree[2*K(z)]++),B.last_lit===B.lit_bufsize-1},a._tr_align=function(B){ie(B,2,3),oe(B,w,j),function(z){z.bi_valid===16?(ce(z,z.bi_buf),z.bi_buf=0,z.bi_valid=0):8<=z.bi_valid&&(z.pending_buf[z.pending++]=255&z.bi_buf,z.bi_buf>>=8,z.bi_valid-=8)}(B)}},{"../utils/common":41}],53:[function(n,r,a){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,a){(function(i){(function(s,l){if(!s.setImmediate){var c,d,u,h,m=1,p={},A=!1,g=s.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(s);b=b&&b.setTimeout?b:s,c={}.toString.call(s.process)==="[object process]"?function(S){process.nextTick(function(){y(S)})}:function(){if(s.postMessage&&!s.importScripts){var S=!0,k=s.onmessage;return s.onmessage=function(){S=!1},s.postMessage("","*"),s.onmessage=k,S}}()?(h="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",w,!1):s.attachEvent("onmessage",w),function(S){s.postMessage(h+S,"*")}):s.MessageChannel?((u=new MessageChannel).port1.onmessage=function(S){y(S.data)},function(S){u.port2.postMessage(S)}):g&&"onreadystatechange"in g.createElement("script")?(d=g.documentElement,function(S){var k=g.createElement("script");k.onreadystatechange=function(){y(S),k.onreadystatechange=null,d.removeChild(k),k=null},d.appendChild(k)}):function(S){setTimeout(y,0,S)},b.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var k=new Array(arguments.length-1),P=0;P<k.length;P++)k[P]=arguments[P+1];var E={callback:S,args:k};return p[m]=E,c(m),m++},b.clearImmediate=x}function x(S){delete p[S]}function y(S){if(A)setTimeout(y,0,S);else{var k=p[S];if(k){A=!0;try{(function(P){var E=P.callback,N=P.args;switch(N.length){case 0:E();break;case 1:E(N[0]);break;case 2:E(N[0],N[1]);break;case 3:E(N[0],N[1],N[2]);break;default:E.apply(l,N)}})(k)}finally{x(S),A=!1}}}}function w(S){S.source===s&&typeof S.data=="string"&&S.data.indexOf(h)===0&&y(+S.data.slice(h.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(gI);var E8=gI.exports;const AI=S0(E8);function Rr(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{d(r.next(u))}catch(h){s(h)}}function c(u){try{d(r.throw(u))}catch(h){s(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((r=r.apply(t,[])).next())})}const Je=914400,$u=12700,Dn=`\r
`,N8=2147483649,Ig=/^[0-9a-fA-F]{6}$/,T8=1.67,S8=27,Wo={type:"solid",color:"666666",pt:1},xI=[.05,.1,.05,.1],$o={color:"363636",pt:1},Qs={color:"888888",style:"solid",size:1,cap:"flat"},vr="000000",Qr=12,I8=18,qo="LAYOUT_16x9",v0="DEFAULT",yI="333333",Ss={type:"outer",blur:3,offset:23e3/12700,angle:90,color:"000000",opacity:.35,rotateWithShape:!0},mu=[.5,.5,.5,.5],M_={color:"000000"},k8={size:8,color:"FFFFFF",opacity:.75},Ua="2094734552",hf="2094734553",td="2094734554",b0="2094734555",vI="2094734556",Bc="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),nd=["C0504D","4F81BD","9BBB59","8064A2","4BACC6","F79646","628FC6","C86360","C0504D","4F81BD","9BBB59","8064A2","4BACC6","F79646","628FC6","C86360"],D8=["5DA5DA","FAA43A","60BD68","F17CB0","B2912F","B276B2","DECF3F","F15854","A7A7A7","5DA5DA","FAA43A","60BD68","F17CB0","B2912F","B276B2","DECF3F","F15854","A7A7A7"];var pl;(function(t){t.left="left",t.center="center",t.right="right",t.justify="justify"})(pl||(pl={}));var ml;(function(t){t.b="b",t.ctr="ctr",t.t="t"})(ml||(ml={}));const bI="{F7021451-1387-4CA6-816F-3879F97B5CBC}";var w0;(function(t){t.arraybuffer="arraybuffer",t.base64="base64",t.binarystring="binarystring",t.blob="blob",t.nodebuffer="nodebuffer",t.uint8array="uint8array"})(w0||(w0={}));var _0;(function(t){t.area="area",t.bar="bar",t.bar3d="bar3D",t.bubble="bubble",t.bubble3d="bubble3D",t.doughnut="doughnut",t.line="line",t.pie="pie",t.radar="radar",t.scatter="scatter"})(_0||(_0={}));var C0;(function(t){t.accentBorderCallout1="accentBorderCallout1",t.accentBorderCallout2="accentBorderCallout2",t.accentBorderCallout3="accentBorderCallout3",t.accentCallout1="accentCallout1",t.accentCallout2="accentCallout2",t.accentCallout3="accentCallout3",t.actionButtonBackPrevious="actionButtonBackPrevious",t.actionButtonBeginning="actionButtonBeginning",t.actionButtonBlank="actionButtonBlank",t.actionButtonDocument="actionButtonDocument",t.actionButtonEnd="actionButtonEnd",t.actionButtonForwardNext="actionButtonForwardNext",t.actionButtonHelp="actionButtonHelp",t.actionButtonHome="actionButtonHome",t.actionButtonInformation="actionButtonInformation",t.actionButtonMovie="actionButtonMovie",t.actionButtonReturn="actionButtonReturn",t.actionButtonSound="actionButtonSound",t.arc="arc",t.bentArrow="bentArrow",t.bentUpArrow="bentUpArrow",t.bevel="bevel",t.blockArc="blockArc",t.borderCallout1="borderCallout1",t.borderCallout2="borderCallout2",t.borderCallout3="borderCallout3",t.bracePair="bracePair",t.bracketPair="bracketPair",t.callout1="callout1",t.callout2="callout2",t.callout3="callout3",t.can="can",t.chartPlus="chartPlus",t.chartStar="chartStar",t.chartX="chartX",t.chevron="chevron",t.chord="chord",t.circularArrow="circularArrow",t.cloud="cloud",t.cloudCallout="cloudCallout",t.corner="corner",t.cornerTabs="cornerTabs",t.cube="cube",t.curvedDownArrow="curvedDownArrow",t.curvedLeftArrow="curvedLeftArrow",t.curvedRightArrow="curvedRightArrow",t.curvedUpArrow="curvedUpArrow",t.custGeom="custGeom",t.decagon="decagon",t.diagStripe="diagStripe",t.diamond="diamond",t.dodecagon="dodecagon",t.donut="donut",t.doubleWave="doubleWave",t.downArrow="downArrow",t.downArrowCallout="downArrowCallout",t.ellipse="ellipse",t.ellipseRibbon="ellipseRibbon",t.ellipseRibbon2="ellipseRibbon2",t.flowChartAlternateProcess="flowChartAlternateProcess",t.flowChartCollate="flowChartCollate",t.flowChartConnector="flowChartConnector",t.flowChartDecision="flowChartDecision",t.flowChartDelay="flowChartDelay",t.flowChartDisplay="flowChartDisplay",t.flowChartDocument="flowChartDocument",t.flowChartExtract="flowChartExtract",t.flowChartInputOutput="flowChartInputOutput",t.flowChartInternalStorage="flowChartInternalStorage",t.flowChartMagneticDisk="flowChartMagneticDisk",t.flowChartMagneticDrum="flowChartMagneticDrum",t.flowChartMagneticTape="flowChartMagneticTape",t.flowChartManualInput="flowChartManualInput",t.flowChartManualOperation="flowChartManualOperation",t.flowChartMerge="flowChartMerge",t.flowChartMultidocument="flowChartMultidocument",t.flowChartOfflineStorage="flowChartOfflineStorage",t.flowChartOffpageConnector="flowChartOffpageConnector",t.flowChartOnlineStorage="flowChartOnlineStorage",t.flowChartOr="flowChartOr",t.flowChartPredefinedProcess="flowChartPredefinedProcess",t.flowChartPreparation="flowChartPreparation",t.flowChartProcess="flowChartProcess",t.flowChartPunchedCard="flowChartPunchedCard",t.flowChartPunchedTape="flowChartPunchedTape",t.flowChartSort="flowChartSort",t.flowChartSummingJunction="flowChartSummingJunction",t.flowChartTerminator="flowChartTerminator",t.folderCorner="folderCorner",t.frame="frame",t.funnel="funnel",t.gear6="gear6",t.gear9="gear9",t.halfFrame="halfFrame",t.heart="heart",t.heptagon="heptagon",t.hexagon="hexagon",t.homePlate="homePlate",t.horizontalScroll="horizontalScroll",t.irregularSeal1="irregularSeal1",t.irregularSeal2="irregularSeal2",t.leftArrow="leftArrow",t.leftArrowCallout="leftArrowCallout",t.leftBrace="leftBrace",t.leftBracket="leftBracket",t.leftCircularArrow="leftCircularArrow",t.leftRightArrow="leftRightArrow",t.leftRightArrowCallout="leftRightArrowCallout",t.leftRightCircularArrow="leftRightCircularArrow",t.leftRightRibbon="leftRightRibbon",t.leftRightUpArrow="leftRightUpArrow",t.leftUpArrow="leftUpArrow",t.lightningBolt="lightningBolt",t.line="line",t.lineInv="lineInv",t.mathDivide="mathDivide",t.mathEqual="mathEqual",t.mathMinus="mathMinus",t.mathMultiply="mathMultiply",t.mathNotEqual="mathNotEqual",t.mathPlus="mathPlus",t.moon="moon",t.noSmoking="noSmoking",t.nonIsoscelesTrapezoid="nonIsoscelesTrapezoid",t.notchedRightArrow="notchedRightArrow",t.octagon="octagon",t.parallelogram="parallelogram",t.pentagon="pentagon",t.pie="pie",t.pieWedge="pieWedge",t.plaque="plaque",t.plaqueTabs="plaqueTabs",t.plus="plus",t.quadArrow="quadArrow",t.quadArrowCallout="quadArrowCallout",t.rect="rect",t.ribbon="ribbon",t.ribbon2="ribbon2",t.rightArrow="rightArrow",t.rightArrowCallout="rightArrowCallout",t.rightBrace="rightBrace",t.rightBracket="rightBracket",t.round1Rect="round1Rect",t.round2DiagRect="round2DiagRect",t.round2SameRect="round2SameRect",t.roundRect="roundRect",t.rtTriangle="rtTriangle",t.smileyFace="smileyFace",t.snip1Rect="snip1Rect",t.snip2DiagRect="snip2DiagRect",t.snip2SameRect="snip2SameRect",t.snipRoundRect="snipRoundRect",t.squareTabs="squareTabs",t.star10="star10",t.star12="star12",t.star16="star16",t.star24="star24",t.star32="star32",t.star4="star4",t.star5="star5",t.star6="star6",t.star7="star7",t.star8="star8",t.stripedRightArrow="stripedRightArrow",t.sun="sun",t.swooshArrow="swooshArrow",t.teardrop="teardrop",t.trapezoid="trapezoid",t.triangle="triangle",t.upArrow="upArrow",t.upArrowCallout="upArrowCallout",t.upDownArrow="upDownArrow",t.upDownArrowCallout="upDownArrowCallout",t.uturnArrow="uturnArrow",t.verticalScroll="verticalScroll",t.wave="wave",t.wedgeEllipseCallout="wedgeEllipseCallout",t.wedgeRectCallout="wedgeRectCallout",t.wedgeRoundRectCallout="wedgeRoundRectCallout"})(C0||(C0={}));var kr;(function(t){t.text1="tx1",t.text2="tx2",t.background1="bg1",t.background2="bg2",t.accent1="accent1",t.accent2="accent2",t.accent3="accent3",t.accent4="accent4",t.accent5="accent5",t.accent6="accent6"})(kr||(kr={}));var E0;(function(t){t.left="left",t.center="center",t.right="right",t.justify="justify"})(E0||(E0={}));var N0;(function(t){t.top="top",t.middle="middle",t.bottom="bottom"})(N0||(N0={}));var fs;(function(t){t.ACTION_BUTTON_BACK_OR_PREVIOUS="actionButtonBackPrevious",t.ACTION_BUTTON_BEGINNING="actionButtonBeginning",t.ACTION_BUTTON_CUSTOM="actionButtonBlank",t.ACTION_BUTTON_DOCUMENT="actionButtonDocument",t.ACTION_BUTTON_END="actionButtonEnd",t.ACTION_BUTTON_FORWARD_OR_NEXT="actionButtonForwardNext",t.ACTION_BUTTON_HELP="actionButtonHelp",t.ACTION_BUTTON_HOME="actionButtonHome",t.ACTION_BUTTON_INFORMATION="actionButtonInformation",t.ACTION_BUTTON_MOVIE="actionButtonMovie",t.ACTION_BUTTON_RETURN="actionButtonReturn",t.ACTION_BUTTON_SOUND="actionButtonSound",t.ARC="arc",t.BALLOON="wedgeRoundRectCallout",t.BENT_ARROW="bentArrow",t.BENT_UP_ARROW="bentUpArrow",t.BEVEL="bevel",t.BLOCK_ARC="blockArc",t.CAN="can",t.CHART_PLUS="chartPlus",t.CHART_STAR="chartStar",t.CHART_X="chartX",t.CHEVRON="chevron",t.CHORD="chord",t.CIRCULAR_ARROW="circularArrow",t.CLOUD="cloud",t.CLOUD_CALLOUT="cloudCallout",t.CORNER="corner",t.CORNER_TABS="cornerTabs",t.CROSS="plus",t.CUBE="cube",t.CURVED_DOWN_ARROW="curvedDownArrow",t.CURVED_DOWN_RIBBON="ellipseRibbon",t.CURVED_LEFT_ARROW="curvedLeftArrow",t.CURVED_RIGHT_ARROW="curvedRightArrow",t.CURVED_UP_ARROW="curvedUpArrow",t.CURVED_UP_RIBBON="ellipseRibbon2",t.CUSTOM_GEOMETRY="custGeom",t.DECAGON="decagon",t.DIAGONAL_STRIPE="diagStripe",t.DIAMOND="diamond",t.DODECAGON="dodecagon",t.DONUT="donut",t.DOUBLE_BRACE="bracePair",t.DOUBLE_BRACKET="bracketPair",t.DOUBLE_WAVE="doubleWave",t.DOWN_ARROW="downArrow",t.DOWN_ARROW_CALLOUT="downArrowCallout",t.DOWN_RIBBON="ribbon",t.EXPLOSION1="irregularSeal1",t.EXPLOSION2="irregularSeal2",t.FLOWCHART_ALTERNATE_PROCESS="flowChartAlternateProcess",t.FLOWCHART_CARD="flowChartPunchedCard",t.FLOWCHART_COLLATE="flowChartCollate",t.FLOWCHART_CONNECTOR="flowChartConnector",t.FLOWCHART_DATA="flowChartInputOutput",t.FLOWCHART_DECISION="flowChartDecision",t.FLOWCHART_DELAY="flowChartDelay",t.FLOWCHART_DIRECT_ACCESS_STORAGE="flowChartMagneticDrum",t.FLOWCHART_DISPLAY="flowChartDisplay",t.FLOWCHART_DOCUMENT="flowChartDocument",t.FLOWCHART_EXTRACT="flowChartExtract",t.FLOWCHART_INTERNAL_STORAGE="flowChartInternalStorage",t.FLOWCHART_MAGNETIC_DISK="flowChartMagneticDisk",t.FLOWCHART_MANUAL_INPUT="flowChartManualInput",t.FLOWCHART_MANUAL_OPERATION="flowChartManualOperation",t.FLOWCHART_MERGE="flowChartMerge",t.FLOWCHART_MULTIDOCUMENT="flowChartMultidocument",t.FLOWCHART_OFFLINE_STORAGE="flowChartOfflineStorage",t.FLOWCHART_OFFPAGE_CONNECTOR="flowChartOffpageConnector",t.FLOWCHART_OR="flowChartOr",t.FLOWCHART_PREDEFINED_PROCESS="flowChartPredefinedProcess",t.FLOWCHART_PREPARATION="flowChartPreparation",t.FLOWCHART_PROCESS="flowChartProcess",t.FLOWCHART_PUNCHED_TAPE="flowChartPunchedTape",t.FLOWCHART_SEQUENTIAL_ACCESS_STORAGE="flowChartMagneticTape",t.FLOWCHART_SORT="flowChartSort",t.FLOWCHART_STORED_DATA="flowChartOnlineStorage",t.FLOWCHART_SUMMING_JUNCTION="flowChartSummingJunction",t.FLOWCHART_TERMINATOR="flowChartTerminator",t.FOLDED_CORNER="folderCorner",t.FRAME="frame",t.FUNNEL="funnel",t.GEAR_6="gear6",t.GEAR_9="gear9",t.HALF_FRAME="halfFrame",t.HEART="heart",t.HEPTAGON="heptagon",t.HEXAGON="hexagon",t.HORIZONTAL_SCROLL="horizontalScroll",t.ISOSCELES_TRIANGLE="triangle",t.LEFT_ARROW="leftArrow",t.LEFT_ARROW_CALLOUT="leftArrowCallout",t.LEFT_BRACE="leftBrace",t.LEFT_BRACKET="leftBracket",t.LEFT_CIRCULAR_ARROW="leftCircularArrow",t.LEFT_RIGHT_ARROW="leftRightArrow",t.LEFT_RIGHT_ARROW_CALLOUT="leftRightArrowCallout",t.LEFT_RIGHT_CIRCULAR_ARROW="leftRightCircularArrow",t.LEFT_RIGHT_RIBBON="leftRightRibbon",t.LEFT_RIGHT_UP_ARROW="leftRightUpArrow",t.LEFT_UP_ARROW="leftUpArrow",t.LIGHTNING_BOLT="lightningBolt",t.LINE_CALLOUT_1="borderCallout1",t.LINE_CALLOUT_1_ACCENT_BAR="accentCallout1",t.LINE_CALLOUT_1_BORDER_AND_ACCENT_BAR="accentBorderCallout1",t.LINE_CALLOUT_1_NO_BORDER="callout1",t.LINE_CALLOUT_2="borderCallout2",t.LINE_CALLOUT_2_ACCENT_BAR="accentCallout2",t.LINE_CALLOUT_2_BORDER_AND_ACCENT_BAR="accentBorderCallout2",t.LINE_CALLOUT_2_NO_BORDER="callout2",t.LINE_CALLOUT_3="borderCallout3",t.LINE_CALLOUT_3_ACCENT_BAR="accentCallout3",t.LINE_CALLOUT_3_BORDER_AND_ACCENT_BAR="accentBorderCallout3",t.LINE_CALLOUT_3_NO_BORDER="callout3",t.LINE_CALLOUT_4="borderCallout4",t.LINE_CALLOUT_4_ACCENT_BAR="accentCallout3=4",t.LINE_CALLOUT_4_BORDER_AND_ACCENT_BAR="accentBorderCallout4",t.LINE_CALLOUT_4_NO_BORDER="callout4",t.LINE="line",t.LINE_INVERSE="lineInv",t.MATH_DIVIDE="mathDivide",t.MATH_EQUAL="mathEqual",t.MATH_MINUS="mathMinus",t.MATH_MULTIPLY="mathMultiply",t.MATH_NOT_EQUAL="mathNotEqual",t.MATH_PLUS="mathPlus",t.MOON="moon",t.NON_ISOSCELES_TRAPEZOID="nonIsoscelesTrapezoid",t.NOTCHED_RIGHT_ARROW="notchedRightArrow",t.NO_SYMBOL="noSmoking",t.OCTAGON="octagon",t.OVAL="ellipse",t.OVAL_CALLOUT="wedgeEllipseCallout",t.PARALLELOGRAM="parallelogram",t.PENTAGON="homePlate",t.PIE="pie",t.PIE_WEDGE="pieWedge",t.PLAQUE="plaque",t.PLAQUE_TABS="plaqueTabs",t.QUAD_ARROW="quadArrow",t.QUAD_ARROW_CALLOUT="quadArrowCallout",t.RECTANGLE="rect",t.RECTANGULAR_CALLOUT="wedgeRectCallout",t.REGULAR_PENTAGON="pentagon",t.RIGHT_ARROW="rightArrow",t.RIGHT_ARROW_CALLOUT="rightArrowCallout",t.RIGHT_BRACE="rightBrace",t.RIGHT_BRACKET="rightBracket",t.RIGHT_TRIANGLE="rtTriangle",t.ROUNDED_RECTANGLE="roundRect",t.ROUNDED_RECTANGULAR_CALLOUT="wedgeRoundRectCallout",t.ROUND_1_RECTANGLE="round1Rect",t.ROUND_2_DIAG_RECTANGLE="round2DiagRect",t.ROUND_2_SAME_RECTANGLE="round2SameRect",t.SMILEY_FACE="smileyFace",t.SNIP_1_RECTANGLE="snip1Rect",t.SNIP_2_DIAG_RECTANGLE="snip2DiagRect",t.SNIP_2_SAME_RECTANGLE="snip2SameRect",t.SNIP_ROUND_RECTANGLE="snipRoundRect",t.SQUARE_TABS="squareTabs",t.STAR_10_POINT="star10",t.STAR_12_POINT="star12",t.STAR_16_POINT="star16",t.STAR_24_POINT="star24",t.STAR_32_POINT="star32",t.STAR_4_POINT="star4",t.STAR_5_POINT="star5",t.STAR_6_POINT="star6",t.STAR_7_POINT="star7",t.STAR_8_POINT="star8",t.STRIPED_RIGHT_ARROW="stripedRightArrow",t.SUN="sun",t.SWOOSH_ARROW="swooshArrow",t.TEAR="teardrop",t.TRAPEZOID="trapezoid",t.UP_ARROW="upArrow",t.UP_ARROW_CALLOUT="upArrowCallout",t.UP_DOWN_ARROW="upDownArrow",t.UP_DOWN_ARROW_CALLOUT="upDownArrowCallout",t.UP_RIBBON="ribbon2",t.U_TURN_ARROW="uturnArrow",t.VERTICAL_SCROLL="verticalScroll",t.WAVE="wave"})(fs||(fs={}));var be;(function(t){t.AREA="area",t.BAR="bar",t.BAR3D="bar3D",t.BUBBLE="bubble",t.BUBBLE3D="bubble3D",t.DOUGHNUT="doughnut",t.LINE="line",t.PIE="pie",t.RADAR="radar",t.SCATTER="scatter"})(be||(be={}));var Np;(function(t){t.TEXT1="tx1",t.TEXT2="tx2",t.BACKGROUND1="bg1",t.BACKGROUND2="bg2",t.ACCENT1="accent1",t.ACCENT2="accent2",t.ACCENT3="accent3",t.ACCENT4="accent4",t.ACCENT5="accent5",t.ACCENT6="accent6"})(Np||(Np={}));var Pi;(function(t){t.chart="chart",t.image="image",t.line="line",t.rect="rect",t.text="text",t.placeholder="placeholder"})(Pi||(Pi={}));var Ke;(function(t){t.chart="chart",t.hyperlink="hyperlink",t.image="image",t.media="media",t.online="online",t.placeholder="placeholder",t.table="table",t.tablecell="tablecell",t.text="text",t.notes="notes"})(Ke||(Ke={}));var Id;(function(t){t.title="title",t.body="body",t.image="pic",t.chart="chart",t.table="tbl",t.media="media"})(Id||(Id={}));var gl;(function(t){t.DEFAULT="&#x2022;",t.CHECK="&#x2713;",t.STAR="&#x2605;",t.TRIANGLE="&#x25B6;"})(gl||(gl={}));const Al="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAB3CAYAAAD1oOVhAAAGAUlEQVR4Xu2dT0xcRRzHf7tAYSsc0EBSIq2xEg8mtTGebVzEqOVIolz0siRE4gGTStqKwdpWsXoyGhMuyAVJOHBgqyvLNgonDkabeCBYW/8kTUr0wsJC+Wfm0bfuvn37Znbem9mR9303mJnf/Pb7ed95M7PDI5JIJPYJV5EC7e3t1N/fT62trdqViQCIu+bVgpIHEo/Hqbe3V/sdYVKHyWSSZmZm8ilVA0oeyNjYmEnaVC2Xvr6+qg5fAOJAz4DU1dURGzFSqZRVqtMpAFIGyMjICC0vL9PExIRWKADiAYTNshYWFrRCARAOEFZcCKWtrY0GBgaUTYkBRACIE4rKZwqACALR5RQAqQCIDqcASIVAVDsFQCSAqHQKgEgCUeUUAPEBRIVTAMQnEBvK5OQkbW9vk991CoAEAMQJxc86BUACAhKUUwAkQCBBOAVAAgbi1ykAogCIH6cAiCIgsk4BEIVAZJwCIIqBVLqiBxANQFgXS0tLND4+zl08AogmIG5OSSQS1gGKwgtANAIRcQqAaAbCe6YASBWA2E6xDyeyDUl7+AKQMkDYYevm5mZHabA/Li4uUiaTsYLau8QA4gLE/hU7wajyYtv1hReDAiAOxQcHBymbzark4BkbQKom/X8dp9Npmpqasn4BIAYAYSnYp+4BBEAMUcCwNOCQsAKZnp62NtQOw8WmwT09PUo+ijaHsOMx7GppaaH6+nolH0Z10K2tLVpdXbW6UfV3mNqBdHd3U1NTk2rtlMRfW1uj2dlZAFGirkRQAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAGHqrm8caPzQ0WC1logbeiC7X3xJm0PvUmRzh45cuki1588FAmVn9BO6P3yF9utrqGH0MtW82S8UN9RA9v/4k7InjhcJFTs/TLVXLwmJV67S7vD7tHF5pKi46fYdosdOcOOGG8j1OcqefbFEJD9Q3GCwDhqT31HklS4A8VRgfYM2Op6k3bt/BQJl58J7lPvwg5JYNccepaMry0LPqFA7hCm39+NNyp2J0172b19QysGINj5CsRtpij57musOViH0QPJQXn6J9u7dlYJSFkbrMYolrwvDAJAC+WWdEpQz7FTgECeUCpzi6YxvvqXoM6eEhqnCSgDikEzUKUE7Aw7xuHctKB5OYU3dZlNR9syQdAaAcAYTC0pXF+39c09o2Ik+3EqxVKqiB7hbYAxZkk4pbBaEM+AQofv+wTrFwylBOQNABIGwavdfe4O2pg5elO+86l99nY58/VUF0byrYsjiSFluNlXYrOHcBar7+EogUADEQ0YRGHbzoKAASBkg2+9cpM1rV0tK2QOcXW7bLEFAARAXIF4w2DrDWoeUWaf4hQIgDiA8GPZ2iNfi0Q8UACkAIgrDbrJ385eDxaPLLrEsFAB5oG6lMPJQPLZZZKAACBGVhcG2Q+bmuLu2nk55e4jqPv1IeEoceiBeX7s2zCa5MAqdstl91vfXwaEGsv/rb5TtOFk6tWXOuJGh6KmnhO9sayrMninPx103JBtXblHkice58cINZP4Hyr5wpkgkdiChEmc4FWazLzenNKa/p0jncwDiqcD6BuWePk07t1asatZGoYQzSqA4nFJ7soNiP/+EUyfc25GI2GG53dHPrKo1g/1Cw4pIXLrzO+1c+/wg7tBbFDle/EbQcjFCPWQJCau5EoBoFpzXHYDwFNJcDiCaBed1ByA8hTSXA4hmwXndAQhPIc3lAKJZcF53AMJTSHM5gGgWnNcdgPAU0lwOIJoF53UHIDyFNJcfSiCdnZ0Ui8U0SxlMd7lcjubn561gh+Y1scFIU/0o/3sgeLO12E2k7UXKYumgFoAYdg8ACIAYpoBh6cAhAGKYAoalA4cAiGEKGJYOHAIghilgWDpwCIAYpoBh6cAhAGKYAoalA4cAiGEKGJYOHAIghilgWDpwCIAYpoBh6ZQ4JB6PKzviYthnNy4d9h+1M5mMlVckkUjsG5dhiBMCEMPg/wuOfrZZ/RSywQAAAABJRU5ErkJggg==",R8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB4AAAAVnCAYAAACzfHDVAAAAYHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjaVcjJDYAwDEXBu6ughBfH+YnLQSwSHVA+Yrkwx7HtPHabHuEWrQ+lBBAZ6TMweBWoCwUH8quZH6VWFXVT696zxp12ARkVFEqn8wB8AAAACXBIWXMAAC4jAAAuIwF4pT92AADZLklEQVR42uzdd5hV9Z0/8M+dmcsUZmDovYOhKCiKYhR7JJuoSTCWGFI0WUxijBoTTXazVlyza4maYm9rTRSJigVsqCDNQhHBAogKCEgRMjMMU+7vj93sL8kqClLmnPt6PY+PeXZM9vP9vO8jZ+Y955xMfJLjorBrRMuSgmiViyjN1Ee2oSCyucbIBAAAAAAAAADbXaYgcoWNUZcrirpMbdRsysa69wbF+rggGrf439vSF7seF12aFUTnxvoosGIAAAAAAACAXacgoqEgF++/VRgr4r5o+Kh/pvD//F8uiII+LaPrum/EXzqui2b1ddHGKgEAAAAAAAB2rVxEQWMmWrQtjHZlA6N2w2tR84//zP8pgHu3ib6NBdG+zdqorK6KVUXZaB85j3sGAAAAAAAAaAoaG6OwIBdtyneP2PBabPzbr/1dAdx3VHRtyESHiIhcYzQrLo7WmVzkcjmPgAYAAAAAAABoSgpy0eIfS+D/LYD7fy3abC6Inn/7X2hsjELlLwAAAAAAAEDT9D8lcM1fHwddFBFxyAVR9M686PVp/gfqayKiJiLqLBMAAAAAAABgh8hGRGlEUekn/6PFEb3ikNgQk6O+KCJi6dzoksv83/cB/1X9xoiaJdmoWxlRV1dk2QAAAAAAAAA7QTZbH9muERX96v7n9t7/q6Exinq3i86LI94pjOOisHUu+uYykfmof7h+Y8Sa6aVRt74gGhs9DRoAAAAAAABgZ2lsLIi69QWxeUUmSjs0/vedwR8hk4uydSfE+wVd6qOyMfMx7/mtj9jwUtbjngEAAAAAAAB2obrqolg7IxtR/9Ffb4wo7P5GtCwobRaVH/c/UvNmNuqqPfIZAAAAAAAAYFerqy6KmjezH/v1ktpoVZBr/PgCeMN7yl8AAAAAAACApmJLHW5jUVQWNDSP+Q3ZeLco4i9/+8X6teHRzwAAAAAAAABNSd3/dLn/oLAoqqIuVhXFxhhSGB/xqGjlLwAAAAAAAECTU1eTjaK/KXSLIv7SWB+bc5ko9YxnAAAAAAAAgATJFv393bz1EeV//c8F1gMAAAAAAACQDgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKREkRUAAACwrUpLSwuGDRvWfMCAAS26du3avKysrLiioqKkZcuWzZs1a1bcvHnz0tLS0rJsNtusuLi4ebNmzUoLCgo+8/eijY2N9Zs3b66pra2tqqur21xTU1NdVVVVs2nTptqNGzdWbdiwoeYvf/nL5hUrVlQtWLBgw6xZs6pqamoaJQYAAEDaKYABAACIiIghQ4aUHnTQQW379u3bql27dq3at2/fpkWLFq2bN29eWVpa2qpZs2bNCwsLm2ez2fLCwsLyoqKi8sLCwtKknK+hoaG6vr6+qqGh4S91dXV/aWhoqNq8eXNVTU3NuqqqqvUbNmxYu2rVqjWrV69e99Zbb6177rnnPpgzZ06NTwYAAABJogAGAADIA8OGDWt+xBFHdBwwYECnLl26dGjdunXHFi1adCgtLe1YUlLSvlmzZq0KCgqK07yDwsLCssLCwrKIaPdp/zuNjY21mzdvXrdp06ZVNTU172/YsGHl2rVr31+2bNnKBQsWrHjyySffnzVrVpVPGAAAAE1Fpuexsd9HfaF+ZcSal0ptCAAAIAE6deqUPf744zvtueeeXbp3796lbdu2XSorKzuXlpZ2KS0t7VBYWFhhSztGQ0PDxpqampU1NTXL169fv+yDDz5Y9s477yybPXv2sj/96U8rVqxYUWdLAAAAbE9t9q6Jog4f/TUFMAAAQEJks9nMt7/97Y4jRozo1bdv397t2rXrXl5e3rWsrKxzcXFx+4gosKUmp7G2tnZVTU3Nso0bNy5btWrV0tdff/2tJ598cvG999672noAAADYFgpgAACAhPne977X6a9Fb/v27Xu1bNmyV1lZWa8kvXOXLauvr9/wl7/8ZdG6desWL1u2bNHChQsX/fGPf1w8derUjbYDAADAliiAAQAAmqhsNps59dRTuxx66KH9+/Tp87n27dv3Ly8v719UVOSRzXlq06ZNKzZu3Pj6+++//8abb775xqOPPvrG3XffvcpmAAAA+CsFMAAAQBNx6qmndvniF784qHfv3v3btWv3uYqKis8VFhaW2wxbUl9fv37Dhg1vfPDBB68vXrz4jccee2z+jTfeuNxmAAAA8pMCGAAAYBc45phjWn/rW9/aq3///kPatGnTv6Kiop9HOLO9NDQ0VG/cuPGtNWvWLFy4cOGcO+6445WHHnporc0AAACknwIYAABgJzjjjDO6f+lLX9qrV69eg1u3bj2orKysR0RkbIadJFddXb103bp18xcvXjz30UcffeXqq69+x1oAAADSRwEMAACwnZWWlhb86le/2u3QQw8d1r17931btmw5qLCwsMxmaEoaGhqqP/zww/nvvPPOzGeeeWbW2LFj36ipqWm0GQAAgGRTAAMAAGwHP/7xj7t+9atf3bdXr15D27Ztu1c2m21jKyRJXV3dmg8++OCVRYsWvfznP/95xh/+8IdltgIAAJA8CmAAAIBtcOKJJ7Y75ZRTDujXr9+w1q1bD81ms61shTSpq6tbt3bt2pfffPPNWbfccsvUe++9d7WtAAAANH0KYAAAgE+hoqKi4IILLhg0YsSI/bp27bpfy5YtB2YymUKbIR/kcrmGDz/8cP6777474/nnn59x4YUXvrZx40aPiwYAAGiCFMAAAAAf4/jjj2/7/e9//8D+/fsf2Lp1630KCgpKbAUiGhsbN61fv37eW2+9NeWGG2545u67715lKwAAAE2DAhgAAOB/ZLPZzAUXXPC5I4888sDu3bsfWFFRsVtEFNgMbFl1dfWSd999d8qsWbNmnnvuuS+vW7euwVYAAAB2DQUwAACQ10pLSwsuvfTSQYcccsjBXbt2HVFWVtbDVmDb1dbWrnr//fdfmDp16uRf/vKXL65evbreVgAAAHYeBTAAAJB3Bg0aVHrBBRd8fs899zywQ4cOBxQVFbWwFdj+Ghsba9euXTtrzpw5T59//vmTX3755WpbAQAA2LEUwAAAQF4YNmxY8/POO+/gIUOGHOZ9vrDz/W0ZfNFFFz07a9asKlsBAADY/hTAAABAarVq1arwyiuv3HfEiBEjO3TocFBhYWGZrcCu19DQUP3+++8/O2XKlIk/+clPZm7cuLHRVgAAALYPBTAAAJAqrVq1Kvztb3+7/3777Xd4x44dRxQWFpbbCjRdDQ0NG99///0pM2bMeOqHP/zhC8pgAACAz0YBDAAApMJZZ53V45vf/OaRvXr1GllaWtrVRiB5ampq3l28ePHEO++8c9LVV1/9jo0AAABsPQUwAACQWMOHDy+/6KKLvjB48OCjW7RoMdBGID0+/PDDV+fNmzfhvPPOe3L69Ol/sREAAIBPRwEMAAAkSqtWrQpvuOGGQ/bbb79/atOmzX6ZTCZrK5BeuVyubs2aNTNmzJjx2JgxYyavW7euwVYAAAA+ngIYAABIhB//+Mddv/e9732lZ8+e/1RcXNzWRiD/1NbWfvD2228/dssttzz029/+9l0bAQAA+L8UwAAAQJNVUVFRcO21137+4IMPPrZ169b7ZTKZAlsBIqJxzZo1M59//vnxp5122hR3BQMAAPx/CmAAAKDJOeWUUzqefvrpx/bu3ftL2Wy2jY0AH6e+vn7j0qVLH/vd7373x+uvv36ZjQAAAPlOAQwAADQJ2Ww2c+uttx5wyCGHnNC6deu9I8LdvsDWaFy7du1L06ZN+/OPfvSjZ1evXl1vJQAAQD5SAAMAALtU//79S6655pp/2nPPPY8tLy/vayPAZ1VTU7NswYIF488999wHp06dutFGAACAfKIABgAAdomf//znPU855ZQTu3btemRhYWGZjQDbW2NjY92KFSuevOWWW+689NJLF9kIAACQDxTAAADATuMxz8Cusn79+rlPP/30f5188slT6+rqcjYCAACklQIYAADY4fr27Vv8hz/84a+Pee5nI8CuUlNT8+68efPu/8EPfvDgwoULN9kIAACQNgpgAABghxkyZEjpNddc89XBgwefWFxc3MFGgKaitrZ21dy5c+/5yU9+8uc5c+bU2AgAAJAWWyqAPYoNAADYJqNHj+4wb968n06ZMuXRYcOGnaH8BZqa4uLi9sOGDTtjypQpj86bN++nJ510UntbAQAA0s4dwAAAwFY599xze33/+9//dufOnY/IZDJZGwGSIpfL1S1fvvzJG2644fbLLrvsbRsBAACSyiOgAQCAz+y8887r+53vfOfbHTt2PDyTyRTaCJBUuVyuYcWKFU/cdNNN//XrX/96sY0AAABJowAGAAC22WWXXTboG9/4xg9at249zDaAtFm7du2su++++9pzzjnnNdsAAACSQgEMAABsNcUvkE8UwQAAQJIogAEAgE9N8Qvks7Vr18665557rvv5z38+3zYAAICmaksFcGHlwOj6UV9orIqoWZG1PQAAyBO/+MUvet9xxx3nHHrooT8pLS3tYiNAPiotLe2y7777HvP973+/X1lZ2ZIpU6assxUAAKCpKetcHwXlH/01BTAAAOS5M844o/u99957zpe//OWflZeX94qIjK0AeS5TXl7e8+CDDx71/e9/v3dEvDVjxowPrQUAAGgqFMAAAMD/ceKJJ7a77777fjJq1Kh/KS8v7xOKX4B/lCkvL+99+OGHj/rWt77VfvXq1Qvnz59fbS0AAMCutqUC2DuAAQAgzwwdOrTs+uuvP6l///4nFRYWltkI20NjY2Ns2rQpqquro6amJurr62PTpk2xefPmqK+vj+rq6qivr4/NmzfHpk2boqGhYZv/fxUWFkZJSUk0a9YsioqKoqysLIqKiqJZs2ZRUlISRUVFUVpa+r9/FRQUCIjtoqGhoeq11167a8yYMffMmTOnxkYAAIBdZUvvAFYAAwBAnujUqVP2nnvuGbXXXnudnM1mK22Ej9PQ0BAbN26MDRs2/J+/Nm7cGBs3boyamprYtGlTbNq0KWpqaqK2trbJnqe4uDhKSkqitLT0f/9eUVERFRUV0aJFi//zV0VFRRQWFvog8LHq6urWvvjii7eceOKJf169enW9jQAAADubAhgAAPLcXXfdddAXv/jF00tLS7vZRn7L5XKxYcOGWLt2baxbty7Wrl37d3+tW7cuNmzYkPd7atGiRbRu3TpatWoVrVu3jjZt2vzvf27dunW0aNHCh4morq5e+sgjj1zzne98Z6ptAAAAO5MCGAAA8tTVV189+MQTTzyzoqJioG3kj8bGxli5cmUsX748Pvjgg1i9evX//n3t2rXR2NhoSZ9RYWFhtGrVKtq1axdt27b937937tw5OnTo4LHTeWbDhg3z77333qvOPPPMebYBAADsDApgAADIM1/72tfaXHrppad27979qIjQRKVUQ0NDrFq1KlasWBHvv//+//595cqVTfqRzGlXXFwcHTp0iI4dO0bnzp2jY8eO0alTp2jXrp1HS6dYLpdrfOeddx76+c9/fv2ECRPW2QgAALAjKYABACBP9OrVq9ldd931jT322OM7hYWFZTaSHh9++GG88847sXTp0njvvfdixYoVsXr16mhoaLCchCgsLIz27dtHp06dolu3btG9e/fo3r27x0mnTENDQ9W8efNu++Y3v/nHJUuWbLYRAABgR1AAAwBAHrjrrrtG/NM//dOZJSUlXWwj2davXx9Lly6Nd955539L3w8//NBiUqqysvJ/y+C//tWqVSuLSbiamppljz322G9Gjx49xTYAAIDtTQEMAAAp9qtf/arPD3/4w5+1atVqL9tIno0bN8aSJUvirbfeikWLFsV7770XmzZtspg8V1JSEl27do0+ffpE3759o3fv3lFeXm4xCbRu3bqXr7322ivGjh27yDYAAIDtRQEMAAApNGjQoNI77rjju7vttttJBQUFWRtJhtWrV8ebb74ZixcvjiVLlsTy5cujsbHRYtiigoKC6Ny5c/Tu3Tt69+4d/fr1i7Zt21pMQjQ2Nta98cYbd33rW9+6ff78+TU2AgAAfFYKYAAASJHS0tKCBx988Jj99tvvn7PZbBsbaboaGhri7bffjrfeeisWLFgQS5YscXcv201FRUX06tUr+vbtG3379o2ePXtGYWGhxTRhdXV1a2bMmHHjV77ylYdqamr85gcAALDNFMAAAJASp59+erdf/vKX51ZWVu5jG03T6tWr47XXXouFCxfGm2++GRs3brQUdooWLVpE3759Y8CAATFw4EB3CDdh69evf/E//uM//vPqq69+xzYAAIBtoQAGAICEGzRoUOm99977w969ex+byWTc4teErF+/PubNmxcLFiyIN954Q+FLk9GiRYvo169fDBgwIPbYY4+orKy0lCYkl8s1LF68eNyJJ554rcdCAwAAW0sBDAAACXbNNdcMOemkk35RVlbWyzZ2vVwuF++++27MnTs3XnvttViyZIl3+NLkFRQURK9evWLQoEExePDg6Natm6U0EdXV1UvuvvvuX//kJz+ZYxsAAMCnpQAGAIAEOuqoo1r99re//VmHDh0Ot41da9OmTTF79uyYO3duLFy4MKqqqiyFRGvevHn0798/Bg8eHHvuuWeUlJRYyi62cuXKp04//fTLJ0yYsM42AACAT6IABgCAhBk3btwRRxxxxFnZbLaNbewaVVVVMXfu3Jg7d27Mnz8/amtrLYVUKi4ujoEDB8bgwYNj8ODBUV5ebim7SF1d3ZqnnnrqqlGjRj1hGwAAwJYogAEAICFOOeWUjhdddNEvW7duvZ9t7HwrV66MWbNmxdy5c+Odd96JXC5nKeSdzp07x9577x3Dhg2LDh06WMgusHbt2hnnnXfepbfccsv7tgEAAHwUBTAAADRxpaWlBU899dQ3Bw8e/L2CggLPYt2JVqxYES+99FK89NJLsXz5cguBv/HXMnjvvfeOTp06WchO1NjYuGnu3Lk3H3744XfV1NR40TgAAPB3FMAAANCEjR49usOll176yzZt2gy3jZ1j/fr18eKLL8bMmTNj6dKlFgKfQs+ePWPfffeNYcOGRYsWLSxkJ1mzZs0L55577q/vvvvuVbYBAAD8lQIYAACaoIqKioKJEyd+c/Dgwd8vKCgotpEda8OGDfHiiy/G9OnTlb7wGfXo0SOGDx8ew4YNi4qKCgvZwdwNDAAA/CMFMAAANDGnnHJKx7Fjx/5rZWXlMNvYcerr6+PVV1+NGTNmxLx586Kurs5SYDvKZrMxZMiQ2HfffWP33XePwsJCS9mB1q5dO+MXv/jFv995550rbQMAAPKbAhgAAJqIbDabeeKJJ47fZ599fuSu3x0jl8vFwoULY/r06TF79uzYtGmTpcBOUFpaGkOGDInhw4fHgAEDLGQHaWhoqJ42bdo1Rx555J9tAwAA8pcCGAAAmoDjjz++7ZVXXvmr1q1be9fvDrBmzZqYNm1azJw5M1audHMc7EodO3aMz3/+87H//vt7X/CO+3fetDPPPPOScePGfWAbAACQfxTAAACwi9100037HXvssf9WXFzc1ja2n1wuF6+99lo8//zzMW/evKivr7cUaEKKiopizz33jBEjRsTnPve5yGQylrId1dbWrvrjH/948Q9+8INZtgEAAPlFAQwAALvIkCFDSu+///5zunTp8k+2sf2sXbs2Jk+eHNOnT48PP/zQQiABKisrY8SIEXHIIYdEeXm5hWxHy5Yte+zrX//6f86ZM6fGNgAAID9sqQAurBwYXT/qC41VETUrsrYHAADb6IILLtjt97///VVt2rQZZhvbx+LFi2P8+PFx9913xxtvvBG1tbWWAgmxadOmeOONN+LZZ5+NtWvXRps2bTweejtp0aJFv5NOOumg0tLSuc8+++xaGwEAgPQr61wfBR/zu7XuAAYAgO0sm81mJk2a9PVhw4b9pKCgwG9VfkZ1dXUxY8aMeOaZZ+K9996zEEiRfv36xSGHHBJDhw6NgoICC/mMGhsbN8+YMeOaL37xi+Pq6upyNgIAAOnlEdAAALCTHH/88W2vuuqqCyorK/exjc9mzZo18dRTT8XUqVNj06ZNFgIpVlFREZ///OfjsMMOi8rKSgv5jNavXz/r9NNPv3DcuHEf2AYAAKSTAhgAAHaC22677fNf+9rXzstms5W2se0WLVoUjz/+eMybNy9yOTewQT4pKiqKIUOGxBFHHBG9e/e2kM+grq5u3QMPPHDRySefPM02AAAgfRTAAACwA1VUVBQ8/fTTpwwcOPCUTCbjGabbIJfLxauvvhpPPvlkLFy40EIgz2UymRgwYEAcccQRMWjQIAvZ9n+3Ns6fP/+Www8//JaNGzc22ggAAKTHlgrgwsqB0fWjvtBYFVGzwuvKAABgS0488cR2EyZMuLx79+5fzmQyGRvZOo2NjTFr1qy49dZb48knn4wPPvC0UuC/rV69OmbMmBFz5syJ0tLS6NSpU/jX7NbJZDKZ9u3bD/3+978/dPny5TNfffXValsBAIB0KOtcHwXlH/O9gDuAAQBg29x66637H3vssRcWFRW1sI2tU1NTE0899VQ8++yzsWHDBgsBPlGLFi3i4IMPjsMPPzxKS/28YmvV19d/OG7cuPNPPvnk6bYBAADJ5xHQAACwHWWz2cyzzz77rSFDhvzAI5+3zqZNm2Ly5Mnx1FNPKX6BbdKiRYs47LDD4pBDDlEEb6VcLtfwyiuvXHfooYfeWVdX5yXrAACQYApgAADYTo455pjW11133cWVlZV728ant2HDhnj88cdjypQpUVtbayHAZ1ZcXBwHHnhgfPGLX4wWLTyIYWusWbNm2re//e3zn3nmGb+JAwAACeUdwAAAsB1cfvnlu1900UW/LS8v72cbn05VVVVMmDAhbrnllnjzzTejoaHBUoDtoqGhIZYsWRLPPfdc1NTURI8ePSKb9XOMT6OsrKzb17/+9SPbtm0774knnlhtIwAAkMDreu8ABgCAz+bhhx/+8qGHHnpOQUFBsW18sk2bNsUzzzwTTzzxRFRVVVkIsMOVl5fHkUceGYccckgUF/tX9afR2Ni46emnn/71Mccc87htAABAsngENAAAbKN27doVTZ48+YxevXodZxufrK6uLp5++umYOHGi4hfYJSoqKuKLX/xiHHzwwe4I/pQWLVr0x4MOOuiadevWeUwDAAAkhEdAAwDANjj22GPbPvzww7/p2LHjobaxZXV1dfHkk0/GddddF3Pnzo26ujpLAXaJzZs3x2uvvRbPPfdcRET06NEjCgsLLWYLWrduvfv3vve9fd9+++1pCxYsqLYRAABo+rb0CGgFMAAAfITLL7989wsuuOB3zZs372UbH6+xsTGmTJkS119/fbzyyiuKX6DJ2Lx5cyxYsCCmT58excXF0a1bt8hkMhbzMUpKSjp8+ctfPrJt27ZzvBcYAACaPu8ABgCArTB+/Pgjv/CFL/xLQUFBiW18vAULFsT48eNj6dKllgE0eT169IivfOUrMWjQIMvYgsbGxpqJEydecuyxxz5pGwAA0HR5BzAAAHwK7dq1K3ruued+1qNHj6/axsdbtGhR3H///bF48WLLABKnV69ecdxxx0WfPn0sYwuWLl3654MOOujy1atX19sGAAA0Pd4BDAAAn2DYsGHNn3766V936tTpC7bx0TZs2BD33Xdf/PGPf4y1a9daCJBI69evj2nTpsW6deuiZ8+eUVLiYQ8fpbKysv+3v/3t/lOmTJmyfPlyz/cHAIAmxjuAAQBgC372s5/1uP76669t0aKF54J+hJqamhg/fnzcfPPN8fbbb0cul7MUINFyuVy888478cwzz0RVVVX07t07slk/A/lHZWVl3U488cTD6+rqZkyfPv1DGwEAgCZ0va4ABgCAj3bFFVfscdZZZ11dXFzcwTb+Xi6XixkzZsR1110XCxYsiMbGRksBUqWxsTGWLFkSM2bMiPLy8ujSpUtkMhmL+RvZbLbFQQcddHibNm1mP/HEE6ttBAAAmoYtFcDeAQwAQN6aNGnSqAMOOODsTCZTaBt/b9GiRXHPPffEu+++axlA3ujWrVucdNJJ0bt3b8v4B7lcrm7y5Mm//vKXv/yIbQAAwK63pXcAK4ABAMg7paWlBTNnzjyzT58+x9vG39uwYUOMGzcuZsyY4VHPQF7KZDKx3377xde//vWoqKiwkH+waNGiP+27775X1dTUeCwEAADsQgpgAAD4H926dctOnjz5V506dRppG/9fLpeLqVOnxp///OfYuHGjhQB5r6KiIkaNGhX777+/x0L/g+XLlz9+6KGHXvLuu+/W2QYAAOwaWyqAvQMYAIC8MXz48PInnnjiynbt2o2wjf/vnXfeiWuvvTaee+652Lx5s4UARMTmzZtjzpw58dprr0XPnj2jRYsWlvI/Kioq+n7rW98aMnXq1Ofee+89f3AAAMAusKV3ACuAAQDIC9/+9rc73n777X9o0aLFANv4b1VVVXHXXXfFvffeG+vXr7cQgI+wbt26eP7552P9+vWx2267RVFRkaVERElJSefjjjvuoA8++GDKK6+88hcbAQCAnUsBDABAXjv//PP7XXzxxX8oKSnpbBv/bfr06XHttdfGokWLLAPgU3jnnXdi2rRp0bp16+jc2R8nERHZbLbyC1/4whElJSUvTp48eY2NAADAzqMABgAgb/3ud7/b60c/+tFVRUVFrWwjYs2aNXHzzTfHpEmTora21kIAtkJtbW289NJL8c4770Tfvn2jtLQ073dSWFhYNnz48C/26dNn4UMPPbTMpwQAAHYOBTAAAHnp1ltv3f+b3/zmfxYWFjbP913kcrl4/vnn4/rrr4/ly5f7cAB8BitXroxp06ZFRUVFdOvWLTKZTF7vo6CgIDto0KBDBw0atOiBBx54xycEAAB2vC0VwJmex8Z+H/WF+pURa17ym6wAACTTww8//KXDDjvsXzKZTN6/rPGDDz6I22+/Pd544w0fDIDtbMCAAfGtb30r2rRpk/e7yOVyjVOmTPn1yJEjH/LJAACAHavN3jVR1OGjv6YABgAgdV555ZXTPve5z30r3/fQ0NAQjz32WDz++ONRV1fngwGwg2Sz2Tj66KPjC1/4QhQUFOT9Pl5//fU79tprr9/7ZAAAwI6jAAYAIC9ks9nMyy+/fFafPn2Oz/ddvPvuu3HbbbfFe++954MBsJN069YtvvOd70S3bt3yfhdLliy5f5999rmypqam0ScDAAC2PwUwAACpV1paWjBr1qyzevfufVw+7yGXy8WTTz4ZDz74oLt+AXaBbDYbxxxzTBxxxBF5fzfw0qVLHxg6dOjlSmAAANj+FMAAAKRar169mk2ePHlsu3btDsrnPaxcuTJuueWWePvtt30oAHaxnj17ximnnBIdOnTI6z2sXr16yiGHHPIvS5Ys2exTAQAA28+WCuDCyoHR9aO+0FgVUbMia3sAADRpQ4cOLXvqqacub9Omzf75uoNcLhfPPPNMXH/99bF27VofCoAmYP369TFlypQoKSmJnj17RiaTycs9NG/evPtJJ500ZPLkyc+sWLHCoykAAGA7KetcHwXlH/01BTAAAIk1ZMiQ0kceeeSKVq1a7Z2vO6iuro7bb789nnjiiWhs9IRNgKaksbEx5s+fH++//34MGDAgstn8/DlLaWlpp6997WuDn3rqqadXrlxZ75MBAACfnQIYAIDUOfTQQ1s8+OCDv2/ZsuUe+bqDOXPmxNVXX+2RzwBN3PLly+OFF16Ijh075u0joUtLSzudcMIJ+7/00ktPv/3227U+FQAA8NkogAEASJVhw4Y1v++++37TsmXLQfl4/vr6+hg/fnz88Y9/jNpaP0MHSILNmzfHiy++GJs3b47ddtstCgoK8m4HxcXFbY866qg9n3vuuaeXL1/ucdAAAPAZKIABAEiNI488snLcuHG/b9GixcB8PP97770XV111VcyZM8eHASCBFi1aFC+//HL069cvWrRokXfnLykp6XDcccftP2fOnGcWLVq0yScCAAC2jQIYAIBUOPLIIyvvvPPO35aXl++Wj+d/+umn48Ybb4wPP/zQhwEgwf7yl7/ECy+8ECUlJdGrV6+8O3+zZs3aHHXUUfspgQEAYNspgAEASLxjjz227W233faH5s2b98m3s1dVVcXNN98cTz31VDQ2NvowAKRAY2NjzJ8/P5YtWxYDBgyIZs2a5dX5mzVr1uaYY4458M0333xm4cKFNT4RAACwdRTAAAAk2qGHHtritttuuzofy9+33347rrnmmli8eLEPAkAKvf/++/HKK69Enz59orKyMq/Ons1mK4888sh9Zs6c+dTSpUs3+zQAAMCnpwAGACCxjjjiiJb33nvvteXl5f3y6dy5XC4mTZoUN998c1RVVfkgAKRYVVVVTJ06NbLZbPTp0ycymUzenL24uLjtV7/61c+/8sorTy1evLjWpwEAAD4dBTAAAIl06KGHtrj33nt/l2/lb3V1ddx0000xefLkyOVyPggAeSCXy8WCBQvi3Xffjd133z2y2fz5mUyzZs1aH3300fvNmDHjSXcCAwDAp6MABgAgcYYOHVo2fvz4qysqKgbk07mXLVsWV111lUc+A+SplStXxiuvvBKf+9znoqKiIm/O3axZszZHH3300GeeeebJFStW1PkkAADAlimAAQBIlCFDhpQ++uij17Rs2XL3fDr31KlT49prr42NGzf6EADksaqqqpg+fXq0bds2unTpkjfnLikpaT9q1KihTz755JMrV66s90kAAICPt6UCuMB6AABoSjp16pSdMGHCv1dWVu6RL2dubGyMcePGxR133BF1dW56AiCitrY2br755hg/fnw0NjbmzbkrKyv3mDBhwr9369bNXQkAALCNFMAAADQZrVq1Kpw+ffolbdq02T9fzlxdXR2/+93vYtKkSd73C8DfyeVy8fjjj8fvf//7qK6uzptzt2nTZv8pU6Zc0qpVq0KfAgAA2HoKYAAAmoSKioqC2bNnX9KuXbuD8uXMS5cujYsuuijmz5/vAwDAx3r11VfjoosuiqVLl+bNmdu1a3fQ7Nmz/72iosLPrgAAYCu5iAYAoEmYOXPmz9q1a3dIvpz35ZdfjiuuuCLWrVsnfAA+0bp16+KKK66Il19+OW/O3K5du4Nnzpz5M+kDAMDWUQADALDLvfjii2N69OgxKh/Omsvl4oEHHogbbrghamtrhQ/Ap1ZbWxs33HBDPPDAA3nz2oAePXqMevHFF8dIHwAAPj0FMAAAu9SkSZO+NnDgwFPy4ax1dXVx8803x8SJE73vF4BtksvlYuLEiXHLLbdEXV1dXpx54MCBJ0+aNOlr0gcAgE9HAQwAwC7z6KOPHnXggQeekw9nXbduXfz617+OWbNmCR6Az2zmzJnx61//Ol9eJZA58MADz3n00UePkjwAAHyywsqB0fWjvtBYFVGzImtDAADsEDfeeOO+Rx999EWZTKYw7Wddvnx5XHXVVbFy5UrBA7DdbNiwIWbPnh0DBw6MioqKtB8307179/179uz56sMPP7xc+gAA5LuyzvVRUP7RX1MAAwCw011xxRV7fPe7372qoKCgWdrPOmfOnPjtb38bGzduFDwA2111dXVMmzYtOnfuHB07dkz1WTOZTOHuu+9+eJs2bV6aNGnSKukDAJDPFMAAADQZZ5xxRvef/exnvy0sLCxP+1knTJgQd999d9TX1wsegB2moaEhXnrppchms9G3b99UnzWTyRTttddeB/3lL395dubMmRukDwBAvlIAAwDQJBx00EEVf/jDH64pLi7ulOZz5nK5eOCBB+Kxxx4TOgA77c+eBQsWRF1dXfTv3z8ymUxqz1pQUFBywAEHDJs+ffqkpUuXbpY+AAD5aEsFcIH1AACwMwwaNKj0vvvuu7qsrKxXms9ZV1cX1113XUyaNEnoAOx0EydOjOuvvz7q6upSfc6ysrJef/rTn67u379/idQBAODvKYABANjhKioqCh577LGLKyoqBqb5nNXV1XHNNdfE7NmzhQ7ALvPKK6/ElVdeGVVVVak+Z4sWLQZOnDhxbEVFhZ9vAQDA33CBDADADjdz5syftW3b9sA0n3HdunVx2WWXxRtvvCFwAHa5xYsXx2WXXRZr165N9TnbtWt34MyZM38mcQAA+P8UwAAA7FBPPvnkqB49eoxK8xlXrVoVV1xxRSxfvlzgADQZK1asiCuuuCJWrlyZ6nP26NFj1KRJk0ZJHAAA/lth5cDo+lFfaKyKqFmRtSEAALbZjTfeuO+XvvSlCzOZTGp/8fDdd9+NK6+8MtatWydwAJqc6urqmDVrVvTv3z8qKytTe85u3boN79mz57yHH37Yb2MBAJAXyjrXR0H5R39NAQwAwA5x3nnn9T311FOvLigoKE7rGV977bW45pprorq6WuAANFmbN2+OGTNmRI8ePaJ9+/apPGMmkykYNGjQIYWFhVOee+45v5UFAEDqKYABANipjjrqqFb/8R//8YdmzZq1SusZX3755bj++uujrq5O4AA0eQ0NDfHSSy9Fp06dolOnTqk8Y0FBQXbYsGGfnz9//qQ33nhjk9QBAEizLRXA3gEMAMB21a1bt+wNN9zwnyUlJR3TesYpU6bEjTfeGPX19QIHIDHq6+vjxhtvjKlTp6b2jCUlJZ1uuOGG/+jWrZu7GgAAyFsKYAAAtqunn376XyorK/dI6/kmTZoUd955ZzQ2NgobgMRpbGyMO+64I5588snUnrGysnLw008//UtpAwCQrxTAAABsN88///w3unTp8k9pPd/EiRNj3LhxkcvlhA1AYuVyubj//vtTXQJ36dLlS88+++yJ0gYAIB95BzAAANvFTTfdNPzII488L5PJZNJ4vsceeyzGjx8vaABS47XXXotmzZpF3759U3m+zp0779urV695Dz/88DJpAwCQNlt6B7ACGACAz+wXv/hF7x/+8IdXFxQUNEvj+R544IF45JFHBA1A6ixYsCDq6upiwIABqTtbJpPJDBo06ODGxsbnpk6dul7aAACkiQIYAIAd5oADDqj43e9+99tmzZq1TeP5xo0bF5MmTRI0AKm1aNGi2Lx5cwwcODB1ZysoKMjut99+w5577rnH33vvvc3SBgAgLbZUAHsHMAAA2yybzWbuvPPOfyktLe2exvNNmDBB+QtAXpg0aVI89NBDqTxbaWlpj3vuuedfstlsRtIAAOQDBTAAANvs+eef/06HDh0OTePZHn744Xj44YeFDEDeeOSRR+LPf/5zKs/WoUOHw5599tlvSxkAgHygAAYAYJvcd999hw8ePPjUNJ7t/vvvjwkTJggZgLzz2GOPxX333ZfKs+25554/+NOf/nSYlAEASDvvAAYAYKudccYZ3ceMGXN5QUFBcdrONnHixHjkkUeEDEDeWrx4cWSz2ejbt2/ajpbp06fPvn/5y18mz5w5c4OkAQBIsi29A1gBDADAVhk2bFjzG2+88Q/NmjVrl7azPfroo6l99CUAbI2FCxdGUVFR9OvXL1XnKigoKD7wwAP3e/LJJx9dsWJFnaQBAEiqLRXAHgENAMBWuffee39ZWlraPW3nevzxx+PBBx8UMAD8jz//+c8xceLE1J2rtLS0x3333fdLCQMAkFYKYAAAPrVJkyaN6tSp0xEpPFeMHz9ewADwD8aPHx+TJ09O3bk6der0hUmTJn1VwgAApJFHQAMA8Kmcd955fU888cR/z2QyRWk618yZM+Puu+8WMAB8jNdeey06duwYnTt3TtW5unbtuk9BQcHzzz333DopAwCQNN4BDADAZ3LEEUe0vOKKK67NZrOVaTrXyy+/HDfffHPkcjkhA8DHyOVyMXv27OjSpUt06tQpNefKZDJF++yzz/CpU6c+9u67726WNAAASeIdwAAAbLNsNpu55ZZb/q2kpKRjms61YMGCuPnmm6OxsVHIAPAJGhsb4+abb44333wzVecqLS3tcvfdd5+fzWYzUgYAIC0UwAAAbNGkSZO+3rZt2wPTdKZly5bFDTfcEPX19QIGgE+prq4urr322li+fHmqztWuXbsDH3/88VESBgAgLTwCGgCAj3XZZZcN+upXvzo2k8mk5hcH33///bjyyiujqqpKwACwlerq6uLll1+OIUOGRHl5eWrO1aVLl31LS0unPvPMM2ukDABAEngENAAAW61///4lJ5988q8ymUxRWs60YcOG+P3vfx8bN24UMABso40bN8bvfve7VP15WlBQkP3hD394ft++fYslDABA4q9vrQAAgI/y4IMPnl1WVtYrLeeprq6O3/zmN7Fq1SrhAsBntGrVqrjyyiujuro6NWcqKyvr8/DDD58lXQAAkk4BDADA/zF+/Pgju3XrdnRazlNfX5/KdxYCwK60fPnyuO6666K+vj41Z+rRo8dXx40bd4R0AQBIMgUwAAB/53vf+16nI4444py0nCeXy8Vtt90Wb7zxhnABYDt7/fXX47bbbotcLpeaMx155JHnfvvb3+4oXQAAkkoBDADA/6qoqCi4+OKLLywsLCxPy5nGjx8fs2bNEi4A7CCzZs2Khx56KDXnKSwsrPj1r399QUVFhZ+bAQCQSC5kAQD4XxMnThxdWVk5OC3nef7552PixImCBYAd7LHHHosXXnghNeeprKzc89FHHz1RsgAAJFFh5cDo+lFfaKyKqFmRtSEAgDxxwQUX7DZq1KgLM5lMYRrO8+qrr8Ytt9ySqkdSAkBT/7O3d+/e0a5du1Scp2PHjkNzudxzU6ZMWSddAACamrLO9VHwMc/wcwcwAADRt2/f4h//+McXZzKZVPwG4HvvvRc33HBDNDY2ChcAdpKGhoa47rrrYtmyZak4T0FBQfbss88e27dv32LpAgCQqGtZKwAAYPz48T8qKyvrkYazbNiwIX7/+99HbW2tYAFgJ9u0aVP8/ve/j40bN6biPGVlZb3GjRs3RrIAACSJAhgAIM/ddNNNw/v06XN8Gs5SX18f1157baxdu1awALCLrFmzJq699tqor69PxXn69ev3jd///vdDJQsAQFIogAEA8thBBx1Uceyxx/5rRGTScJ477rgjFi9eLFgA2MUWLVoUd955Z1qOU/CNb3zj34YNG9ZcsgAAJOIC1goAAPLXzTfffFZxcXG7NJxl4sSJMX36dKECQBMxbdq0mDRpUirOUlJS0unOO+88Q6oAACSBAhgAIE/913/914FdunT5UhrO8tprr8Wf//xnoQJAEzN+/PhYsGBBKs7SrVu3o2+66abhUgUAoKlTAAMA5KEvfelLlV/5yld+lYazrFixIq6//vpobGwULAA0MY2NjXHdddfFihUr0nCczHHHHfergw46qEKyAAA0ZQpgAIA8dPXVV5+ezWYrk36OmpqauPbaa2PTpk1CBYAmatOmTXHttddGTU1N4s+SzWbb3njjjT+RKgAATZkCGAAgz9x6663Du3Tp8uWknyOXy8Utt9wSK1euFCoANHErV66MW2+9NXK5XOLP4lHQAAA0dQpgAIA8MnTo0LKvfvWrv0jDWSZMmBBz584VKgAkxJw5c+Kxxx5LxVlGjRr1i6FDh5ZJFQCApkgBDACQR+64444fFRcXd0z6OV5++eV45JFHBAoACfPQQw+l4he4SkpKOt5xxx0/lCgAAE2RAhgAIE9cfvnlu/fs2XNU0s/xwQcfxB133JGKR0gCQL7J5XJx2223xZo1axJ/lp49ex57+eWX7y5VAACaGgUwAEAe6NatW/a73/3uv2YymURf/9XX18cNN9wQ1dXVQgWAhKqqqoobb7wx6uvrE32OTCZT8N3vfvdX3bp1y0oVAICmRAEMAJAHxo8ff0pZWVmvpJ/jnnvuiaVLlwoUABJuyZIlcd999yX+HGVlZT3Hjx9/ikQBAGhKFMAAACn385//vOeAAQNGJ/0c06dPjylTpggUAFJi8uTJMWPGjMSfY8CAAaN//vOf95QoAABNhQIYACDFstls5qyzzjo3k8kk+tGEK1asiLvvvlugAJAyd911V6xYsSLRZ8hkMtmzzjrr3Gw2m5EoAABNgQIYACDFxo0b98XKysq9knyG2trauOGGG6K2tlagAJAyf/1zfvPmzYk+R2Vl5V7jxo0bKVEAAJoCBTAAQEoNHz68/OCDDz4t6ee4//77Y/ny5QIFgJRavnx5jBs3LvHnGDFixI+HDRvWXKIAAOxqCmAAgJS69dZbT8tms22TfIYZM2bEc889J0wASLnJkyfHzJkzE32G4uLitrfffvtp0gQAYFdTAAMApNBVV121R48ePb6S5DOsXLky7rrrLmECQJ64++6744MPPkj0GXr27PnVK664Yg9pAgCwKymAAQBSprS0tOAb3/jGT5N8rdfY2Bi333679/4CQB6pqamJ2267LRobG5N8jIJvfvObZ5aWlvqZGwAAu+6i1AoAANJlwoQJX6uoqBiQ5DOMHz8+Fi1aJEwAyDNvvvlmPPjgg4k+Q4sWLQY9+OCDx0gTAIBdRQEMAJAiRx55ZOWwYcN+kOQzzJ07N5544glhAkCemjhxYixYsCDRZxg+fPiPjjjiiJbSBABgV1AAAwCkyBVXXHFyUVFRRVLnr6qqijvvvDNyuZwwASBP5XK5uP3226O6ujqxZygqKmrxm9/85mRpAgCwKyiAAQBS4vzzz+/Xu3fv45J8httvvz0+/PBDYQJAnlu3bl3cfvvtiT5D7969jz///PP7SRMAgJ1NAQwAkALZbDZz6qmn/jyTyST2+m769OkxZ84cYQIAERExe/bsmDFjRmLnz2QyBaeeeurPs9lsRpoAAOxMCmAAgBT44x//eERlZeXgpM6/du3auPfeewUJAPyde+65J9atW5fY+SsrKwf/6U9/+oIkAQDYmRTAAAAJ17dv3+JDDjnkR0k+w9133x01NTXCBAD+Tk1NTdx9992JPsPBBx/8o759+xZLEwCAnUUBDACQcHfdddc3S0pKOiV1/smTJ8e8efMECQB8pLlz58azzz6b2PlLSko63nPPPd+SJAAAO4sCGAAgwb70pS9VDhw48KSkzr9mzZoYP368IAGALXrggQdizZo1iZ2/f//+Jx111FGtJAkAwM6gAAYASLArrrji1MLCwvIkzp7L5eK2226LTZs2CRIA2KJNmzbFbbfdFrlcLpHzFxYWll1++eU/kCQAADuDAhgAIKF+8Ytf9O7evftXkjr/s88+G2+88YYgAYBP5Y033ojnn38+sfN369bt6F/96ld9JAkAwI6mAAYASKgf/vCHP8pkMom8nvvggw/igQceECIAsFXGjRsX69atS+TsmUym4NRTT/2xFAEA2NEUwAAACXTdddcNa9eu3YFJnD2Xy8Udd9wRtbW1ggQAtsqmTZvizjvvTOz8bdq02f+mm27aT5IAAOxICmAAgIQpLS0t+NrXvnZ6Uud/4YUXYuHChYIEALbJq6++GjNmzEjs/Mccc8zpFRUVfiYHAMAO42ITACBhbr/99oMrKip2S+LsGzZsiHHjxgkRAPhM7r///qiqqkrk7OXl5X3/67/+6wgpAgCwoyiAAQASpKKiouCwww47Nanz33vvvYn9YS0A0HRs2LAh7r///sTOf9BBB/1zq1atCiUJAMCOoAAGAEiQ+++//+iysrKeSZx9zpw58dJLLwkRANguXnjhhViwYEEiZy8tLe32xz/+8StSBABgR1AAAwAkRN++fYv33Xfff07i7LW1tXHvvfcKEQDYru6+++6oq6tL5Oz77bffKf379y+RIgAA25sCGAAgIW6++eZRxcXFbZM4+yOPPBJr164VIgCwXa1atSoee+yxRM6ezWbb3njjjV+TIgAA25sCGAAgAYYOHVq21157fSeJs7/33nvxxBNPCBEA2CEmTpwYK1asSOTsQ4YM+c7QoUPLpAgAwPakAAYASIBrr732xKKiosqkzZ3L5eKee+6JxsZGIQIAO0R9fX3cddddkcvlEjd7UVFR5bXXXnuCFAEA2J4UwAAATdwBBxxQMWDAgG8kcfYZM2bEW2+9JUQAYId6880348UXX0zk7AMGDPjG8OHDy6UIAMD2ogAGAGjirrrqqhOKiooqkjb3pk2b4oEHHhAgALBT3H///VFbW5u4uYuKilpcffXV7gIGAGC7UQADADRhBx10UEX//v0Teffvww8/HB9++KEQAYCdYv369TFhwoREzj5w4MBvHHDAARVSBABge1AAAwA0Yf/5n/95bGFhYfOkzb1q1aqYPHmyAAGAnerpp5+O1atXJ27uwsLC8ssuu2yUBAEA2B4UwAAATdQBBxxQMWjQoNFJnP3uu++O+vp6IQIAO1V9fX3cddddiZx99913/+bQoUPLpAgAwGelAAYAaKIuv/zyYwsLC8uTNvfcuXNjwYIFAgQAdokFCxbE3LlzEzd3UVFRi9/97ndflyAAAJ+VAhgAoAkaOnRo2aBBgxL37t+6urr405/+JEAAYJf605/+FHV1dYmbe/fdd//mkCFDSiUIAMBnoQAGAGiCfvOb33ylqKioZdLmfu655xL53j0AIF1Wr14dzz33XOLmLioqann11VcfLUEAAD4LBTAAQBPTq1evZoMHD/5m0uaurq6ORx55RIAAQJPwyCOPRHV1deLmHjJkyLe6deuWlSAAANtKAQwA0MTcdNNNxxQXF7dN2twTJkyIqqoqAQIATUJVVVUifzmtuLi43a233uouYAAAtpkCGACgCWnVqlXhXnvtdVLS5l61alU8++yzAgQAmpTJkyfHqlWrEjf30KFDR7dq1apQggAAbAsFMABAE3LLLbccXlJS0jlpcz/44INRX18vQACgSamvr48HH3wwcXOXlJR0vummmw6VIAAA20IBDADQRGSz2cwBBxzw7aTNvWjRonjppZcECAA0SS+99FIsXrw4cXOPGDHiO9lsNiNBAAC2lgIYAKCJuOaaa/YuLy/vm7S5H3roocjlcgIEAJqkXC6XyLuAy8vL+1111VV7SRAAgK2lAAYAaCK+8pWvfDdpM8+bNy8WLlwoPACgSVu4cGG8+uqrrg8BAMgLCmAAgCbgsssuG1RZWblPkmbO5XIxfvx44QEAifDAAw8k7qklrVu33veSSy7pLz0AALaGAhgAoAkYNWrUCUmbefbs2bFs2TLhAQCJsGzZsnjllVcSN/cJJ5xwovQAANgaCmAAgF3sn//5nzt37NjxiCTN3NjYGA888IDwAIBEGT9+fDQ0NCRq5k6dOn1h9OjRHaQHAMCnpQAGANjFfvSjH30tk8kk6rps2rRpsWrVKuEBAImyatWqeOGFFxI1cyaTKfzpT386SnoAAHxaCmAAgF1o0KBBpX369Plqkmaur6+PCRMmCA8ASKQJEyZEXV1dombu27fvV/r27VssPQAAPg0FMADALnTZZZcdXlRUVJGkmadOnRpr164VHgCQSOvXr48pU6YkauaioqLK3/zmN0dIDwCAT0MBDACwi2Sz2cy+++57UpJmrqurc/cvAJB4jz76aOLuAt5///1PymazGekBAPBJFMAAALvI1VdfPbSsrKx3kmaeMmVKbNiwQXgAQKJt2LAhnn/++UTNXFZW1ueqq67aS3oAAHwSBTAAwC7y5S9/+bgkzVtfXx8TJ04UHACQCo8//nji7gL+0pe+dLzkAAD4JApgAIBdYPTo0R3atm07IkkzT5s2LdatWyc8ACAVPvzww5g+fXqiZm7fvv2I0aNHd5AeAABbogAGANgFfvrTn47KZDKFSZm3vr4+HnnkEcEBAKnyyCOPRH19fWLmzWQyhT/96U+/JjkAALZEAQwAsJN16tQp26dPn6OTNLO7fwGANFq3bl1MmzYtUTP36dPnmE6dOmWlBwDAx1EAAwDsZFddddUB2Wy2dVLmbWxsjEmTJgmOVOvYsWN06OCJmgD5aNKkSdHY2JiYebPZbOurrrrqAMkBAPBxFMAAADvZiBEjvp6keV988cVYtWqV4Ei1Ll26xIUXXhinnXZadO3a1UIA8siqVavipZdecj0JAEBqKIABAHaiM844o3tlZeXeSZk3l8vFxIkTBUdeyGQyMXjw4PjVr34VY8aMcUcwQB55/PHHI5fLJWbeysrKvc8444zukgMA4KMogAEAdqJTTjnlqxGRScq8CxYsiPfee09w5JVMJhN77713XHjhhTFmzJho3769pQCk3HvvvRcLFy5M1B9X/3NdCQAA/4cCGABgJ+nVq1ezXr16fTlJM3v3L/nsr0XwBRdcECeffHK0bdvWUgBSLGnXPb169fpyr169mkkOAIB/pAAGANhJrrjiioOLiopaJmXeBN4JAztEYWFhDB8+PC688MIYPXp0VFZWWgpACi1YsCCWLVuWmHmLiopaXnnllYdIDgCAf6QABgDYSYYPH/6VJM2btHfhwY5WVFQUI0aMiEsuuSRGjx4dLVu2tBSAFMnlcvH4448naub99tvvK5IDAOAfKYABAHaC0aNHd6isrByalHnXrl0bL7/8suDgI/y1CL744ovjhBNOiBYtWlgKQEq89NJLsW7dusTMW1lZudfo0aM7SA4AgL+lAAYA2AlOP/30o5J07fXMM89EQ0OD4GALiouL47DDDouxY8fGqFGjoqyszFIAEq6hoSGeeeaZJI1c8D/XmQAA8P8vEq0AAGDHymazmX79+n05KfPW1tbGlClTBAefUnFxcYwcOTIuvfTSGDVqVJSWlloKQII9//zzUVtbm5h5+/Xr9+VsNpuRHAAAf6UABgDYwX7zm9/sWVJS0jkp886YMSOqq6sFB1uppKQkRo4cGZdcckkcffTRUVJSYikACVRdXR0zZ85M0p8/na+44orBkgMA4K8UwAAAO9gXvvCFLyVl1lwuF08//bTQ4DNo3rx5HHXUUXHJJZfEyJEjI5vNWgpAwjz11FORy+USM++RRx75ZakBAPBXCmAAgB1oyJAhpZ07dz4iKfO+/vrrsWLFCsHBdlBeXh6jRo2KSy+9VBEMkDArVqyI119/PTHzdunS5fD+/ft79AQAABGhAAYA2KHGjh17aGFhYWJeCOruX9j+KioqYtSoUXHxxRfH4YcfHkVFRZYC4LpouyosLGz+H//xHwdLDQCACAUwAMAOteeeex6ZlFnXrl0b8+bNExrsIK1atYrjjz8+LrroohgxYkQUFPh2DKApmzdvXqxZsyYx8+61115HSg0AgAgFMADADnPMMce0bt269b5Jmfe5556LxsZGwcEO1qZNmxg9enRcfPHFimCAJqyxsTGee+65JP35MvyYY45pLTkAAPykAQBgBznzzDMPz2Qyibjeqq+vj6lTpwoNdqK2bdvG6NGj47zzzovhw4crggGaoBdeeCHq6+sTMWsmkyk844wzDpUaAAB+wgAAsIP079//C0mZdc6cObFhwwahwS7QqVOnOPnkk+Pf/u3fYu+9945MJmMpAE3Ehg0bYvbs2YmZd8CAAR4DDQCAAhgAYEf43ve+16mysnKPpMybpMcbQlp17tw5xowZE7/61a8UwQBNyPPPP5+YWSsrKwd/73vf6yQ1AID8pgAGANgBTj755CMiIhHtzcqVK+P1118XGjQRXbt2jTFjxsQ555wTgwcPthCAXez111+PlStXJmXczMknn3y41AAA8psCGABgB+jXr19iHv88ZcqUyOVyQoMmpnfv3nHaaafFOeecE/3797cQgF0kl8vFlClTknQd6jHQAAB5TgEMALCdnX766d0qKip2S8Ks9fX1MW3aNKFBE9anT58466yz4pxzzonddtvNQgB2gWnTpkV9fX0iZq2oqNjt9NNP7yY1AID8pQAGANjORo8efURSZp03b15s3LhRaJAAffr0ibPPPjvOPPPM6Nmzp4UA7EQbN26MefPmuR4FACARFMAAANtZr169EvPetSQ9zhD4bwMGDIhf/vKXceaZZ0b37t0tBGAnmTp1apKuRw+TGABA/lIAAwBsR2eccUb38vLyvkmYdf369fHaa68JDRJqwIAB8S//8i9x2mmnRbdunvQJsKPNnz8/Pvzww0TMWl5e3u9HP/pRF6kBAOQnBTAAwHZ03HHHHZSUWWfMmBGNjY1CgwTLZDIxePDg+Nd//dcYM2ZMdOjQwVIAdpDGxsaYMWNGYub9xje+cYjUAADykwIYAGA76tOnz8FJmDOXyyXqMYbAlmUymdh7773jwgsvjDFjxkT79u0tBWAHeOGFF5J0XXqIxAAA8pMCGABgOznppJPat2zZcvckzLpkyZJYuXKl0CBl/loEX3DBBXHyySdH27ZtLQVgO1qxYkW8/fbbiZi1srJy0PHHH+8PAgCAPKQABgDYTr773e8eGBGZJMyapMcXAluvsLAwhg8fHhdeeGGMHj06KisrLQVgO5k+fXpSRi34/ve/f6DEAADyjwIYAGA72X333Q9Nwpz19fUxc+ZMgUEeKCoqihEjRsQll1wSo0ePjpYtW1oKwGc0c+bMqK+vT8SsAwcOPFRiAAD5RwEMALAdHHTQQRUtW7bcKwmzLly4MKqrq4UGeeSvRfDFF18cJ5xwQrRo0cJSALZRVVVVvP7664mYtVWrVkOHDx9eLjUAgPyiAAYA2A7OPvvsz2cymaIkzOrxz5C/iouL47DDDouxY8fGqFGjoqyszFIAtkFSnqaSyWSy55577uclBgCQXxTAAADbwe67735AEuasra2NOXPmCAzyXHFxcYwcOTIuvfRSRTDANpg9e3bU1dUlYtY99tjjAIkBAOQXBTAAwGfUqlWrwnbt2u2fhFnnzZsXtbW1QgMiIqKkpCRGjhwZY8eOjaOPPjpKSkosBeBT2LRpU8ybNy8Rs7Zv337/iooKPwMEAMgjLv4AAD6jCy+8cPeioqKKJMz64osvCgz4P5o3bx5HHXVUXHLJJTFy5MjIZrOWAvAJZs2alYg5i4qKWlx88cWDJAYAkD8UwAAAn9GBBx6YiMfqVVdXJ+ZOFWDXKC8vj1GjRsWll16qCAb4BPPmzYuamppEzHrQQQd5DDQAQB5RAAMAfEZdu3YdnoQ5582bF/X19QIDPlFFRUWMGjUqLr744jj88MOjqKjIUgD+QV1dXbz66quJmLVLly77SwwAIH8ogAEAPoNTTjmlY3l5+W5JmPXll18WGLBVWrVqFccff3xcdNFFMWLEiCgo8C0kwN966aWXEjFnRUXFbieddFJ7iQEA5AffvQMAfAYnnnji55MwZ21tbcyfP19gwDZp06ZNjB49OsaOHasIBvgb8+fPj9ra2iSMmvnud7/7eYkBAOQH37UDAHwGn/vc5/ZLwpwLFy6Muro6gQGfyV+L4PPOOy+GDx+uCAby3ubNm2PhwoWJmLVfv37DJQYAkB98tw4AsI1atWpV2Lp1672TMKvHPwPbU6dOneLkk0+Oc889NwYNGmQhQF6bPXt2IuZs06bN3hUVFX4WCACQB1z0AQBso/PPP39gYWFheVOfs76+PubMmSMwYLvr2bNn/OQnP4nzzjsv9t5778hkMpYC5J3Zs2dHfX19k5+zqKio4vzzzx8oMQCA9FMAAwBso/3333/fJMz5+uuvR01NjcCAHaZLly4xZsyYOOecc2Lw4MEWAuSV6urqeOONNxIx64EHHriPxAAA0k8BDACwjbp27ZqIxz/PnTtXWMBO0bt37zjttNPinHPOif79+1sIkDeScr3VvXv3vaUFAJB+CmAAgG0wZMiQ0srKyj2a+py5XM7jn4Gdrk+fPnHWWWfFOeecE7vttpuFAKk3e/bsyOVyTX7Oli1b7jlo0KBSiQEApJsCGABgG5x55pl7ZjKZbFOfc9myZbFu3TqBAbtEnz594uyzz44zzzwzevbsaSFAaq1bty6WL1/e5OfMZDLZs846a4jEAADSrcgKAAC23tChQ4clYc558+YJC9jlBgwYEAMGDIgFCxbE+PHjY+nSpZYCpM68efOiS5cuTX7OffbZZ5+ImC4xAID0cgcwAMA26Nix4z5JmHP+/PnCApqMAQMGxC9/+cs47bTTolu3bhYCpEpSrrs6deq0j7QAANJNAQwAsJWOOOKIlhUVFf2a+pxVVVWxaNEigQFNSiaTicGDB8e//uu/xpgxY6JDhw6WAqTCW2+9FVVVVU1+zoqKis8deuihLSQGAJBeCmAAgK108sknD46ITFOfc/78+dHY2CgwoEnKZDKx9957x4UXXhhjxoyJ9u3bWwqQaI2NjbFgwYJE/Cv4u9/97h4SAwBILwUwAMBW2n333fdMwpze/wskwV+L4AsuuCBOPvnkaNu2raUAiZWU66/BgwfvKS0AgPQqsgIAgK3Trl27wU19xlwul5Q7UAAiIqKwsDCGDx8e++yzT0ybNi0mTJgQ69evtxggURYsWBC5XC4ymab9sJgOHToMlhYAQHq5AxgAYCsMGjSotGXLlgOa+pzvvfdebNy4UWBA4hQVFcWIESPikksuidGjR0fLli0tBUiMDz/8MJYtW9bk52zZsuXA/v37l0gMACCdFMAAAFvhxz/+8aBMJtPkn6Li7l8g6f5aBI8dOzZOOOGEaNGihaUAibBw4cImP2Mmk8n+5Cc/GSAtAIB0UgADAGyFvffee88kzJmEHzwCfBrNmjWLww47LMaOHRujRo2KsrIySwGatKT8Il5SrmsBANh63gEMALAVunbtOqSpz1hfXx9vvvmmsIBUKS4ujpEjR8bBBx8czz77bDz++ONRXV1tMUCT8+abb0Z9fX0UFTXtH7t16dJlT2kBAKSTO4ABAD6lioqKgoqKikFNfc4lS5bE5s2bBQakUklJSYwcOTLGjh0bRx99dJSUeIUl0LTU1tbG0qVLm/ycLVu2HFRaWupngwAAKeQiDwDgUzr77LP7FhYWNvlnj7722mvCAlKvefPmcdRRR8Ull1wSI0eOjGbNmlkK4HpsKxQWFpafffbZvaQFAJA+CmAAgE9p//3375+EOV9//XVhAXmjvLw8Ro0aFf/+7/8eI0eOjGw2aymA67FP6fOf//xAaQEApI8CGADgU+rRo8fuTX3G2traePvtt4UF5J2KiooYNWpUXHzxxXH44Yc3+XdvAum2ePHiRLySo1evXoOkBQCQPgpgAIBPqXXr1k3+DoklS5ZEQ0ODsIC81apVqzj++OPj4osvjhEjRkRBgW97gZ2voaEhlixZ0uTnbNOmjQIYACCFfCcMAPApDBkypLR58+a9m/qcb775prAAIqJ169YxevToGDt2rCIYcF32MZo3b95n0KBBpdICAEgX3wEDAHwKp556av9MJtPkr53eeustYQH8jTZt2sTo0aPjvPPOi+HDhyuCAddlfyOTyRT84Ac/+Jy0AADSxXe+AACfwuDBg5v84/Hq6+tj0aJFwgL4CJ06dYqTTz45/u3f/i323nvvyGQylgLsUIsXL07Eqzn23HPPgdICAEgXBTAAwKfQpUuXAU19xnfeeSfq6uqEBbAFnTt3jjFjxiiCgR2utrY23n333SRc53oPMABAyiiAAQA+hZYtW/Zv6jN6/DPAp9elS5cYM2ZMnHvuuTF48GALAfL2+iwJ17kAAGwdBTAAwCcYPnx4eUlJSeemPqfHPwNsvV69esVpp50W55xzTvTvrwMB8u/6rLS0tPPw4cPLpQUAkB4KYACAT/Ctb31rt4ho8s8IXbx4sbAAtlGfPn3irLPOinPOOSd22203CwG2i4T8gl7m29/+dj9pAQCkhwIYAOAT7L777k2+CVi7dm1s2LBBWACfUZ8+feLss8+OM888M3r27GkhwGfy4Ycfxrp165r8nAMHDlQAAwCkSJEVAABsWadOnZr8D8TefvttQQFsRwMGDIgBAwbEggULYvz48bF06VJLAbb5Oq1Vq1audwEA2GkUwAAAn6CyslIBDJCnBgwYEP3794958+bFQw89FO+++66lAFtlyZIlsddeezX1613PvgcASBEFMADAFnTq1CnbvHnzXk19ziVLlggLYAfJZDIxePDg2GOPPeLll1+OBx98MFauXGkxQGqu05o3b967Xbt2RatXr66XGABA8nkHMADAFowZM6ZnJpPJNuUZGxsbPZoUYCfIZDKx9957x4UXXhhjxoyJ9u3bWwrwiZYuXRqNjY1NesaCgoLsqaee2kNaAADp4A5gAIAt2Hvvvfs29RlXrlwZtbW1wgLYSf5aBO+5554xa9asmDBhQqxevdpigI9UW1sb77//fnTu3LlJzzls2LC+EbFIYgAAyecOYACALejRo0eTL4DfeecdQQHsAoWFhTF8+PC48MILY/To0VFZWWkpQGKv15Jw3QsAwKejAAYA2ILWrVs3+ff/vvvuu4IC2IUKCwtjxIgRcckll8To0aOjZcuWlgIk7notCde9AAB8Oh4BDQCwBc2bN+/Z1GdUAAM0kW+wi4pixIgRsd9++8WUKVPiscceiw0bNlgMEO+9914SrnsVwAAAKeEOYACAj9G/f/+SkpKSjk19TgUwQNPSrFmzOOyww2Ls2LExatSoKCsrsxTIc0m4XistLe3Ut2/fYmkBACSfAhgA4GOccMIJ3Zr69dK6deuiqqpKWABNUHFxcYwcOTJ+/etfK4Ihz1VVVcX69eub+pgF3/zmN7tLCwAg+RTAAAAfY8iQIT2b+oxJeJwgQL77axE8duzYOProo6OkpMRSIA8l4botCde/AAB8MgUwAMDH6N69e8+mPqPHPwMkR/PmzeOoo46KSy65JEaOHBnNmjWzFMgjSbhuS8L1LwAAn0wBDADwMVq1atWjqc+4bNkyQQEkTHl5eYwaNSr+/d//PUaOHBnZbNZSIA8k4botCde/AAB8MgUwAMDHqKio6NXUZ1y+fLmgAJL750yMGjUqLr744jj88MOjqKjIUiDFknDd1rJly16SAgBIPgUwAMBHyGazmbKysq5NecbGxsZYtWqVsAASrlWrVnH88cfHxRdfHCNGjIiCAt+qQxqtWrUqGhsbm/SMJSUlXbPZbEZaAADJ5rtKAICPcNxxx7UrKCgobsozrl69Ourr64UFkBKtW7eO0aNHx9ixYxXBkEJ1dXXxwQcfNOkZCwoKio877rh20gIASDbfTQIAfITPf/7zXZr6jO+//76gAFKoTZs2MXr06Dj//PNj+PDhimBIkRUrVrgOBgBgh/NdJP+PvTuPr7I888d/nSwEkhD2HUQEUVRAoIiouCtq64Jabd1arVorbqO2tlXbaavTOu38Rqffdmpbu9rWpYogsqgFRXCttAIKArJDgAAJBLKQ5JzfH8WO4+DOcp6T9/v18jWvTv657ut6hNvnk/t+AICd2G+//bL+xVcSXiAC8PF17do1Lr300rj99ttj2LBhkUq5lRWSLgn7tyTsgwEAeH8FWgAA8H917txZAAxAVujevXtceeWVsXr16njiiSdi9uzZkclkNAYSKAn7tyTsgwEAeH8CYACAnWjXrp0roAHIKj169Igrr7wyli5dGpMmTYo5c+ZoCiRMEvZvSdgHAwDw/gTAAAA7UVxc3D3baxQAAzRPffr0ibFjx8aSJUti/PjxsWDBAk2BhEjC/i0J+2AAAN6fbwADAOxESUlJz2yur7q6Ourq6gwKoBnbb7/94l/+5V/ia1/7WhxwwAEaAglQV1cX1dXV9sEAAOxWAmAAgHc5/PDDSwsKCtpmc40VFRUGBUBERPTt2zduvPHGuOGGG2LffffVEMhy2b6PKygoaDt8+PASkwIASC4BMADAu5x44oldsr3GDRs2GBQA/8uAAQPiG9/4Rtxwww3Ru3dvDQH7uE+yH+5qUgAAyeUbwAAA79KvX7+sD4DXr19vUADs1IABA+LAAw+MuXPnxoQJE2LlypWaAlkkCTe5HHDAAV0i4i3TAgBIJgEwAMC7dO/evXO21+gEMADvJ5VKxaBBg2LgwIExe/bsGD9+fKxbt05jwD4uZ/bDAAC8NwEwAMC7tG/fvlO21ygABuDDSKVSMWzYsBg6dGjMnj07HnvsMbdIwF6WhBPASdgPAwDw3gTAAADv0rp166w/8ZCEF4cAZI+3g+BDDz00XnnllZg4caK/S8A+LtH7YQAA3psAGADgXUpKSrL6xENjY2Ns3rzZoAD4yPLz8+Pwww+P4cOHx/PPPx8TJ06MqqoqjYE9aPPmzdHY2BgFBdn7Wi7b98MAALw/ATAAwLu0bNmySzbXV1lZGZlMxqAA+Njy8/Nj1KhRMXLkyHjhhRcEwbAHZTKZqKqqio4dO9oPAwCwWwiAAQDepaioKKuvvKusrDQkAHaJgoKCGDVqVIwYMSJmzpwZkydPji1btmgM7IH9XDYHwNm+HwYA4P3laQEAwP8YPnx4SX5+fkk21ygABmBXa9GiRRx//PFxxx13xNlnnx0lJSWaAs14P5efn18yfPhwfxAAACSUABgA4B2OOOKIDtleo+//ArC7FBUVxejRo+P73/9+nH322VFcXKwpsBsk4cr1JOyLAQDYOQEwAMA79O3bt1221+gEMAC729tB8B133BGnn356tGrVSlOgme3n9ttvv7YmBQCQTAJgAIB36NSpkwAYAHYoKSmJz3zmM3HnnXfG6NGjo0WLFpoCzWQ/l4R9MQAAOycABgB4hw4dOrTN9hqTcGUgALmlpKQkzj777PjOd74To0aNivz8fE2BHN/PJWFfDADAzgmAAQDeoaysrG221ygABmBvad++fVx00UVx5513xgknnBCFhYWaAjm6nysrK3MCGAAgoQTAAADvUFJS0j6b68tkMlFdXW1QAOxV7dq1i/POOy+++93vxqhRoyIvz+sF+CiSsJ8rLS0VAAMAJJT/QgMAeIfi4uK22VxfXV1dNDY2GhQAWeHtE8F33HGHIBg+gsbGxqirq7MvBgBgt/BfZgAA79CqVausPung9C8A2ahDhw5x0UUXxbe//e04/PDDBcGQA/u6oqIiJ4ABABLKf5EBALxDQUGBABgAPqauXbvGpZdeGt/61rdi2LBhkUqlNAUSuq9r0aJFW1MCAEimAi0AAPgfhYWFZdlc39atWw0JgKzXrVu3uPLKK2P16tXxxBNPxOzZsyOTyWgMJGhfl+37YgAA3psAGADgnZujgoLW2VyfE8AAJEmPHj3iyiuvjKVLl8akSZNizpw5mgIJ2ddl+74YAID35gpoAIAdWrdunZefn98ym2sUAAOQRH369ImxY8fGLbfcEgMGDNAQSMC+Lj8/v1WrVq28OwQASCCbOACAHQYNGlQSEVn9scJt27YZFACJtd9++8UNN9wQX/va1+KAAw7QEJq1BOzr8gYPHlxsUgAAySMABgDY4YADDijJ9hpramoMCoDE69u3b9x4441xww03xL777qshNEu1tbVZX2P//v1LTQoAIHl8AxgAYIeePXtm/QuuJLwoBIAPa8CAATFgwICYP39+jBs3LpYvX64pNBtJ2Nf16NGjxKQAAJJHAAwAsEOnTp0EwACwFwwYMCAOPPDAmDt3bkyYMCFWrlypKeS8JOzrunbtKgAGAEggATAAwA5lZWVZ/4Krrq7OoADISalUKgYNGhQDBw6M2bNnx4QJE2Lt2rUaQ85KQgDcpk0bV0ADACSQABgAYIeysjIngAFgL0ulUjFs2LAYOnRozJ49O8aPHx/r1q3TGHKOABgAgN1FAAwAsENJSUlxttfoBDAAzcXbQfCQIUPi5ZdfjokTJ0ZFRYXGkDOSEAAnYX8MAMD/JQAGANihqKioKNtrrKmpMSgAmpW8vLw4/PDDY/jw4fH888/HE088EZWVlRpD4iUhAG7RokWRSQEAJI8AGABgh8LCwhbZXF86nY7t27cbFADNUn5+fowaNSpGjhwZL7zwQkycODGqqqo0hsTavn17ZDKZSKVSWVtjixYtWpgUAEDyCIABAHbI9gC4oaHBkABo9goKCmLUqFExYsSImDlzZkyePDm2bNmiMSROJpOJhoaGyOaMtbCw0AlgAIAk/neTFgAA7NgYFRRk9QuuxsZGQwKAHVq0aBHHH398HHnkkfHMM8/E1KlTY9u2bRpDomR7AJzt+2MAAN5jH6cFAAA7NkZZ/oLL9c8A8H8VFRXF6NGj49hjj41nnnkmpkyZEjU1NRpDImT7DS8FBQWugAYASCABMADA2xujLH/B5QpoAHhvbwfBRx11VEyfPj2efvrpqK2t1RiymgAYAIDdIU8LAAD+QQAMAMlXUlISn/nMZ+LOO++M0aNHZ/X1uiAABgBgdxAAAwDskO1XQAuAAeDDKykpibPPPjv+7d/+LUaPHh2FhYWagv3dR5Sfn9/SlAAAkkcADADw9sYoL88JYADIMa1bt46zzz47vve978UJJ5wgCMb+7iPIz8/3LwwAQAIJgAEAdkilUlm9N2psbDQkAPiY2rVrF+edd15897vfjRNOOCEKCgo0Bfu7D94f55sSAEDyCIABAHbI9gA4nU4bEgB8Qu3bt/9nEDxq1KjIy/NqBPu799kfp0wJACB5/FcOAMAOXnABQPPRoUOHuOiii+J73/ueIJi9JpPJZHuJ/sUAAEggmzgAgP+R1QFwAl4QAkDidOzYMS666KL41re+FYcffnj4fTDs796xOc7yG3IAANg5mzgAgITsjQTAALD7dOvWLS699NL41re+FcOGDRMEs0dk+xXQeXl5/kUAAEigAi0AAPiHbH/BJQAGgN2ve/fuceWVV8ayZcviiSeeiDlz5mgKzXl/5/AIAEACCYABAHbIZDJOAAMAERGx7777xtixY2PJkiUxYcKEmD9/vqZgfwwAQCIIgAEA/ocr7gCA/2W//faLG264Id56660YP358vPnmm5rCLpPtV0Cn3IUOAJBIAmAAgB2y/QVXtr8gBIBc1rdv37jxxhvjrbfeinHjxsWiRYs0hU/MFdAAANjEAQDsXln9Bs4BDADY+/r27Rs333xz3HDDDdG7d28NIdf3d75BAgCQQE4AAwDskO0nMATAAJA9BgwYEAMGDIj58+fHI488EitXrtQUcnF/5woaAIAEcgIYAGCHVCqVzvL6DAkAssyAAQPi1ltvjbFjx0bPnj01hJza32UScEc1AAD/lxPAAAD/QwAMAHysv6MHDRoUBx98cDz//PMxadKk2LRpk8aQ+P1dtv+CJAAAO+cEMADADul0dr/fEgADQHarr6+PioqK2LZtm2aQE/u7dDrtBDAAQAI5AQwA8D+cAAYAPrK6urp4+umnY9q0acJfcm1/5wQwAEACCYABAP6HEw4AwIfW0NAQ06ZNiyeffDK2bt2qIXxkCfgGsAAYACCBBMAAADtkMpmsDoDz8ny9AwCywdvB71NPPRXV1dUaQs7u7wTAAADJJAAGANgh219wCYABYO9qbGyMGTNmxJNPPhmVlZUawieWn5+f9VtkUwIASB4BMADADplMpiGb6yssLDQkANgL0ul0zJo1KyZPnhwbN27UEHaZgoLsfjXX1NTUaEoAAAncZ2oBAMA/NDY2bs/m+gTAALBnpdPpePnll2Py5Mmxdu1aDWGXa9GiRbb/O1BvSgAAySMABgDYoampSQAMAEQmk4nZs2fH448/HuXl5RpCs93fNTY2CoABABJIAAwAsENDQ0NWv+ASAAPA7vV28PvEE0/E6tWrNYTdLtuvgM72G3IAAHiPfaYWAAD8gyugAaD5mjNnTkyaNCmWLl2qGewx2X4FtAAYACCZBMAAADs0NTU5AQwAzcyCBQtiwoQJ8dZbb2kG9nfv0tDQIAAGAEggATAAwA7Z/oJLAAwAu87ChQtj/PjxsXjxYs1gr8n2K6Cz/RckAQB4j32mFgAA/EO2B8AFBQWRl5cX6XTasADgY1q+fHmMGzcu5s+frxnsVXl5eVkfAG/fvt0JYACABBIAAwDs0NDQkPUnHFq1ahXbtm0zLAD4iFauXBmPPPKI4Jes2tclYH8sAAYASCABMADADrW1tXXZXqMAGAA+mnXr1sX48eNj9uzZkclkNISs2tdlu7q6ulqTAgBIHgEwAMAOW7du3ZrtNSbhRSEAZIP169fHY489JvjFvu4TqK6u3mpSAADJIwAGANihqqpKAAwACbdhw4Z4/PHH45VXXommpiYNwb7uE6isrHT1DABAAgmAAQB22LRpU9a/4GrZsqVBAcBOVFVVxcSJE+OFF16IxsZGDSHrJSEA3rRpkxPAAAAJJAAGANhh3bp1WR8AOwEMAP/bli1bYsKECYJfEicJ+7ry8nIBMABAAgmAAQB2WLZsmSugASAhqqurY/LkyTFz5syor6/XEBInCfu6pUuXCoABABJIAAwAsMP8+fOz/gRwcXGxQQHQrNXU1MSUKVPimWeeEfySaEnY173++uu+AQwAkEACYACAHRYsWFCXyWQaUqlUYbbW2Lp1a4MCoFmqq6uLp59+OqZNmxbbtsmkSL5s39el0+mGpUuXbjcpAIDkEQADALxDU1PTtoKCgrbZWp8AGIDmZvv27TF9+vR48sknY+tWt9GSO7J9X9fU1ORfOACAhBIAAwC8Q0NDw9ZsDoBLS0sNCYDm8ndyTJs2LZ566qmorq7WEHJOtu/rGhsb/YsHAJBQAmAAgHeor6+vbNWqVc9src8JYAByXWNjY8yYMSOefPLJqKys1BByVrbv6+rr66tMCQAgmQTAAADv0NDQkNVvmgXAAOSqdDods2bNismTJ8fGjRs1hJyX7fu6bN8XAwDw3gTAAADvUFdXV5XN9ZWWlkYqlYpMJmNYAOSETCYTr732Wjz++OOxatUqDaFZSKVSUVJSktU11tbWVpkUAEAyCYABAN5h27Ztm7K5vvz8/GjVqlXU1NQYFgCJlslkYvbs2fH4449HeXm5htCstGrVKvLz87O6xq1btzoBDACQUAJgAIB3qK6u3pztNZaVlQmAAUist4PfiRMnxpo1azSEZqmsrCzra9y2bVuVSQEAJJMAGADgHaqqqjZle43t2rWLtWvXGhYAiTNnzpyYNGlSLF26VDNo1tq1a5f1NW7atMkJYACALNbQWBgFjQ0REZFKRSavMJre/pkAGADgHSoqKqqyvcYkvDAEgHdasGBBTJgwId566y3NgITs5zZs2CAABgDIYoUFDf9MejMRqab0/+S+AmAAgHdYtWpV1r/oatu2rUEBkAgLFy6M8ePHx+LFizUD3iEJAfDq1aurTAoAIJkEwAAA77BgwYKsD4CdAAYg2y1fvjzGjRsX8+fP1wzYiST8Ql8S9sUAAOycABgA4B2eeOKJjZlMpimVSuVna41OAAOQrVauXBmPPPKI4Bc+QLb/Ql8mk2l64oknNpoUAEAyCYABAN6huro6vX379g1FRUVdsrVGJ4AByDZr166NCRMmxOzZsyOTyWgIJHw/t3379g3V1dVpkwIASCYBMADAu9TV1a0XAAPAB1u/fn089thjgl/Isf1cXV3delMCAEguATAAwLvU1dVVtGnTJmvrKykpiRYtWsT27dsNC4C9oqKiIiZOnBivvPJKNDU1aQh8BEVFRVFcXJz1+2GTAgBILgEwAMC7bN26dV2XLll7ADhSqVR07Ngx1qxZY1gA7FFVVVUxceLEeP755wW/8DF17NgxUqlU1u+HTQoAILkEwAAA71JVVZX1Jx46deokAAZgj9m8eXM8/vjj8cILL0RjY6OGwCfcx9kPAwCwOwmAAQDeZf369Vn/zbMkvDgEIPm2bNkSU6ZMiZkzZ0Z9fb2GwC7QsWNH+2EAAHYrATAAwLusXr066088JOHFIQDJVVNTE1OmTIlnnnlG8Au7WBJ+kW/VqlUCYACABBMAAwC8y9///ves/+aZABiA3aG2tjYmT54czz77bNTV1WkINNN93KuvvioABgBIMAEwAMC7PPzww+t//OMfN6RSqcJsrbFz584GBcAus3379pg+fXpMnTo1tm3bpiGwG2X7CeB0Ot3w8MMPC4ABABJMAAwA8C7V1dXpurq68latWu2TrTV26NAh8vLyIp1OGxgAH1tDQ0NMmzYtnnrqqaiurtYQ2M3y8vKiQ4cOWV1jfX39mtraWptMAIAEEwADAOxEbW3tmmwOgAsKCqJdu3axceNGwwLgI2tsbIwZM2bEk08+GZWVlRoCe0j79u2joCC7X8fV1NSUmxQAQLIJgAEAdmLz5s2r2rdvn9U1duvWTQAMwEeSTqdj1qxZMXnyZH+HwF7av2W7LVu2rDQpAIBkEwADAOzEpk2bVvfp0yera+zWrVvMmzfPsAD4QG8Hv1OmTIkNGzZoCOzF/Vu227BhwxqTAgBINgEwAMBOrFixYvWwYcOyusYkvEAEYO/KZDLx0ksvxZQpU6K83K2usLd17do162tctWrVKpMCAEg2ATAAwE7Mnz9/9ZgxY7K6xiS8QARg78hkMjF79uyYOHFirFnjMB9kiyT8At+8efP8oQEAkHACYACAnRg3btyab37zm5mISGVrjU4AA7Azc+bMiSeeeCKWLVumGZBlEvALfJlx48atNikAgGQTAAMA7MTrr79e29DQsKmwsLBDttZYXFwcZWVlsWXLFgMDIBYsWBDjx4+PJUuWaAZkobKysiguLs7qGhsaGjYuWLCgzrQAAJJNAAwA8B62bt26vF27dh2yucauXbsKgAGauYULF8b48eNj8eLFmgFZLAm3t2zbtm25SQEAJJ8AGADgPVRVVS1t167d0GyusWfPnrFw4ULDAmiGli1bFo899ljMnz9fMyABevbsmfU1VlZWLjUpAIDkEwADALyHdevWLevTp09W15iEF4kA7ForVqyIRx99VPALCZOEfdvatWuXmRQAQPIJgAEA3sPChQuXHX744VldY69evQwKoJlYtWpVjB8/PubOnRuZTEZDIGGSsG9buHDhMpMCAEg+ATAAwHuYNm3a0ksuuSSra+zevXvk5+dHU1OTgQHkqHXr1sX48eNj9uzZgl9IqIKCgkR8A/jpp59eZloAADmw/9QCAICde+ihhzbcd999W/Pz80uzdjNXUBBdunSJNWvWGBhAjqmoqIiJEyfGyy+/HOl0WkMgwbp27RoFBdn9Gq6xsbH6kUce2WBaAADJJwAGAHgf27ZtW15WVnZwNtfYq1cvATBADqmqqoqJEyfG888/74YHyBFJ+P7vtm3blpsUAEBuEAADALyPLVu2LMv2ALhnz57x0ksvGRZAwm3evDkef/zxeOGFF6KxsVFDIIck4fu/W7ZsWWpSAAC5QQAMAPA+1q9fvyzbT2z06NHDoAASbMuWLTFlypSYOXNm1NfXawjkoCTs19avX7/MpAAAcoMAGADgfSxYsGDh0KFDs7rGfffdN1KpVGQyGQMDSJCampqYMmVKPPPMM4JfyGGpVCr23XffrK9z/vz5C00LACA3CIABAN7Ho48++uYFF1yQ1TWWlJRE586dY926dQYGkAC1tbUxefLkePbZZ6Ourk5DIMd17do1WrVqlfV1/vnPf15kWgAAuUEADADwPiZNmlRVX1+/oaioqGM217nvvvsKgAGy3Pbt22P69OkxderU2LZtm4ZAM9GnT5+sr7G+vr7iySefrDItAIDcIAAGAPgAW7duXZTtAXCfPn3ipZdeMiyALNTQ0BDTpk2Lp556KqqrqzUEmpkkXP+8detWp38BAHKIABgA4ANUVFQs7NChw8hsrjEJLxYBmpvGxsaYMWNGPPnkk1FZWakh0EwlYZ9WUVHh+78AADlEAAwA8AGWLl266MADD8zqGnv16hUFBQXR2NhoYAB7WTqdjlmzZsWkSZNi06ZNGgLNWGFhYfTs2TMR+13TAgDIHQJgAIAPMHPmzEWnnnpqdm/qCgqiZ8+esWzZMgMD2EveDn4nT54cGzdu1BAg9tlnn8jPz0/CfnexaQEA5I48LQAAeH+//OUvV6bT6bpsr7NPnz6GBbAXZDKZePHFF+O73/1u3H///cJf4J+ScP1zOp2u++Uvf7nStAAAcocTwAAAH6C6ujpdXV29uE2bNodkc539+vWL6dOnGxjAHpLJZGL27NkxceLEWLNmjYYAO92fJWCvu7i6ujptWgAAuUMADADwIWzYsGFetgfA/fv3NyiAPeTVV1+NSZMmxapVqzQD2KlUKpWI/dmGDRvmmhYAQG4RAAMAfAiLFy9+o2/fvlldY1lZWXTu3DnWr19vYAC7yYIFC2L8+PGxZMkSzQDeV5cuXaK0tDQJ+9z5pgUAkFsEwAAAH8JTTz31+ujRo7O+zv33318ADLAbLFy4MMaPHx+LFy/WDOBD78uSYMqUKa+bFgBAbsnTAgCAD/aLX/xiTWNjY1W215mUF40ASbFs2bK4++674z/+4z+Ev8BHkoTv/zY0NFTee++9q00LACC3OAEMAPAhNDQ0ZDZv3jy/Q4cOI7O5TgEwwK6xYsWKePTRR2P+fDejArm7L9uyZYs/5AAAcpAAGADgQ1q3bl3WB8AdO3aMNm3axObNmw0M4GNYtWpVjB8/PubOnRuZTEZDgI+lbdu20aFDh0Tsb00LACD3CIABAD6kefPmzTvooIOyvs4DDzwwXnrpJQMD+AjWrVsX48ePj9mzZwt+gV2yH0uCuXPnzjMtAIDcIwAGAPiQ/vznP88/77zzsr7OAw44QAAM8CFVVFTEuHHjBL/ALt+PJcHDDz/sBDAAQA4SAAMAfEgTJ06srK2tXdGqVat9srnOgw8+2LAAPkBVVVVMnDgxnn/++WhqatIQYJdKwq0xNTU1yydNmlRlWgAAuUcADADwEWzYsOHvvXr1yuoAuG3bttG1a9dYu3atgQG8y+bNm+Pxxx+PF154IRobGzUE2OW6desWbdu2TcS+1rQAAHKTABgA4CNYuHDha7169Toj2+scMGCAABjgHbZs2RJTpkyJ5557LrZv364hwG6TlO//Lly48O+mBQCQmwTAAAAfwcSJE/9+wgknZH2dBx54YEyfPt3AgGavpqYmpkyZEs8880zU19drCLDbDRgwIBF1jh8//u+mBQCQmwTAAAAfwb333rv6Bz/4wfqioqLO2VznAQccEHl5eZFOpw0NaJZqa2tj8uTJ8eyzz0ZdXZ2GAHtEXl5e9O/fP+vrrK+vX3ffffeVmxgAQG4SAAMAfESVlZVzu3btmtXHgFu1ahX77LNPLFu2zMCAZqWuri6efvrpmDZtWmzbtk1DgD1qn332iVatWmV9nZs2bZpjWgAAuUsADADwES1dunR2tgfAERGDBg0SAAPNRkNDQ0ybNi2eeuqpqK6u1hBgr+2/kuCtt976m2kBAOQuATAAwEc0ffr0v48cOTLr6xw4cGBMmDDBwICc1tDQEM8991w8+eSTUVlZqSHAXt9/JcG0adP+bloAALlLAAwA8BH9x3/8x9JbbrmlOj8/v3U219mrV68oKyuLLVu2GBqQc9LpdMyaNSsmTZoUmzZt0hBgrysrK4tevXplfZ2NjY1b7rnnnmUmBgCQuwTAAAAfUW1tbXrDhg1/7dKly3HZXGcqlYqBAwfGrFmzDA3IGW8Hv5MnT46NGzdqCJA1Bg4cGKlUKuvr3Lhx4yu1tbVpEwMAyF0CYACAj+Gtt956JdsD4IgQAAM5I51Ox8svvxxTpkyJ8vJyDQGyct+VBIsWLXrFtAAAcpsAGADgYxg/fvwrRxxxRNbXedBBB0VBQUE0NjYaGpBImUwmZs+eHRMnTow1a9ZoCJCVCgoK4qCDDkpErY888ogAGAAgx+VpAQDAR/fjH/94ZX19/fpsr7OoqCj69etnYEAivfrqq3HHHXfEz3/+c+EvkNX69esXRUVFWV9nXV1d+b333rvaxAAAcpsTwAAAH9OGDRte6dGjx6ezvc5BgwbFggULDAxIjCVLlsSECRNi/vz5mgEkwuDBgxNR5/r1653+BQBoBgTAAAAf07x5815OQgA8bNiwePjhhyOTyRgakNXefPPNmDBhQixevFgzgMRIpVIxdOjQRNQ6d+7cl0wMACD3CYABAD6m++677+XRo0dnIiKVzXW2bds2evfuHcuWLTM0ICstW7YsHnvsMSd+gUTq06dPtG3bNgmlpu+9996/mhgAQO4TAAMAfEwTJ06s3Lp165LS0tK+2V7rkCFDBMBA1lmxYkU8+uijgl8g0YYMGZKIOqurqxc+/fTTm00MACD3CYABAD6B8vLyl/fff/+sD4AHDx4c48aNMzAgK6xcuTImTJgQc+fOdT09kHhJ+f7vmjVrfP8XAKCZEAADAHwCM2fOfG7//ff/fLbX2a1bt+jWrVuUl5cbGrDXrFu3LsaPHx+zZ88W/AI5oWfPntGlS5dE1DpjxoznTAwAoHkQAAMAfAK33Xbba5dcckl1fn5+62yvdciQIQJgYK9Yv359PPbYY4JfIOck5frnxsbGzbfddts8EwMAaB4EwAAAn0BlZWXThg0b/tqlS5fjsr3WQw89NCZNmmRowJ78MzKeeOKJeP7556OpqUlDgJxz6KGHJqLOioqKV6qrq9MmBgDQPAiAAQA+oXnz5s1MQgDcu3dv10ADe0RVVVVMnDgxXnjhhWhsbNQQICd17949evbsmZT9quufAQCakTwtAAD4ZP77v/97VkQk4kTFpz71KQMDdpstW7bEQw89FLfffns899xzwl8gpw0fPjwRdWYymfTdd9/9gokBADQfTgADAHxCkyZNqtqyZcuCsrKyg7K91uHDh8fjjz9uaMAuVVNTE1OmTIlnnnkm6uvrNQTIealUKg477LBE1Lply5bXp0+fvsXUAACaDwEwAMAusHz58lkDBw7M+gC4S5cu0atXr1i5cqWhAZ9YbW1tTJ48OZ599tmoq6vTEKDZ6N27d3Ts2DEx+1QTAwBoXgTAAAC7wLPPPvvCwIEDr0hCrcOGDRMAA59IXV1dPP300zFt2rTYtm2bhgDNzrBhwxJT61/+8pcXTQwAoHnxDWAAgF3g1ltvnV9fX782CbUefvjhkUqlDA34yBoaGmLq1Klx6623xuOPPy78BZqlJF3/XFdXt/rWW29dYGoAAM2LE8AAALtAQ0NDZs2aNc/16dPns9lea7t27aJPnz6xZMkSgwM+7J9xMW3atHjqqaeiurpaQ4Bmbb/99ou2bdsmotbVq1fPNDEAgOZHAAwAsIs8++yz05IQAEdEHHHEEQJg4AOl0+mYNWtWTJo0KTZt2qQhABFx5JFHJqbW6dOnTzMxAIDmxxXQAAC7yC233PJaQ0NDZRJqHT58eLRo0cLQgJ1Kp9Px3HPPxW233Rb333+/8Bdgh6KiovjUpz6ViFobGho23HLLLXNNDQCg+XECGABgF6murk6Xl5c/t88++5yR7bW2bNkyDj300Hj55ZcNDvindDodL7/8ckyZMiXKy8s1BOBdhgwZEkVFRYmodc2aNc/V1tamTQ0AoPkRAAMA7EIvvvjiM0kIgCMiRo4cKQAGIiIik8nE7NmzY+LEibFmzRoNAXif/VNSzJo161kTAwBongTAAAC70O233/7KOeecszU/P78022sdMGBAtG/f3tWu0My9+uqrMWnSpFi1apVmALyPjh07xgEHHJCIWhsbG6u/8Y1v/NXUAACaJwEwAMAutHLlyob169fP6tat2+hsrzWVSsXhhx8ekyZNMjhohubMmROTJ0+OJUuWaAbAh3D44YdHKpVKRK3r16+fVVFR0WhqAADNU54WAADsWq+++mpirts77LDDDAyamTfffDP+/d//PX7yk58IfwE+pFQqFSNGjEhMva+88sozpgYA0Hw5AQwAsIvddNNNz5166qnV+fn5rbO91m7dukX//v1j4cKFBgc5btmyZfHYY4/F/PnzNQPgIzrggAOic+fOiai1sbFxy4033jjL1AAAmi8BMADALrZy5cqG8vLyGT179vx0Euo9+uijBcCQw5YvXx7jxo0T/AJ8wv1SUpSXlz9TXl7eYGoAAM2XABgAYDeYMWPGUxdccEEiAuAhQ4ZE69ato7q62uAgh6xcuTImTJgQc+fOjUwmoyEAH1ObNm3i0EMPTUy9zz777FOmBgDQvPkGMADAbvDVr371lYaGhk1JqLWgoCCOOOIIQ4McsW7duvj5z38ed955Z8yZM0f4C/AJjRw5MvLz8xNRa0NDw8abbrrpVVMDAGjenAAGANgNKisrm1atWjW9T58+5ySh3qOPPjqefPJJQREk2Pr16+Oxxx6L2bNn+3cZYBdJpVIxatSoxNS7cuXKadXV1WmTAwBo3pwABgDYTaZNm5aY6/c6duwYAwYMMDRIoA0bNsSvf/3r+Nd//dd49dVXhb8Au9CAAQOiY8eOian36aefftLUAAAQAAMA7CZf+9rX5tTX11ckpd6jjjrK0CBBqqqq4v77749vf/vb8eKLL0ZTU5OmAOxiRx55ZGJqra+vX/eNb3zjdVMDAMAV0AAAu0ltbW16xYoVT++///6fT0K9hx56aLRt2zaqqqoMD7LYli1bYsqUKfHcc8/F9u3bNQRgN2nbtm0MGTIkMfUuX778qdraWtc/AwDgBDAAwO70xz/+cUJSas3Pz4/jjjvO0CBL1dTUxKOPPhq33XZb/OUvfxH+Auxmxx57bOTn5yel3Myvf/3rCaYGAECEABgAYLe66667llZXV89PSr1HH310tGjRwuAgi7wd/H7jG9+IqVOnRn19vaYA7GYtWrSIo48+OjH1btmy5Y177rlnhckBABDhCmgAgN3u9ddfn3T44YcPSEKtxcXFcdhhh8XMmTMNDvayurq6ePrpp2PatGmxbds2DQHYgw477LAoKSlJTL3z5s17wtQAAHibE8AAALvZ9773vanpdLohKfWecMIJkUqlDA72koaGhpg6dWrceuut8fjjjwt/AfawVCoVJ5xwQmLqTafT27/73e8+ZXIAALzNCWAAgN1s+vTpWyoqKmZ26dIlER/Y7d69e/Tv3z/efPNNw4M9qKGhIaZNmxZPPfVUVFdXawjAXnLAAQdE9+7dE1NvRUXFczNmzPAXBwAA/+QEMADAHjBr1qxEXcuXpFMvkHTpdDqee+65uP322+PRRx8V/gLsZccff3yi6p0xY8YkUwMA4J2cAAYA2AO++tWvvnT66adXFRYWtk1CvQMHDoyOHTvGhg0bDA92k3Q6HbNmzYrJkyfHxo0bNQQgC3Ts2DEGDhyYmHobGhoqb7755pdMDgCAd3ICGABgDygvL29YsWLF1MRsEvPy4sQTTzQ42A3S6XS8+OKL8Z3vfCfuv/9+4S9AFjnppJMiLy85r8tWrFgxpaKiotHkAAB4JwEwAMAe8qtf/erRiMgkpd6jjjoqysrKDA52kUwmE6+++mp873vfi1//+texdu1aTQHIImVlZXHUUUcl6q+W//7v//6zyQEA8G4CYACAPeQ///M/l1dWVv4tKfUWFhbGMcccY3CwC7wd/P785z+PNWvWaAhAFjruuOOioCA5X0urqqqa/dOf/nS1yQEA8G4CYACAPeill14al6R6jzvuuCgqKjI4+JjmzJkTd911V/z85z+P1au9owfIVkVFRYn7xbcXXnhhnMkBALAzBVoAALDnjB079pkFCxZUFhYWtktCvSUlJXHEEUfE9OnTDQ8+gjfffDPGjx8fb731lmYAJMCRRx4ZJSUliam3oaFh0zXXXPOsyQEAsDMCYACAPai8vLxh6dKlE/v3739xUmo+8cQT49lnn410Om2A8AEWLVoUjz32WCxevFgzABIiLy8vTjzxxETVvGTJkifKy8sbTA8AgJ3ucbUAAGDP+u1vfzsxIjJJqbdjx44xdOhQg4P3sXz58rj77rvjRz/6kfAXIGGGDRsWHTp0SFLJmd/85jePmxwAAO9FAAwAsIf953/+5/JNmza9kqSaTz/99EilUoYH77Jy5cr4yU9+Et///vdj/vz5GgKQMHl5eXHGGWckquZNmza9fM8996wwPQAA3osroAEA9oKXXnpp/KmnnnpYUurt2rVrDBkyJGbPnm14EBHr1q2L8ePHx+zZsyOTyWgIQEINHTo0OnfunKiaX3jhhQkmBwDA+xEAAwDsBZdffvkzS5YsWVdUVNQlKTWfccYZ8be//U3YRbO2fv36eOyxxwS/ADkglUrF6aefnqia6+rq1lx22WXTTQ8AgPcjAAYA2AsqKyub5s+f/8ihhx56dVJq7tatm1PANFsbNmyIxx9/PF555ZVoamrSEIAc8KlPfSq6du2aqJrfeOONcdXV1WnTAwDg/fgGMADAXvL1r399XDqdrktSzb4FTHNTVVUV999/f3z729+OF198UfgLkCNSqVR8+tOfTlTN6XS69pvf/OZjpgcAwAdxAhgAYC+ZMWNG9Zo1a/7Ss2fPxLx97N69ewwcODDmzJljgOS0LVu2xIQJE+KFF16IxsZGDQHIMYceemh069YtUTWvXr36qRkzZlSbHgAAH8QJYACAvejXv/71HyMiUR8SPeuss5wCJmdt27YtHn300bjtttviueeeE/4C5KC8vLwYM2ZM0srO/OpXv/qT6QEA8KH2vFoAALD3fP/733+rqqoqUR/V7dGjR3zqU58yPHJKfX19TJ06Nb71rW/F1KlTo76+XlMActSIESOiS5cuiap506ZNf73rrruWmh4AAB+GABgAYC975plnHkpazWeccUbk5dlKkjvmzZsXjz76aGzdulUzAHJYQUFBnH766Ymre9q0aQ+aHgAAH5a3dgAAe9nYsWNn1tfXr01SzZ07d47DDjvM8ACARBk5cmR06NAhUTXX1dWtHjt27POmBwDAhyUABgDYyyorK5tee+21Pyat7jPPPDMKCgoMEABIhBYtWiTy9O/s2bP/UF1dnTZBAAA+LAEwAEAWuOqqqyY0NjZWJanm9u3bx9FHH214AEAiHHfccdGmTZtE1dzQ0LDxiiuumGh6AAB8FAJgAIAssGDBgrqFCxc+lrS6R48eHYWFhQYIAGS1li1bxsknn5y4uhcuXDhu6dKl200QAICPQgAMAJAlvv71r/8pnU7XJqnmtm3bximnnGJ4AEBWO+2006K0tDRRNTc1NdV+7Wtfe8j0AAD4qATAAABZ4umnn968fPnyxF3xN3r06GjXrp0BAgBZqUOHDnH88ccnru5ly5ZNmD59+hYTBADgoxIAAwBkkbvvvvtPmUymKUk1FxYWxumnn254AEBWOvPMMxP3yYpMJtN41113/dH0AAD4OATAAABZ5Be/+MWatWvXTkta3UcccUT06tXLAAGArNK7d+847LDDEld3eXn5X+6///51JggAwMchAAYAyDIPP/zwn5JWcyqVijPPPNPwAICsMmbMmEilUomr+8EHH/yT6QEA8HEJgAEAsszXv/71NzZs2DAraXUPHDgwDj74YAMEALLCoEGDYsCAAYmru6KiYuatt966wAQBAPi4BMAAAFlo3Lhxv01i3WPGjIm8PFtMAGDvysvLizFjxiSy9j//+c+/NUEAAD7RflgLAACyz/XXXz+nqqrqr0mru1evXnHUUUcZIACwVx1zzDHRvXv3xNW9adOmV2666aa5JggAwCchAAYAyFJ/+tOf7k1i3WPGjInS0lIDBAD2ijZt2sRZZ52VyNofeOCBe00QAIBPSgAMAJClbrrpprlJPAVcXFwcZ555pgECAHvFWWedFS1btkxc3Zs2bXrl5ptvnmeCAAB8UgJgAIAsNm7cuF8lse5Ro0ZF7969DRAA2KP69OkTI0eOTGTtjz322K9MEACAXUEADACQxcaOHTu7qqrqb0mrO5VKxfnnnx+pVMoQAYA9tv/4/Oc/n8j9R2Vl5d+uueaav5kiAAC7ggAYACDLTZ069bdJrLtv374xZMgQAwQA9ojDDjsssTeQTJ48+TcmCADAriIABgDIcpdeeumLVVVVryax9s9//vNRXFxsiADAblVaWhrnn39+Imuvqqr66+WXX/6SKQIAsKsIgAEAEuChhx76WRLrLisri9NPP90AAYDd6qyzzoqSkpIklp753e9+91MTBABgVxIAAwAkwA033DB3w4YNs5JY+3HHHRd9+vQxRABgt+jbt28cddRRiay9oqJi1te//vU3TBEAgF1JAAwAkBA///nPfxoR6aTVnUql4vOf/3zk5dl6AgC7Vn5+flx00UWRSqWSWH76F7/4xX+bIgAAu5q3cAAACXHHHXe8tW7duulJrL13795xzDHHGCIAsEudcMIJ0b1790TWXl5e/pc77rjjLVMEAGBXEwADACTI3XfffW8mk2lKYu1nnXVWtG3b1hABgF2iQ4cOcfrppyey9kwm03T33Xf/3BQBANgdBMAAAAlyzz33rCgvL386ibW3bNkyzj33XEMEAHaJc889N1q0aJHI2tesWTP1xz/+8UpTBABgdxAAAwAkzA9/+MOfZzKZhiTWPnz48Bg0aJAhAgCfyKGHHhpDhw5NZO3pdLrhBz/4wS9MEQCA3UUADACQMPfee+/qRYsWPZDU+i+++OIoKSkxSADgY2ndunVcfPHFia1/4cKFf7jvvvvKTRIAgN1FAAwAkECXXXbZrxsaGjYlsfaysjJXQQMAH9u5554bpaWliay9oaFh4+WXX/47UwQAYHcSAAMAJNDs2bNrXn311V8ntf4jjjgiDj74YIMEAD6SwYMHx+GHH57Y+l955ZX7Zs+eXWOSAADsTgJgAICEOueccx6tqalZmtT6L7roomjZsqVBAgAfSsuWLeNzn/tcYuuvqalZMmbMmMdMEgCA3U0ADACQUJWVlU3Tpk37RVLrb9++fZx++ukGCQB8KGeccUa0b98+sfU/+eST91ZXV6dNEgCA3U0ADACQYOedd960qqqqV5Ja/wknnOAqaADgAx188MFx/PHHJ7b+TZs2vXzBBRc8a5IAAOwJAmAAgIT74x//eG9EZJJYeyqVigsuuMBV0ADAe2rZsmVccMEFkUqlkrqEzP333/8zkwQAYE8RAAMAJNzNN988b9WqVU8ktf6OHTsm+nt+AMDudcEFF0THjh0TW/+KFSse//rXv/6GSQIAsKcIgAEAcsCNN974k6ampq1JrX/kyJExdOhQgwQA/pdPfepTMWLEiMTW39TUVH3zzTf/t0kCALAnCYABAHLAxIkTK//+97//KslruPDCC6OsrMwwAYCIiGjTpk18/vOfT/QaZs+efd/EiRMrTRMAgD1JAAwAkCPOPvvsh2pqapYntf7S0tK46KKLDBIAiFQqFV/84hejtLQ0sWuoqal566yzznrYNAEA2NMEwAAAOaKioqJx0qRJP07yGgYPHhwjR440TABo5o444og46KCDEr2GJ5544qeVlZVNpgkAwJ4mAAYAyCGXXHLJzIqKihlJXsMFF1wQ3bp1M0wAaKZ69uyZ+KufKyoqZnzhC1+YZZoAAOwNAmAAgBzzb//2b/ek0+ntSa2/RYsWceWVV0ZhYaFhAkAzU1hYGF/60pcSvQ9Ip9Pb/+3f/u0e0wQAYG8RAAMA5Jh777139aJFix5M8hq6d+8eZ555pmECQDNzxhlnRPfu3RO9hsWLFz947733rjZNAAD2FgEwAEAO+uxnP/vL2traRL94PPHEE2Pw4MGGCQDNxKBBg+Kkk05K9Bpqa2tXn3vuub80TQAA9iYBMABADlq8eHH9uHHj/j3Ja0ilUnHJJZdE27ZtDRQAclybNm3ikksuiVQqleh1jBs37t8XL15cb6IAAOxNAmAAgBx1+eWXv1RRUTEjyWsoLS2NL3zhC4l/GQwAvLe3f+mrdevWiV5HRUXFM5dffvlLJgoAwN4mAAYAyGE33HDDXU1NTVuTvIaDDjrI94ABIId95jOfiUMOOSTRa2hqaqq+4YYbfmiaAABkAwEwAEAOGzdu3MbZs2cn/jt0p5xyiu8BA0AOOuSQQ+LTn/504tfx17/+9efjxo3baKIAAGQDATAAQI77zGc+81B1dfXCJK8hlUrFF7/4xejQoYOBAkCO6NixY3zpS19K/KceNm/ePO+00057xEQBAMgWAmAAgBxXXV2dfuCBB34UEekkr6O4uDguvfTSyMuzhQWApMvPz4/LLrssiouLk76U9P333/+ftbW1aVMFACBbeHsGANAMXH/99XMWLVr0YNLXsf/++8e5555roACQcOedd1707ds38etYuHDhH7/61a++bqIAAGQTATAAQDNxySWX/Lyurq486es4/vjjfQ8YABJs2LBhccwxxyR+HXV1dWsuvPDC+0wUAIBsIwAGAGgmXnvttdoHHnjguxGRSfI6UqlUfOlLX4oePXoYKgAkTO/evePSSy9N/Hd/IyLzwAMPfO/111+vNVUAALKNABgAoBm5+uqr/7Z06dJHk76OoqKiGDt2bJSWlhoqACRE69at46qrrorCwsLEr2X58uXjrr766r+ZKgAA2UgADADQzJx33nn/r66ubnXS19GhQ4e4/PLLIy/PlhYAsl1eXl5cfvnl0b59+8Svpb6+ft0ll1zyE1MFACBr999aAADQvLz++uu1Dz744Pcj4VdBR0QMGDAgzjrrLEMFgCw3ZsyYOPDAA3NiLY899tgPXnnllW2mCgBAthIAAwA0Q1/5ylf+umbNmqm5sJaTTz45Dj30UEMFgCw1ZMiQOOmkk3JiLWvXrv3LpZde+oKpAgCQzQTAAADN1GWXXfYf9fX1FUlfRyqViksvvTS6d+9uqACQZXr06BFf/OIXI5VKJX4tDQ0Nm6655pofmioAANlOAAwA0EzNmDGj+oEHHvhO5MBV0C1btozrr78+2rZta7AAkCXatWsX1113XbRs2TIXlpN56KGH/nXSpElVJgsAQLYTAAMANGNf+cpX/rpkyZI/58Ja2rZtG1dffXW0aNHCYAFgL2vRokVcffXVOfPLWUuXLn30iiuueNlkAQBIAgEwAEAzd+655/6ktrZ2eS6spXfv3jlzzSQAJNXbn2fYZ599cmI9tbW1y88555wfmywAAEkhAAYAaOYWLFhQ97Of/ezbmUymMRfWM2zYsDjllFMMFgD2kk9/+tMxdOjQnFhLJpNp/NnPfvbtBQsW1JksAABJIQAGACBuvfXWBfPnz78/V9Zz5plnxuDBgw0WAPaw4cOHx2c+85mcWc/8+fN/d+utty4wWQAAkkQADABARESMGTPmvpqamrdyYS2pVCouu+yy6Nmzp8ECwB7Su3fvuPjii3PmUwxbt25ddPrpp//aZAEASBoBMAAAERGxcuXKhh/+8Ie3pdPpnLjisGXLlvEv//Iv0aVLF8MFgN2sS5cucf3110dRUVFOrKepqanmu9/97jfKy8sbTBcAgKQRAAMA8E933XXX0ueff/6eXFlPaWlpXHvttVFWVma4ALCblJWVxXXXXRclJSU5s6aZM2fe/f/+3/9bZboAACSRABgAgP/l5JNPHldeXv50rqynU6dOMXbs2Jw5kQQA2aSoqCiuueaa6NixY86sqby8/MlTTz11gukCAJBUAmAAAP6PSy655K66urq1ubKefffdN6644orIy7P9BYBdJS8vL6688sro3bt3zqyprq6u/JJLLvmh6QIAkOi9uhYAAPBus2bNqn7ooYfujIh0rqxp4MCBcd555xkuAOwi559/fhxyyCG5tKT0gw8+eOesWbOqTRcAgCTLb3tQ9NzpjndbRG15oQ4BADRTEydOXDNmzJi8Tp06Dc2VNfXp0yfy8/PjzTffNGAA+ATOOuusOOmkk3JqTa+//vp9Z5555kTTBQAgCYq7N0Ze6c5/5gQwAADv6dRTT/31li1bXs+lNZ122mlx9NFHGy4AfEzHHntsnHrqqTm1pi1btrxx2mmn/cZ0AQDIBQJgAADeU0VFReONN974jcbGxqpcWtcFF1wQRx55pAEDwEd05JFHxuc+97mcWlNjY2PVzTff/I2KiopGEwYAIBcIgAEAeF9//OMf1z/yyCPfiRz6HnAqlYqLLroohgwZYsAA8CENHTo0LrrookilUrm0rPQjjzzynfvvv3+dCQMAkCsEwAAAfKBLL730hQULFvwupzbCeXnxpS99Kfbff38DBoAPcNBBB8WXvvSlyMvLrVdJCxYs+N2ll176ggkDAJBLBMAAAHwoo0eP/mVVVdXcXFpTYWFhfOUrX4kePXoYMAC8h169esUVV1wRBQUFObWuqqqqOaNHj/6lCQMAkGsEwAAAfCgVFRWNV1111S0NDQ0bcmldJSUlcfPNN8c+++xjyADwLr17946bbropiouLc2pdDQ0NG6666qqv++4vAAC5SAAMAMCHNmHChE3333//tzKZTDqX1lVcXBzXXXdddO/e3ZABYIfu3bvHtddeG61atcqpdWUymfT999//rQkTJmwyZQAAcpEAGACAj2Ts2LGz58+f/9tcW1fr1q3juuuuiw4dOhgyAM1ehw4d4rrrrovWrVvn3Nrmz5//m7Fjx842ZQAAcpUAGACAj+y44477xaZNm17MtXW1a9cubrzxxmjXrp0hA9BstW3bNmf/Pty4ceOLxx13nO/+AgCQ0wTAAAB8ZNXV1emLL774W3V1datzbW0dO3aMG2+8Mdq0aWPQADQ7ZWVlceONN0bHjh1zbm21tbWrL7zwwturq6vTJg0AQC7Lb3tQ9NzZD9LbImrLC3UIAICdWrZsWf327dtfOvbYY0/Ny8trkUtrKykpiaFDh8Zrr70WNTU1hg1As9ChQ4f42te+Fp06dcq5tTU1NW39zne+M/bBBx9cb9IAAOSC4u6NkVe6858JgAEA+NhefPHFzYcccsiyAQMGnBgRqZzaRBcXx5AhQ4TAADQLHTt2jJtuuik6dOiQi8tLjx8//ravfvWrc0waAIBc8X4BsCugAQD4RC688MIZb7zxxm9ycW3t27ePm266KSdPQgHA2zp16pTL4W+88cYbv77wwgufM2kAAJoLATAAAJ/YqFGjfrFhw4aZubi2t0Pgzp07GzQAOadz585x0003Rfv27XNyfRs2bJg5atSo+0waAIDmRAAMAMAnVltbm77sssu+V1dXtzoX19euXbu44YYbomPHjoYNQM7o0KFDXH/99dGuXbtc3Z+s/sIXvvDd2tratGkDANCc+AYwAAC7xJIlS+oj4pVRo0admpeX1yLX1ldcXBxDhw6NuXPnxrZt2wwcgETr0qVL3HjjjTl77XNTU1P1nXfeec0f/vCHdaYNAEAuer9vAAuAAQDYZWbNmlXVo0ePuYceeujoVCqVn2vra9WqVYwYMSIWLVoUlZWVBg5AIu23335x0003RVlZWU6uL51ON/z617++4fbbb3/TtAEAyFUCYAAA9phJkyatPeqoozbsu+++R+fi+goLC2P48OGxbNmy2LBhg4EDkCgDBgyIa6+9Nlq1apWza5w2bdq/XXLJJc+ZNgAAuez9AmDfAAYAYJc77bTTHn/rrbcezNX1FRUVxTXXXBNDhgwxbAASY8iQIXHNNddEUVFRzq5xwYIFvzv99NOfMG0AAJozATAAALvFEUcccc+GDRtm5ur6CgoK4sorr4wjjjjCsAFIwt/LceWVV0ZBQUHOrrG8vPypESNG/LdpAwDQ3AmAAQDYLaqrq9MXXXTRd2pra1fk7GY6Ly8uvvjiOPLIIw0cgKw1atSouPjiiyMvL3dfA23dunXxZz/72e83NDRkTBwAgObON4ABANhtli9fvr2mpuaFY4899uT8/PyWubjGVCoVgwYNikwmE4sWLTJ0ALLK6aefHueee26kUqmcXWN9fX3FDTfccM3UqVOrTBwAgObi/b4BLAAGAGC3evnll7cUFBS8cMQRR4zOy8trkYtrTKVSccABB0SnTp1i7ty5kck4fATA3lVYWBhXXHFFHHPMMTm9zsbGxuo777zzKz/72c9WmzoAAM2JABgAgL1qxowZlb169Xp98ODBJ6dSqfxcXWfPnj2jb9++8fe//z0aGxsNHoC9olWrVnH11VfHwIEDc3qd6XS64be//e2Nt9122wJTBwCguREAAwCw1z3xxBPlw4cPX9OvX79jIyJn76Hs2LFjDBw4MObMmRN1dXUGD8Ae1a5du7jxxhujT58+ub7U9JQpU779xS9+8XlTBwCgOXq/ADhPewAA2FPGjBkz9Y033vh1rq+zZ8+eceONN0bHjh0NHYA9pkuXLnHTTTdF9+7dc36tc+fO/eU555zzF1MHAID/SwAMAMAe9alPfernS5cufTjX19mlS5e49dZb48ADDzR0AHa7gQMHxje/+c3o1KlTzq/1rbfeemjEiBG/MnUAANg5ATAAAHvcsccee8/GjRtfyPV1FhcXx7XXXhsjRowwdAB2m8MPPzyuuuqqaNmyZc6vdePGjc8fffTR95g6AAC8NwEwAAB7XEVFReNxxx339crKyr/l+loLCgrisssui/PPPz9SqZThA7DLpFKpOP/88+PSSy+NgoKCnF/vpk2bXj7ssMNuqaysbDJ9AAB4bwJgAAD2isWLF9efddZZN1dXV7/ZHNZ7/PHHx5e//OUoKioyfAA+sRYtWsSXv/zlOP7445vFequrq98cM2bMN8rLyxtMHwAA3l9+24Oi585+kN4WUVteqEMAAOw2a9asaVi1atWs0aNHH1dQUNA619fbrVu3OOCAA2LevHlRX1/vAQDgYykrK4trrrkmDjrooGax3rq6uvKxY8de89RTT202fQAA+Ifi7o2RV7rznwmAAQDYq+bNm1ezevXqZ04++eTjCwoKSnN9ve3atYuRI0fG8uXLY+PGjR4AAD6S/v37x0033RRdu3ZtFuutr69fd9111335T3/6U4XpAwDA/xAAAwCQ1ebMmbMtlUq9fOSRR56Ul5eX83ckt2jRIkaMGBG1tbWxdOlSDwAAH8rxxx8fX/rSl5rN5wQaGxu33HXXXdf99Kc/XWn6AADwvwmAAQDIejNnzqzs2bPn64MHDz4plUrl5/p6U6lUHHLIIdGqVatYsGBBZDIZDwEAO5WXlxef/exn4/TTT49UKtUs1pxOp7f//ve//+o3vvGN1z0BAADwfwmAAQBIhEmTJpXvs88+8wYOHHhCKpUqaA5r3m+//WLAgAExd+5c3wUG4P8oKyuL6667LoYNG9Zs1pxOp7f/8Y9/vOmqq676qycAAAB2TgAMAEBiTJw4cc3BBx+85MADDzwulUrlNYc1t2/fPoYOHRqLFi2KLVu2eAgAiIiIffbZJ66//vro2bNns1lzJpNpnDBhwm1f/OIXn/cEAADAexMAAwCQKI8++ujy/fff/42DDjrohOZwHXRERHFxcRx11FHR2NgYb731locAoJkbPXp0XHHFFVFSUtJs1pxOpxsefvjhr15yySWzPAEAAPD+BMAAACTO+PHjVw0cOHDpAQcccGxzOQmcSqViwIAB0aVLl3jjjTeiqanJgwDQzBQVFcWll14aJ554YrP53m/EP07+Pv7447dffPHFMz0FAADwwQTAAAAk0iOPPLLs0EMPXbb//vs3mxA4IqJHjx4xZMiQePPNN2Pr1q0eBIBmonv37vEv//IvccABBzSrdWcymaYnnnji9s997nPPeAoAAODDEQADAJBYDz/88NJjjjlmY+/evY+KiGZzFKq0tDSGDx8eq1evjvXr13sQAHLcwIED45prrol27do1t6VnZsyY8YOzzjprqqcAAAA+PAEwAACJdv/99795zDHHVO6zzz5HRDMKgVu0aBGHHXZYtGzZMhYuXBjpdNrDAJBjCgoK4pxzzonzzz8/WrRo0dyWn37uuefuOuWUUyZ4EgAA4KMRAAMAkHi///3v5w8bNmxF3759j2lO10GnUqno27dvDB06NBYvXhxbtmzxMADkiJ49e8YNN9wQgwcPblbf+434x7XPU6ZM+fbpp58+2ZMAAAAfnQAYAICc8OCDDy4ZNmzYin79+jWrEDgionXr1nHEEUdEfX19LF261MMAkGCpVCpOOOGEuOKKK6JNmzbNbv07wt9vnXPOOX/xNAAAwMcjAAYAIGc89NBDS4YNG7a8X79+xza3EDg/Pz8OPvjg6NWrV8yfPz8aGho8EAAJU1JSEpdffnmccMIJkZ+f3+zWn8lkGp944olvffazn53maQAAgI9PAAwAQE556KGHlo4cOXJdnz59RqWa252ZEdG1a9cYNmxYLFu2LCorKz0QAAnRt2/fuO6662K//fZrluvPZDLpp59++rvnnHPO054GAAD4ZATAAADknD/96U+LDj300KX7779/s7sOOiKiuLg4jjzyyCgpKYk333wz0um0hwIgSxUUFMRnP/vZuPDCC6OkpKRZ9iCdTjc88sgjt5x//vnTPREAAPDJCYABAMhJDz/88NId3wQelUqlmt09mqlUKvr06RMHH3xwLFy4MLZt2+ahAMgynTt3jrFjx8bQoUOjGV5aERH/CH+feOKJ2y+88MLnPBEAALBrCIABAMhZDz300JIePXq8NmjQoGPz8vJaNMcetG3bNkaNGhVNTU2xZMkSDwVAFkilUjF69Oi48soro0OHDs22D01NTdt++9vf/stll132oqcCAAB2HQEwAAA5bdKkSeXdu3efM3jw4GYbAufn58eAAQOiV69esWDBgti+fbsHA2Avad26dVx66aVx/PHHR35+frPtQ2NjY/WvfvWrf7nuuute81QAAMCuJQAGACDnTZ48eW1jY+OMI4444uiCgoKS5tqHrl27xqhRo2Lbtm2xcuVKDwbAHpRKpWLUqFExduzY6NWrV7PuRX19/fo77rjjK9/61rcWejIAAGDXEwADANAsPP/881UbNmx45rjjjjuqsLCwrLn2obCwMAYNGhT77bdfLF68OGpraz0cALtZ+/bt44orrogTTzwxCgub9/uU2tralTfffPPVP/nJT1Z7MgAAYPcQAAMA0Gz87W9/27p27doZJ5xwwsjCwsK2zbkXnTp1ipEjR0Z1dbXTwAC70ciRI+Pqq6+OHj16NPte1NTULL/hhhuu/e1vf7vOkwEAALuPABgAgGbltdde2zpv3rynTznllKFFRUWdmnMvCgsL49BDD4399tsvFi1a5DQwwC709qnfk08+udmf+o2I2Lx587yLL774unHjxm30dAAAwO71fgFwat9zYsTOftC4LmLjq610DwCAxOrVq1fhs88++69du3Y9QTciGhoaYurUqTF58uRobGzUEICPqaCgIE499dQYPXq04HeH8vLyp4499tjvrly5skE3AABg9+swrDYKuuz8ZwJgAAByWuvWrfNeeumlm/fdd9+zdeMfVq9eHffff38sWbJEMwA+ov322y8uuugi1z2/w8KFC38/fPjwnzY0NGR0AwAA9gwBMAAAzd7zzz9/8aGHHnp1RKR0IyKTycTMmTPjz3/+c9TV1WkIwAcoKSmJ8847L0aMGBGplL9Kdki//PLL9xx77LEPagUAAOxZ7xcA+wYwAADNwn333Tfn+OOP39yrV6/DQwgcqVQqevfuHcOHD49169ZFRUWFhwTgPRxyyCExduzY6N+/v/B3h0wm0/jMM8/828knnzxONwAAYM97v28AC4ABAGg2fve7370xePDgJf369Ts6lUrl60hEcXFxjBgxInr06BFLly6N2tpaTQHYoUOHDvGFL3whzjzzzCguLtaQHZqammoeeOCBWz73uc9N1w0AANg7BMAAALDDww8/vKygoOC54cOHH1FQUFCqI//QrVu3OO6446K0tDQWL14cTU1NmgI0Wy1btoxzzjknLr300ujevbuGvENtbe2K22677arbbrvtDd0AAIC9RwAMAADv8Oyzz25avHjx0yeddNKQoqKiTjryD3l5edGnT58YOXJkbN26NVatWqUpQLNz+OGHx1e+8pUYMGBA5OXlacg7VFVV/e3CCy+8/oEHHvDdAAAA2MsEwAAA8C7z58+vefbZZ58+44wz+hcXF/fSkf/RsmXLGDJkSOyzzz6xdOnSqKmp0RQg53Xs2DG++MUvximnnBItW7bUkHdZt27dMyeffPI3Xn755W26AQAAe9/7BcCpfc+JETv7QeO6iI2vttI9AAByWmFhYer555//0sEHH3y5bvxfTU1N8fzzz8f48eOjurpaQ4Cc07p16zjzzDPjyCOPdOJ35zJ///vff3rMMcfc39DQkNEOAADIDh2G1UZBl53/TAAMAAARMWnSpM8cc8wxt6RSKdfg7ERNTU1MmTIlpk2bFg0NDRoCJF5hYWGccsopcdJJJ0VRUZGG7EQ6na6fOnXqd88555y/6AYAAGSX9wuAXQENAAAR8Yc//GHhfvvt98aAAQOOysvLkwS8S2FhYQwYMCCGDh0amzZtinXr1mkKkFiDBw+Oq666KoYOHRoFBQUashONjY1Vv//972/5whe+MEs3AAAg+/gGMAAAfAgTJkxYXV1dPf3II4/8VGFhYTsd+b9KS0vjsMMOi/79+8eaNWti8+bNmgIkRu/evePyyy+PU045JUpLSzXkPWzdunXxLbfccs33vve9hboBAADZyTeAAQDgI+jTp0+LJ5988us9evQ4TTfe3/z58+ORRx6JlStXagaQtXr16hXnnHNODBgwQDM+wKpVq5444YQTfrBy5Ur3/QMAQBbzDWAAAPgYnnnmmfOHDx9+fSqVytON95bJZGL27Nkxbty4qKio0BAga3Tu3DnOOuusGDp0aKRSKQ15/z/Lm2bNmvXDk08++THdAACA7OcbwAAA8DH85je/eX3//fd//cADDzzSd4HfWyqViu7du8cxxxwT7dq1i2XLlkV9fb3GAHtN27Zt49xzz42LL744evToIfz9AI2NjdUPPvjgLZ/97Gf/ohsAAJAMvgEMAAAf0/jx41dFxPOHHXbYiMLCwjIdeW95eXnRu3fvOOqoo6KgoCBWrlwZjY2NGgPsMcXFxXHKKafEl770pejbt2/k5bnA4YPU1tau+MEPfnD9LbfcMk83AAAgQf/94xvAAADwyQwePLjVo48++s1u3bqdpBsfTn19fTzzzDMxderU2LZtm4YAu01ZWVmceuqpceSRR0ZRkQsbPqyVK1c+/ulPf/pHixcvdm0DAAAkjG8AAwDALvLkk0+edeSRR96USqVcl/MhCYKB3eXtE7/HHnus4PcjyGQyDbNmzfoP3/sFAIDk8g1gAADYRX7/+98v6NGjx2uHHHLIyPz8fL8x+SEUFBREv3794qijjoq8vLxYtWqVq6GBT6Rly5ZxwgknxBVXXBEHHXRQFBQUaMqH1NDQsOG3v/3t1z7/+c8/oxsAAJBcroAGAIBd7Lzzzut4991339m2bdvBuvHR1NTUxLPPPhvTpk2LLVu2aAjwoZWVlcXxxx8fxxxzTBQXF2vIR1RVVfW3a6+99vZHHnlkg24AAECyuQIaAAB2g06dOhVMmzZtbN++fT8XESkd+WgaGhri+eefjyeffDI2bJBFAO/7522cdNJJccQRR0RhodvKPobMokWL/nTsscf+pLKyskk7AAAg+QTAAACwG/3hD38Ydfrpp99WUFDQRjc+unQ6Ha+++mpMnTo1Vq5cqSHAP/Xq1StOOeWUGDp0aOTl5WnIx9DY2Fg1YcKEOy666KKZugEAALlDAAwAALvZaaed1vbee+/9docOHUbqxse3fPnymDZtWrz88suRTqc1BJqhvLy8OOyww+L444+P3r17a8gnsHHjxue//OUvf3fSpElVugEAALlFAAwAAHtAYWFh6qmnnjpv+PDh16RSKXeUfgIbNmyIGTNmxHPPPRc1NTUaAs1AcXFxjBo1Ko4++ujo2LGjhnwCmUym4ZVXXvl/J5100kMNDQ0ZHQEAgNzzfgFwftuDoufOfpDeFlFb7p0VAAB8WOl0On7zm9+8Xlpa+uLgwYM/VVhYWKYrH09xcXEMGDAgjj322GjTpk2sXbs2amtrNQZyUIcOHeKMM86ISy+9NAYOHBjFxcWa8gnU1tau+slPfnLjxRdf/IybFAAAIHcVd2+MvNKd/8wJYAAA2A1OPPHENvfdd9+tnTp1Olo3PrnGxsb429/+Fs8++2wsWrRIQyAH9OvXL44++ugYNmxYFBQUaMguUFFR8cwXv/jFf5s+ffoW3QAAgNzmCmgAANhLHn744RNGjx799YKCgta6sWusX78+Zs6cGc8//3xUV1drCCRIaWlpHHnkkXHUUUdF586dNWQXaWxs3DJ16tS7PvvZz/5FNwAAoHkQAAMAwF50ySWXdP3+97//rXbt2g3VjV2nsbExXnvttXjuuedi/vz5GgJZbMCAATFq1KgYPHiw0767WFVV1atf//rXv/e73/1urW4AAEDzIQAGAIC9rF27dvlTp0699OCDD740lUrl68iutXz58nj++efj5ZdfjpqaGg2BLFBSUhLDhw+PI444Inr37q0hu1gmk2mcN2/efSeeeOJvq6urfewXAACaGQEwAABkia9//ev73Xjjjf9aWlraXzd2vXQ6HW+++WY899xz8dprr0VjY6OmwB5UUFAQgwcPjlGjRsUBBxwQeXl5mrIbVFdXL/zP//zPf/3BD36wRDcAAKB5EgADAEAWOfjgg1v9+c9/vrZ3795jIiKlI7tHZWVlvPjii/HCCy/EunXrNAR2o65du8bIkSPj8MMPj7Zt22rI7pNZunTpn88888z/t3jx4nrtAACA5ksADAAAWejuu+8eePHFF9/WqlUrd6PuZuXl5fHqq6/GSy+9FOvXr9cQ2AU6d+4cI0aMiGHDhkW3bt00ZDerqalZ9tvf/vbOm266aa5uAAAAAmAAAMhS/fr1K3r44Ycv79+//4WpVMpdqXvA8uXL46WXXoqXX345qqurNQQ+grKyshg+fHiMGDHCd333kEwmk164cOEfzj777F8sXbp0u44AAAARAmAAAMh6P/3pT4d97nOf+2bLli176Mae0dDQEHPnzo2//vWvMXfu3Ni+Xa4CO9OyZcsYNGhQDBs2LA455JAoKCjQlD2ktrZ21R//+Mc7rr322r/rBgAA8E4CYAAASIA+ffq0ePTRR69wGnjPS6fTsXTp0nj11VedDIaIaNu2bQwbNiyGDRsWffr0ibw8fyTtSZlMpuG11177+ZlnnvmnioqKRh0BAADeTQAMAAAJ8uMf//jQCy644JutWrXaRzf2vLdPBs+ePTvmzp0bdXV1mkKzUFZWFoMHD45hw4ZF//79Iz8/X1P2gpqammX333//nTfccINv/QIAAO9JAAwAAAnTrl27/HHjxp37qU996qq8vDwb870kk8nEihUrYu7cuTFnzpxYsWJFZDIZjSEnpFKp6Nu3bwwbNiwGDRoUHTt21JS9qKmpqfbVV1/92ZgxY/5cWVnZpCMAAMD7EQADAEBCffnLX+5x++23f7V9+/aH68bet2XLlnjjjTdizpw5MW/evKivr9cUEqVly5Zx8MEHx6BBg+KQQw6J0tJSTckCGzdufPG73/3uv//iF79YoxsAAMCHIQAGAIAEKywsTE2cOPGMkSNHXlNQUNBaR7JDXV1dvPnmm/HGG2/EG2+8EevXr9cUslKXLl3ioIMOioMOOigOOOCAKCoq0pQs0djYuGXmzJk/PvPMMyc2NDS4XgAAAPjQBMAAAJADjjzyyNY/+9nPrujbt++5EZGnI9mluro6Fi5cGPPnz4958+ZFZWWlprBXtGvXLg455JAYMGBA9O/fP1q39nsjWSj91ltv/fmqq676xaxZs6q1AwAA+KgEwAAAkEN++ctfjhgzZsyNrVq16q0b2SmdTsfKlStj0aJFsXDhwli8eHFs27ZNY9gtSkpKol+/ftG/f//Yf//9o1evXpGX53dEslVNTc3yRx999EdXXnnlK7oBAAB8XAJgAADIMd26dSt8+OGHPzd48ODL8vPzbdyzXCaTiTVr1sTChQtj0aJFsWjRotiyZYvG8LGUlZVF//79/xn6du/ePVKplMZkuaampprXXnvtV2PGjHmgoqKiUUcAAIBPQgAMAAA56rjjjiv7r//6r8tdC508mzdvjuXLl8eKFSti+fLlsXjx4qipqdEY/pfi4uLo169f9O7dO/bZZ5/Yd999o6ysTGMSJJPJpJcsWfLn66677pfTp0/3mx8AAMAuIQAGAIAc99Of/nTIueeee3NpaWlf3UimxsbGWLlyZSxdujSWLVsWy5cvj3Xr1kUmk9GcZiKVSkWXLl1in332iT59+kSfPn2iV69eUVBQoDkJtXXr1sUPPvjgj6699tq/6wYAALArCYABAKAZaNeuXf64cePOGTp06BUFBQWtdST56uvrY+XKlf88KbxixYpYu3ZtpNNpzUm4vLy86Nq1a+yzzz7//KdXr17RsmVLzckBjY2NW/7617/+4pxzznm0srKySUcAAIBdTQAMAADNyIknntjmnnvuuXzfffcdk0qlHB3MMdu3b481a9bEmjVrYu3atbF27dooLy+PDRs2CIazUF5eXnTs2DG6desWXbt2jW7dukW3bt2iR48eUVhYqEE5JpPJNC5ZsuRR1z0DAAC7mwAYAACaoa9+9av7Xnfdddd16NDhCN3IfY2Njf8MhNetWxfr1q2LioqKWLduXWzbtk2DdrPS0tLo3LnzP//p0qVLdO3aNbp27eoK52Ziw4YNM//rv/7rxz/60Y+W6wYAALC7CYABAKAZ++UvfznirLPOuq64uNj3gZupmpqaWL9+/T//qaioiMrKyqisrIxNmzZFY2OjJn2AgoKCaN++fbRr1y7at28fHTt2jC5dukSnTp2ic+fOUVxcrEnN1NatW98aP378PVdcccXLugEAAOwpAmAAAGjm2rVrl//ggw+eOWLEiCsLCwvb6gjvtHnz5n+GwZs2bYrKysqorq6OLVu2xJYtW6K6ujqqq6sjk8nk3NpTqVS0bt06WrduHWVlZdGmTZsoLS39X2Fvu3btok2bNh4U/peGhobKl1566efnnHPO+OrqavevAwAAe5QAGAAAiIiIoUOHFt97770XHHjggRfk5+c7ssiHlk6n/xkEV1dXR01Nzfv+k8lkora2NtLpdNTX10dTU1PU1dXt0u8U5+XlRcuWLSM/Pz+KiooiLy8vWrVqFalUKoqLi3f6T0lJSbRq1eqfgW9paWnk5eUZMB9aU1NTzYIFC/745S9/+Y+zZ8+u0REAAGBvEAADAAD/y2mnndb2rrvuurRPnz5n5+XlFeoIe9LbgfDbtm/f/r7XUBcUFESLFi3++b/fDnxhT8pkMg1LliwZd8stt/xq0qRJVToCAADsTQJgAABgp0477bS2d95554X777//5wTBAP9XJpNpWLhw4QO33nrrHwS/AABAtni/ADi/7UHRc2c/SG+LqC33/gcAAHLZokWL6u69995X0un0swcddFCnkpKS3roC8A8VFRUz/7//7/+77aKLLpq6aNGiOh0BAACyRXH3xsgr3fnPBMAAAEDMnDmz8u67736qqalpWr9+/Ypbt27dN5VKpXQGaG4ymUx6zZo1U+65555/Peeccx6cOXNmpa4AAADZRgAMAAB8KDNnzqz88Y9//Gw6nZ4uCAaak7eD37vvvvtfzz///McEvwAAQDYTAAMAAB+JIBhoLgS/AABAEgmAAQCAj+XtILisrOyFvn37diwuLu4VEYJgIBdkKioqnrv33nu/PWbMmEcEvwAAQJK8XwCc2vecGLGzHzSui9j4aivdAwAA/unqq6/u8ZWvfOX8Pn36nJWXl9dCR4CkSafT9UuXLh3/X//1Xw/84he/WKMjAABAEnUYVhsFXXb+MwEwAADwkZ1xxhntb7/99rMPPPDA8/Pz81vrCJDtmpqaqhcsWPDgd77znUcmTpzotC8AAJBoAmAAAGC3GD58eMkPf/jDzwwePPjioqKijjoCZJv6+voNr7322u9vvPHGx2fPnl2jIwAAQC4QAAMAALvV0KFDi++5556zDjnkkPOKioq66giwt9XV1a19/fXXH7z++uvHC34BAIBcIwAGAAD2iFatWuXdc889w0455ZTzO3bseJSOAHtYZsOGDbOmTJny4PXXX/9qbW1tWksAAIBcJAAGAAD2uH/913/tf/7555/dq1ev0/Ly8lroCLC7pNPp+pUrV05+4IEHHvnOd76zSEcAAIBcJwAGAAD2mjPOOKP97bfffvYBBxzw2YKCgjY6AuwqjY2NVW+++eafv/e97z06YcKETToCAAA0FwJgAABgrxs+fHjJ97///dGDBg0aU1paur+OAB9XdXX1wtdee+3Rr371q1Nfe+21Wh0BAACaGwEwAACQVb761a/ue8EFF3y6b9++ZxUUFLTWEeCDNDY2bnnrrbfG/+EPf5j4ox/9aLmOAAAAzZkAGAAAyEpDhw4t/sEPfnDy4MGDz27dunV/HQHerbq6+s2XX375weuuu+7ppUuXbtcRAAAAATAAAJDlCgsLU3ffffeQ0aNHn9G1a9fj8vLyinQFmq90Ol1XXl4+bcqUKROuvfbav+sIAADA/yYABgAAEqNPnz4t/v3f/33UyJEjz2rfvv2nIiKlK9AsZDZt2vTXF1544bGvfe1rzzntCwAA8N4EwAAAQCJddNFFXa6++uqTDzzwwLNbtmzZTUcg99TV1a1ZsGDBuJ/+9KdP3n///et0BAAA4IMJgAEAgETr1q1b4d13333k4YcffmqHDh2OyMvLK9QVSK50Ot2wcePGWbNmzZp8/fXXz6qoqGjUFQAAgA9PAAwAAOSMo48+uvWtt956/CGHHHJKu3btBkdEnq5AIqQrKytfmzdv3uQ777xz+owZM6q1BAAA4OMRAAMAADnpuOOOK/vGN75x/CGHHHJa27ZtB4bvBUO2yVRVVc2dN2/epO9///vTpk+fvkVLAAAAPjkBMAAAkPNuu+22vmedddZJffr0Oa5Vq1a9dQT2ntra2uXLly+f/uijjz51xx13vKUjAAAAu5YAGAAAaFa+9KUvdbv44ouP7t+//wlOBsMekamqqpq7cOHCv/z+97+fcd9995VrCQAAwO4jAAYAAJqtSy65pOtll112jDAYdrl0VVXVvIULF/7lV7/61bO/+93v1moJAADAniEABgAAiIirr766x/nnnz9q//33P7JNmzZDUqlUga7Ah5fJZBoqKyv/vnjx4uf+9Kc/zbr33ntX6woAAMCeJwAGAAB4l379+hV97WtfGzRy5MhRPXv2PLaoqKizrsD/VV9fv37VqlXPvPDCC8/9+7//+5zFixfX6woAAMDeJQAGAAB4H61bt8678847Bx599NFHde/efURpaen+4apomq/M1q1bF69Zs+bF5557btY3v/nNOdXV1WltAQAAyB4CYAAAgI9g8ODBrcaOHXvI8OHDD+vevfvw1q1bHxACYXJXprq6+s01a9a88sorr7z8k5/8ZN5rr71Wqy0AAADZSwAMAADwCVx//fX7nHHGGYf169dvePv27Yfm5+e31hWSrLGxsXrjxo2vvvXWWy+PHz/+lR//+McrdQUAACA5BMAAAAC70Je//OUe55xzzvA+ffoM7tix45CioqKuukI2q6+vX7t27doXFy9ePGfixImv3Xvvvat1BQAAILkEwAAAALvRl7/85R6f+cxnBvfr129Qly5dDm/ZsqVAmL2qrq5u7bp16wS+AAAAOUoADAAAsIe0atUq75prrtnn2GOPPXi//fY7uH379oeUlpb2TaVS+brDbpKuqalZtnHjxnlvvfXW3GeffXbef/3Xfy2vra1Naw0AAEBuEgADAADsRQceeGDLq6+++oAhQ4Yc3LNnz4Pbtm17sGuj+biampqqq6qqXi8vL583Z86ceb/85S/nvfjii1t1BgAAoPkQAAMAAGSZoUOHFn/xi1/cf9CgQQf26NHjwHbt2h3YqlWr3qlUKk932CFdU1OzvLKycsHq1asXzJkzZ8Gf//znJTNmzKjWGgAAgOZNAAwAAJAAxx13XNkFF1xw4MEHH3xA165dDywtLd23pKRkn1QqVag7uS2TyTRs27ZtRXV19dJ169YtfOONNxZOmDBh4YQJEzbpDgAAAO8mAAYAAEiw8847r+OJJ57Yp3///vt16dKlT5s2bfZr3bp1v/z8/GLdSZampqaa6urqxZs3b16ybt26pQsXLlzy9NNPL33ooYc26A4AAAAflgAYAAAgx7Rr1y7/kksu6TFkyJCe++67b89OnTr1Kisr61VcXNyzZcuW3VKpVL4u7R2ZTKaprq6uvKamZtWWLVtWVlRUrFy6dOnK2bNnr7r//vvXVFZWNukSAAAAn4QAGAAAoBnp1KlTwec+97luQ4cO7bnPPvv0aNeuXafWrVt3Li4u7tqyZcvORUVFnfLy8lro1MeTTqe319fXr6+rq6uoqalZW11dvb6ysnL9ihUrVr/66qurHnzwwbUVFRWNOgUAAMDuIgAGAADgfznjjDPaH3bYYZ369OnTuUuXLp3Kysral5SUtC0uLu5YVFTUrqioqG2LFi065OfnlzaXnjQ1NW3dvn37xvr6+qr6+vrKmpqaDdu2bavasmXLpnXr1lUsXbp0/Ysvvrh+4sSJlZ4gAAAA9iYBMAAAAB9Lr169CkeNGtXuoIMOatexY8ey9u3bl7Zp06Z1SUlJWXFxcetWrVq1btGiRVlRUVHrwsLC1hGRX1hYWBoR+QUFBSV5eXkFeXl5u/0/LtPpdG06nW5sbGzcFhFNDQ0NW3f83+r6+vrq7du3b6mtra2uqamp3rZtW/XmzZurN23aVL1hw4YtCxYsqJo1a1bl0qVLt5s4AAAASSAABgAAYK/q169fUffu3Vvss88+xSUlJQVv//8LCwtT3bp1+8BTxuXl5VsbGhoyb//vbdu2Na5YsaJmzZo12xcvXlyvwwAAADQn7xcAF2gPAAAAu9vixYvrdwS11boBAAAAu0+eFgAAAAAAAADkBgEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4o0AIAAAAAAACA5GhoLIyCxoaIiEilIpNXGE1v/0wADAAAAAAAAJAghQUN/0x6MxGppvT/5L6ugAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAIb/v5272ZHiusM4/FZ1NUkz9sQwOF4EyZJtpJCwysa5jSy4n1xPEqRIuQFvvfGSgIwBOzGRQAQERnx0d1UW0cgWGvKxsMGvnmfVdc7/1OJsf+oCAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoMY3JP//9K8My551lzpAk293a7QAAAAAAAAD8iIw3r+SL7TpPxuSt4/ibJJuz20QDBgAAAAAAAHhzrJPp6NvHYcyyjLl7dJTPbl/Jp6sPLufSsM+5ec7q5YOrF0OeP/SVaAAAAAAAAIA3weH7u6zfm79dWDIMSw6225w785vsx3XyzasOby5ssz69c4sAAAAAAAAAr9n69C6bC9sT93a7rKdnORin5Otxynzi1JQcfiwCAwAAAAAAALxO69O7HH68TaaT98cp85R8vbp3Nfszv8q0LHn7xMF1sjk/ZzUPmZ/MmWefhAYAAAAAAAD4oayPdjn7223Gn7x6ZrXPnetX8mBKkpv3cufDd/Pufn5FL56SzcVtNheT3dNt8tQlAwAAAAAAAHyv1sm0ySv/9XtsNWZ3I/lHkgzHi7/4XY7WYz5yiwAAAAAAAAA/Ivtcv/3nPEyS1fHa42t5+vNLyX7JoRsCAAAAAAAAePPt1/nbV3/KvePn1Xc371/NYxEYAAAAAAAA4M0yTHk2rvNo2WdzvHZqzN9v/SF3vju3evng/at5fPDLPDu1yuGyZHSVAAAAAAAAAK/XOGe4ueSvZ4e8M8xZbVe5ceuPufvy3Oqkw4+v5emDX+fuuTlLhhwsEYIBAAAAAAAAXpclGR8OuXP0TR4cPM/9z/+SRyfNDf/1TZezOp/87KdjzizJZkhO7edMy/w/nAUAAAAAAADg/zaMWcZkP8/ZLsmLacr2/MV8+cnvs/tP5/4FmLjAq1ifcioAAAAASUVORK5CYII=";function at(t,e,n){return typeof t=="string"&&!isNaN(Number(t))&&(t=Number(t)),typeof t=="number"&&t<100?xt(t):typeof t=="number"&&t>=100?t:typeof t=="string"&&t.includes("%")?Math.round(e&&e==="X"?parseFloat(t)/100*n.width:e&&e==="Y"?parseFloat(t)/100*n.height:parseFloat(t)/100*n.width):0}function ff(t){return t.replace(/[xy]/g,function(e){const n=Math.random()*16|0;return(e==="x"?n:n&3|8).toString(16)})}function Xe(t){return typeof t>"u"||t==null?"":t.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function xt(t){return typeof t=="number"&&t>100?t:(typeof t=="string"&&(t=Number(t.replace(/in*/gi,""))),Math.round(Je*t))}function He(t){const e=Number(t)||0;return isNaN(e)?0:Math.round(e*$u)}function Xs(t){return t=t||0,Math.round((t>360?t-360:t)*6e4)}function kg(t){const e=t.toString(16);return e.length===1?"0"+e:e}function Dg(t,e,n){return(kg(t)+kg(e)+kg(n)).toUpperCase()}function Ct(t,e){let n=(t||"").replace("#","");!Ig.test(n)&&n!==kr.background1&&n!==kr.background2&&n!==kr.text1&&n!==kr.text2&&n!==kr.accent1&&n!==kr.accent2&&n!==kr.accent3&&n!==kr.accent4&&n!==kr.accent5&&n!==kr.accent6&&(console.warn(`"${n}" is not a valid scheme color or hex RGB! "${vr}" used instead. Only provide 6-digit RGB or 'pptx.SchemeColor' values!`),n=vr);const r=Ig.test(n)?"srgbClr":"schemeClr",a='val="'+(Ig.test(n)?n.toUpperCase():n)+'"';return e?`<a:${r} ${a}>${e}</a:${r}>`:`<a:${r} ${a}/>`}function P8(t,e){let n="";const r=Object.assign(Object.assign({},e),t),a=Math.round(r.size*$u),i=r.color,s=Math.round(r.opacity*1e5);return n+=`<a:glow rad="${a}">`,n+=Ct(i,`<a:alpha val="${s}"/>`),n+="</a:glow>",n}function Pr(t){let e="solid",n="",r="",a="";if(t)switch(typeof t=="string"?n=t:(t.type&&(e=t.type),t.color&&(n=t.color),t.alpha&&(r+=`<a:alpha val="${Math.round((100-t.alpha)*1e3)}"/>`),t.transparency&&(r+=`<a:alpha val="${Math.round((100-t.transparency)*1e3)}"/>`)),e){case"solid":a+=`<a:solidFill>${Ct(n,r)}</a:solidFill>`;break;default:a+="";break}return a}function $a(t){return t._rels.length+t._relsChart.length+t._relsMedia.length+1}function zy(t){if(!(!t||typeof t!="object"))return t.type!=="outer"&&t.type!=="inner"&&t.type!=="none"&&(console.warn("Warning: shadow.type options are `outer`, `inner` or `none`."),t.type="outer"),t.angle&&((isNaN(Number(t.angle))||t.angle<0||t.angle>359)&&(console.warn("Warning: shadow.angle can only be 0-359"),t.angle=270),t.angle=Math.round(Number(t.angle))),t.opacity&&((isNaN(Number(t.opacity))||t.opacity<0||t.opacity>1)&&(console.warn("Warning: shadow.opacity can only be 0-1"),t.opacity=.75),t.opacity=Number(t.opacity)),t.color&&t.color.startsWith("#")&&(console.warn('Warning: shadow.color should not include hash (#) character, , e.g. "FF0000"'),t.color=t.color.replace("#","")),t}function j8(t,e,n){var r,a;const i=2.3+(!((r=t.options)===null||r===void 0)&&r.autoPageCharWeight?t.options.autoPageCharWeight:0),s=Math.floor(e/$u*Je)/((!((a=t.options)===null||a===void 0)&&a.fontSize?t.options.fontSize:Qr)/i),l=[];let c=[];const d=[],u=[];t.text&&t.text.toString().trim().length===0?c.push({_type:Ke.tablecell,text:" "}):typeof t.text=="number"||typeof t.text=="string"?c.push({_type:Ke.tablecell,text:(t.text||"").toString().trim()}):Array.isArray(t.text)&&(c=t.text);let h=[];return c.forEach(m=>{var p;typeof m.text=="string"&&(m.text.split(`
`).length>1?m.text.split(`
`).forEach(A=>{h.push({_type:Ke.tablecell,text:A,options:Object.assign(Object.assign({},m.options),{breakLine:!0})})}):h.push({_type:Ke.tablecell,text:m.text.trim(),options:m.options}),!((p=m.options)===null||p===void 0)&&p.breakLine&&(d.push(h),h=[])),h.length>0&&(d.push(h),h=[])}),d.forEach(m=>{m.forEach(p=>{const A=[],b=String(p.text).split(" ");b.forEach((x,y)=>{const w=Object.assign({},p.options);w!=null&&w.breakLine&&(w.breakLine=y+1===b.length),A.push({_type:Ke.tablecell,text:x+(y+1<b.length?" ":""),options:w})}),u.push(A)})}),u.forEach(m=>{let p=[],A="";m.forEach(g=>{A.length+g.text.length>s&&(l.push(p),p=[],A=""),p.push(g),A+=g.text.toString()}),p.length>0&&l.push(p)}),l}function wI(t=[],e={},n,r){let a=mu,i=Je*1,s=Je*1,l=0,c=0;const d=[],u=at(e.x,"X",n),h=at(e.y,"Y",n),m=at(e.w,"X",n),p=at(e.h,"Y",n);let A=m;function g(){let x=0;d.length===0&&(x=h||xt(a[0])),d.length>0&&(x=xt(e.autoPageSlideStartY||e.newSlideStartY||a[0])),s=(p||n.height)-x-xt(a[2]),d.length>1&&(typeof e.autoPageSlideStartY=="number"?s=(p||n.height)-xt(e.autoPageSlideStartY+a[2]):typeof e.newSlideStartY=="number"?s=(p||n.height)-xt(e.newSlideStartY+a[2]):h&&(s=(p||n.height)-xt((h/Je<a[0]?h/Je:a[0])+a[2]),s<p&&(s=p)))}if(e.verbose&&(console.log("[[VERBOSE MODE]]"),console.log("|-- TABLE PROPS --------------------------------------------------------|"),console.log(`| presLayout.width ................................ = ${(n.width/Je).toFixed(1)}`),console.log(`| presLayout.height ............................... = ${(n.height/Je).toFixed(1)}`),console.log(`| tableProps.x .................................... = ${typeof e.x=="number"?(e.x/Je).toFixed(1):e.x}`),console.log(`| tableProps.y .................................... = ${typeof e.y=="number"?(e.y/Je).toFixed(1):e.y}`),console.log(`| tableProps.w .................................... = ${typeof e.w=="number"?(e.w/Je).toFixed(1):e.w}`),console.log(`| tableProps.h .................................... = ${typeof e.h=="number"?(e.h/Je).toFixed(1):e.h}`),console.log(`| tableProps.slideMargin .......................... = ${e.slideMargin?String(e.slideMargin):""}`),console.log(`| tableProps.margin ............................... = ${String(e.margin)}`),console.log(`| tableProps.colW ................................. = ${String(e.colW)}`),console.log(`| tableProps.autoPageSlideStartY .................. = ${e.autoPageSlideStartY}`),console.log(`| tableProps.autoPageCharWeight ................... = ${e.autoPageCharWeight}`),console.log("|-- CALCULATIONS -------------------------------------------------------|"),console.log(`| tablePropX ...................................... = ${u/Je}`),console.log(`| tablePropY ...................................... = ${h/Je}`),console.log(`| tablePropW ...................................... = ${m/Je}`),console.log(`| tablePropH ...................................... = ${p/Je}`),console.log(`| tableCalcW ...................................... = ${A/Je}`)),!e.slideMargin&&e.slideMargin!==0&&(e.slideMargin=mu[0]),r&&typeof r._margin<"u"?Array.isArray(r._margin)?a=r._margin:isNaN(Number(r._margin))||(a=[Number(r._margin),Number(r._margin),Number(r._margin),Number(r._margin)]):(e.slideMargin||e.slideMargin===0)&&(Array.isArray(e.slideMargin)?a=e.slideMargin:isNaN(e.slideMargin)||(a=[e.slideMargin,e.slideMargin,e.slideMargin,e.slideMargin])),e.verbose&&console.log(`| arrInchMargins .................................. = [${a.join(", ")}]`),(t[0]||[]).forEach(y=>{y||(y={_type:Ke.tablecell});const w=y.options||null;c+=Number(w!=null&&w.colspan?w.colspan:1)}),e.verbose&&console.log(`| numCols ......................................... = ${c}`),!m&&e.colW&&(A=Array.isArray(e.colW)?e.colW.reduce((x,y)=>x+y)*Je:e.colW*c||0,e.verbose&&console.log(`| tableCalcW ...................................... = ${A/Je}`)),i=A||xt((u?u/Je:a[1])+a[3]),e.verbose&&console.log(`| emuSlideTabW .................................... = ${(i/Je).toFixed(1)}`),!e.colW||!Array.isArray(e.colW))if(e.colW&&!isNaN(Number(e.colW))){const x=[];(t[0]||[]).forEach(()=>x.push(e.colW)),e.colW=[],x.forEach(w=>{Array.isArray(e.colW)&&e.colW.push(w)})}else{e.colW=[];for(let x=0;x<c;x++)e.colW.push(i/Je/c)}let b={rows:[]};return t.forEach((x,y)=>{const w=[];let S=0,k=0,P=[];x.forEach(R=>{var j,_,D,v;P.push({_type:Ke.tablecell,text:[],options:R.options}),R.options.margin&&R.options.margin[0]>=1?(!((j=R.options)===null||j===void 0)&&j.margin&&R.options.margin[0]&&He(R.options.margin[0])>S?S=He(R.options.margin[0]):e!=null&&e.margin&&e.margin[0]&&He(e.margin[0])>S&&(S=He(e.margin[0])),!((_=R.options)===null||_===void 0)&&_.margin&&R.options.margin[2]&&He(R.options.margin[2])>k?k=He(R.options.margin[2]):e!=null&&e.margin&&e.margin[2]&&He(e.margin[2])>k&&(k=He(e.margin[2]))):(!((D=R.options)===null||D===void 0)&&D.margin&&R.options.margin[0]&&xt(R.options.margin[0])>S?S=xt(R.options.margin[0]):e!=null&&e.margin&&e.margin[0]&&xt(e.margin[0])>S&&(S=xt(e.margin[0])),!((v=R.options)===null||v===void 0)&&v.margin&&R.options.margin[2]&&xt(R.options.margin[2])>k?k=xt(R.options.margin[2]):e!=null&&e.margin&&e.margin[2]&&xt(e.margin[2])>k&&(k=xt(e.margin[2])))}),g(),l+=S+k,e.verbose&&y===0&&console.log(`| SLIDE [${d.length}]: emuSlideTabH ...... = ${(s/Je).toFixed(1)} `),x.forEach((R,j)=>{var _;const D={_type:Ke.tablecell,_lines:null,_lineHeight:xt((!((_=R.options)===null||_===void 0)&&_.fontSize?R.options.fontSize:e.fontSize?e.fontSize:Qr)*(T8+(e.autoPageLineWeight?e.autoPageLineWeight:0))/100),text:[],options:R.options};D.options.rowspan&&(D._lineHeight=0),D.options.autoPageCharWeight=e.autoPageCharWeight?e.autoPageCharWeight:null;let v=e.colW[j];R.options.colspan&&Array.isArray(e.colW)&&(v=e.colW.filter((O,V)=>V>=j&&V<V+R.options.colspan).reduce((O,V)=>O+V)),D._lines=j8(R,v),w.push(D)}),e.verbose&&console.log(`
| SLIDE [${d.length}]: ROW [${y}]: START...`);let E=0,N=0,C=!1;for(;!C;){const R=w[E];let j=P[E];w.forEach(v=>{v._lineHeight>=N&&(N=v._lineHeight)}),l+N>s&&(e.verbose&&(console.log(`
|-----------------------------------------------------------------------|`),console.log(`|-- NEW SLIDE CREATED (currTabH+currLineH > maxH) => ${(l/Je).toFixed(2)} + ${(R._lineHeight/Je).toFixed(2)} > ${s/Je}`),console.log(`|-----------------------------------------------------------------------|

`)),P.length>0&&P.map(O=>O.text.length).reduce((O,V)=>O+V)>0&&b.rows.push(P),d.push(b),b={rows:[]},P=[],x.forEach(O=>P.push({_type:Ke.tablecell,text:[],options:O.options})),g(),l+=S+k,e.verbose&&console.log(`| SLIDE [${d.length}]: emuSlideTabH ...... = ${(s/Je).toFixed(1)} `),l=0,(e.addHeaderToEach||e.autoPageRepeatHeader)&&e._arrObjTabHeadRows&&e._arrObjTabHeadRows.forEach(O=>{const V=[];let G=0;O.forEach(Q=>{V.push(Q),Q._lineHeight>G&&(G=Q._lineHeight)}),b.rows.push(V),l+=G}),j=P[E]);const _=R._lines.shift();Array.isArray(j.text)&&(_?j.text=j.text.concat(_):j.text.length===0&&(j.text=j.text.concat({_type:Ke.tablecell,text:""}))),E===w.length-1&&(l+=N),E=E<w.length-1?E+1:0,w.map(v=>v._lines.length).reduce((v,O)=>v+O)===0&&(C=!0)}P.length>0&&b.rows.push(P),e.verbose&&console.log(`- SLIDE [${d.length}]: ROW [${y}]: ...COMPLETE ...... emuTabCurrH = ${(l/Je).toFixed(2)} ( emuSlideTabH = ${(s/Je).toFixed(2)} )`)}),d.push(b),e.verbose&&(console.log(`
|================================================|`),console.log(`| FINAL: tableRowSlides.length = ${d.length}`),d.forEach(x=>console.log(x)),console.log(`|================================================|

`)),d}function M8(t,e,n={},r){const a=n||{};a.slideMargin=a.slideMargin||a.slideMargin===0?a.slideMargin:.5;let i=a.w||t.presLayout.width;const s=[],l=[],c=[],d=[],u=[];let h=[.5,.5,.5,.5],m=0;if(!document.getElementById(e))throw new Error('tableToSlides: Table ID "'+e+'" does not exist!');r!=null&&r._margin?(Array.isArray(r._margin)?h=r._margin:isNaN(r._margin)||(h=[r._margin,r._margin,r._margin,r._margin]),a.slideMargin=h):a!=null&&a.slideMargin&&(Array.isArray(a.slideMargin)?h=a.slideMargin:isNaN(a.slideMargin)||(h=[a.slideMargin,a.slideMargin,a.slideMargin,a.slideMargin])),i=(a.w?xt(a.w):t.presLayout.width)-xt(h[1]+h[3]),a.verbose&&(console.log("[[VERBOSE MODE]]"),console.log("|-- `tableToSlides` ----------------------------------------------------|"),console.log(`| tableProps.h .................................... = ${a.h}`),console.log(`| tableProps.w .................................... = ${a.w}`),console.log(`| pptx.presLayout.width ........................... = ${(t.presLayout.width/Je).toFixed(1)}`),console.log(`| pptx.presLayout.height .......................... = ${(t.presLayout.height/Je).toFixed(1)}`),console.log(`| emuSlideTabW .................................... = ${(i/Je).toFixed(1)}`));let p=document.querySelectorAll(`#${e} tr:first-child th`);p.length===0&&(p=document.querySelectorAll(`#${e} tr:first-child td`)),p.forEach(g=>{const b=g;if(b.getAttribute("colspan"))for(let x=0;x<Number(b.getAttribute("colspan"));x++)u.push(Math.round(b.offsetWidth/Number(b.getAttribute("colspan"))));else u.push(b.offsetWidth)}),u.forEach(g=>{m+=g}),u.forEach((g,b)=>{const x=Number((Number(i)*(g/m*100)/100/Je).toFixed(2));let y=0;const w=document.querySelector(`#${e} thead tr:first-child th:nth-child(${b+1})`);w&&(y=Number(w.getAttribute("data-pptx-min-width")));const S=document.querySelector(`#${e} thead tr:first-child th:nth-child(${b+1})`);S&&(y=Number(S.getAttribute("data-pptx-width"))),d.push(y>x?y:x)}),a.verbose&&console.log(`| arrColW ......................................... = [${d.join(", ")}]`),["thead","tbody","tfoot"].forEach(g=>{document.querySelectorAll(`#${e} ${g} tr`).forEach(b=>{const x=b,y=[];switch(Array.from(x.cells).forEach(w=>{const S=window.getComputedStyle(w).getPropertyValue("color").replace(/\s+/gi,"").replace("rgba(","").replace("rgb(","").replace(")","").split(",");let k=window.getComputedStyle(w).getPropertyValue("background-color").replace(/\s+/gi,"").replace("rgba(","").replace("rgb(","").replace(")","").split(",");(window.getComputedStyle(w).getPropertyValue("background-color")==="rgba(0, 0, 0, 0)"||window.getComputedStyle(w).getPropertyValue("transparent"))&&(k=["255","255","255"]);const P={align:null,bold:window.getComputedStyle(w).getPropertyValue("font-weight")==="bold"||Number(window.getComputedStyle(w).getPropertyValue("font-weight"))>=500,border:null,color:Dg(Number(S[0]),Number(S[1]),Number(S[2])),fill:{color:Dg(Number(k[0]),Number(k[1]),Number(k[2]))},fontFace:(window.getComputedStyle(w).getPropertyValue("font-family")||"").split(",")[0].replace(/"/g,"").replace("inherit","").replace("initial","")||null,fontSize:Number(window.getComputedStyle(w).getPropertyValue("font-size").replace(/[a-z]/gi,"")),margin:null,colspan:Number(w.getAttribute("colspan"))||null,rowspan:Number(w.getAttribute("rowspan"))||null,valign:null};if(["left","center","right","start","end"].includes(window.getComputedStyle(w).getPropertyValue("text-align"))){const E=window.getComputedStyle(w).getPropertyValue("text-align").replace("start","left").replace("end","right");P.align=E==="center"?"center":E==="left"?"left":E==="right"?"right":null}if(["top","middle","bottom"].includes(window.getComputedStyle(w).getPropertyValue("vertical-align"))){const E=window.getComputedStyle(w).getPropertyValue("vertical-align");P.valign=E==="top"?"top":E==="middle"?"middle":E==="bottom"?"bottom":null}window.getComputedStyle(w).getPropertyValue("padding-left")&&(P.margin=[0,0,0,0],["padding-top","padding-right","padding-bottom","padding-left"].forEach((N,C)=>{P.margin[C]=Math.round(Number(window.getComputedStyle(w).getPropertyValue(N).replace(/\D/gi,"")))})),(window.getComputedStyle(w).getPropertyValue("border-top-width")||window.getComputedStyle(w).getPropertyValue("border-right-width")||window.getComputedStyle(w).getPropertyValue("border-bottom-width")||window.getComputedStyle(w).getPropertyValue("border-left-width"))&&(P.border=[null,null,null,null],["top","right","bottom","left"].forEach((N,C)=>{const R=Math.round(Number(window.getComputedStyle(w).getPropertyValue("border-"+N+"-width").replace("px","")));let j=[];j=window.getComputedStyle(w).getPropertyValue("border-"+N+"-color").replace(/\s+/gi,"").replace("rgba(","").replace("rgb(","").replace(")","").split(",");const _=Dg(Number(j[0]),Number(j[1]),Number(j[2]));P.border[C]={pt:R,color:_}})),y.push({_type:Ke.tablecell,text:w.innerText,options:P})}),g){case"thead":s.push(y);break;case"tbody":l.push(y);break;case"tfoot":c.push(y);break;default:console.log(`table parsing: unexpected table part: ${g}`);break}})}),a._arrObjTabHeadRows=s||null,a.colW=d,wI([...s,...l,...c],a,t.presLayout,r).forEach((g,b)=>{const x=t.addSlide({masterName:a.masterSlideName||null});b===0&&(a.y=a.y||h[0]),b>0&&(a.y=a.autoPageSlideStartY||a.newSlideStartY||h[0]),a.verbose&&console.log(`| opts.autoPageSlideStartY: ${a.autoPageSlideStartY} / arrInchMargins[0]: ${h[0]} => opts.y = ${a.y}`),x.addTable(g.rows,{x:a.x||h[3],y:a.y,w:Number(i)/Je,colW:d,autoPage:!1}),a.addImage&&(a.addImage.options=a.addImage.options||{},!a.addImage.image||!a.addImage.image.path&&!a.addImage.image.data?console.warn("Warning: tableToSlides.addImage requires either `path` or `data`"):x.addImage({path:a.addImage.image.path,data:a.addImage.image.data,x:a.addImage.options.x,y:a.addImage.options.y,w:a.addImage.options.w,h:a.addImage.options.h})),a.addShape&&x.addShape(a.addShape.shapeName,a.addShape.options||{}),a.addTable&&x.addTable(a.addTable.rows,a.addTable.options||{}),a.addText&&x.addText(a.addText.text,a.addText.options||{})})}let L8=0;function F8(t,e){t.bkgd&&(e.bkgd=t.bkgd),t.objects&&Array.isArray(t.objects)&&t.objects.length>0&&t.objects.forEach((n,r)=>{const a=Object.keys(n)[0],i=e;Pi[a]&&a==="chart"?_I(i,n[a].type,n[a].data,n[a].opts):Pi[a]&&a==="image"?CI(i,n[a]):Pi[a]&&a==="line"?T0(i,fs.LINE,n[a]):Pi[a]&&a==="rect"?T0(i,fs.RECTANGLE,n[a]):Pi[a]&&a==="text"?Tp(i,[{text:n[a].text}],n[a].options,!1):Pi[a]&&a==="placeholder"&&(n[a].options.placeholder=n[a].options.name,delete n[a].options.name,n[a].options._placeholderType=n[a].options.type,delete n[a].options.type,n[a].options._placeholderIdx=100+r,Tp(i,[{text:n[a].text}],n[a].options,!0))}),t.slideNumber&&typeof t.slideNumber=="object"&&(e._slideNumberProps=t.slideNumber)}function _I(t,e,n,r){var a;function i(h){!h||h.style==="none"||(h.size!==void 0&&(isNaN(Number(h.size))||h.size<=0)&&(console.warn("Warning: chart.gridLine.size must be greater than 0."),delete h.size),h.style&&!["solid","dash","dot"].includes(h.style)&&(console.warn("Warning: chart.gridLine.style options: `solid`, `dash`, `dot`."),delete h.style),h.cap&&!["flat","square","round"].includes(h.cap)&&(console.warn("Warning: chart.gridLine.cap options: `flat`, `square`, `round`."),delete h.cap))}const s=++L8,l={_type:null,text:null,options:null,chartRid:null};let c=null,d=[];Array.isArray(e)?(e.forEach(h=>{d=d.concat(h.data)}),c=n||r):(d=n,c=r),d.forEach((h,m)=>{h._dataIndex=m,h.labels!==void 0&&!Array.isArray(h.labels[0])&&(h.labels=[h.labels])});const u=c&&typeof c=="object"?c:{};if(u._type=e,u.x=typeof u.x<"u"&&u.x!=null&&!isNaN(Number(u.x))?u.x:1,u.y=typeof u.y<"u"&&u.y!=null&&!isNaN(Number(u.y))?u.y:1,u.w=u.w||"50%",u.h=u.h||"50%",u.objectName=u.objectName?Xe(u.objectName):`Chart ${t._slideObjects.filter(h=>h._type===Ke.chart).length}`,["bar","col"].includes(u.barDir||"")||(u.barDir="col"),u._type===be.AREA&&(["stacked","standard","percentStacked"].includes(u.barGrouping||"")||(u.barGrouping="standard")),u._type===be.BAR&&(["clustered","stacked","percentStacked"].includes(u.barGrouping||"")||(u.barGrouping="clustered")),u._type===be.BAR3D&&(["clustered","stacked","standard","percentStacked"].includes(u.barGrouping||"")||(u.barGrouping="standard")),!((a=u.barGrouping)===null||a===void 0)&&a.includes("tacked")&&(u.barGapWidthPct||(u.barGapWidthPct=50)),u.dataLabelPosition&&((u._type===be.AREA||u._type===be.BAR3D||u._type===be.DOUGHNUT||u._type===be.RADAR)&&delete u.dataLabelPosition,u._type===be.PIE&&(["bestFit","ctr","inEnd","outEnd"].includes(u.dataLabelPosition)||delete u.dataLabelPosition),(u._type===be.BUBBLE||u._type===be.BUBBLE3D||u._type===be.LINE||u._type===be.SCATTER)&&(["b","ctr","l","r","t"].includes(u.dataLabelPosition)||delete u.dataLabelPosition),u._type===be.BAR&&(["stacked","percentStacked"].includes(u.barGrouping||"")||["ctr","inBase","inEnd"].includes(u.dataLabelPosition)||delete u.dataLabelPosition,["clustered"].includes(u.barGrouping||"")||["ctr","inBase","inEnd","outEnd"].includes(u.dataLabelPosition)||delete u.dataLabelPosition)),u.dataLabelBkgrdColors=u.dataLabelBkgrdColors||!u.dataLabelBkgrdColors?u.dataLabelBkgrdColors:!1,["b","l","r","t","tr"].includes(u.legendPos||"")||(u.legendPos="r"),["cone","coneToMax","box","cylinder","pyramid","pyramidToMax"].includes(u.bar3DShape||"")||(u.bar3DShape="box"),["circle","dash","diamond","dot","none","square","triangle"].includes(u.lineDataSymbol||"")||(u.lineDataSymbol="circle"),["gap","span"].includes(u.displayBlanksAs||"")||(u.displayBlanksAs="span"),["standard","marker","filled"].includes(u.radarStyle||"")||(u.radarStyle="standard"),u.lineDataSymbolSize=u.lineDataSymbolSize&&!isNaN(u.lineDataSymbolSize)?u.lineDataSymbolSize:6,u.lineDataSymbolLineSize=u.lineDataSymbolLineSize&&!isNaN(u.lineDataSymbolLineSize)?He(u.lineDataSymbolLineSize):He(.75),u.layout&&["x","y","w","h"].forEach(h=>{const m=u.layout[h];(isNaN(Number(m))||m<0||m>1)&&(console.warn("Warning: chart.layout."+h+" can only be 0-1"),delete u.layout[h])}),u.catGridLine=u.catGridLine||(u._type===be.SCATTER?{color:"D9D9D9",size:1}:{style:"none"}),u.valGridLine=u.valGridLine||(u._type===be.SCATTER?{color:"D9D9D9",size:1}:{}),u.serGridLine=u.serGridLine||(u._type===be.SCATTER?{color:"D9D9D9",size:1}:{style:"none"}),i(u.catGridLine),i(u.valGridLine),i(u.serGridLine),zy(u.shadow),u.showDataTable=u.showDataTable||!u.showDataTable?u.showDataTable:!1,u.showDataTableHorzBorder=u.showDataTableHorzBorder||!u.showDataTableHorzBorder?u.showDataTableHorzBorder:!0,u.showDataTableVertBorder=u.showDataTableVertBorder||!u.showDataTableVertBorder?u.showDataTableVertBorder:!0,u.showDataTableOutline=u.showDataTableOutline||!u.showDataTableOutline?u.showDataTableOutline:!0,u.showDataTableKeys=u.showDataTableKeys||!u.showDataTableKeys?u.showDataTableKeys:!0,u.showLabel=u.showLabel||!u.showLabel?u.showLabel:!1,u.showLegend=u.showLegend||!u.showLegend?u.showLegend:!1,u.showPercent=u.showPercent||!u.showPercent?u.showPercent:!0,u.showTitle=u.showTitle||!u.showTitle?u.showTitle:!1,u.showValue=u.showValue||!u.showValue?u.showValue:!1,u.showLeaderLines=u.showLeaderLines||!u.showLeaderLines?u.showLeaderLines:!1,u.catAxisLineShow=typeof u.catAxisLineShow<"u"?u.catAxisLineShow:!0,u.valAxisLineShow=typeof u.valAxisLineShow<"u"?u.valAxisLineShow:!0,u.serAxisLineShow=typeof u.serAxisLineShow<"u"?u.serAxisLineShow:!0,u.v3DRotX=!isNaN(u.v3DRotX)&&u.v3DRotX>=-90&&u.v3DRotX<=90?u.v3DRotX:30,u.v3DRotY=!isNaN(u.v3DRotY)&&u.v3DRotY>=0&&u.v3DRotY<=360?u.v3DRotY:30,u.v3DRAngAx=u.v3DRAngAx||!u.v3DRAngAx?u.v3DRAngAx:!0,u.v3DPerspective=!isNaN(u.v3DPerspective)&&u.v3DPerspective>=0&&u.v3DPerspective<=240?u.v3DPerspective:30,u.barGapWidthPct=!isNaN(u.barGapWidthPct)&&u.barGapWidthPct>=0&&u.barGapWidthPct<=1e3?u.barGapWidthPct:150,u.barGapDepthPct=!isNaN(u.barGapDepthPct)&&u.barGapDepthPct>=0&&u.barGapDepthPct<=1e3?u.barGapDepthPct:150,u.chartColors=Array.isArray(u.chartColors)?u.chartColors:u._type===be.PIE||u._type===be.DOUGHNUT?D8:nd,u.chartColorsOpacity=u.chartColorsOpacity&&!isNaN(u.chartColorsOpacity)?u.chartColorsOpacity:null,u.border=u.border&&typeof u.border=="object"?u.border:null,u.border&&(!u.border.pt||isNaN(u.border.pt))&&(u.border.pt=$o.pt),u.border&&(!u.border.color||typeof u.border.color!="string")&&(u.border.color=$o.color),u.plotArea=u.plotArea||{},u.plotArea.border=u.plotArea.border&&typeof u.plotArea.border=="object"?u.plotArea.border:null,u.plotArea.border&&(!u.plotArea.border.pt||isNaN(u.plotArea.border.pt))&&(u.plotArea.border.pt=$o.pt),u.plotArea.border&&(!u.plotArea.border.color||typeof u.plotArea.border.color!="string")&&(u.plotArea.border.color=$o.color),u.border&&(u.plotArea.border=u.border),u.plotArea.fill=u.plotArea.fill||{color:null,transparency:null},u.fill&&(u.plotArea.fill.color=u.fill),u.chartArea=u.chartArea||{},u.chartArea.border=u.chartArea.border&&typeof u.chartArea.border=="object"?u.chartArea.border:null,u.chartArea.border&&(u.chartArea.border={color:u.chartArea.border.color||$o.color,pt:u.chartArea.border.pt||$o.pt}),u.chartArea.roundedCorners=typeof u.chartArea.roundedCorners=="boolean"?u.chartArea.roundedCorners:!0,u.dataBorder=u.dataBorder&&typeof u.dataBorder=="object"?u.dataBorder:null,u.dataBorder&&(!u.dataBorder.pt||isNaN(u.dataBorder.pt))&&(u.dataBorder.pt=.75),u.dataBorder&&u.dataBorder.color){const h=typeof u.dataBorder.color=="string"&&u.dataBorder.color.length===6&&/^[0-9A-Fa-f]{6}$/.test(u.dataBorder.color),m=Object.values(Np).includes(u.dataBorder.color);!h&&!m&&(u.dataBorder.color="F9F9F9")}return!u.dataLabelFormatCode&&u._type===be.SCATTER&&(u.dataLabelFormatCode="General"),!u.dataLabelFormatCode&&(u._type===be.PIE||u._type===be.DOUGHNUT)&&(u.dataLabelFormatCode=u.showPercent?"0%":"General"),u.dataLabelFormatCode=u.dataLabelFormatCode&&typeof u.dataLabelFormatCode=="string"?u.dataLabelFormatCode:"#,##0",!u.dataLabelFormatScatter&&u._type===be.SCATTER&&(u.dataLabelFormatScatter="custom"),u.lineSize=typeof u.lineSize=="number"?u.lineSize:2,u.valAxisMajorUnit=typeof u.valAxisMajorUnit=="number"?u.valAxisMajorUnit:null,u._type===be.AREA||u._type===be.BAR||u._type===be.BAR3D||u._type===be.LINE?u.catAxisMultiLevelLabels=!!u.catAxisMultiLevelLabels:delete u.catAxisMultiLevelLabels,l._type="chart",l.options=u,l.chartRid=$a(t),t._relsChart.push({rId:$a(t),data:d,opts:u,type:u._type,globalId:s,fileName:`chart${s}.xml`,Target:`/ppt/charts/chart${s}.xml`}),t._slideObjects.push(l),l}function CI(t,e){const n={_type:null,text:null,options:null,image:null,imageRid:null,hyperlink:null},r=e.x||0,a=e.y||0,i=e.w||0,s=e.h||0,l=e.sizing||null,c=e.hyperlink||"",d=e.data||"",u=e.path||"";let h=$a(t);const m=e.objectName?Xe(e.objectName):`Image ${t._slideObjects.filter(A=>A._type===Ke.image).length}`;if(!u&&!d)return console.error("ERROR: addImage() requires either 'data' or 'path' parameter!"),null;if(u&&typeof u!="string")return console.error(`ERROR: addImage() 'path' should be a string, ex: {path:'/img/sample.png'} - you sent ${String(u)}`),null;if(d&&typeof d!="string")return console.error(`ERROR: addImage() 'data' should be a string, ex: {data:'image/png;base64,NMP[...]'} - you sent ${String(d)}`),null;if(d&&typeof d=="string"&&!d.toLowerCase().includes("base64,"))return console.error("ERROR: Image `data` value lacks a base64 header! Ex: 'image/png;base64,NMP[...]')"),null;let p=(u.substring(u.lastIndexOf("/")+1).split("?")[0].split(".").pop().split("#")[0]||"png").toLowerCase();if(d&&/image\/(\w+);/.exec(d)&&/image\/(\w+);/.exec(d).length>0?p=/image\/(\w+);/.exec(d)[1]:d!=null&&d.toLowerCase().includes("image/svg+xml")&&(p="svg"),n._type=Ke.image,n.image=u||"preencoded.png",n.options={x:r||0,y:a||0,w:i||1,h:s||1,altText:e.altText||"",rounding:typeof e.rounding=="boolean"?e.rounding:!1,sizing:l,placeholder:e.placeholder,rotate:e.rotate||0,flipV:e.flipV||!1,flipH:e.flipH||!1,transparency:e.transparency||0,objectName:m,shadow:zy(e.shadow)},p==="svg")t._relsMedia.push({path:u||d+"png",type:"image/png",extn:"png",data:d||"",rId:h,Target:`../media/image-${t._slideNum}-${t._relsMedia.length+1}.png`,isSvgPng:!0,svgSize:{w:at(n.options.w,"X",t._presLayout),h:at(n.options.h,"Y",t._presLayout)}}),n.imageRid=h,t._relsMedia.push({path:u||d,type:"image/svg+xml",extn:p,data:d||"",rId:h+1,Target:`../media/image-${t._slideNum}-${t._relsMedia.length+1}.${p}`}),n.imageRid=h+1;else{const A=t._relsMedia.filter(g=>g.path&&g.path===u&&g.type==="image/"+p&&!g.isDuplicate)[0];t._relsMedia.push({path:u||"preencoded."+p,type:"image/"+p,extn:p,data:d||"",rId:h,isDuplicate:!!(A!=null&&A.Target),Target:A!=null&&A.Target?A.Target:`../media/image-${t._slideNum}-${t._relsMedia.length+1}.${p}`}),n.imageRid=h}if(typeof c=="object"){if(!c.url&&!c.slide)throw new Error("ERROR: `hyperlink` option requires either: `url` or `slide`");h++,t._rels.push({type:Ke.hyperlink,data:c.slide?"slide":"dummy",rId:h,Target:c.url||c.slide.toString()}),c._rId=h,n.hyperlink=c}t._slideObjects.push(n)}function O8(t,e){const n=e.x||0,r=e.y||0,a=e.w||2,i=e.h||2,s=e.data||"",l=e.link||"",c=e.path||"",d=e.type||"audio";let u="";const h=e.cover||R8,m=e.objectName?Xe(e.objectName):`Media ${t._slideObjects.filter(A=>A._type===Ke.media).length}`,p={_type:Ke.media};if(!c&&!s&&d!=="online")throw new Error("addMedia() error: either `data` or `path` are required!");if(s&&!s.toLowerCase().includes("base64,"))throw new Error("addMedia() error: `data` value lacks a base64 header! Ex: 'video/mpeg;base64,NMP[...]')");if(!h.toLowerCase().includes("base64,"))throw new Error("addMedia() error: `cover` value lacks a base64 header! Ex: 'data:image/png;base64,iV[...]')");if(d==="online"&&!l)throw new Error("addMedia() error: online videos require `link` value");if(u=e.extn||(s?s.split(";")[0].split("/")[1]:c.split(".").pop())||"mp3",p.mtype=d,p.media=c||"preencoded.mov",p.options={},p.options.x=n,p.options.y=r,p.options.w=a,p.options.h=i,p.options.objectName=m,d==="online"){const A=$a(t);t._relsMedia.push({path:c||"preencoded"+u,data:"dummy",type:"online",extn:u,rId:A,Target:l}),p.mediaRid=A,t._relsMedia.push({path:"preencoded.png",data:h,type:"image/png",extn:"png",rId:$a(t),Target:`../media/image-${t._slideNum}-${t._relsMedia.length+1}.png`})}else{const A=t._relsMedia.filter(b=>b.path&&b.path===c&&b.type===d+"/"+u&&!b.isDuplicate)[0],g=$a(t);t._relsMedia.push({path:c||"preencoded"+u,type:d+"/"+u,extn:u,data:s||"",rId:g,isDuplicate:!!(A!=null&&A.Target),Target:A!=null&&A.Target?A.Target:`../media/media-${t._slideNum}-${t._relsMedia.length+1}.${u}`}),p.mediaRid=g,t._relsMedia.push({path:c||"preencoded"+u,type:d+"/"+u,extn:u,data:s||"",rId:$a(t),isDuplicate:!!(A!=null&&A.Target),Target:A!=null&&A.Target?A.Target:`../media/media-${t._slideNum}-${t._relsMedia.length+0}.${u}`}),t._relsMedia.push({path:"preencoded.png",type:"image/png",extn:"png",data:h,rId:$a(t),Target:`../media/image-${t._slideNum}-${t._relsMedia.length+1}.png`})}t._slideObjects.push(p)}function B8(t,e){t._slideObjects.push({_type:Ke.notes,text:[{text:e}]})}function T0(t,e,n){const r=typeof n=="object"?n:{};r.line=r.line||{type:"none"};const a={_type:Ke.text,shape:e||fs.RECTANGLE,options:r,text:null};if(!e)throw new Error("Missing/Invalid shape parameter! Example: `addShape(pptxgen.shapes.LINE, {x:1, y:1, w:1, h:1});`");const i={type:r.line.type||"solid",color:r.line.color||yI,transparency:r.line.transparency||0,width:r.line.width||1,dashType:r.line.dashType||"solid",beginArrowType:r.line.beginArrowType||null,endArrowType:r.line.endArrowType||null};if(typeof r.line=="object"&&r.line.type!=="none"&&(r.line=i),r.x=r.x||(r.x===0?0:1),r.y=r.y||(r.y===0?0:1),r.w=r.w||(r.w===0?0:1),r.h=r.h||(r.h===0?0:1),r.objectName=r.objectName?Xe(r.objectName):`Shape ${t._slideObjects.filter(s=>s._type===Ke.text).length}`,typeof r.line=="string"){const s=i;s.color=String(r.line),r.line=s}typeof r.lineSize=="number"&&(r.line.width=r.lineSize),typeof r.lineDash=="string"&&(r.line.dashType=r.lineDash),typeof r.lineHead=="string"&&(r.line.beginArrowType=r.lineHead),typeof r.lineTail=="string"&&(r.line.endArrowType=r.lineTail),Jl(t,a),t._slideObjects.push(a)}function z8(t,e,n,r,a,i,s){const l=[t],c=n&&typeof n=="object"?n:{};c.objectName=c.objectName?Xe(c.objectName):`Table ${t._slideObjects.filter(m=>m._type===Ke.table).length}`;{if(e===null||e.length===0||!Array.isArray(e))throw new Error("addTable: Array expected! EX: 'slide.addTable( [rows], {options} );' (https://gitbrent.github.io/PptxGenJS/docs/api-tables.html)");if(!e[0]||!Array.isArray(e[0]))throw new Error("addTable: 'rows' should be an array of cells! EX: 'slide.addTable( [ ['A'], ['B'], {text:'C',options:{align:'center'}} ] );' (https://gitbrent.github.io/PptxGenJS/docs/api-tables.html)")}const d=[];e.forEach(m=>{const p=[];Array.isArray(m)?m.forEach(A=>{const g={_type:Ke.tablecell,text:"",options:typeof A=="object"&&A.options?A.options:{}};typeof A=="string"||typeof A=="number"?g.text=A.toString():A.text&&(typeof A.text=="string"||typeof A.text=="number"?g.text=A.text.toString():A.text&&(g.text=A.text),A.options&&typeof A.options=="object"&&(g.options=A.options)),g.options.border=g.options.border||c.border||[{type:"none"},{type:"none"},{type:"none"},{type:"none"}];const b=g.options.border;!Array.isArray(b)&&typeof b=="object"&&(g.options.border=[b,b,b,b]),g.options.border[0]||(g.options.border[0]={type:"none"}),g.options.border[1]||(g.options.border[1]={type:"none"}),g.options.border[2]||(g.options.border[2]={type:"none"}),g.options.border[3]||(g.options.border[3]={type:"none"}),[0,1,2,3].forEach(y=>{g.options.border[y]={type:g.options.border[y].type||Wo.type,color:g.options.border[y].color||Wo.color,pt:typeof g.options.border[y].pt=="number"?g.options.border[y].pt:Wo.pt}}),p.push(g)}):(console.log("addTable: tableRows has a bad row. A row should be an array of cells. You provided:"),console.log(m)),d.push(p)}),c.x=at(c.x||(c.x===0?0:Je/2),"X",a),c.y=at(c.y||(c.y===0?0:Je/2),"Y",a),c.h&&(c.h=at(c.h,"Y",a)),c.fontSize=c.fontSize||Qr,c.margin=c.margin===0||c.margin?c.margin:xI,typeof c.margin=="number"&&(c.margin=[Number(c.margin),Number(c.margin),Number(c.margin),Number(c.margin)]),JSON.stringify({arrRows:d}).indexOf("hyperlink")===-1&&(c.color||(c.color=c.color||vr)),typeof c.border=="string"?(console.warn("addTable `border` option must be an object. Ex: `{border: {type:'none'}}`"),c.border=null):Array.isArray(c.border)&&[0,1,2,3].forEach(m=>{c.border[m]=c.border[m]?{type:c.border[m].type||Wo.type,color:c.border[m].color||Wo.color,pt:c.border[m].pt||Wo.pt}:{type:"none"}}),c.autoPage=typeof c.autoPage=="boolean"?c.autoPage:!1,c.autoPageRepeatHeader=typeof c.autoPageRepeatHeader=="boolean"?c.autoPageRepeatHeader:!1,c.autoPageHeaderRows=typeof c.autoPageHeaderRows<"u"&&!isNaN(Number(c.autoPageHeaderRows))?Number(c.autoPageHeaderRows):1,c.autoPageLineWeight=typeof c.autoPageLineWeight<"u"&&!isNaN(Number(c.autoPageLineWeight))?Number(c.autoPageLineWeight):0,c.autoPageLineWeight&&(c.autoPageLineWeight>1?c.autoPageLineWeight=1:c.autoPageLineWeight<-1&&(c.autoPageLineWeight=-1));let u=mu;if(r&&typeof r._margin<"u"&&(Array.isArray(r._margin)?u=r._margin:isNaN(Number(r._margin))||(u=[Number(r._margin),Number(r._margin),Number(r._margin),Number(r._margin)])),c.colW){const m=d[0].reduce((p,A)=>{var g;return!((g=A==null?void 0:A.options)===null||g===void 0)&&g.colspan&&typeof A.options.colspan=="number"?p+=A.options.colspan:p+=1,p},0);typeof c.colW=="string"||typeof c.colW=="number"||c.colW&&Array.isArray(c.colW)&&c.colW.length===1&&m>1?(c.w=Math.floor(Number(c.colW)*m),c.colW=null):c.colW&&Array.isArray(c.colW)&&c.colW.length!==m&&(console.warn("addTable: mismatch: (colW.length != data.length) Therefore, defaulting to evenly distributed col widths."),c.colW=null)}else c.w?c.w=at(c.w,"X",a):c.w=Math.floor(a._sizeW/Je-u[1]-u[3]);c.x&&c.x<20&&(c.x=xt(c.x)),c.y&&c.y<20&&(c.y=xt(c.y)),c.w&&typeof c.w=="number"&&c.w<20&&(c.w=xt(c.w)),c.h&&typeof c.h=="number"&&c.h<20&&(c.h=xt(c.h)),d.forEach(m=>{m.forEach((p,A)=>{typeof p=="number"||typeof p=="string"?m[A]={_type:Ke.tablecell,text:String(m[A]),options:c}:typeof p=="object"&&(typeof p.text=="number"?m[A].text=m[A].text.toString():(typeof p.text>"u"||p.text===null)&&(m[A].text=""),m[A].options=p.options||{},m[A]._type=Ke.tablecell)})});const h=[];return c&&!c.autoPage?(Jl(t,d),t._slideObjects.push({_type:Ke.table,arrTabRows:d,options:Object.assign({},c)})):(c.autoPageRepeatHeader&&(c._arrObjTabHeadRows=d.filter((m,p)=>p<c.autoPageHeaderRows)),wI(d,c,a,r).forEach((m,p)=>{s(t._slideNum+p)||l.push(i({masterName:(r==null?void 0:r._name)||null})),p>0&&(c.y=xt(c.autoPageSlideStartY||c.newSlideStartY||u[0]));{const A=s(t._slideNum+p);c.autoPage=!1,Jl(A,m.rows),A.addTable(m.rows,Object.assign({},c)),p>0&&h.push(A)}})),h}function Tp(t,e,n,r){const a={_type:r?Ke.placeholder:Ke.text,shape:(n==null?void 0:n.shape)||fs.RECTANGLE,text:!e||e.length===0?[{text:"",options:null}]:e,options:n||{}};function i(s){{if(s.placeholder||(s.color=s.color||a.options.color||t.color||vr),(s.placeholder||r)&&(s.bullet=s.bullet||!1),s.placeholder&&t._slideLayout&&t._slideLayout._slideObjects){const l=t._slideLayout._slideObjects.filter(c=>c._type==="placeholder"&&c.options&&c.options.placeholder&&c.options.placeholder===s.placeholder)[0];l!=null&&l.options&&(s=Object.assign(Object.assign({},s),l.options))}if(s.objectName=s.objectName?Xe(s.objectName):`Text ${t._slideObjects.filter(l=>l._type===Ke.text).length}`,s.shape===fs.LINE){const l={type:s.line.type||"solid",color:s.line.color||yI,transparency:s.line.transparency||0,width:s.line.width||1,dashType:s.line.dashType||"solid",beginArrowType:s.line.beginArrowType||null,endArrowType:s.line.endArrowType||null};if(typeof s.line=="object"&&(s.line=l),typeof s.line=="string"){const c=l;typeof s.line=="string"&&(c.color=s.line),s.line=c}typeof s.lineSize=="number"&&(s.line.width=s.lineSize),typeof s.lineDash=="string"&&(s.line.dashType=s.lineDash),typeof s.lineHead=="string"&&(s.line.beginArrowType=s.lineHead),typeof s.lineTail=="string"&&(s.line.endArrowType=s.lineTail)}s.line=s.line||{},s.lineSpacing=s.lineSpacing&&!isNaN(s.lineSpacing)?s.lineSpacing:null,s.lineSpacingMultiple=s.lineSpacingMultiple&&!isNaN(s.lineSpacingMultiple)?s.lineSpacingMultiple:null,s._bodyProp=s._bodyProp||{},s._bodyProp.autoFit=s.autoFit||!1,s._bodyProp.anchor=s.placeholder?null:ml.ctr,s._bodyProp.vert=s.vert||null,s._bodyProp.wrap=typeof s.wrap=="boolean"?s.wrap:!0,(s.inset&&!isNaN(Number(s.inset))||s.inset===0)&&(s._bodyProp.lIns=xt(s.inset),s._bodyProp.rIns=xt(s.inset),s._bodyProp.tIns=xt(s.inset),s._bodyProp.bIns=xt(s.inset)),typeof s.underline=="boolean"&&s.underline===!0&&(s.underline={style:"sng"})}return(s.align||"").toLowerCase().indexOf("c")===0?s._bodyProp.align=pl.center:(s.align||"").toLowerCase().indexOf("l")===0?s._bodyProp.align=pl.left:(s.align||"").toLowerCase().indexOf("r")===0?s._bodyProp.align=pl.right:(s.align||"").toLowerCase().indexOf("j")===0&&(s._bodyProp.align=pl.justify),(s.valign||"").toLowerCase().indexOf("b")===0?s._bodyProp.anchor=ml.b:(s.valign||"").toLowerCase().indexOf("m")===0?s._bodyProp.anchor=ml.ctr:(s.valign||"").toLowerCase().indexOf("t")===0&&(s._bodyProp.anchor=ml.t),zy(s.shadow),s}a.options=i(a.options),a.text.forEach(s=>s.options=i(s.options||{})),Jl(t,a.text||""),t._slideObjects.push(a)}function V8(t){(t._slideLayout._slideObjects||[]).forEach(e=>{e._type===Ke.placeholder&&t._slideObjects.filter(n=>n.options&&n.options.placeholder===e.options.placeholder).length===0&&Tp(t,[{text:""}],e.options,!1)})}function EI(t,e){var n;if(e.bkgd&&(e.background||(e.background={}),typeof e.bkgd=="string"?e.background.color=e.bkgd:(e.bkgd.data&&(e.background.data=e.bkgd.data),e.bkgd.path&&(e.background.path=e.bkgd.path),e.bkgd.src&&(e.background.path=e.bkgd.src))),!((n=e.background)===null||n===void 0)&&n.fill&&(e.background.color=e.background.fill),t&&(t.path||t.data)){t.path=t.path||"preencoded.png";let r=(t.path.split(".").pop()||"png").split("?")[0];r==="jpg"&&(r="jpeg"),e._relsMedia=e._relsMedia||[];const a=e._relsMedia.length+1;e._relsMedia.push({path:t.path,type:Ke.image,extn:r,data:t.data||null,rId:a,Target:`../media/${(e._name||"").replace(/\s+/gi,"-")}-image-${e._relsMedia.length+1}.${r}`}),e._bkgdImgRid=a}}function Jl(t,e,n){let r=[];typeof e=="string"||typeof e=="number"||(Array.isArray(e)?r=e:typeof e=="object"&&(r=[e]),r.forEach((a,i)=>{if(n&&n[i]&&n[i].hyperlink&&(a.options=Object.assign(Object.assign({},a.options),n[i])),Array.isArray(a)){const s=[];a.forEach(l=>{l.options&&!l.text.options&&s.push(l.options)}),Jl(t,a,s)}else if(Array.isArray(a.text))Jl(t,a.text,n&&n[i]?[n[i]]:void 0);else if(a&&typeof a=="object"&&a.options&&a.options.hyperlink&&!a.options.hyperlink._rId)if(typeof a.options.hyperlink!="object")console.log("ERROR: text `hyperlink` option should be an object. Ex: `hyperlink: {url:'https://github.com'}` ");else if(!a.options.hyperlink.url&&!a.options.hyperlink.slide)console.log("ERROR: 'hyperlink requires either: `url` or `slide`'");else{const s=$a(t);t._rels.push({type:Ke.hyperlink,data:a.options.hyperlink.slide?"slide":"dummy",rId:s,Target:Xe(a.options.hyperlink.url)||a.options.hyperlink.slide.toString()}),a.options.hyperlink._rId=s}else a&&typeof a=="object"&&a.options&&a.options.hyperlink&&a.options.hyperlink._rId&&t._rels.filter(s=>s.rId===a.options.hyperlink._rId).length===0&&t._rels.push({type:Ke.hyperlink,data:a.options.hyperlink.slide?"slide":"dummy",rId:a.options.hyperlink._rId,Target:Xe(a.options.hyperlink.url)||a.options.hyperlink.slide.toString()})}))}class U8{constructor(e){var n;this.addSlide=e.addSlide,this.getSlide=e.getSlide,this._name=`Slide ${e.slideNumber}`,this._presLayout=e.presLayout,this._rId=e.slideRId,this._rels=[],this._relsChart=[],this._relsMedia=[],this._setSlideNum=e.setSlideNum,this._slideId=e.slideId,this._slideLayout=e.slideLayout||null,this._slideNum=e.slideNumber,this._slideObjects=[],this._slideNumberProps=!((n=this._slideLayout)===null||n===void 0)&&n._slideNumberProps?this._slideLayout._slideNumberProps:null}set bkgd(e){this._bkgd=e,(!this._background||!this._background.color)&&(this._background||(this._background={}),typeof e=="string"&&(this._background.color=e))}get bkgd(){return this._bkgd}set background(e){this._background=e,e&&EI(e,this)}get background(){return this._background}set color(e){this._color=e}get color(){return this._color}set hidden(e){this._hidden=e}get hidden(){return this._hidden}set slideNumber(e){this._slideNumberProps=e,this._setSlideNum(e)}get slideNumber(){return this._slideNumberProps}get newAutoPagedSlides(){return this._newAutoPagedSlides}addChart(e,n,r){const a=r||{};return a._type=e,_I(this,e,n,r),this}addImage(e){return CI(this,e),this}addMedia(e){return O8(this,e),this}addNotes(e){return B8(this,e),this}addShape(e,n){return T0(this,e,n),this}addTable(e,n){return this._newAutoPagedSlides=z8(this,e,n,this._slideLayout,this._presLayout,this.addSlide,this.getSlide),this}addText(e,n){return Tp(this,typeof e=="string"||typeof e=="number"?[{text:e,options:n}]:e,n,!1),this}}function G8(t,e){return Rr(this,void 0,void 0,function*(){const n=t.data;return yield new Promise((r,a)=>{var i,s;const l=new AI,c=(n.length-1)*2+1,d=((s=(i=n[0])===null||i===void 0?void 0:i.labels)===null||s===void 0?void 0:s.length)>1;l.folder("_rels"),l.folder("docProps"),l.folder("xl/_rels"),l.folder("xl/tables"),l.folder("xl/theme"),l.folder("xl/worksheets"),l.folder("xl/worksheets/_rels"),l.file("[Content_Types].xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">  <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>  <Default Extension="xml" ContentType="application/xml"/>  <Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/>  <Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>  <Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/>  <Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/>  <Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/>  <Override PartName="/xl/tables/table1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"/>  <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/>  <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/></Types>
`),l.file("_rels/.rels",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>
`),l.file("docProps/app.xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Macintosh Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>1</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="1" baseType="lpstr"><vt:lpstr>Sheet1</vt:lpstr></vt:vector></TitlesOfParts><Company></Company><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>16.0300</AppVersion></Properties>
`),l.file("docProps/core.xml",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>PptxGenJS</dc:creator><cp:lastModifiedBy>PptxGenJS</cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">'+new Date().toISOString()+'</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">'+new Date().toISOString()+"</dcterms:modified></cp:coreProperties>"),l.file("xl/_rels/workbook.xml.rels",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/><Relationship Id="rId4" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml"/></Relationships>'),l.file("xl/styles.xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"><numFmts count="1"><numFmt numFmtId="0" formatCode="General"/></numFmts><fonts count="4"><font><sz val="9"/><color indexed="8"/><name val="Geneva"/></font><font><sz val="9"/><color indexed="8"/><name val="Geneva"/></font><font><sz val="10"/><color indexed="8"/><name val="Geneva"/></font><font><sz val="18"/><color indexed="8"/><name val="Arial"/></font></fonts><fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><dxfs count="0"/><tableStyles count="0"/><colors><indexedColors><rgbColor rgb="ff000000"/><rgbColor rgb="ffffffff"/><rgbColor rgb="ffff0000"/><rgbColor rgb="ff00ff00"/><rgbColor rgb="ff0000ff"/><rgbColor rgb="ffffff00"/><rgbColor rgb="ffff00ff"/><rgbColor rgb="ff00ffff"/><rgbColor rgb="ff000000"/><rgbColor rgb="ffffffff"/><rgbColor rgb="ff878787"/><rgbColor rgb="fff9f9f9"/></indexedColors></colors></styleSheet>
`),l.file("xl/theme/theme1.xml",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="44546A"/></a:dk2><a:lt2><a:srgbClr val="E7E6E6"/></a:lt2><a:accent1><a:srgbClr val="4472C4"/></a:accent1><a:accent2><a:srgbClr val="ED7D31"/></a:accent2><a:accent3><a:srgbClr val="A5A5A5"/></a:accent3><a:accent4><a:srgbClr val="FFC000"/></a:accent4><a:accent5><a:srgbClr val="5B9BD5"/></a:accent5><a:accent6><a:srgbClr val="70AD47"/></a:accent6><a:hlink><a:srgbClr val="0563C1"/></a:hlink><a:folHlink><a:srgbClr val="954F72"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Calibri Light" panose="020F0302020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="Yu Gothic Light"/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface="DengXian Light"/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:majorFont><a:minorFont><a:latin typeface="Calibri" panose="020F0502020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="Yu Gothic"/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface="DengXian"/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:lumMod val="110000"/><a:satMod val="105000"/><a:tint val="67000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="103000"/><a:tint val="73000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="109000"/><a:tint val="81000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:satMod val="103000"/><a:lumMod val="102000"/><a:tint val="94000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:satMod val="110000"/><a:lumMod val="100000"/><a:shade val="100000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="99000"/><a:satMod val="120000"/><a:shade val="78000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="6350" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="12700" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="19050" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="57150" dist="19050" dir="5400000" algn="ctr" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="63000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:solidFill><a:schemeClr val="phClr"><a:tint val="95000"/><a:satMod val="170000"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="93000"/><a:satMod val="150000"/><a:shade val="98000"/><a:lumMod val="102000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:tint val="98000"/><a:satMod val="130000"/><a:shade val="90000"/><a:lumMod val="103000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="63000"/><a:satMod val="120000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri="{05A4C25C-085E-4340-85A3-A5531E510DB2}"><thm15:themeFamily xmlns:thm15="http://schemas.microsoft.com/office/thememl/2012/main" name="Office Theme" id="{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}" vid="{4A3C46E8-61CC-4603-A589-7422A47A8E4A}"/></a:ext></a:extLst></a:theme>'),l.file("xl/workbook.xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x15" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><fileVersion appName="xl" lastEdited="7" lowestEdited="6" rupBuild="10507"/><workbookPr/><bookViews><workbookView xWindow="0" yWindow="500" windowWidth="20960" windowHeight="15960"/></bookViews><sheets><sheet name="Sheet1" sheetId="1" r:id="rId1"/></sheets><calcPr calcId="0" concurrentCalc="0"/></workbook>
`),l.file("xl/worksheets/_rels/sheet1.xml.rels",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/table" Target="../tables/table1.xml"/></Relationships>
`);{let u='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>';if(t.opts._type===be.BUBBLE||t.opts._type===be.BUBBLE3D)u+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${c}" uniqueCount="${c}">`;else if(t.opts._type===be.SCATTER)u+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${n.length}" uniqueCount="${n.length}">`;else if(d){let h=n.length;n[0].labels.forEach(m=>h+=m.filter(p=>p&&p!=="").length),u+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${h}" uniqueCount="${h}">`,u+="<si><t/></si>"}else{const h=n.length+n[0].labels.length*n[0].labels[0].length+n[0].labels.length,m=n.length+n[0].labels.length*n[0].labels[0].length+1;u+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${h}" uniqueCount="${m}">`,u+='<si><t xml:space="preserve"></t></si>'}t.opts._type===be.BUBBLE||t.opts._type===be.BUBBLE3D?n.forEach((h,m)=>{m===0?u+="<si><t>X-Axis</t></si>":(u+=`<si><t>${Xe(h.name||`Y-Axis${m}`)}</t></si>`,u+=`<si><t>${Xe(`Size${m}`)}</t></si>`)}):n.forEach(h=>{u+=`<si><t>${Xe((h.name||" ").replace("X-Axis","X-Values"))}</t></si>`}),t.opts._type!==be.BUBBLE&&t.opts._type!==be.BUBBLE3D&&t.opts._type!==be.SCATTER&&n[0].labels.slice().reverse().forEach(h=>{h.filter(m=>m&&m!=="").forEach(m=>{u+=`<si><t>${Xe(m)}</t></si>`})}),u+=`</sst>
`,l.file("xl/sharedStrings.xml",u)}{let u='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>';if(t.opts._type===be.BUBBLE||t.opts._type===be.BUBBLE3D){u+=`<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="A1:${jt(c)}${c}" totalsRowShown="0">`,u+=`<tableColumns count="${c}">`;let h=1;n.forEach((m,p)=>{p===0?u+=`<tableColumn id="${p+1}" name="X-Values"/>`:(u+=`<tableColumn id="${p+h}" name="${m.name}"/>`,h++,u+=`<tableColumn id="${p+h}" name="Size${p}"/>`)})}else t.opts._type===be.SCATTER?(u+=`<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="A1:${jt(n.length)}${n[0].values.length+1}" totalsRowShown="0">`,u+=`<tableColumns count="${n.length}">`,n.forEach((h,m)=>{u+=`<tableColumn id="${m+1}" name="${m===0?"X-Values":"Y-Value "}${m}"/>`})):(u+=`<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="A1:${jt(n.length+n[0].labels.length)}${n[0].labels[0].length+1}'" totalsRowShown="0">`,u+=`<tableColumns count="${n.length+n[0].labels.length}">`,n[0].labels.forEach((h,m)=>{u+=`<tableColumn id="${m+1}" name="Column${m+1}"/>`}),n.forEach((h,m)=>{u+=`<tableColumn id="${m+n[0].labels.length+1}" name="${Xe(h.name)}"/>`}));u+="</tableColumns>",u+='<tableStyleInfo showFirstColumn="0" showLastColumn="0" showRowStripes="1" showColumnStripes="0"/>',u+="</table>",l.file("xl/tables/table1.xml",u)}{let u='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>';if(u+='<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">',t.opts._type===be.BUBBLE||t.opts._type===be.BUBBLE3D?u+=`<dimension ref="A1:${jt(c)}${n[0].values.length+1}"/>`:t.opts._type===be.SCATTER?u+=`<dimension ref="A1:${jt(n.length)}${n[0].values.length+1}"/>`:u+=`<dimension ref="A1:${jt(n.length+1)}${n[0].values.length+1}"/>`,u+='<sheetViews><sheetView tabSelected="1" workbookViewId="0"><selection activeCell="B1" sqref="B1"/></sheetView></sheetViews>',u+='<sheetFormatPr baseColWidth="10" defaultRowHeight="16"/>',t.opts._type===be.BUBBLE||t.opts._type===be.BUBBLE3D){u+="<sheetData>",u+=`<row r="1" spans="1:${c}">`,u+='<c r="A1" t="s"><v>0</v></c>';for(let h=1;h<c;h++)u+=`<c r="${jt(h+1)}1" t="s"><v>${h}</v></c>`;u+="</row>",n[0].values.forEach((h,m)=>{u+=`<row r="${m+2}" spans="1:${c}">`,u+=`<c r="A${m+2}"><v>${h}</v></c>`;let p=2;for(let A=1;A<n.length;A++)u+=`<c r="${jt(p)}${m+2}"><v>${n[A].values[m]||""}</v></c>`,p++,u+=`<c r="${jt(p)}${m+2}"><v>${n[A].sizes[m]||""}</v></c>`,p++;u+="</row>"})}else if(t.opts._type===be.SCATTER){u+="<sheetData>",u+=`<row r="1" spans="1:${n.length}">`;for(let h=0;h<n.length;h++)u+=`<c r="${jt(h+1)}1" t="s"><v>${h}</v></c>`;u+="</row>",n[0].values.forEach((h,m)=>{u+=`<row r="${m+2}" spans="1:${n.length}">`,u+=`<c r="A${m+2}"><v>${h}</v></c>`;for(let p=1;p<n.length;p++)u+=`<c r="${jt(p+1)}${m+2}"><v>${n[p].values[m]||n[p].values[m]===0?n[p].values[m]:""}</v></c>`;u+="</row>"})}else if(u+="<sheetData>",d){u+=`<row r="1" spans="1:${n.length+n[0].labels.length}">`;for(let A=0;A<n[0].labels.length;A++)u+=`<c r="${jt(A+1)}1" t="s"><v>0</v></c>`;for(let A=n[0].labels.length-1;A<n.length+n[0].labels.length-1;A++)u+=`<c r="${jt(A+n[0].labels.length)}1" t="s"><v>${A}</v></c>`;u+="</row>";const h=n.length,m=n[0].labels[0].length,p=n[0].labels.length;for(let A=0;A<m;A++){u+=`<row r="${A+2}" spans="1:${h+p}">`;let g=h;const b=n[0].labels.slice().reverse();b.forEach((x,y)=>{if(x[A]){const S=y===0?1:b[y-1].filter(k=>k&&k!=="").length;g+=S,u+=`<c r="${jt(A+1+y)}${A+2}" t="s"><v>${g}</v></c>`}});for(let x=0;x<h;x++)u+=`<c r="${jt(p+x+1)}${A+2}"><v>${n[x].values[A]||0}</v></c>`;u+="</row>"}}else{u+=`<row r="1" spans="1:${n.length+n[0].labels.length}">`,n[0].labels.forEach((h,m)=>{u+=`<c r="${jt(m+1)}1" t="s"><v>0</v></c>`});for(let h=0;h<n.length;h++)u+=`<c r="${jt(h+1+n[0].labels.length)}1" t="s"><v>${h+1}</v></c>`;u+="</row>",n[0].labels[0].forEach((h,m)=>{u+=`<row r="${m+2}" spans="1:${n.length+n[0].labels.length}">`;for(let p=n[0].labels.length-1;p>=0;p--)u+=`<c r="${jt(n[0].labels.length-p)}${m+2}" t="s">`,u+=`<v>${n.length+m+1}</v>`,u+="</c>";for(let p=0;p<n.length;p++)u+=`<c r="${jt(n[0].labels.length+p+1)}${m+2}"><v>${n[p].values[m]||""}</v></c>`;u+="</row>"})}u+="</sheetData>",u+='<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3"/>',u+=`</worksheet>
`,l.file("xl/worksheets/sheet1.xml",u)}l.generateAsync({type:"base64"}).then(u=>{e.file(`ppt/embeddings/Microsoft_Excel_Worksheet${t.globalId}.xlsx`,u,{base64:!0}),e.file("ppt/charts/_rels/"+t.fileName+".rels",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/package" Target="../embeddings/Microsoft_Excel_Worksheet${t.globalId}.xlsx"/></Relationships>`),e.file(`ppt/charts/${t.fileName}`,W8(t)),r("")}).catch(u=>{a(u)})})})}function W8(t){var e,n,r,a;let i='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>',s=!1;if(i+='<c:chartSpace xmlns:c="http://schemas.openxmlformats.org/drawingml/2006/chart" xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">',i+='<c:date1904 val="0"/>',i+=`<c:roundedCorners val="${t.opts.chartArea.roundedCorners?"1":"0"}"/>`,i+="<c:chart>",t.opts.showTitle?(i+=_m({title:t.opts.title||"Chart Title",color:t.opts.titleColor,fontFace:t.opts.titleFontFace,fontSize:t.opts.titleFontSize||I8,titleAlign:t.opts.titleAlign,titleBold:t.opts.titleBold,titlePos:t.opts.titlePos,titleRotate:t.opts.titleRotate},t.opts.x,t.opts.y),i+='<c:autoTitleDeleted val="0"/>'):i+='<c:autoTitleDeleted val="1"/>',t.opts._type===be.BAR3D&&(i+=`<c:view3D><c:rotX val="${t.opts.v3DRotX}"/><c:rotY val="${t.opts.v3DRotY}"/><c:rAngAx val="${t.opts.v3DRAngAx?1:0}"/><c:perspective val="${t.opts.v3DPerspective}"/></c:view3D>`),i+="<c:plotArea>",t.opts.layout?(i+="<c:layout>",i+=" <c:manualLayout>",i+='  <c:layoutTarget val="inner" />',i+='  <c:xMode val="edge" />',i+='  <c:yMode val="edge" />',i+='  <c:x val="'+(t.opts.layout.x||0)+'" />',i+='  <c:y val="'+(t.opts.layout.y||0)+'" />',i+='  <c:w val="'+(t.opts.layout.w||1)+'" />',i+='  <c:h val="'+(t.opts.layout.h||1)+'" />',i+=" </c:manualLayout>",i+="</c:layout>"):i+="<c:layout/>",Array.isArray(t.opts._type)?t.opts._type.forEach(l=>{const c=Object.assign(Object.assign({},t.opts),l.options),d=c.secondaryValAxis?hf:Ua,u=c.secondaryCatAxis?b0:td;s=s||c.secondaryValAxis,i+=L_(l.type,l.data,c,d,u)}):i+=L_(t.opts._type,t.data,t.opts,Ua,td),t.opts._type!==be.PIE&&t.opts._type!==be.DOUGHNUT){if(t.opts.valAxes&&t.opts.valAxes.length>1&&!s)throw new Error("Secondary axis must be used by one of the multiple charts");if(t.opts.catAxes){if(!t.opts.valAxes||t.opts.valAxes.length!==t.opts.catAxes.length)throw new Error("There must be the same number of value and category axes.");i+=Rg(Object.assign(Object.assign({},t.opts),t.opts.catAxes[0]),td,Ua)}else i+=Rg(t.opts,td,Ua);t.opts.valAxes?(i+=Pg(Object.assign(Object.assign({},t.opts),t.opts.valAxes[0]),Ua),t.opts.valAxes[1]&&(i+=Pg(Object.assign(Object.assign({},t.opts),t.opts.valAxes[1]),hf))):(i+=Pg(t.opts,Ua),t.opts._type===be.BAR3D&&(i+=$8(t.opts,vI,Ua))),!((e=t.opts)===null||e===void 0)&&e.catAxes&&(!((n=t.opts)===null||n===void 0)&&n.catAxes[1])&&(i+=Rg(Object.assign(Object.assign({},t.opts),t.opts.catAxes[1]),b0,hf))}return t.opts.showDataTable&&(i+="<c:dTable>",i+=`  <c:showHorzBorder val="${t.opts.showDataTableHorzBorder?1:0}"/>`,i+=`  <c:showVertBorder val="${t.opts.showDataTableVertBorder?1:0}"/>`,i+=`  <c:showOutline    val="${t.opts.showDataTableOutline?1:0}"/>`,i+=`  <c:showKeys       val="${t.opts.showDataTableKeys?1:0}"/>`,i+="  <c:spPr>",i+="    <a:noFill/>",i+='    <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="tx1"><a:lumMod val="15000"/><a:lumOff val="85000"/></a:schemeClr></a:solidFill><a:round/></a:ln>',i+="    <a:effectLst/>",i+="  </c:spPr>",i+="  <c:txPr>",i+='   <a:bodyPr rot="0" spcFirstLastPara="1" vertOverflow="ellipsis" vert="horz" wrap="square" anchor="ctr" anchorCtr="1"/>',i+="   <a:lstStyle/>",i+="   <a:p>",i+='     <a:pPr rtl="0">',i+=`       <a:defRPr sz="${Math.round((t.opts.dataTableFontSize||Qr)*100)}" b="0" i="0" u="none" strike="noStrike" kern="1200" baseline="0">`,i+='         <a:solidFill><a:schemeClr val="tx1"><a:lumMod val="65000"/><a:lumOff val="35000"/></a:schemeClr></a:solidFill>',i+='         <a:latin typeface="+mn-lt"/>',i+='         <a:ea typeface="+mn-ea"/>',i+='         <a:cs typeface="+mn-cs"/>',i+="       </a:defRPr>",i+="     </a:pPr>",i+='    <a:endParaRPr lang="en-US"/>',i+="   </a:p>",i+=" </c:txPr>",i+="</c:dTable>"),i+="  <c:spPr>",i+=!((r=t.opts.plotArea.fill)===null||r===void 0)&&r.color?Pr(t.opts.plotArea.fill):"<a:noFill/>",i+=t.opts.plotArea.border?`<a:ln w="${He(t.opts.plotArea.border.pt)}" cap="flat">${Pr(t.opts.plotArea.border.color)}</a:ln>`:"<a:ln><a:noFill/></a:ln>",i+="    <a:effectLst/>",i+="  </c:spPr>",i+="</c:plotArea>",t.opts.showLegend&&(i+="<c:legend>",i+='<c:legendPos val="'+t.opts.legendPos+'"/>',i+='<c:overlay val="0"/>',(t.opts.legendFontFace||t.opts.legendFontSize||t.opts.legendColor)&&(i+="<c:txPr>",i+="  <a:bodyPr/>",i+="  <a:lstStyle/>",i+="  <a:p>",i+="    <a:pPr>",i+=t.opts.legendFontSize?`<a:defRPr sz="${Math.round(Number(t.opts.legendFontSize)*100)}">`:"<a:defRPr>",t.opts.legendColor&&(i+=Pr(t.opts.legendColor)),t.opts.legendFontFace&&(i+='<a:latin typeface="'+t.opts.legendFontFace+'"/>'),t.opts.legendFontFace&&(i+='<a:cs    typeface="'+t.opts.legendFontFace+'"/>'),i+="      </a:defRPr>",i+="    </a:pPr>",i+='    <a:endParaRPr lang="en-US"/>',i+="  </a:p>",i+="</c:txPr>"),i+="</c:legend>"),i+='  <c:plotVisOnly val="1"/>',i+='  <c:dispBlanksAs val="'+t.opts.displayBlanksAs+'"/>',t.opts._type===be.SCATTER&&(i+='<c:showDLblsOverMax val="1"/>'),i+="</c:chart>",i+="<c:spPr>",i+=!((a=t.opts.chartArea.fill)===null||a===void 0)&&a.color?Pr(t.opts.chartArea.fill):"<a:noFill/>",i+=t.opts.chartArea.border?`<a:ln w="${He(t.opts.chartArea.border.pt)}" cap="flat">${Pr(t.opts.chartArea.border.color)}</a:ln>`:"<a:ln><a:noFill/></a:ln>",i+="  <a:effectLst/>",i+="</c:spPr>",i+='<c:externalData r:id="rId1"><c:autoUpdate val="0"/></c:externalData>',i+="</c:chartSpace>",i}function L_(t,e,n,r,a,i){let s=-1,l=1,c=null,d="";switch(t){case be.AREA:case be.BAR:case be.BAR3D:case be.LINE:case be.RADAR:d+=`<c:${t}Chart>`,t===be.AREA&&n.barGrouping==="stacked"&&(d+='<c:grouping val="'+n.barGrouping+'"/>'),(t===be.BAR||t===be.BAR3D)&&(d+='<c:barDir val="'+n.barDir+'"/>',d+='<c:grouping val="'+(n.barGrouping||"clustered")+'"/>'),t===be.RADAR&&(d+='<c:radarStyle val="'+n.radarStyle+'"/>'),d+='<c:varyColors val="0"/>',e.forEach(u=>{var h;s++,d+="<c:ser>",d+=`  <c:idx val="${u._dataIndex}"/><c:order val="${u._dataIndex}"/>`,d+="  <c:tx>",d+="    <c:strRef>",d+="      <c:f>Sheet1!$"+jt(u._dataIndex+u.labels.length+1)+"$1</c:f>",d+='      <c:strCache><c:ptCount val="1"/><c:pt idx="0"><c:v>'+Xe(u.name)+"</c:v></c:pt></c:strCache>",d+="    </c:strRef>",d+="  </c:tx>";const m=n.chartColors?n.chartColors[s%n.chartColors.length]:null;d+="  <c:spPr>",m==="transparent"?d+="<a:noFill/>":n.chartColorsOpacity?d+="<a:solidFill>"+Ct(m,`<a:alpha val="${Math.round(n.chartColorsOpacity*1e3)}"/>`)+"</a:solidFill>":d+="<a:solidFill>"+Ct(m)+"</a:solidFill>",t===be.LINE||t===be.RADAR?n.lineSize===0?d+="<a:ln><a:noFill/></a:ln>":(d+=`<a:ln w="${He(n.lineSize)}" cap="${pf(n.lineCap)}"><a:solidFill>${Ct(m)}</a:solidFill>`,d+='<a:prstDash val="'+(n.lineDash||"solid")+'"/><a:round/></a:ln>'):n.dataBorder&&(d+=`<a:ln w="${He(n.dataBorder.pt)}" cap="${pf(n.lineCap)}"><a:solidFill>${Ct(n.dataBorder.color)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`),d+=Is(n.shadow,Ss),d+="  </c:spPr>",d+='  <c:invertIfNegative val="0"/>',t!==be.RADAR&&(d+="<c:dLbls>",d+=`<c:numFmt formatCode="${Xe(n.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,n.dataLabelBkgrdColors&&(d+=`<c:spPr><a:solidFill>${Ct(m)}</a:solidFill></c:spPr>`),d+="<c:txPr><a:bodyPr/><a:lstStyle/><a:p><a:pPr>",d+=`<a:defRPr b="${n.dataLabelFontBold?1:0}" i="${n.dataLabelFontItalic?1:0}" strike="noStrike" sz="${Math.round((n.dataLabelFontSize||Qr)*100)}" u="none">`,d+=`<a:solidFill>${Ct(n.dataLabelColor||vr)}</a:solidFill>`,d+=`<a:latin typeface="${n.dataLabelFontFace||"Arial"}"/>`,d+="</a:defRPr></a:pPr></a:p></c:txPr>",n.dataLabelPosition&&(d+=`<c:dLblPos val="${n.dataLabelPosition}"/>`),d+='<c:showLegendKey val="0"/>',d+=`<c:showVal val="${n.showValue?"1":"0"}"/>`,d+=`<c:showCatName val="0"/><c:showSerName val="${n.showSerName?"1":"0"}"/><c:showPercent val="0"/><c:showBubbleSize val="0"/>`,d+=`<c:showLeaderLines val="${n.showLeaderLines?"1":"0"}"/>`,d+="</c:dLbls>"),(t===be.LINE||t===be.RADAR)&&(d+="<c:marker>",d+='  <c:symbol val="'+n.lineDataSymbol+'"/>',n.lineDataSymbolSize&&(d+=`<c:size val="${n.lineDataSymbolSize}"/>`),d+="  <c:spPr>",d+=`    <a:solidFill>${Ct(n.chartColors[u._dataIndex+1>n.chartColors.length?Math.floor(Math.random()*n.chartColors.length):u._dataIndex])}</a:solidFill>`,d+=`    <a:ln w="${n.lineDataSymbolLineSize}" cap="flat"><a:solidFill>${Ct(n.lineDataSymbolLineColor||m)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`,d+="    <a:effectLst/>",d+="  </c:spPr>",d+="</c:marker>"),(t===be.BAR||t===be.BAR3D)&&e.length===1&&(n.chartColors&&n.chartColors!==nd&&n.chartColors.length>1||!((h=n.invertedColors)===null||h===void 0)&&h.length)&&u.values.forEach((p,A)=>{const g=p<0?n.invertedColors||n.chartColors||nd:n.chartColors||[];d+="  <c:dPt>",d+=`    <c:idx val="${A}"/>`,d+='      <c:invertIfNegative val="0"/>',d+='    <c:bubble3D val="0"/>',d+="    <c:spPr>",n.lineSize===0?d+="<a:ln><a:noFill/></a:ln>":t===be.BAR?(d+="<a:solidFill>",d+='  <a:srgbClr val="'+g[A%g.length]+'"/>',d+="</a:solidFill>"):(d+="<a:ln>",d+="  <a:solidFill>",d+='   <a:srgbClr val="'+g[A%g.length]+'"/>',d+="  </a:solidFill>",d+="</a:ln>"),d+=Is(n.shadow,Ss),d+="    </c:spPr>",d+="  </c:dPt>"}),d+="<c:cat>",n.catLabelFormatCode?(d+="  <c:numRef>",d+=`    <c:f>Sheet1!$A$2:$A$${u.labels[0].length+1}</c:f>`,d+="    <c:numCache>",d+="      <c:formatCode>"+(n.catLabelFormatCode||"General")+"</c:formatCode>",d+=`      <c:ptCount val="${u.labels[0].length}"/>`,u.labels[0].forEach((p,A)=>d+=`<c:pt idx="${A}"><c:v>${Xe(p)}</c:v></c:pt>`),d+="    </c:numCache>",d+="  </c:numRef>"):(d+="  <c:multiLvlStrRef>",d+=`    <c:f>Sheet1!$A$2:$${jt(u.labels.length)}$${u.labels[0].length+1}</c:f>`,d+="    <c:multiLvlStrCache>",d+=`      <c:ptCount val="${u.labels[0].length}"/>`,u.labels.forEach(p=>{d+="<c:lvl>",p.forEach((A,g)=>d+=`<c:pt idx="${g}"><c:v>${Xe(A)}</c:v></c:pt>`),d+="</c:lvl>"}),d+="    </c:multiLvlStrCache>",d+="  </c:multiLvlStrRef>"),d+="</c:cat>",d+="<c:val>",d+="  <c:numRef>",d+=`<c:f>Sheet1!$${jt(u._dataIndex+u.labels.length+1)}$2:$${jt(u._dataIndex+u.labels.length+1)}$${u.labels[0].length+1}</c:f>`,d+="    <c:numCache>",d+="      <c:formatCode>"+(n.valLabelFormatCode||n.dataTableFormatCode||"General")+"</c:formatCode>",d+=`      <c:ptCount val="${u.labels[0].length}"/>`,u.values.forEach((p,A)=>d+=`<c:pt idx="${A}"><c:v>${p||p===0?p:""}</c:v></c:pt>`),d+="    </c:numCache>",d+="  </c:numRef>",d+="</c:val>",t===be.LINE&&(d+='<c:smooth val="'+(n.lineSmooth?"1":"0")+'"/>'),d+="</c:ser>"}),d+="  <c:dLbls>",d+=`    <c:numFmt formatCode="${Xe(n.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,d+="    <c:txPr>",d+="      <a:bodyPr/>",d+="      <a:lstStyle/>",d+="      <a:p><a:pPr>",d+=`        <a:defRPr b="${n.dataLabelFontBold?1:0}" i="${n.dataLabelFontItalic?1:0}" strike="noStrike" sz="${Math.round((n.dataLabelFontSize||Qr)*100)}" u="none">`,d+="          <a:solidFill>"+Ct(n.dataLabelColor||vr)+"</a:solidFill>",d+='          <a:latin typeface="'+(n.dataLabelFontFace||"Arial")+'"/>',d+="        </a:defRPr>",d+="      </a:pPr></a:p>",d+="    </c:txPr>",n.dataLabelPosition&&(d+=' <c:dLblPos val="'+n.dataLabelPosition+'"/>'),d+='    <c:showLegendKey val="0"/>',d+='    <c:showVal val="'+(n.showValue?"1":"0")+'"/>',d+='    <c:showCatName val="0"/>',d+='    <c:showSerName val="'+(n.showSerName?"1":"0")+'"/>',d+='    <c:showPercent val="0"/>',d+='    <c:showBubbleSize val="0"/>',d+=`    <c:showLeaderLines val="${n.showLeaderLines?"1":"0"}"/>`,d+="  </c:dLbls>",t===be.BAR?(d+=`  <c:gapWidth val="${n.barGapWidthPct}"/>`,d+=`  <c:overlap val="${(n.barGrouping||"").includes("tacked")?100:n.barOverlapPct?n.barOverlapPct:0}"/>`):t===be.BAR3D?(d+=`  <c:gapWidth val="${n.barGapWidthPct}"/>`,d+=`  <c:gapDepth val="${n.barGapDepthPct}"/>`,d+='  <c:shape val="'+n.bar3DShape+'"/>'):t===be.LINE&&(d+='  <c:marker val="1"/>'),d+=`<c:axId val="${a}"/><c:axId val="${r}"/><c:axId val="${vI}"/>`,d+=`</c:${t}Chart>`;break;case be.SCATTER:d+="<c:"+t+"Chart>",d+='<c:scatterStyle val="lineMarker"/>',d+='<c:varyColors val="0"/>',s=-1,e.filter((u,h)=>h>0).forEach((u,h)=>{s++,d+="<c:ser>",d+=`  <c:idx val="${h}"/>`,d+=`  <c:order val="${h}"/>`,d+="  <c:tx>",d+="    <c:strRef>",d+=`      <c:f>Sheet1!$${jt(h+2)}$1</c:f>`,d+='      <c:strCache><c:ptCount val="1"/><c:pt idx="0"><c:v>'+Xe(u.name)+"</c:v></c:pt></c:strCache>",d+="    </c:strRef>",d+="  </c:tx>",d+="  <c:spPr>";{const m=n.chartColors[s%n.chartColors.length];m==="transparent"?d+="<a:noFill/>":n.chartColorsOpacity?d+="<a:solidFill>"+Ct(m,'<a:alpha val="'+Math.round(n.chartColorsOpacity*1e3).toString()+'"/>')+"</a:solidFill>":d+="<a:solidFill>"+Ct(m)+"</a:solidFill>",n.lineSize===0?d+="<a:ln><a:noFill/></a:ln>":(d+=`<a:ln w="${He(n.lineSize)}" cap="${pf(n.lineCap)}"><a:solidFill>${Ct(m)}</a:solidFill>`,d+=`<a:prstDash val="${n.lineDash||"solid"}"/><a:round/></a:ln>`),d+=Is(n.shadow,Ss)}if(d+="  </c:spPr>",d+="<c:marker>",d+='  <c:symbol val="'+n.lineDataSymbol+'"/>',n.lineDataSymbolSize&&(d+=`<c:size val="${n.lineDataSymbolSize}"/>`),d+="<c:spPr>",d+=`<a:solidFill>${Ct(n.chartColors[h+1>n.chartColors.length?Math.floor(Math.random()*n.chartColors.length):h])}</a:solidFill>`,d+=`<a:ln w="${n.lineDataSymbolLineSize}" cap="flat"><a:solidFill>${Ct(n.lineDataSymbolLineColor||n.chartColors[s%n.chartColors.length])}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`,d+="<a:effectLst/>",d+="</c:spPr>",d+="</c:marker>",n.showLabel){const m=ff("-xxxx-xxxx-xxxx-xxxxxxxxxxxx");u.labels[0]&&(n.dataLabelFormatScatter==="custom"||n.dataLabelFormatScatter==="customXY")&&(d+="<c:dLbls>",u.labels[0].forEach((p,A)=>{(n.dataLabelFormatScatter==="custom"||n.dataLabelFormatScatter==="customXY")&&(d+="  <c:dLbl>",d+=`    <c:idx val="${A}"/>`,d+="    <c:tx>",d+="      <c:rich>",d+="            <a:bodyPr>",d+="                <a:spAutoFit/>",d+="            </a:bodyPr>",d+="            <a:lstStyle/>",d+="            <a:p>",d+="                <a:pPr>",d+="                    <a:defRPr/>",d+="                </a:pPr>",d+="              <a:r>",d+='                    <a:rPr lang="'+(n.lang||"en-US")+'" dirty="0"/>',d+="                    <a:t>"+Xe(p)+"</a:t>",d+="              </a:r>",n.dataLabelFormatScatter==="customXY"&&!/^ *$/.test(p)&&(d+="              <a:r>",d+='                  <a:rPr lang="'+(n.lang||"en-US")+'" baseline="0" dirty="0"/>',d+="                  <a:t> (</a:t>",d+="              </a:r>",d+='              <a:fld id="{'+ff("xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")+'}" type="XVALUE">',d+='                  <a:rPr lang="'+(n.lang||"en-US")+'" baseline="0"/>',d+="                  <a:pPr>",d+="                      <a:defRPr/>",d+="                  </a:pPr>",d+="                  <a:t>["+Xe(u.name)+"</a:t>",d+="              </a:fld>",d+="              <a:r>",d+='                  <a:rPr lang="'+(n.lang||"en-US")+'" baseline="0" dirty="0"/>',d+="                  <a:t>, </a:t>",d+="              </a:r>",d+='              <a:fld id="{'+ff("xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")+'}" type="YVALUE">',d+='                  <a:rPr lang="'+(n.lang||"en-US")+'" baseline="0"/>',d+="                  <a:pPr>",d+="                      <a:defRPr/>",d+="                  </a:pPr>",d+="                  <a:t>["+Xe(u.name)+"]</a:t>",d+="              </a:fld>",d+="              <a:r>",d+='                  <a:rPr lang="'+(n.lang||"en-US")+'" baseline="0" dirty="0"/>',d+="                  <a:t>)</a:t>",d+="              </a:r>",d+='              <a:endParaRPr lang="'+(n.lang||"en-US")+'" dirty="0"/>'),d+="            </a:p>",d+="      </c:rich>",d+="    </c:tx>",d+="    <c:spPr>",d+="        <a:noFill/>",d+="        <a:ln>",d+="            <a:noFill/>",d+="        </a:ln>",d+="        <a:effectLst/>",d+="    </c:spPr>",n.dataLabelPosition&&(d+=' <c:dLblPos val="'+n.dataLabelPosition+'"/>'),d+='    <c:showLegendKey val="0"/>',d+='    <c:showVal val="0"/>',d+='    <c:showCatName val="0"/>',d+='    <c:showSerName val="0"/>',d+='    <c:showPercent val="0"/>',d+='    <c:showBubbleSize val="0"/>',d+='       <c:showLeaderLines val="1"/>',d+="    <c:extLst>",d+='      <c:ext uri="{CE6537A1-D6FC-4f65-9D91-7224C49458BB}" xmlns:c15="http://schemas.microsoft.com/office/drawing/2012/chart"/>',d+='      <c:ext uri="{C3380CC4-5D6E-409C-BE32-E72D297353CC}" xmlns:c16="http://schemas.microsoft.com/office/drawing/2014/chart">',d+=`            <c16:uniqueId val="{${"00000000".substring(0,8-(A+1).toString().length).toString()}${A+1}${m}}"/>`,d+="      </c:ext>",d+="        </c:extLst>",d+="</c:dLbl>")}),d+="</c:dLbls>"),n.dataLabelFormatScatter==="XY"&&(d+="<c:dLbls>",d+="    <c:spPr>",d+="        <a:noFill/>",d+="        <a:ln>",d+="            <a:noFill/>",d+="        </a:ln>",d+="          <a:effectLst/>",d+="    </c:spPr>",d+="    <c:txPr>",d+="        <a:bodyPr>",d+="            <a:spAutoFit/>",d+="        </a:bodyPr>",d+="        <a:lstStyle/>",d+="        <a:p>",d+="            <a:pPr>",d+="                <a:defRPr/>",d+="            </a:pPr>",d+='            <a:endParaRPr lang="en-US"/>',d+="        </a:p>",d+="    </c:txPr>",n.dataLabelPosition&&(d+=' <c:dLblPos val="'+n.dataLabelPosition+'"/>'),d+='    <c:showLegendKey val="0"/>',d+=` <c:showVal val="${n.showLabel?"1":"0"}"/>`,d+=` <c:showCatName val="${n.showLabel?"1":"0"}"/>`,d+=` <c:showSerName val="${n.showSerName?"1":"0"}"/>`,d+='    <c:showPercent val="0"/>',d+='    <c:showBubbleSize val="0"/>',d+="    <c:extLst>",d+='        <c:ext uri="{CE6537A1-D6FC-4f65-9D91-7224C49458BB}" xmlns:c15="http://schemas.microsoft.com/office/drawing/2012/chart">',d+='            <c15:showLeaderLines val="1"/>',d+="        </c:ext>",d+="    </c:extLst>",d+="</c:dLbls>")}e.length===1&&n.chartColors!==nd&&u.values.forEach((m,p)=>{const A=m<0?n.invertedColors||n.chartColors||nd:n.chartColors||[];d+="  <c:dPt>",d+=`    <c:idx val="${p}"/>`,d+='      <c:invertIfNegative val="0"/>',d+='    <c:bubble3D val="0"/>',d+="    <c:spPr>",n.lineSize===0?d+="<a:ln><a:noFill/></a:ln>":(d+="<a:solidFill>",d+=' <a:srgbClr val="'+A[p%A.length]+'"/>',d+="</a:solidFill>"),d+=Is(n.shadow,Ss),d+="    </c:spPr>",d+="  </c:dPt>"}),d+="<c:xVal>",d+="  <c:numRef>",d+=`    <c:f>Sheet1!$A$2:$A$${e[0].values.length+1}</c:f>`,d+="    <c:numCache>",d+="      <c:formatCode>General</c:formatCode>",d+=`      <c:ptCount val="${e[0].values.length}"/>`,e[0].values.forEach((m,p)=>{d+=`<c:pt idx="${p}"><c:v>${m||m===0?m:""}</c:v></c:pt>`}),d+="    </c:numCache>",d+="  </c:numRef>",d+="</c:xVal>",d+="<c:yVal>",d+="  <c:numRef>",d+=`    <c:f>Sheet1!$${jt(h+2)}$2:$${jt(h+2)}$${e[0].values.length+1}</c:f>`,d+="    <c:numCache>",d+="      <c:formatCode>General</c:formatCode>",d+=`      <c:ptCount val="${e[0].values.length}"/>`,e[0].values.forEach((m,p)=>{d+=`<c:pt idx="${p}"><c:v>${u.values[p]||u.values[p]===0?u.values[p]:""}</c:v></c:pt>`}),d+="    </c:numCache>",d+="  </c:numRef>",d+="</c:yVal>",d+='<c:smooth val="'+(n.lineSmooth?"1":"0")+'"/>',d+="</c:ser>"}),d+="  <c:dLbls>",d+=`    <c:numFmt formatCode="${Xe(n.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,d+="    <c:txPr>",d+="      <a:bodyPr/>",d+="      <a:lstStyle/>",d+="      <a:p><a:pPr>",d+=`        <a:defRPr b="${n.dataLabelFontBold?"1":"0"}" i="${n.dataLabelFontItalic?"1":"0"}" strike="noStrike" sz="${Math.round((n.dataLabelFontSize||Qr)*100)}" u="none">`,d+="          <a:solidFill>"+Ct(n.dataLabelColor||vr)+"</a:solidFill>",d+='          <a:latin typeface="'+(n.dataLabelFontFace||"Arial")+'"/>',d+="        </a:defRPr>",d+="      </a:pPr></a:p>",d+="    </c:txPr>",n.dataLabelPosition&&(d+=' <c:dLblPos val="'+n.dataLabelPosition+'"/>'),d+='    <c:showLegendKey val="0"/>',d+='    <c:showVal val="'+(n.showValue?"1":"0")+'"/>',d+='    <c:showCatName val="0"/>',d+='    <c:showSerName val="'+(n.showSerName?"1":"0")+'"/>',d+='    <c:showPercent val="0"/>',d+='    <c:showBubbleSize val="0"/>',d+="  </c:dLbls>",d+=`<c:axId val="${a}"/><c:axId val="${r}"/>`,d+="</c:"+t+"Chart>";break;case be.BUBBLE:case be.BUBBLE3D:d+="<c:bubbleChart>",d+='<c:varyColors val="0"/>',s=-1,e.filter((u,h)=>h>0).forEach((u,h)=>{s++,d+="<c:ser>",d+=`  <c:idx val="${h}"/>`,d+=`  <c:order val="${h}"/>`,d+="  <c:tx>",d+="    <c:strRef>",d+="      <c:f>Sheet1!$"+jt(l+1)+"$1</c:f>",d+='      <c:strCache><c:ptCount val="1"/><c:pt idx="0"><c:v>'+Xe(u.name)+"</c:v></c:pt></c:strCache>",d+="    </c:strRef>",d+="  </c:tx>";{d+="<c:spPr>";const m=n.chartColors[s%n.chartColors.length];m==="transparent"?d+="<a:noFill/>":n.chartColorsOpacity?d+=`<a:solidFill>${Ct(m,'<a:alpha val="'+Math.round(n.chartColorsOpacity*1e3).toString()+'"/>')}</a:solidFill>`:d+="<a:solidFill>"+Ct(m)+"</a:solidFill>",n.lineSize===0?d+="<a:ln><a:noFill/></a:ln>":n.dataBorder?d+=`<a:ln w="${He(n.dataBorder.pt)}" cap="flat"><a:solidFill>${Ct(n.dataBorder.color)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`:(d+=`<a:ln w="${He(n.lineSize)}" cap="flat"><a:solidFill>${Ct(m)}</a:solidFill>`,d+=`<a:prstDash val="${n.lineDash||"solid"}"/><a:round/></a:ln>`),d+=Is(n.shadow,Ss),d+="</c:spPr>"}d+="<c:xVal>",d+="  <c:numRef>",d+=`    <c:f>Sheet1!$A$2:$A$${e[0].values.length+1}</c:f>`,d+="    <c:numCache>",d+="      <c:formatCode>General</c:formatCode>",d+=`      <c:ptCount val="${e[0].values.length}"/>`,e[0].values.forEach((m,p)=>{d+=`<c:pt idx="${p}"><c:v>${m||m===0?m:""}</c:v></c:pt>`}),d+="    </c:numCache>",d+="  </c:numRef>",d+="</c:xVal>",d+="<c:yVal>",d+="  <c:numRef>",d+=`<c:f>Sheet1!$${jt(l+1)}$2:$${jt(l+1)}$${e[0].values.length+1}</c:f>`,l++,d+="    <c:numCache>",d+="      <c:formatCode>General</c:formatCode>",d+=`      <c:ptCount val="${e[0].values.length}"/>`,e[0].values.forEach((m,p)=>{d+=`<c:pt idx="${p}"><c:v>${u.values[p]||u.values[p]===0?u.values[p]:""}</c:v></c:pt>`}),d+="    </c:numCache>",d+="  </c:numRef>",d+="</c:yVal>",d+="  <c:bubbleSize>",d+="    <c:numRef>",d+=`<c:f>Sheet1!$${jt(l+1)}$2:$${jt(l+1)}$${u.sizes.length+1}</c:f>`,l++,d+="      <c:numCache>",d+="        <c:formatCode>General</c:formatCode>",d+=`           <c:ptCount val="${u.sizes.length}"/>`,u.sizes.forEach((m,p)=>{d+=`<c:pt idx="${p}"><c:v>${m||""}</c:v></c:pt>`}),d+="      </c:numCache>",d+="    </c:numRef>",d+="  </c:bubbleSize>",d+='  <c:bubble3D val="'+(t===be.BUBBLE3D?"1":"0")+'"/>',d+="</c:ser>"}),d+="<c:dLbls>",d+=`<c:numFmt formatCode="${Xe(n.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,d+="<c:txPr><a:bodyPr/><a:lstStyle/><a:p><a:pPr>",d+=`<a:defRPr b="${n.dataLabelFontBold?1:0}" i="${n.dataLabelFontItalic?1:0}" strike="noStrike" sz="${Math.round(Math.round(n.dataLabelFontSize||Qr)*100)}" u="none">`,d+=`<a:solidFill>${Ct(n.dataLabelColor||vr)}</a:solidFill>`,d+=`<a:latin typeface="${n.dataLabelFontFace||"Arial"}"/>`,d+="</a:defRPr></a:pPr></a:p></c:txPr>",n.dataLabelPosition&&(d+=`<c:dLblPos val="${n.dataLabelPosition}"/>`),d+='<c:showLegendKey val="0"/>',d+=`<c:showVal val="${n.showValue?"1":"0"}"/>`,d+=`<c:showCatName val="0"/><c:showSerName val="${n.showSerName?"1":"0"}"/><c:showPercent val="0"/><c:showBubbleSize val="0"/>`,d+="<c:extLst>",d+='  <c:ext uri="{CE6537A1-D6FC-4f65-9D91-7224C49458BB}" xmlns:c15="http://schemas.microsoft.com/office/drawing/2012/chart">',d+='    <c15:showLeaderLines val="'+(n.showLeaderLines?"1":"0")+'"/>',d+="  </c:ext>",d+="</c:extLst>",d+="</c:dLbls>",d+=`<c:axId val="${a}"/><c:axId val="${r}"/>`,d+="</c:bubbleChart>";break;case be.DOUGHNUT:case be.PIE:c=e[0],d+="<c:"+t+"Chart>",d+='  <c:varyColors val="1"/>',d+="<c:ser>",d+='  <c:idx val="0"/>',d+='  <c:order val="0"/>',d+="  <c:tx>",d+="    <c:strRef>",d+="      <c:f>Sheet1!$B$1</c:f>",d+="      <c:strCache>",d+='        <c:ptCount val="1"/>',d+='        <c:pt idx="0"><c:v>'+Xe(c.name)+"</c:v></c:pt>",d+="      </c:strCache>",d+="    </c:strRef>",d+="  </c:tx>",d+="  <c:spPr>",d+='    <a:solidFill><a:schemeClr val="accent1"/></a:solidFill>',d+='    <a:ln w="9525" cap="flat"><a:solidFill><a:srgbClr val="F9F9F9"/></a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>',n.dataNoEffects?d+="<a:effectLst/>":d+=Is(n.shadow,Ss),d+="  </c:spPr>",c.labels[0].forEach((u,h)=>{d+="<c:dPt>",d+=` <c:idx val="${h}"/>`,d+=' <c:bubble3D val="0"/>',d+=" <c:spPr>",d+=`<a:solidFill>${Ct(n.chartColors[h+1>n.chartColors.length?Math.floor(Math.random()*n.chartColors.length):h])}</a:solidFill>`,n.dataBorder&&(d+=`<a:ln w="${He(n.dataBorder.pt)}" cap="flat"><a:solidFill>${Ct(n.dataBorder.color)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`),d+=Is(n.shadow,Ss),d+="  </c:spPr>",d+="</c:dPt>"}),d+="<c:dLbls>",c.labels[0].forEach((u,h)=>{d+="<c:dLbl>",d+=` <c:idx val="${h}"/>`,d+=`  <c:numFmt formatCode="${Xe(n.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,d+="  <c:spPr/><c:txPr>",d+="   <a:bodyPr/><a:lstStyle/>",d+="   <a:p><a:pPr>",d+=`   <a:defRPr sz="${Math.round((n.dataLabelFontSize||Qr)*100)}" b="${n.dataLabelFontBold?1:0}" i="${n.dataLabelFontItalic?1:0}" u="none" strike="noStrike">`,d+="    <a:solidFill>"+Ct(n.dataLabelColor||vr)+"</a:solidFill>",d+=`    <a:latin typeface="${n.dataLabelFontFace||"Arial"}"/>`,d+="   </a:defRPr>",d+="      </a:pPr></a:p>",d+="    </c:txPr>",t===be.PIE&&n.dataLabelPosition&&(d+=`<c:dLblPos val="${n.dataLabelPosition}"/>`),d+='    <c:showLegendKey val="0"/>',d+='    <c:showVal val="'+(n.showValue?"1":"0")+'"/>',d+='    <c:showCatName val="'+(n.showLabel?"1":"0")+'"/>',d+='    <c:showSerName val="'+(n.showSerName?"1":"0")+'"/>',d+='    <c:showPercent val="'+(n.showPercent?"1":"0")+'"/>',d+='    <c:showBubbleSize val="0"/>',d+="  </c:dLbl>"}),d+=` <c:numFmt formatCode="${Xe(n.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,d+="    <c:txPr>",d+="      <a:bodyPr/>",d+="      <a:lstStyle/>",d+="      <a:p>",d+="        <a:pPr>",d+=`          <a:defRPr sz="1800" b="${n.dataLabelFontBold?"1":"0"}" i="${n.dataLabelFontItalic?"1":"0"}" u="none" strike="noStrike">`,d+='            <a:solidFill><a:srgbClr val="000000"/></a:solidFill><a:latin typeface="Arial"/>',d+="          </a:defRPr>",d+="        </a:pPr>",d+="      </a:p>",d+="    </c:txPr>",d+=t===be.PIE?'<c:dLblPos val="ctr"/>':"",d+='    <c:showLegendKey val="0"/>',d+='    <c:showVal val="0"/>',d+='    <c:showCatName val="1"/>',d+='    <c:showSerName val="0"/>',d+='    <c:showPercent val="1"/>',d+='    <c:showBubbleSize val="0"/>',d+=` <c:showLeaderLines val="${n.showLeaderLines?"1":"0"}"/>`,d+="</c:dLbls>",d+="<c:cat>",d+="  <c:strRef>",d+=`    <c:f>Sheet1!$A$2:$A$${c.labels[0].length+1}</c:f>`,d+="    <c:strCache>",d+=`         <c:ptCount val="${c.labels[0].length}"/>`,c.labels[0].forEach((u,h)=>{d+=`<c:pt idx="${h}"><c:v>${Xe(u)}</c:v></c:pt>`}),d+="    </c:strCache>",d+="  </c:strRef>",d+="</c:cat>",d+="  <c:val>",d+="    <c:numRef>",d+=`      <c:f>Sheet1!$B$2:$B$${c.labels[0].length+1}</c:f>`,d+="      <c:numCache>",d+=`           <c:ptCount val="${c.labels[0].length}"/>`,c.values.forEach((u,h)=>{d+=`<c:pt idx="${h}"><c:v>${u||u===0?u:""}</c:v></c:pt>`}),d+="      </c:numCache>",d+="    </c:numRef>",d+="  </c:val>",d+="  </c:ser>",d+=`  <c:firstSliceAng val="${n.firstSliceAng?Math.round(n.firstSliceAng):0}"/>`,t===be.DOUGHNUT&&(d+=`<c:holeSize val="${typeof n.holeSize=="number"?n.holeSize:"50"}"/>`),d+="</c:"+t+"Chart>";break;default:d+="";break}return d}function Rg(t,e,n){let r="";return t._type===be.SCATTER||t._type===be.BUBBLE||t._type===be.BUBBLE3D?r+="<c:valAx>":r+="<c:"+(t.catLabelFormatCode?"dateAx":"catAx")+">",r+='  <c:axId val="'+e+'"/>',r+="  <c:scaling>",r+='<c:orientation val="'+(t.catAxisOrientation||(t.barDir==="col","minMax"))+'"/>',(t.catAxisMaxVal||t.catAxisMaxVal===0)&&(r+=`<c:max val="${t.catAxisMaxVal}"/>`),(t.catAxisMinVal||t.catAxisMinVal===0)&&(r+=`<c:min val="${t.catAxisMinVal}"/>`),r+="</c:scaling>",r+='  <c:delete val="'+(t.catAxisHidden?"1":"0")+'"/>',r+='  <c:axPos val="'+(t.barDir==="col"?"b":"l")+'"/>',r+=t.catGridLine.style!=="none"?Vy(t.catGridLine):"",t.showCatAxisTitle&&(r+=_m({color:t.catAxisTitleColor,fontFace:t.catAxisTitleFontFace,fontSize:t.catAxisTitleFontSize,titleRotate:t.catAxisTitleRotate,title:t.catAxisTitle||"Axis Title"})),t._type===be.SCATTER||t._type===be.BUBBLE||t._type===be.BUBBLE3D?r+='  <c:numFmt formatCode="'+(t.valAxisLabelFormatCode?Xe(t.valAxisLabelFormatCode):"General")+'" sourceLinked="1"/>':r+='  <c:numFmt formatCode="'+(Xe(t.catLabelFormatCode)||"General")+'" sourceLinked="1"/>',t._type===be.SCATTER?(r+='  <c:majorTickMark val="none"/>',r+='  <c:minorTickMark val="none"/>',r+='  <c:tickLblPos val="nextTo"/>'):(r+='  <c:majorTickMark val="'+(t.catAxisMajorTickMark||"out")+'"/>',r+='  <c:minorTickMark val="'+(t.catAxisMinorTickMark||"none")+'"/>',r+='  <c:tickLblPos val="'+(t.catAxisLabelPos||(t.barDir==="col"?"low":"nextTo"))+'"/>'),r+="  <c:spPr>",r+=`    <a:ln w="${t.catAxisLineSize?He(t.catAxisLineSize):$u}" cap="flat">`,r+=t.catAxisLineShow?"<a:solidFill>"+Ct(t.catAxisLineColor||Qs.color)+"</a:solidFill>":"<a:noFill/>",r+='      <a:prstDash val="'+(t.catAxisLineStyle||"solid")+'"/>',r+="      <a:round/>",r+="    </a:ln>",r+="  </c:spPr>",r+="  <c:txPr>",t.catAxisLabelRotate?r+=`<a:bodyPr rot="${Xs(t.catAxisLabelRotate)}"/>`:r+="<a:bodyPr/>",r+="    <a:lstStyle/>",r+="    <a:p>",r+="    <a:pPr>",r+=`      <a:defRPr sz="${Math.round((t.catAxisLabelFontSize||Qr)*100)}" b="${t.catAxisLabelFontBold?1:0}" i="${t.catAxisLabelFontItalic?1:0}" u="none" strike="noStrike">`,r+="      <a:solidFill>"+Ct(t.catAxisLabelColor||vr)+"</a:solidFill>",r+='      <a:latin typeface="'+(t.catAxisLabelFontFace||"Arial")+'"/>',r+="   </a:defRPr>",r+="  </a:pPr>",r+='  <a:endParaRPr lang="'+(t.lang||"en-US")+'"/>',r+="  </a:p>",r+=" </c:txPr>",r+=' <c:crossAx val="'+n+'"/>',r+=` <c:${typeof t.valAxisCrossesAt=="number"?"crossesAt":"crosses"} val="${t.valAxisCrossesAt||"autoZero"}"/>`,r+=' <c:auto val="1"/>',r+=' <c:lblAlgn val="ctr"/>',r+=` <c:noMultiLvlLbl val="${t.catAxisMultiLevelLabels?0:1}"/>`,t.catAxisLabelFrequency&&(r+=' <c:tickLblSkip val="'+t.catAxisLabelFrequency+'"/>'),(t.catLabelFormatCode||t._type===be.SCATTER||t._type===be.BUBBLE||t._type===be.BUBBLE3D)&&(t.catLabelFormatCode&&(["catAxisBaseTimeUnit","catAxisMajorTimeUnit","catAxisMinorTimeUnit"].forEach(a=>{t[a]&&(typeof t[a]!="string"||!["days","months","years"].includes(t[a].toLowerCase()))&&(console.warn(`"${a}" must be one of: 'days','months','years' !`),t[a]=null)}),t.catAxisBaseTimeUnit&&(r+='<c:baseTimeUnit val="'+t.catAxisBaseTimeUnit.toLowerCase()+'"/>'),t.catAxisMajorTimeUnit&&(r+='<c:majorTimeUnit val="'+t.catAxisMajorTimeUnit.toLowerCase()+'"/>'),t.catAxisMinorTimeUnit&&(r+='<c:minorTimeUnit val="'+t.catAxisMinorTimeUnit.toLowerCase()+'"/>')),t.catAxisMajorUnit&&(r+=`<c:majorUnit val="${t.catAxisMajorUnit}"/>`),t.catAxisMinorUnit&&(r+=`<c:minorUnit val="${t.catAxisMinorUnit}"/>`)),t._type===be.SCATTER||t._type===be.BUBBLE||t._type===be.BUBBLE3D?r+="</c:valAx>":r+="</c:"+(t.catLabelFormatCode?"dateAx":"catAx")+">",r}function Pg(t,e){let n=e===Ua?t.barDir==="col"?"l":"b":t.barDir!=="col"?"r":"t";e===hf&&(n="r");const r=e===Ua?td:b0;let a="";return a+="<c:valAx>",a+='  <c:axId val="'+e+'"/>',a+="  <c:scaling>",t.valAxisLogScaleBase&&(a+=`<c:logBase val="${t.valAxisLogScaleBase}"/>`),a+='<c:orientation val="'+(t.valAxisOrientation||(t.barDir==="col","minMax"))+'"/>',(t.valAxisMaxVal||t.valAxisMaxVal===0)&&(a+=`<c:max val="${t.valAxisMaxVal}"/>`),(t.valAxisMinVal||t.valAxisMinVal===0)&&(a+=`<c:min val="${t.valAxisMinVal}"/>`),a+="  </c:scaling>",a+=`  <c:delete val="${t.valAxisHidden?1:0}"/>`,a+='  <c:axPos val="'+n+'"/>',t.valGridLine.style!=="none"&&(a+=Vy(t.valGridLine)),t.showValAxisTitle&&(a+=_m({color:t.valAxisTitleColor,fontFace:t.valAxisTitleFontFace,fontSize:t.valAxisTitleFontSize,titleRotate:t.valAxisTitleRotate,title:t.valAxisTitle||"Axis Title"})),a+=`<c:numFmt formatCode="${t.valAxisLabelFormatCode?Xe(t.valAxisLabelFormatCode):"General"}" sourceLinked="0"/>`,t._type===be.SCATTER?(a+='  <c:majorTickMark val="none"/>',a+='  <c:minorTickMark val="none"/>',a+='  <c:tickLblPos val="nextTo"/>'):(a+=' <c:majorTickMark val="'+(t.valAxisMajorTickMark||"out")+'"/>',a+=' <c:minorTickMark val="'+(t.valAxisMinorTickMark||"none")+'"/>',a+=' <c:tickLblPos val="'+(t.valAxisLabelPos||(t.barDir==="col"?"nextTo":"low"))+'"/>'),a+=" <c:spPr>",a+=`   <a:ln w="${t.valAxisLineSize?He(t.valAxisLineSize):$u}" cap="flat">`,a+=t.valAxisLineShow?"<a:solidFill>"+Ct(t.valAxisLineColor||Qs.color)+"</a:solidFill>":"<a:noFill/>",a+='     <a:prstDash val="'+(t.valAxisLineStyle||"solid")+'"/>',a+="     <a:round/>",a+="   </a:ln>",a+=" </c:spPr>",a+=" <c:txPr>",a+=`  <a:bodyPr${t.valAxisLabelRotate?' rot="'+Xs(t.valAxisLabelRotate).toString()+'"':""}/>`,a+="  <a:lstStyle/>",a+="  <a:p>",a+="    <a:pPr>",a+=`      <a:defRPr sz="${Math.round((t.valAxisLabelFontSize||Qr)*100)}" b="${t.valAxisLabelFontBold?1:0}" i="${t.valAxisLabelFontItalic?1:0}" u="none" strike="noStrike">`,a+="        <a:solidFill>"+Ct(t.valAxisLabelColor||vr)+"</a:solidFill>",a+='        <a:latin typeface="'+(t.valAxisLabelFontFace||"Arial")+'"/>',a+="      </a:defRPr>",a+="    </a:pPr>",a+='  <a:endParaRPr lang="'+(t.lang||"en-US")+'"/>',a+="  </a:p>",a+=" </c:txPr>",a+=' <c:crossAx val="'+r+'"/>',typeof t.catAxisCrossesAt=="number"?a+=` <c:crossesAt val="${t.catAxisCrossesAt}"/>`:typeof t.catAxisCrossesAt=="string"?a+=' <c:crosses val="'+t.catAxisCrossesAt+'"/>':a+=' <c:crosses val="'+(n==="r"||n==="t"?"max":"autoZero")+'"/>',a+=' <c:crossBetween val="'+(t._type===be.SCATTER||Array.isArray(t._type)&&t._type.filter(i=>i.type===be.AREA).length>0?"midCat":"between")+'"/>',t.valAxisMajorUnit&&(a+=` <c:majorUnit val="${t.valAxisMajorUnit}"/>`),t.valAxisDisplayUnit&&(a+=`<c:dispUnits><c:builtInUnit val="${t.valAxisDisplayUnit}"/>${t.valAxisDisplayUnitLabel?"<c:dispUnitsLbl/>":""}</c:dispUnits>`),a+="</c:valAx>",a}function $8(t,e,n){let r="";return r+="<c:serAx>",r+='  <c:axId val="'+e+'"/>',r+='  <c:scaling><c:orientation val="'+(t.serAxisOrientation||(t.barDir==="col","minMax"))+'"/></c:scaling>',r+='  <c:delete val="'+(t.serAxisHidden?"1":"0")+'"/>',r+='  <c:axPos val="'+(t.barDir==="col"?"b":"l")+'"/>',r+=t.serGridLine.style!=="none"?Vy(t.serGridLine):"",t.showSerAxisTitle&&(r+=_m({color:t.serAxisTitleColor,fontFace:t.serAxisTitleFontFace,fontSize:t.serAxisTitleFontSize,titleRotate:t.serAxisTitleRotate,title:t.serAxisTitle||"Axis Title"})),r+=`  <c:numFmt formatCode="${Xe(t.serLabelFormatCode)||"General"}" sourceLinked="0"/>`,r+='  <c:majorTickMark val="out"/>',r+='  <c:minorTickMark val="none"/>',r+=`  <c:tickLblPos val="${t.serAxisLabelPos||t.barDir==="col"?"low":"nextTo"}"/>`,r+="  <c:spPr>",r+='    <a:ln w="12700" cap="flat">',r+=t.serAxisLineShow?`<a:solidFill>${Ct(t.serAxisLineColor||Qs.color)}</a:solidFill>`:"<a:noFill/>",r+='      <a:prstDash val="solid"/>',r+="      <a:round/>",r+="    </a:ln>",r+="  </c:spPr>",r+="  <c:txPr>",r+="    <a:bodyPr/>",r+="    <a:lstStyle/>",r+="    <a:p>",r+="    <a:pPr>",r+=`    <a:defRPr sz="${Math.round((t.serAxisLabelFontSize||Qr)*100)}" b="${t.serAxisLabelFontBold?"1":"0"}" i="${t.serAxisLabelFontItalic?"1":"0"}" u="none" strike="noStrike">`,r+=`      <a:solidFill>${Ct(t.serAxisLabelColor||vr)}</a:solidFill>`,r+=`      <a:latin typeface="${t.serAxisLabelFontFace||"Arial"}"/>`,r+="   </a:defRPr>",r+="  </a:pPr>",r+='  <a:endParaRPr lang="'+(t.lang||"en-US")+'"/>',r+="  </a:p>",r+=" </c:txPr>",r+=' <c:crossAx val="'+n+'"/>',r+=' <c:crosses val="autoZero"/>',t.serAxisLabelFrequency&&(r+=' <c:tickLblSkip val="'+t.serAxisLabelFrequency+'"/>'),t.serLabelFormatCode&&(["serAxisBaseTimeUnit","serAxisMajorTimeUnit","serAxisMinorTimeUnit"].forEach(a=>{t[a]&&(typeof t[a]!="string"||!["days","months","years"].includes(a.toLowerCase()))&&(console.warn(`"${a}" must be one of: 'days','months','years' !`),t[a]=null)}),t.serAxisBaseTimeUnit&&(r+=` <c:baseTimeUnit  val="${t.serAxisBaseTimeUnit.toLowerCase()}"/>`),t.serAxisMajorTimeUnit&&(r+=` <c:majorTimeUnit val="${t.serAxisMajorTimeUnit.toLowerCase()}"/>`),t.serAxisMinorTimeUnit&&(r+=` <c:minorTimeUnit val="${t.serAxisMinorTimeUnit.toLowerCase()}"/>`),t.serAxisMajorUnit&&(r+=` <c:majorUnit val="${t.serAxisMajorUnit}"/>`),t.serAxisMinorUnit&&(r+=` <c:minorUnit val="${t.serAxisMinorUnit}"/>`)),r+="</c:serAx>",r}function _m(t,e,n){const r=t.titleAlign==="left"||t.titleAlign==="right"?`<a:pPr algn="${t.titleAlign.substring(0,1)}">`:"<a:pPr>",a=t.titleRotate?`<a:bodyPr rot="${Xs(t.titleRotate)}"/>`:"<a:bodyPr/>",i=t.fontSize?`sz="${Math.round(t.fontSize*100)}"`:"",s=t.titleBold?1:0;let l="<c:layout/>";if(t.titlePos&&typeof t.titlePos.x=="number"&&typeof t.titlePos.y=="number"){const c=t.titlePos.x+e,d=t.titlePos.y+n;let u=c===0?0:c*(c/5)/10;u>=1&&(u=u/10),u>=.1&&(u=u/10);let h=d===0?0:d*(d/5)/10;h>=1&&(h=h/10),h>=.1&&(h=h/10),l=`<c:layout><c:manualLayout><c:xMode val="edge"/><c:yMode val="edge"/><c:x val="${u}"/><c:y val="${h}"/></c:manualLayout></c:layout>`}return`<c:title>
      <c:tx>
        <c:rich>
          ${a}
          <a:lstStyle/>
          <a:p>
            ${r}
            <a:defRPr ${i} b="${s}" i="0" u="none" strike="noStrike">
              <a:solidFill>${Ct(t.color||vr)}</a:solidFill>
              <a:latin typeface="${t.fontFace||"Arial"}"/>
            </a:defRPr>
          </a:pPr>
          <a:r>
            <a:rPr ${i} b="${s}" i="0" u="none" strike="noStrike">
              <a:solidFill>${Ct(t.color||vr)}</a:solidFill>
              <a:latin typeface="${t.fontFace||"Arial"}"/>
            </a:rPr>
            <a:t>${Xe(t.title)||""}</a:t>
          </a:r>
        </a:p>
        </c:rich>
      </c:tx>
      ${l}
      <c:overlay val="0"/>
    </c:title>`}function jt(t){let e="";const n=t-1;return n<=25?e=Bc[n]:e=`${Bc[Math.floor(n/Bc.length-1)]}${Bc[n%Bc.length]}`,e}function Is(t,e){if(t){if(typeof t!="object")return console.warn("`shadow` options must be an object. Ex: `{shadow: {type:'none'}}`"),"<a:effectLst/>"}else return"<a:effectLst/>";let n="<a:effectLst>";const r=Object.assign(Object.assign({},e),t),a=r.type||"outer",i=He(r.blur),s=He(r.offset),l=Math.round(r.angle*6e4),c=r.color,d=Math.round(r.opacity*1e5),u=r.rotateWithShape?1:0;return n+=`<a:${a}Shdw sx="100000" sy="100000" kx="0" ky="0"  algn="bl" blurRad="${i}" rotWithShape="${u}" dist="${s}" dir="${l}">`,n+=`<a:srgbClr val="${c}">`,n+=`<a:alpha val="${d}"/></a:srgbClr>`,n+=`</a:${a}Shdw>`,n+="</a:effectLst>",n}function Vy(t){let e="<c:majorGridlines>";return e+=" <c:spPr>",e+=`  <a:ln w="${He(t.size||Qs.size)}" cap="${pf(t.cap||Qs.cap)}">`,e+='  <a:solidFill><a:srgbClr val="'+(t.color||Qs.color)+'"/></a:solidFill>',e+='   <a:prstDash val="'+(t.style||Qs.style)+'"/><a:round/>',e+="  </a:ln>",e+=" </c:spPr>",e+="</c:majorGridlines>",e}function pf(t){if(!t||t==="flat")return"flat";if(t==="square")return"sq";if(t==="round")return"rnd";{const e=t;throw new Error(`Invalid chart line cap: ${e}`)}}function jg(t){var e,n;const r=typeof process<"u"&&!!(!((e=process.versions)===null||e===void 0)&&e.node)&&((n=process.release)===null||n===void 0?void 0:n.name)==="node";let a,i;const s=r?()=>Rr(this,void 0,void 0,function*(){({default:a}=yield bp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[])),{default:i}=yield bp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[])}):()=>Rr(this,void 0,void 0,function*(){});r&&s();const l=[],c=t._relsMedia.filter(u=>u.type!=="online"&&!u.data&&(!u.path||u.path&&!u.path.includes("preencoded"))),d=[];return c.forEach(u=>{d.includes(u.path)?u.isDuplicate=!0:(u.isDuplicate=!1,d.push(u.path))}),c.filter(u=>!u.isDuplicate).forEach(u=>{l.push(Rr(this,void 0,void 0,function*(){if(i||(yield s()),r&&a&&u.path.indexOf("http")!==0)try{const h=a.readFileSync(u.path);return u.data=Buffer.from(h).toString("base64"),c.filter(m=>m.isDuplicate&&m.path===u.path).forEach(m=>m.data=u.data),"done"}catch(h){throw u.data=Al,c.filter(m=>m.isDuplicate&&m.path===u.path).forEach(m=>m.data=u.data),new Error(`ERROR: Unable to read media: "${u.path}"
${String(h)}`)}return r&&i&&u.path.startsWith("http")?yield new Promise((h,m)=>{i.get(u.path,p=>{let A="";p.setEncoding("binary"),p.on("data",g=>A+=g),p.on("end",()=>{u.data=Buffer.from(A,"binary").toString("base64"),c.filter(g=>g.isDuplicate&&g.path===u.path).forEach(g=>g.data=u.data),h("done")}),p.on("error",()=>{u.data=Al,c.filter(g=>g.isDuplicate&&g.path===u.path).forEach(g=>g.data=u.data),m(new Error(`ERROR! Unable to load image (https.get): ${u.path}`))})})}):yield new Promise((h,m)=>{const p=new XMLHttpRequest;p.onload=()=>{const A=new FileReader;A.onloadend=()=>{u.data=A.result,c.filter(g=>g.isDuplicate&&g.path===u.path).forEach(g=>g.data=u.data),u.isSvgPng?F_(u).then(()=>h("done")).catch(m):h("done")},A.readAsDataURL(p.response)},p.onerror=()=>{u.data=Al,c.filter(A=>A.isDuplicate&&A.path===u.path).forEach(A=>A.data=u.data),m(new Error(`ERROR! Unable to load image (xhr.onerror): ${u.path}`))},p.open("GET",u.path),p.responseType="blob",p.send()})}))}),t._relsMedia.filter(u=>u.isSvgPng&&u.data).forEach(u=>{Rr(this,void 0,void 0,function*(){r&&!a&&(yield s()),r&&a?(u.data=Al,l.push(Promise.resolve("done"))):l.push(F_(u))})}),l}function F_(t){return Rr(this,void 0,void 0,function*(){return yield new Promise((e,n)=>{const r=new Image;r.onload=()=>{r.width+r.height===0&&r.onerror("h/w=0");let a=document.createElement("CANVAS");const i=a.getContext("2d");a.width=r.width,a.height=r.height,i.drawImage(r,0,0);try{t.data=a.toDataURL(t.type),e("done")}catch(s){r.onerror(s.toString())}a=null},r.onerror=()=>{t.data=Al,n(new Error(`ERROR! Unable to load image (image.onerror): ${t.path}`))},r.src=typeof t.data=="string"?t.data:Al})})}const q8={cover:function(t,e){const n=t.h/t.w,a=e.h/e.w>n,i=a?e.h/n:e.w,s=a?e.h:e.w*n,l=Math.round(1e5*.5*(1-e.w/i)),c=Math.round(1e5*.5*(1-e.h/s));return`<a:srcRect l="${l}" r="${l}" t="${c}" b="${c}"/><a:stretch/>`},contain:function(t,e){const n=t.h/t.w,a=e.h/e.w>n,i=a?e.w:e.h/n,s=a?e.w*n:e.h,l=Math.round(1e5*.5*(1-e.w/i)),c=Math.round(1e5*.5*(1-e.h/s));return`<a:srcRect l="${l}" r="${l}" t="${c}" b="${c}"/><a:stretch/>`},crop:function(t,e){const n=e.x,r=t.w-(e.x+e.w),a=e.y,i=t.h-(e.y+e.h),s=Math.round(1e5*(n/t.w)),l=Math.round(1e5*(r/t.w)),c=Math.round(1e5*(a/t.h)),d=Math.round(1e5*(i/t.h));return`<a:srcRect l="${s}" r="${l}" t="${c}" b="${d}"/><a:stretch/>`}};function Uy(t){var e;let n=t._name?'<p:cSld name="'+t._name+'">':"<p:cSld>",r=1;return t._bkgdImgRid?n+=`<p:bg><p:bgPr><a:blipFill dpi="0" rotWithShape="1"><a:blip r:embed="rId${t._bkgdImgRid}"><a:lum/></a:blip><a:srcRect/><a:stretch><a:fillRect/></a:stretch></a:blipFill><a:effectLst/></p:bgPr></p:bg>`:!((e=t.background)===null||e===void 0)&&e.color?n+=`<p:bg><p:bgPr>${Pr(t.background)}</p:bgPr></p:bg>`:!t.bkgd&&t._name&&t._name===v0&&(n+='<p:bg><p:bgRef idx="1001"><a:schemeClr val="bg1"/></p:bgRef></p:bg>'),n+="<p:spTree>",n+='<p:nvGrpSpPr><p:cNvPr id="1" name=""/><p:cNvGrpSpPr/><p:nvPr/></p:nvGrpSpPr>',n+='<p:grpSpPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="0" cy="0"/>',n+='<a:chOff x="0" y="0"/><a:chExt cx="0" cy="0"/></a:xfrm></p:grpSpPr>',t._slideObjects.forEach((a,i)=>{var s,l,c,d,u,h,m,p;let A=0,g=0,b=at("75%","X",t._presLayout),x=0,y,w="",S=null,k=null,P=0,E=0,N=null,C=null;const R=(s=a.options)===null||s===void 0?void 0:s.sizing,j=(l=a.options)===null||l===void 0?void 0:l.rounding;t._slideLayout!==void 0&&t._slideLayout._slideObjects!==void 0&&a.options&&a.options.placeholder&&(y=t._slideLayout._slideObjects.filter(v=>v.options.placeholder===a.options.placeholder)[0]),a.options=a.options||{},typeof a.options.x<"u"&&(A=at(a.options.x,"X",t._presLayout)),typeof a.options.y<"u"&&(g=at(a.options.y,"Y",t._presLayout)),typeof a.options.w<"u"&&(b=at(a.options.w,"X",t._presLayout)),typeof a.options.h<"u"&&(x=at(a.options.h,"Y",t._presLayout));let _=b,D=x;switch(y&&((y.options.x||y.options.x===0)&&(A=at(y.options.x,"X",t._presLayout)),(y.options.y||y.options.y===0)&&(g=at(y.options.y,"Y",t._presLayout)),(y.options.w||y.options.w===0)&&(b=at(y.options.w,"X",t._presLayout)),(y.options.h||y.options.h===0)&&(x=at(y.options.h,"Y",t._presLayout))),a.options.flipH&&(w+=' flipH="1"'),a.options.flipV&&(w+=' flipV="1"'),a.options.rotate&&(w+=` rot="${Xs(a.options.rotate)}"`),a._type){case Ke.table:if(S=a.arrTabRows,k=a.options,P=0,E=0,S[0].forEach(v=>{N=v.options||null,P+=N!=null&&N.colspan?Number(N.colspan):1}),C=`<p:graphicFrame><p:nvGraphicFramePr><p:cNvPr id="${r*t._slideNum+1}" name="${a.options.objectName}"/>`,C+='<p:cNvGraphicFramePr><a:graphicFrameLocks noGrp="1"/></p:cNvGraphicFramePr>  <p:nvPr><p:extLst><p:ext uri="{D42A27DB-BD31-4B8C-83A1-F6EECF244321}"><p14:modId xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" val="1579011935"/></p:ext></p:extLst></p:nvPr></p:nvGraphicFramePr>',C+=`<p:xfrm><a:off x="${A||(A===0?0:Je)}" y="${g||(g===0?0:Je)}"/><a:ext cx="${b||(b===0?0:Je)}" cy="${x||Je}"/></p:xfrm>`,C+='<a:graphic><a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/table"><a:tbl><a:tblPr/>',Array.isArray(k.colW)){C+="<a:tblGrid>";for(let v=0;v<P;v++){let O=xt(k.colW[v]);(O==null||isNaN(O))&&(O=(typeof a.options.w=="number"?a.options.w:1)/P),C+=`<a:gridCol w="${Math.round(O)}"/>`}C+="</a:tblGrid>"}else{E=k.colW?k.colW:Je,a.options.w&&!k.colW&&(E=Math.round((typeof a.options.w=="number"?a.options.w:1)/P)),C+="<a:tblGrid>";for(let v=0;v<P;v++)C+=`<a:gridCol w="${E}"/>`;C+="</a:tblGrid>"}S.forEach(v=>{var O,V;for(let G=0;G<v.length;){const Q=v[G],H=(O=Q.options)===null||O===void 0?void 0:O.colspan,ne=(V=Q.options)===null||V===void 0?void 0:V.rowspan;if(H&&H>1){const X=new Array(H-1).fill(void 0).map(()=>({_type:Ke.tablecell,options:{rowspan:ne},_hmerge:!0}));v.splice(G+1,0,...X),G+=H}else G+=1}}),S.forEach((v,O)=>{const V=S[O+1];V&&v.forEach((G,Q)=>{var H,ne;const X=G._rowContinue||((H=G.options)===null||H===void 0?void 0:H.rowspan),K=(ne=G.options)===null||ne===void 0?void 0:ne.colspan,ce=G._hmerge;if(X&&X>1){const ie={_type:Ke.tablecell,options:{colspan:K},_rowContinue:X-1,_vmerge:!0,_hmerge:ce};V.splice(Q,0,ie)}})}),S.forEach((v,O)=>{let V=0;Array.isArray(k.rowH)&&k.rowH[O]?V=xt(Number(k.rowH[O])):k.rowH&&!isNaN(Number(k.rowH))?V=xt(Number(k.rowH)):(a.options.cy||a.options.h)&&(V=Math.round((a.options.h?xt(a.options.h):typeof a.options.cy=="number"?a.options.cy:1)/S.length)),C+=`<a:tr h="${V}">`,v.forEach(G=>{var Q,H,ne,X,K;const ce=G,ie={rowSpan:((Q=ce.options)===null||Q===void 0?void 0:Q.rowspan)>1?ce.options.rowspan:void 0,gridSpan:((H=ce.options)===null||H===void 0?void 0:H.colspan)>1?ce.options.colspan:void 0,vMerge:ce._vmerge?1:void 0,hMerge:ce._hmerge?1:void 0};let oe=Object.keys(ie).map(xe=>[xe,ie[xe]]).filter(([,xe])=>!!xe).map(([xe,I])=>`${String(xe)}="${String(I)}"`).join(" ");if(oe&&(oe=" "+oe),ce._hmerge||ce._vmerge){C+=`<a:tc${oe}><a:tcPr/></a:tc>`;return}const pe=ce.options||{};ce.options=pe,["align","bold","border","color","fill","fontFace","fontSize","margin","textDirection","underline","valign"].forEach(xe=>{k[xe]&&!pe[xe]&&pe[xe]!==0&&(pe[xe]=k[xe])});const Pe=pe.valign?` anchor="${pe.valign.replace(/^c$/i,"ctr").replace(/^m$/i,"ctr").replace("center","ctr").replace("middle","ctr").replace("top","t").replace("btm","b").replace("bottom","b")}"`:"",ye=pe.textDirection&&pe.textDirection!=="horz"?` vert="${pe.textDirection}"`:"";let ge=!((X=(ne=ce._optImp)===null||ne===void 0?void 0:ne.fill)===null||X===void 0)&&X.color?ce._optImp.fill.color:!((K=ce._optImp)===null||K===void 0)&&K.fill&&typeof ce._optImp.fill=="string"?ce._optImp.fill:"";ge=ge||pe.fill?pe.fill:"";const Se=ge?Pr(ge):"";let ve=pe.margin===0||pe.margin?pe.margin:xI;!Array.isArray(ve)&&typeof ve=="number"&&(ve=[ve,ve,ve,ve]);let Ae="";ve[0]>=1?Ae=` marL="${He(ve[3])}" marR="${He(ve[1])}" marT="${He(ve[0])}" marB="${He(ve[2])}"`:Ae=` marL="${xt(ve[3])}" marR="${xt(ve[1])}" marT="${xt(ve[0])}" marB="${xt(ve[2])}"`,C+=`<a:tc${oe}>${B_(ce)}<a:tcPr${Ae}${Pe}${ye}>`,pe.border&&Array.isArray(pe.border)&&[{idx:3,name:"lnL"},{idx:1,name:"lnR"},{idx:0,name:"lnT"},{idx:2,name:"lnB"}].forEach(xe=>{pe.border[xe.idx].type!=="none"?(C+=`<a:${xe.name} w="${He(pe.border[xe.idx].pt)}" cap="flat" cmpd="sng" algn="ctr">`,C+=`<a:solidFill>${Ct(pe.border[xe.idx].color)}</a:solidFill>`,C+=`<a:prstDash val="${pe.border[xe.idx].type==="dash"?"sysDash":"solid"}"/><a:round/><a:headEnd type="none" w="med" len="med"/><a:tailEnd type="none" w="med" len="med"/>`,C+=`</a:${xe.name}>`):C+=`<a:${xe.name} w="0" cap="flat" cmpd="sng" algn="ctr"><a:noFill/></a:${xe.name}>`}),C+=Se,C+="  </a:tcPr>",C+=" </a:tc>"}),C+="</a:tr>"}),C+="      </a:tbl>",C+="    </a:graphicData>",C+="  </a:graphic>",C+="</p:graphicFrame>",n+=C,r++;break;case Ke.text:case Ke.placeholder:if(!a.options.line&&x===0&&(x=Je*.3),a.options._bodyProp||(a.options._bodyProp={}),a.options.margin&&Array.isArray(a.options.margin)?(a.options._bodyProp.lIns=He(a.options.margin[0]||0),a.options._bodyProp.rIns=He(a.options.margin[1]||0),a.options._bodyProp.bIns=He(a.options.margin[2]||0),a.options._bodyProp.tIns=He(a.options.margin[3]||0)):typeof a.options.margin=="number"&&(a.options._bodyProp.lIns=He(a.options.margin),a.options._bodyProp.rIns=He(a.options.margin),a.options._bodyProp.bIns=He(a.options.margin),a.options._bodyProp.tIns=He(a.options.margin)),n+="<p:sp>",n+=`<p:nvSpPr><p:cNvPr id="${i+2}" name="${a.options.objectName}">`,!((c=a.options.hyperlink)===null||c===void 0)&&c.url&&(n+=`<a:hlinkClick r:id="rId${a.options.hyperlink._rId}" tooltip="${a.options.hyperlink.tooltip?Xe(a.options.hyperlink.tooltip):""}"/>`),!((d=a.options.hyperlink)===null||d===void 0)&&d.slide&&(n+=`<a:hlinkClick r:id="rId${a.options.hyperlink._rId}" tooltip="${a.options.hyperlink.tooltip?Xe(a.options.hyperlink.tooltip):""}" action="ppaction://hlinksldjump"/>`),n+="</p:cNvPr>",n+="<p:cNvSpPr"+(!((u=a.options)===null||u===void 0)&&u.isTextBox?' txBox="1"/>':"/>"),n+=`<p:nvPr>${a._type==="placeholder"?Mh(a):Mh(y)}</p:nvPr>`,n+="</p:nvSpPr><p:spPr>",n+=`<a:xfrm${w}>`,n+=`<a:off x="${A}" y="${g}"/>`,n+=`<a:ext cx="${b}" cy="${x}"/></a:xfrm>`,a.shape==="custGeom")n+="<a:custGeom><a:avLst />",n+="<a:gdLst>",n+="</a:gdLst>",n+="<a:ahLst />",n+="<a:cxnLst>",n+="</a:cxnLst>",n+='<a:rect l="l" t="t" r="r" b="b" />',n+="<a:pathLst>",n+=`<a:path w="${b}" h="${x}">`,(h=a.options.points)===null||h===void 0||h.forEach((v,O)=>{if("curve"in v)switch(v.curve.type){case"arc":n+=`<a:arcTo hR="${at(v.curve.hR,"Y",t._presLayout)}" wR="${at(v.curve.wR,"X",t._presLayout)}" stAng="${Xs(v.curve.stAng)}" swAng="${Xs(v.curve.swAng)}" />`;break;case"cubic":n+=`<a:cubicBezTo>
									<a:pt x="${at(v.curve.x1,"X",t._presLayout)}" y="${at(v.curve.y1,"Y",t._presLayout)}" />
									<a:pt x="${at(v.curve.x2,"X",t._presLayout)}" y="${at(v.curve.y2,"Y",t._presLayout)}" />
									<a:pt x="${at(v.x,"X",t._presLayout)}" y="${at(v.y,"Y",t._presLayout)}" />
									</a:cubicBezTo>`;break;case"quadratic":n+=`<a:quadBezTo>
									<a:pt x="${at(v.curve.x1,"X",t._presLayout)}" y="${at(v.curve.y1,"Y",t._presLayout)}" />
									<a:pt x="${at(v.x,"X",t._presLayout)}" y="${at(v.y,"Y",t._presLayout)}" />
									</a:quadBezTo>`;break}else"close"in v?n+="<a:close />":v.moveTo||O===0?n+=`<a:moveTo><a:pt x="${at(v.x,"X",t._presLayout)}" y="${at(v.y,"Y",t._presLayout)}" /></a:moveTo>`:n+=`<a:lnTo><a:pt x="${at(v.x,"X",t._presLayout)}" y="${at(v.y,"Y",t._presLayout)}" /></a:lnTo>`}),n+="</a:path>",n+="</a:pathLst>",n+="</a:custGeom>";else{if(n+='<a:prstGeom prst="'+a.shape+'"><a:avLst>',a.options.rectRadius)n+=`<a:gd name="adj" fmla="val ${Math.round(a.options.rectRadius*Je*1e5/Math.min(b,x))}"/>`;else if(a.options.angleRange){for(let v=0;v<2;v++){const O=a.options.angleRange[v];n+=`<a:gd name="adj${v+1}" fmla="val ${Xs(O)}" />`}a.options.arcThicknessRatio&&(n+=`<a:gd name="adj3" fmla="val ${Math.round(a.options.arcThicknessRatio*5e4)}" />`)}n+="</a:avLst></a:prstGeom>"}n+=a.options.fill?Pr(a.options.fill):"<a:noFill/>",a.options.line&&(n+=a.options.line.width?`<a:ln w="${He(a.options.line.width)}">`:"<a:ln>",a.options.line.color&&(n+=Pr(a.options.line)),a.options.line.dashType&&(n+=`<a:prstDash val="${a.options.line.dashType}"/>`),a.options.line.beginArrowType&&(n+=`<a:headEnd type="${a.options.line.beginArrowType}"/>`),a.options.line.endArrowType&&(n+=`<a:tailEnd type="${a.options.line.endArrowType}"/>`),n+="</a:ln>"),a.options.shadow&&a.options.shadow.type!=="none"&&(a.options.shadow.type=a.options.shadow.type||"outer",a.options.shadow.blur=He(a.options.shadow.blur||8),a.options.shadow.offset=He(a.options.shadow.offset||4),a.options.shadow.angle=Math.round((a.options.shadow.angle||270)*6e4),a.options.shadow.opacity=Math.round((a.options.shadow.opacity||.75)*1e5),a.options.shadow.color=a.options.shadow.color||M_.color,n+="<a:effectLst>",n+=` <a:${a.options.shadow.type}Shdw ${a.options.shadow.type==="outer"?'sx="100000" sy="100000" kx="0" ky="0" algn="bl" rotWithShape="0"':""} blurRad="${a.options.shadow.blur}" dist="${a.options.shadow.offset}" dir="${a.options.shadow.angle}">`,n+=` <a:srgbClr val="${a.options.shadow.color}">`,n+=` <a:alpha val="${a.options.shadow.opacity}"/></a:srgbClr>`,n+=" </a:outerShdw>",n+="</a:effectLst>"),n+="</p:spPr>",n+=B_(a),n+="</p:sp>";break;case Ke.image:if(n+="<p:pic>",n+="  <p:nvPicPr>",n+=`<p:cNvPr id="${i+2}" name="${a.options.objectName}" descr="${Xe(a.options.altText||a.image)}">`,!((m=a.hyperlink)===null||m===void 0)&&m.url&&(n+=`<a:hlinkClick r:id="rId${a.hyperlink._rId}" tooltip="${a.hyperlink.tooltip?Xe(a.hyperlink.tooltip):""}"/>`),!((p=a.hyperlink)===null||p===void 0)&&p.slide&&(n+=`<a:hlinkClick r:id="rId${a.hyperlink._rId}" tooltip="${a.hyperlink.tooltip?Xe(a.hyperlink.tooltip):""}" action="ppaction://hlinksldjump"/>`),n+="    </p:cNvPr>",n+='    <p:cNvPicPr><a:picLocks noChangeAspect="1"/></p:cNvPicPr>',n+="    <p:nvPr>"+Mh(y)+"</p:nvPr>",n+="  </p:nvPicPr>",n+="<p:blipFill>",(t._relsMedia||[]).filter(v=>v.rId===a.imageRid)[0]&&(t._relsMedia||[]).filter(v=>v.rId===a.imageRid)[0].extn==="svg"?(n+=`<a:blip r:embed="rId${a.imageRid-1}">`,n+=a.options.transparency?` <a:alphaModFix amt="${Math.round((100-a.options.transparency)*1e3)}"/>`:"",n+=" <a:extLst>",n+='  <a:ext uri="{96DAC541-7B7A-43D3-8B79-37D633B846F1}">',n+=`   <asvg:svgBlip xmlns:asvg="http://schemas.microsoft.com/office/drawing/2016/SVG/main" r:embed="rId${a.imageRid}"/>`,n+="  </a:ext>",n+=" </a:extLst>",n+="</a:blip>"):(n+=`<a:blip r:embed="rId${a.imageRid}">`,n+=a.options.transparency?`<a:alphaModFix amt="${Math.round((100-a.options.transparency)*1e3)}"/>`:"",n+="</a:blip>"),R!=null&&R.type){const v=R.w?at(R.w,"X",t._presLayout):b,O=R.h?at(R.h,"Y",t._presLayout):x,V=at(R.x||0,"X",t._presLayout),G=at(R.y||0,"Y",t._presLayout);n+=q8[R.type]({w:_,h:D},{w:v,h:O,x:V,y:G}),_=v,D=O}else n+="  <a:stretch><a:fillRect/></a:stretch>";n+="</p:blipFill>",n+="<p:spPr>",n+=" <a:xfrm"+w+">",n+=`  <a:off x="${A}" y="${g}"/>`,n+=`  <a:ext cx="${_}" cy="${D}"/>`,n+=" </a:xfrm>",n+=` <a:prstGeom prst="${j?"ellipse":"rect"}"><a:avLst/></a:prstGeom>`,a.options.shadow&&a.options.shadow.type!=="none"&&(a.options.shadow.type=a.options.shadow.type||"outer",a.options.shadow.blur=He(a.options.shadow.blur||8),a.options.shadow.offset=He(a.options.shadow.offset||4),a.options.shadow.angle=Math.round((a.options.shadow.angle||270)*6e4),a.options.shadow.opacity=Math.round((a.options.shadow.opacity||.75)*1e5),a.options.shadow.color=a.options.shadow.color||M_.color,n+="<a:effectLst>",n+=`<a:${a.options.shadow.type}Shdw ${a.options.shadow.type==="outer"?'sx="100000" sy="100000" kx="0" ky="0" algn="bl" rotWithShape="0"':""} blurRad="${a.options.shadow.blur}" dist="${a.options.shadow.offset}" dir="${a.options.shadow.angle}">`,n+=`<a:srgbClr val="${a.options.shadow.color}">`,n+=`<a:alpha val="${a.options.shadow.opacity}"/></a:srgbClr>`,n+=`</a:${a.options.shadow.type}Shdw>`,n+="</a:effectLst>"),n+="</p:spPr>",n+="</p:pic>";break;case Ke.media:a.mtype==="online"?(n+="<p:pic>",n+=" <p:nvPicPr>",n+=`<p:cNvPr id="${a.mediaRid+2}" name="${a.options.objectName}"/>`,n+=" <p:cNvPicPr/>",n+=" <p:nvPr>",n+=`  <a:videoFile r:link="rId${a.mediaRid}"/>`,n+=" </p:nvPr>",n+=" </p:nvPicPr>",n+=` <p:blipFill><a:blip r:embed="rId${a.mediaRid+1}"/><a:stretch><a:fillRect/></a:stretch></p:blipFill>`,n+=" <p:spPr>",n+=`  <a:xfrm${w}><a:off x="${A}" y="${g}"/><a:ext cx="${b}" cy="${x}"/></a:xfrm>`,n+='  <a:prstGeom prst="rect"><a:avLst/></a:prstGeom>',n+=" </p:spPr>",n+="</p:pic>"):(n+="<p:pic>",n+=" <p:nvPicPr>",n+=`<p:cNvPr id="${a.mediaRid+2}" name="${a.options.objectName}"><a:hlinkClick r:id="" action="ppaction://media"/></p:cNvPr>`,n+=' <p:cNvPicPr><a:picLocks noChangeAspect="1"/></p:cNvPicPr>',n+=" <p:nvPr>",n+=`  <a:videoFile r:link="rId${a.mediaRid}"/>`,n+="  <p:extLst>",n+='   <p:ext uri="{DAA4B4D4-6D71-4841-9C94-3DE7FCFB9230}">',n+=`    <p14:media xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" r:embed="rId${a.mediaRid+1}"/>`,n+="   </p:ext>",n+="  </p:extLst>",n+=" </p:nvPr>",n+=" </p:nvPicPr>",n+=` <p:blipFill><a:blip r:embed="rId${a.mediaRid+2}"/><a:stretch><a:fillRect/></a:stretch></p:blipFill>`,n+=" <p:spPr>",n+=`  <a:xfrm${w}><a:off x="${A}" y="${g}"/><a:ext cx="${b}" cy="${x}"/></a:xfrm>`,n+='  <a:prstGeom prst="rect"><a:avLst/></a:prstGeom>',n+=" </p:spPr>",n+="</p:pic>");break;case Ke.chart:n+="<p:graphicFrame>",n+=" <p:nvGraphicFramePr>",n+=`   <p:cNvPr id="${i+2}" name="${a.options.objectName}" descr="${Xe(a.options.altText||"")}"/>`,n+="   <p:cNvGraphicFramePr/>",n+=`   <p:nvPr>${Mh(y)}</p:nvPr>`,n+=" </p:nvGraphicFramePr>",n+=` <p:xfrm><a:off x="${A}" y="${g}"/><a:ext cx="${b}" cy="${x}"/></p:xfrm>`,n+=' <a:graphic xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main">',n+='  <a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/chart">',n+=`   <c:chart r:id="rId${a.chartRid}" xmlns:c="http://schemas.openxmlformats.org/drawingml/2006/chart"/>`,n+="  </a:graphicData>",n+=" </a:graphic>",n+="</p:graphicFrame>";break;default:n+="";break}}),t._slideNumberProps&&(t._slideNumberProps.align||(t._slideNumberProps.align="left"),n+="<p:sp>",n+=" <p:nvSpPr>",n+='  <p:cNvPr id="25" name="Slide Number Placeholder 0"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr>',n+='  <p:nvPr><p:ph type="sldNum" sz="quarter" idx="4294967295"/></p:nvPr>',n+=" </p:nvSpPr>",n+=" <p:spPr>",n+=`<a:xfrm><a:off x="${at(t._slideNumberProps.x,"X",t._presLayout)}" y="${at(t._slideNumberProps.y,"Y",t._presLayout)}"/><a:ext cx="${t._slideNumberProps.w?at(t._slideNumberProps.w,"X",t._presLayout):"800000"}" cy="${t._slideNumberProps.h?at(t._slideNumberProps.h,"Y",t._presLayout):"300000"}"/></a:xfrm> <a:prstGeom prst="rect"><a:avLst/></a:prstGeom> <a:extLst><a:ext uri="{C572A759-6A51-4108-AA02-DFA0A04FC94B}"><ma14:wrappingTextBoxFlag val="0" xmlns:ma14="http://schemas.microsoft.com/office/mac/drawingml/2011/main"/></a:ext></a:extLst></p:spPr>`,n+="<p:txBody>",n+="<a:bodyPr",t._slideNumberProps.margin&&Array.isArray(t._slideNumberProps.margin)?(n+=` lIns="${He(t._slideNumberProps.margin[3]||0)}"`,n+=` tIns="${He(t._slideNumberProps.margin[0]||0)}"`,n+=` rIns="${He(t._slideNumberProps.margin[1]||0)}"`,n+=` bIns="${He(t._slideNumberProps.margin[2]||0)}"`):typeof t._slideNumberProps.margin=="number"&&(n+=` lIns="${He(t._slideNumberProps.margin||0)}"`,n+=` tIns="${He(t._slideNumberProps.margin||0)}"`,n+=` rIns="${He(t._slideNumberProps.margin||0)}"`,n+=` bIns="${He(t._slideNumberProps.margin||0)}"`),t._slideNumberProps.valign&&(n+=` anchor="${t._slideNumberProps.valign.replace("top","t").replace("middle","ctr").replace("bottom","b")}"`),n+="/>",n+="  <a:lstStyle><a:lvl1pPr>",(t._slideNumberProps.fontFace||t._slideNumberProps.fontSize||t._slideNumberProps.color)&&(n+=`<a:defRPr sz="${Math.round((t._slideNumberProps.fontSize||12)*100)}">`,t._slideNumberProps.color&&(n+=Pr(t._slideNumberProps.color)),t._slideNumberProps.fontFace&&(n+=`<a:latin typeface="${t._slideNumberProps.fontFace}"/><a:ea typeface="${t._slideNumberProps.fontFace}"/><a:cs typeface="${t._slideNumberProps.fontFace}"/>`),n+="</a:defRPr>"),n+="</a:lvl1pPr></a:lstStyle>",n+="<a:p>",t._slideNumberProps.align.startsWith("l")?n+='<a:pPr algn="l"/>':t._slideNumberProps.align.startsWith("c")?n+='<a:pPr algn="ctr"/>':t._slideNumberProps.align.startsWith("r")?n+='<a:pPr algn="r"/>':n+='<a:pPr algn="l"/>',n+=`<a:fld id="${bI}" type="slidenum"><a:rPr b="${t._slideNumberProps.bold?1:0}" lang="en-US"/>`,n+=`<a:t>${t._slideNum}</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p>`,n+="</p:txBody></p:sp>"),n+="</p:spTree>",n+="</p:cSld>",n}function Gy(t,e){let n=0,r='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+Dn+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">';return t._rels.forEach(a=>{n=Math.max(n,a.rId),a.type.toLowerCase().includes("hyperlink")?a.data==="slide"?r+=`<Relationship Id="rId${a.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slide" Target="slide${a.Target}.xml"/>`:r+=`<Relationship Id="rId${a.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink" Target="${a.Target}" TargetMode="External"/>`:a.type.toLowerCase().includes("notesSlide")&&(r+=`<Relationship Id="rId${a.rId}" Target="${a.Target}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesSlide"/>`)}),(t._relsChart||[]).forEach(a=>{n=Math.max(n,a.rId),r+=`<Relationship Id="rId${a.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart" Target="${a.Target}"/>`}),(t._relsMedia||[]).forEach(a=>{const i=a.rId.toString();n=Math.max(n,a.rId),a.type.toLowerCase().includes("image")?r+='<Relationship Id="rId'+i+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image" Target="'+a.Target+'"/>':a.type.toLowerCase().includes("audio")?r.includes(' Target="'+a.Target+'"')?r+='<Relationship Id="rId'+i+'" Type="http://schemas.microsoft.com/office/2007/relationships/media" Target="'+a.Target+'"/>':r+='<Relationship Id="rId'+i+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/audio" Target="'+a.Target+'"/>':a.type.toLowerCase().includes("video")?r.includes(' Target="'+a.Target+'"')?r+='<Relationship Id="rId'+i+'" Type="http://schemas.microsoft.com/office/2007/relationships/media" Target="'+a.Target+'"/>':r+='<Relationship Id="rId'+i+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/video" Target="'+a.Target+'"/>':a.type.toLowerCase().includes("online")&&(r.includes(' Target="'+a.Target+'"')?r+='<Relationship Id="rId'+i+'" Type="http://schemas.microsoft.com/office/2007/relationships/image" Target="'+a.Target+'"/>':r+='<Relationship Id="rId'+i+'" Target="'+a.Target+'" TargetMode="External" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/video"/>')}),e.forEach((a,i)=>{r+=`<Relationship Id="rId${n+i+1}" Type="${a.type}" Target="${a.target}"/>`}),r+="</Relationships>",r}function O_(t,e){var n,r;let a="",i="",s="",l="";const c=e?"a:lvl1pPr":"a:pPr";let d=He(S8),u=`<${c}${t.options.rtlMode?' rtl="1" ':""}`;{if(t.options.align)switch(t.options.align){case"left":u+=' algn="l"';break;case"right":u+=' algn="r"';break;case"center":u+=' algn="ctr"';break;case"justify":u+=' algn="just"';break;default:u+="";break}if(t.options.lineSpacing?i=`<a:lnSpc><a:spcPts val="${Math.round(t.options.lineSpacing*100)}"/></a:lnSpc>`:t.options.lineSpacingMultiple&&(i=`<a:lnSpc><a:spcPct val="${Math.round(t.options.lineSpacingMultiple*1e5)}"/></a:lnSpc>`),t.options.indentLevel&&!isNaN(Number(t.options.indentLevel))&&t.options.indentLevel>0&&(u+=` lvl="${t.options.indentLevel}"`),t.options.paraSpaceBefore&&!isNaN(Number(t.options.paraSpaceBefore))&&t.options.paraSpaceBefore>0&&(s+=`<a:spcBef><a:spcPts val="${Math.round(t.options.paraSpaceBefore*100)}"/></a:spcBef>`),t.options.paraSpaceAfter&&!isNaN(Number(t.options.paraSpaceAfter))&&t.options.paraSpaceAfter>0&&(s+=`<a:spcAft><a:spcPts val="${Math.round(t.options.paraSpaceAfter*100)}"/></a:spcAft>`),typeof t.options.bullet=="object")if(!((r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.bullet)===null||r===void 0)&&r.indent&&(d=He(t.options.bullet.indent)),t.options.bullet.type)t.options.bullet.type.toString().toLowerCase()==="number"&&(u+=` marL="${t.options.indentLevel&&t.options.indentLevel>0?d+d*t.options.indentLevel:d}" indent="-${d}"`,a=`<a:buSzPct val="100000"/><a:buFont typeface="+mj-lt"/><a:buAutoNum type="${t.options.bullet.style||"arabicPeriod"}" startAt="${t.options.bullet.numberStartAt||t.options.bullet.startAt||"1"}"/>`);else if(t.options.bullet.characterCode){let h=`&#x${t.options.bullet.characterCode};`;/^[0-9A-Fa-f]{4}$/.test(t.options.bullet.characterCode)||(console.warn("Warning: `bullet.characterCode should be a 4-digit unicode charatcer (ex: 22AB)`!"),h=gl.DEFAULT),u+=` marL="${t.options.indentLevel&&t.options.indentLevel>0?d+d*t.options.indentLevel:d}" indent="-${d}"`,a='<a:buSzPct val="100000"/><a:buChar char="'+h+'"/>'}else if(t.options.bullet.code){let h=`&#x${t.options.bullet.code};`;/^[0-9A-Fa-f]{4}$/.test(t.options.bullet.code)||(console.warn("Warning: `bullet.code should be a 4-digit hex code (ex: 22AB)`!"),h=gl.DEFAULT),u+=` marL="${t.options.indentLevel&&t.options.indentLevel>0?d+d*t.options.indentLevel:d}" indent="-${d}"`,a='<a:buSzPct val="100000"/><a:buChar char="'+h+'"/>'}else u+=` marL="${t.options.indentLevel&&t.options.indentLevel>0?d+d*t.options.indentLevel:d}" indent="-${d}"`,a=`<a:buSzPct val="100000"/><a:buChar char="${gl.DEFAULT}"/>`;else t.options.bullet?(u+=` marL="${t.options.indentLevel&&t.options.indentLevel>0?d+d*t.options.indentLevel:d}" indent="-${d}"`,a=`<a:buSzPct val="100000"/><a:buChar char="${gl.DEFAULT}"/>`):t.options.bullet||(u+=' indent="0" marL="0"',a="<a:buNone/>");t.options.tabStops&&Array.isArray(t.options.tabStops)&&(l=`<a:tabLst>${t.options.tabStops.map(m=>`<a:tab pos="${xt(m.position||1)}" algn="${m.alignment||"l"}"/>`).join("")}</a:tabLst>`),u+=">"+i+s+a+l,e&&(u+=NI(t.options,!0)),u+="</"+c+">"}return u}function NI(t,e){var n;let r="";const a=e?"a:defRPr":"a:rPr";if(r+="<"+a+' lang="'+(t.lang?t.lang:"en-US")+'"'+(t.lang?' altLang="en-US"':""),r+=t.fontSize?` sz="${Math.round(t.fontSize*100)}"`:"",r+=t!=null&&t.bold?` b="${t.bold?"1":"0"}"`:"",r+=t!=null&&t.italic?` i="${t.italic?"1":"0"}"`:"",r+=t!=null&&t.strike?` strike="${typeof t.strike=="string"?t.strike:"sngStrike"}"`:"",typeof t.underline=="object"&&(!((n=t.underline)===null||n===void 0)&&n.style)?r+=` u="${t.underline.style}"`:typeof t.underline=="string"?r+=` u="${String(t.underline)}"`:t.hyperlink&&(r+=' u="sng"'),t.baseline?r+=` baseline="${Math.round(t.baseline*50)}"`:t.subscript?r+=' baseline="-40000"':t.superscript&&(r+=' baseline="30000"'),r+=t.charSpacing?` spc="${Math.round(t.charSpacing*100)}" kern="0"`:"",r+=' dirty="0">',(t.color||t.fontFace||t.outline||typeof t.underline=="object"&&t.underline.color)&&(t.outline&&typeof t.outline=="object"&&(r+=`<a:ln w="${He(t.outline.size||.75)}">${Pr(t.outline.color||"FFFFFF")}</a:ln>`),t.color&&(r+=Pr({color:t.color,transparency:t.transparency})),t.highlight&&(r+=`<a:highlight>${Ct(t.highlight)}</a:highlight>`),typeof t.underline=="object"&&t.underline.color&&(r+=`<a:uFill>${Pr(t.underline.color)}</a:uFill>`),t.glow&&(r+=`<a:effectLst>${P8(t.glow,k8)}</a:effectLst>`),t.fontFace&&(r+=`<a:latin typeface="${t.fontFace}" pitchFamily="34" charset="0"/><a:ea typeface="${t.fontFace}" pitchFamily="34" charset="-122"/><a:cs typeface="${t.fontFace}" pitchFamily="34" charset="-120"/>`)),t.hyperlink){if(typeof t.hyperlink!="object")throw new Error("ERROR: text `hyperlink` option should be an object. Ex: `hyperlink:{url:'https://github.com'}` ");if(!t.hyperlink.url&&!t.hyperlink.slide)throw new Error("ERROR: 'hyperlink requires either `url` or `slide`'");t.hyperlink.url?r+=`<a:hlinkClick r:id="rId${t.hyperlink._rId}" invalidUrl="" action="" tgtFrame="" tooltip="${t.hyperlink.tooltip?Xe(t.hyperlink.tooltip):""}" history="1" highlightClick="0" endSnd="0"${t.color?">":"/>"}`:t.hyperlink.slide&&(r+=`<a:hlinkClick r:id="rId${t.hyperlink._rId}" action="ppaction://hlinksldjump" tooltip="${t.hyperlink.tooltip?Xe(t.hyperlink.tooltip):""}"${t.color?">":"/>"}`),t.color&&(r+=" <a:extLst>",r+='  <a:ext uri="{A12FA001-AC4F-418D-AE19-62706E023703}">',r+='   <ahyp:hlinkClr xmlns:ahyp="http://schemas.microsoft.com/office/drawing/2018/hyperlinkcolor" val="tx"/>',r+="  </a:ext>",r+=" </a:extLst>",r+="</a:hlinkClick>")}return r+=`</${a}>`,r}function H8(t){return t.text?`<a:r>${NI(t.options,!1)}<a:t>${Xe(t.text)}</a:t></a:r>`:""}function Q8(t){let e="<a:bodyPr";return t&&t._type===Ke.text&&t.options._bodyProp?(e+=t.options._bodyProp.wrap?' wrap="square"':' wrap="none"',(t.options._bodyProp.lIns||t.options._bodyProp.lIns===0)&&(e+=` lIns="${t.options._bodyProp.lIns}"`),(t.options._bodyProp.tIns||t.options._bodyProp.tIns===0)&&(e+=` tIns="${t.options._bodyProp.tIns}"`),(t.options._bodyProp.rIns||t.options._bodyProp.rIns===0)&&(e+=` rIns="${t.options._bodyProp.rIns}"`),(t.options._bodyProp.bIns||t.options._bodyProp.bIns===0)&&(e+=` bIns="${t.options._bodyProp.bIns}"`),e+=' rtlCol="0"',t.options._bodyProp.anchor&&(e+=' anchor="'+t.options._bodyProp.anchor+'"'),t.options._bodyProp.vert&&(e+=' vert="'+t.options._bodyProp.vert+'"'),e+=">",t.options.fit&&(t.options.fit==="none"?e+="":t.options.fit==="shrink"?e+="<a:normAutofit/>":t.options.fit==="resize"&&(e+="<a:spAutoFit/>")),t.options.shrinkText&&(e+="<a:normAutofit/>"),e+=t.options._bodyProp.autoFit?"<a:spAutoFit/>":"",e+="</a:bodyPr>"):(e+=' wrap="square" rtlCol="0">',e+="</a:bodyPr>"),t._type===Ke.tablecell?"<a:bodyPr/>":e}function B_(t){const e=t.options||{};let n=[];const r=[];if(e&&t._type!==Ke.tablecell&&(typeof t.text>"u"||t.text===null))return"";let a=t._type===Ke.tablecell?"<a:txBody>":"<p:txBody>";a+=Q8(t),e.h===0&&e.line&&e.align?a+='<a:lstStyle><a:lvl1pPr algn="l"/></a:lstStyle>':t._type==="placeholder"?a+=`<a:lstStyle>${O_(t,!0)}</a:lstStyle>`:a+="<a:lstStyle/>",typeof t.text=="string"||typeof t.text=="number"?n.push({text:t.text.toString(),options:e||{}}):t.text&&!Array.isArray(t.text)&&typeof t.text=="object"&&Object.keys(t.text).includes("text")?n.push({text:t.text||"",options:t.options||{}}):Array.isArray(t.text)&&(n=t.text.map(l=>({text:l.text,options:l.options}))),n.forEach((l,c)=>{l.text||(l.text=""),l.options=l.options||e||{},c===0&&l.options&&!l.options.bullet&&e.bullet&&(l.options.bullet=e.bullet),(typeof l.text=="string"||typeof l.text=="number")&&(l.text=l.text.toString().replace(/\r*\n/g,Dn)),l.text.includes(Dn)&&l.text.match(/\n$/g)===null?l.text.split(Dn).forEach(d=>{l.options.breakLine=!0,r.push({text:d,options:l.options})}):r.push(l)});const i=[];let s=[];return r.forEach((l,c)=>{s.length>0&&(l.options.align||e.align)?l.options.align!==r[c-1].options.align&&(i.push(s),s=[]):s.length>0&&l.options.bullet&&s.length>0&&(i.push(s),s=[],l.options.breakLine=!1),s.push(l),s.length>0&&l.options.breakLine&&c+1<r.length&&(i.push(s),s=[]),c+1===r.length&&i.push(s)}),i.forEach(l=>{var c;let d=!1;a+="<a:p>";let u=`<a:pPr ${!((c=l[0].options)===null||c===void 0)&&c.rtlMode?' rtl="1" ':""}`;l.forEach((h,m)=>{h.options._lineIdx=m,m>0&&h.options.softBreakBefore&&(a+="<a:br/>"),h.options.align=h.options.align||e.align,h.options.lineSpacing=h.options.lineSpacing||e.lineSpacing,h.options.lineSpacingMultiple=h.options.lineSpacingMultiple||e.lineSpacingMultiple,h.options.indentLevel=h.options.indentLevel||e.indentLevel,h.options.paraSpaceBefore=h.options.paraSpaceBefore||e.paraSpaceBefore,h.options.paraSpaceAfter=h.options.paraSpaceAfter||e.paraSpaceAfter,u=O_(h,!1),a+=u.replace("<a:pPr></a:pPr>",""),Object.entries(e).filter(([p])=>!(h.options.hyperlink&&p==="color")).forEach(([p,A])=>{p!=="bullet"&&!h.options[p]&&(h.options[p]=A)}),a+=H8(h),(!h.text&&e.fontSize||h.options.fontSize)&&(d=!0,e.fontSize=e.fontSize||h.options.fontSize)}),t._type===Ke.tablecell&&(e.fontSize||e.fontFace)?e.fontFace?(a+=`<a:endParaRPr lang="${e.lang||"en-US"}"`+(e.fontSize?` sz="${Math.round(e.fontSize*100)}"`:"")+' dirty="0">',a+=`<a:latin typeface="${e.fontFace}" charset="0"/>`,a+=`<a:ea typeface="${e.fontFace}" charset="0"/>`,a+=`<a:cs typeface="${e.fontFace}" charset="0"/>`,a+="</a:endParaRPr>"):a+=`<a:endParaRPr lang="${e.lang||"en-US"}"`+(e.fontSize?` sz="${Math.round(e.fontSize*100)}"`:"")+' dirty="0"/>':d?a+=`<a:endParaRPr lang="${e.lang||"en-US"}"`+(e.fontSize?` sz="${Math.round(e.fontSize*100)}"`:"")+' dirty="0"/>':a+=`<a:endParaRPr lang="${e.lang||"en-US"}" dirty="0"/>`,a+="</a:p>"}),a.indexOf("<a:p>")===-1&&(a+="<a:p><a:endParaRPr/></a:p>"),a+=t._type===Ke.tablecell?"</a:txBody>":"</p:txBody>",a}function Mh(t){var e,n;if(!t)return"";const r=!((e=t.options)===null||e===void 0)&&e._placeholderIdx?t.options._placeholderIdx:"",a=!((n=t.options)===null||n===void 0)&&n._placeholderType?t.options._placeholderType:"",i=a&&Id[a]?Id[a].toString():"";return`<p:ph
		${r?' idx="'+r.toString()+'"':""}
		${i&&Id[i]?` type="${i}"`:""}
		${t.text&&t.text.length>0?' hasCustomPrompt="1"':""}
		/>`}function X8(t,e,n){let r='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+Dn;return r+='<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">',r+='<Default Extension="xml" ContentType="application/xml"/>',r+='<Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>',r+='<Default Extension="jpeg" ContentType="image/jpeg"/>',r+='<Default Extension="jpg" ContentType="image/jpg"/>',r+='<Default Extension="svg" ContentType="image/svg+xml"/>',r+='<Default Extension="png" ContentType="image/png"/>',r+='<Default Extension="gif" ContentType="image/gif"/>',r+='<Default Extension="m4v" ContentType="video/mp4"/>',r+='<Default Extension="mp4" ContentType="video/mp4"/>',t.forEach(a=>{(a._relsMedia||[]).forEach(i=>{i.type!=="image"&&i.type!=="online"&&i.type!=="chart"&&i.extn!=="m4v"&&!r.includes(i.type)&&(r+='<Default Extension="'+i.extn+'" ContentType="'+i.type+'"/>')})}),r+='<Default Extension="vml" ContentType="application/vnd.openxmlformats-officedocument.vmlDrawing"/>',r+='<Default Extension="xlsx" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"/>',r+='<Override PartName="/ppt/presentation.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml"/>',r+='<Override PartName="/ppt/notesMasters/notesMaster1.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.notesMaster+xml"/>',t.forEach((a,i)=>{r+=`<Override PartName="/ppt/slideMasters/slideMaster${i+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.slideMaster+xml"/>`,r+=`<Override PartName="/ppt/slides/slide${i+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.slide+xml"/>`,a._relsChart.forEach(s=>{r+=`<Override PartName="${s.Target}" ContentType="application/vnd.openxmlformats-officedocument.drawingml.chart+xml"/>`})}),r+='<Override PartName="/ppt/presProps.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.presProps+xml"/>',r+='<Override PartName="/ppt/viewProps.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.viewProps+xml"/>',r+='<Override PartName="/ppt/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/>',r+='<Override PartName="/ppt/tableStyles.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.tableStyles+xml"/>',e.forEach((a,i)=>{r+=`<Override PartName="/ppt/slideLayouts/slideLayout${i+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.slideLayout+xml"/>`,(a._relsChart||[]).forEach(s=>{r+=' <Override PartName="'+s.Target+'" ContentType="application/vnd.openxmlformats-officedocument.drawingml.chart+xml"/>'})}),t.forEach((a,i)=>{r+=`<Override PartName="/ppt/notesSlides/notesSlide${i+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.notesSlide+xml"/>`}),n._relsChart.forEach(a=>{r+=' <Override PartName="'+a.Target+'" ContentType="application/vnd.openxmlformats-officedocument.drawingml.chart+xml"/>'}),n._relsMedia.forEach(a=>{a.type!=="image"&&a.type!=="online"&&a.type!=="chart"&&a.extn!=="m4v"&&!r.includes(a.type)&&(r+=' <Default Extension="'+a.extn+'" ContentType="'+a.type+'"/>')}),r+=' <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/>',r+=' <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/>',r+="</Types>",r}function K8(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Dn}<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
		<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/>
		<Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/>
		<Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="ppt/presentation.xml"/>
		</Relationships>`}function Y8(t,e){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Dn}<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes">
	<TotalTime>0</TotalTime>
	<Words>0</Words>
	<Application>Microsoft Office PowerPoint</Application>
	<PresentationFormat>On-screen Show (16:9)</PresentationFormat>
	<Paragraphs>0</Paragraphs>
	<Slides>${t.length}</Slides>
	<Notes>${t.length}</Notes>
	<HiddenSlides>0</HiddenSlides>
	<MMClips>0</MMClips>
	<ScaleCrop>false</ScaleCrop>
	<HeadingPairs>
		<vt:vector size="6" baseType="variant">
			<vt:variant><vt:lpstr>Fonts Used</vt:lpstr></vt:variant>
			<vt:variant><vt:i4>2</vt:i4></vt:variant>
			<vt:variant><vt:lpstr>Theme</vt:lpstr></vt:variant>
			<vt:variant><vt:i4>1</vt:i4></vt:variant>
			<vt:variant><vt:lpstr>Slide Titles</vt:lpstr></vt:variant>
			<vt:variant><vt:i4>${t.length}</vt:i4></vt:variant>
		</vt:vector>
	</HeadingPairs>
	<TitlesOfParts>
		<vt:vector size="${t.length+1+2}" baseType="lpstr">
			<vt:lpstr>Arial</vt:lpstr>
			<vt:lpstr>Calibri</vt:lpstr>
			<vt:lpstr>Office Theme</vt:lpstr>
			${t.map((n,r)=>`<vt:lpstr>Slide ${r+1}</vt:lpstr>`).join("")}
		</vt:vector>
	</TitlesOfParts>
	<Company>${e}</Company>
	<LinksUpToDate>false</LinksUpToDate>
	<SharedDoc>false</SharedDoc>
	<HyperlinksChanged>false</HyperlinksChanged>
	<AppVersion>16.0000</AppVersion>
	</Properties>`}function J8(t,e,n,r){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
	<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<dc:title>${Xe(t)}</dc:title>
		<dc:subject>${Xe(e)}</dc:subject>
		<dc:creator>${Xe(n)}</dc:creator>
		<cp:lastModifiedBy>${Xe(n)}</cp:lastModifiedBy>
		<cp:revision>${r}</cp:revision>
		<dcterms:created xsi:type="dcterms:W3CDTF">${new Date().toISOString().replace(/\.\d\d\dZ/,"Z")}</dcterms:created>
		<dcterms:modified xsi:type="dcterms:W3CDTF">${new Date().toISOString().replace(/\.\d\d\dZ/,"Z")}</dcterms:modified>
	</cp:coreProperties>`}function Z8(t){let e=1,n='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+Dn;n+='<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">',n+='<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideMaster" Target="slideMasters/slideMaster1.xml"/>';for(let r=1;r<=t.length;r++)n+=`<Relationship Id="rId${++e}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slide" Target="slides/slide${r}.xml"/>`;return e++,n+=`<Relationship Id="rId${e+0}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesMaster" Target="notesMasters/notesMaster1.xml"/><Relationship Id="rId${e+1}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/presProps" Target="presProps.xml"/><Relationship Id="rId${e+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/viewProps" Target="viewProps.xml"/><Relationship Id="rId${e+3}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId${e+4}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/tableStyles" Target="tableStyles.xml"/></Relationships>`,n}function e9(t){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Dn}<p:sld xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"${t!=null&&t.hidden?' show="0"':""}>${Uy(t)}<p:clrMapOvr><a:masterClrMapping/></p:clrMapOvr></p:sld>`}function t9(t){let e="";return t._slideObjects.forEach(n=>{n._type===Ke.notes&&(e+=n!=null&&n.text&&n.text[0]?n.text[0].text:"")}),e.replace(/\r*\n/g,Dn)}function n9(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Dn}<p:notesMaster xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"><p:cSld><p:bg><p:bgRef idx="1001"><a:schemeClr val="bg1"/></p:bgRef></p:bg><p:spTree><p:nvGrpSpPr><p:cNvPr id="1" name=""/><p:cNvGrpSpPr/><p:nvPr/></p:nvGrpSpPr><p:grpSpPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="0" cy="0"/><a:chOff x="0" y="0"/><a:chExt cx="0" cy="0"/></a:xfrm></p:grpSpPr><p:sp><p:nvSpPr><p:cNvPr id="2" name="Header Placeholder 1"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="hdr" sz="quarter"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="2971800" cy="458788"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0"/><a:lstStyle><a:lvl1pPr algn="l"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="3" name="Date Placeholder 2"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="dt" idx="1"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="3884613" y="0"/><a:ext cx="2971800" cy="458788"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0"/><a:lstStyle><a:lvl1pPr algn="r"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:fld id="{5282F153-3F37-0F45-9E97-73ACFA13230C}" type="datetimeFigureOut"><a:rPr lang="en-US"/><a:t>7/23/19</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="4" name="Slide Image Placeholder 3"/><p:cNvSpPr><a:spLocks noGrp="1" noRot="1" noChangeAspect="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldImg" idx="2"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="685800" y="1143000"/><a:ext cx="5486400" cy="3086100"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom><a:noFill/><a:ln w="12700"><a:solidFill><a:prstClr val="black"/></a:solidFill></a:ln></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0" anchor="ctr"/><a:lstStyle/><a:p><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="5" name="Notes Placeholder 4"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="body" sz="quarter" idx="3"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="685800" y="4400550"/><a:ext cx="5486400" cy="3600450"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0"/><a:lstStyle/><a:p><a:pPr lvl="0"/><a:r><a:rPr lang="en-US"/><a:t>Click to edit Master text styles</a:t></a:r></a:p><a:p><a:pPr lvl="1"/><a:r><a:rPr lang="en-US"/><a:t>Second level</a:t></a:r></a:p><a:p><a:pPr lvl="2"/><a:r><a:rPr lang="en-US"/><a:t>Third level</a:t></a:r></a:p><a:p><a:pPr lvl="3"/><a:r><a:rPr lang="en-US"/><a:t>Fourth level</a:t></a:r></a:p><a:p><a:pPr lvl="4"/><a:r><a:rPr lang="en-US"/><a:t>Fifth level</a:t></a:r></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="6" name="Footer Placeholder 5"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="ftr" sz="quarter" idx="4"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="0" y="8685213"/><a:ext cx="2971800" cy="458787"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0" anchor="b"/><a:lstStyle><a:lvl1pPr algn="l"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="7" name="Slide Number Placeholder 6"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldNum" sz="quarter" idx="5"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="3884613" y="8685213"/><a:ext cx="2971800" cy="458787"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0" anchor="b"/><a:lstStyle><a:lvl1pPr algn="r"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:fld id="{CE5E9CC1-C706-0F49-92D6-E571CC5EEA8F}" type="slidenum"><a:rPr lang="en-US"/><a:t>#</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp></p:spTree><p:extLst><p:ext uri="{BB962C8B-B14F-4D97-AF65-F5344CB8AC3E}"><p14:creationId xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" val="1024086991"/></p:ext></p:extLst></p:cSld><p:clrMap bg1="lt1" tx1="dk1" bg2="lt2" tx2="dk2" accent1="accent1" accent2="accent2" accent3="accent3" accent4="accent4" accent5="accent5" accent6="accent6" hlink="hlink" folHlink="folHlink"/><p:notesStyle><a:lvl1pPr marL="0" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl1pPr><a:lvl2pPr marL="457200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl2pPr><a:lvl3pPr marL="914400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl3pPr><a:lvl4pPr marL="1371600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl4pPr><a:lvl5pPr marL="1828800" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl5pPr><a:lvl6pPr marL="2286000" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl6pPr><a:lvl7pPr marL="2743200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl7pPr><a:lvl8pPr marL="3200400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl8pPr><a:lvl9pPr marL="3657600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl9pPr></p:notesStyle></p:notesMaster>`}function r9(t){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Dn}<p:notes xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"><p:cSld><p:spTree><p:nvGrpSpPr><p:cNvPr id="1" name=""/><p:cNvGrpSpPr/><p:nvPr/></p:nvGrpSpPr><p:grpSpPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="0" cy="0"/><a:chOff x="0" y="0"/><a:chExt cx="0" cy="0"/></a:xfrm></p:grpSpPr><p:sp><p:nvSpPr><p:cNvPr id="2" name="Slide Image Placeholder 1"/><p:cNvSpPr><a:spLocks noGrp="1" noRot="1" noChangeAspect="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldImg"/></p:nvPr></p:nvSpPr><p:spPr/></p:sp><p:sp><p:nvSpPr><p:cNvPr id="3" name="Notes Placeholder 2"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="body" idx="1"/></p:nvPr></p:nvSpPr><p:spPr/><p:txBody><a:bodyPr/><a:lstStyle/><a:p><a:r><a:rPr lang="en-US" dirty="0"/><a:t>${Xe(t9(t))}</a:t></a:r><a:endParaRPr lang="en-US" dirty="0"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="4" name="Slide Number Placeholder 3"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldNum" sz="quarter" idx="10"/></p:nvPr></p:nvSpPr><p:spPr/><p:txBody><a:bodyPr/><a:lstStyle/><a:p><a:fld id="${bI}" type="slidenum"><a:rPr lang="en-US"/><a:t>${t._slideNum}</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp></p:spTree><p:extLst><p:ext uri="{BB962C8B-B14F-4D97-AF65-F5344CB8AC3E}"><p14:creationId xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" val="1024086991"/></p:ext></p:extLst></p:cSld><p:clrMapOvr><a:masterClrMapping/></p:clrMapOvr></p:notes>`}function a9(t){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
		<p:sldLayout xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main" preserve="1">
		${Uy(t)}
		<p:clrMapOvr><a:masterClrMapping/></p:clrMapOvr></p:sldLayout>`}function i9(t,e){const n=e.map((a,i)=>`<p:sldLayoutId id="${N8+i}" r:id="rId${t._rels.length+i+1}"/>`);let r='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+Dn;return r+='<p:sldMaster xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main">',r+=Uy(t),r+='<p:clrMap bg1="lt1" tx1="dk1" bg2="lt2" tx2="dk2" accent1="accent1" accent2="accent2" accent3="accent3" accent4="accent4" accent5="accent5" accent6="accent6" hlink="hlink" folHlink="folHlink"/>',r+="<p:sldLayoutIdLst>"+n.join("")+"</p:sldLayoutIdLst>",r+='<p:hf sldNum="0" hdr="0" ftr="0" dt="0"/>',r+='<p:txStyles> <p:titleStyle>  <a:lvl1pPr algn="ctr" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="0"/></a:spcBef><a:buNone/><a:defRPr sz="4400" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mj-lt"/><a:ea typeface="+mj-ea"/><a:cs typeface="+mj-cs"/></a:defRPr></a:lvl1pPr> </p:titleStyle> <p:bodyStyle>  <a:lvl1pPr marL="342900" indent="-342900" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="3200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl1pPr>  <a:lvl2pPr marL="742950" indent="-285750" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl2pPr>  <a:lvl3pPr marL="1143000" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2400" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl3pPr>  <a:lvl4pPr marL="1600200" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl4pPr>  <a:lvl5pPr marL="2057400" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl5pPr>  <a:lvl6pPr marL="2514600" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl6pPr>  <a:lvl7pPr marL="2971800" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl7pPr>  <a:lvl8pPr marL="3429000" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl8pPr>  <a:lvl9pPr marL="3886200" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl9pPr> </p:bodyStyle> <p:otherStyle>  <a:defPPr><a:defRPr lang="en-US"/></a:defPPr>  <a:lvl1pPr marL="0" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl1pPr>  <a:lvl2pPr marL="457200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl2pPr>  <a:lvl3pPr marL="914400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl3pPr>  <a:lvl4pPr marL="1371600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl4pPr>  <a:lvl5pPr marL="1828800" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl5pPr>  <a:lvl6pPr marL="2286000" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl6pPr>  <a:lvl7pPr marL="2743200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl7pPr>  <a:lvl8pPr marL="3200400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl8pPr>  <a:lvl9pPr marL="3657600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl9pPr> </p:otherStyle></p:txStyles>',r+="</p:sldMaster>",r}function s9(t,e){return Gy(e[t-1],[{target:"../slideMasters/slideMaster1.xml",type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideMaster"}])}function o9(t,e,n){return Gy(t[n-1],[{target:`../slideLayouts/slideLayout${u9(t,e,n)}.xml`,type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideLayout"},{target:`../notesSlides/notesSlide${n}.xml`,type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesSlide"}])}function l9(t){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
		<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
			<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesMaster" Target="../notesMasters/notesMaster1.xml"/>
			<Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slide" Target="../slides/slide${t}.xml"/>
		</Relationships>`}function c9(t,e){const n=e.map((r,a)=>({target:`../slideLayouts/slideLayout${a+1}.xml`,type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideLayout"}));return n.push({target:"../theme/theme1.xml",type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme"}),Gy(t,n)}function d9(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Dn}<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
		<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="../theme/theme1.xml"/>
		</Relationships>`}function u9(t,e,n){for(let r=0;r<e.length;r++)if(e[r]._name===t[n-1]._slideLayout._name)return r+1;return 1}function h9(t){var e,n,r,a;const i=!((e=t.theme)===null||e===void 0)&&e.headFontFace?`<a:latin typeface="${(n=t.theme)===null||n===void 0?void 0:n.headFontFace}"/>`:'<a:latin typeface="Calibri Light" panose="020F0302020204030204"/>',s=!((r=t.theme)===null||r===void 0)&&r.bodyFontFace?`<a:latin typeface="${(a=t.theme)===null||a===void 0?void 0:a.bodyFontFace}"/>`:'<a:latin typeface="Calibri" panose="020F0502020204030204"/>';return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="44546A"/></a:dk2><a:lt2><a:srgbClr val="E7E6E6"/></a:lt2><a:accent1><a:srgbClr val="4472C4"/></a:accent1><a:accent2><a:srgbClr val="ED7D31"/></a:accent2><a:accent3><a:srgbClr val="A5A5A5"/></a:accent3><a:accent4><a:srgbClr val="FFC000"/></a:accent4><a:accent5><a:srgbClr val="5B9BD5"/></a:accent5><a:accent6><a:srgbClr val="70AD47"/></a:accent6><a:hlink><a:srgbClr val="0563C1"/></a:hlink><a:folHlink><a:srgbClr val="954F72"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont>${i}<a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=" Light"/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=" Light"/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Angsana New"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/><a:font script="Armn" typeface="Arial"/><a:font script="Bugi" typeface="Leelawadee UI"/><a:font script="Bopo" typeface="Microsoft JhengHei"/><a:font script="Java" typeface="Javanese Text"/><a:font script="Lisu" typeface="Segoe UI"/><a:font script="Mymr" typeface="Myanmar Text"/><a:font script="Nkoo" typeface="Ebrima"/><a:font script="Olck" typeface="Nirmala UI"/><a:font script="Osma" typeface="Ebrima"/><a:font script="Phag" typeface="Phagspa"/><a:font script="Syrn" typeface="Estrangelo Edessa"/><a:font script="Syrj" typeface="Estrangelo Edessa"/><a:font script="Syre" typeface="Estrangelo Edessa"/><a:font script="Sora" typeface="Nirmala UI"/><a:font script="Tale" typeface="Microsoft Tai Le"/><a:font script="Talu" typeface="Microsoft New Tai Lue"/><a:font script="Tfng" typeface="Ebrima"/></a:majorFont><a:minorFont>${s}<a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=""/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=""/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Cordia New"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/><a:font script="Armn" typeface="Arial"/><a:font script="Bugi" typeface="Leelawadee UI"/><a:font script="Bopo" typeface="Microsoft JhengHei"/><a:font script="Java" typeface="Javanese Text"/><a:font script="Lisu" typeface="Segoe UI"/><a:font script="Mymr" typeface="Myanmar Text"/><a:font script="Nkoo" typeface="Ebrima"/><a:font script="Olck" typeface="Nirmala UI"/><a:font script="Osma" typeface="Ebrima"/><a:font script="Phag" typeface="Phagspa"/><a:font script="Syrn" typeface="Estrangelo Edessa"/><a:font script="Syrj" typeface="Estrangelo Edessa"/><a:font script="Syre" typeface="Estrangelo Edessa"/><a:font script="Sora" typeface="Nirmala UI"/><a:font script="Tale" typeface="Microsoft Tai Le"/><a:font script="Talu" typeface="Microsoft New Tai Lue"/><a:font script="Tfng" typeface="Ebrima"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:lumMod val="110000"/><a:satMod val="105000"/><a:tint val="67000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="103000"/><a:tint val="73000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="109000"/><a:tint val="81000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:satMod val="103000"/><a:lumMod val="102000"/><a:tint val="94000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:satMod val="110000"/><a:lumMod val="100000"/><a:shade val="100000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="99000"/><a:satMod val="120000"/><a:shade val="78000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="6350" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="12700" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="19050" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="57150" dist="19050" dir="5400000" algn="ctr" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="63000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:solidFill><a:schemeClr val="phClr"><a:tint val="95000"/><a:satMod val="170000"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="93000"/><a:satMod val="150000"/><a:shade val="98000"/><a:lumMod val="102000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:tint val="98000"/><a:satMod val="130000"/><a:shade val="90000"/><a:lumMod val="103000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="63000"/><a:satMod val="120000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri="{05A4C25C-085E-4340-85A3-A5531E510DB2}"><thm15:themeFamily xmlns:thm15="http://schemas.microsoft.com/office/thememl/2012/main" name="Office Theme" id="{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}" vid="{4A3C46E8-61CC-4603-A589-7422A47A8E4A}"/></a:ext></a:extLst></a:theme>`}function f9(t){let e=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Dn}<p:presentation xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main" ${t.rtlMode?'rtl="1"':""} saveSubsetFonts="1" autoCompressPictures="0">`;e+='<p:sldMasterIdLst><p:sldMasterId id="2147483648" r:id="rId1"/></p:sldMasterIdLst>',e+="<p:sldIdLst>",t.slides.forEach(n=>e+=`<p:sldId id="${n._slideId}" r:id="rId${n._rId}"/>`),e+="</p:sldIdLst>",e+=`<p:notesMasterIdLst><p:notesMasterId r:id="rId${t.slides.length+2}"/></p:notesMasterIdLst>`,e+=`<p:sldSz cx="${t.presLayout.width}" cy="${t.presLayout.height}"/>`,e+=`<p:notesSz cx="${t.presLayout.height}" cy="${t.presLayout.width}"/>`,e+="<p:defaultTextStyle>";for(let n=1;n<10;n++)e+=`<a:lvl${n}pPr marL="${(n-1)*457200}" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl${n}pPr>`;return e+="</p:defaultTextStyle>",t.sections&&t.sections.length>0&&(e+='<p:extLst><p:ext uri="{521415D9-36F7-43E2-AB2F-B90AF26B5E84}">',e+='<p14:sectionLst xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main">',t.sections.forEach(n=>{e+=`<p14:section name="${Xe(n.title)}" id="{${ff("xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}}"><p14:sldIdLst>`,n._slides.forEach(r=>e+=`<p14:sldId id="${r._slideId}"/>`),e+="</p14:sldIdLst></p14:section>"}),e+="</p14:sectionLst></p:ext>",e+='<p:ext uri="{EFAFB233-063F-42B5-8137-9DF3F51BA10A}"><p15:sldGuideLst xmlns:p15="http://schemas.microsoft.com/office/powerpoint/2012/main"/></p:ext>',e+="</p:extLst>"),e+="</p:presentation>",e}function p9(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Dn}<p:presentationPr xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"/>`}function m9(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Dn}<a:tblStyleLst xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" def="{5C22544A-7EE6-4342-B048-85BDC9FD1C3A}"/>`}function g9(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Dn}<p:viewPr xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"><p:normalViewPr horzBarState="maximized"><p:restoredLeft sz="15611"/><p:restoredTop sz="94610"/></p:normalViewPr><p:slideViewPr><p:cSldViewPr snapToGrid="0" snapToObjects="1"><p:cViewPr varScale="1"><p:scale><a:sx n="136" d="100"/><a:sy n="136" d="100"/></p:scale><p:origin x="216" y="312"/></p:cViewPr><p:guideLst/></p:cSldViewPr></p:slideViewPr><p:notesTextViewPr><p:cViewPr><p:scale><a:sx n="1" d="1"/><a:sy n="1" d="1"/></p:scale><p:origin x="0" y="0"/></p:cViewPr></p:notesTextViewPr><p:gridSpacing cx="76200" cy="76200"/></p:viewPr>`}const A9="4.0.1";class x9{set layout(e){const n=this.LAYOUTS[e];if(n)this._layout=e,this._presLayout=n;else throw new Error("UNKNOWN-LAYOUT")}get layout(){return this._layout}get version(){return this._version}set author(e){this._author=e}get author(){return this._author}set company(e){this._company=e}get company(){return this._company}set revision(e){this._revision=e}get revision(){return this._revision}set subject(e){this._subject=e}get subject(){return this._subject}set theme(e){this._theme=e}get theme(){return this._theme}set title(e){this._title=e}get title(){return this._title}set rtlMode(e){this._rtlMode=e}get rtlMode(){return this._rtlMode}get masterSlide(){return this._masterSlide}get slides(){return this._slides}get sections(){return this._sections}get slideLayouts(){return this._slideLayouts}get AlignH(){return this._alignH}get AlignV(){return this._alignV}get ChartType(){return this._chartType}get OutputType(){return this._outputType}get presLayout(){return this._presLayout}get SchemeColor(){return this._schemeColor}get ShapeType(){return this._shapeType}get charts(){return this._charts}get colors(){return this._colors}get shapes(){return this._shapes}constructor(){this._version=A9,this._alignH=E0,this._alignV=N0,this._chartType=_0,this._outputType=w0,this._schemeColor=kr,this._shapeType=C0,this._charts=be,this._colors=Np,this._shapes=fs,this.addNewSlide=i=>{const s=this.sections.length>0&&this.sections[this.sections.length-1]._slides.filter(l=>l._slideNum===this.slides[this.slides.length-1]._slideNum).length>0;return i.sectionTitle=s?this.sections[this.sections.length-1].title:null,this.addSlide(i)},this.getSlide=i=>this.slides.filter(s=>s._slideNum===i)[0],this.setSlideNumber=i=>{this.masterSlide._slideNumberProps=i,this.slideLayouts.filter(s=>s._name===v0)[0]._slideNumberProps=i},this.createChartMediaRels=(i,s,l)=>{i._relsChart.forEach(c=>l.push(G8(c,s))),i._relsMedia.forEach(c=>{if(c.type!=="online"&&c.type!=="hyperlink"){let d=c.data&&typeof c.data=="string"?c.data:"";!d.includes(",")&&!d.includes(";")?d="image/png;base64,"+d:d.includes(",")?d.includes(";")||(d="image/png;"+d):d="image/png;base64,"+d,s.file(c.Target.replace("..","ppt"),d.split(",").pop(),{base64:!0})}})},this.writeFileToBrowser=(i,s)=>Rr(this,void 0,void 0,function*(){const l=document.createElement("a");if(l.setAttribute("style","display:none;"),l.dataset.interception="off",document.body.appendChild(l),window.URL.createObjectURL){const c=window.URL.createObjectURL(new Blob([s],{type:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}));return l.href=c,l.download=i,l.click(),setTimeout(()=>{window.URL.revokeObjectURL(c),document.body.removeChild(l)},100),yield Promise.resolve(i)}}),this.exportPresentation=i=>Rr(this,void 0,void 0,function*(){const s=[];let l=[];const c=new AI;return this.slides.forEach(d=>{l=l.concat(jg(d))}),this.slideLayouts.forEach(d=>{l=l.concat(jg(d))}),l=l.concat(jg(this.masterSlide)),yield Promise.all(l).then(()=>Rr(this,void 0,void 0,function*(){return this.slides.forEach(d=>{d._slideLayout&&V8(d)}),c.folder("_rels"),c.folder("docProps"),c.folder("ppt").folder("_rels"),c.folder("ppt/charts").folder("_rels"),c.folder("ppt/embeddings"),c.folder("ppt/media"),c.folder("ppt/slideLayouts").folder("_rels"),c.folder("ppt/slideMasters").folder("_rels"),c.folder("ppt/slides").folder("_rels"),c.folder("ppt/theme"),c.folder("ppt/notesMasters").folder("_rels"),c.folder("ppt/notesSlides").folder("_rels"),c.file("[Content_Types].xml",X8(this.slides,this.slideLayouts,this.masterSlide)),c.file("_rels/.rels",K8()),c.file("docProps/app.xml",Y8(this.slides,this.company)),c.file("docProps/core.xml",J8(this.title,this.subject,this.author,this.revision)),c.file("ppt/_rels/presentation.xml.rels",Z8(this.slides)),c.file("ppt/theme/theme1.xml",h9(this)),c.file("ppt/presentation.xml",f9(this)),c.file("ppt/presProps.xml",p9()),c.file("ppt/tableStyles.xml",m9()),c.file("ppt/viewProps.xml",g9()),this.slideLayouts.forEach((d,u)=>{c.file(`ppt/slideLayouts/slideLayout${u+1}.xml`,a9(d)),c.file(`ppt/slideLayouts/_rels/slideLayout${u+1}.xml.rels`,s9(u+1,this.slideLayouts))}),this.slides.forEach((d,u)=>{c.file(`ppt/slides/slide${u+1}.xml`,e9(d)),c.file(`ppt/slides/_rels/slide${u+1}.xml.rels`,o9(this.slides,this.slideLayouts,u+1)),c.file(`ppt/notesSlides/notesSlide${u+1}.xml`,r9(d)),c.file(`ppt/notesSlides/_rels/notesSlide${u+1}.xml.rels`,l9(u+1))}),c.file("ppt/slideMasters/slideMaster1.xml",i9(this.masterSlide,this.slideLayouts)),c.file("ppt/slideMasters/_rels/slideMaster1.xml.rels",c9(this.masterSlide,this.slideLayouts)),c.file("ppt/notesMasters/notesMaster1.xml",n9()),c.file("ppt/notesMasters/_rels/notesMaster1.xml.rels",d9()),this.slideLayouts.forEach(d=>{this.createChartMediaRels(d,c,s)}),this.slides.forEach(d=>{this.createChartMediaRels(d,c,s)}),this.createChartMediaRels(this.masterSlide,c,s),yield Promise.all(s).then(()=>Rr(this,void 0,void 0,function*(){return i.outputType==="STREAM"?yield c.generateAsync({type:"nodebuffer",compression:i.compression?"DEFLATE":"STORE"}):i.outputType?yield c.generateAsync({type:i.outputType}):yield c.generateAsync({type:"blob",compression:i.compression?"DEFLATE":"STORE"})}))}))});const e={name:"screen4x3",width:9144e3,height:6858e3},n={name:"screen16x9",width:9144e3,height:5143500},r={name:"screen16x10",width:9144e3,height:5715e3},a={name:"custom",width:12192e3,height:6858e3};this.LAYOUTS={LAYOUT_4x3:e,LAYOUT_16x9:n,LAYOUT_16x10:r,LAYOUT_WIDE:a},this._author="PptxGenJS",this._company="PptxGenJS",this._revision="1",this._subject="PptxGenJS Presentation",this._title="PptxGenJS Presentation",this._presLayout={name:this.LAYOUTS[qo].name,_sizeW:this.LAYOUTS[qo].width,_sizeH:this.LAYOUTS[qo].height,width:this.LAYOUTS[qo].width,height:this.LAYOUTS[qo].height},this._rtlMode=!1,this._slideLayouts=[{_margin:mu,_name:v0,_presLayout:this._presLayout,_rels:[],_relsChart:[],_relsMedia:[],_slide:null,_slideNum:1e3,_slideNumberProps:null,_slideObjects:[]}],this._slides=[],this._sections=[],this._masterSlide={addChart:null,addImage:null,addMedia:null,addNotes:null,addShape:null,addTable:null,addText:null,_name:null,_presLayout:this._presLayout,_rId:null,_rels:[],_relsChart:[],_relsMedia:[],_slideId:null,_slideLayout:null,_slideNum:null,_slideNumberProps:null,_slideObjects:[]}}stream(e){return Rr(this,void 0,void 0,function*(){return yield this.exportPresentation({compression:e==null?void 0:e.compression,outputType:"STREAM"})})}write(e){return Rr(this,void 0,void 0,function*(){const n=typeof e=="object"&&(e!=null&&e.outputType)?e.outputType:e||null,r=typeof e=="object"&&(e!=null&&e.compression)?e.compression:!1;return yield this.exportPresentation({compression:r,outputType:n})})}writeFile(e){return Rr(this,void 0,void 0,function*(){var n,r;const a=typeof process<"u"&&!!(!((n=process.versions)===null||n===void 0)&&n.node)&&((r=process.release)===null||r===void 0?void 0:r.name)==="node";typeof e=="string"&&(console.warn("[WARNING] writeFile(string) is deprecated - pass { fileName } instead."),e={fileName:e});const{fileName:i="Presentation.pptx",compression:s=!1}=e,l=i.toLowerCase().endsWith(".pptx")?i:`${i}.pptx`,c=a?"nodebuffer":null,d=yield this.exportPresentation({compression:s,outputType:c});if(a){const{promises:u}=yield bp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),{writeFile:h}=u;return yield h(l,d),l}return yield this.writeFileToBrowser(l,d),l})}addSection(e){e?e.title||console.warn("addSection requires a title"):console.warn("addSection requires an argument");const n={_type:"user",_slides:[],title:e.title};e.order?this.sections.splice(e.order,0,n):this._sections.push(n)}addSlide(e){const n=typeof e=="string"?e:e!=null&&e.masterName?e.masterName:"";let r={_name:this.LAYOUTS[qo].name,_presLayout:this.presLayout,_rels:[],_relsChart:[],_relsMedia:[],_slideNum:this.slides.length+1};if(n){const i=this.slideLayouts.filter(s=>s._name===n)[0];i&&(r=i)}const a=new U8({addSlide:this.addNewSlide,getSlide:this.getSlide,presLayout:this.presLayout,setSlideNum:this.setSlideNumber,slideId:this.slides.length+256,slideRId:this.slides.length+2,slideNumber:this.slides.length+1,slideLayout:r});if(this._slides.push(a),e!=null&&e.sectionTitle){const i=this.sections.filter(s=>s.title===e.sectionTitle)[0];i?i._slides.push(a):console.warn(`addSlide: unable to find section with title: "${e.sectionTitle}"`)}else if(this.sections&&this.sections.length>0&&!(e!=null&&e.sectionTitle)){const i=this._sections[this.sections.length-1];i._type==="default"?i._slides.push(a):this._sections.push({title:`Default-${this.sections.filter(s=>s._type==="default").length+1}`,_type:"default",_slides:[a]})}return a}defineLayout(e){e?e.name?e.width?e.height?typeof e.height!="number"?console.warn("defineLayout `height` should be a number (inches)"):typeof e.width!="number"&&console.warn("defineLayout `width` should be a number (inches)"):console.warn("defineLayout requires `height`"):console.warn("defineLayout requires `width`"):console.warn("defineLayout requires `name`"):console.warn("defineLayout requires `{name, width, height}`"),this.LAYOUTS[e.name]={name:e.name,_sizeW:Math.round(Number(e.width)*Je),_sizeH:Math.round(Number(e.height)*Je),width:Math.round(Number(e.width)*Je),height:Math.round(Number(e.height)*Je)}}defineSlideMaster(e){const n=JSON.parse(JSON.stringify(e));if(!n.title)throw new Error("defineSlideMaster() object argument requires a `title` value. (https://gitbrent.github.io/PptxGenJS/docs/masters.html)");const r={_margin:n.margin||mu,_name:n.title,_presLayout:this.presLayout,_rels:[],_relsChart:[],_relsMedia:[],_slide:null,_slideNum:1e3+this.slideLayouts.length+1,_slideNumberProps:n.slideNumber||null,_slideObjects:[],background:n.background||null,bkgd:n.bkgd||null};F8(n,r),this.slideLayouts.push(r),(n.background||n.bkgd)&&EI(n.background,r),r._slideNumberProps&&!this.masterSlide._slideNumberProps&&(this.masterSlide._slideNumberProps=r._slideNumberProps)}tableToSlides(e,n={}){M8(this,e,n,n!=null&&n.masterSlideName?this.slideLayouts.filter(r=>r._name===n.masterSlideName)[0]:null)}}const z_=async(t,e={})=>{var m,p,A;const n=new x9;n.layout="LAYOUT_16x9";const r="111827",a="4F46E5",i="374151";let s={},l={};(m=e.templateConfig)!=null&&m.branding&&(console.log("Loading Branding Images for configuration:",e.templateConfig.branding),e.templateConfig.branding.logoId&&(s.logo=await Hs(e.templateConfig.branding.logoId)||void 0,e.templateConfig.branding.logoWidth&&e.templateConfig.branding.logoHeight&&(l.logo={w:e.templateConfig.branding.logoWidth,h:e.templateConfig.branding.logoHeight}),console.log("Logo Loaded:",!!s.logo,l.logo)),e.templateConfig.branding.headerId&&(s.header=await Hs(e.templateConfig.branding.headerId)||void 0),e.templateConfig.branding.footerId&&(s.footer=await Hs(e.templateConfig.branding.footerId)||void 0));const c=g=>{var x,y,w,S,k,P,E;const b=n.addSlide();if(b.color=i,s.header?b.addImage({data:s.header,x:0,y:0,w:"100%",h:1}):(b.addShape(n.ShapeType.rect,{x:9,y:0,w:1,h:.15,fill:{color:a}}),b.addShape(n.ShapeType.rect,{x:9.4,y:0,w:.6,h:.3,fill:{color:a,transparency:50}})),s.footer?b.addImage({data:s.footer,x:0,y:5.625-.8,w:"100%",h:.8}):b.addText("CONFIDENCIAL",{x:.5,y:5.2,fontSize:8,color:"9CA3AF"}),s.logo){const N=((x=l.logo)==null?void 0:x.w)||1.42,C=((y=l.logo)==null?void 0:y.h)||.29;let R=10-N-.3,j=.25;((S=(w=e.templateConfig)==null?void 0:w.branding)==null?void 0:S.logoX)!==void 0&&(R=e.templateConfig.branding.logoX),((P=(k=e.templateConfig)==null?void 0:k.branding)==null?void 0:P.logoY)!==void 0&&(j=e.templateConfig.branding.logoY),b.addImage({data:s.logo,x:R,y:j,w:N,h:C})}if(g){let N=.6,C=.45;if((E=e.templateConfig)!=null&&E.branding){const R=e.templateConfig.branding;R.titleX!==void 0&&(N=R.titleX),R.titleY!==void 0&&(C=R.titleY)}b.addShape(n.ShapeType.rect,{x:N-.2,y:C+.05,w:.08,h:.35,fill:{color:a}}),b.addText(g,{x:N,y:C,w:8,h:.5,fontSize:24,color:r,bold:!0,align:"left",fontFace:"Segoe UI",isTextBox:!0,autoFit:!1})}return b},d=(g,b)=>{const x=[],y=g.split(`
`);return y.forEach((w,S)=>{const k=w.trim();if(k.length===0){S<y.length-1&&x.push({text:"",options:{breakLine:!0,fontSize:b*.5}});return}let P=!1,E=!1,N=0,C=w;if(k.startsWith("#")){const j=k.match(/^(#+)\s+(.*)/);if(j){const _=j[1].length;C=j[2]||"",E=!0,_===1?N=4:_===2?N=2:E=!0}}else if(k.startsWith("-")||k.startsWith("*")){const j=k.match(/^[-*]\s*(.*)/);j&&(P=!0,C=j[1].trim())}const R=C.split(/(\*\*.*?\*\*)/g);R.forEach((j,_)=>{if(!j)return;let D=!1,v=j;j.startsWith("**")&&j.endsWith("**")&&(D=!0,v=j.substring(2,j.length-2));const O={fontSize:b+N,bold:D||E,paraSpaceBefore:0,paraSpaceAfter:0};_===R.length-1&&(O.breakLine=!0),P&&_===0&&(O.bullet={code:"2022"},O.indentLevel=0),x.push({text:v,options:O})})}),x},u=async()=>{var g,b,x,y,w;if(!t.documentation&&e.smartDesign&&((g=e.onStatusUpdate)==null||g.call(e,"AVISO: Documentao ausente. Ignorando slides inteligentes.")),t.documentation){console.log("Docs found:",Object.keys(t.documentation)),console.log("Smart Design Enabled:",e.smartDesign);const S=(b=e.templateConfig)==null?void 0:b.slides.some(j=>{var _;return j.type==="custom"&&((_=j.overlays)==null?void 0:_.some(D=>D.text.toLowerCase().includes("{contexto}")))}),k=["context_overview","technical_solution","implementation_steps","testing_strategy","scope","non_scope"],P=Object.keys(t.documentation),E=k.filter(j=>P.includes(j)),N=P.filter(j=>!k.includes(j)),C=[...E,...N],R=t.documentation;for(const j of C){if(console.log(`Processing Auto Slide: ${j}`),j==="budget")continue;const _=R?R[j]:void 0;if(!_||_.trim().length===0||j==="context_overview"&&S)continue;let D=j.split("_").map(G=>G.charAt(0).toUpperCase()+G.slice(1)).join(" ");const v={context_overview:"Contexto Estratgico",technical_solution:"Soluo Tcnica",implementation_steps:"Estratgia de Implementao",testing_strategy:"Plano de Testes",scope:"Detalhamento de Escopo (Quantitativo)",non_scope:"No Escopo (Fora do Permetro)"};if(v[j]&&(D=v[j]),e.smartDesign)try{const G=`Agente de Layout (IA): ${D}`;(x=e.onStatusUpdate)==null||x.call(e,G);const Q=j==="context_overview"?"context":"standard",H=await xr.optimizeContentForSlide(_,Q);if((await xr.distributeContentAcrossSlides(H,j)).forEach((X,K)=>{const ce=K===0?D:`${D} ${X.title_suffix}`,ie=c(ce);if(X.summary&&X.left_column&&X.right_column){ie.addText(X.summary,{x:.5,y:1,w:"90%",h:.8,fontSize:14,color:i,bold:!0,valign:"top",align:"left",fill:{color:"F5F5F5"},paraSpaceBefore:0,paraSpaceAfter:0});const oe=d(X.left_column,X.font_size||10);ie.addText(oe,{x:.5,y:2,w:4.3,h:3.5,color:i,valign:"top",align:"justify",paraSpaceBefore:0,paraSpaceAfter:0});const pe=d(X.right_column,X.font_size||10);ie.addText(pe,{x:5.1,y:2,w:4.3,h:3.5,color:i,valign:"top",align:"justify",paraSpaceBefore:0,paraSpaceAfter:0})}else{const oe=d(X.content||"",X.font_size||11);j==="context_overview"?(ie.addText(oe,{x:.5,y:1.2,w:"45%",h:4,color:i,align:"justify",valign:"top",paraSpaceBefore:0,paraSpaceAfter:0}),K===0&&ie.addText("Espao para Diagrama / Imagem",{x:5.5,y:1.2,w:"40%",h:3.5,fontSize:14,color:"AAAAAA",align:"center",shape:n.ShapeType.rect,fill:{color:"FFFFFF"},line:{color:"DDDDDD",dashType:"dash"}})):ie.addText(oe,{x:.5,y:1.2,w:"90%",h:4,color:i,valign:"top",paraSpaceBefore:0,paraSpaceAfter:0})}}),j==="technical_solution"){(y=e.onStatusUpdate)==null||y.call(e,"Gerando Arquitetura de Soluo (IA Image)...");try{const X=_,K=await xr.generateArchitecturePrompt(X);console.log("Architecture Prompt Generated:",K);const ce=await xr.generateImage(K),ie=`
                                    Analise a seguinte soluo tcnica e gere um resumo explicativo conciso para acompanhar o diagrama de arquitetura.
                                    Foque nos 3 ou 4 pilares principais da tecnologia escolhida.
                                    Use bullet points curtos.
                                    Limite total: 600 caracteres.
                                    
                                    Contexto:
                                    ${X}
                                `,oe=await xr.optimizeContentForSlide(X,"Summarize as 3-5 bullet points for a sidebar text box next to a diagram. Max 500 chars."),pe=c("Arquitetura da Soluo");pe.addImage({data:ce,x:3.5,y:1.2,w:6,h:3.37});const Pe=d(oe,10);pe.addText(Pe,{x:.5,y:1.2,w:2.8,h:3.4,fontSize:10,color:i,align:"left",valign:"top",paraSpaceBefore:5}),pe.addText(`Prompt IA: ${K.substring(0,100)}...`,{x:.5,y:5.4,w:9,h:.2,fontSize:8,color:"999999"})}catch(X){console.error("Architecture Gen Failed",X),c("Arquitetura da Soluo").addText(`No foi possvel gerar a imagem de arquitetura.
Erro: ${X.message}`,{x:.5,y:2,w:9,fontSize:12,color:"FF0000",align:"center"})}}continue}catch(G){console.error(`Smart Slide verification failed for ${D}, using raw content.`,G);const Q=(G==null?void 0:G.message)||"Erro desconhecido";(w=e.onStatusUpdate)==null||w.call(e,`Aviso IA: ${Q}. Usando texto original...`),await new Promise(H=>setTimeout(H,1500))}const O=c(D),V=d(_,10);j==="context_overview"?(O.addText(V,{x:.5,y:1.2,w:"45%",h:4,color:i,align:"justify",valign:"top",paraSpaceBefore:0,paraSpaceAfter:0}),O.addText("Espao para Diagrama / Imagem",{x:5.5,y:1.2,w:"40%",h:3.5,fontSize:14,color:"AAAAAA",align:"center",shape:n.ShapeType.rect,fill:{color:"FFFFFF"},line:{color:"DDDDDD",dashType:"dash"}})):O.addText(V,{x:.5,y:1.2,w:"90%",h:4,color:i,valign:"top",paraSpaceBefore:0,paraSpaceAfter:0})}}if(t.technicalPremises&&t.technicalPremises.length>0){const S=c("Premissas Tcnicas e Restries"),k=t.technicalPremises.map(P=>({text:P,options:{fontSize:10,breakLine:!0,bullet:{code:"2022"},paraSpaceBefore:0,paraSpaceAfter:0}}));S.addText(k,{x:.5,y:1.2,w:"90%",color:i,valign:"top"})}if(t.raciMatrix&&t.raciMatrix.length>0){const S=c("Matriz de Responsabilidades (RACI)"),k=[[{text:"Atividade",options:{bold:!0,fill:a,color:"FFFFFF"}},{text:"Responsvel (R)",options:{bold:!0,fill:a,color:"FFFFFF"}},{text:"Aprovador (A)",options:{bold:!0,fill:a,color:"FFFFFF"}},{text:"Consultado (C)",options:{bold:!0,fill:a,color:"FFFFFF"}},{text:"Informado (I)",options:{bold:!0,fill:a,color:"FFFFFF"}}]];t.raciMatrix.forEach(P=>{k.push([{text:P.activity_group,options:{fontSize:10}},{text:P.responsible,options:{fontSize:10}},{text:P.accountable,options:{fontSize:10}},{text:P.consulted,options:{fontSize:10}},{text:P.informed,options:{fontSize:10}}])}),S.addTable(k,{x:.5,y:1.2,w:9,colW:[4,1.25,1.25,1.25,1.25],fontSize:10,border:{pt:1,color:"DDDDDD"},autoPage:!0,rowH:.4})}if(t.teamStructure&&t.teamStructure.length>0){const S=c("Estrutura de Equipe Sugerida"),k=[[{text:"Papel / Especialista",options:{bold:!0,fill:a,color:"FFFFFF"}},{text:"Qtd",options:{bold:!0,fill:a,color:"FFFFFF",align:"center"}},{text:"Responsabilidades Chave",options:{bold:!0,fill:a,color:"FFFFFF"}}]];t.teamStructure.forEach(P=>{k.push([{text:P.role,options:{fontSize:10,bold:!0,fill:"F3F4F6",color:r}},{text:P.quantity.toString(),options:{fontSize:10,align:"center"}},{text:P.responsibilities.join(", "),options:{fontSize:10}}])}),S.addTable(k,{x:.25,y:1.1,w:9.5,colW:[3,.8,5.7],fontSize:10,border:{pt:1,color:"E5E7EB"},rowH:.35,autoPage:!0,autoPageCharWeight:.1,autoPageLineWeight:.5}),S.addText("Nota: A alocao considera dedicao varivel conforme a fase do projeto. O dimensionamento final pode ser ajustado na etapa de contrato.",{x:.5,y:5.3,w:9,h:.3,fontSize:8,color:"9CA3AF",italic:!0})}if(t.clientResponsibilities&&t.clientResponsibilities.length>0){const S=c("Responsabilidades do Cliente"),k=[[{text:"Ao Necessria",options:{bold:!0,fill:a,color:"FFFFFF"}},{text:"Prazo / Marco",options:{bold:!0,fill:a,color:"FFFFFF"}},{text:"Impacto no Projeto",options:{bold:!0,fill:a,color:"FFFFFF"}}]];t.clientResponsibilities.forEach(P=>{k.push([{text:P.action_item,options:{fontSize:10}},{text:P.deadline_description,options:{fontSize:10}},{text:P.impact,options:{fontSize:10,bold:!0,color:P.impact==="BLOCKER"?"DC2626":"000000"}}])}),S.addTable(k,{x:.5,y:1.2,w:9,fontSize:10,border:{pt:1,color:"DDDDDD"},rowH:.5})}if(e.tasks&&e.tasks.length>0){const S=c("Cronograma Macro (Editvel)"),k=e.tasks.filter(P=>P.type==="project"||!P.parent).sort((P,E)=>(P.order||0)-(E.order||0));if(k.length>0){const P=e.viewMode==="Week",E=k.filter(Ae=>!Ae.id.includes("phase-mgmt")),N=new Date(Math.min(...E.map(Ae=>new Date(Ae.start).getTime()))),C=new Date(Math.max(...E.map(Ae=>new Date(Ae.end).getTime())));N.setDate(N.getDate()-5),C.setDate(C.getDate()+10),(C.getTime()-N.getTime())/(1e3*3600*24);const R=.5,j=1.3,_=9,D=2.5,v=P?.7:.6,O=.5,V=j,G=V+O,Q=["4F46E5","4338CA","6366F1","818CF8","3730A3","312E81"],H=E.reduce((Ae,xe)=>Ae+Fr(new Date(xe.start),new Date(xe.end))*8,0),ne=E.reduce((Ae,xe)=>Ae+Fr(new Date(xe.start),new Date(xe.end)),0);S.addShape(n.ShapeType.rect,{x:R,y:1.25,w:D,h:.8,fill:{color:"F3F4F6"}}),S.addText(`Total Estimado:
${ne} dias teis / ${H}h`,{x:R,y:1.3,w:D,h:.7,fontSize:10,bold:!0,align:"center",color:"1F2937"});const X=C.getTime()-N.getTime(),K=(_-D)/(X/(1e3*3600*24));let ce=new Date(N),ie=0;for(;;){const Ae=new Date(ce);P?Ae.setDate(Ae.getDate()+7):Ae.setMonth(Ae.getMonth()+1);const I=Math.max(0,ce.getTime()-N.getTime())/(1e3*3600*24),Y=R+D+I*K;if(Y>R+_-.05)break;const F=(Ae.getTime()-ce.getTime())/(1e3*3600*24)*K,B=["D0E1F2","B4D5E6","E1EFF9","C8DEEF"],z=B[ie%B.length];S.addShape(n.ShapeType.rect,{x:Y,y:V,w:F,h:O,fill:{color:z},line:{color:"FFFFFF",width:1}});let J=P?ce.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}):`${ce.toLocaleDateString("pt-BR",{month:"short"}).toUpperCase().replace(".","")}/${ce.toLocaleDateString("pt-BR",{year:"2-digit"})}`;S.addText(J,{x:Y+F/2-.69/2,y:V+O/2-.21/2,w:.69,h:.21,fontSize:9,color:"374151",rotate:270,align:"center",valign:"middle"}),S.addShape(n.ShapeType.line,{x:Y,y:G,w:0,h:E.length*v+.1,line:{color:"E5E7EB",width:1}}),ce=Ae,ie++}E.forEach((Ae,xe)=>{const I=G+xe*v,Y=Q[xe%Q.length];xe%2===0&&S.addShape(n.ShapeType.rect,{x:R,y:I,w:_,h:v,fill:{color:"F9FAFB"}});const q=(xe+1).toString();S.addShape(n.ShapeType.ellipse,{x:R+.05,y:I+.05,w:.3,h:.3,fill:{color:Y}}),S.addText(q,{x:R+.05,y:I+.05,w:.3,h:.3,fontSize:9,bold:!0,color:"FFFFFF",align:"center",valign:"middle"}),S.addText(Ae.name,{x:R+.4,y:I,w:D-.45,h:v,fontSize:10,bold:!0,color:"374151",valign:"middle"});let F=new Date(Ae.start),B=new Date(Ae.end);F<N&&(F=N),B>C&&(B=C);const z=(F.getTime()-N.getTime())/(1e3*3600*24),J=(B.getTime()-F.getTime())/(1e3*3600*24),$=R+D+z*K;let U=J*K;U<.1&&(U=.1),S.addShape(n.ShapeType.rect,{x:$,y:I+v/2-.08,w:U,h:.16,fill:{color:Y}});const te=Fr(F,B),Z=te*8,re=`${te} dias / ${Z}h`;S.addText(re,{x:$,y:I-.05,w:Math.max(1.5,U),h:.2,fontSize:8,color:"6B7280",align:"left",bold:!0}),F>=N&&S.addShape(n.ShapeType.ellipse,{x:$-.08,y:I+v/2-.08,w:.16,h:.16,line:{color:Y,width:2},fill:{color:"FFFFFF"}}),B<=C&&S.addShape(n.ShapeType.ellipse,{x:$+U-.08,y:I+v/2-.08,w:.16,h:.16,fill:{color:Y}})});const oe=G+k.length*v+.4;S.addText("Proposta de Faturamento (Marcos de Entrega)",{x:R,y:oe,w:5,h:.3,fontSize:12,bold:!0,color:"003B5C"});const pe=oe+.35;S.addShape(n.ShapeType.rect,{x:R,y:pe,w:4.8,h:.25,fill:{color:"E5E7EB"}}),S.addText("Marco",{x:R+.1,y:pe,w:2.3,h:.25,fontSize:8,bold:!0,color:"374151"}),S.addText("Data Estimada",{x:R+2.4,y:pe,w:1.5,h:.25,fontSize:8,bold:!0,color:"374151"}),S.addText("% Fat.",{x:R+3.9,y:pe,w:.9,h:.25,fontSize:8,bold:!0,color:"374151",align:"center"});let Pe=pe+.25,ye=[];if(k.length===4)ye=[10,25,45,20];else{const Ae=Math.floor(100/k.length);ye=Array(k.length).fill(Ae);const xe=ye.reduce((I,Y)=>I+Y,0);xe<100&&(ye[ye.length-1]+=100-xe)}k.forEach((Ae,xe)=>{const Y=new Date(Ae.end).toLocaleDateString("pt-BR"),q=ye[xe]||0;S.addShape(n.ShapeType.line,{x:R,y:Pe+.25,w:4.8,h:0,line:{color:"D1D5DB"}}),S.addText(`${xe+1}. ${Ae.name}`,{x:R+.1,y:Pe,w:2.3,h:.25,fontSize:8,color:"4B5563"}),S.addText(Y,{x:R+2.4,y:Pe,w:1.5,h:.25,fontSize:8,color:"4B5563"}),S.addText(`${q}%`,{x:R+3.9,y:Pe,w:.9,h:.25,fontSize:8,color:"4B5563",align:"center"}),Pe+=.25});const ge=R+5.2,Se=_-5.2;S.addText("Consideraes do Planejamento:",{x:ge,y:oe,w:Se,h:.3,fontSize:12,bold:!0,color:"003B5C"}),S.addText(`Este cronograma macro apresenta uma viso executiva e no exaustiva das atividades previstas. As datas e duraes so estimativas preliminares que podero sofrer ajustes conforme o aprofundamento tcnico realizado na fase de 'Planejamento e Anlise'.

A validao final deste plano depender do detalhamento dos requisitos e da confirmao de premissas junto  equipe do cliente, garantindo a conformidade com os objetivos de negcio.`,{x:ge,y:pe,w:Se,h:1.5,fontSize:8,color:"4B5563",align:"justify",valign:"top"})}}};console.log("Starting PPT Generation with options:",e);const h=((p=e.templateConfig)==null?void 0:p.slides)||[{id:"auto",type:"automatic",name:"Standard"}];console.log("Slides to generate:",h);for(const g of h)if(console.log(`Processing slide: ${g.name} (${g.type})`),g.type==="custom"&&g.imageId){console.log(`Attempting to retrieve image: ${g.imageId}`);try{const b=await Hs(g.imageId);if(b){console.log("Image retrieved successfully. Adding slide.");const x=n.addSlide();if(x.background={data:b},g.overlays&&g.overlays.length>0)try{const y=t.clientName||"Cliente",w=t.name||"Projeto",S=new Date().toLocaleDateString("pt-BR"),k=((A=t.documentation)==null?void 0:A.context_overview)||"";g.overlays.forEach(P=>{var R;let E=P.text||"";E=E.replace(/{cliente}/gi,y),E=E.replace(/{projeto}/gi,w),E=E.replace(/{data}/gi,S),E=E.replace(/{contexto}/gi,k);const N=((R=t.documentation)==null?void 0:R.budget)||"";E=E.replace(/\[budget\]/gi,N);const C=d(E,P.fontSize);x.addText(C,{x:P.x,y:P.y,w:P.width&&P.width>0?P.width:void 0,h:P.height&&P.height>0?P.height:void 0,color:P.color,fontFace:"Arial",wrap:!!(P.width&&P.width>0)})})}catch(y){console.error("Error adding overlays:",y)}}else console.error(`Image not found in DB for key: ${g.imageId}`),n.addSlide().addText(`AVISO: Imagem no encontrada (ID: ${g.imageId})`,{x:.5,y:.5,fontSize:14,color:"FF0000"})}catch(b){console.error("Error retrieving image from DB:",b),n.addSlide().addText("ERRO: Falha ao carregar imagem",{x:.5,y:.5,fontSize:14,color:"FF0000"})}}else g.type==="automatic"&&(console.log("Generating automatic project content..."),await u());console.log("Writing file..."),n.writeFile({fileName:`Proposta_${t.name}.pptx`})},V_=t=>t?t instanceof Date?t:t&&typeof t=="object"&&typeof t.toDate=="function"?t.toDate():new Date(t):new Date,y9=({isOpen:t,onClose:e,tasks:n,resources:r})=>{if(!t)return null;const i=n.map(s=>({...s,clientBlockages:s.clientBlockages||[]})).filter(s=>s.clientBlockages.length>0).flatMap(s=>{let l=s.hourlyRate||0;if(l===0&&s.resourceId&&r.length>0){const c=r.find(d=>d.id===s.resourceId);c&&(l=c.hourlyRate)}return s.clientBlockages.map(c=>{const d=V_(c.start),u=c.end?V_(c.end):new Date,h=!c.end,p=Math.max(0,Fr(d,u))*8,A=p*l;return{taskId:s.id,taskName:s.name,...c,start:d,end:c.end?u:void 0,rate:l,isOngoing:h,hoursBlocked:p,estimatedCost:A}})}).sort((s,l)=>l.start.getTime()-s.start.getTime());return o.jsx("div",{className:"fixed inset-0 bg-black/50 z-[70] flex items-center justify-center backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[80vh] flex flex-col animate-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"px-6 py-5 border-b border-gray-100 flex justify-between items-center bg-red-50 rounded-t-xl",children:[o.jsxs("h2",{className:"text-xl font-bold text-red-700 flex items-center gap-2",children:[o.jsx(Bl,{className:"text-red-600"}),"Histrico de Bloqueios pelo Cliente"]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-red-100 rounded-full text-red-400 hover:text-red-700 transition-colors",children:o.jsx(yr,{size:20})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i.length===0?o.jsx("div",{className:"text-center text-gray-400 py-10",children:"Nenhum bloqueio registrado."}):o.jsx("div",{className:"space-y-4",children:i.map(s=>o.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm hover:border-red-200 transition-colors",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded ${s.isOngoing?"bg-red-600 text-white animate-pulse":"bg-gray-100 text-gray-600"}`,children:s.isOngoing?"Ativo":"Finalizado"}),o.jsx("h4",{className:"font-bold text-gray-900",children:s.taskName})]}),o.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[o.jsx("span",{className:"font-semibold text-gray-700",children:"Motivo:"})," ",s.reason]}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(lo,{size:12})," Incio: ",Pt(s.start,"dd/MM/yyyy")]}),s.end&&o.jsxs("span",{className:"flex items-center gap-1",children:["Fim: ",Pt(s.end,"dd/MM/yyyy")]})]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-1 border-t md:border-t-0 md:border-l border-gray-100 pt-3 md:pt-0 md:pl-4 min-w-[150px] justify-center text-right",children:[o.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Impacto Gerado"}),o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsxs("span",{className:"text-lg font-bold text-red-700",children:[s.hoursBlocked,"h"]}),o.jsx("span",{className:"text-sm font-medium text-red-500",children:s.estimatedCost.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]})]})},s.id))})}),o.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50 rounded-b-xl flex justify-end",children:o.jsx("button",{onClick:e,className:"px-4 py-2 bg-white border border-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"Fechar"})})]})})},Ba=(t,e)=>!t||!e?0:Fr(t,e),v9=(t,e,n)=>{var j;if(t.length===0)return{totalCost:0,totalRealCost:0,progress:0,plannedProgress:0,totalDuration:0,totalRealDuration:0,spi:0,cpi:0};let r=new Date(864e13),a=new Date(-864e13),i=new Date(864e13),s=new Date(-864e13),l=0,c=0,d=0,u=0,h=0,m=0,p=0;const A=t.filter(_=>_.type!=="project"&&!t.some(D=>D.parent===_.id)),g=t.filter(_=>!_.parent||!t.find(D=>D.id===_.parent));if(A.length===0&&g.length===0)return{totalCost:0,totalRealCost:0,progress:0,plannedProgress:0,totalDuration:0,totalRealDuration:0,spi:0,cpi:0};const b=new Date;b.setHours(12,0,0,0);const x=g.reduce((_,D)=>_+Math.max(1,Ba(D.start,D.end)),0);if(A.forEach(_=>{const D=_.start.getTime(),v=_.end.getTime();D<r.getTime()&&(r=_.start),v>a.getTime()&&(a=_.end),_.realStart&&_.realStart.getTime()<i.getTime()&&(i=_.realStart),_.realEnd&&_.realEnd.getTime()>s.getTime()&&(s=_.realEnd);const O=Math.max(1,Ba(_.start,_.end));let V=0;const G=new Date(_.start);G.setHours(12,0,0,0);const Q=new Date(_.end);if(Q.setHours(12,0,0,0),md(G,b))V=0;else if(md(b,Q))V=1;else{const ne=Ba(G,b);V=Math.min(1,Math.max(0,ne/O))}h+=O,m+=O*((_.progress||0)/100),p+=O*V;let H=_.hourlyRate||0;if(H>0){const ne=O*8*H;if(n||(l+=ne),d+=ne*((_.progress||0)/100),_.realStart&&_.realEnd){const X=Ba(_.realStart,_.realEnd);c+=X*8*H}u+=ne*V}}),n){const _=((j=n.monthlyCosts)==null?void 0:j.reduce((v,O)=>v+(O.cost||0),0))||0;let D=0;n.otherCosts&&(D=n.otherCosts.reduce((v,O)=>{const V=Object.values(O.values).reduce((G,Q)=>G+Q,0);return v+V},0)),l=_+D}const y=Ba(r,a);let w=0;s.getTime()>-864e13&&i.getTime()<864e13&&(w=Ba(i,s));let S=0,k=0;const P=A.reduce((_,D)=>{let v=D.hourlyRate||0;if(!v&&D.resourceId&&e.length>0){const O=e.find(V=>V.id===D.resourceId);O&&(v=O.hourlyRate)}return _+Ba(D.start,D.end)*8*v},0);P>0?(S=Math.round(d/P*100),k=Math.round(u/P*100)):(S=Math.round(m/h*100),k=Math.round(p/h*100));const E=c>0?u/c:1,N=u>0?d/u:1;let C=0,R=0;return t.forEach(_=>{if(_.clientBlockages&&_.clientBlockages.length>0){let D=_.hourlyRate||0;if(D===0&&_.resourceId&&e.length>0){const v=e.find(O=>O.id===_.resourceId);v&&(D=v.hourlyRate)}_.clientBlockages.forEach(v=>{const O=ne=>ne?ne instanceof Date?ne:typeof ne.toDate=="function"?ne.toDate():new Date(ne):new Date,V=O(v.start),G=v.end?O(v.end):new Date;if(isNaN(V.getTime())||isNaN(G.getTime())||md(V,G))return;const H=Ba(V,G)*8;C+=H,R+=H*D})}}),{totalCost:l,totalRealCost:c,progress:Math.min(100,S),plannedProgress:Math.min(100,k),totalDuration:x>0?x:y,totalRealDuration:w,spi:N,cpi:E,startDate:r.getTime()!==864e13?r:void 0,endDate:a.getTime()!==-864e13?a:void 0,plannedDurationToDate:Math.round(p),realDurationToDate:Math.round(m),plannedCostToDate:u,realCostToDate:c,totalClientBlockageCost:R,totalClientBlockageHours:C}},b9=[{id:"res-1",name:"Andre Senior",role:"Architect",hourlyRate:150,avatarUrl:""},{id:"res-2",name:"Beatriz Dev",role:"Frontend",hourlyRate:90,avatarUrl:""},{id:"res-3",name:"Carlos UX",role:"Designer",hourlyRate:85,avatarUrl:""}],U_=[{id:"project-1",type:"project",name:"Plataforma SaaS MVP",start:new Date,end:new Date,progress:0,isDisabled:!1,parent:null,dependencies:[],styles:{progressColor:"#ffbb54",backgroundColor:"#ffbb54"}},{id:"step-1",type:"task",name:"Requisitos e Planejamento",start:new Date(Date.now()),end:new Date(Date.now()+2*24*60*60*1e3),progress:100,parent:"project-1",dependencies:[],resourceId:"res-1"},{id:"step-2",type:"task",name:"Sistema de Design UI",start:new Date(Date.now()+2*24*60*60*1e3),end:new Date(Date.now()+6*24*60*60*1e3),progress:40,dependencies:["step-1"],parent:"project-1",resourceId:"res-3"},{id:"step-3",type:"task",name:"Ncleo Frontend",start:new Date(Date.now()+6*24*60*60*1e3),end:new Date(Date.now()+12*24*60*60*1e3),progress:10,dependencies:["step-2"],parent:"project-1",resourceId:"res-2"},{id:"milestone-alpha",type:"milestone",name:"Lanamento Alpha",start:new Date(Date.now()+13*24*60*60*1e3),end:new Date(Date.now()+13*24*60*60*1e3),progress:0,dependencies:["step-3"],parent:"project-1",styles:{backgroundColor:"#ef4444",backgroundSelectedColor:"#ef4444"}}];function w9(){var La,Gn,Gr,gi,pr;const{user:t,loading:e,logout:n,isAdmin:r}=My(),[a,i]=L.useState([]),[s,l]=L.useState(b9),[c,d]=L.useState(!1),[u,h]=L.useState(null),[m,p]=L.useState(navigator.onLine),[A,g]=L.useState("clients_manage"),[b,x]=L.useState("schedule"),[y,w]=L.useState(Qe.Year),[S,k]=L.useState(!1),[P,E]=L.useState(!1),[N,C]=L.useState(!1),[R,j]=L.useState(!1),[_,D]=L.useState(!1),[v,O]=L.useState("1"),[V,G]=L.useState([]),[Q,H]=L.useState(null),[ne,X]=L.useState(!1),[K,ce]=L.useState(!1),[ie,oe]=L.useState(!1),[pe,Pe]=L.useState(""),ye=(ee,ae)=>{const de=Ae.find(Ce=>Ce.id===v);if(de&&de.documentation){const Ce={...de.documentation,[ee]:ae},Ee={...de,documentation:Ce};xe(qe=>qe.map(Le=>Le.id===de.id?Ee:Le)),ut.updateProject(de.id,{documentation:Ce}),H(null)}},ge=ee=>{if(!confirm("Tem certeza que deseja remover este bloco de documentao?"))return;const ae=Ae.find(de=>de.id===v);if(ae&&ae.documentation){const de={...ae.documentation};delete de[ee];const Ce={...ae,documentation:de};xe(Ee=>Ee.map(qe=>qe.id===ae.id?Ce:qe)),ut.updateProject(ae.id,{documentation:de})}},Se=ee=>{const ae=Ae.find(de=>de.id===v);if(ae){const de=ee.split(`
`).map(Ee=>Ee.replace(/^-\s*/,"").trim()).filter(Ee=>Ee.length>0),Ce={...ae,technicalPremises:de};xe(Ee=>Ee.map(qe=>qe.id===ae.id?Ce:qe)),ut.updateProject(ae.id,{technicalPremises:de}),X(!1)}},ve=async()=>{var ae;const ee=Ae.find(de=>de.id===v);if(!ee||!((ae=ee.documentation)!=null&&ae.technical_solution)){alert(" necessrio ter a 'Soluo Tcnica' preenchida na documentao para gerar a arquitetura.");return}ce(!0);try{console.log("Generating Architecture Prompt...");const de=await xr.generateArchitecturePrompt(ee.documentation.technical_solution);console.log("Prompt generated:",de),console.log("Generating Image...");const Ce=await xr.generateImage(de);console.log("Image generated.");const Ee={...ee,architectureImage:Ce};xe(qe=>qe.map(Le=>Le.id===ee.id?Ee:Le)),await ut.updateProject(ee.id,{architectureImage:Ce})}catch(de){console.error(de),alert("Erro ao gerar arquitetura: "+de.message)}finally{ce(!1)}};L.useEffect(()=>{document.title="UERJ-FAF 2025"},[]),L.useEffect(()=>{const ee=async()=>{if(!navigator.onLine){p(!1);return}try{await fetch("https://www.google.com/favicon.ico?"+Date.now(),{mode:"no-cors",cache:"no-store"}),p(!0)}catch{p(!1)}};ee();const ae=setInterval(ee,5e3),de=()=>ee(),Ce=()=>p(!1);return window.addEventListener("online",de),window.addEventListener("offline",Ce),()=>{clearInterval(ae),window.removeEventListener("online",de),window.removeEventListener("offline",Ce)}},[]);const[Ae,xe]=L.useState([]);L.useEffect(()=>{if(!t){xe([]),tt([]);return}const ee=ut.subscribeProjects(de=>{xe(de)},t.uid,t.role),ae=ut.subscribeClients(de=>{tt(de)},t.uid,t.role);return()=>{ee(),ae()}},[t]);const I=async ee=>{if(t)try{await ut.createProject({...ee,createdAt:new Date,ownerId:t.uid})}catch(ae){console.error("Error creating project:",ae)}},Y=async ee=>{try{await ut.deleteProject(ee)}catch(ae){console.error("Error deleting project:",ae)}},q=async ee=>{try{const{id:ae,...de}=ee;await ut.updateProject(ae,de)}catch(ae){console.error("Error updating project:",ae)}},{tasks:F,addTask:B,updateTask:z,deleteTask:J,handleMoveTask:$,indentTask:U,outdentTask:te,reorderTasks:Z}=y8(a),[re,fe]=L.useState(!1),[Te,Ne]=L.useState(!1),[$e,pt]=L.useState(void 0),[ot,Be]=L.useState(void 0);L.useEffect(()=>{const ee=v||"1";let ae;try{ae=ut.subscribeTasks(ee,Ce=>{Ce.length>=0&&(i(Ce),d(!0),h(null))})}catch(Ce){console.error("Firebase connection error",Ce),i(U_.filter(Ee=>Ee.projectId===ee))}const de=ut.subscribeResources(Ce=>{Ce.length>0&&l(Ce)});return()=>{ae&&ae(),de()}},[v]);const Ue=ee=>{let ae=new Date(ee.start),de=new Date(ee.end);const Ce=vp(ae);if(Ce.getTime()!==ae.getTime()){const Le=Ce.getTime()-ae.getTime();ae=Ce,de=new Date(de.getTime()+Le)}const Ee={...ee,start:ae,end:de},qe=F.find(Le=>Le.id===Ee.id);qe&&(qe.start.getTime()!==Ee.start.getTime()||qe.end.getTime()!==Ee.end.getTime())?$(Ee.id,Ee.start,Ee.end):z(Ee),ut.updateTask(Ee.id,{start:Ee.start,end:Ee.end,realStart:Ee.realStart||null,realEnd:Ee.realEnd||null,progress:Ee.progress||0,name:Ee.name||"",dependencies:Ee.dependencies||[],resourceId:Ee.resourceId||"",type:Ee.type||"task",parent:Ee.parent}).then(()=>{if(v){const Le=a.filter(Dt=>Dt.projectId===v).map(Dt=>Dt.id===Ee.id?Ee:Dt);ut.recalculateProjectSchedule(v,Le).catch(Dt=>console.error("Auto-schedule failed:",Dt))}}).catch(Le=>console.error("Failed to update task in DB:",Le))},nt=async(ee,ae)=>{const de=ae!==void 0?ae||void 0:ot;if(!c){B(ee,de);return}try{await ut.addTask(ee)}catch(Ce){console.error("Failed to add task",Ce),B(ee,de)}},It=async ee=>{if(J(ee),c)try{await ut.deleteTask(ee)}catch(ae){console.error("Failed to delete task in DB",ae)}},mt=ee=>{typeof ee=="object"&&(ee=void 0),Be(ee);let ae;if(ee){const de=F.find(Ce=>Ce.id===ee);de&&(ae=de.parent)}pt({parent:ae}),fe(!0)},Nt=ee=>{if(ee.id)Ue(ee);else{const ae=F.length>0?Math.max(...F.map(Ce=>Ce.order||0)):0,de={...ee,order:ae+1,type:ee.type||"task",projectId:v||"1",parent:ee.parent||null};nt(de)}fe(!1)},ze=(ee,ae)=>{if(Z(ee,ae),c){const de=ee.map((Ce,Ee)=>({id:Ce.id,data:{order:Ee}}));ut.batchUpdateTasks(de).catch(console.error)}},[gt,vt]=L.useState(new Date().getFullYear().toString()),[dt,tt]=L.useState([]),[Oe,lt]=L.useState(null),[Ft,_t]=L.useState([]);L.useEffect(()=>{if(!Oe){_t([]);return}c?ut.getKnowledgeBase(Oe).then(_t).catch(console.error):_t([])},[Oe,c]),L.useEffect(()=>{if(A==="clients_manage"||A==="global_projects")lt(null),O(null);else if(A.startsWith("client_")){let ee="";A.endsWith("_reports")?ee=A.replace("client_","").replace("_reports",""):A.endsWith("_my_projects")&&(ee=A.replace("client_","").replace("_my_projects","")),ee&&(lt(ee),O(null))}else if(A.startsWith("project_")){let ee="";if(A.endsWith("_dashboard")?ee=A.replace("project_","").replace("_dashboard",""):A.endsWith("_gantt")&&(ee=A.replace("project_","").replace("_gantt","")),ee){O(ee);const ae=Ae.find(de=>de.id===ee);ae&&ae.clientId&&lt(ae.clientId)}}},[A,Ae]);const Ot=async ee=>{if(t)try{await ut.createClient({...ee,ownerId:t.uid})}catch(ae){console.error("Error creating client:",ae)}},un=async ee=>{try{const ae=await _8(ee);if(console.log("Tarefas Importadas:",ae),v){if(confirm(`Importar "${ee.name}" substituir todas as tarefas do projeto atual. Deseja continuar?`)){const de=Ae.find(Ce=>Ce.id===v);de&&(await ut.replaceProjectTasks(de.id,ae),alert(`Sucesso! ${ae.length} tarefas importadas.`))}}else alert("Por favor, abra um projeto antes de importar um arquivo .XML do MS Project.")}catch(ae){console.error(ae),alert("Erro ao importar projeto: "+ae.message)}},Tr=()=>{if(!v)return;const ee=Ae.find(de=>de.id===v);if(!ee)return;const ae=a.filter(de=>de.projectId===v);C8(ee,ae)},At=async()=>{if(!v)return;const ee=Ae.find(ae=>ae.id===v);if(ee){oe(!0),Pe("Inicializando motor de apresentao...");try{const ae=a.filter(qe=>qe.projectId===v);let de;try{const qe=localStorage.getItem("PPT_TEMPLATE_CONFIG");qe?(de=JSON.parse(qe),console.log("Loaded Template Config:",de)):console.warn("No Template Config found in localStorage")}catch(qe){console.error("Error parsing PPT template config",qe)}const Ce=document.getElementById("gantt-chart-area"),Ee=localStorage.getItem("PPT_SMART_DESIGN_ENABLED")==="true";Ce?await z_(ee,{includeGantt:!0,ganttElementId:"gantt-chart-area",tasks:ae,viewMode:y,templateConfig:de,smartDesign:Ee,onStatusUpdate:qe=>Pe(qe)}):confirm("Visualizao do Cronograma no encontrada (Necessrio estar na aba 'Contronograma' para captura de imagem). Deseja gerar a proposta apenas com o Roadmap Macro nativo?")&&await z_(ee,{includeGantt:!1,tasks:ae,templateConfig:de,smartDesign:Ee,onStatusUpdate:qe=>Pe(qe)})}catch(ae){console.error(ae),alert("Erro ao gerar proposta: "+ae.message)}finally{oe(!1)}}},Un=async ee=>{try{const{id:ae,...de}=ee;if(Object.keys(de).forEach(Ce=>de[Ce]===void 0&&delete de[Ce]),!ae){alert("Erro: ID do cliente no encontrado.");return}await ut.updateClient(ae,de)}catch(ae){console.error("Error updating client:",ae),alert("Erro ao salvar: "+(ae.message||"Erro desconhecido"))}},mn=async ee=>{try{await ut.deleteClient(ee)}catch(ae){console.error("Error deleting client:",ae)}},kt=(()=>{if(A==="clients_manage")return"clients_manage";if(A==="global_projects")return"my_projects";if(A==="team")return"team";if(A==="settings")return"settings";if(A.startsWith("client_")){if(A.endsWith("_reports"))return"reports";if(A.endsWith("_my_projects"))return"my_projects"}if(A.startsWith("project_")){if(A.endsWith("_dashboard"))return"dashboard";if(A.endsWith("_gantt"))return"gantt"}return"unknown"})();L.useEffect(()=>{if(kt!=="reports"||!Oe)return;const ee=Ae.filter(Ce=>Ce.clientId===Oe);if(ee.length===0){G([]);return}const ae=[],de=new Map;return ee.forEach(Ce=>{try{const Ee=ut.subscribeTasks(Ce.id,qe=>{de.set(Ce.id,qe);const Le=Array.from(de.values()).flat();G(Le)});ae.push(Ee)}catch(Ee){console.error("Error aggregating project",Ce.id,Ee);const qe=U_.filter(Le=>Le.projectId===Ce.id);qe.length>0&&(de.set(Ce.id,qe),G(Array.from(de.values()).flat()))}}),()=>{ae.forEach(Ce=>Ce())}},[kt,Oe,Ae]);const Mt=v?F.filter(ee=>ee.projectId===v||ee.projectId==="1"&&v==="1"):[],tn=L.useMemo(()=>Ae.find(ee=>ee.id===v),[Ae,v]),Ur=L.useMemo(()=>v9(Mt,s,tn),[Mt,s,tn]),rr=Oe?Ae.filter(ee=>ee.clientId!==Oe?!1:new Date(ee.startDate).getFullYear().toString()===gt):kt==="my_projects"?Ae.filter(ee=>new Date(ee.startDate).getFullYear().toString()===gt):[],ja=ee=>{let ae=new Date;const de=parseInt(gt);ae.getFullYear()!==de&&(ae=new Date(de,0,1)),I({...ee,clientId:Oe,startDate:ae})},pi=ee=>{const ae=U(ee.id);if(ae&&c&&(ut.updateTask(ae.id,{parent:ae.parent,type:ae.type}).catch(console.error),ae.parent)){const de=F.find(Ce=>Ce.id===ae.parent);de&&de.type!=="project"&&ut.updateTask(de.id,{type:"project"}).catch(console.error)}},mi=ee=>{const ae=te(ee.id);ae&&c&&ut.updateTask(ae.id,{parent:ae.parent}).catch(console.error)},ra=async(ee,ae)=>{var ko,Do,ct;if(!v)return;ae==null||ae("Inicializando cronograma...");let de=vp(new Date);const Ce=`ai-${Date.now()}-`,Ee={};ae==null||ae("Definindo fases do projeto...");const qe={planning:`${Ce}phase-plan`,development:`${Ce}phase-dev`,testing:`${Ce}phase-test`,rollout:`${Ce}phase-rollout`,management:`${Ce}phase-mgmt`},Le=[{id:qe.planning,projectId:v,name:"Planejamento e Anlise",type:"project",start:de,end:Jn(de,5),progress:0,parent:null,dependencies:[],styles:{backgroundColor:"#60a5fa",progressColor:"#93c5fd"},order:0},{id:qe.development,projectId:v,name:"Desenvolvimento",type:"project",start:Jn(de,6),end:Jn(de,15),progress:0,parent:null,dependencies:[qe.planning],styles:{backgroundColor:"#f59e0b",progressColor:"#fcd34d"},order:100},{id:qe.testing,projectId:v,name:"Testes",type:"project",start:Jn(de,16),end:Jn(de,20),progress:0,parent:null,dependencies:[qe.development],styles:{backgroundColor:"#ef4444",progressColor:"#fca5a5"},order:200},{id:qe.rollout,projectId:v,name:"Preparao, Rollout e Acompanhamento",type:"project",start:Jn(de,21),end:Jn(de,25),progress:0,parent:null,dependencies:[qe.testing],styles:{backgroundColor:"#10b981",progressColor:"#6ee7b7"},order:300},{id:qe.management,projectId:v,name:"Gesto do Projeto (GP)",type:"project",start:de,end:Jn(de,25),progress:0,parent:null,dependencies:[],styles:{backgroundColor:"#8b5cf6",progressColor:"#c4b5fd"},order:-100}];ee.tasks.forEach(Ie=>{Ee[Ie.id]=Ce+Ie.id}),ae==null||ae(`Estruturando ${ee.tasks.length} tarefas inteligentes...`);const Dt=ee.tasks.map((Ie,Ye)=>{const Ge=ag(de,Ie.start_offset_days||0),rt=Math.max(1,Ie.duration_days||1),Pn=ag(Ge,rt);let ar=null;return Ie.category&&qe[Ie.category]?ar=qe[Ie.category]:Ie.parent_id&&Ee[Ie.parent_id]&&(ar=Ee[Ie.parent_id]),{id:Ee[Ie.id],projectId:v,name:Ie.name,type:Ie.type==="project"?"project":Ie.type==="milestone"?"milestone":"task",start:Ge,end:Pn,progress:0,parent:ar,dependencies:Ie.dependencies?Ie.dependencies.map(mc=>Ee[mc]||mc):[],assignedResource:Ie.role||"",hourlyRate:Ie.hourly_rate||0,styles:{progressColor:"#8b5cf6",backgroundColor:"#8b5cf6"},order:Ye+500}}),Gt={};Dt.forEach(Ie=>{Ie.parent&&(Gt[Ie.parent]||(Gt[Ie.parent]=[]),Gt[Ie.parent].push(Ie))});const Wn=[];let $n=0;for(const Ie of Le){const Ye=Gt[Ie.id]||[];if(Ye.length>0){let Ge=Ye[0].start,rt=Ye[0].end;Ye.forEach(Pn=>{Pn.start<Ge&&(Ge=Pn.start),Pn.end>rt&&(rt=Pn.end)}),Ie.start=Ge,Ie.end=rt}Wn.push({...Ie,order:$n++}),Ye.forEach(Ge=>{Wn.push({...Ge,order:$n++})})}Dt.filter(Ie=>!Ie.parent||!Object.values(qe).includes(Ie.parent)).forEach(Ie=>{Wn.push({...Ie,order:$n++})}),ae==null||ae("Salvando tarefas no banco de dados...");for(const Ie of Wn)await nt(Ie);const qn=new Map;Wn.forEach(Ie=>{if(Ie.type==="task"&&Ie.assignedResource){const Ye=Ie.assignedResource.trim();if(!Ye)return;const Ge=Ie.hourlyRate||0;if(!qn.has(Ye))qn.set(Ye,{role:Ye,quantity:1,hourlyRate:Ge,responsibilities:[]});else{const rt=qn.get(Ye);rt.quantity+=1,Ge>0&&(!rt.hourlyRate||rt.hourlyRate===0)&&(rt.hourlyRate=Ge)}}}),ee.team_structure&&ee.team_structure.forEach(Ie=>{const Ye=Ie.role.trim();if(qn.has(Ye)){const Ge=qn.get(Ye);Ie.responsibilities&&Ie.responsibilities.length>0&&(Ge.responsibilities=Ie.responsibilities)}});const Io=Array.from(qn.values());if(v){ae==null||ae("Atualizando documentao e contexto do projeto...");const Ie={aiConfidence:ee.confidence_score,aiSummary:ee.description,documentation:ee.documentation,technicalPremises:(ko=ee.strategic_planning)==null?void 0:ko.technical_premises,clientResponsibilities:(Do=ee.strategic_planning)==null?void 0:Do.client_responsibilities,raciMatrix:(ct=ee.strategic_planning)==null?void 0:ct.raci_matrix,teamStructure:Io,scopeDelta:ee.scope_delta};c?await ut.updateProject(v,Ie):xe(Ye=>Ye.map(Ge=>Ge.id===v?{...Ge,...Ie}:Ge))}ae==null||ae("Finalizado com sucesso!"),C(!1)},Sr=async()=>{if(Mt.length>0){if(window.confirm("J existem tarefas criadas para este projeto. Deseja excluir todo planejamento atual e gerar um novo?")){if(c)try{await ut.deleteAllTasksForProject(v),await ut.updateProject(v,{documentation:void 0,teamStructure:[],monthlyCosts:[],otherCosts:[],technicalPremises:[],clientResponsibilities:[],raciMatrix:[],scopeDelta:void 0,aiSummary:void 0,aiConfidence:void 0,architectureImage:void 0})}catch(ee){console.error("Error clearing tasks",ee),alert("Erro ao limpar tarefas antigas. Verifique a conexo.");return}else i(ee=>ee.filter(ae=>ae.projectId!==v)),xe(ee=>ee.map(ae=>ae.id===v?{...ae,documentation:void 0,teamStructure:[],monthlyCosts:[],otherCosts:[],technicalPremises:[],clientResponsibilities:[],raciMatrix:[],scopeDelta:void 0,aiSummary:void 0,aiConfidence:void 0,architectureImage:void 0}:ae));C(!0)}}else C(!0)},ws=async(ee,ae)=>{if(ae<2)return;const de=Ba(ee.start,ee.end),Ce=Math.max(1,Math.floor(de/ae)),Ee=ag(ee.start,Ce),qe={...ee,name:`${ee.name} (Parte 1)`,end:Ee};await Ue(qe);let Le=ee.id;for(let Dt=2;Dt<=ae;Dt++){const Gt={...ee,id:self.crypto.randomUUID(),name:`${ee.name} (Parte ${Dt})`,start:ee.start,end:Ee,progress:0,order:(ee.order||0)+.01*(Dt-1),dependencies:ee.dependencies?[...ee.dependencies]:[],styles:{...ee.styles,progressColor:"#f97316",backgroundColor:"#f97316"}};await nt(Gt,Le),Le=Gt.id}fe(!1)},Ma=async ee=>{if(!v)return;const ae=Ae.find(de=>de.id===v);if(ae){const de={...ae,teamStructure:ee};xe(Le=>Le.map(Dt=>Dt.id===v?de:Dt));const Ce=[],Ee=new Map;ee.forEach(Le=>{Le.hourlyRate!==void 0&&Ee.set(Le.role,Le.hourlyRate)}),a.filter(Le=>Le.projectId===v).forEach(Le=>{const Dt=Le.assignedResource;if(Dt&&Ee.has(Dt)){const Gt=Ee.get(Dt);Gt!==void 0&&Le.hourlyRate!==Gt&&Ce.push({id:Le.id,data:{hourlyRate:Gt}})}}),c&&(await ut.updateProject(v,{teamStructure:ee}),Ce.length>0&&await ut.batchUpdateTasks(Ce)),Ce.length>0&&i(Le=>{const Dt=new Map(Ce.map(Gt=>[Gt.id,Gt.data]));return Le.map(Gt=>Dt.has(Gt.id)?{...Gt,...Dt.get(Gt.id)}:Gt)})}};return e?o.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-gray-50",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):t?!t.isApproved&&!r?o.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-md w-full text-center border border-yellow-200",children:[o.jsx("div",{className:"mx-auto w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mb-4",children:o.jsx(Nx,{className:"text-yellow-600",size:32})}),o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Acesso Pendente"}),o.jsxs("p",{className:"text-gray-600 mb-6",children:["Sua conta (",t.email,") foi criada, mas aguarda aprovao do administrador Master."]}),o.jsxs("button",{onClick:n,className:"text-indigo-600 hover:text-indigo-800 font-medium text-sm hover:underline flex items-center justify-center gap-2",children:[o.jsx(Jb,{size:16}),"Sair e tentar outra conta"]})]})}):o.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden font-sans",children:[o.jsx(XE,{activeView:A,onNavigate:g,className:"hidden lg:flex",clients:dt,projects:Ae,currentUser:t}),o.jsx(TL,{activeView:A,onNavigate:g,isOpen:S,onClose:()=>k(!1),currentUser:t}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[o.jsx(w8,{onImport:un,onExport:v?Tr:void 0,onExportProposal:v?At:void 0}),!m&&o.jsxs("div",{className:"bg-red-600 text-white px-4 py-3 text-center text-sm font-bold flex justify-center items-center gap-2 shadow-md animate-in slide-in-from-top-2 z-50 transition-all",children:[o.jsx(wh,{size:20}),o.jsx("span",{children:"MODO OFFLINE: Voc est trabalhando sem internet. Suas alteraes foram salvas localmente e sero enviadas ao servidor automaticamente assim que a conexo retornar."})]}),o.jsxs("header",{className:"bg-white border-b border-gray-200 h-12 px-4 flex items-center justify-between z-40",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{className:"lg:hidden p-2 -ml-2 text-gray-600",onClick:()=>k(!0),children:o.jsx(Mj,{size:24})}),o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:Oe?(La=dt.find(ee=>ee.id===Oe))==null?void 0:La.name:"Gesto de Projetos"}),m?u?o.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs font-semibold flex items-center gap-1",title:u,children:[o.jsx(wh,{size:12})," Erro"]}):c?o.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold flex items-center gap-1",children:[o.jsx(Kb,{size:12})," Live"]}):o.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-500 rounded-full text-xs font-semibold flex items-center gap-1",children:[o.jsx(wh,{size:12})," Demo"]}):o.jsxs("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-semibold flex items-center gap-1",title:"Sem conexo com a internet",children:[o.jsx(wh,{size:12})," Offline"]})]}),o.jsxs("div",{className:"flex items-center gap-6 relative",children:[o.jsxs("button",{onClick:()=>j(!R),className:"flex items-center gap-2 hover:bg-gray-100 p-1.5 rounded-lg transition-all outline-none focus:ring-2 focus:ring-indigo-500 group",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 text-white flex items-center justify-center font-bold shadow-sm group-hover:shadow-md transition-shadow",children:t!=null&&t.displayName?t.displayName.charAt(0).toUpperCase():"U"}),o.jsx("span",{className:"text-sm font-medium text-gray-700 hidden md:block max-w-[150px] truncate",children:(t==null?void 0:t.displayName)||"Usurio"}),o.jsx(Co,{size:14,className:`text-gray-400 transition-transform duration-200 ${R?"rotate-180":""}`})]}),R&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>j(!1)}),o.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white rounded-xl shadow-xl border border-gray-100 py-2 z-50 animate-in fade-in slide-in-from-top-2",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-gray-50 bg-gray-50/50",children:[o.jsx("p",{className:"text-sm font-bold text-gray-900 truncate",children:(t==null?void 0:t.displayName)||"Usurio"}),o.jsx("p",{className:"text-xs text-gray-500 truncate",children:t==null?void 0:t.email})]}),o.jsx("div",{className:"p-2",children:o.jsxs("button",{onClick:()=>{n(),j(!1)},className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg flex items-center gap-2 transition-colors font-medium",children:[o.jsx(Jb,{size:16}),"Sair da conta"]})})]})]})]})]}),o.jsxs("main",{className:"flex-1 p-2 lg:p-8 overflow-y-auto",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-end mb-6 gap-4 md:gap-0",children:[o.jsxs("div",{className:"flex-1 md:mr-6 text-center md:text-left",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:kt==="team"?"Gesto da Equipe":kt==="settings"?"Configuraes do Sistema":kt==="clients_manage"?"Gesto de Clientes":kt==="my_projects"?"Portflio de Projetos":kt==="dashboard"?"Relatrio Operacional (Execuo Diria)":kt==="reports"?"Relatrio Estratgico (Viso Executiva)":kt==="gantt"?"Relatrio Ttico-Gerencial":((Gn=Ae.find(ee=>ee.id===v))==null?void 0:Gn.name)||"Viso Geral"}),o.jsx("p",{className:"text-gray-500 mt-1",children:kt==="dashboard"?"Foco em tarefas, eficincia e rotina do dia a dia.":kt==="reports"?"Viso de longo prazo, KPIs de portflio e alinhamento de negcio.":""}),kt==="gantt"&&v&&(()=>{const ee=Ae.find(ae=>ae.id===v);return ee?o.jsx("div",{className:"mt-3 w-full animate-in fade-in slide-in-from-top-2 hidden md:block",children:o.jsxs("div",{className:"relative group",children:[o.jsx("textarea",{value:ee.aiSummary||"",onChange:ae=>{const de=ae.target.value;xe(Ce=>Ce.map(Ee=>Ee.id===v?{...Ee,aiSummary:de}:Ee))},onBlur:ae=>{c&&ut.updateProject(v,{aiSummary:ae.target.value}).catch(console.error)},className:"w-full bg-transparent border-0 text-gray-600 text-sm p-0 focus:ring-0 resize-none hover:bg-gray-50 rounded px-2 -ml-2 transition-colors",rows:2,placeholder:"Adicione um resumo executivo..."}),o.jsx(sr,{size:12,className:"absolute -left-5 top-1 text-purple-400 opacity-50"})]})}):null})()]}),o.jsx("div",{className:"flex items-center gap-3 shrink-0 mb-1",children:kt==="gantt"&&v&&(Ae.find(ee=>ee.id===v),o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>E(!0),className:"bg-amber-500 hover:bg-amber-600 text-white px-3 py-2.5 rounded-lg flex items-center gap-2 font-medium shadow-lg shadow-amber-100 transition-all hover:scale-105 active:scale-95 text-xs lg:text-sm",title:"Estabilizar Cronograma (Atrasos e Pendncias)",children:[o.jsx($f,{size:16}),"Estabilizar"]}),(r||(t==null?void 0:t.canUseAI))&&o.jsxs("button",{onClick:Sr,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-2.5 rounded-lg flex items-center gap-2 font-medium shadow-lg shadow-indigo-100 transition-all hover:scale-105 active:scale-95 text-xs lg:text-sm",title:"Estimar com IA",children:[o.jsx(sr,{size:16}),"Estimar"]})]}))})]}),kt==="settings"&&o.jsx(m8,{}),kt==="clients_manage"&&o.jsx(Cz,{clients:dt,onCreateClient:Ot,onUpdateClient:Un,onDeleteClient:mn,currentFiscalYear:gt,onFiscalYearChange:vt,onSelectClient:ee=>{g(`client_${ee}_my_projects`)}}),kt==="gantt"&&o.jsxs(o.Fragment,{children:[o.jsx(SL,{stats:Ur,project:Ae.find(ee=>ee.id===v),onUpdateProject:ee=>{c?ut.updateProject(ee.id,ee).catch(console.error):xe(ae=>ae.map(de=>de.id===ee.id?ee:de))},onShowClientBlockages:()=>D(!0)}),o.jsxs("div",{className:"flex items-end mb-0 overflow-x-auto no-scrollbar pl-1",children:[o.jsx("button",{onClick:()=>x("schedule"),className:`flex items-center gap-2 px-4 py-2 lg:px-6 lg:py-3 text-xs lg:text-sm font-bold rounded-t-lg transition-all border border-b-0 relative ${b==="schedule"?"bg-white text-indigo-600 border-gray-200 shadow-[0_-2px_10px_rgba(0,0,0,0.02)] z-10 scale-105 origin-bottom":"bg-gray-50 text-gray-400 border-transparent hover:bg-gray-100 -mr-2 lg:-mr-0"}`,children:"Cronograma"}),o.jsx("button",{onClick:()=>x("tasks"),className:`flex items-center gap-2 px-4 py-2 lg:px-6 lg:py-3 text-xs lg:text-sm font-bold rounded-t-lg transition-all border border-b-0 relative ${b==="tasks"?"bg-white text-indigo-600 border-gray-200 shadow-[0_-2px_10px_rgba(0,0,0,0.02)] z-10 scale-105 origin-bottom":"bg-gray-50 text-gray-400 border-transparent hover:bg-gray-100 -mr-2 lg:-mr-0"}`,children:"Lista de Tarefas"}),o.jsxs("button",{onClick:()=>x("context"),className:`flex items-center gap-2 px-4 py-2 lg:px-6 lg:py-3 text-xs lg:text-sm font-bold rounded-t-lg transition-all border border-b-0 relative ${b==="context"?"bg-white text-indigo-600 border-gray-200 shadow-[0_-2px_10px_rgba(0,0,0,0.02)] z-10 scale-105 origin-bottom":"bg-gray-50 text-gray-400 border-transparent hover:bg-gray-100"}`,children:[o.jsx(ss,{size:16}),"Contexto"]}),o.jsxs("button",{onClick:()=>x("premises"),className:`flex items-center gap-2 px-4 py-2 lg:px-6 lg:py-3 text-xs lg:text-sm font-bold rounded-t-lg transition-all border border-b-0 relative ${b==="premises"?"bg-white text-indigo-600 border-gray-200 shadow-[0_-2px_10px_rgba(0,0,0,0.02)] z-10 scale-105 origin-bottom":"bg-gray-50 text-gray-400 border-transparent hover:bg-gray-100"}`,children:[o.jsx(El,{size:16}),"Premissas & RACI"]}),o.jsxs("button",{onClick:()=>x("team"),className:`flex items-center gap-2 px-4 py-2 lg:px-6 lg:py-3 text-xs lg:text-sm font-bold rounded-t-lg transition-all border border-b-0 relative ${b==="team"?"bg-white text-indigo-600 border-gray-200 shadow-[0_-2px_10px_rgba(0,0,0,0.02)] z-10 scale-105 origin-bottom":"bg-gray-50 text-gray-400 border-transparent hover:bg-gray-100"}`,children:[o.jsx(co,{size:16}),"EQUIPE"]}),o.jsxs("button",{onClick:()=>x("monthly_costs"),className:`flex items-center gap-2 px-4 py-2 lg:px-6 lg:py-3 text-xs lg:text-sm font-bold rounded-t-lg transition-all border border-b-0 relative ${b==="monthly_costs"?"bg-white text-indigo-600 border-gray-200 shadow-[0_-2px_10px_rgba(0,0,0,0.02)] z-10 scale-105 origin-bottom":"bg-gray-50 text-gray-400 border-transparent hover:bg-gray-100"}`,children:[o.jsx(ha,{size:16}),"Declarao Mensal"]}),o.jsx("div",{className:"flex-1 border-b border-gray-200 h-px"})]}),b==="schedule"&&o.jsx("div",{className:"bg-white p-0 rounded-xl rounded-tl-none shadow-sm border border-gray-100 h-[650px] flex flex-col mt-0 gantt-landscape-container",children:o.jsx("div",{className:"flex-1 overflow-hidden relative",children:o.jsx(EL,{tasks:Mt,onTaskChange:Ue,onEditTask:ee=>{pt(ee),Be(void 0),fe(!0)},onAddTask:mt,onDeleteTask:It,onReorderTasks:ze,onIndent:pi,onOutdent:mi,onViewModeChange:w,isModalOpen:re||P||N,onLandscapeModeChange:Ne,aiConfidence:(Gr=Ae.find(ee=>ee.id===v))==null?void 0:Gr.aiConfidence})})}),b==="tasks"&&o.jsx(bz,{tasks:Mt,resources:s,onEditTask:ee=>{pt(ee),Be(void 0),fe(!0)},isConnected:c}),b==="context"&&(()=>{const ee=Ae.find(ae=>ae.id===v);return o.jsx("div",{className:"bg-gray-50/50 p-6 rounded-xl border border-gray-100 animate-in fade-in slide-in-from-bottom-2 duration-300 h-[650px] overflow-y-auto custom-scrollbar",children:ee!=null&&ee.documentation?o.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-800 rounded-2xl p-6 text-white shadow-lg mb-8",children:[o.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-3",children:[o.jsx(ei,{size:28}),"Documentao do Projeto"]}),o.jsx("p",{className:"text-indigo-100 mt-2 max-w-2xl",children:"Viso estratgica, arquitetura tcnica e plano de qualidade definidos pela Inteligncia Artificial."})]}),o.jsx("div",{className:"grid grid-cols-1 gap-6",children:(()=>{const ae=["context_overview","technical_solution","implementation_steps","testing_strategy","scope","non_scope"],de=Object.keys(ee.documentation),Ce=ae.filter(Le=>de.includes(Le)),Ee=de.filter(Le=>!ae.includes(Le));return[...Ce,...Ee].map(Le=>{const Dt=ee.documentation?ee.documentation[Le]:"",Gt=Le.split("_").map(qn=>qn.charAt(0).toUpperCase()+qn.slice(1)).join(" ");let Wn="border-gray-100",$n="bg-gray-50 text-gray-600",Wr=ei;return Le==="context_overview"?(Wn="border-indigo-100",$n="bg-indigo-50 text-indigo-600",Wr=ss):Le==="technical_solution"?(Wn="border-blue-100",$n="bg-blue-50 text-blue-600",Wr=Kb):Le==="implementation_steps"?(Wn="border-green-100",$n="bg-green-50 text-green-600",Wr=$f):Le==="testing_strategy"&&(Wn="border-teal-100",$n="bg-teal-50 text-teal-600",Wr=kA),Q===Le?o.jsx("div",{className:"col-span-1",children:o.jsx(j_,{label:Gt,initialValue:Dt,onSave:qn=>ye(Le,qn),onCancel:()=>H(null)})},Le):o.jsxs(ue.Fragment,{children:[o.jsxs("div",{className:`bg-white p-6 rounded-2xl border shadow-sm hover:shadow-md transition-shadow ${Wn} group relative`,children:[o.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white/90 backdrop-blur-sm rounded-lg border border-gray-100 shadow-sm p-1",children:[o.jsx("button",{onClick:()=>H(Le),className:"p-1.5 text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors",title:"Editar Bloco",children:o.jsx(Qd,{size:14})}),o.jsx("div",{className:"w-px h-4 bg-gray-200"}),o.jsx("button",{onClick:()=>ge(Le),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Remover Bloco",children:o.jsx(ur,{size:14})})]}),o.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-3 border-b border-gray-100",children:[o.jsx("div",{className:`p-2 rounded-lg ${$n}`,children:o.jsx(Wr,{size:24})}),o.jsx("h4",{className:"text-lg font-bold text-gray-900",children:Gt})]}),o.jsx(By,{content:Dt,className:"text-sm"})]}),Le==="technical_solution"&&o.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-blue-100 shadow-sm hover:shadow-md transition-shadow relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-gray-100",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-blue-50 text-blue-600",children:o.jsx(zl,{size:24})}),o.jsx("h4",{className:"text-lg font-bold text-gray-900",children:"Diagrama de Arquitetura"})]}),ee.architectureImage&&o.jsx("button",{onClick:ve,disabled:K,className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Regerar Imagem",children:K?o.jsx(Ea,{className:"animate-spin",size:16}):o.jsx(sr,{size:16})})]}),o.jsx("div",{className:"flex flex-col items-center justify-center min-h-[300px] bg-gray-50 rounded-xl border-2 border-dashed border-gray-200 p-4",children:ee.architectureImage?o.jsx("img",{src:ee.architectureImage,alt:"Architecture Diagram",className:"w-full h-auto rounded-lg shadow-sm object-contain max-h-[500px]"}):o.jsxs("div",{className:"text-center max-w-md",children:[o.jsx(zl,{className:"mx-auto text-gray-300 mb-4",size:48}),o.jsx("h5",{className:"text-gray-900 font-bold mb-2",children:"Nenhum diagrama gerado"}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Utilize a IA para visualizar a arquitetura tcnica baseada na documentao do projeto."}),o.jsx("button",{onClick:ve,disabled:K,className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-sm font-medium",children:K?o.jsxs(o.Fragment,{children:[o.jsx(Ea,{className:"animate-spin",size:16})," Gerando Diagrama..."]}):o.jsxs(o.Fragment,{children:[o.jsx(sr,{size:16})," Gerar Arquitetura com IA"]})})]})})]})]},Le)})})()}),ee.teamStructure&&ee.teamStructure.length>0&&o.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-indigo-100 shadow-sm",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-3 border-b border-gray-100",children:[o.jsx("div",{className:"p-2 rounded-lg bg-indigo-50 text-indigo-600",children:o.jsx(co,{size:24})}),o.jsx("h4",{className:"text-lg font-bold text-gray-900",children:"Estrutura de Equipe Sugerida"})]}),o.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Profissional / Papel"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Qtd"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Responsabilidades Chave"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ee.teamStructure.map((ae,de)=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-3 text-sm font-medium text-indigo-900",children:ae.role}),o.jsx("td",{className:"px-4 py-3 text-sm text-center text-gray-600",children:o.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 bg-gray-100 rounded-full font-bold text-xs",children:ae.quantity})}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:o.jsx("div",{className:"flex flex-wrap gap-1",children:ae.responsibilities.map((Ce,Ee)=>o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-indigo-50 text-indigo-700",children:Ce},Ee))})})]},de))})]})})]})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-500 space-y-4",children:[o.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center",children:o.jsx(ei,{size:40,className:"text-gray-400"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xl font-bold text-gray-700",children:"Documentao no disponvel"}),o.jsx("p",{className:"text-sm mt-2 max-w-sm mx-auto text-gray-400",children:"Este projeto no possui dados de contexto gerados pela IA. Crie uma nova estimativa para gerar este contedo automaticamente."})]}),(r||(t==null?void 0:t.canUseAI))&&o.jsxs("button",{onClick:Sr,className:"mt-4 px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium flex items-center gap-2",children:[o.jsx(sr,{size:16}),"Gerar Documentao com IA"]})]})})})(),b==="premises"&&(()=>{const ee=Ae.find(ae=>ae.id===v);return o.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 animate-in fade-in slide-in-from-bottom-2 duration-300",children:ee!=null&&ee.technicalPremises||ee!=null&&ee.clientResponsibilities||ee!=null&&ee.raciMatrix?o.jsxs("div",{className:"space-y-8 max-w-5xl mx-auto",children:[ee.technicalPremises&&ee.technicalPremises.length>0&&o.jsx("section",{className:"relative group -mx-2 p-2 rounded-xl transition-colors hover:bg-gray-50/80",children:ne?o.jsx("div",{className:"bg-white rounded-xl shadow-lg ring-1 ring-black/5 p-1",children:o.jsx(j_,{label:"Editando Premissas Tcnicas",initialValue:ee.technicalPremises.map(ae=>`- ${ae}`).join(`
`),onSave:Se,onCancel:()=>X(!1)})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h4",{className:"font-bold text-gray-900 text-lg flex items-center gap-2",children:"Premissas Tcnicas"}),o.jsx("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx("button",{onClick:()=>X(!0),className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Editar Premissas",children:o.jsx(Qd,{size:16})})})]}),o.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:ee.technicalPremises.map((ae,de)=>o.jsxs("li",{className:"bg-amber-50 text-amber-900 p-3 rounded-lg border border-amber-100 flex items-start gap-2 text-sm",children:[o.jsx("div",{className:"mt-1 min-w-[6px] h-1.5 rounded-full bg-amber-400"}),ae]},de))})]})}),ee.clientResponsibilities&&ee.clientResponsibilities.length>0&&o.jsxs("section",{children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-3 text-lg",children:"Responsabilidades do Cliente"}),o.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-700 font-semibold border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3",children:"Ao Necessria"}),o.jsx("th",{className:"px-4 py-3",children:"Prazo Limite"}),o.jsx("th",{className:"px-4 py-3 text-center",children:"Impacto"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:ee.clientResponsibilities.map((ae,de)=>o.jsxs("tr",{className:"hover:bg-gray-50/50",children:[o.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:ae.action_item}),o.jsx("td",{className:"px-4 py-3 text-gray-600",children:ae.deadline_description}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("span",{className:`inline-flex px-2 py-1 rounded-md text-xs font-bold border ${ae.impact==="BLOCKER"?"bg-red-50 text-red-700 border-red-200":ae.impact==="HIGH"?"bg-orange-50 text-orange-700 border-orange-200":"bg-blue-50 text-blue-700 border-blue-200"}`,children:ae.impact})})]},de))})]})})]}),ee.raciMatrix&&ee.raciMatrix.length>0&&o.jsxs("section",{children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-3 text-lg",children:"Matriz RACI Sugerida"}),o.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200",children:o.jsxs("table",{className:"w-full text-sm text-center",children:[o.jsx("thead",{className:"bg-gray-800 text-white font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left w-1/3",children:"Atividade / Entrega"}),o.jsx("th",{className:"px-2 py-3 w-[15%] bg-gray-700",title:"Responsible (Quem Executa)",children:"R"}),o.jsx("th",{className:"px-2 py-3 w-[15%] bg-gray-700",title:"Accountable (Quem Aprova)",children:"A"}),o.jsx("th",{className:"px-2 py-3 w-[15%] bg-gray-700",title:"Consulted (Quem  Consultado)",children:"C"}),o.jsx("th",{className:"px-2 py-3 w-[15%] bg-gray-700",title:"Informed (Quem  Informado)",children:"I"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:ee.raciMatrix.map((ae,de)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3 text-left font-medium text-gray-900",children:ae.activity_group}),o.jsx("td",{className:"px-2 py-3 text-gray-600 bg-blue-50/30",children:ae.responsible}),o.jsx("td",{className:"px-2 py-3 text-gray-600 font-semibold bg-indigo-50/30",children:ae.accountable}),o.jsx("td",{className:"px-2 py-3 text-gray-500",children:ae.consulted}),o.jsx("td",{className:"px-2 py-3 text-gray-400",children:ae.informed})]},de))})]})})]})]}):o.jsxs("div",{className:"text-center py-16 text-gray-500",children:[o.jsx(El,{size:48,className:"mx-auto mb-4 text-gray-300"}),o.jsx("p",{className:"text-lg font-medium",children:"Planejamento Estratgico no encontrado"}),o.jsx("p",{className:"text-sm mt-2",children:"Gere uma nova estimativa com IA para obter a Matriz RACI e Premissas."})]})})})(),b==="team"&&(()=>{const ee=Ae.find(ae=>ae.id===v);return ee?o.jsx(fz,{project:ee,tasks:Mt,onUpdateTeam:Ma}):null})(),b==="monthly_costs"&&(()=>{const ee=Ae.find(ae=>ae.id===v);return ee?o.jsx(mz,{project:ee,tasks:Mt}):null})()]}),kt==="team"&&o.jsx(hz,{resources:s,isConnected:c}),kt==="dashboard"&&o.jsx(yz,{tasks:Mt,resources:s}),kt==="reports"&&o.jsx(wz,{tasks:V,resources:s,projects:rr,client:dt.find(ee=>ee.id===Oe),fiscalYear:gt}),kt==="my_projects"&&o.jsx(_z,{projects:rr,onCreateProject:ja,onUpdateProject:q,onDeleteProject:Y,onSelectProject:ee=>{O(ee),g(`project_${ee}_gantt`)}})]})]}),o.jsx(v8,{isOpen:P,onClose:()=>E(!1),tasks:Mt,onUpdateTasks:async ee=>{const ae=ee.map(de=>({id:de.id,data:de.changes}));if(c)try{await ut.batchUpdateTasks(ae),i(de=>{const Ce=new Map(ee.map(Ee=>[Ee.id,Ee.changes]));return de.map(Ee=>Ce.has(Ee.id)?{...Ee,...Ce.get(Ee.id)}:Ee)})}catch(de){console.error("Batch update failed",de),alert("Erro ao salvar correes.")}else i(de=>{const Ce=new Map(ee.map(Ee=>[Ee.id,Ee.changes]));return de.map(Ee=>Ce.has(Ee.id)?{...Ee,...Ce.get(Ee.id)}:Ee)})}}),o.jsx(y9,{isOpen:_,onClose:()=>D(!1),tasks:Mt,resources:s}),re&&o.jsx(i4,{task:$e,forceLandscape:Te,allTasks:F,projectTeam:(gi=Ae.find(ee=>ee.id===v))==null?void 0:gi.teamStructure,resources:s,onSave:Nt,onCancel:()=>fe(!1),onSplit:ws}),o.jsx(A8,{isOpen:N,onClose:()=>C(!1),onApplyEstimate:ra,clientContext:(pr=dt.find(ee=>ee.id===Oe))==null?void 0:pr.context,knowledgeBase:Ft}),ie&&o.jsx("div",{className:"fixed inset-0 bg-white/90 backdrop-blur-sm z-[100] flex flex-col items-center justify-center",children:o.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl border border-indigo-100 flex flex-col items-center max-w-md text-center animate-in fade-in zoom-in duration-300",children:[o.jsxs("div",{className:"relative mb-6",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-indigo-100 border-t-indigo-600 rounded-full animate-spin"}),o.jsx(sr,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-indigo-600 animate-pulse",size:24})]}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Gerando Proposta Inteligente"}),o.jsx("p",{className:"text-gray-500 mb-6",children:"A IA est analisando o contexto, criando designs e otimizando o contedo dos slides. Isso pode levar alguns instantes."}),o.jsxs("div",{className:"flex bg-indigo-50 px-4 py-2 rounded-lg text-indigo-700 text-sm font-medium items-center gap-2",children:[o.jsx(Ea,{size:16,className:"animate-spin"}),pe||"Processando slides..."]})]})})]}):o.jsx(b8,{})}Mg.createRoot(document.getElementById("root")).render(o.jsx(ue.StrictMode,{children:o.jsx(Tz,{children:o.jsx(w9,{})})}));
