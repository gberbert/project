var MS=Object.defineProperty;var FS=(t,e,n)=>e in t?MS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $d=(t,e,n)=>FS(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function b0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var F_={exports:{}},Ap={},O_={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd=Symbol.for("react.element"),OS=Symbol.for("react.portal"),BS=Symbol.for("react.fragment"),zS=Symbol.for("react.strict_mode"),VS=Symbol.for("react.profiler"),US=Symbol.for("react.provider"),WS=Symbol.for("react.context"),GS=Symbol.for("react.forward_ref"),qS=Symbol.for("react.suspense"),$S=Symbol.for("react.memo"),HS=Symbol.for("react.lazy"),cx=Symbol.iterator;function QS(t){return t===null||typeof t!="object"?null:(t=cx&&t[cx]||t["@@iterator"],typeof t=="function"?t:null)}var B_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z_=Object.assign,V_={};function Ul(t,e,n){this.props=t,this.context=e,this.refs=V_,this.updater=n||B_}Ul.prototype.isReactComponent={};Ul.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ul.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function U_(){}U_.prototype=Ul.prototype;function w0(t,e,n){this.props=t,this.context=e,this.refs=V_,this.updater=n||B_}var _0=w0.prototype=new U_;_0.constructor=w0;z_(_0,Ul.prototype);_0.isPureReactComponent=!0;var ux=Array.isArray,W_=Object.prototype.hasOwnProperty,C0={current:null},G_={key:!0,ref:!0,__self:!0,__source:!0};function q_(t,e,n){var r,i={},a=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)W_.call(e,r)&&!G_.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:sd,type:t,key:a,ref:s,props:i,_owner:C0.current}}function XS(t,e){return{$$typeof:sd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function E0(t){return typeof t=="object"&&t!==null&&t.$$typeof===sd}function KS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dx=/\/+/g;function wm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?KS(""+t.key):e.toString(36)}function Th(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case sd:case OS:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+wm(s,0):r,ux(i)?(n="",t!=null&&(n=t.replace(dx,"$&/")+"/"),Th(i,e,n,"",function(c){return c})):i!=null&&(E0(i)&&(i=XS(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(dx,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",ux(t))for(var o=0;o<t.length;o++){a=t[o];var l=r+wm(a,o);s+=Th(a,e,n,l,i)}else if(l=QS(t),typeof l=="function")for(t=l.call(t),o=0;!(a=t.next()).done;)a=a.value,l=r+wm(a,o++),s+=Th(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Qd(t,e,n){if(t==null)return t;var r=[],i=0;return Th(t,r,"","",function(a){return e.call(n,a,i++)}),r}function YS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ur={current:null},Ih={transition:null},JS={ReactCurrentDispatcher:ur,ReactCurrentBatchConfig:Ih,ReactCurrentOwner:C0};function $_(){throw Error("act(...) is not supported in production builds of React.")}vt.Children={map:Qd,forEach:function(t,e,n){Qd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qd(t,function(){e++}),e},toArray:function(t){return Qd(t,function(e){return e})||[]},only:function(t){if(!E0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};vt.Component=Ul;vt.Fragment=BS;vt.Profiler=VS;vt.PureComponent=w0;vt.StrictMode=zS;vt.Suspense=qS;vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JS;vt.act=$_;vt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=z_({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=C0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)W_.call(e,l)&&!G_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:sd,type:t.type,key:i,ref:a,props:r,_owner:s}};vt.createContext=function(t){return t={$$typeof:WS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:US,_context:t},t.Consumer=t};vt.createElement=q_;vt.createFactory=function(t){var e=q_.bind(null,t);return e.type=t,e};vt.createRef=function(){return{current:null}};vt.forwardRef=function(t){return{$$typeof:GS,render:t}};vt.isValidElement=E0;vt.lazy=function(t){return{$$typeof:HS,_payload:{_status:-1,_result:t},_init:YS}};vt.memo=function(t,e){return{$$typeof:$S,type:t,compare:e===void 0?null:e}};vt.startTransition=function(t){var e=Ih.transition;Ih.transition={};try{t()}finally{Ih.transition=e}};vt.unstable_act=$_;vt.useCallback=function(t,e){return ur.current.useCallback(t,e)};vt.useContext=function(t){return ur.current.useContext(t)};vt.useDebugValue=function(){};vt.useDeferredValue=function(t){return ur.current.useDeferredValue(t)};vt.useEffect=function(t,e){return ur.current.useEffect(t,e)};vt.useId=function(){return ur.current.useId()};vt.useImperativeHandle=function(t,e,n){return ur.current.useImperativeHandle(t,e,n)};vt.useInsertionEffect=function(t,e){return ur.current.useInsertionEffect(t,e)};vt.useLayoutEffect=function(t,e){return ur.current.useLayoutEffect(t,e)};vt.useMemo=function(t,e){return ur.current.useMemo(t,e)};vt.useReducer=function(t,e,n){return ur.current.useReducer(t,e,n)};vt.useRef=function(t){return ur.current.useRef(t)};vt.useState=function(t){return ur.current.useState(t)};vt.useSyncExternalStore=function(t,e,n){return ur.current.useSyncExternalStore(t,e,n)};vt.useTransition=function(){return ur.current.useTransition()};vt.version="18.3.1";O_.exports=vt;var F=O_.exports;const de=b0(F);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZS=F,ek=Symbol.for("react.element"),tk=Symbol.for("react.fragment"),nk=Object.prototype.hasOwnProperty,rk=ZS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ik={key:!0,ref:!0,__self:!0,__source:!0};function H_(t,e,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)nk.call(e,r)&&!ik.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ek,type:t,key:a,ref:s,props:i,_owner:rk.current}}Ap.Fragment=tk;Ap.jsx=H_;Ap.jsxs=H_;F_.exports=Ap;var u=F_.exports,Ig={},Q_={exports:{}},Fr={},X_={exports:{}},K_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ee,Y){var oe=ee.length;ee.push(Y);e:for(;0<oe;){var H=oe-1>>>1,q=ee[H];if(0<i(q,Y))ee[H]=Y,ee[oe]=q,oe=H;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var Y=ee[0],oe=ee.pop();if(oe!==Y){ee[0]=oe;e:for(var H=0,q=ee.length,se=q>>>1;H<se;){var he=2*(H+1)-1,ce=ee[he],Ae=he+1,xe=ee[Ae];if(0>i(ce,oe))Ae<q&&0>i(xe,ce)?(ee[H]=xe,ee[Ae]=oe,H=Ae):(ee[H]=ce,ee[he]=oe,H=he);else if(Ae<q&&0>i(xe,oe))ee[H]=xe,ee[Ae]=oe,H=Ae;else break e}}return Y}function i(ee,Y){var oe=ee.sortIndex-Y.sortIndex;return oe!==0?oe:ee.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],d=1,h=null,p=3,m=!1,g=!1,A=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(ee){for(var Y=n(c);Y!==null;){if(Y.callback===null)r(c);else if(Y.startTime<=ee)r(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(c)}}function k(ee){if(A=!1,b(ee),!g)if(n(l)!==null)g=!0,$(S);else{var Y=n(c);Y!==null&&J(k,Y.startTime-ee)}}function S(ee,Y){g=!1,A&&(A=!1,v(T),T=-1),m=!0;var oe=p;try{for(b(Y),h=n(l);h!==null&&(!(h.expirationTime>Y)||ee&&!j());){var H=h.callback;if(typeof H=="function"){h.callback=null,p=h.priorityLevel;var q=H(h.expirationTime<=Y);Y=t.unstable_now(),typeof q=="function"?h.callback=q:h===n(l)&&r(l),b(Y)}else r(l);h=n(l)}if(h!==null)var se=!0;else{var he=n(c);he!==null&&J(k,he.startTime-Y),se=!1}return se}finally{h=null,p=oe,m=!1}}var L=!1,w=null,T=-1,_=5,D=-1;function j(){return!(t.unstable_now()-D<_)}function N(){if(w!==null){var ee=t.unstable_now();D=ee;var Y=!0;try{Y=w(!0,ee)}finally{Y?R():(L=!1,w=null)}}else L=!1}var R;if(typeof y=="function")R=function(){y(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,B=C.port2;C.port1.onmessage=N,R=function(){B.postMessage(null)}}else R=function(){x(N,0)};function $(ee){w=ee,L||(L=!0,R())}function J(ee,Y){T=x(function(){ee(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,$(S))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(ee){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var oe=p;p=Y;try{return ee()}finally{p=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,Y){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var oe=p;p=ee;try{return Y()}finally{p=oe}},t.unstable_scheduleCallback=function(ee,Y,oe){var H=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?H+oe:H):oe=H,ee){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=oe+q,ee={id:d++,callback:Y,priorityLevel:ee,startTime:oe,expirationTime:q,sortIndex:-1},oe>H?(ee.sortIndex=oe,e(c,ee),n(l)===null&&ee===n(c)&&(A?(v(T),T=-1):A=!0,J(k,oe-H))):(ee.sortIndex=q,e(l,ee),g||m||(g=!0,$(S))),ee},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(ee){var Y=p;return function(){var oe=p;p=Y;try{return ee.apply(this,arguments)}finally{p=oe}}}})(K_);X_.exports=K_;var ak=X_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sk=F,Lr=ak;function Te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Y_=new Set,Au={};function po(t,e){wl(t,e),wl(t+"Capture",e)}function wl(t,e){for(Au[t]=e,t=0;t<e.length;t++)Y_.add(e[t])}var ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ng=Object.prototype.hasOwnProperty,ok=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hx={},fx={};function lk(t){return Ng.call(fx,t)?!0:Ng.call(hx,t)?!1:ok.test(t)?fx[t]=!0:(hx[t]=!0,!1)}function ck(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uk(t,e,n,r){if(e===null||typeof e>"u"||ck(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dr(t,e,n,r,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gn[t]=new dr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gn[e]=new dr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gn[t]=new dr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gn[t]=new dr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gn[t]=new dr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gn[t]=new dr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gn[t]=new dr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gn[t]=new dr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gn[t]=new dr(t,5,!1,t.toLowerCase(),null,!1,!1)});var T0=/[\-:]([a-z])/g;function I0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(T0,I0);Gn[e]=new dr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(T0,I0);Gn[e]=new dr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(T0,I0);Gn[e]=new dr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gn[t]=new dr(t,1,!1,t.toLowerCase(),null,!1,!1)});Gn.xlinkHref=new dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gn[t]=new dr(t,1,!1,t.toLowerCase(),null,!0,!0)});function N0(t,e,n,r){var i=Gn.hasOwnProperty(e)?Gn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uk(e,n,i,r)&&(n=null),r||i===null?lk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var la=sk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xd=Symbol.for("react.element"),Uo=Symbol.for("react.portal"),Wo=Symbol.for("react.fragment"),S0=Symbol.for("react.strict_mode"),Sg=Symbol.for("react.profiler"),J_=Symbol.for("react.provider"),Z_=Symbol.for("react.context"),k0=Symbol.for("react.forward_ref"),kg=Symbol.for("react.suspense"),Dg=Symbol.for("react.suspense_list"),D0=Symbol.for("react.memo"),wa=Symbol.for("react.lazy"),eC=Symbol.for("react.offscreen"),px=Symbol.iterator;function dc(t){return t===null||typeof t!="object"?null:(t=px&&t[px]||t["@@iterator"],typeof t=="function"?t:null)}var rn=Object.assign,_m;function Nc(t){if(_m===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_m=e&&e[1]||""}return`
`+_m+t}var Cm=!1;function Em(t,e){if(!t||Cm)return"";Cm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{Cm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Nc(t):""}function dk(t){switch(t.tag){case 5:return Nc(t.type);case 16:return Nc("Lazy");case 13:return Nc("Suspense");case 19:return Nc("SuspenseList");case 0:case 2:case 15:return t=Em(t.type,!1),t;case 11:return t=Em(t.type.render,!1),t;case 1:return t=Em(t.type,!0),t;default:return""}}function Rg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wo:return"Fragment";case Uo:return"Portal";case Sg:return"Profiler";case S0:return"StrictMode";case kg:return"Suspense";case Dg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Z_:return(t.displayName||"Context")+".Consumer";case J_:return(t._context.displayName||"Context")+".Provider";case k0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D0:return e=t.displayName||null,e!==null?e:Rg(t.type)||"Memo";case wa:e=t._payload,t=t._init;try{return Rg(t(e))}catch{}}return null}function hk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rg(e);case 8:return e===S0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ya(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fk(t){var e=tC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Kd(t){t._valueTracker||(t._valueTracker=fk(t))}function nC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=tC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pg(t,e){var n=e.checked;return rn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ya(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rC(t,e){e=e.checked,e!=null&&N0(t,"checked",e,!1)}function jg(t,e){rC(t,e);var n=Ya(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Lg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Lg(t,e.type,Ya(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Lg(t,e,n){(e!=="number"||sf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sc=Array.isArray;function ol(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ya(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Mg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Te(91));return rn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ax(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Te(92));if(Sc(n)){if(1<n.length)throw Error(Te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ya(n)}}function iC(t,e){var n=Ya(e.value),r=Ya(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function vx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yd,sC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Yd=Yd||document.createElement("div"),Yd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function vu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $c={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pk=["Webkit","ms","Moz","O"];Object.keys($c).forEach(function(t){pk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$c[e]=$c[t]})});function oC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$c.hasOwnProperty(t)&&$c[t]?(""+e).trim():e+"px"}function lC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=oC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var mk=rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Og(t,e){if(e){if(mk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Te(62))}}function Bg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zg=null;function R0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vg=null,ll=null,cl=null;function yx(t){if(t=cd(t)){if(typeof Vg!="function")throw Error(Te(280));var e=t.stateNode;e&&(e=wp(e),Vg(t.stateNode,t.type,e))}}function cC(t){ll?cl?cl.push(t):cl=[t]:ll=t}function uC(){if(ll){var t=ll,e=cl;if(cl=ll=null,yx(t),e)for(t=0;t<e.length;t++)yx(e[t])}}function dC(t,e){return t(e)}function hC(){}var Tm=!1;function fC(t,e,n){if(Tm)return t(e,n);Tm=!0;try{return dC(t,e,n)}finally{Tm=!1,(ll!==null||cl!==null)&&(hC(),uC())}}function yu(t,e){var n=t.stateNode;if(n===null)return null;var r=wp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Te(231,e,typeof n));return n}var Ug=!1;if(ta)try{var hc={};Object.defineProperty(hc,"passive",{get:function(){Ug=!0}}),window.addEventListener("test",hc,hc),window.removeEventListener("test",hc,hc)}catch{Ug=!1}function gk(t,e,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Hc=!1,of=null,lf=!1,Wg=null,Ak={onError:function(t){Hc=!0,of=t}};function vk(t,e,n,r,i,a,s,o,l){Hc=!1,of=null,gk.apply(Ak,arguments)}function yk(t,e,n,r,i,a,s,o,l){if(vk.apply(this,arguments),Hc){if(Hc){var c=of;Hc=!1,of=null}else throw Error(Te(198));lf||(lf=!0,Wg=c)}}function mo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xx(t){if(mo(t)!==t)throw Error(Te(188))}function xk(t){var e=t.alternate;if(!e){if(e=mo(t),e===null)throw Error(Te(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return xx(i),t;if(a===r)return xx(i),e;a=a.sibling}throw Error(Te(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(Te(189))}}if(n.alternate!==r)throw Error(Te(190))}if(n.tag!==3)throw Error(Te(188));return n.stateNode.current===n?t:e}function mC(t){return t=xk(t),t!==null?gC(t):null}function gC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gC(t);if(e!==null)return e;t=t.sibling}return null}var AC=Lr.unstable_scheduleCallback,bx=Lr.unstable_cancelCallback,bk=Lr.unstable_shouldYield,wk=Lr.unstable_requestPaint,gn=Lr.unstable_now,_k=Lr.unstable_getCurrentPriorityLevel,P0=Lr.unstable_ImmediatePriority,vC=Lr.unstable_UserBlockingPriority,cf=Lr.unstable_NormalPriority,Ck=Lr.unstable_LowPriority,yC=Lr.unstable_IdlePriority,vp=null,Ni=null;function Ek(t){if(Ni&&typeof Ni.onCommitFiberRoot=="function")try{Ni.onCommitFiberRoot(vp,t,void 0,(t.current.flags&128)===128)}catch{}}var oi=Math.clz32?Math.clz32:Nk,Tk=Math.log,Ik=Math.LN2;function Nk(t){return t>>>=0,t===0?32:31-(Tk(t)/Ik|0)|0}var Jd=64,Zd=4194304;function kc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function uf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=kc(o):(a&=s,a!==0&&(r=kc(a)))}else s=n&~i,s!==0?r=kc(s):a!==0&&(r=kc(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-oi(e),i=1<<n,r|=t[n],e&=~i;return r}function Sk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-oi(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=Sk(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}}function Gg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xC(){var t=Jd;return Jd<<=1,!(Jd&4194240)&&(Jd=64),t}function Im(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function od(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-oi(e),t[e]=n}function Dk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-oi(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function j0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-oi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ot=0;function bC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wC,L0,_C,CC,EC,qg=!1,eh=[],Oa=null,Ba=null,za=null,xu=new Map,bu=new Map,Na=[],Rk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wx(t,e){switch(t){case"focusin":case"focusout":Oa=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":xu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bu.delete(e.pointerId)}}function fc(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=cd(e),e!==null&&L0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Pk(t,e,n,r,i){switch(e){case"focusin":return Oa=fc(Oa,t,e,n,r,i),!0;case"dragenter":return Ba=fc(Ba,t,e,n,r,i),!0;case"mouseover":return za=fc(za,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return xu.set(a,fc(xu.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,bu.set(a,fc(bu.get(a)||null,t,e,n,r,i)),!0}return!1}function TC(t){var e=Ls(t.target);if(e!==null){var n=mo(e);if(n!==null){if(e=n.tag,e===13){if(e=pC(n),e!==null){t.blockedOn=e,EC(t.priority,function(){_C(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$g(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zg=r,n.target.dispatchEvent(r),zg=null}else return e=cd(n),e!==null&&L0(e),t.blockedOn=n,!1;e.shift()}return!0}function _x(t,e,n){Nh(t)&&n.delete(e)}function jk(){qg=!1,Oa!==null&&Nh(Oa)&&(Oa=null),Ba!==null&&Nh(Ba)&&(Ba=null),za!==null&&Nh(za)&&(za=null),xu.forEach(_x),bu.forEach(_x)}function pc(t,e){t.blockedOn===e&&(t.blockedOn=null,qg||(qg=!0,Lr.unstable_scheduleCallback(Lr.unstable_NormalPriority,jk)))}function wu(t){function e(i){return pc(i,t)}if(0<eh.length){pc(eh[0],t);for(var n=1;n<eh.length;n++){var r=eh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Oa!==null&&pc(Oa,t),Ba!==null&&pc(Ba,t),za!==null&&pc(za,t),xu.forEach(e),bu.forEach(e),n=0;n<Na.length;n++)r=Na[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Na.length&&(n=Na[0],n.blockedOn===null);)TC(n),n.blockedOn===null&&Na.shift()}var ul=la.ReactCurrentBatchConfig,df=!0;function Lk(t,e,n,r){var i=Ot,a=ul.transition;ul.transition=null;try{Ot=1,M0(t,e,n,r)}finally{Ot=i,ul.transition=a}}function Mk(t,e,n,r){var i=Ot,a=ul.transition;ul.transition=null;try{Ot=4,M0(t,e,n,r)}finally{Ot=i,ul.transition=a}}function M0(t,e,n,r){if(df){var i=$g(t,e,n,r);if(i===null)Fm(t,e,r,hf,n),wx(t,r);else if(Pk(i,t,e,n,r))r.stopPropagation();else if(wx(t,r),e&4&&-1<Rk.indexOf(t)){for(;i!==null;){var a=cd(i);if(a!==null&&wC(a),a=$g(t,e,n,r),a===null&&Fm(t,e,r,hf,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Fm(t,e,r,null,n)}}var hf=null;function $g(t,e,n,r){if(hf=null,t=R0(r),t=Ls(t),t!==null)if(e=mo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return hf=t,null}function IC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_k()){case P0:return 1;case vC:return 4;case cf:case Ck:return 16;case yC:return 536870912;default:return 16}default:return 16}}var La=null,F0=null,Sh=null;function NC(){if(Sh)return Sh;var t,e=F0,n=e.length,r,i="value"in La?La.value:La.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Sh=i.slice(t,1<r?1-r:void 0)}function kh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function th(){return!0}function Cx(){return!1}function Or(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?th:Cx,this.isPropagationStopped=Cx,this}return rn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=th)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=th)},persist:function(){},isPersistent:th}),e}var Wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},O0=Or(Wl),ld=rn({},Wl,{view:0,detail:0}),Fk=Or(ld),Nm,Sm,mc,yp=rn({},ld,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:B0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mc&&(mc&&t.type==="mousemove"?(Nm=t.screenX-mc.screenX,Sm=t.screenY-mc.screenY):Sm=Nm=0,mc=t),Nm)},movementY:function(t){return"movementY"in t?t.movementY:Sm}}),Ex=Or(yp),Ok=rn({},yp,{dataTransfer:0}),Bk=Or(Ok),zk=rn({},ld,{relatedTarget:0}),km=Or(zk),Vk=rn({},Wl,{animationName:0,elapsedTime:0,pseudoElement:0}),Uk=Or(Vk),Wk=rn({},Wl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gk=Or(Wk),qk=rn({},Wl,{data:0}),Tx=Or(qk),$k={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Qk[t])?!!e[t]:!1}function B0(){return Xk}var Kk=rn({},ld,{key:function(t){if(t.key){var e=$k[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=kh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:B0,charCode:function(t){return t.type==="keypress"?kh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Yk=Or(Kk),Jk=rn({},yp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ix=Or(Jk),Zk=rn({},ld,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:B0}),eD=Or(Zk),tD=rn({},Wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),nD=Or(tD),rD=rn({},yp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iD=Or(rD),aD=[9,13,27,32],z0=ta&&"CompositionEvent"in window,Qc=null;ta&&"documentMode"in document&&(Qc=document.documentMode);var sD=ta&&"TextEvent"in window&&!Qc,SC=ta&&(!z0||Qc&&8<Qc&&11>=Qc),Nx=" ",Sx=!1;function kC(t,e){switch(t){case"keyup":return aD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Go=!1;function oD(t,e){switch(t){case"compositionend":return DC(e);case"keypress":return e.which!==32?null:(Sx=!0,Nx);case"textInput":return t=e.data,t===Nx&&Sx?null:t;default:return null}}function lD(t,e){if(Go)return t==="compositionend"||!z0&&kC(t,e)?(t=NC(),Sh=F0=La=null,Go=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return SC&&e.locale!=="ko"?null:e.data;default:return null}}var cD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cD[t.type]:e==="textarea"}function RC(t,e,n,r){cC(r),e=ff(e,"onChange"),0<e.length&&(n=new O0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Xc=null,_u=null;function uD(t){WC(t,0)}function xp(t){var e=Ho(t);if(nC(e))return t}function dD(t,e){if(t==="change")return e}var PC=!1;if(ta){var Dm;if(ta){var Rm="oninput"in document;if(!Rm){var Dx=document.createElement("div");Dx.setAttribute("oninput","return;"),Rm=typeof Dx.oninput=="function"}Dm=Rm}else Dm=!1;PC=Dm&&(!document.documentMode||9<document.documentMode)}function Rx(){Xc&&(Xc.detachEvent("onpropertychange",jC),_u=Xc=null)}function jC(t){if(t.propertyName==="value"&&xp(_u)){var e=[];RC(e,_u,t,R0(t)),fC(uD,e)}}function hD(t,e,n){t==="focusin"?(Rx(),Xc=e,_u=n,Xc.attachEvent("onpropertychange",jC)):t==="focusout"&&Rx()}function fD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xp(_u)}function pD(t,e){if(t==="click")return xp(e)}function mD(t,e){if(t==="input"||t==="change")return xp(e)}function gD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ui=typeof Object.is=="function"?Object.is:gD;function Cu(t,e){if(ui(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ng.call(e,i)||!ui(t[i],e[i]))return!1}return!0}function Px(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jx(t,e){var n=Px(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Px(n)}}function LC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?LC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function MC(){for(var t=window,e=sf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sf(t.document)}return e}function V0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function AD(t){var e=MC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&LC(n.ownerDocument.documentElement,n)){if(r!==null&&V0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=jx(n,a);var s=jx(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vD=ta&&"documentMode"in document&&11>=document.documentMode,qo=null,Hg=null,Kc=null,Qg=!1;function Lx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qg||qo==null||qo!==sf(r)||(r=qo,"selectionStart"in r&&V0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kc&&Cu(Kc,r)||(Kc=r,r=ff(Hg,"onSelect"),0<r.length&&(e=new O0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qo)))}function nh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $o={animationend:nh("Animation","AnimationEnd"),animationiteration:nh("Animation","AnimationIteration"),animationstart:nh("Animation","AnimationStart"),transitionend:nh("Transition","TransitionEnd")},Pm={},FC={};ta&&(FC=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function bp(t){if(Pm[t])return Pm[t];if(!$o[t])return t;var e=$o[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in FC)return Pm[t]=e[n];return t}var OC=bp("animationend"),BC=bp("animationiteration"),zC=bp("animationstart"),VC=bp("transitionend"),UC=new Map,Mx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function os(t,e){UC.set(t,e),po(e,[t])}for(var jm=0;jm<Mx.length;jm++){var Lm=Mx[jm],yD=Lm.toLowerCase(),xD=Lm[0].toUpperCase()+Lm.slice(1);os(yD,"on"+xD)}os(OC,"onAnimationEnd");os(BC,"onAnimationIteration");os(zC,"onAnimationStart");os("dblclick","onDoubleClick");os("focusin","onFocus");os("focusout","onBlur");os(VC,"onTransitionEnd");wl("onMouseEnter",["mouseout","mouseover"]);wl("onMouseLeave",["mouseout","mouseover"]);wl("onPointerEnter",["pointerout","pointerover"]);wl("onPointerLeave",["pointerout","pointerover"]);po("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));po("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));po("onBeforeInput",["compositionend","keypress","textInput","paste"]);po("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));po("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));po("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dc));function Fx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,yk(r,e,void 0,t),t.currentTarget=null}function WC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;Fx(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;Fx(i,o,c),a=l}}}if(lf)throw t=Wg,lf=!1,Wg=null,t}function qt(t,e){var n=e[Zg];n===void 0&&(n=e[Zg]=new Set);var r=t+"__bubble";n.has(r)||(GC(e,t,2,!1),n.add(r))}function Mm(t,e,n){var r=0;e&&(r|=4),GC(n,t,r,e)}var rh="_reactListening"+Math.random().toString(36).slice(2);function Eu(t){if(!t[rh]){t[rh]=!0,Y_.forEach(function(n){n!=="selectionchange"&&(bD.has(n)||Mm(n,!1,t),Mm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rh]||(e[rh]=!0,Mm("selectionchange",!1,e))}}function GC(t,e,n,r){switch(IC(e)){case 1:var i=Lk;break;case 4:i=Mk;break;default:i=M0}n=i.bind(null,e,n,t),i=void 0,!Ug||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Fm(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Ls(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}fC(function(){var c=a,d=R0(n),h=[];e:{var p=UC.get(t);if(p!==void 0){var m=O0,g=t;switch(t){case"keypress":if(kh(n)===0)break e;case"keydown":case"keyup":m=Yk;break;case"focusin":g="focus",m=km;break;case"focusout":g="blur",m=km;break;case"beforeblur":case"afterblur":m=km;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ex;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Bk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=eD;break;case OC:case BC:case zC:m=Uk;break;case VC:m=nD;break;case"scroll":m=Fk;break;case"wheel":m=iD;break;case"copy":case"cut":case"paste":m=Gk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ix}var A=(e&4)!==0,x=!A&&t==="scroll",v=A?p!==null?p+"Capture":null:p;A=[];for(var y=c,b;y!==null;){b=y;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,v!==null&&(k=yu(y,v),k!=null&&A.push(Tu(y,k,b)))),x)break;y=y.return}0<A.length&&(p=new m(p,g,null,n,d),h.push({event:p,listeners:A}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==zg&&(g=n.relatedTarget||n.fromElement)&&(Ls(g)||g[na]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=c,g=g?Ls(g):null,g!==null&&(x=mo(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(A=Ex,k="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(A=Ix,k="onPointerLeave",v="onPointerEnter",y="pointer"),x=m==null?p:Ho(m),b=g==null?p:Ho(g),p=new A(k,y+"leave",m,n,d),p.target=x,p.relatedTarget=b,k=null,Ls(d)===c&&(A=new A(v,y+"enter",g,n,d),A.target=b,A.relatedTarget=x,k=A),x=k,m&&g)t:{for(A=m,v=g,y=0,b=A;b;b=_o(b))y++;for(b=0,k=v;k;k=_o(k))b++;for(;0<y-b;)A=_o(A),y--;for(;0<b-y;)v=_o(v),b--;for(;y--;){if(A===v||v!==null&&A===v.alternate)break t;A=_o(A),v=_o(v)}A=null}else A=null;m!==null&&Ox(h,p,m,A,!1),g!==null&&x!==null&&Ox(h,x,g,A,!0)}}e:{if(p=c?Ho(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var S=dD;else if(kx(p))if(PC)S=mD;else{S=fD;var L=hD}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=pD);if(S&&(S=S(t,c))){RC(h,S,n,d);break e}L&&L(t,p,c),t==="focusout"&&(L=p._wrapperState)&&L.controlled&&p.type==="number"&&Lg(p,"number",p.value)}switch(L=c?Ho(c):window,t){case"focusin":(kx(L)||L.contentEditable==="true")&&(qo=L,Hg=c,Kc=null);break;case"focusout":Kc=Hg=qo=null;break;case"mousedown":Qg=!0;break;case"contextmenu":case"mouseup":case"dragend":Qg=!1,Lx(h,n,d);break;case"selectionchange":if(vD)break;case"keydown":case"keyup":Lx(h,n,d)}var w;if(z0)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Go?kC(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(SC&&n.locale!=="ko"&&(Go||T!=="onCompositionStart"?T==="onCompositionEnd"&&Go&&(w=NC()):(La=d,F0="value"in La?La.value:La.textContent,Go=!0)),L=ff(c,T),0<L.length&&(T=new Tx(T,t,null,n,d),h.push({event:T,listeners:L}),w?T.data=w:(w=DC(n),w!==null&&(T.data=w)))),(w=sD?oD(t,n):lD(t,n))&&(c=ff(c,"onBeforeInput"),0<c.length&&(d=new Tx("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=w))}WC(h,e)})}function Tu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ff(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=yu(t,n),a!=null&&r.unshift(Tu(t,a,i)),a=yu(t,e),a!=null&&r.push(Tu(t,a,i))),t=t.return}return r}function _o(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ox(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=yu(n,a),l!=null&&s.unshift(Tu(n,l,o))):i||(l=yu(n,a),l!=null&&s.push(Tu(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var wD=/\r\n?/g,_D=/\u0000|\uFFFD/g;function Bx(t){return(typeof t=="string"?t:""+t).replace(wD,`
`).replace(_D,"")}function ih(t,e,n){if(e=Bx(e),Bx(t)!==e&&n)throw Error(Te(425))}function pf(){}var Xg=null,Kg=null;function Yg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jg=typeof setTimeout=="function"?setTimeout:void 0,CD=typeof clearTimeout=="function"?clearTimeout:void 0,zx=typeof Promise=="function"?Promise:void 0,ED=typeof queueMicrotask=="function"?queueMicrotask:typeof zx<"u"?function(t){return zx.resolve(null).then(t).catch(TD)}:Jg;function TD(t){setTimeout(function(){throw t})}function Om(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),wu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);wu(e)}function Va(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Vx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Gl=Math.random().toString(36).slice(2),bi="__reactFiber$"+Gl,Iu="__reactProps$"+Gl,na="__reactContainer$"+Gl,Zg="__reactEvents$"+Gl,ID="__reactListeners$"+Gl,ND="__reactHandles$"+Gl;function Ls(t){var e=t[bi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[na]||n[bi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Vx(t);t!==null;){if(n=t[bi])return n;t=Vx(t)}return e}t=n,n=t.parentNode}return null}function cd(t){return t=t[bi]||t[na],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ho(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Te(33))}function wp(t){return t[Iu]||null}var eA=[],Qo=-1;function ls(t){return{current:t}}function $t(t){0>Qo||(t.current=eA[Qo],eA[Qo]=null,Qo--)}function Wt(t,e){Qo++,eA[Qo]=t.current,t.current=e}var Ja={},tr=ls(Ja),yr=ls(!1),Qs=Ja;function _l(t,e){var n=t.type.contextTypes;if(!n)return Ja;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xr(t){return t=t.childContextTypes,t!=null}function mf(){$t(yr),$t(tr)}function Ux(t,e,n){if(tr.current!==Ja)throw Error(Te(168));Wt(tr,e),Wt(yr,n)}function qC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Te(108,hk(t)||"Unknown",i));return rn({},n,r)}function gf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ja,Qs=tr.current,Wt(tr,t),Wt(yr,yr.current),!0}function Wx(t,e,n){var r=t.stateNode;if(!r)throw Error(Te(169));n?(t=qC(t,e,Qs),r.__reactInternalMemoizedMergedChildContext=t,$t(yr),$t(tr),Wt(tr,t)):$t(yr),Wt(yr,n)}var Ui=null,_p=!1,Bm=!1;function $C(t){Ui===null?Ui=[t]:Ui.push(t)}function SD(t){_p=!0,$C(t)}function cs(){if(!Bm&&Ui!==null){Bm=!0;var t=0,e=Ot;try{var n=Ui;for(Ot=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ui=null,_p=!1}catch(i){throw Ui!==null&&(Ui=Ui.slice(t+1)),AC(P0,cs),i}finally{Ot=e,Bm=!1}}return null}var Xo=[],Ko=0,Af=null,vf=0,Vr=[],Ur=0,Xs=null,qi=1,$i="";function _s(t,e){Xo[Ko++]=vf,Xo[Ko++]=Af,Af=t,vf=e}function HC(t,e,n){Vr[Ur++]=qi,Vr[Ur++]=$i,Vr[Ur++]=Xs,Xs=t;var r=qi;t=$i;var i=32-oi(r)-1;r&=~(1<<i),n+=1;var a=32-oi(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,qi=1<<32-oi(e)+i|n<<i|r,$i=a+t}else qi=1<<a|n<<i|r,$i=t}function U0(t){t.return!==null&&(_s(t,1),HC(t,1,0))}function W0(t){for(;t===Af;)Af=Xo[--Ko],Xo[Ko]=null,vf=Xo[--Ko],Xo[Ko]=null;for(;t===Xs;)Xs=Vr[--Ur],Vr[Ur]=null,$i=Vr[--Ur],Vr[Ur]=null,qi=Vr[--Ur],Vr[Ur]=null}var jr=null,Rr=null,Qt=!1,ai=null;function QC(t,e){var n=qr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Gx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jr=t,Rr=Va(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jr=t,Rr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xs!==null?{id:qi,overflow:$i}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jr=t,Rr=null,!0):!1;default:return!1}}function tA(t){return(t.mode&1)!==0&&(t.flags&128)===0}function nA(t){if(Qt){var e=Rr;if(e){var n=e;if(!Gx(t,e)){if(tA(t))throw Error(Te(418));e=Va(n.nextSibling);var r=jr;e&&Gx(t,e)?QC(r,n):(t.flags=t.flags&-4097|2,Qt=!1,jr=t)}}else{if(tA(t))throw Error(Te(418));t.flags=t.flags&-4097|2,Qt=!1,jr=t}}}function qx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jr=t}function ah(t){if(t!==jr)return!1;if(!Qt)return qx(t),Qt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yg(t.type,t.memoizedProps)),e&&(e=Rr)){if(tA(t))throw XC(),Error(Te(418));for(;e;)QC(t,e),e=Va(e.nextSibling)}if(qx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rr=Va(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rr=null}}else Rr=jr?Va(t.stateNode.nextSibling):null;return!0}function XC(){for(var t=Rr;t;)t=Va(t.nextSibling)}function Cl(){Rr=jr=null,Qt=!1}function G0(t){ai===null?ai=[t]:ai.push(t)}var kD=la.ReactCurrentBatchConfig;function gc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Te(309));var r=n.stateNode}if(!r)throw Error(Te(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(Te(284));if(!n._owner)throw Error(Te(290,t))}return t}function sh(t,e){throw t=Object.prototype.toString.call(e),Error(Te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $x(t){var e=t._init;return e(t._payload)}function KC(t){function e(v,y){if(t){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=qa(v,y),v.index=0,v.sibling=null,v}function a(v,y,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,y,b,k){return y===null||y.tag!==6?(y=$m(b,v.mode,k),y.return=v,y):(y=i(y,b),y.return=v,y)}function l(v,y,b,k){var S=b.type;return S===Wo?d(v,y,b.props.children,k,b.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===wa&&$x(S)===y.type)?(k=i(y,b.props),k.ref=gc(v,y,b),k.return=v,k):(k=Fh(b.type,b.key,b.props,null,v.mode,k),k.ref=gc(v,y,b),k.return=v,k)}function c(v,y,b,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Hm(b,v.mode,k),y.return=v,y):(y=i(y,b.children||[]),y.return=v,y)}function d(v,y,b,k,S){return y===null||y.tag!==7?(y=Gs(b,v.mode,k,S),y.return=v,y):(y=i(y,b),y.return=v,y)}function h(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=$m(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xd:return b=Fh(y.type,y.key,y.props,null,v.mode,b),b.ref=gc(v,null,y),b.return=v,b;case Uo:return y=Hm(y,v.mode,b),y.return=v,y;case wa:var k=y._init;return h(v,k(y._payload),b)}if(Sc(y)||dc(y))return y=Gs(y,v.mode,b,null),y.return=v,y;sh(v,y)}return null}function p(v,y,b,k){var S=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:o(v,y,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Xd:return b.key===S?l(v,y,b,k):null;case Uo:return b.key===S?c(v,y,b,k):null;case wa:return S=b._init,p(v,y,S(b._payload),k)}if(Sc(b)||dc(b))return S!==null?null:d(v,y,b,k,null);sh(v,b)}return null}function m(v,y,b,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(b)||null,o(y,v,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Xd:return v=v.get(k.key===null?b:k.key)||null,l(y,v,k,S);case Uo:return v=v.get(k.key===null?b:k.key)||null,c(y,v,k,S);case wa:var L=k._init;return m(v,y,b,L(k._payload),S)}if(Sc(k)||dc(k))return v=v.get(b)||null,d(y,v,k,S,null);sh(y,k)}return null}function g(v,y,b,k){for(var S=null,L=null,w=y,T=y=0,_=null;w!==null&&T<b.length;T++){w.index>T?(_=w,w=null):_=w.sibling;var D=p(v,w,b[T],k);if(D===null){w===null&&(w=_);break}t&&w&&D.alternate===null&&e(v,w),y=a(D,y,T),L===null?S=D:L.sibling=D,L=D,w=_}if(T===b.length)return n(v,w),Qt&&_s(v,T),S;if(w===null){for(;T<b.length;T++)w=h(v,b[T],k),w!==null&&(y=a(w,y,T),L===null?S=w:L.sibling=w,L=w);return Qt&&_s(v,T),S}for(w=r(v,w);T<b.length;T++)_=m(w,v,T,b[T],k),_!==null&&(t&&_.alternate!==null&&w.delete(_.key===null?T:_.key),y=a(_,y,T),L===null?S=_:L.sibling=_,L=_);return t&&w.forEach(function(j){return e(v,j)}),Qt&&_s(v,T),S}function A(v,y,b,k){var S=dc(b);if(typeof S!="function")throw Error(Te(150));if(b=S.call(b),b==null)throw Error(Te(151));for(var L=S=null,w=y,T=y=0,_=null,D=b.next();w!==null&&!D.done;T++,D=b.next()){w.index>T?(_=w,w=null):_=w.sibling;var j=p(v,w,D.value,k);if(j===null){w===null&&(w=_);break}t&&w&&j.alternate===null&&e(v,w),y=a(j,y,T),L===null?S=j:L.sibling=j,L=j,w=_}if(D.done)return n(v,w),Qt&&_s(v,T),S;if(w===null){for(;!D.done;T++,D=b.next())D=h(v,D.value,k),D!==null&&(y=a(D,y,T),L===null?S=D:L.sibling=D,L=D);return Qt&&_s(v,T),S}for(w=r(v,w);!D.done;T++,D=b.next())D=m(w,v,T,D.value,k),D!==null&&(t&&D.alternate!==null&&w.delete(D.key===null?T:D.key),y=a(D,y,T),L===null?S=D:L.sibling=D,L=D);return t&&w.forEach(function(N){return e(v,N)}),Qt&&_s(v,T),S}function x(v,y,b,k){if(typeof b=="object"&&b!==null&&b.type===Wo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Xd:e:{for(var S=b.key,L=y;L!==null;){if(L.key===S){if(S=b.type,S===Wo){if(L.tag===7){n(v,L.sibling),y=i(L,b.props.children),y.return=v,v=y;break e}}else if(L.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===wa&&$x(S)===L.type){n(v,L.sibling),y=i(L,b.props),y.ref=gc(v,L,b),y.return=v,v=y;break e}n(v,L);break}else e(v,L);L=L.sibling}b.type===Wo?(y=Gs(b.props.children,v.mode,k,b.key),y.return=v,v=y):(k=Fh(b.type,b.key,b.props,null,v.mode,k),k.ref=gc(v,y,b),k.return=v,v=k)}return s(v);case Uo:e:{for(L=b.key;y!==null;){if(y.key===L)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(v,y.sibling),y=i(y,b.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=Hm(b,v.mode,k),y.return=v,v=y}return s(v);case wa:return L=b._init,x(v,y,L(b._payload),k)}if(Sc(b))return g(v,y,b,k);if(dc(b))return A(v,y,b,k);sh(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,b),y.return=v,v=y):(n(v,y),y=$m(b,v.mode,k),y.return=v,v=y),s(v)):n(v,y)}return x}var El=KC(!0),YC=KC(!1),yf=ls(null),xf=null,Yo=null,q0=null;function $0(){q0=Yo=xf=null}function H0(t){var e=yf.current;$t(yf),t._currentValue=e}function rA(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function dl(t,e){xf=t,q0=Yo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ar=!0),t.firstContext=null)}function Xr(t){var e=t._currentValue;if(q0!==t)if(t={context:t,memoizedValue:e,next:null},Yo===null){if(xf===null)throw Error(Te(308));Yo=t,xf.dependencies={lanes:0,firstContext:t}}else Yo=Yo.next=t;return e}var Ms=null;function Q0(t){Ms===null?Ms=[t]:Ms.push(t)}function JC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Q0(e)):(n.next=i.next,i.next=n),e.interleaved=n,ra(t,r)}function ra(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _a=!1;function X0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ji(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ua(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,It&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ra(t,n)}return i=r.interleaved,i===null?(e.next=e,Q0(r)):(e.next=i.next,i.next=e),r.interleaved=e,ra(t,n)}function Dh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,j0(t,n)}}function Hx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bf(t,e,n,r){var i=t.updateQueue;_a=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(a!==null){var h=i.baseState;s=0,d=c=l=null,o=a;do{var p=o.lane,m=o.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,A=o;switch(p=e,m=n,A.tag){case 1:if(g=A.payload,typeof g=="function"){h=g.call(m,h,p);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=A.payload,p=typeof g=="function"?g.call(m,h,p):g,p==null)break e;h=rn({},h,p);break e;case 2:_a=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Ys|=s,t.lanes=s,t.memoizedState=h}}function Qx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Te(191,i));i.call(r)}}}var ud={},Si=ls(ud),Nu=ls(ud),Su=ls(ud);function Fs(t){if(t===ud)throw Error(Te(174));return t}function K0(t,e){switch(Wt(Su,e),Wt(Nu,t),Wt(Si,ud),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Fg(e,t)}$t(Si),Wt(Si,e)}function Tl(){$t(Si),$t(Nu),$t(Su)}function e2(t){Fs(Su.current);var e=Fs(Si.current),n=Fg(e,t.type);e!==n&&(Wt(Nu,t),Wt(Si,n))}function Y0(t){Nu.current===t&&($t(Si),$t(Nu))}var tn=ls(0);function wf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zm=[];function J0(){for(var t=0;t<zm.length;t++)zm[t]._workInProgressVersionPrimary=null;zm.length=0}var Rh=la.ReactCurrentDispatcher,Vm=la.ReactCurrentBatchConfig,Ks=0,nn=null,En=null,Pn=null,_f=!1,Yc=!1,ku=0,DD=0;function Qn(){throw Error(Te(321))}function Z0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ui(t[n],e[n]))return!1;return!0}function ev(t,e,n,r,i,a){if(Ks=a,nn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rh.current=t===null||t.memoizedState===null?LD:MD,t=n(r,i),Yc){a=0;do{if(Yc=!1,ku=0,25<=a)throw Error(Te(301));a+=1,Pn=En=null,e.updateQueue=null,Rh.current=FD,t=n(r,i)}while(Yc)}if(Rh.current=Cf,e=En!==null&&En.next!==null,Ks=0,Pn=En=nn=null,_f=!1,e)throw Error(Te(300));return t}function tv(){var t=ku!==0;return ku=0,t}function xi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?nn.memoizedState=Pn=t:Pn=Pn.next=t,Pn}function Kr(){if(En===null){var t=nn.alternate;t=t!==null?t.memoizedState:null}else t=En.next;var e=Pn===null?nn.memoizedState:Pn.next;if(e!==null)Pn=e,En=t;else{if(t===null)throw Error(Te(310));En=t,t={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},Pn===null?nn.memoizedState=Pn=t:Pn=Pn.next=t}return Pn}function Du(t,e){return typeof e=="function"?e(t):e}function Um(t){var e=Kr(),n=e.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=t;var r=En,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var d=c.lane;if((Ks&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,s=r):l=l.next=h,nn.lanes|=d,Ys|=d}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,ui(r,e.memoizedState)||(Ar=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,nn.lanes|=a,Ys|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wm(t){var e=Kr(),n=e.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);ui(a,e.memoizedState)||(Ar=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function t2(){}function n2(t,e){var n=nn,r=Kr(),i=e(),a=!ui(r.memoizedState,i);if(a&&(r.memoizedState=i,Ar=!0),r=r.queue,nv(a2.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Pn!==null&&Pn.memoizedState.tag&1){if(n.flags|=2048,Ru(9,i2.bind(null,n,r,i,e),void 0,null),Ln===null)throw Error(Te(349));Ks&30||r2(n,e,i)}return i}function r2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nn.updateQueue,e===null?(e={lastEffect:null,stores:null},nn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function i2(t,e,n,r){e.value=n,e.getSnapshot=r,s2(e)&&o2(t)}function a2(t,e,n){return n(function(){s2(e)&&o2(t)})}function s2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ui(t,n)}catch{return!0}}function o2(t){var e=ra(t,1);e!==null&&li(e,t,1,-1)}function Xx(t){var e=xi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Du,lastRenderedState:t},e.queue=t,t=t.dispatch=jD.bind(null,nn,t),[e.memoizedState,t]}function Ru(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=nn.updateQueue,e===null?(e={lastEffect:null,stores:null},nn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function l2(){return Kr().memoizedState}function Ph(t,e,n,r){var i=xi();nn.flags|=t,i.memoizedState=Ru(1|e,n,void 0,r===void 0?null:r)}function Cp(t,e,n,r){var i=Kr();r=r===void 0?null:r;var a=void 0;if(En!==null){var s=En.memoizedState;if(a=s.destroy,r!==null&&Z0(r,s.deps)){i.memoizedState=Ru(e,n,a,r);return}}nn.flags|=t,i.memoizedState=Ru(1|e,n,a,r)}function Kx(t,e){return Ph(8390656,8,t,e)}function nv(t,e){return Cp(2048,8,t,e)}function c2(t,e){return Cp(4,2,t,e)}function u2(t,e){return Cp(4,4,t,e)}function d2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function h2(t,e,n){return n=n!=null?n.concat([t]):null,Cp(4,4,d2.bind(null,e,t),n)}function rv(){}function f2(t,e){var n=Kr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Z0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function p2(t,e){var n=Kr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Z0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function m2(t,e,n){return Ks&21?(ui(n,e)||(n=xC(),nn.lanes|=n,Ys|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ar=!0),t.memoizedState=n)}function RD(t,e){var n=Ot;Ot=n!==0&&4>n?n:4,t(!0);var r=Vm.transition;Vm.transition={};try{t(!1),e()}finally{Ot=n,Vm.transition=r}}function g2(){return Kr().memoizedState}function PD(t,e,n){var r=Ga(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},A2(t))v2(e,n);else if(n=JC(t,e,n,r),n!==null){var i=or();li(n,t,r,i),y2(n,e,r)}}function jD(t,e,n){var r=Ga(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(A2(t))v2(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,ui(o,s)){var l=e.interleaved;l===null?(i.next=i,Q0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=JC(t,e,i,r),n!==null&&(i=or(),li(n,t,r,i),y2(n,e,r))}}function A2(t){var e=t.alternate;return t===nn||e!==null&&e===nn}function v2(t,e){Yc=_f=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function y2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,j0(t,n)}}var Cf={readContext:Xr,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useInsertionEffect:Qn,useLayoutEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useMutableSource:Qn,useSyncExternalStore:Qn,useId:Qn,unstable_isNewReconciler:!1},LD={readContext:Xr,useCallback:function(t,e){return xi().memoizedState=[t,e===void 0?null:e],t},useContext:Xr,useEffect:Kx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ph(4194308,4,d2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ph(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ph(4,2,t,e)},useMemo:function(t,e){var n=xi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=PD.bind(null,nn,t),[r.memoizedState,t]},useRef:function(t){var e=xi();return t={current:t},e.memoizedState=t},useState:Xx,useDebugValue:rv,useDeferredValue:function(t){return xi().memoizedState=t},useTransition:function(){var t=Xx(!1),e=t[0];return t=RD.bind(null,t[1]),xi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=nn,i=xi();if(Qt){if(n===void 0)throw Error(Te(407));n=n()}else{if(n=e(),Ln===null)throw Error(Te(349));Ks&30||r2(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,Kx(a2.bind(null,r,a,t),[t]),r.flags|=2048,Ru(9,i2.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=xi(),e=Ln.identifierPrefix;if(Qt){var n=$i,r=qi;n=(r&~(1<<32-oi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ku++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=DD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},MD={readContext:Xr,useCallback:f2,useContext:Xr,useEffect:nv,useImperativeHandle:h2,useInsertionEffect:c2,useLayoutEffect:u2,useMemo:p2,useReducer:Um,useRef:l2,useState:function(){return Um(Du)},useDebugValue:rv,useDeferredValue:function(t){var e=Kr();return m2(e,En.memoizedState,t)},useTransition:function(){var t=Um(Du)[0],e=Kr().memoizedState;return[t,e]},useMutableSource:t2,useSyncExternalStore:n2,useId:g2,unstable_isNewReconciler:!1},FD={readContext:Xr,useCallback:f2,useContext:Xr,useEffect:nv,useImperativeHandle:h2,useInsertionEffect:c2,useLayoutEffect:u2,useMemo:p2,useReducer:Wm,useRef:l2,useState:function(){return Wm(Du)},useDebugValue:rv,useDeferredValue:function(t){var e=Kr();return En===null?e.memoizedState=t:m2(e,En.memoizedState,t)},useTransition:function(){var t=Wm(Du)[0],e=Kr().memoizedState;return[t,e]},useMutableSource:t2,useSyncExternalStore:n2,useId:g2,unstable_isNewReconciler:!1};function ri(t,e){if(t&&t.defaultProps){e=rn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function iA(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ep={isMounted:function(t){return(t=t._reactInternals)?mo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=or(),i=Ga(t),a=Ji(r,i);a.payload=e,n!=null&&(a.callback=n),e=Ua(t,a,i),e!==null&&(li(e,t,i,r),Dh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=or(),i=Ga(t),a=Ji(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Ua(t,a,i),e!==null&&(li(e,t,i,r),Dh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=or(),r=Ga(t),i=Ji(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ua(t,i,r),e!==null&&(li(e,t,r,n),Dh(e,t,r))}};function Yx(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!Cu(n,r)||!Cu(i,a):!0}function x2(t,e,n){var r=!1,i=Ja,a=e.contextType;return typeof a=="object"&&a!==null?a=Xr(a):(i=xr(e)?Qs:tr.current,r=e.contextTypes,a=(r=r!=null)?_l(t,i):Ja),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ep,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Jx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ep.enqueueReplaceState(e,e.state,null)}function aA(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},X0(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Xr(a):(a=xr(e)?Qs:tr.current,i.context=_l(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(iA(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ep.enqueueReplaceState(i,i.state,null),bf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Il(t,e){try{var n="",r=e;do n+=dk(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Gm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function sA(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var OD=typeof WeakMap=="function"?WeakMap:Map;function b2(t,e,n){n=Ji(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Tf||(Tf=!0,gA=r),sA(t,e)},n}function w2(t,e,n){n=Ji(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){sA(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){sA(t,e),typeof r!="function"&&(Wa===null?Wa=new Set([this]):Wa.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Zx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new OD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=JD.bind(null,t,e,n),e.then(t,t))}function eb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ji(-1,1),e.tag=2,Ua(n,e,1))),n.lanes|=1),t)}var BD=la.ReactCurrentOwner,Ar=!1;function ar(t,e,n,r){e.child=t===null?YC(e,null,n,r):El(e,t.child,n,r)}function nb(t,e,n,r,i){n=n.render;var a=e.ref;return dl(e,i),r=ev(t,e,n,r,a,i),n=tv(),t!==null&&!Ar?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ia(t,e,i)):(Qt&&n&&U0(e),e.flags|=1,ar(t,e,r,i),e.child)}function rb(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!dv(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,_2(t,e,a,r,i)):(t=Fh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Cu,n(s,r)&&t.ref===e.ref)return ia(t,e,i)}return e.flags|=1,t=qa(a,r),t.ref=e.ref,t.return=e,e.child=t}function _2(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Cu(a,r)&&t.ref===e.ref)if(Ar=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Ar=!0);else return e.lanes=t.lanes,ia(t,e,i)}return oA(t,e,n,r,i)}function C2(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(Zo,Sr),Sr|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Wt(Zo,Sr),Sr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Wt(Zo,Sr),Sr|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Wt(Zo,Sr),Sr|=r;return ar(t,e,i,n),e.child}function E2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function oA(t,e,n,r,i){var a=xr(n)?Qs:tr.current;return a=_l(e,a),dl(e,i),n=ev(t,e,n,r,a,i),r=tv(),t!==null&&!Ar?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ia(t,e,i)):(Qt&&r&&U0(e),e.flags|=1,ar(t,e,n,i),e.child)}function ib(t,e,n,r,i){if(xr(n)){var a=!0;gf(e)}else a=!1;if(dl(e,i),e.stateNode===null)jh(t,e),x2(e,n,r),aA(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Xr(c):(c=xr(n)?Qs:tr.current,c=_l(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&Jx(e,s,r,c),_a=!1;var p=e.memoizedState;s.state=p,bf(e,r,s,i),l=e.memoizedState,o!==r||p!==l||yr.current||_a?(typeof d=="function"&&(iA(e,n,d,r),l=e.memoizedState),(o=_a||Yx(e,n,o,r,p,l,c))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,ZC(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:ri(e.type,o),s.props=c,h=e.pendingProps,p=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xr(l):(l=xr(n)?Qs:tr.current,l=_l(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==h||p!==l)&&Jx(e,s,r,l),_a=!1,p=e.memoizedState,s.state=p,bf(e,r,s,i);var g=e.memoizedState;o!==h||p!==g||yr.current||_a?(typeof m=="function"&&(iA(e,n,m,r),g=e.memoizedState),(c=_a||Yx(e,n,c,r,p,g,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return lA(t,e,n,r,a,i)}function lA(t,e,n,r,i,a){E2(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Wx(e,n,!1),ia(t,e,a);r=e.stateNode,BD.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=El(e,t.child,null,a),e.child=El(e,null,o,a)):ar(t,e,o,a),e.memoizedState=r.state,i&&Wx(e,n,!0),e.child}function T2(t){var e=t.stateNode;e.pendingContext?Ux(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ux(t,e.context,!1),K0(t,e.containerInfo)}function ab(t,e,n,r,i){return Cl(),G0(i),e.flags|=256,ar(t,e,n,r),e.child}var cA={dehydrated:null,treeContext:null,retryLane:0};function uA(t){return{baseLanes:t,cachePool:null,transitions:null}}function I2(t,e,n){var r=e.pendingProps,i=tn.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Wt(tn,i&1),t===null)return nA(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,a?(r=e.mode,a=e.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Np(s,r,0,null),t=Gs(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=uA(n),e.memoizedState=cA,t):iv(e,s));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return zD(t,e,s,r,o,i,n);if(a){a=r.fallback,s=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=qa(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=qa(o,a):(a=Gs(a,s,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,s=t.child.memoizedState,s=s===null?uA(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=cA,r}return a=t.child,t=a.sibling,r=qa(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function iv(t,e){return e=Np({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function oh(t,e,n,r){return r!==null&&G0(r),El(e,t.child,null,n),t=iv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zD(t,e,n,r,i,a,s){if(n)return e.flags&256?(e.flags&=-257,r=Gm(Error(Te(422))),oh(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Np({mode:"visible",children:r.children},i,0,null),a=Gs(a,i,s,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&El(e,t.child,null,s),e.child.memoizedState=uA(s),e.memoizedState=cA,a);if(!(e.mode&1))return oh(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(Te(419)),r=Gm(a,r,void 0),oh(t,e,s,r)}if(o=(s&t.childLanes)!==0,Ar||o){if(r=Ln,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ra(t,i),li(r,t,i,-1))}return uv(),r=Gm(Error(Te(421))),oh(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ZD.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Rr=Va(i.nextSibling),jr=e,Qt=!0,ai=null,t!==null&&(Vr[Ur++]=qi,Vr[Ur++]=$i,Vr[Ur++]=Xs,qi=t.id,$i=t.overflow,Xs=e),e=iv(e,r.children),e.flags|=4096,e)}function sb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),rA(t.return,e,n)}function qm(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function N2(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(ar(t,e,r.children,n),r=tn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sb(t,n,e);else if(t.tag===19)sb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Wt(tn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&wf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),qm(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}qm(e,!0,n,null,a);break;case"together":qm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ia(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ys|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Te(153));if(e.child!==null){for(t=e.child,n=qa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function VD(t,e,n){switch(e.tag){case 3:T2(e),Cl();break;case 5:e2(e);break;case 1:xr(e.type)&&gf(e);break;case 4:K0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Wt(yf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Wt(tn,tn.current&1),e.flags|=128,null):n&e.child.childLanes?I2(t,e,n):(Wt(tn,tn.current&1),t=ia(t,e,n),t!==null?t.sibling:null);Wt(tn,tn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return N2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wt(tn,tn.current),r)break;return null;case 22:case 23:return e.lanes=0,C2(t,e,n)}return ia(t,e,n)}var S2,dA,k2,D2;S2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dA=function(){};k2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Fs(Si.current);var a=null;switch(n){case"input":i=Pg(t,i),r=Pg(t,r),a=[];break;case"select":i=rn({},i,{value:void 0}),r=rn({},r,{value:void 0}),a=[];break;case"textarea":i=Mg(t,i),r=Mg(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=pf)}Og(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Au.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Au.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&qt("scroll",t),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};D2=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ac(t,e){if(!Qt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function UD(t,e,n){var r=e.pendingProps;switch(W0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(e),null;case 1:return xr(e.type)&&mf(),Xn(e),null;case 3:return r=e.stateNode,Tl(),$t(yr),$t(tr),J0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ah(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ai!==null&&(yA(ai),ai=null))),dA(t,e),Xn(e),null;case 5:Y0(e);var i=Fs(Su.current);if(n=e.type,t!==null&&e.stateNode!=null)k2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Te(166));return Xn(e),null}if(t=Fs(Si.current),ah(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[bi]=e,r[Iu]=a,t=(e.mode&1)!==0,n){case"dialog":qt("cancel",r),qt("close",r);break;case"iframe":case"object":case"embed":qt("load",r);break;case"video":case"audio":for(i=0;i<Dc.length;i++)qt(Dc[i],r);break;case"source":qt("error",r);break;case"img":case"image":case"link":qt("error",r),qt("load",r);break;case"details":qt("toggle",r);break;case"input":mx(r,a),qt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},qt("invalid",r);break;case"textarea":Ax(r,a),qt("invalid",r)}Og(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&ih(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&ih(r.textContent,o,t),i=["children",""+o]):Au.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&qt("scroll",r)}switch(n){case"input":Kd(r),gx(r,a,!0);break;case"textarea":Kd(r),vx(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=pf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[bi]=e,t[Iu]=r,S2(t,e,!1,!1),e.stateNode=t;e:{switch(s=Bg(n,r),n){case"dialog":qt("cancel",t),qt("close",t),i=r;break;case"iframe":case"object":case"embed":qt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Dc.length;i++)qt(Dc[i],t);i=r;break;case"source":qt("error",t),i=r;break;case"img":case"image":case"link":qt("error",t),qt("load",t),i=r;break;case"details":qt("toggle",t),i=r;break;case"input":mx(t,r),i=Pg(t,r),qt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=rn({},r,{value:void 0}),qt("invalid",t);break;case"textarea":Ax(t,r),i=Mg(t,r),qt("invalid",t);break;default:i=r}Og(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?lC(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&sC(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&vu(t,l):typeof l=="number"&&vu(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Au.hasOwnProperty(a)?l!=null&&a==="onScroll"&&qt("scroll",t):l!=null&&N0(t,a,l,s))}switch(n){case"input":Kd(t),gx(t,r,!1);break;case"textarea":Kd(t),vx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ya(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?ol(t,!!r.multiple,a,!1):r.defaultValue!=null&&ol(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=pf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xn(e),null;case 6:if(t&&e.stateNode!=null)D2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Te(166));if(n=Fs(Su.current),Fs(Si.current),ah(e)){if(r=e.stateNode,n=e.memoizedProps,r[bi]=e,(a=r.nodeValue!==n)&&(t=jr,t!==null))switch(t.tag){case 3:ih(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ih(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bi]=e,e.stateNode=r}return Xn(e),null;case 13:if($t(tn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qt&&Rr!==null&&e.mode&1&&!(e.flags&128))XC(),Cl(),e.flags|=98560,a=!1;else if(a=ah(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(Te(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Te(317));a[bi]=e}else Cl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xn(e),a=!1}else ai!==null&&(yA(ai),ai=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||tn.current&1?In===0&&(In=3):uv())),e.updateQueue!==null&&(e.flags|=4),Xn(e),null);case 4:return Tl(),dA(t,e),t===null&&Eu(e.stateNode.containerInfo),Xn(e),null;case 10:return H0(e.type._context),Xn(e),null;case 17:return xr(e.type)&&mf(),Xn(e),null;case 19:if($t(tn),a=e.memoizedState,a===null)return Xn(e),null;if(r=(e.flags&128)!==0,s=a.rendering,s===null)if(r)Ac(a,!1);else{if(In!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=wf(t),s!==null){for(e.flags|=128,Ac(a,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Wt(tn,tn.current&1|2),e.child}t=t.sibling}a.tail!==null&&gn()>Nl&&(e.flags|=128,r=!0,Ac(a,!1),e.lanes=4194304)}else{if(!r)if(t=wf(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ac(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Qt)return Xn(e),null}else 2*gn()-a.renderingStartTime>Nl&&n!==1073741824&&(e.flags|=128,r=!0,Ac(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=gn(),e.sibling=null,n=tn.current,Wt(tn,r?n&1|2:n&1),e):(Xn(e),null);case 22:case 23:return cv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Sr&1073741824&&(Xn(e),e.subtreeFlags&6&&(e.flags|=8192)):Xn(e),null;case 24:return null;case 25:return null}throw Error(Te(156,e.tag))}function WD(t,e){switch(W0(e),e.tag){case 1:return xr(e.type)&&mf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Tl(),$t(yr),$t(tr),J0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Y0(e),null;case 13:if($t(tn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Te(340));Cl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $t(tn),null;case 4:return Tl(),null;case 10:return H0(e.type._context),null;case 22:case 23:return cv(),null;case 24:return null;default:return null}}var lh=!1,Jn=!1,GD=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Jo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){cn(t,e,r)}else n.current=null}function hA(t,e,n){try{n()}catch(r){cn(t,e,r)}}var ob=!1;function qD(t,e){if(Xg=df,t=MC(),V0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(o=s+i),h!==a||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++c===i&&(o=s),p===a&&++d===r&&(l=s),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kg={focusedElem:t,selectionRange:n},df=!1,Le=e;Le!==null;)if(e=Le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Le=t;else for(;Le!==null;){e=Le;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var A=g.memoizedProps,x=g.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?A:ri(e.type,A),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Te(163))}}catch(k){cn(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Le=t;break}Le=e.return}return g=ob,ob=!1,g}function Jc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&hA(e,n,a)}i=i.next}while(i!==r)}}function Tp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fA(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function R2(t){var e=t.alternate;e!==null&&(t.alternate=null,R2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[bi],delete e[Iu],delete e[Zg],delete e[ID],delete e[ND])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function P2(t){return t.tag===5||t.tag===3||t.tag===4}function lb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||P2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pA(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pf));else if(r!==4&&(t=t.child,t!==null))for(pA(t,e,n),t=t.sibling;t!==null;)pA(t,e,n),t=t.sibling}function mA(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(mA(t,e,n),t=t.sibling;t!==null;)mA(t,e,n),t=t.sibling}var On=null,ii=!1;function pa(t,e,n){for(n=n.child;n!==null;)j2(t,e,n),n=n.sibling}function j2(t,e,n){if(Ni&&typeof Ni.onCommitFiberUnmount=="function")try{Ni.onCommitFiberUnmount(vp,n)}catch{}switch(n.tag){case 5:Jn||Jo(n,e);case 6:var r=On,i=ii;On=null,pa(t,e,n),On=r,ii=i,On!==null&&(ii?(t=On,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):On.removeChild(n.stateNode));break;case 18:On!==null&&(ii?(t=On,n=n.stateNode,t.nodeType===8?Om(t.parentNode,n):t.nodeType===1&&Om(t,n),wu(t)):Om(On,n.stateNode));break;case 4:r=On,i=ii,On=n.stateNode.containerInfo,ii=!0,pa(t,e,n),On=r,ii=i;break;case 0:case 11:case 14:case 15:if(!Jn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&hA(n,e,s),i=i.next}while(i!==r)}pa(t,e,n);break;case 1:if(!Jn&&(Jo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){cn(n,e,o)}pa(t,e,n);break;case 21:pa(t,e,n);break;case 22:n.mode&1?(Jn=(r=Jn)||n.memoizedState!==null,pa(t,e,n),Jn=r):pa(t,e,n);break;default:pa(t,e,n)}}function cb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new GD),e.forEach(function(r){var i=eR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ni(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:On=o.stateNode,ii=!1;break e;case 3:On=o.stateNode.containerInfo,ii=!0;break e;case 4:On=o.stateNode.containerInfo,ii=!0;break e}o=o.return}if(On===null)throw Error(Te(160));j2(a,s,i),On=null,ii=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){cn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)L2(e,t),e=e.sibling}function L2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ni(e,t),Ai(t),r&4){try{Jc(3,t,t.return),Tp(3,t)}catch(A){cn(t,t.return,A)}try{Jc(5,t,t.return)}catch(A){cn(t,t.return,A)}}break;case 1:ni(e,t),Ai(t),r&512&&n!==null&&Jo(n,n.return);break;case 5:if(ni(e,t),Ai(t),r&512&&n!==null&&Jo(n,n.return),t.flags&32){var i=t.stateNode;try{vu(i,"")}catch(A){cn(t,t.return,A)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&rC(i,a),Bg(o,s);var c=Bg(o,a);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];d==="style"?lC(i,h):d==="dangerouslySetInnerHTML"?sC(i,h):d==="children"?vu(i,h):N0(i,d,h,c)}switch(o){case"input":jg(i,a);break;case"textarea":iC(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?ol(i,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?ol(i,!!a.multiple,a.defaultValue,!0):ol(i,!!a.multiple,a.multiple?[]:"",!1))}i[Iu]=a}catch(A){cn(t,t.return,A)}}break;case 6:if(ni(e,t),Ai(t),r&4){if(t.stateNode===null)throw Error(Te(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(A){cn(t,t.return,A)}}break;case 3:if(ni(e,t),Ai(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wu(e.containerInfo)}catch(A){cn(t,t.return,A)}break;case 4:ni(e,t),Ai(t);break;case 13:ni(e,t),Ai(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(ov=gn())),r&4&&cb(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Jn=(c=Jn)||d,ni(e,t),Jn=c):ni(e,t),Ai(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Le=t,d=t.child;d!==null;){for(h=Le=d;Le!==null;){switch(p=Le,m=p.child,p.tag){case 0:case 11:case 14:case 15:Jc(4,p,p.return);break;case 1:Jo(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(A){cn(r,n,A)}}break;case 5:Jo(p,p.return);break;case 22:if(p.memoizedState!==null){db(h);continue}}m!==null?(m.return=p,Le=m):db(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=oC("display",s))}catch(A){cn(t,t.return,A)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(A){cn(t,t.return,A)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ni(e,t),Ai(t),r&4&&cb(t);break;case 21:break;default:ni(e,t),Ai(t)}}function Ai(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(P2(n)){var r=n;break e}n=n.return}throw Error(Te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(vu(i,""),r.flags&=-33);var a=lb(t);mA(t,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=lb(t);pA(t,o,s);break;default:throw Error(Te(161))}}catch(l){cn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $D(t,e,n){Le=t,M2(t)}function M2(t,e,n){for(var r=(t.mode&1)!==0;Le!==null;){var i=Le,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||lh;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Jn;o=lh;var c=Jn;if(lh=s,(Jn=l)&&!c)for(Le=i;Le!==null;)s=Le,l=s.child,s.tag===22&&s.memoizedState!==null?hb(i):l!==null?(l.return=s,Le=l):hb(i);for(;a!==null;)Le=a,M2(a),a=a.sibling;Le=i,lh=o,Jn=c}ub(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Le=a):ub(t)}}function ub(t){for(;Le!==null;){var e=Le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jn||Tp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ri(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Qx(e,a,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Qx(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&wu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Te(163))}Jn||e.flags&512&&fA(e)}catch(p){cn(e,e.return,p)}}if(e===t){Le=null;break}if(n=e.sibling,n!==null){n.return=e.return,Le=n;break}Le=e.return}}function db(t){for(;Le!==null;){var e=Le;if(e===t){Le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Le=n;break}Le=e.return}}function hb(t){for(;Le!==null;){var e=Le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Tp(4,e)}catch(l){cn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){cn(e,i,l)}}var a=e.return;try{fA(e)}catch(l){cn(e,a,l)}break;case 5:var s=e.return;try{fA(e)}catch(l){cn(e,s,l)}}}catch(l){cn(e,e.return,l)}if(e===t){Le=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Le=o;break}Le=e.return}}var HD=Math.ceil,Ef=la.ReactCurrentDispatcher,av=la.ReactCurrentOwner,Hr=la.ReactCurrentBatchConfig,It=0,Ln=null,wn=null,Vn=0,Sr=0,Zo=ls(0),In=0,Pu=null,Ys=0,Ip=0,sv=0,Zc=null,mr=null,ov=0,Nl=1/0,Bi=null,Tf=!1,gA=null,Wa=null,ch=!1,Ma=null,If=0,eu=0,AA=null,Lh=-1,Mh=0;function or(){return It&6?gn():Lh!==-1?Lh:Lh=gn()}function Ga(t){return t.mode&1?It&2&&Vn!==0?Vn&-Vn:kD.transition!==null?(Mh===0&&(Mh=xC()),Mh):(t=Ot,t!==0||(t=window.event,t=t===void 0?16:IC(t.type)),t):1}function li(t,e,n,r){if(50<eu)throw eu=0,AA=null,Error(Te(185));od(t,n,r),(!(It&2)||t!==Ln)&&(t===Ln&&(!(It&2)&&(Ip|=n),In===4&&Sa(t,Vn)),br(t,r),n===1&&It===0&&!(e.mode&1)&&(Nl=gn()+500,_p&&cs()))}function br(t,e){var n=t.callbackNode;kk(t,e);var r=uf(t,t===Ln?Vn:0);if(r===0)n!==null&&bx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&bx(n),e===1)t.tag===0?SD(fb.bind(null,t)):$C(fb.bind(null,t)),ED(function(){!(It&6)&&cs()}),n=null;else{switch(bC(r)){case 1:n=P0;break;case 4:n=vC;break;case 16:n=cf;break;case 536870912:n=yC;break;default:n=cf}n=G2(n,F2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function F2(t,e){if(Lh=-1,Mh=0,It&6)throw Error(Te(327));var n=t.callbackNode;if(hl()&&t.callbackNode!==n)return null;var r=uf(t,t===Ln?Vn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Nf(t,r);else{e=r;var i=It;It|=2;var a=B2();(Ln!==t||Vn!==e)&&(Bi=null,Nl=gn()+500,Ws(t,e));do try{KD();break}catch(o){O2(t,o)}while(!0);$0(),Ef.current=a,It=i,wn!==null?e=0:(Ln=null,Vn=0,e=In)}if(e!==0){if(e===2&&(i=Gg(t),i!==0&&(r=i,e=vA(t,i))),e===1)throw n=Pu,Ws(t,0),Sa(t,r),br(t,gn()),n;if(e===6)Sa(t,r);else{if(i=t.current.alternate,!(r&30)&&!QD(i)&&(e=Nf(t,r),e===2&&(a=Gg(t),a!==0&&(r=a,e=vA(t,a))),e===1))throw n=Pu,Ws(t,0),Sa(t,r),br(t,gn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Te(345));case 2:Cs(t,mr,Bi);break;case 3:if(Sa(t,r),(r&130023424)===r&&(e=ov+500-gn(),10<e)){if(uf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){or(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Jg(Cs.bind(null,t,mr,Bi),e);break}Cs(t,mr,Bi);break;case 4:if(Sa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-oi(r);a=1<<s,s=e[s],s>i&&(i=s),r&=~a}if(r=i,r=gn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*HD(r/1960))-r,10<r){t.timeoutHandle=Jg(Cs.bind(null,t,mr,Bi),r);break}Cs(t,mr,Bi);break;case 5:Cs(t,mr,Bi);break;default:throw Error(Te(329))}}}return br(t,gn()),t.callbackNode===n?F2.bind(null,t):null}function vA(t,e){var n=Zc;return t.current.memoizedState.isDehydrated&&(Ws(t,e).flags|=256),t=Nf(t,e),t!==2&&(e=mr,mr=n,e!==null&&yA(e)),t}function yA(t){mr===null?mr=t:mr.push.apply(mr,t)}function QD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ui(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Sa(t,e){for(e&=~sv,e&=~Ip,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-oi(e),r=1<<n;t[n]=-1,e&=~r}}function fb(t){if(It&6)throw Error(Te(327));hl();var e=uf(t,0);if(!(e&1))return br(t,gn()),null;var n=Nf(t,e);if(t.tag!==0&&n===2){var r=Gg(t);r!==0&&(e=r,n=vA(t,r))}if(n===1)throw n=Pu,Ws(t,0),Sa(t,e),br(t,gn()),n;if(n===6)throw Error(Te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Cs(t,mr,Bi),br(t,gn()),null}function lv(t,e){var n=It;It|=1;try{return t(e)}finally{It=n,It===0&&(Nl=gn()+500,_p&&cs())}}function Js(t){Ma!==null&&Ma.tag===0&&!(It&6)&&hl();var e=It;It|=1;var n=Hr.transition,r=Ot;try{if(Hr.transition=null,Ot=1,t)return t()}finally{Ot=r,Hr.transition=n,It=e,!(It&6)&&cs()}}function cv(){Sr=Zo.current,$t(Zo)}function Ws(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,CD(n)),wn!==null)for(n=wn.return;n!==null;){var r=n;switch(W0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mf();break;case 3:Tl(),$t(yr),$t(tr),J0();break;case 5:Y0(r);break;case 4:Tl();break;case 13:$t(tn);break;case 19:$t(tn);break;case 10:H0(r.type._context);break;case 22:case 23:cv()}n=n.return}if(Ln=t,wn=t=qa(t.current,null),Vn=Sr=e,In=0,Pu=null,sv=Ip=Ys=0,mr=Zc=null,Ms!==null){for(e=0;e<Ms.length;e++)if(n=Ms[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Ms=null}return t}function O2(t,e){do{var n=wn;try{if($0(),Rh.current=Cf,_f){for(var r=nn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}_f=!1}if(Ks=0,Pn=En=nn=null,Yc=!1,ku=0,av.current=null,n===null||n.return===null){In=1,Pu=e,wn=null;break}e:{var a=t,s=n.return,o=n,l=e;if(e=Vn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=eb(s);if(m!==null){m.flags&=-257,tb(m,s,o,a,e),m.mode&1&&Zx(a,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var A=new Set;A.add(l),e.updateQueue=A}else g.add(l);break e}else{if(!(e&1)){Zx(a,c,e),uv();break e}l=Error(Te(426))}}else if(Qt&&o.mode&1){var x=eb(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),tb(x,s,o,a,e),G0(Il(l,o));break e}}a=l=Il(l,o),In!==4&&(In=2),Zc===null?Zc=[a]:Zc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=b2(a,l,e);Hx(a,v);break e;case 1:o=l;var y=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Wa===null||!Wa.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var k=w2(a,o,e);Hx(a,k);break e}}a=a.return}while(a!==null)}V2(n)}catch(S){e=S,wn===n&&n!==null&&(wn=n=n.return);continue}break}while(!0)}function B2(){var t=Ef.current;return Ef.current=Cf,t===null?Cf:t}function uv(){(In===0||In===3||In===2)&&(In=4),Ln===null||!(Ys&268435455)&&!(Ip&268435455)||Sa(Ln,Vn)}function Nf(t,e){var n=It;It|=2;var r=B2();(Ln!==t||Vn!==e)&&(Bi=null,Ws(t,e));do try{XD();break}catch(i){O2(t,i)}while(!0);if($0(),It=n,Ef.current=r,wn!==null)throw Error(Te(261));return Ln=null,Vn=0,In}function XD(){for(;wn!==null;)z2(wn)}function KD(){for(;wn!==null&&!bk();)z2(wn)}function z2(t){var e=W2(t.alternate,t,Sr);t.memoizedProps=t.pendingProps,e===null?V2(t):wn=e,av.current=null}function V2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=WD(n,e),n!==null){n.flags&=32767,wn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{In=6,wn=null;return}}else if(n=UD(n,e,Sr),n!==null){wn=n;return}if(e=e.sibling,e!==null){wn=e;return}wn=e=t}while(e!==null);In===0&&(In=5)}function Cs(t,e,n){var r=Ot,i=Hr.transition;try{Hr.transition=null,Ot=1,YD(t,e,n,r)}finally{Hr.transition=i,Ot=r}return null}function YD(t,e,n,r){do hl();while(Ma!==null);if(It&6)throw Error(Te(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Te(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(Dk(t,a),t===Ln&&(wn=Ln=null,Vn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ch||(ch=!0,G2(cf,function(){return hl(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Hr.transition,Hr.transition=null;var s=Ot;Ot=1;var o=It;It|=4,av.current=null,qD(t,n),L2(n,t),AD(Kg),df=!!Xg,Kg=Xg=null,t.current=n,$D(n),wk(),It=o,Ot=s,Hr.transition=a}else t.current=n;if(ch&&(ch=!1,Ma=t,If=i),a=t.pendingLanes,a===0&&(Wa=null),Ek(n.stateNode),br(t,gn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Tf)throw Tf=!1,t=gA,gA=null,t;return If&1&&t.tag!==0&&hl(),a=t.pendingLanes,a&1?t===AA?eu++:(eu=0,AA=t):eu=0,cs(),null}function hl(){if(Ma!==null){var t=bC(If),e=Hr.transition,n=Ot;try{if(Hr.transition=null,Ot=16>t?16:t,Ma===null)var r=!1;else{if(t=Ma,Ma=null,If=0,It&6)throw Error(Te(331));var i=It;for(It|=4,Le=t.current;Le!==null;){var a=Le,s=a.child;if(Le.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Le=c;Le!==null;){var d=Le;switch(d.tag){case 0:case 11:case 15:Jc(8,d,a)}var h=d.child;if(h!==null)h.return=d,Le=h;else for(;Le!==null;){d=Le;var p=d.sibling,m=d.return;if(R2(d),d===c){Le=null;break}if(p!==null){p.return=m,Le=p;break}Le=m}}}var g=a.alternate;if(g!==null){var A=g.child;if(A!==null){g.child=null;do{var x=A.sibling;A.sibling=null,A=x}while(A!==null)}}Le=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Le=s;else e:for(;Le!==null;){if(a=Le,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Jc(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,Le=v;break e}Le=a.return}}var y=t.current;for(Le=y;Le!==null;){s=Le;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,Le=b;else e:for(s=y;Le!==null;){if(o=Le,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Tp(9,o)}}catch(S){cn(o,o.return,S)}if(o===s){Le=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,Le=k;break e}Le=o.return}}if(It=i,cs(),Ni&&typeof Ni.onPostCommitFiberRoot=="function")try{Ni.onPostCommitFiberRoot(vp,t)}catch{}r=!0}return r}finally{Ot=n,Hr.transition=e}}return!1}function pb(t,e,n){e=Il(n,e),e=b2(t,e,1),t=Ua(t,e,1),e=or(),t!==null&&(od(t,1,e),br(t,e))}function cn(t,e,n){if(t.tag===3)pb(t,t,n);else for(;e!==null;){if(e.tag===3){pb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wa===null||!Wa.has(r))){t=Il(n,t),t=w2(e,t,1),e=Ua(e,t,1),t=or(),e!==null&&(od(e,1,t),br(e,t));break}}e=e.return}}function JD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=or(),t.pingedLanes|=t.suspendedLanes&n,Ln===t&&(Vn&n)===n&&(In===4||In===3&&(Vn&130023424)===Vn&&500>gn()-ov?Ws(t,0):sv|=n),br(t,e)}function U2(t,e){e===0&&(t.mode&1?(e=Zd,Zd<<=1,!(Zd&130023424)&&(Zd=4194304)):e=1);var n=or();t=ra(t,e),t!==null&&(od(t,e,n),br(t,n))}function ZD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),U2(t,n)}function eR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Te(314))}r!==null&&r.delete(e),U2(t,n)}var W2;W2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yr.current)Ar=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ar=!1,VD(t,e,n);Ar=!!(t.flags&131072)}else Ar=!1,Qt&&e.flags&1048576&&HC(e,vf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;jh(t,e),t=e.pendingProps;var i=_l(e,tr.current);dl(e,n),i=ev(null,e,r,t,i,n);var a=tv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xr(r)?(a=!0,gf(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,X0(e),i.updater=Ep,e.stateNode=i,i._reactInternals=e,aA(e,r,t,n),e=lA(null,e,r,!0,a,n)):(e.tag=0,Qt&&a&&U0(e),ar(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(jh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=nR(r),t=ri(r,t),i){case 0:e=oA(null,e,r,t,n);break e;case 1:e=ib(null,e,r,t,n);break e;case 11:e=nb(null,e,r,t,n);break e;case 14:e=rb(null,e,r,ri(r.type,t),n);break e}throw Error(Te(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ri(r,i),oA(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ri(r,i),ib(t,e,r,i,n);case 3:e:{if(T2(e),t===null)throw Error(Te(387));r=e.pendingProps,a=e.memoizedState,i=a.element,ZC(t,e),bf(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Il(Error(Te(423)),e),e=ab(t,e,r,n,i);break e}else if(r!==i){i=Il(Error(Te(424)),e),e=ab(t,e,r,n,i);break e}else for(Rr=Va(e.stateNode.containerInfo.firstChild),jr=e,Qt=!0,ai=null,n=YC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cl(),r===i){e=ia(t,e,n);break e}ar(t,e,r,n)}e=e.child}return e;case 5:return e2(e),t===null&&nA(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,Yg(r,i)?s=null:a!==null&&Yg(r,a)&&(e.flags|=32),E2(t,e),ar(t,e,s,n),e.child;case 6:return t===null&&nA(e),null;case 13:return I2(t,e,n);case 4:return K0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=El(e,null,r,n):ar(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ri(r,i),nb(t,e,r,i,n);case 7:return ar(t,e,e.pendingProps,n),e.child;case 8:return ar(t,e,e.pendingProps.children,n),e.child;case 12:return ar(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Wt(yf,r._currentValue),r._currentValue=s,a!==null)if(ui(a.value,s)){if(a.children===i.children&&!yr.current){e=ia(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Ji(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),rA(a.return,n,e),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Te(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),rA(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}ar(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,dl(e,n),i=Xr(i),r=r(i),e.flags|=1,ar(t,e,r,n),e.child;case 14:return r=e.type,i=ri(r,e.pendingProps),i=ri(r.type,i),rb(t,e,r,i,n);case 15:return _2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ri(r,i),jh(t,e),e.tag=1,xr(r)?(t=!0,gf(e)):t=!1,dl(e,n),x2(e,r,i),aA(e,r,i,n),lA(null,e,r,!0,t,n);case 19:return N2(t,e,n);case 22:return C2(t,e,n)}throw Error(Te(156,e.tag))};function G2(t,e){return AC(t,e)}function tR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(t,e,n,r){return new tR(t,e,n,r)}function dv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nR(t){if(typeof t=="function")return dv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===k0)return 11;if(t===D0)return 14}return 2}function qa(t,e){var n=t.alternate;return n===null?(n=qr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fh(t,e,n,r,i,a){var s=2;if(r=t,typeof t=="function")dv(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Wo:return Gs(n.children,i,a,e);case S0:s=8,i|=8;break;case Sg:return t=qr(12,n,e,i|2),t.elementType=Sg,t.lanes=a,t;case kg:return t=qr(13,n,e,i),t.elementType=kg,t.lanes=a,t;case Dg:return t=qr(19,n,e,i),t.elementType=Dg,t.lanes=a,t;case eC:return Np(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J_:s=10;break e;case Z_:s=9;break e;case k0:s=11;break e;case D0:s=14;break e;case wa:s=16,r=null;break e}throw Error(Te(130,t==null?t:typeof t,""))}return e=qr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Gs(t,e,n,r){return t=qr(7,t,r,e),t.lanes=n,t}function Np(t,e,n,r){return t=qr(22,t,r,e),t.elementType=eC,t.lanes=n,t.stateNode={isHidden:!1},t}function $m(t,e,n){return t=qr(6,t,null,e),t.lanes=n,t}function Hm(t,e,n){return e=qr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Im(0),this.expirationTimes=Im(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Im(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hv(t,e,n,r,i,a,s,o,l){return t=new rR(t,e,n,o,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=qr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},X0(a),t}function iR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Uo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function q2(t){if(!t)return Ja;t=t._reactInternals;e:{if(mo(t)!==t||t.tag!==1)throw Error(Te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Te(171))}if(t.tag===1){var n=t.type;if(xr(n))return qC(t,n,e)}return e}function $2(t,e,n,r,i,a,s,o,l){return t=hv(n,r,!0,t,i,a,s,o,l),t.context=q2(null),n=t.current,r=or(),i=Ga(n),a=Ji(r,i),a.callback=e??null,Ua(n,a,i),t.current.lanes=i,od(t,i,r),br(t,r),t}function Sp(t,e,n,r){var i=e.current,a=or(),s=Ga(i);return n=q2(n),e.context===null?e.context=n:e.pendingContext=n,e=Ji(a,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ua(i,e,s),t!==null&&(li(t,i,s,a),Dh(t,i,s)),s}function Sf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fv(t,e){mb(t,e),(t=t.alternate)&&mb(t,e)}function aR(){return null}var H2=typeof reportError=="function"?reportError:function(t){console.error(t)};function pv(t){this._internalRoot=t}kp.prototype.render=pv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Te(409));Sp(t,e,null,null)};kp.prototype.unmount=pv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Js(function(){Sp(null,t,null,null)}),e[na]=null}};function kp(t){this._internalRoot=t}kp.prototype.unstable_scheduleHydration=function(t){if(t){var e=CC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Na.length&&e!==0&&e<Na[n].priority;n++);Na.splice(n,0,t),n===0&&TC(t)}};function mv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Dp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gb(){}function sR(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=Sf(s);a.call(c)}}var s=$2(e,r,t,0,null,!1,!1,"",gb);return t._reactRootContainer=s,t[na]=s.current,Eu(t.nodeType===8?t.parentNode:t),Js(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=Sf(l);o.call(c)}}var l=hv(t,0,!1,null,null,!1,!1,"",gb);return t._reactRootContainer=l,t[na]=l.current,Eu(t.nodeType===8?t.parentNode:t),Js(function(){Sp(e,l,n,r)}),l}function Rp(t,e,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Sf(s);o.call(l)}}Sp(e,s,t,i)}else s=sR(n,e,t,i,r);return Sf(s)}wC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=kc(e.pendingLanes);n!==0&&(j0(e,n|1),br(e,gn()),!(It&6)&&(Nl=gn()+500,cs()))}break;case 13:Js(function(){var r=ra(t,1);if(r!==null){var i=or();li(r,t,1,i)}}),fv(t,1)}};L0=function(t){if(t.tag===13){var e=ra(t,134217728);if(e!==null){var n=or();li(e,t,134217728,n)}fv(t,134217728)}};_C=function(t){if(t.tag===13){var e=Ga(t),n=ra(t,e);if(n!==null){var r=or();li(n,t,e,r)}fv(t,e)}};CC=function(){return Ot};EC=function(t,e){var n=Ot;try{return Ot=t,e()}finally{Ot=n}};Vg=function(t,e,n){switch(e){case"input":if(jg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=wp(r);if(!i)throw Error(Te(90));nC(r),jg(r,i)}}}break;case"textarea":iC(t,n);break;case"select":e=n.value,e!=null&&ol(t,!!n.multiple,e,!1)}};dC=lv;hC=Js;var oR={usingClientEntryPoint:!1,Events:[cd,Ho,wp,cC,uC,lv]},vc={findFiberByHostInstance:Ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lR={bundleType:vc.bundleType,version:vc.version,rendererPackageName:vc.rendererPackageName,rendererConfig:vc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:la.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mC(t),t===null?null:t.stateNode},findFiberByHostInstance:vc.findFiberByHostInstance||aR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{vp=uh.inject(lR),Ni=uh}catch{}}Fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oR;Fr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mv(e))throw Error(Te(200));return iR(t,e,null,n)};Fr.createRoot=function(t,e){if(!mv(t))throw Error(Te(299));var n=!1,r="",i=H2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=hv(t,1,!1,null,null,n,!1,r,i),t[na]=e.current,Eu(t.nodeType===8?t.parentNode:t),new pv(e)};Fr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Te(188)):(t=Object.keys(t).join(","),Error(Te(268,t)));return t=mC(e),t=t===null?null:t.stateNode,t};Fr.flushSync=function(t){return Js(t)};Fr.hydrate=function(t,e,n){if(!Dp(e))throw Error(Te(200));return Rp(null,t,e,!0,n)};Fr.hydrateRoot=function(t,e,n){if(!mv(t))throw Error(Te(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=H2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=$2(e,null,t,1,n??null,i,!1,a,s),t[na]=e.current,Eu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new kp(e)};Fr.render=function(t,e,n){if(!Dp(e))throw Error(Te(200));return Rp(null,t,e,!1,n)};Fr.unmountComponentAtNode=function(t){if(!Dp(t))throw Error(Te(40));return t._reactRootContainer?(Js(function(){Rp(null,null,t,!1,function(){t._reactRootContainer=null,t[na]=null})}),!0):!1};Fr.unstable_batchedUpdates=lv;Fr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Dp(n))throw Error(Te(200));if(t==null||t._reactInternals===void 0)throw Error(Te(38));return Rp(t,e,n,!1,r)};Fr.version="18.3.1-next-f1338f8080-20240426";function Q2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q2)}catch(t){console.error(t)}}Q2(),Q_.exports=Fr;var el=Q_.exports,Ab=el;Ig.createRoot=Ab.createRoot,Ig.hydrateRoot=Ab.hydrateRoot;function di(){return di=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},di.apply(this,arguments)}function cR(t,e){if(t){if(typeof t=="string")return vb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vb(t,e)}}function vb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X2(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=cR(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var qe;(function(t){t.Hour="Hour",t.QuarterDay="Quarter Day",t.HalfDay="Half Day",t.Day="Day",t.Week="Week",t.Month="Month",t.Year="Year"})(qe||(qe={}));var yb={},kf=function(e,n){n===void 0&&(n={});var r=JSON.stringify([e,n]),i=yb[r];return i||(i=new Intl.DateTimeFormat(e,n),yb[r]=i),i},ln=function(e,n,r){var i=new Date(e.getFullYear()+(r==="year"?n:0),e.getMonth()+(r==="month"?n:0),e.getDate()+(r==="day"?n:0),e.getHours()+(r==="hour"?n:0),e.getMinutes()+(r==="minute"?n:0),e.getSeconds()+(r==="second"?n:0),e.getMilliseconds()+(r==="millisecond"?n:0));return i},fr=function(e,n){var r=["millisecond","second","minute","hour","day","month","year"],i=function(o){var l=r.indexOf(n);return r.indexOf(o)<=l},a=new Date(e.getFullYear(),i("year")?0:e.getMonth(),i("month")?1:e.getDate(),i("day")?0:e.getHours(),i("hour")?0:e.getMinutes(),i("minute")?0:e.getSeconds(),i("second")?0:e.getMilliseconds());return a},xb=function(e,n,r){for(var i=e[0].start,a=e[0].start,s=X2(e),o;!(o=s()).done;){var l=o.value;l.start<i&&(i=l.start),l.end>a&&(a=l.end)}switch(n){case qe.Year:i=ln(i,-1,"year"),i=fr(i,"year"),a=ln(a,1,"year"),a=fr(a,"year");break;case qe.Month:i=ln(i,-1*r,"month"),i=fr(i,"month"),a=ln(a,1,"year"),a=fr(a,"year");break;case qe.Week:i=fr(i,"day"),i=ln(uR(i),-7*r,"day"),a=fr(a,"day"),a=ln(a,1.5,"month");break;case qe.Day:i=fr(i,"day"),i=ln(i,-1*r,"day"),a=fr(a,"day"),a=ln(a,19,"day");break;case qe.QuarterDay:i=fr(i,"day"),i=ln(i,-1*r,"day"),a=fr(a,"day"),a=ln(a,66,"hour");break;case qe.HalfDay:i=fr(i,"day"),i=ln(i,-1*r,"day"),a=fr(a,"day"),a=ln(a,108,"hour");break;case qe.Hour:i=fr(i,"hour"),i=ln(i,-1*r,"hour"),a=fr(a,"day"),a=ln(a,1,"day");break}return[i,a]},bb=function(e,n,r){for(var i=new Date(e),a=[i];i<n;){switch(r){case qe.Year:i=ln(i,1,"year");break;case qe.Month:i=ln(i,1,"month");break;case qe.Week:i=ln(i,7,"day");break;case qe.Day:i=ln(i,1,"day");break;case qe.HalfDay:i=ln(i,12,"hour");break;case qe.QuarterDay:i=ln(i,6,"hour");break;case qe.Hour:i=ln(i,1,"hour");break}a.push(i)}return a},yc=function(e,n){var r=kf(n,{month:"long"}).format(e);return r=r.replace(r[0],r[0].toLocaleUpperCase()),r},Qm=function(e,n,r){var i=kf(n,{weekday:r}).format(e);return i=i.replace(i[0],i[0].toLocaleUpperCase()),i},uR=function(e){var n=e.getDay(),r=e.getDate()-n+(n===0?-6:1);return new Date(e.setDate(r))},dR=function(e){var n=new Date(e.valueOf()),r=(n.getDay()+6)%7;n.setDate(n.getDate()-r+3);var i=n.valueOf();n.setMonth(0,1),n.getDay()!==4&&n.setMonth(0,1+(4-n.getDay()+7)%7);var a=(1+Math.ceil((i-n.valueOf())/6048e5)).toString();return a.length===1?"0"+a:a},hR=function(e,n){return new Date(n,e+1,0).getDate()},As={ganttTable:"_3_ygE",ganttTable_Header:"_1nBOt",ganttTable_HeaderSeparator:"_2eZzQ",ganttTable_HeaderItem:"_WuQ0f"},fR=function(e){var n=e.headerHeight,r=e.fontFamily,i=e.fontSize,a=e.rowWidth;return de.createElement("div",{className:As.ganttTable,style:{fontFamily:r,fontSize:i}},de.createElement("div",{className:As.ganttTable_Header,style:{height:n-2}},de.createElement("div",{className:As.ganttTable_HeaderItem,style:{minWidth:a}},"Name"),de.createElement("div",{className:As.ganttTable_HeaderSeparator,style:{height:n*.5,marginTop:n*.2}}),de.createElement("div",{className:As.ganttTable_HeaderItem,style:{minWidth:a}},"From"),de.createElement("div",{className:As.ganttTable_HeaderSeparator,style:{height:n*.5,marginTop:n*.25}}),de.createElement("div",{className:As.ganttTable_HeaderItem,style:{minWidth:a}},"To")))},ma={taskListWrapper:"_3ZbQT",taskListTableRow:"_34SS0",taskListCell:"_3lLk3",taskListNameWrapper:"_nI1Xw",taskListExpander:"_2QjE6",taskListEmptyExpander:"_2TfEi"},wb={},pR=function(e){return function(n,r){var i=n.toString(),a=wb[i];return a||(a=n.toLocaleDateString(e,r),wb[i]=a),a}},_b={weekday:"short",year:"numeric",month:"long",day:"numeric"},mR=function(e){var n=e.rowHeight,r=e.rowWidth,i=e.tasks,a=e.fontFamily,s=e.fontSize,o=e.locale,l=e.onExpanderClick,c=F.useMemo(function(){return pR(o)},[o]);return de.createElement("div",{className:ma.taskListWrapper,style:{fontFamily:a,fontSize:s}},i.map(function(d){var h="";return d.hideChildren===!1?h="":d.hideChildren===!0&&(h=""),de.createElement("div",{className:ma.taskListTableRow,style:{height:n},key:d.id+"row"},de.createElement("div",{className:ma.taskListCell,style:{minWidth:r,maxWidth:r},title:d.name},de.createElement("div",{className:ma.taskListNameWrapper},de.createElement("div",{className:h?ma.taskListExpander:ma.taskListEmptyExpander,onClick:function(){return l(d)}},h),de.createElement("div",null,d.name))),de.createElement("div",{className:ma.taskListCell,style:{minWidth:r,maxWidth:r}},"",c(d.start,_b)),de.createElement("div",{className:ma.taskListCell,style:{minWidth:r,maxWidth:r}},"",c(d.end,_b)))}))},tu={tooltipDefaultContainer:"_3T42e",tooltipDefaultContainerParagraph:"_29NTg",tooltipDetailsContainer:"_25P-K",tooltipDetailsContainerHidden:"_3gVAq"},gR=function(e){var n=e.task,r=e.rowHeight,i=e.rtl,a=e.svgContainerHeight,s=e.svgContainerWidth,o=e.scrollX,l=e.scrollY,c=e.arrowIndent,d=e.fontSize,h=e.fontFamily,p=e.headerHeight,m=e.taskListWidth,g=e.TooltipContent,A=F.useRef(null),x=F.useState(0),v=x[0],y=x[1],b=F.useState(0),k=b[0],S=b[1];return F.useEffect(function(){if(A.current){var L=A.current.offsetHeight*1.1,w=A.current.offsetWidth*1.1,T=n.index*r-l+p,_;if(i){_=n.x1-c*1.5-w-o,_<0&&(_=n.x2+c*1.5-o);var D=w+_;D>s&&(_=s-w,T+=r)}else{_=n.x2+c*1.5+m-o;var j=w+_,N=m+s;j>N&&(_=n.x1+m-c*1.5-o-w),_<m&&(_=s+m-w,T+=r)}var R=L+T-l;R>a-l&&(T=a-L),y(T),S(_)}},[A,n,c,o,l,p,m,r,a,s,i]),de.createElement("div",{ref:A,className:k?tu.tooltipDetailsContainer:tu.tooltipDetailsContainerHidden,style:{left:k,top:v}},de.createElement(g,{task:n,fontSize:d,fontFamily:h}))},AR=function(e){var n=e.task,r=e.fontSize,i=e.fontFamily,a={fontSize:r,fontFamily:i};return de.createElement("div",{className:tu.tooltipDefaultContainer,style:a},de.createElement("b",{style:{fontSize:r+6}},n.name+": "+n.start.getDate()+"-"+(n.start.getMonth()+1)+"-"+n.start.getFullYear()+" - "+n.end.getDate()+"-"+(n.end.getMonth()+1)+"-"+n.end.getFullYear()),n.end.getTime()-n.start.getTime()!==0&&de.createElement("p",{className:tu.tooltipDefaultContainerParagraph},"Duration: "+~~((n.end.getTime()-n.start.getTime())/(1e3*60*60*24))+" day(s)"),de.createElement("p",{className:tu.tooltipDefaultContainerParagraph},!!n.progress&&"Progress: "+n.progress+" %"))},vR={scroll:"_1eT-t"},yR=function(e){var n=e.scroll,r=e.ganttHeight,i=e.ganttFullHeight,a=e.headerHeight,s=e.rtl,o=e.onScroll,l=F.useRef(null);return F.useEffect(function(){l.current&&(l.current.scrollTop=n)},[n]),de.createElement("div",{style:{height:r,marginTop:a,marginLeft:s?"":"-1rem"},className:vR.scroll,onScroll:o,ref:l},de.createElement("div",{style:{height:i,width:1}}))},xR=function(e){var n=e.headerHeight,r=e.fontFamily,i=e.fontSize,a=e.rowWidth,s=e.rowHeight,o=e.scrollY,l=e.tasks,c=e.selectedTask,d=e.setSelectedTask,h=e.onExpanderClick,p=e.locale,m=e.ganttHeight,g=e.taskListRef,A=e.horizontalContainerClass,x=e.TaskListHeader,v=e.TaskListTable,y=F.useRef(null);F.useEffect(function(){y.current&&(y.current.scrollTop=o)},[o]);var b={headerHeight:n,fontFamily:r,fontSize:i,rowWidth:a},k=c?c.id:"",S={rowHeight:s,rowWidth:a,fontFamily:r,fontSize:i,tasks:l,locale:p,selectedTaskId:k,setSelectedTask:d,onExpanderClick:h};return de.createElement("div",{ref:g},de.createElement(x,Object.assign({},b)),de.createElement("div",{ref:y,className:A,style:m?{height:m}:{}},de.createElement(v,Object.assign({},S))))},dh={gridRow:"_2dZTy",gridRowLine:"_3rUKi",gridTick:"_RuwuK"},bR=function(e){for(var n=e.tasks,r=e.dates,i=e.rowHeight,a=e.svgWidth,s=e.columnWidth,o=e.todayColor,l=e.rtl,c=0,d=[],h=[de.createElement("line",{key:"RowLineFirst",x:"0",y1:0,x2:a,y2:0,className:dh.gridRowLine})],p=X2(n),m;!(m=p()).done;){var g=m.value;d.push(de.createElement("rect",{key:"Row"+g.id,x:"0",y:c,width:a,height:i,className:dh.gridRow})),h.push(de.createElement("line",{key:"RowLine"+g.id,x:"0",y1:c+i,x2:a,y2:c+i,className:dh.gridRowLine})),c+=i}for(var A=new Date,x=0,v=[],y=de.createElement("rect",null),b=0;b<r.length;b++){var k=r[b];v.push(de.createElement("line",{key:k.getTime(),x1:x,y1:0,x2:x,y2:c,className:dh.gridTick})),(b+1!==r.length&&k.getTime()<A.getTime()&&r[b+1].getTime()>=A.getTime()||b!==0&&b+1===r.length&&k.getTime()<A.getTime()&&ln(k,k.getTime()-r[b-1].getTime(),"millisecond").getTime()>=A.getTime())&&(y=de.createElement("rect",{x,y:0,width:s,height:c,fill:o})),l&&b+1!==r.length&&k.getTime()>=A.getTime()&&r[b+1].getTime()<A.getTime()&&(y=de.createElement("rect",{x:x+s,y:0,width:s,height:c,fill:o})),x+=s}return de.createElement("g",{className:"gridBody"},de.createElement("g",{className:"rows"},d),de.createElement("g",{className:"rowLines"},h),de.createElement("g",{className:"ticks"},v),de.createElement("g",{className:"today"},y))},wR=function(e){return de.createElement("g",{className:"grid"},de.createElement(bR,Object.assign({},e)))},zi={calendarBottomText:"_9w8d5",calendarTopTick:"_1rLuZ",calendarTopText:"_2q1Kt",calendarHeader:"_35nLX"},Co=function(e){var n=e.value,r=e.x1Line,i=e.y1Line,a=e.y2Line,s=e.xText,o=e.yText;return de.createElement("g",{className:"calendarTop"},de.createElement("line",{x1:r,y1:i,x2:r,y2:a,className:zi.calendarTopTick,key:n+"line"}),de.createElement("text",{key:n+"text",y:o,x:s,className:zi.calendarTopText},n))},_R=function(e){var n=e.dateSetup,r=e.locale,i=e.viewMode,a=e.rtl,s=e.headerHeight,o=e.columnWidth,l=e.fontFamily,c=e.fontSize,d=function(){for(var _=[],D=[],j=s*.5,N=0;N<n.dates.length;N++){var R=n.dates[N],C=R.getFullYear();if(D.push(de.createElement("text",{key:R.getFullYear(),y:s*.8,x:o*N+o*.5,className:zi.calendarBottomText},C)),N===0||R.getFullYear()!==n.dates[N-1].getFullYear()){var B=R.getFullYear().toString(),$=void 0;a?$=(6+N+R.getFullYear()+1)*o:$=(6+N-R.getFullYear())*o,_.push(de.createElement(Co,{key:B,value:B,x1Line:o*N,y1Line:0,y2Line:s,xText:$,yText:j*.9}))}}return[_,D]},h=function(){for(var _=[],D=[],j=s*.5,N=0;N<n.dates.length;N++){var R=n.dates[N],C=yc(R,r);if(D.push(de.createElement("text",{key:C+R.getFullYear(),y:s*.8,x:o*N+o*.5,className:zi.calendarBottomText},C)),N===0||R.getFullYear()!==n.dates[N-1].getFullYear()){var B=R.getFullYear().toString(),$=void 0;a?$=(6+N+R.getMonth()+1)*o:$=(6+N-R.getMonth())*o,_.push(de.createElement(Co,{key:B,value:B,x1Line:o*N,y1Line:0,y2Line:j,xText:$,yText:j*.9}))}}return[_,D]},p=function(){for(var _=[],D=[],j=1,N=s*.5,R=n.dates,C=R.length-1;C>=0;C--){var B=R[C],$="";(C===0||B.getMonth()!==R[C-1].getMonth())&&($=yc(B,r)+", "+B.getFullYear());var J="W"+dR(B);D.push(de.createElement("text",{key:B.getTime(),y:s*.8,x:o*(C+ +a),className:zi.calendarBottomText},J)),$&&(C!==R.length-1&&_.push(de.createElement(Co,{key:$,value:$,x1Line:o*C+j*o,y1Line:0,y2Line:N,xText:o*C+o*j*.5,yText:N*.9})),j=0),j++}return[_,D]},m=function(){for(var _=[],D=[],j=s*.5,N=n.dates,R=0;R<N.length;R++){var C=N[R],B=Qm(C,r,"short")+", "+C.getDate().toString();if(D.push(de.createElement("text",{key:C.getTime(),y:s*.8,x:o*R+o*.5,className:zi.calendarBottomText},B)),R+1!==N.length&&C.getMonth()!==N[R+1].getMonth()){var $=yc(C,r);_.push(de.createElement(Co,{key:$+C.getFullYear(),value:$,x1Line:o*(R+1),y1Line:0,y2Line:j,xText:o*(R+1)-hR(C.getMonth(),C.getFullYear())*o*.5,yText:j*.9}))}}return[_,D]},g=function(){for(var _=[],D=[],j=i===qe.HalfDay?2:4,N=s*.5,R=n.dates,C=0;C<R.length;C++){var B=R[C],$=kf(r,{hour:"numeric"}).format(B);if(D.push(de.createElement("text",{key:B.getTime(),y:s*.8,x:o*(C+ +a),className:zi.calendarBottomText,fontFamily:l},$)),C===0||B.getDate()!==R[C-1].getDate()){var J=Qm(B,r,"short")+", "+B.getDate()+" "+yc(B,r);_.push(de.createElement(Co,{key:J+B.getFullYear(),value:J,x1Line:o*C+j*o,y1Line:0,y2Line:N,xText:o*C+j*o*.5,yText:N*.9}))}}return[_,D]},A=function(){for(var _=[],D=[],j=s*.5,N=n.dates,R=0;R<N.length;R++){var C=N[R],B=kf(r,{hour:"numeric"}).format(C);if(D.push(de.createElement("text",{key:C.getTime(),y:s*.8,x:o*(R+ +a),className:zi.calendarBottomText,fontFamily:l},B)),R!==0&&C.getDate()!==N[R-1].getDate()){var $=N[R-1],J=Qm($,r,"long")+", "+$.getDate()+" "+yc($,r),ee=(C.getHours()-24)/2;_.push(de.createElement(Co,{key:J+$.getFullYear(),value:J,x1Line:o*R,y1Line:0,y2Line:j,xText:o*(R+ee),yText:j*.9}))}}return[_,D]},x=[],v=[];switch(n.viewMode){case qe.Year:var y=d();x=y[0],v=y[1];break;case qe.Month:var b=h();x=b[0],v=b[1];break;case qe.Week:var k=p();x=k[0],v=k[1];break;case qe.Day:var S=m();x=S[0],v=S[1];break;case qe.QuarterDay:case qe.HalfDay:var L=g();x=L[0],v=L[1];break;case qe.Hour:var w=A();x=w[0],v=w[1]}return de.createElement("g",{className:"calendar",fontSize:c,fontFamily:l},de.createElement("rect",{x:0,y:0,width:o*n.dates.length,height:s,className:zi.calendarHeader}),v," ",x)};typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function Xm(t,e){try{var n=t()}catch(r){return e(r)}return n&&n.then?n.then(void 0,e):n}var CR=function(e){var n=e.taskFrom,r=e.taskTo,i=e.rowHeight,a=e.taskHeight,s=e.arrowIndent,o=e.rtl,l,c;if(o){var d=TR(n,r,i,a,s);l=d[0],c=d[1]}else{var h=ER(n,r,i,a,s);l=h[0],c=h[1]}return de.createElement("g",{className:"arrow"},de.createElement("path",{strokeWidth:"1.5",d:l,fill:"none"}),de.createElement("polygon",{points:c}))},ER=function(e,n,r,i,a){var s=e.index>n.index?-1:1,o=n.y+i/2,l=e.x2+a*2,c=l<n.x1?"":"H "+(n.x1-a),d=l>n.x1?a:n.x1-e.x2-a,h="M "+e.x2+" "+(e.y+i/2)+` 
  h `+a+` 
  v `+s*r/2+` 
  `+c+`
  V `+o+` 
  h `+d,p=n.x1+","+o+` 
  `+(n.x1-5)+","+(o-5)+` 
  `+(n.x1-5)+","+(o+5);return[h,p]},TR=function(e,n,r,i,a){var s=e.index>n.index?-1:1,o=n.y+i/2,l=e.x1-a*2,c=l>n.x2?"":"H "+(n.x2+a),d=l<n.x2?-a:n.x2-e.x1+a,h="M "+e.x1+" "+(e.y+i/2)+` 
  h `+-a+` 
  v `+s*r/2+` 
  `+c+`
  V `+o+` 
  h `+d,p=n.x2+","+o+` 
  `+(n.x2+5)+","+(o+5)+` 
  `+(n.x2+5)+","+(o-5);return[h,p]},IR=function(e,n,r,i,a,s,o,l,c,d,h,p,m,g,A,x,v,y){var b=e.map(function(k,S){return NR(k,S,n,r,i,a,s,o,l,c,d,h,p,m,g,A,x,v,y)});return b=b.map(function(k){for(var S=k.dependencies||[],L=function(_){var D=b.findIndex(function(j){return j.id===S[_]});D!==-1&&b[D].barChildren.push(k)},w=0;w<S.length;w++)L(w);return k}),b},NR=function(e,n,r,i,a,s,o,l,c,d,h,p,m,g,A,x,v,y,b){var k;switch(e.type){case"milestone":k=SR(e,n,r,i,a,s,o,l,y,b);break;case"project":k=Cb(e,n,r,i,a,s,o,l,c,g,A,x,v);break;default:k=Cb(e,n,r,i,a,s,o,l,c,d,h,p,m);break}return k},Cb=function(e,n,r,i,a,s,o,l,c,d,h,p,m){var g,A;c?(A=Eb(e.start,r,i),g=Eb(e.end,r,i)):(g=Df(e.start,r,i),A=Df(e.end,r,i));var x=e.type;x==="task"&&A-g<l*2&&(x="smalltask",A=g+l*2);var v=Rc(g,A,e.progress,c),y=v[0],b=v[1],k=K2(n,a,s),S=e.type==="project"?e.hideChildren:void 0,L=di({backgroundColor:p,backgroundSelectedColor:m,progressColor:d,progressSelectedColor:h},e.styles);return di({},e,{typeInternal:x,x1:g,x2:A,y:k,index:n,progressX:b,progressWidth:y,barCornerRadius:o,handleWidth:l,hideChildren:S,height:s,barChildren:[],styles:L})},SR=function(e,n,r,i,a,s,o,l,c,d){var h=Df(e.start,r,i),p=K2(n,a,s),m=h-s*.5,g=h+s*.5,A=s/1.414,x=di({backgroundColor:c,backgroundSelectedColor:d,progressColor:"",progressSelectedColor:""},e.styles);return di({},e,{end:e.start,x1:m,x2:g,y:p,index:n,progressX:0,progressWidth:0,barCornerRadius:o,handleWidth:l,typeInternal:e.type,progress:0,height:A,hideChildren:void 0,barChildren:[],styles:x})},Df=function(e,n,r){var i=n.findIndex(function(l){return l.getTime()>=e.getTime()})-1,a=e.getTime()-n[i].getTime(),s=a/(n[i+1].getTime()-n[i].getTime()),o=i*r+s*r;return o},Eb=function(e,n,r){var i=Df(e,n,r);return i+=r,i},K2=function(e,n,r){var i=e*n+(n-r)/2;return i},Rc=function(e,n,r,i){var a=(n-e)*r*.01,s;return i?s=n-a:s=e,[a,s]},kR=function(e,n){if(e>=n.x2)return 100;if(e<=n.x1)return 0;var r=n.x2-n.x1,i=Math.round((e-n.x1)*100/r);return i},DR=function(e,n){if(e>=n.x2)return 0;if(e<=n.x1)return 100;var r=n.x2-n.x1,i=Math.round((n.x2-e)*100/r);return i},Y2=function(e,n,r){var i=[e-5,n+r,e+5,n+r,e,n+r-8.66];return i.join(",")},RR=function(e,n,r){e>=r.x2-r.handleWidth*2&&(e=r.x2-r.handleWidth*2);var i=Math.round((e-r.x1)/n),a=i*n,s=r.x1+a;return s},PR=function(e,n,r){e<=r.x1+r.handleWidth*2&&(e=r.x1+r.handleWidth*2);var i=Math.round((e-r.x2)/n),a=i*n,s=r.x2+a;return s},J2=function(e,n,r){var i=Math.round((e-r.x1)/n),a=i*n,s=r.x1+a,o=s+r.x2-r.x1;return[s,o]},Es=function(e,n,r,i,a){var s=new Date((e-n)/i*a+r.getTime());return s=new Date(s.getTime()+(s.getTimezoneOffset()-r.getTimezoneOffset())*6e4),s},Tb=function(e,n,r,i,a,s,o){var l;switch(r.type){case"milestone":l=LR(e,n,r,i,a,s);break;default:l=jR(e,n,r,i,a,s,o);break}return l},jR=function(e,n,r,i,a,s,o){var l=di({},r),c=!1;switch(n){case"progress":if(o?l.progress=DR(e,r):l.progress=kR(e,r),c=l.progress!==r.progress,c){var d=Rc(l.x1,l.x2,l.progress,o),h=d[0],p=d[1];l.progressWidth=h,l.progressX=p}break;case"start":{var m=RR(e,i,r);if(l.x1=m,c=l.x1!==r.x1,c){o?l.end=Es(m,r.x1,r.end,i,a):l.start=Es(m,r.x1,r.start,i,a);var g=Rc(l.x1,l.x2,l.progress,o),A=g[0],x=g[1];l.progressWidth=A,l.progressX=x}break}case"end":{var v=PR(e,i,r);if(l.x2=v,c=l.x2!==r.x2,c){o?l.start=Es(v,r.x2,r.start,i,a):l.end=Es(v,r.x2,r.end,i,a);var y=Rc(l.x1,l.x2,l.progress,o),b=y[0],k=y[1];l.progressWidth=b,l.progressX=k}break}case"move":{var S=J2(e-s,i,r),L=S[0],w=S[1];if(c=L!==r.x1,c){l.start=Es(L,r.x1,r.start,i,a),l.end=Es(w,r.x2,r.end,i,a),l.x1=L,l.x2=w;var T=Rc(l.x1,l.x2,l.progress,o),_=T[0],D=T[1];l.progressWidth=_,l.progressX=D}break}}return{isChanged:c,changedTask:l}},LR=function(e,n,r,i,a,s){var o=di({},r),l=!1;switch(n){case"move":{var c=J2(e-s,i,r),d=c[0],h=c[1];l=d!==r.x1,l&&(o.start=Es(d,r.x1,r.start,i,a),o.end=o.start,o.x1=d,o.x2=h);break}}return{isChanged:l,changedTask:o}};function MR(t){return t.key!==void 0}function FR(t){var e=t.filter(function(i){return i.hideChildren&&i.type==="project"});if(e.length>0)for(var n=function(a){var s=e[a],o=Z2(t,s);t=t.filter(function(l){return o.indexOf(l)===-1})},r=0;e.length>r;r++)n(r);return t}function Z2(t,e){var n=[];e.type!=="project"?n=t.filter(function(i){return i.dependencies&&i.dependencies.indexOf(e.id)!==-1}):n=t.filter(function(i){return i.project&&i.project===e.id});var r=[];return n.forEach(function(i){r.push.apply(r,Z2(t,i))}),n=n.concat(n,r),n}var OR=function(e,n){var r=e.displayOrder||Number.MAX_VALUE,i=n.displayOrder||Number.MAX_VALUE;return r>i?1:r<i?-1:0},dd={barWrapper:"_KxSXS",barHandle:"_3w_5u",barBackground:"_31ERP"},eE=function(e){var n=e.x,r=e.y,i=e.width,a=e.height,s=e.isSelected,o=e.progressX,l=e.progressWidth,c=e.barCornerRadius,d=e.styles,h=e.onMouseDown,p=function(){return s?d.progressSelectedColor:d.progressColor},m=function(){return s?d.backgroundSelectedColor:d.backgroundColor};return de.createElement("g",{onMouseDown:h},de.createElement("rect",{x:n,width:i,y:r,height:a,ry:c,rx:c,fill:m(),className:dd.barBackground}),de.createElement("rect",{x:o,width:l,y:r,height:a,ry:c,rx:c,fill:p()}))},Ib=function(e){var n=e.x,r=e.y,i=e.width,a=e.height,s=e.barCornerRadius,o=e.onMouseDown;return de.createElement("rect",{x:n,y:r,width:i,height:a,className:dd.barHandle,ry:s,rx:s,onMouseDown:o})},tE=function(e){var n=e.progressPoint,r=e.onMouseDown;return de.createElement("polygon",{className:dd.barHandle,points:n,onMouseDown:r})},BR=function(e){var n=e.task,r=e.isProgressChangeable,i=e.isDateChangeable,a=e.rtl,s=e.onEventStart,o=e.isSelected,l=Y2(+!a*n.progressWidth+n.progressX,n.y,n.height),c=n.height-2;return de.createElement("g",{className:dd.barWrapper,tabIndex:0},de.createElement(eE,{x:n.x1,y:n.y,width:n.x2-n.x1,height:n.height,progressX:n.progressX,progressWidth:n.progressWidth,barCornerRadius:n.barCornerRadius,styles:n.styles,isSelected:o,onMouseDown:function(h){i&&s("move",n,h)}}),de.createElement("g",{className:"handleGroup"},i&&de.createElement("g",null,de.createElement(Ib,{x:n.x1+1,y:n.y+1,width:n.handleWidth,height:c,barCornerRadius:n.barCornerRadius,onMouseDown:function(h){s("start",n,h)}}),de.createElement(Ib,{x:n.x2-n.handleWidth-1,y:n.y+1,width:n.handleWidth,height:c,barCornerRadius:n.barCornerRadius,onMouseDown:function(h){s("end",n,h)}})),r&&de.createElement(tE,{progressPoint:l,onMouseDown:function(h){s("progress",n,h)}})))},zR=function(e){var n=e.task,r=e.isProgressChangeable,i=e.isDateChangeable,a=e.onEventStart,s=e.isSelected,o=Y2(n.progressWidth+n.x1,n.y,n.height);return de.createElement("g",{className:dd.barWrapper,tabIndex:0},de.createElement(eE,{x:n.x1,y:n.y,width:n.x2-n.x1,height:n.height,progressX:n.progressX,progressWidth:n.progressWidth,barCornerRadius:n.barCornerRadius,styles:n.styles,isSelected:s,onMouseDown:function(c){i&&a("move",n,c)}}),de.createElement("g",{className:"handleGroup"},r&&de.createElement(tE,{progressPoint:o,onMouseDown:function(c){a("progress",n,c)}})))},Nb={milestoneWrapper:"_RRr13",milestoneBackground:"_2P2B1"},VR=function(e){var n=e.task,r=e.isDateChangeable,i=e.onEventStart,a=e.isSelected,s="rotate(45 "+(n.x1+n.height*.356)+` 
    `+(n.y+n.height*.85)+")",o=function(){return a?n.styles.backgroundSelectedColor:n.styles.backgroundColor};return de.createElement("g",{tabIndex:0,className:Nb.milestoneWrapper},de.createElement("rect",{fill:o(),x:n.x1,width:n.height,y:n.y,height:n.height,rx:n.barCornerRadius,ry:n.barCornerRadius,transform:s,className:Nb.milestoneBackground,onMouseDown:function(c){r&&i("move",n,c)}}))},xc={projectWrapper:"_1KJ6x",projectBackground:"_2RbVy",projectTop:"_2pZMF"},UR=function(e){var n=e.task,r=e.isSelected,i=r?n.styles.backgroundSelectedColor:n.styles.backgroundColor,a=r?n.styles.progressSelectedColor:n.styles.progressColor,s=n.x2-n.x1,o=[n.x1,n.y+n.height/2-1,n.x1,n.y+n.height,n.x1+15,n.y+n.height/2-1].join(","),l=[n.x2,n.y+n.height/2-1,n.x2,n.y+n.height,n.x2-15,n.y+n.height/2-1].join(",");return de.createElement("g",{tabIndex:0,className:xc.projectWrapper},de.createElement("rect",{fill:i,x:n.x1,width:s,y:n.y,height:n.height,rx:n.barCornerRadius,ry:n.barCornerRadius,className:xc.projectBackground}),de.createElement("rect",{x:n.progressX,width:n.progressWidth,y:n.y,height:n.height,ry:n.barCornerRadius,rx:n.barCornerRadius,fill:a}),de.createElement("rect",{fill:i,x:n.x1,width:s,y:n.y,height:n.height/2,rx:n.barCornerRadius,ry:n.barCornerRadius,className:xc.projectTop}),de.createElement("polygon",{className:xc.projectTop,points:o,fill:i}),de.createElement("polygon",{className:xc.projectTop,points:l,fill:i}))},Sb={barLabel:"_3zRJQ",barLabelOutside:"_3KcaM"},WR=function(e){var n=di({},e),r=n.task,i=n.arrowIndent,a=n.isDelete,s=n.taskHeight,o=n.isSelected,l=n.rtl,c=n.onEventStart,d=F.useRef(null),h=F.useState(de.createElement("div",null)),p=h[0],m=h[1],g=F.useState(!0),A=g[0],x=g[1];F.useEffect(function(){switch(r.typeInternal){case"milestone":m(de.createElement(VR,Object.assign({},e)));break;case"project":m(de.createElement(UR,Object.assign({},e)));break;case"smalltask":m(de.createElement(zR,Object.assign({},e)));break;default:m(de.createElement(BR,Object.assign({},e)));break}},[r,o]),F.useEffect(function(){d.current&&x(d.current.getBBox().width<r.x2-r.x1)},[d,r]);var v=function(){var b=r.x2-r.x1,k=r.barChildren.length>0;return A?r.x1+b*.5:l&&d.current?r.x1-d.current.getBBox().width-i*+k-i*.2:r.x1+b+i*+k+i*.2};return de.createElement("g",{onKeyDown:function(b){switch(b.key){case"Delete":{a&&c("delete",r,b);break}}b.stopPropagation()},onMouseEnter:function(b){c("mouseenter",r,b)},onMouseLeave:function(b){c("mouseleave",r,b)},onDoubleClick:function(b){c("dblclick",r,b)},onClick:function(b){c("click",r,b)},onFocus:function(){c("select",r)}},p,de.createElement("text",{x:v(),y:r.y+s*.5,className:A?Sb.barLabel:Sb.barLabelOutside,ref:d},r.name))},GR=function(e){var n,r=e.tasks,i=e.dates,a=e.ganttEvent,s=e.selectedTask,o=e.rowHeight,l=e.columnWidth,c=e.timeStep,d=e.svg,h=e.taskHeight,p=e.arrowColor,m=e.arrowIndent,g=e.fontFamily,A=e.fontSize,x=e.rtl,v=e.setGanttEvent,y=e.setFailedTask,b=e.setSelectedTask,k=e.onDateChange,S=e.onProgressChange,L=e.onDoubleClick,w=e.onClick,T=e.onDelete,_=d==null||(n=d.current)===null||n===void 0?void 0:n.createSVGPoint(),D=F.useState(0),j=D[0],N=D[1],R=F.useState(0),C=R[0],B=R[1],$=F.useState(!1),J=$[0],ee=$[1];F.useEffect(function(){var oe=i[1].getTime()-i[0].getTime()-i[1].getTimezoneOffset()*60*1e3+i[0].getTimezoneOffset()*60*1e3,H=c*l/oe;N(H)},[l,i,c]),F.useEffect(function(){var oe=function(se){try{var he;if(!a.changedTask||!_||!(d!=null&&d.current))return Promise.resolve();se.preventDefault(),_.x=se.clientX;var ce=_.matrixTransform(d==null||(he=d.current.getScreenCTM())===null||he===void 0?void 0:he.inverse()),Ae=Tb(ce.x,a.action,a.changedTask,j,c,C,x),xe=Ae.isChanged,ve=Ae.changedTask;return xe&&v({action:a.action,changedTask:ve}),Promise.resolve()}catch(Ie){return Promise.reject(Ie)}},H=function q(se){try{var he,ce=function(){be||y(xe)},Ae=a.action,xe=a.originalSelectedTask,ve=a.changedTask;if(!ve||!_||!(d!=null&&d.current)||!xe)return Promise.resolve();se.preventDefault(),_.x=se.clientX;var Ie=_.matrixTransform(d==null||(he=d.current.getScreenCTM())===null||he===void 0?void 0:he.inverse()),Ee=Tb(Ie.x,Ae,ve,j,c,C,x),pe=Ee.changedTask,ge=xe.start!==pe.start||xe.end!==pe.end||xe.progress!==pe.progress;d.current.removeEventListener("mousemove",oe),d.current.removeEventListener("mouseup",q),v({action:""}),ee(!1);var be=!0,I=function(){if((Ae==="move"||Ae==="end"||Ae==="start")&&k&&ge){var z=Xm(function(){return Promise.resolve(k(pe,pe.barChildren)).then(function(O){O!==void 0&&(be=O)})},function(){be=!1});if(z&&z.then)return z.then(function(){})}else{var W=function(){if(S&&ge){var O=Xm(function(){return Promise.resolve(S(pe,pe.barChildren)).then(function(M){M!==void 0&&(be=M)})},function(){be=!1});if(O&&O.then)return O.then(function(){})}}();if(W&&W.then)return W.then(function(){})}}();return Promise.resolve(I&&I.then?I.then(ce):ce(I))}catch(z){return Promise.reject(z)}};!J&&(a.action==="move"||a.action==="end"||a.action==="start"||a.action==="progress")&&d!==null&&d!==void 0&&d.current&&(d.current.addEventListener("mousemove",oe),d.current.addEventListener("mouseup",H),ee(!0))},[a,j,C,S,c,k,d,J,_,x,y,v]);var Y=function(H,q,se){try{return Promise.resolve(function(){if(!se)H==="select"&&b(q.id);else return function(){if(MR(se)){var he=function(){if(H==="delete"){var xe=function(){if(T){var ve=Xm(function(){return Promise.resolve(T(q)).then(function(Ie){Ie!==void 0&&Ie&&v({action:H,changedTask:q})})},function(Ie){console.error("Error on Delete. "+Ie)});if(ve&&ve.then)return ve.then(function(){})}}();if(xe&&xe.then)return xe.then(function(){})}}();if(he&&he.then)return he.then(function(){})}else if(H==="mouseenter")a.action||v({action:H,changedTask:q,originalSelectedTask:q});else if(H==="mouseleave")a.action==="mouseenter"&&v({action:""});else if(H==="dblclick")L&&L(q);else if(H==="click")w&&w(q);else if(H==="move"){var ce;if(!(d!=null&&d.current)||!_)return;_.x=se.clientX;var Ae=_.matrixTransform((ce=d.current.getScreenCTM())===null||ce===void 0?void 0:ce.inverse());B(Ae.x-q.x1),v({action:H,changedTask:q,originalSelectedTask:q})}else v({action:H,changedTask:q,originalSelectedTask:q})}()}())}catch(he){return Promise.reject(he)}};return de.createElement("g",{className:"content"},de.createElement("g",{className:"arrows",fill:p,stroke:p},r.map(function(oe){return oe.barChildren.map(function(H){return de.createElement(CR,{key:"Arrow from "+oe.id+" to "+r[H.index].id,taskFrom:oe,taskTo:r[H.index],rowHeight:o,taskHeight:h,arrowIndent:m,rtl:x})})})),de.createElement("g",{className:"bar",fontFamily:g,fontSize:A},r.map(function(oe){return de.createElement(WR,{task:oe,arrowIndent:m,taskHeight:h,isProgressChangeable:!!S&&!oe.isDisabled,isDateChangeable:!!k&&!oe.isDisabled,isDelete:!oe.isDisabled,onEventStart:Y,key:oe.id,isSelected:!!s&&oe.id===s.id,rtl:x})})))},Rf={ganttVerticalContainer:"_CZjuD",horizontalContainer:"_2B2zv",wrapper:"_3eULf"},qR=function(e){var n=e.gridProps,r=e.calendarProps,i=e.barProps,a=e.ganttHeight,s=e.scrollY,o=e.scrollX,l=F.useRef(null),c=F.useRef(null),d=F.useRef(null),h=di({},i,{svg:l});return F.useEffect(function(){c.current&&(c.current.scrollTop=s)},[s]),F.useEffect(function(){d.current&&(d.current.scrollLeft=o)},[o]),de.createElement("div",{className:Rf.ganttVerticalContainer,ref:d,dir:"ltr"},de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n.svgWidth,height:r.headerHeight,fontFamily:i.fontFamily},de.createElement(_R,Object.assign({},r))),de.createElement("div",{ref:c,className:Rf.horizontalContainer,style:a?{height:a,width:n.svgWidth}:{width:n.svgWidth}},de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n.svgWidth,height:i.rowHeight*i.tasks.length,fontFamily:i.fontFamily,ref:l},de.createElement(wR,Object.assign({},n)),de.createElement(GR,Object.assign({},h)))))},kb={scrollWrapper:"_2k9Ys",scroll:"_19jgW"},$R=function(e){var n=e.scroll,r=e.svgWidth,i=e.taskListWidth,a=e.rtl,s=e.onScroll,o=F.useRef(null);return F.useEffect(function(){o.current&&(o.current.scrollLeft=n)},[n]),de.createElement("div",{dir:"ltr",style:{margin:a?"0px "+i+"px 0px 0px":"0px 0px 0px "+i+"px"},className:kb.scrollWrapper,onScroll:s,ref:o},de.createElement("div",{style:{width:r},className:kb.scroll}))},Km=function(e){var n=e.tasks,r=e.headerHeight,i=r===void 0?50:r,a=e.columnWidth,s=a===void 0?60:a,o=e.listCellWidth,l=o===void 0?"155px":o,c=e.rowHeight,d=c===void 0?50:c,h=e.ganttHeight,p=h===void 0?0:h,m=e.viewMode,g=m===void 0?qe.Day:m,A=e.preStepsCount,x=A===void 0?1:A,v=e.locale,y=v===void 0?"en-GB":v,b=e.barFill,k=b===void 0?60:b,S=e.barCornerRadius,L=S===void 0?3:S,w=e.barProgressColor,T=w===void 0?"#a3a3ff":w,_=e.barProgressSelectedColor,D=_===void 0?"#8282f5":_,j=e.barBackgroundColor,N=j===void 0?"#b8c2cc":j,R=e.barBackgroundSelectedColor,C=R===void 0?"#aeb8c2":R,B=e.projectProgressColor,$=B===void 0?"#7db59a":B,J=e.projectProgressSelectedColor,ee=J===void 0?"#59a985":J,Y=e.projectBackgroundColor,oe=Y===void 0?"#fac465":Y,H=e.projectBackgroundSelectedColor,q=H===void 0?"#f7bb53":H,se=e.milestoneBackgroundColor,he=se===void 0?"#f1c453":se,ce=e.milestoneBackgroundSelectedColor,Ae=ce===void 0?"#f29e4c":ce,xe=e.rtl,ve=xe===void 0?!1:xe,Ie=e.handleWidth,Ee=Ie===void 0?8:Ie,pe=e.timeStep,ge=pe===void 0?3e5:pe,be=e.arrowColor,I=be===void 0?"grey":be,z=e.fontFamily,W=z===void 0?"Arial, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue":z,O=e.fontSize,M=O===void 0?"14px":O,U=e.arrowIndent,Z=U===void 0?20:U,ne=e.todayColor,te=ne===void 0?"rgba(252, 248, 227, 0.5)":ne,Q=e.viewDate,G=e.TooltipContent,X=G===void 0?AR:G,le=e.TaskListHeader,we=le===void 0?fR:le,Ne=e.TaskListTable,dt=Ne===void 0?mR:Ne,Ze=e.onDateChange,je=e.onProgressChange,Ue=e.onDoubleClick,Me=e.onClick,et=e.onDelete,bt=e.onSelect,st=e.onExpanderClick,Oe=F.useRef(null),ot=F.useRef(null),Nt=F.useState(function(){var mt=xb(n,g,x),Ct=mt[0],Lt=mt[1];return{viewMode:g,dates:bb(Ct,Lt,g)}}),ht=Nt[0],Ut=Nt[1],Qe=F.useState(void 0),rt=Qe[0],ft=Qe[1],Ye=F.useState(0),it=Ye[0],hn=Ye[1],an=F.useState(0),_r=an[0],pt=an[1],qn=F.useState(p),yn=qn[0],fn=qn[1],Br=F.useState([]),pn=Br[0],sn=Br[1],Cr=F.useState({action:""}),nr=Cr[0],mi=Cr[1],ji=F.useMemo(function(){return d*k/100},[d,k]),K=F.useState(),re=K[0],fe=K[1],De=F.useState(null),ye=De[0],Pt=De[1],Fe=ht.dates.length*s,lt=pn.length*d,jt=F.useState(0),mn=jt[0],rr=jt[1],Dn=F.useState(-1),xn=Dn[0],hr=Dn[1],Er=F.useState(!1),Li=Er[0],ze=Er[1];F.useEffect(function(){var mt;st?mt=FR(n):mt=n,mt=mt.sort(OR);var Ct=xb(mt,g,x),Lt=Ct[0],Et=Ct[1],St=bb(Lt,Et,g);ve&&(St=St.reverse(),xn===-1&&hr(St.length*s)),Ut({dates:St,viewMode:g}),sn(IR(mt,St,s,d,ji,L,Ee,ve,T,D,N,C,$,ee,oe,q,he,Ae))},[n,g,x,d,L,s,ji,Ee,T,D,N,C,$,ee,oe,q,he,Ae,ve,xn,st]),F.useEffect(function(){if(g===ht.viewMode&&(Q&&!rt||Q&&(rt==null?void 0:rt.valueOf())!==Q.valueOf())){var mt=ht.dates,Ct=mt.findIndex(function(Lt,Et){return Q.valueOf()>=Lt.valueOf()&&Et+1!==mt.length&&Q.valueOf()<mt[Et+1].valueOf()});if(Ct===-1)return;ft(Q),hr(s*Ct)}},[Q,s,ht.dates,ht.viewMode,g,rt,ft]),F.useEffect(function(){var mt=nr.changedTask,Ct=nr.action;if(mt){if(Ct==="delete")mi({action:""}),sn(pn.filter(function(St){return St.id!==mt.id}));else if(Ct==="move"||Ct==="end"||Ct==="start"||Ct==="progress"){var Lt=pn.find(function(St){return St.id===mt.id});if(Lt&&(Lt.start.getTime()!==mt.start.getTime()||Lt.end.getTime()!==mt.end.getTime()||Lt.progress!==mt.progress)){var Et=pn.map(function(St){return St.id===mt.id?mt:St});sn(Et)}}}},[nr,pn]),F.useEffect(function(){ye&&(sn(pn.map(function(mt){return mt.id!==ye.id?mt:ye})),Pt(null))},[ye,pn]),F.useEffect(function(){l||hn(0),ot.current&&hn(ot.current.offsetWidth)},[ot,l]),F.useEffect(function(){Oe.current&&pt(Oe.current.offsetWidth-it)},[Oe,it]),F.useEffect(function(){fn(p?p+i:n.length*d+i)},[p,n,i,d]),F.useEffect(function(){var mt,Ct=function(Et){if(Et.shiftKey||Et.deltaX){var St=Et.deltaX?Et.deltaX:Et.deltaY,gi=xn+St;gi<0?gi=0:gi>Fe&&(gi=Fe),hr(gi),Et.preventDefault()}else if(p){var ei=mn+Et.deltaY;ei<0?ei=0:ei>lt-p&&(ei=lt-p),ei!==mn&&(rr(ei),Et.preventDefault())}ze(!0)};return(mt=Oe.current)===null||mt===void 0||mt.addEventListener("wheel",Ct,{passive:!1}),function(){var Lt;(Lt=Oe.current)===null||Lt===void 0||Lt.removeEventListener("wheel",Ct)}},[Oe,mn,xn,p,Fe,ve,lt]);var Jt=function(Ct){mn!==Ct.currentTarget.scrollTop&&!Li?(rr(Ct.currentTarget.scrollTop),ze(!0)):ze(!1)},Zt=function(Ct){xn!==Ct.currentTarget.scrollLeft&&!Li?(hr(Ct.currentTarget.scrollLeft),ze(!0)):ze(!1)},ir=function(Ct){Ct.preventDefault();var Lt=mn,Et=xn,St=!0;switch(Ct.key){case"Down":case"ArrowDown":Lt+=d,St=!1;break;case"Up":case"ArrowUp":Lt-=d,St=!1;break;case"Left":case"ArrowLeft":Et-=s;break;case"Right":case"ArrowRight":Et+=s;break}St?(Et<0?Et=0:Et>Fe&&(Et=Fe),hr(Et)):(Lt<0?Lt=0:Lt>lt-p&&(Lt=lt-p),rr(Lt)),ze(!0)},Tr=function(Ct){var Lt=pn.find(function(St){return St.id===Ct}),Et=pn.find(function(St){return!!re&&St.id===re.id});bt&&(Et&&bt(Et,!1),Lt&&bt(Lt,!0)),fe(Lt)},Mi=function(Ct){st&&Ct.hideChildren!==void 0&&st(di({},Ct,{hideChildren:!Ct.hideChildren}))},ms={columnWidth:s,svgWidth:Fe,tasks:n,rowHeight:d,dates:ht.dates,todayColor:te,rtl:ve},Md={dateSetup:ht,locale:y,viewMode:g,headerHeight:i,columnWidth:s,fontFamily:W,fontSize:M,rtl:ve},mm={tasks:pn,dates:ht.dates,ganttEvent:nr,selectedTask:re,rowHeight:d,taskHeight:ji,columnWidth:s,arrowColor:I,timeStep:ge,fontFamily:W,fontSize:M,arrowIndent:Z,svgWidth:Fe,rtl:ve,setGanttEvent:mi,setFailedTask:Pt,setSelectedTask:Tr,onDateChange:Ze,onProgressChange:je,onDoubleClick:Ue,onClick:Me,onDelete:et},gm={rowHeight:d,rowWidth:l,fontFamily:W,fontSize:M,tasks:pn,locale:y,headerHeight:i,scrollY:mn,ganttHeight:p,horizontalContainerClass:Rf.horizontalContainer,selectedTask:re,taskListRef:ot,setSelectedTask:Tr,onExpanderClick:Mi,TaskListHeader:we,TaskListTable:dt};return de.createElement("div",null,de.createElement("div",{className:Rf.wrapper,onKeyDown:ir,tabIndex:0,ref:Oe},l&&de.createElement(xR,Object.assign({},gm)),de.createElement(qR,{gridProps:ms,calendarProps:Md,barProps:mm,ganttHeight:p,scrollY:mn,scrollX:xn}),nr.changedTask&&de.createElement(gR,{arrowIndent:Z,rowHeight:d,svgContainerHeight:yn,svgContainerWidth:_r,fontFamily:W,fontSize:M,scrollX:xn,scrollY:mn,task:nr.changedTask,headerHeight:i,taskListWidth:it,TooltipContent:X,rtl:ve,svgWidth:Fe}),de.createElement(yR,{ganttFullHeight:lt,ganttHeight:p,headerHeight:i,scroll:mn,onScroll:Jt,rtl:ve})),de.createElement($R,{svgWidth:Fe,taskListWidth:it,scroll:xn,rtl:ve,onScroll:Zt}))};function ut(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function hi(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Yn(t,e){const n=ut(t);return isNaN(e)?hi(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Db(t,e){const n=ut(t);if(isNaN(e))return hi(t,NaN);if(!e)return n;const r=n.getDate(),i=hi(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const a=i.getDate();return r>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function HR(t){return ut(t).getDay()===6}function QR(t){return ut(t).getDay()===0}function fl(t){const e=ut(t).getDay();return e===0||e===6}function Ym(t,e){const n=ut(t),r=fl(n);if(isNaN(e))return hi(t,NaN);const i=n.getHours(),a=e<0?-1:1,s=Math.trunc(e/5);n.setDate(n.getDate()+s*7);let o=Math.abs(e%5);for(;o>0;)n.setDate(n.getDate()+a),fl(n)||(o-=1);return r&&fl(n)&&e!==0&&(HR(n)&&n.setDate(n.getDate()+(a<0?2:-1)),QR(n)&&n.setDate(n.getDate()+(a<0?1:-2))),n.setHours(i),n}const nE=6048e5,XR=864e5;let KR={};function hd(){return KR}function Zs(t,e){var o,l,c,d;const n=hd(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=ut(t),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Pf(t){return Zs(t,{weekStartsOn:1})}function rE(t){const e=ut(t),n=e.getFullYear(),r=hi(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Pf(r),a=hi(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const s=Pf(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function qs(t){const e=ut(t);return e.setHours(0,0,0,0),e}function Rb(t){const e=ut(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function gv(t,e){const n=qs(t),r=qs(e),i=+n-Rb(n),a=+r-Rb(r);return Math.round((i-a)/XR)}function YR(t){const e=rE(t),n=hi(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Pf(n)}function JR(t){let e;return t.forEach(function(n){const r=ut(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function ZR(t){let e;return t.forEach(n=>{const r=ut(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Pc(t,e){const n=qs(t),r=qs(e);return+n==+r}function eP(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function jf(t){if(!eP(t)&&typeof t!="number")return!1;const e=ut(t);return!isNaN(Number(e))}function Lf(t,e){const n=ut(t);let r=ut(e);if(!jf(n)||!jf(r))return NaN;const i=gv(n,r),a=i<0?-1:1,s=Math.trunc(i/7);let o=s*5;for(r=Yn(r,s*7);!Pc(n,r);)o+=fl(r)?0:a,r=Yn(r,a);return o===0?0:o}function Av(t,e){const n=ut(t),r=ut(e),i=Pb(n,r),a=Math.abs(gv(n,r));n.setDate(n.getDate()-i*a);const s=+(Pb(n,r)===-i),o=i*(a-s);return o===0?0:o}function Pb(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function jb(t){const e=ut(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Lb(t,e){const n=ut(t.start),r=ut(t.end);let i=+n>+r;const a=i?+n:+r,s=i?r:n;s.setHours(0,0,0,0);let o=1;const l=[];for(;+s<=a;)l.push(ut(s)),s.setDate(s.getDate()+o),s.setHours(0,0,0,0);return i?l.reverse():l}function Mb(t){const e=ut(t);return e.setDate(1),e.setHours(0,0,0,0),e}function tP(t){const e=ut(t),n=hi(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Fb(t,e){var o,l;const n=hd(),r=n.weekStartsOn??((l=(o=n.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??0,i=ut(t),a=i.getDay(),s=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}const nP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rP=(t,e,n)=>{let r;const i=nP[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function pl(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const iP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},aP={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sP={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oP={date:pl({formats:iP,defaultWidth:"full"}),time:pl({formats:aP,defaultWidth:"full"}),dateTime:pl({formats:sP,defaultWidth:"full"})},lP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cP=(t,e,n,r)=>lP[t];function wi(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[s]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const uP={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dP={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hP={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fP={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gP=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},AP={ordinalNumber:gP,era:wi({values:uP,defaultWidth:"wide"}),quarter:wi({values:dP,defaultWidth:"wide",argumentCallback:t=>t-1}),month:wi({values:hP,defaultWidth:"wide"}),day:wi({values:fP,defaultWidth:"wide"}),dayPeriod:wi({values:pP,defaultWidth:"wide",formattingValues:mP,defaultFormattingWidth:"wide"})};function _i(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const s=a[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?yP(o,h=>h.test(s)):vP(o,h=>h.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(s.length);return{value:c,rest:d}}}function vP(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function yP(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function iE(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let s=t.valueCallback?t.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const xP=/^(\d+)(th|st|nd|rd)?/i,bP=/\d+/i,wP={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_P={any:[/^b/i,/^(a|c)/i]},CP={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},EP={any:[/1/i,/2/i,/3/i,/4/i]},TP={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},IP={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},NP={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},SP={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kP={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},DP={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},RP={ordinalNumber:iE({matchPattern:xP,parsePattern:bP,valueCallback:t=>parseInt(t,10)}),era:_i({matchPatterns:wP,defaultMatchWidth:"wide",parsePatterns:_P,defaultParseWidth:"any"}),quarter:_i({matchPatterns:CP,defaultMatchWidth:"wide",parsePatterns:EP,defaultParseWidth:"any",valueCallback:t=>t+1}),month:_i({matchPatterns:TP,defaultMatchWidth:"wide",parsePatterns:IP,defaultParseWidth:"any"}),day:_i({matchPatterns:NP,defaultMatchWidth:"wide",parsePatterns:SP,defaultParseWidth:"any"}),dayPeriod:_i({matchPatterns:kP,defaultMatchWidth:"any",parsePatterns:DP,defaultParseWidth:"any"})},PP={code:"en-US",formatDistance:rP,formatLong:oP,formatRelative:cP,localize:AP,match:RP,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jP(t){const e=ut(t);return gv(e,tP(e))+1}function LP(t){const e=ut(t),n=+Pf(e)-+YR(e);return Math.round(n/nE)+1}function aE(t,e){var d,h,p,m;const n=ut(t),r=n.getFullYear(),i=hd(),a=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(p=i.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,s=hi(t,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const o=Zs(s,e),l=hi(t,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const c=Zs(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function MP(t,e){var o,l,c,d;const n=hd(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=aE(t,e),a=hi(t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Zs(a,e)}function FP(t,e){const n=ut(t),r=+Zs(n,e)-+MP(n,e);return Math.round(r/nE)+1}function Mt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ga={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Mt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Mt(n+1,2)},d(t,e){return Mt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Mt(t.getHours()%12||12,e.length)},H(t,e){return Mt(t.getHours(),e.length)},m(t,e){return Mt(t.getMinutes(),e.length)},s(t,e){return Mt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Mt(i,e.length)}},Eo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ob={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ga.y(t,e)},Y:function(t,e,n,r){const i=aE(t,r),a=i>0?i:1-i;if(e==="YY"){const s=a%100;return Mt(s,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):Mt(a,e.length)},R:function(t,e){const n=rE(t);return Mt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Mt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Mt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Mt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ga.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Mt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=FP(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Mt(i,e.length)},I:function(t,e,n){const r=LP(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Mt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ga.d(t,e)},D:function(t,e,n){const r=jP(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Mt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Mt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Mt(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Mt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Eo.noon:r===0?i=Eo.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Eo.evening:r>=12?i=Eo.afternoon:r>=4?i=Eo.morning:i=Eo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ga.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ga.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Mt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Mt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ga.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ga.s(t,e)},S:function(t,e){return ga.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return zb(r);case"XXXX":case"XX":return Ts(r);case"XXXXX":case"XXX":default:return Ts(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return zb(r);case"xxxx":case"xx":return Ts(r);case"xxxxx":case"xxx":default:return Ts(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Bb(r,":");case"OOOO":default:return"GMT"+Ts(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Bb(r,":");case"zzzz":default:return"GMT"+Ts(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Mt(r,e.length)},T:function(t,e,n){const r=t.getTime();return Mt(r,e.length)}};function Bb(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+Mt(a,2)}function zb(t,e){return t%60===0?(t>0?"-":"+")+Mt(Math.abs(t)/60,2):Ts(t,e)}function Ts(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Mt(Math.trunc(r/60),2),a=Mt(r%60,2);return n+i+e+a}const Vb=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},sE=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},OP=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Vb(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",Vb(r,e)).replace("{{time}}",sE(i,e))},BP={p:sE,P:OP},zP=/^D+$/,VP=/^Y+$/,UP=["D","DD","YY","YYYY"];function WP(t){return zP.test(t)}function GP(t){return VP.test(t)}function qP(t,e,n){const r=$P(t,e,n);if(console.warn(r),UP.includes(t))throw new RangeError(r)}function $P(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const HP=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,QP=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,XP=/^'([^]*?)'?$/,KP=/''/g,YP=/[a-zA-Z]/;function un(t,e,n){var d,h,p,m,g,A,x,v;const r=hd(),i=(n==null?void 0:n.locale)??r.locale??PP,a=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((A=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:A.weekStartsOn)??r.weekStartsOn??((v=(x=r.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??0,o=ut(t);if(!jf(o))throw new RangeError("Invalid time value");let l=e.match(QP).map(y=>{const b=y[0];if(b==="p"||b==="P"){const k=BP[b];return k(y,i.formatLong)}return y}).join("").match(HP).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:JP(y)};if(Ob[b])return{isToken:!0,value:y};if(b.match(YP))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&GP(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&WP(b))&&qP(b,e,String(t));const k=Ob[b[0]];return k(o,b,i.localize,c)}).join("")}function JP(t){const e=t.match(XP);return e?e[1].replace(KP,"'"):t}function ju(t,e){const n=ut(t),r=ut(e);return n.getTime()>r.getTime()}function nu(t,e){const n=ut(t),r=ut(e);return+n<+r}function Ub(t){return+ut(t)<Date.now()}function ZP(t,e){const n=ut(t),r=ut(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function ej(t,e){const n=+ut(t),[r,i]=[+ut(e.start),+ut(e.end)].sort((a,s)=>a-s);return n>=r&&n<=i}const tj=["01-01","04-21","05-01","09-07","10-12","11-02","11-15","11-20","12-25"];function nj(t){const e=t%19,n=Math.floor(t/100),r=t%100,i=Math.floor(n/4),a=n%4,s=Math.floor((n+8)/25),o=Math.floor((n-s+1)/3),l=(19*e+n-i-o+15)%30,c=Math.floor(r/4),d=r%4,h=(32+2*a+2*c-l-d)%7,p=Math.floor((e+11*l+22*h)/451),m=Math.floor((l+h-7*p+114)/31),g=(l+h-7*p+114)%31+1;return new Date(t,m-1,g)}function rj(t){const e=nj(t),n=Yn(e,-48),r=Yn(e,-47),i=Yn(e,-2),a=Yn(e,60),s=o=>{const l=String(o.getMonth()+1).padStart(2,"0"),c=String(o.getDate()).padStart(2,"0");return`${l}-${c}`};return[s(n),s(r),s(i),s(a)]}const Jm={};function Pp(t){const e=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),r=`${e}-${n}`,i=t.getFullYear();return tj.includes(r)?!0:(Jm[i]||(Jm[i]=rj(i)),Jm[i].includes(r))}function Lu(t,e){if(t>e)return 0;let n=0,r=new Date(t);r.setHours(0,0,0,0);const i=new Date(e);for(i.setHours(0,0,0,0);r<=i;)fl(r)||Pp(r)||n++,r=Yn(r,1);return n}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ij={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Se=(t,e)=>{const n=F.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...c},d)=>F.createElement("svg",{ref:d,...ij,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${aj(t)}`,o].join(" "),...c},[...e.map(([h,p])=>F.createElement(h,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=Se("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=Se("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=Se("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=Se("ArrowLeftCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=Se("ArrowRightCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=Se("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=Se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=Se("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=Se("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=Se("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=Se("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=Se("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=Se("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=Se("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=Se("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=Se("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=Se("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=Se("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=Se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=Se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=Se("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=Se("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=Se("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=Se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=Se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=Se("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=Se("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=Se("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=Se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=Se("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=Se("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=Se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=Se("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=Se("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=Se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=Se("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=Se("FolderInput",[["path",{d:"M2 9V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-1",key:"fm4g5t"}],["path",{d:"M2 13h10",key:"pgb2dq"}],["path",{d:"m9 16 3-3-3-3",key:"6m91ic"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=Se("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=Se("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=Se("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=Se("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=Se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=Se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=Se("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=Se("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=Se("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=Se("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=Se("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=Se("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=Se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=Se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=Se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=Se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=Se("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=Se("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=Se("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=Se("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=Se("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=Se("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=Se("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=Se("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=Se("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=Se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=Se("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=Se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=Se("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=Se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=Se("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=Se("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=Se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=Se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=Se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=Se("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=Se("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=Se("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=Se("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=Se("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function Bj(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return F.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const Mp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function $l(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function bv(t){return"nodeType"in t}function wr(t){var e,n;return t?$l(t)?t:bv(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function wv(t){const{Document:e}=wr(t);return t instanceof e}function pd(t){return $l(t)?!1:t instanceof wr(t).HTMLElement}function pE(t){return t instanceof wr(t).SVGElement}function Hl(t){return t?$l(t)?t.document:bv(t)?wv(t)?t:pd(t)||pE(t)?t.ownerDocument:document:document:document}const Ri=Mp?F.useLayoutEffect:F.useEffect;function _v(t){const e=F.useRef(t);return Ri(()=>{e.current=t}),F.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function zj(){const t=F.useRef(null),e=F.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=F.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Bu(t,e){e===void 0&&(e=[t]);const n=F.useRef(t);return Ri(()=>{n.current!==t&&(n.current=t)},e),n}function md(t,e){const n=F.useRef();return F.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Of(t){const e=_v(t),n=F.useRef(null),r=F.useCallback(i=>{i!==n.current&&(e==null||e(i,n.current)),n.current=i},[]);return[n,r]}function EA(t){const e=F.useRef();return F.useEffect(()=>{e.current=t},[t]),e.current}let tg={};function gd(t,e){return F.useMemo(()=>{if(e)return e;const n=tg[t]==null?0:tg[t]+1;return tg[t]=n,t+"-"+n},[t,e])}function mE(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((a,s)=>{const o=Object.entries(s);for(const[l,c]of o){const d=a[l];d!=null&&(a[l]=d+t*c)}return a},{...e})}}const Al=mE(1),zu=mE(-1);function Vj(t){return"clientX"in t&&"clientY"in t}function Cv(t){if(!t)return!1;const{KeyboardEvent:e}=wr(t.target);return e&&t instanceof e}function Uj(t){if(!t)return!1;const{TouchEvent:e}=wr(t.target);return e&&t instanceof e}function TA(t){if(Uj(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return Vj(t)?{x:t.clientX,y:t.clientY}:null}const kl=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[kl.Translate.toString(t),kl.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),Jb="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Wj(t){return t.matches(Jb)?t:t.querySelector(Jb)}const Gj={display:"none"};function qj(t){let{id:e,value:n}=t;return de.createElement("div",{id:e,style:Gj},n)}function $j(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return de.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function Hj(){const[t,e]=F.useState("");return{announce:F.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const gE=F.createContext(null);function Qj(t){const e=F.useContext(gE);F.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function Xj(){const[t]=F.useState(()=>new Set),e=F.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[F.useCallback(r=>{let{type:i,event:a}=r;t.forEach(s=>{var o;return(o=s[i])==null?void 0:o.call(s,a)})},[t]),e]}const Kj={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Yj={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Jj(t){let{announcements:e=Yj,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=Kj}=t;const{announce:a,announcement:s}=Hj(),o=gd("DndLiveRegion"),[l,c]=F.useState(!1);if(F.useEffect(()=>{c(!0)},[]),Qj(F.useMemo(()=>({onDragStart(h){let{active:p}=h;a(e.onDragStart({active:p}))},onDragMove(h){let{active:p,over:m}=h;e.onDragMove&&a(e.onDragMove({active:p,over:m}))},onDragOver(h){let{active:p,over:m}=h;a(e.onDragOver({active:p,over:m}))},onDragEnd(h){let{active:p,over:m}=h;a(e.onDragEnd({active:p,over:m}))},onDragCancel(h){let{active:p,over:m}=h;a(e.onDragCancel({active:p,over:m}))}}),[a,e])),!l)return null;const d=de.createElement(de.Fragment,null,de.createElement(qj,{id:r,value:i.draggable}),de.createElement($j,{id:o,announcement:s}));return n?el.createPortal(d,n):d}var Tn;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Tn||(Tn={}));function Bf(){}function zf(t,e){return F.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function AE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return F.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const pi=Object.freeze({x:0,y:0});function vE(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function yE(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function Zj(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function Zb(t){let{left:e,top:n,height:r,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+r},{x:e+i,y:n+r}]}function xE(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function ew(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const bE=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=ew(e,e.left,e.top),a=[];for(const s of r){const{id:o}=s,l=n.get(o);if(l){const c=vE(ew(l),i);a.push({id:o,data:{droppableContainer:s,value:c}})}}return a.sort(yE)},eL=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=Zb(e),a=[];for(const s of r){const{id:o}=s,l=n.get(o);if(l){const c=Zb(l),d=i.reduce((p,m,g)=>p+vE(c[g],m),0),h=Number((d/4).toFixed(4));a.push({id:o,data:{droppableContainer:s,value:h}})}}return a.sort(yE)};function tL(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),a=Math.min(e.top+e.height,t.top+t.height),s=i-r,o=a-n;if(r<i&&n<a){const l=e.width*e.height,c=t.width*t.height,d=s*o,h=d/(l+c-d);return Number(h.toFixed(4))}return 0}const nL=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const a of r){const{id:s}=a,o=n.get(s);if(o){const l=tL(o,e);l>0&&i.push({id:s,data:{droppableContainer:a,value:l}})}}return i.sort(Zj)};function rL(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function wE(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:pi}function iL(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i.reduce((s,o)=>({...s,top:s.top+t*o.y,bottom:s.bottom+t*o.y,left:s.left+t*o.x,right:s.right+t*o.x}),{...n})}}const aL=iL(1);function sL(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function oL(t,e,n){const r=sL(e);if(!r)return t;const{scaleX:i,scaleY:a,x:s,y:o}=r,l=t.left-s-(1-i)*parseFloat(n),c=t.top-o-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?t.width/i:t.width,h=a?t.height/a:t.height;return{width:d,height:h,top:c,right:l+d,bottom:c+h,left:l}}const lL={ignoreTransform:!1};function Ql(t,e){e===void 0&&(e=lL);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:c,transformOrigin:d}=wr(t).getComputedStyle(t);c&&(n=oL(n,c,d))}const{top:r,left:i,width:a,height:s,bottom:o,right:l}=n;return{top:r,left:i,width:a,height:s,bottom:o,right:l}}function tw(t){return Ql(t,{ignoreTransform:!0})}function cL(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function uL(t,e){return e===void 0&&(e=wr(t).getComputedStyle(t)),e.position==="fixed"}function dL(t,e){e===void 0&&(e=wr(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=e[i];return typeof a=="string"?n.test(a):!1})}function Fp(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(wv(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!pd(i)||pE(i)||n.includes(i))return n;const a=wr(t).getComputedStyle(i);return i!==t&&dL(i,a)&&n.push(i),uL(i,a)?n:r(i.parentNode)}return t?r(t):n}function _E(t){const[e]=Fp(t,1);return e??null}function ng(t){return!Mp||!t?null:$l(t)?t:bv(t)?wv(t)||t===Hl(t).scrollingElement?window:pd(t)?t:null:null}function CE(t){return $l(t)?t.scrollX:t.scrollLeft}function EE(t){return $l(t)?t.scrollY:t.scrollTop}function IA(t){return{x:CE(t),y:EE(t)}}var jn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(jn||(jn={}));function TE(t){return!Mp||!t?!1:t===document.scrollingElement}function IE(t){const e={x:0,y:0},n=TE(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,a=t.scrollLeft<=e.x,s=t.scrollTop>=r.y,o=t.scrollLeft>=r.x;return{isTop:i,isLeft:a,isBottom:s,isRight:o,maxScroll:r,minScroll:e}}const hL={x:.2,y:.2};function fL(t,e,n,r,i){let{top:a,left:s,right:o,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=hL);const{isTop:c,isBottom:d,isLeft:h,isRight:p}=IE(t),m={x:0,y:0},g={x:0,y:0},A={height:e.height*i.y,width:e.width*i.x};return!c&&a<=e.top+A.height?(m.y=jn.Backward,g.y=r*Math.abs((e.top+A.height-a)/A.height)):!d&&l>=e.bottom-A.height&&(m.y=jn.Forward,g.y=r*Math.abs((e.bottom-A.height-l)/A.height)),!p&&o>=e.right-A.width?(m.x=jn.Forward,g.x=r*Math.abs((e.right-A.width-o)/A.width)):!h&&s<=e.left+A.width&&(m.x=jn.Backward,g.x=r*Math.abs((e.left+A.width-s)/A.width)),{direction:m,speed:g}}function pL(t){if(t===document.scrollingElement){const{innerWidth:a,innerHeight:s}=window;return{top:0,left:0,right:a,bottom:s,width:a,height:s}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function NE(t){return t.reduce((e,n)=>Al(e,IA(n)),pi)}function mL(t){return t.reduce((e,n)=>e+CE(n),0)}function gL(t){return t.reduce((e,n)=>e+EE(n),0)}function AL(t,e){if(e===void 0&&(e=Ql),!t)return;const{top:n,left:r,bottom:i,right:a}=e(t);_E(t)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const vL=[["x",["left","right"],mL],["y",["top","bottom"],gL]];class Ev{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Fp(n),i=NE(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[a,s,o]of vL)for(const l of s)Object.defineProperty(this,l,{get:()=>{const c=o(r),d=i[a]-c;return this.rect[l]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class au{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function yL(t){const{EventTarget:e}=wr(t);return t instanceof e?t:Hl(t)}function rg(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var zr;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(zr||(zr={}));function nw(t){t.preventDefault()}function xL(t){t.stopPropagation()}var _t;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(_t||(_t={}));const SE={start:[_t.Space,_t.Enter],cancel:[_t.Esc],end:[_t.Space,_t.Enter,_t.Tab]},bL=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case _t.Right:return{...n,x:n.x+25};case _t.Left:return{...n,x:n.x-25};case _t.Down:return{...n,y:n.y+25};case _t.Up:return{...n,y:n.y-25}}};class Op{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new au(Hl(n)),this.windowListeners=new au(wr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(zr.Resize,this.handleCancel),this.windowListeners.add(zr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(zr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&AL(r),n(pi)}handleKeyDown(e){if(Cv(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:a=SE,coordinateGetter:s=bL,scrollBehavior:o="smooth"}=i,{code:l}=e;if(a.end.includes(l)){this.handleEnd(e);return}if(a.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:c}=r.current,d=c?{x:c.left,y:c.top}:pi;this.referenceCoordinates||(this.referenceCoordinates=d);const h=s(e,{active:n,context:r.current,currentCoordinates:d});if(h){const p=zu(h,d),m={x:0,y:0},{scrollableAncestors:g}=r.current;for(const A of g){const x=e.code,{isTop:v,isRight:y,isLeft:b,isBottom:k,maxScroll:S,minScroll:L}=IE(A),w=pL(A),T={x:Math.min(x===_t.Right?w.right-w.width/2:w.right,Math.max(x===_t.Right?w.left:w.left+w.width/2,h.x)),y:Math.min(x===_t.Down?w.bottom-w.height/2:w.bottom,Math.max(x===_t.Down?w.top:w.top+w.height/2,h.y))},_=x===_t.Right&&!y||x===_t.Left&&!b,D=x===_t.Down&&!k||x===_t.Up&&!v;if(_&&T.x!==h.x){const j=A.scrollLeft+p.x,N=x===_t.Right&&j<=S.x||x===_t.Left&&j>=L.x;if(N&&!p.y){A.scrollTo({left:j,behavior:o});return}N?m.x=A.scrollLeft-j:m.x=x===_t.Right?A.scrollLeft-S.x:A.scrollLeft-L.x,m.x&&A.scrollBy({left:-m.x,behavior:o});break}else if(D&&T.y!==h.y){const j=A.scrollTop+p.y,N=x===_t.Down&&j<=S.y||x===_t.Up&&j>=L.y;if(N&&!p.x){A.scrollTo({top:j,behavior:o});return}N?m.y=A.scrollTop-j:m.y=x===_t.Down?A.scrollTop-S.y:A.scrollTop-L.y,m.y&&A.scrollBy({top:-m.y,behavior:o});break}}this.handleMove(e,Al(zu(h,this.referenceCoordinates),m))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Op.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=SE,onActivation:i}=e,{active:a}=n;const{code:s}=t.nativeEvent;if(r.start.includes(s)){const o=a.activatorNode.current;return o&&t.target!==o?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function rw(t){return!!(t&&"distance"in t)}function iw(t){return!!(t&&"delay"in t)}class Tv{constructor(e,n,r){var i;r===void 0&&(r=yL(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:a}=e,{target:s}=a;this.props=e,this.events=n,this.document=Hl(s),this.documentListeners=new au(this.document),this.listeners=new au(r),this.windowListeners=new au(wr(s)),this.initialCoordinates=(i=TA(a))!=null?i:pi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(zr.Resize,this.handleCancel),this.windowListeners.add(zr.DragStart,nw),this.windowListeners.add(zr.VisibilityChange,this.handleCancel),this.windowListeners.add(zr.ContextMenu,nw),this.documentListeners.add(zr.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(iw(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(rw(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(zr.Click,xL,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(zr.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:a}=this,{onMove:s,options:{activationConstraint:o}}=a;if(!i)return;const l=(n=TA(e))!=null?n:pi,c=zu(i,l);if(!r&&o){if(rw(o)){if(o.tolerance!=null&&rg(c,o.tolerance))return this.handleCancel();if(rg(c,o.distance))return this.handleStart()}if(iw(o)&&rg(c,o.tolerance))return this.handleCancel();this.handlePending(o,c);return}e.cancelable&&e.preventDefault(),s(l)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===_t.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const wL={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Bp extends Tv{constructor(e){const{event:n}=e,r=Hl(n.target);super(e,wL,r)}}Bp.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const _L={move:{name:"mousemove"},end:{name:"mouseup"}};var NA;(function(t){t[t.RightClick=2]="RightClick"})(NA||(NA={}));class CL extends Tv{constructor(e){super(e,_L,Hl(e.event.target))}}CL.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===NA.RightClick?!1:(r==null||r({event:n}),!0)}}];const ig={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class EL extends Tv{constructor(e){super(e,ig)}static setup(){return window.addEventListener(ig.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(ig.move.name,e)};function e(){}}}EL.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var su;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(su||(su={}));var Vf;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Vf||(Vf={}));function TL(t){let{acceleration:e,activator:n=su.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:s=5,order:o=Vf.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:d,delta:h,threshold:p}=t;const m=NL({delta:h,disabled:!a}),[g,A]=zj(),x=F.useRef({x:0,y:0}),v=F.useRef({x:0,y:0}),y=F.useMemo(()=>{switch(n){case su.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case su.DraggableRect:return i}},[n,i,l]),b=F.useRef(null),k=F.useCallback(()=>{const L=b.current;if(!L)return;const w=x.current.x*v.current.x,T=x.current.y*v.current.y;L.scrollBy(w,T)},[]),S=F.useMemo(()=>o===Vf.TreeOrder?[...c].reverse():c,[o,c]);F.useEffect(()=>{if(!a||!c.length||!y){A();return}for(const L of S){if((r==null?void 0:r(L))===!1)continue;const w=c.indexOf(L),T=d[w];if(!T)continue;const{direction:_,speed:D}=fL(L,T,y,e,p);for(const j of["x","y"])m[j][_[j]]||(D[j]=0,_[j]=0);if(D.x>0||D.y>0){A(),b.current=L,g(k,s),x.current=D,v.current=_;return}}x.current={x:0,y:0},v.current={x:0,y:0},A()},[e,k,r,A,a,s,JSON.stringify(y),JSON.stringify(m),g,c,S,d,JSON.stringify(p)])}const IL={x:{[jn.Backward]:!1,[jn.Forward]:!1},y:{[jn.Backward]:!1,[jn.Forward]:!1}};function NL(t){let{delta:e,disabled:n}=t;const r=EA(e);return md(i=>{if(n||!r||!i)return IL;const a={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[jn.Backward]:i.x[jn.Backward]||a.x===-1,[jn.Forward]:i.x[jn.Forward]||a.x===1},y:{[jn.Backward]:i.y[jn.Backward]||a.y===-1,[jn.Forward]:i.y[jn.Forward]||a.y===1}}},[n,e,r])}function SL(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return md(i=>{var a;return e==null?null:(a=r??i)!=null?a:null},[r,e])}function kL(t,e){return F.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,a=i.activators.map(s=>({eventName:s.eventName,handler:e(s.handler,r)}));return[...n,...a]},[]),[t,e])}var Vu;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(Vu||(Vu={}));var SA;(function(t){t.Optimized="optimized"})(SA||(SA={}));const aw=new Map;function DL(t,e){let{dragging:n,dependencies:r,config:i}=e;const[a,s]=F.useState(null),{frequency:o,measure:l,strategy:c}=i,d=F.useRef(t),h=x(),p=Bu(h),m=F.useCallback(function(v){v===void 0&&(v=[]),!p.current&&s(y=>y===null?v:y.concat(v.filter(b=>!y.includes(b))))},[p]),g=F.useRef(null),A=md(v=>{if(h&&!n)return aw;if(!v||v===aw||d.current!==t||a!=null){const y=new Map;for(let b of t){if(!b)continue;if(a&&a.length>0&&!a.includes(b.id)&&b.rect.current){y.set(b.id,b.rect.current);continue}const k=b.node.current,S=k?new Ev(l(k),k):null;b.rect.current=S,S&&y.set(b.id,S)}return y}return v},[t,a,n,h,l]);return F.useEffect(()=>{d.current=t},[t]),F.useEffect(()=>{h||m()},[n,h]),F.useEffect(()=>{a&&a.length>0&&s(null)},[JSON.stringify(a)]),F.useEffect(()=>{h||typeof o!="number"||g.current!==null||(g.current=setTimeout(()=>{m(),g.current=null},o))},[o,h,m,...r]),{droppableRects:A,measureDroppableContainers:m,measuringScheduled:a!=null};function x(){switch(c){case Vu.Always:return!1;case Vu.BeforeDragging:return n;default:return!n}}}function kE(t,e){return md(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function RL(t,e){return kE(t,e)}function PL(t){let{callback:e,disabled:n}=t;const r=_v(e),i=F.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return F.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function zp(t){let{callback:e,disabled:n}=t;const r=_v(e),i=F.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return F.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function jL(t){return new Ev(Ql(t),t)}function sw(t,e,n){e===void 0&&(e=jL);const[r,i]=F.useState(null);function a(){i(l=>{if(!t)return null;if(t.isConnected===!1){var c;return(c=l??n)!=null?c:null}const d=e(t);return JSON.stringify(l)===JSON.stringify(d)?l:d})}const s=PL({callback(l){if(t)for(const c of l){const{type:d,target:h}=c;if(d==="childList"&&h instanceof HTMLElement&&h.contains(t)){a();break}}}}),o=zp({callback:a});return Ri(()=>{a(),t?(o==null||o.observe(t),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(o==null||o.disconnect(),s==null||s.disconnect())},[t]),r}function LL(t){const e=kE(t);return wE(t,e)}const ow=[];function ML(t){const e=F.useRef(t),n=md(r=>t?r&&r!==ow&&t&&e.current&&t.parentNode===e.current.parentNode?r:Fp(t):ow,[t]);return F.useEffect(()=>{e.current=t},[t]),n}function FL(t){const[e,n]=F.useState(null),r=F.useRef(t),i=F.useCallback(a=>{const s=ng(a.target);s&&n(o=>o?(o.set(s,IA(s)),new Map(o)):null)},[]);return F.useEffect(()=>{const a=r.current;if(t!==a){s(a);const o=t.map(l=>{const c=ng(l);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,IA(c)]):null}).filter(l=>l!=null);n(o.length?new Map(o):null),r.current=t}return()=>{s(t),s(a)};function s(o){o.forEach(l=>{const c=ng(l);c==null||c.removeEventListener("scroll",i)})}},[i,t]),F.useMemo(()=>t.length?e?Array.from(e.values()).reduce((a,s)=>Al(a,s),pi):NE(t):pi,[t,e])}function lw(t,e){e===void 0&&(e=[]);const n=F.useRef(null);return F.useEffect(()=>{n.current=null},e),F.useEffect(()=>{const r=t!==pi;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?zu(t,n.current):pi}function OL(t){F.useEffect(()=>{if(!Mp)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function BL(t,e){return F.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:a}=r;return n[i]=s=>{a(s,e)},n},{}),[t,e])}function DE(t){return F.useMemo(()=>t?cL(t):null,[t])}const cw=[];function zL(t,e){e===void 0&&(e=Ql);const[n]=t,r=DE(n?wr(n):null),[i,a]=F.useState(cw);function s(){a(()=>t.length?t.map(l=>TE(l)?r:new Ev(e(l),l)):cw)}const o=zp({callback:s});return Ri(()=>{o==null||o.disconnect(),s(),t.forEach(l=>o==null?void 0:o.observe(l))},[t]),i}function VL(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return pd(e)?e:t}function UL(t){let{measure:e}=t;const[n,r]=F.useState(null),i=F.useCallback(c=>{for(const{target:d}of c)if(pd(d)){r(h=>{const p=e(d);return h?{...h,width:p.width,height:p.height}:p});break}},[e]),a=zp({callback:i}),s=F.useCallback(c=>{const d=VL(c);a==null||a.disconnect(),d&&(a==null||a.observe(d)),r(d?e(d):null)},[e,a]),[o,l]=Of(s);return F.useMemo(()=>({nodeRef:o,rect:n,setRef:l}),[n,o,l])}const WL=[{sensor:Bp,options:{}},{sensor:Op,options:{}}],GL={current:{}},Bh={draggable:{measure:tw},droppable:{measure:tw,strategy:Vu.WhileDragging,frequency:SA.Optimized},dragOverlay:{measure:Ql}};class ou extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const qL={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ou,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Bf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Bh,measureDroppableContainers:Bf,windowRect:null,measuringScheduled:!1},$L={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Bf,draggableNodes:new Map,over:null,measureDroppableContainers:Bf},Vp=F.createContext($L),RE=F.createContext(qL);function HL(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ou}}}function QL(t,e){switch(e.type){case Tn.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Tn.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Tn.DragEnd:case Tn.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Tn.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new ou(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case Tn.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,a=t.droppable.containers.get(n);if(!a||r!==a.key)return t;const s=new ou(t.droppable.containers);return s.set(n,{...a,disabled:i}),{...t,droppable:{...t.droppable,containers:s}}}case Tn.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const a=new ou(t.droppable.containers);return a.delete(n),{...t,droppable:{...t.droppable,containers:a}}}default:return t}}function XL(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=F.useContext(Vp),a=EA(r),s=EA(n==null?void 0:n.id);return F.useEffect(()=>{if(!e&&!r&&a&&s!=null){if(!Cv(a)||document.activeElement===a.target)return;const o=i.get(s);if(!o)return;const{activatorNode:l,node:c}=o;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const d of[l.current,c.current]){if(!d)continue;const h=Wj(d);if(h){h.focus();break}}})}},[r,e,i,s,a]),null}function KL(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,a)=>a({transform:i,...r}),n):n}function YL(t){return F.useMemo(()=>({draggable:{...Bh.draggable,...t==null?void 0:t.draggable},droppable:{...Bh.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Bh.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function JL(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const a=F.useRef(!1),{x:s,y:o}=typeof i=="boolean"?{x:i,y:i}:i;Ri(()=>{if(!s&&!o||!e){a.current=!1;return}if(a.current||!r)return;const c=e==null?void 0:e.node.current;if(!c||c.isConnected===!1)return;const d=n(c),h=wE(d,r);if(s||(h.x=0),o||(h.y=0),a.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const p=_E(c);p&&p.scrollBy({top:h.y,left:h.x})}},[e,s,o,r,n])}const PE=F.createContext({...pi,scaleX:1,scaleY:1});var Ca;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Ca||(Ca={}));const jE=F.memo(function(e){var n,r,i,a;let{id:s,accessibility:o,autoScroll:l=!0,children:c,sensors:d=WL,collisionDetection:h=nL,measuring:p,modifiers:m,...g}=e;const A=F.useReducer(QL,void 0,HL),[x,v]=A,[y,b]=Xj(),[k,S]=F.useState(Ca.Uninitialized),L=k===Ca.Initialized,{draggable:{active:w,nodes:T,translate:_},droppable:{containers:D}}=x,j=w!=null?T.get(w):null,N=F.useRef({initial:null,translated:null}),R=F.useMemo(()=>{var Qe;return w!=null?{id:w,data:(Qe=j==null?void 0:j.data)!=null?Qe:GL,rect:N}:null},[w,j]),C=F.useRef(null),[B,$]=F.useState(null),[J,ee]=F.useState(null),Y=Bu(g,Object.values(g)),oe=gd("DndDescribedBy",s),H=F.useMemo(()=>D.getEnabled(),[D]),q=YL(p),{droppableRects:se,measureDroppableContainers:he,measuringScheduled:ce}=DL(H,{dragging:L,dependencies:[_.x,_.y],config:q.droppable}),Ae=SL(T,w),xe=F.useMemo(()=>J?TA(J):null,[J]),ve=Ut(),Ie=RL(Ae,q.draggable.measure);JL({activeNode:w!=null?T.get(w):null,config:ve.layoutShiftCompensation,initialRect:Ie,measure:q.draggable.measure});const Ee=sw(Ae,q.draggable.measure,Ie),pe=sw(Ae?Ae.parentElement:null),ge=F.useRef({activatorEvent:null,active:null,activeNode:Ae,collisionRect:null,collisions:null,droppableRects:se,draggableNodes:T,draggingNode:null,draggingNodeRect:null,droppableContainers:D,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),be=D.getNodeFor((n=ge.current.over)==null?void 0:n.id),I=UL({measure:q.dragOverlay.measure}),z=(r=I.nodeRef.current)!=null?r:Ae,W=L?(i=I.rect)!=null?i:Ee:null,O=!!(I.nodeRef.current&&I.rect),M=LL(O?null:Ee),U=DE(z?wr(z):null),Z=ML(L?be??Ae:null),ne=zL(Z),te=KL(m,{transform:{x:_.x-M.x,y:_.y-M.y,scaleX:1,scaleY:1},activatorEvent:J,active:R,activeNodeRect:Ee,containerNodeRect:pe,draggingNodeRect:W,over:ge.current.over,overlayNodeRect:I.rect,scrollableAncestors:Z,scrollableAncestorRects:ne,windowRect:U}),Q=xe?Al(xe,_):null,G=FL(Z),X=lw(G),le=lw(G,[Ee]),we=Al(te,X),Ne=W?aL(W,te):null,dt=R&&Ne?h({active:R,collisionRect:Ne,droppableRects:se,droppableContainers:H,pointerCoordinates:Q}):null,Ze=xE(dt,"id"),[je,Ue]=F.useState(null),Me=O?te:Al(te,le),et=rL(Me,(a=je==null?void 0:je.rect)!=null?a:null,Ee),bt=F.useRef(null),st=F.useCallback((Qe,rt)=>{let{sensor:ft,options:Ye}=rt;if(C.current==null)return;const it=T.get(C.current);if(!it)return;const hn=Qe.nativeEvent,an=new ft({active:C.current,activeNode:it,event:hn,options:Ye,context:ge,onAbort(pt){if(!T.get(pt))return;const{onDragAbort:yn}=Y.current,fn={id:pt};yn==null||yn(fn),y({type:"onDragAbort",event:fn})},onPending(pt,qn,yn,fn){if(!T.get(pt))return;const{onDragPending:pn}=Y.current,sn={id:pt,constraint:qn,initialCoordinates:yn,offset:fn};pn==null||pn(sn),y({type:"onDragPending",event:sn})},onStart(pt){const qn=C.current;if(qn==null)return;const yn=T.get(qn);if(!yn)return;const{onDragStart:fn}=Y.current,Br={activatorEvent:hn,active:{id:qn,data:yn.data,rect:N}};el.unstable_batchedUpdates(()=>{fn==null||fn(Br),S(Ca.Initializing),v({type:Tn.DragStart,initialCoordinates:pt,active:qn}),y({type:"onDragStart",event:Br}),$(bt.current),ee(hn)})},onMove(pt){v({type:Tn.DragMove,coordinates:pt})},onEnd:_r(Tn.DragEnd),onCancel:_r(Tn.DragCancel)});bt.current=an;function _r(pt){return async function(){const{active:yn,collisions:fn,over:Br,scrollAdjustedTranslate:pn}=ge.current;let sn=null;if(yn&&pn){const{cancelDrop:Cr}=Y.current;sn={activatorEvent:hn,active:yn,collisions:fn,delta:pn,over:Br},pt===Tn.DragEnd&&typeof Cr=="function"&&await Promise.resolve(Cr(sn))&&(pt=Tn.DragCancel)}C.current=null,el.unstable_batchedUpdates(()=>{v({type:pt}),S(Ca.Uninitialized),Ue(null),$(null),ee(null),bt.current=null;const Cr=pt===Tn.DragEnd?"onDragEnd":"onDragCancel";if(sn){const nr=Y.current[Cr];nr==null||nr(sn),y({type:Cr,event:sn})}})}}},[T]),Oe=F.useCallback((Qe,rt)=>(ft,Ye)=>{const it=ft.nativeEvent,hn=T.get(Ye);if(C.current!==null||!hn||it.dndKit||it.defaultPrevented)return;const an={active:hn};Qe(ft,rt.options,an)===!0&&(it.dndKit={capturedBy:rt.sensor},C.current=Ye,st(ft,rt))},[T,st]),ot=kL(d,Oe);OL(d),Ri(()=>{Ee&&k===Ca.Initializing&&S(Ca.Initialized)},[Ee,k]),F.useEffect(()=>{const{onDragMove:Qe}=Y.current,{active:rt,activatorEvent:ft,collisions:Ye,over:it}=ge.current;if(!rt||!ft)return;const hn={active:rt,activatorEvent:ft,collisions:Ye,delta:{x:we.x,y:we.y},over:it};el.unstable_batchedUpdates(()=>{Qe==null||Qe(hn),y({type:"onDragMove",event:hn})})},[we.x,we.y]),F.useEffect(()=>{const{active:Qe,activatorEvent:rt,collisions:ft,droppableContainers:Ye,scrollAdjustedTranslate:it}=ge.current;if(!Qe||C.current==null||!rt||!it)return;const{onDragOver:hn}=Y.current,an=Ye.get(Ze),_r=an&&an.rect.current?{id:an.id,rect:an.rect.current,data:an.data,disabled:an.disabled}:null,pt={active:Qe,activatorEvent:rt,collisions:ft,delta:{x:it.x,y:it.y},over:_r};el.unstable_batchedUpdates(()=>{Ue(_r),hn==null||hn(pt),y({type:"onDragOver",event:pt})})},[Ze]),Ri(()=>{ge.current={activatorEvent:J,active:R,activeNode:Ae,collisionRect:Ne,collisions:dt,droppableRects:se,draggableNodes:T,draggingNode:z,draggingNodeRect:W,droppableContainers:D,over:je,scrollableAncestors:Z,scrollAdjustedTranslate:we},N.current={initial:W,translated:Ne}},[R,Ae,dt,Ne,T,z,W,se,D,je,Z,we]),TL({...ve,delta:_,draggingRect:Ne,pointerCoordinates:Q,scrollableAncestors:Z,scrollableAncestorRects:ne});const Nt=F.useMemo(()=>({active:R,activeNode:Ae,activeNodeRect:Ee,activatorEvent:J,collisions:dt,containerNodeRect:pe,dragOverlay:I,draggableNodes:T,droppableContainers:D,droppableRects:se,over:je,measureDroppableContainers:he,scrollableAncestors:Z,scrollableAncestorRects:ne,measuringConfiguration:q,measuringScheduled:ce,windowRect:U}),[R,Ae,Ee,J,dt,pe,I,T,D,se,je,he,Z,ne,q,ce,U]),ht=F.useMemo(()=>({activatorEvent:J,activators:ot,active:R,activeNodeRect:Ee,ariaDescribedById:{draggable:oe},dispatch:v,draggableNodes:T,over:je,measureDroppableContainers:he}),[J,ot,R,Ee,v,oe,T,je,he]);return de.createElement(gE.Provider,{value:b},de.createElement(Vp.Provider,{value:ht},de.createElement(RE.Provider,{value:Nt},de.createElement(PE.Provider,{value:et},c)),de.createElement(XL,{disabled:(o==null?void 0:o.restoreFocus)===!1})),de.createElement(Jj,{...o,hiddenTextDescribedById:oe}));function Ut(){const Qe=(B==null?void 0:B.autoScrollEnabled)===!1,rt=typeof l=="object"?l.enabled===!1:l===!1,ft=L&&!Qe&&!rt;return typeof l=="object"?{...l,enabled:ft}:{enabled:ft}}}),ZL=F.createContext(null),uw="button",eM="Draggable";function tM(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const a=gd(eM),{activators:s,activatorEvent:o,active:l,activeNodeRect:c,ariaDescribedById:d,draggableNodes:h,over:p}=F.useContext(Vp),{role:m=uw,roleDescription:g="draggable",tabIndex:A=0}=i??{},x=(l==null?void 0:l.id)===e,v=F.useContext(x?PE:ZL),[y,b]=Of(),[k,S]=Of(),L=BL(s,e),w=Bu(n);Ri(()=>(h.set(e,{id:e,key:a,node:y,activatorNode:k,data:w}),()=>{const _=h.get(e);_&&_.key===a&&h.delete(e)}),[h,e]);const T=F.useMemo(()=>({role:m,tabIndex:A,"aria-disabled":r,"aria-pressed":x&&m===uw?!0:void 0,"aria-roledescription":g,"aria-describedby":d.draggable}),[r,m,A,x,g,d.draggable]);return{active:l,activatorEvent:o,activeNodeRect:c,attributes:T,isDragging:x,listeners:r?void 0:L,node:y,over:p,setNodeRef:b,setActivatorNodeRef:S,transform:v}}function nM(){return F.useContext(RE)}const rM="Droppable",iM={timeout:25};function aM(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const a=gd(rM),{active:s,dispatch:o,over:l,measureDroppableContainers:c}=F.useContext(Vp),d=F.useRef({disabled:n}),h=F.useRef(!1),p=F.useRef(null),m=F.useRef(null),{disabled:g,updateMeasurementsFor:A,timeout:x}={...iM,...i},v=Bu(A??r),y=F.useCallback(()=>{if(!h.current){h.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{c(Array.isArray(v.current)?v.current:[v.current]),m.current=null},x)},[x]),b=zp({callback:y,disabled:g||!s}),k=F.useCallback((T,_)=>{b&&(_&&(b.unobserve(_),h.current=!1),T&&b.observe(T))},[b]),[S,L]=Of(k),w=Bu(e);return F.useEffect(()=>{!b||!S.current||(b.disconnect(),h.current=!1,b.observe(S.current))},[S,b]),F.useEffect(()=>(o({type:Tn.RegisterDroppable,element:{id:r,key:a,disabled:n,node:S,rect:p,data:w}}),()=>o({type:Tn.UnregisterDroppable,key:a,id:r})),[r]),F.useEffect(()=>{n!==d.current.disabled&&(o({type:Tn.SetDroppableDisabled,id:r,key:a,disabled:n}),d.current.disabled=n)},[r,a,n,o]),{active:s,rect:p,isOver:(l==null?void 0:l.id)===r,node:S,over:l,setNodeRef:L}}function Up(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function sM(t,e){return t.reduce((n,r,i)=>{const a=e.get(r);return a&&(n[i]=a),n},Array(t.length))}function fh(t){return t!==null&&t>=0}function oM(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function lM(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const LE=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const a=Up(e,r,n),s=e[i],o=a[i];return!o||!s?null:{x:o.left-s.left,y:o.top-s.top,scaleX:o.width/s.width,scaleY:o.height/s.height}},ph={scaleX:1,scaleY:1},ME=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:a,overIndex:s}=t;const o=(e=a[n])!=null?e:r;if(!o)return null;if(i===n){const c=a[s];return c?{x:0,y:n<s?c.top+c.height-(o.top+o.height):c.top-o.top,...ph}:null}const l=cM(a,i,n);return i>n&&i<=s?{x:0,y:-o.height-l,...ph}:i<n&&i>=s?{x:0,y:o.height+l,...ph}:{x:0,y:0,...ph}};function cM(t,e,n){const r=t[e],i=t[e-1],a=t[e+1];return r?n<e?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const FE="Sortable",OE=de.createContext({activeIndex:-1,containerId:FE,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:LE,disabled:{draggable:!1,droppable:!1}});function BE(t){let{children:e,id:n,items:r,strategy:i=LE,disabled:a=!1}=t;const{active:s,dragOverlay:o,droppableRects:l,over:c,measureDroppableContainers:d}=nM(),h=gd(FE,n),p=o.rect!==null,m=F.useMemo(()=>r.map(L=>typeof L=="object"&&"id"in L?L.id:L),[r]),g=s!=null,A=s?m.indexOf(s.id):-1,x=c?m.indexOf(c.id):-1,v=F.useRef(m),y=!oM(m,v.current),b=x!==-1&&A===-1||y,k=lM(a);Ri(()=>{y&&g&&d(m)},[y,m,g,d]),F.useEffect(()=>{v.current=m},[m]);const S=F.useMemo(()=>({activeIndex:A,containerId:h,disabled:k,disableTransforms:b,items:m,overIndex:x,useDragOverlay:p,sortedRects:sM(m,l),strategy:i}),[A,h,k.draggable,k.droppable,b,m,x,l,p,i]);return de.createElement(OE.Provider,{value:S},e)}const uM=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return Up(n,r,i).indexOf(e)},dM=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:a,newIndex:s,previousItems:o,previousContainerId:l,transition:c}=t;return!c||!r||o!==a&&i===s?!1:n?!0:s!==i&&e===l},hM={duration:200,easing:"ease"},zE="transform",fM=kl.Transition.toString({property:zE,duration:0,easing:"linear"}),pM={roleDescription:"sortable"};function mM(t){let{disabled:e,index:n,node:r,rect:i}=t;const[a,s]=F.useState(null),o=F.useRef(n);return Ri(()=>{if(!e&&n!==o.current&&r.current){const l=i.current;if(l){const c=Ql(r.current,{ignoreTransform:!0}),d={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(d.x||d.y)&&s(d)}}n!==o.current&&(o.current=n)},[e,n,r,i]),F.useEffect(()=>{a&&s(null)},[a]),a}function VE(t){let{animateLayoutChanges:e=dM,attributes:n,disabled:r,data:i,getNewIndex:a=uM,id:s,strategy:o,resizeObserverConfig:l,transition:c=hM}=t;const{items:d,containerId:h,activeIndex:p,disabled:m,disableTransforms:g,sortedRects:A,overIndex:x,useDragOverlay:v,strategy:y}=F.useContext(OE),b=gM(r,m),k=d.indexOf(s),S=F.useMemo(()=>({sortable:{containerId:h,index:k,items:d},...i}),[h,i,k,d]),L=F.useMemo(()=>d.slice(d.indexOf(s)),[d,s]),{rect:w,node:T,isOver:_,setNodeRef:D}=aM({id:s,data:S,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:L,...l}}),{active:j,activatorEvent:N,activeNodeRect:R,attributes:C,setNodeRef:B,listeners:$,isDragging:J,over:ee,setActivatorNodeRef:Y,transform:oe}=tM({id:s,data:S,attributes:{...pM,...n},disabled:b.draggable}),H=Bj(D,B),q=!!j,se=q&&!g&&fh(p)&&fh(x),he=!v&&J,ce=he&&se?oe:null,xe=se?ce??(o??y)({rects:A,activeNodeRect:R,activeIndex:p,overIndex:x,index:k}):null,ve=fh(p)&&fh(x)?a({id:s,items:d,activeIndex:p,overIndex:x}):k,Ie=j==null?void 0:j.id,Ee=F.useRef({activeId:Ie,items:d,newIndex:ve,containerId:h}),pe=d!==Ee.current.items,ge=e({active:j,containerId:h,isDragging:J,isSorting:q,id:s,index:k,items:d,newIndex:Ee.current.newIndex,previousItems:Ee.current.items,previousContainerId:Ee.current.containerId,transition:c,wasDragging:Ee.current.activeId!=null}),be=mM({disabled:!ge,index:k,node:T,rect:w});return F.useEffect(()=>{q&&Ee.current.newIndex!==ve&&(Ee.current.newIndex=ve),h!==Ee.current.containerId&&(Ee.current.containerId=h),d!==Ee.current.items&&(Ee.current.items=d)},[q,ve,h,d]),F.useEffect(()=>{if(Ie===Ee.current.activeId)return;if(Ie!=null&&Ee.current.activeId==null){Ee.current.activeId=Ie;return}const z=setTimeout(()=>{Ee.current.activeId=Ie},50);return()=>clearTimeout(z)},[Ie]),{active:j,activeIndex:p,attributes:C,data:S,rect:w,index:k,newIndex:ve,items:d,isOver:_,isSorting:q,isDragging:J,listeners:$,node:T,overIndex:x,over:ee,setNodeRef:H,setActivatorNodeRef:Y,setDroppableNodeRef:D,setDraggableNodeRef:B,transform:be??xe,transition:I()};function I(){if(be||pe&&Ee.current.newIndex===k)return fM;if(!(he&&!Cv(N)||!c)&&(q||ge))return kl.Transition.toString({...c,property:zE})}}function gM(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}function Uf(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const AM=[_t.Down,_t.Right,_t.Up,_t.Left],UE=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:a,over:s,scrollableAncestors:o}}=e;if(AM.includes(t.code)){if(t.preventDefault(),!n||!r)return;const l=[];a.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const p=i.get(h.id);if(p)switch(t.code){case _t.Down:r.top<p.top&&l.push(h);break;case _t.Up:r.top>p.top&&l.push(h);break;case _t.Left:r.left>p.left&&l.push(h);break;case _t.Right:r.left<p.left&&l.push(h);break}});const c=eL({collisionRect:r,droppableRects:i,droppableContainers:l});let d=xE(c,"id");if(d===(s==null?void 0:s.id)&&c.length>1&&(d=c[1].id),d!=null){const h=a.get(n.id),p=a.get(d),m=p?i.get(p.id):null,g=p==null?void 0:p.node.current;if(g&&m&&h&&p){const x=Fp(g).some((L,w)=>o[w]!==L),v=WE(h,p),y=vM(h,p),b=x||!v?{x:0,y:0}:{x:y?r.width-m.width:0,y:y?r.height-m.height:0},k={x:m.left,y:m.top};return b.x&&b.y?k:zu(k,b)}}}};function WE(t,e){return!Uf(t)||!Uf(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function vM(t,e){return!Uf(t)||!Uf(e)||!WE(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const dw=({task:t,originalTask:e,allTasks:n,rowHeight:r,isSelected:i,onSelect:a,onEdit:s,onIndent:o,onOutdent:l,onDeleteTask:c,isCompact:d,onToggleCollapse:h,isCollapsed:p,hasChildren:m})=>{const{attributes:g,listeners:A,setNodeRef:x,transform:v,transition:y,isDragging:b}=VE({id:t.id,disabled:d}),k={transform:kl.Transform.toString(v),transition:y,height:r,zIndex:b?2:1,position:"relative",touchAction:"pan-x pan-y"};let S=0;if(e&&e.parent){S=1;let w=e,T=0;const _=10;for(;w.parent&&T<_;){const D=n.find(j=>j.id===w.parent);if(!D)break;T++,w=D}T>0&&(S=T)}const L=(d?8:20)+S*(d?12:24);return u.jsxs("div",{ref:x,style:k,onClick:()=>a(t.id),className:`flex items-center border-b border-gray-100 transition-colors group ${i?"bg-indigo-50 border-indigo-100":"hover:bg-gray-50 bg-white"} ${b?"shadow-lg ring-1 ring-indigo-500 opacity-90":""}`,children:[u.jsxs("div",{className:`px-2 truncate font-medium text-gray-700 flex-1 border-r border-gray-100 h-full flex items-center gap-2 ${d?"text-[11px]":""}`,style:{width:d?"180px":"280px",minWidth:d?"180px":"280px"},children:[!d&&u.jsx("div",{...g,...A,className:"cursor-grab hover:text-indigo-600 text-gray-400 p-1 flex-shrink-0",children:u.jsx(cE,{size:14})}),u.jsx("div",{style:{paddingLeft:`${L}px`},className:"flex items-center",children:t.type==="project"||m?u.jsx("button",{onClick:w=>{w.stopPropagation(),h&&h(t.id)},className:"mr-2 p-0.5 rounded-sm flex items-center justify-center transition-colors shadow-sm bg-white hover:bg-indigo-50 text-indigo-600 ring-1 ring-indigo-600",style:{width:d?14:18,height:d?14:18},title:p?"Expandir":"Recolher",children:p?u.jsx(Yr,{size:d?10:12,strokeWidth:3}):u.jsx(hE,{size:d?10:12,strokeWidth:3})}):null}),u.jsx("div",{className:`flex-1 cursor-pointer truncate ${t.type==="project"||m?"font-bold text-blue-600":""} text-[11px] flex items-center h-full`,onClick:w=>{w.stopPropagation(),e&&s(e)},title:e?e.name:t.name,children:e?e.name:t.name}),u.jsxs("div",{className:"flex items-center gap-0.5 mr-1",children:[u.jsx("button",{onClick:w=>{w.stopPropagation(),e&&l(e)},className:"p-0.5 hover:bg-gray-200 rounded text-gray-400 hover:text-indigo-600",title:"Diminuir Recuo",children:u.jsx(Fu,{size:12})}),u.jsx("button",{onClick:w=>{w.stopPropagation(),e&&o(e)},className:"p-0.5 hover:bg-gray-200 rounded text-gray-400 hover:text-indigo-600",title:"Aumentar Recuo",children:u.jsx(eo,{size:12})}),u.jsx("button",{onClick:w=>{w.stopPropagation(),e&&c&&confirm("Tem certeza que deseja excluir esta tarefa?")&&c(e.id)},className:"p-0.5 hover:bg-red-50 rounded text-gray-400 hover:text-red-500",title:"Excluir",children:u.jsx(fi,{size:12})})]})]}),u.jsx("div",{className:"px-4 truncate text-gray-500 border-r border-gray-100 h-full flex items-center justify-center cursor-pointer text-[11px]",style:{width:d?"80px":"100px",minWidth:d?"80px":"100px"},onClick:w=>{w.stopPropagation(),e&&s(e)},children:t.start.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}),u.jsx("div",{className:"px-4 truncate text-gray-500 h-full flex items-center justify-center cursor-pointer text-[11px]",style:{width:d?"80px":"100px",minWidth:d?"80px":"100px"},onClick:w=>{w.stopPropagation(),e&&s(e)},children:t.end.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}),u.jsxs("div",{className:"px-4 truncate text-gray-500 h-full flex items-center justify-center cursor-pointer text-[11px] bg-gray-50/50",style:{width:d?"60px":"80px",minWidth:d?"60px":"80px"},title:"Durao em Dias teis",children:[Lu(t.start,t.end),"d"]})]})},yM=({tasks:t,onTaskChange:e,onEditTask:n,onAddTask:r,onDeleteTask:i,onIndent:a,onOutdent:s,onReorderTasks:o,isModalOpen:l=!1,onLandscapeModeChange:c,onViewModeChange:d})=>{const[h,p]=F.useState(null),m=de.useRef(null),g=de.useRef(null),A=I=>{const z=window.innerWidth*.05,W=window.innerWidth*.05,O=I==="left"||I==="right",M=I==="up"||I==="down";if(m.current){const U=m.current.querySelectorAll("div");let Z=!1;if(U.forEach(ne=>{const te=window.getComputedStyle(ne);O&&(te.overflowX==="auto"||te.overflowX==="scroll")&&ne.scrollWidth>ne.clientWidth&&(ne.scrollBy({left:I==="right"?z:-z,behavior:"auto"}),Z=!0),M&&(te.overflowY==="auto"||te.overflowY==="scroll")&&ne.scrollHeight>ne.clientHeight&&(ne.scrollBy({top:I==="down"?W:-W,behavior:"auto"}),Z=!0)}),Z)return}g.current&&(O?g.current.scrollBy({left:I==="right"?z:-z,behavior:"auto"}):g.current.scrollBy({top:I==="down"?W:-W,behavior:"auto"}))},x=de.useRef(null),v=()=>{x.current&&(cancelAnimationFrame(x.current),x.current=null)},y=I=>{v();const z=()=>{A(I),x.current=requestAnimationFrame(z)};z()},[b,k]=F.useState(!1);F.useEffect(()=>{c==null||c(b)},[b,c]);const[S,L]=F.useState(!1),[w,T]=F.useState(qe.Year);F.useEffect(()=>{d==null||d(w)},[w,d]);const[_,D]=F.useState([]),[j,N]=F.useState(!0),[R,C]=F.useState(!1),[B,$]=F.useState(typeof window<"u"?window.innerWidth<1024:!1),[J,ee]=F.useState(!1),Y=de.useRef(!1),oe=de.useRef(!1);F.useEffect(()=>{if(t.length>0&&!oe.current){const I=Array.from(new Set(t.filter(z=>t.some(W=>W.parent===z.id)).map(z=>z.id)));D(I),oe.current=!0}},[t]),F.useEffect(()=>{if(w===qe.Year){const I=setTimeout(()=>{m.current&&m.current.querySelectorAll("div").forEach(W=>{const O=window.getComputedStyle(W);(O.overflowX==="auto"||O.overflowX==="scroll")&&(W.scrollLeft=0)})},100);return()=>clearTimeout(I)}},[w]);const H=I=>{D(z=>z.includes(I)?z.filter(W=>W!==I):[...z,I])};F.useEffect(()=>{L(!!b)},[b]);const q=AE(zf(Bp,{activationConstraint:{distance:15}}),zf(Op,{coordinateGetter:UE}));F.useEffect(()=>{const I=()=>{$(window.innerWidth<1024),window.innerWidth>=1024&&b&&k(!1)};return window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[b]),F.useEffect(()=>{Y.current=!1;const I=m.current;if(!I)return;let z;const W=()=>{var Ze;z&&z.disconnect();const U=Array.from(I.querySelectorAll("svg")).filter(je=>!je.closest("button")&&!je.closest(".icon-wrapper"));let Z=null,ne=new Date;if(ne.setHours(0,0,0,0),t.length>0){const je=t.reduce((Ue,Me)=>new Date(Me.start)<Ue?new Date(Me.start):Ue,new Date(864e13));je<ne&&(ne=je)}const te={janeiro:0,fevereiro:1,maro:2,abril:3,maio:4,junho:5,julho:6,agosto:7,setembro:8,outubro:9,novembro:10,dezembro:11,jan:0,fev:1,mar:2,abr:3,mai:4,jun:5,jul:6,ago:7,set:8,out:9,nov:10,dez:11},Q={"Seg.,":"S","Ter.,":"T","Qua.,":"Q","Qui.,":"Q","Sex.,":"S","Sb.,":"S","Dom.,":"D","seg.,":"s","ter.,":"t","qua.,":"q","qui.,":"q","sex.,":"s","sb.,":"s","dom.,":"d"},G=new Date;G.setHours(0,0,0,0);const X=[],le=new Set;let we=null,Ne=0;for(const je of U){const Ue=Array.from(je.querySelectorAll("text"));let Me=ne.getMonth(),et=ne.getFullYear();const bt=Ue.find(Oe=>{var Nt;const ot=((Nt=Oe.textContent)==null?void 0:Nt.toLowerCase())||"";return Object.keys(te).some(ht=>ot.includes(ht))});if(bt){const Oe=((Ze=bt.textContent)==null?void 0:Ze.toLowerCase())||"",ot=Object.keys(te).find(Nt=>Oe.includes(Nt));if(ot!==void 0){Me=te[ot];const Nt=Oe.match(/\d{4}/);Nt&&(et=parseInt(Nt[0]))}}let st=-1;Ue.forEach(Oe=>{let ot=Oe.textContent||"";if(ot==="!")return;const Nt=parseFloat(Oe.getAttribute("x")||"0");if(Nt<=0||le.has(Nt))return;if(w===qe.Month){const Qe=ot.toLowerCase(),rt={janeiro:"Jan",fevereiro:"Fev",maro:"Mar",abril:"Abr",maio:"Mai",junho:"Jun",julho:"Jul",agosto:"Ago",setembro:"Set",outubro:"Out",novembro:"Nov",dezembro:"Dez"};for(const[ft,Ye]of Object.entries(rt))if(Qe.includes(ft)){const it=ot.replace(new RegExp(ft,"i"),Ye);Oe.textContent!==it&&(Oe.textContent=it,ot=it)}}const ht=ot.match(/^[WS](\d+)$/);if(ht&&w===qe.Week){const Qe=`S${ht[1]}`;Oe.textContent!==Qe&&(Oe.textContent=Qe,ot=Qe),Oe.style.fill="#6b7280",Oe.style.fontWeight="600",Oe.getAttribute("text-anchor")!=="middle"&&(Oe.setAttribute("x",(Nt+Ie/2).toString()),Oe.setAttribute("text-anchor","middle"));return}if(b){const Qe=ot.match(/([a-zA-Z]+\.,)\s*(\d+)/);if(Qe){const[rt,ft,Ye]=Qe;if(Q[ft]){const it=`${Q[ft]}-${Ye.padStart(2,"0")}`;Oe.textContent!==it&&(Oe.textContent=it,ot=it)}}}if(S||R?Oe.style.fontSize="8px":Oe.style.fontSize="",Object.keys(te).some(Qe=>ot.toLowerCase().includes(Qe))&&ot.length>8)return;const Ut=ot.match(/(\d+)/);if(Ut){const Qe=parseInt(Ut[0]);if(st>20&&Qe<10&&(Me++,Me>11&&(Me=0,et++)),st=Qe,Qe>=1&&Qe<=31){const rt=new Date(et,Me,Qe);we||(we=rt,Ne=Nt);let ft=null,Ye=!1;rt.getDate()===G.getDate()&&rt.getMonth()===G.getMonth()&&rt.getFullYear()===G.getFullYear()?(ft="today",Oe.style.fill="#2563eb",Oe.style.fontWeight="bold",Ye=!0):Pp(rt)?(ft="holiday",Oe.style.fill="#dc2626",Oe.style.fontWeight="bold",Ye=!0):rt.getDay()===0||rt.getDay()===6?(ft="weekend",Oe.style.fill="#d97706",Oe.style.fontWeight="bold",Ye=!0):(Oe.style.fill="",Oe.style.fontWeight=""),ft&&Ye&&(X.push({x:Nt,type:ft,sourceSvg:je}),le.add(Nt),ft==="today"&&!Z&&(Z={x:Nt,element:je}))}}})}for(const je of U){const Ue=je.querySelector("#custom-backgrounds");Ue&&Ue.remove();const Me=je.querySelector("#custom-ruler");if(Me&&Me.remove(),X.length===0)return;const et=document.createElementNS("http://www.w3.org/2000/svg","g");et.id="custom-backgrounds";const bt=document.createElementNS("http://www.w3.org/2000/svg","g");bt.id="custom-ruler",je.firstChild?je.insertBefore(et,je.firstChild):je.appendChild(et),je.appendChild(bt),X.forEach(st=>{const Oe=document.createElementNS("http://www.w3.org/2000/svg","rect");if(Oe.setAttribute("x",Math.max(0,st.x-Ie/2).toString()),Oe.setAttribute("y","0"),Oe.setAttribute("width",Ie.toString()),Oe.setAttribute("height","100%"),st.type==="today"){Oe.setAttribute("fill","#eff6ff"),Oe.setAttribute("fill-opacity","0.5"),et.appendChild(Oe);const ot=U.indexOf(st.sourceSvg),Nt=U.indexOf(je);if(Nt>ot){const ht=document.createElementNS("http://www.w3.org/2000/svg","line");ht.setAttribute("x1",st.x.toString()),ht.setAttribute("x2",st.x.toString()),ht.setAttribute("y1","0"),ht.setAttribute("y2","100%"),ht.setAttribute("stroke","#ef4444"),ht.setAttribute("stroke-width","1"),bt.appendChild(ht)}if(Nt===ot+1){const ht=document.createElementNS("http://www.w3.org/2000/svg","rect");ht.setAttribute("x",(st.x-15).toString()),ht.setAttribute("y","2"),ht.setAttribute("width","30"),ht.setAttribute("height","14"),ht.setAttribute("fill","white"),ht.setAttribute("rx","4"),bt.appendChild(ht);const Ut=document.createElementNS("http://www.w3.org/2000/svg","text");Ut.textContent="Hoje",Ut.setAttribute("x",st.x.toString()),Ut.setAttribute("y","12"),Ut.setAttribute("text-anchor","middle"),Ut.setAttribute("fill","#ef4444"),Ut.setAttribute("font-weight","bold"),Ut.setAttribute("font-size","10px"),bt.appendChild(Ut)}}else Oe.setAttribute("fill",st.type==="holiday"?"#fef2f2":"#f3f4f6"),et.appendChild(Oe)})}if(I.querySelectorAll(".barLabel").forEach(je=>{je instanceof SVGTextElement&&je.setAttribute("dy","0")}),!Y.current){let je=null;for(const Ue of U){const Me=Ue.parentElement;if(Me&&(Me.scrollWidth>Me.clientWidth||getComputedStyle(Me).overflowX==="auto"||getComputedStyle(Me).overflowX==="scroll")){je=Me;break}}if(!je&&U.length>0&&(je=U[U.length-1].parentElement),je){if(w===qe.Week)je.scrollTo({left:0,behavior:"smooth"}),Y.current=!0;else if(Z){const Ue=Z.x-je.clientWidth/2;Math.abs(je.scrollLeft-Ue)>10&&je.scrollTo({left:Math.max(0,Ue),behavior:"smooth"}),Y.current=!0}else if(we&&w!==qe.Week){let Ue=0;const Me=we;w===qe.Month?Ue=((G.getFullYear()-Me.getFullYear())*12+(G.getMonth()-Me.getMonth()))*Ie:Ue=Math.floor((G.getTime()-Me.getTime())/864e5)*Ie;const bt=Ne+Ue-je.clientWidth/2;Math.abs(je.scrollLeft-bt)>10&&je.scrollTo({left:Math.max(0,bt),behavior:"smooth"}),Y.current=!0}}}z&&z.observe(I,{childList:!0,subtree:!0,attributes:!0})};let O;z=new MutationObserver(U=>{U.some(ne=>ne.type==="childList"||ne.type==="attributes"&&ne.attributeName!=="style"&&ne.attributeName!=="class")&&(clearTimeout(O),O=setTimeout(W,100))});const M=setTimeout(W,200);return z.observe(I,{childList:!0,subtree:!0,attributes:!0}),()=>{clearTimeout(M),z.disconnect()}},[t,h,S,b,w,R]);const se=F.useMemo(()=>{const I=new Date;I.setHours(0,0,0,0);const z=t.map(Z=>{const ne=(new Date(Z.end).getTime()-new Date(Z.start).getTime())/864e5;let te=Z.type;Z.type!=="project"&&(te=ne<=1?"milestone":"task");const Q=new Date(Z.end);Q.setHours(0,0,0,0);const G=Q<=I&&Z.progress<100&&Z.type!=="project";let X=Z.styles;return X||(G?X={progressColor:"#dc2626",backgroundColor:"#fca5a5",backgroundSelectedColor:"#fecaca"}:Z.progress===100?X={progressColor:"#10b981",backgroundColor:"#dcfce7",backgroundSelectedColor:"#bbf7d0"}:Z.type==="project"?X={progressColor:"#4f46e5",backgroundColor:"#e0e7ff",backgroundSelectedColor:"#c7d2fe"}:X={progressColor:"#3b82f6",backgroundColor:"#eef2ff",backgroundSelectedColor:"#dbeafe"}),{start:new Date(Z.start),end:new Date(Z.end),name:Z.name,id:Z.id,type:te,progress:Z.progress,isDisabled:!1,styles:X,project:Z.parent||void 0,dependencies:Z.dependencies||[],hideChildren:_.includes(Z.id)}}),W=I.getFullYear()+5;let O=new Date(`${W}-12-31`);if(w===qe.Day){const Z=t.length>0?t.reduce((ne,te)=>te.end>ne?te.end:ne,new Date):new Date;O=new Date(Z),O.setDate(O.getDate()+60)}z.push({start:O,end:O,name:"",id:`dummy-extender-${O.getTime()}`,type:"task",progress:0,isDisabled:!0,styles:{backgroundColor:"transparent",backgroundSelectedColor:"transparent",progressColor:"transparent"},hideChildren:!1,project:void 0,dependencies:[]});const M=new Map;return t.forEach(Z=>{Z.parent&&M.set(Z.id,Z.parent)}),z.filter(Z=>{let ne=Z.id,te=0;for(;te<20;){const Q=M.get(ne);if(!Q)break;if(_.includes(Q))return!1;ne=Q,te++}return!0})},[t,_,w]),he=I=>{if(I.type==="project")return;const z=t.find(W=>W.id===I.id);z&&e({...z,start:I.start,end:I.end})},ce=I=>{if(I.type==="project")return;const z=t.find(W=>W.id===I.id);z&&e({...z,progress:I.progress})},Ae=I=>{const{active:z,over:W}=I;if(W&&z.id!==W.id){const O=t.findIndex(U=>U.id===z.id),M=t.findIndex(U=>U.id===W.id);if(O!==-1&&M!==-1){const U=Up(t,O,M);o(U,z.id)}}},xe=S||R,ve=R?24:S?28:34,Ie=w===qe.Year?130:R?30:S?40:65,Ee=xe?"180px":"280px",pe=`
        .gantt-landscape-container svg text {
            font-size: 10px !important;
        }
        .gantt-landscape-container .grid-header {
            height: 26px !important; 
        }
        /* Landscape Container Overrides */
        .gantt-landscape-container .grid-header > text {
             font-size: 9px !important; 
             transform: translateY(-14px); /* Pull text up to center it visually */
             dominant-baseline: auto; /* Reset to let transform handle it */
        }
        /* Vertical Align Text and Reduce Task List Font */
        .gantt-landscape-container .taskListWrapper svg text {
             dominant-baseline: middle;
             alignment-baseline: middle;
             font-size: 9px !important;
             transform: translateY(1px); /* Fine-tune optical center */
        }
        
        /* Ensure the gantt internal container allows scrolling */
        .gantt-landscape-container > div {
            overflow: auto !important;
            -webkit-overflow-scrolling: touch !important;
        }
    `,ge=b?{position:"fixed",top:0,left:"100vw",width:"100vh",height:"100vw",transform:"rotate(90deg)",transformOrigin:"top left",zIndex:9999,background:"white",touchAction:"manipulation"}:{},be=b?"flex flex-col gantt-landscape-container":"w-full flex flex-col h-full bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden relative";return u.jsxs("div",{ref:m,className:be,style:ge,children:[b&&u.jsx("style",{children:pe}),u.jsxs("div",{className:`flex items-center justify-between p-2 border-b border-gray-100 bg-gray-50 flex-shrink-0 ${b?"px-8 py-2 h-14":""}`,children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h3",{className:`font-bold text-gray-700 whitespace-nowrap ${S||R?"text-sm":""}`,children:"Cronograma"}),u.jsx("button",{onClick:()=>N(!j),className:`hidden lg:flex items-center gap-1 px-3 py-1.5 rounded-full text-xs font-bold transition-colors ml-2 shadow-sm
                            ${j?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-indigo-600 text-white hover:bg-indigo-700"}`,title:j?"Ocultar Lista":"Mostrar Lista",children:u.jsx(Gb,{size:16,className:j?"text-indigo-600":"text-current"})}),u.jsxs("button",{onClick:()=>C(!R),className:`hidden lg:flex items-center gap-1 px-3 py-1.5 rounded-full text-xs font-bold transition-colors ml-2 shadow-sm
                            ${R?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:R?"Modo Normal":"Modo Super Compacto",children:[R?u.jsx(Kb,{size:14}):u.jsx(Yb,{size:14}),u.jsx("span",{className:"hidden xl:inline",children:R?"Normal":"Compacto"})]}),u.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1 ml-2",children:[u.jsx("button",{onClick:()=>D([]),className:"p-1 hover:bg-white rounded transition-colors shadow-sm",title:"Expandir Tudo",children:u.jsx(Yr,{size:16,className:"text-green-600"})}),u.jsx("button",{onClick:()=>{const I=Array.from(new Set(t.filter(z=>t.some(W=>W.parent===z.id)).map(z=>z.id)));D(I)},className:"p-1 hover:bg-white rounded transition-colors shadow-sm ml-1",title:"Recolher Tudo",children:u.jsx(hE,{size:16,className:"text-red-600"})})]}),u.jsx("button",{onClick:()=>k(!b),className:`lg:hidden flex items-center gap-1 px-3 py-1.5 rounded-full text-xs font-bold transition-colors ml-2 shadow-sm
                            ${b?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:u.jsx(Gb,{size:16,className:b?"text-white":"text-indigo-600"})}),b&&u.jsx("button",{onClick:()=>L(!S),className:"flex items-center justify-center p-1.5 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200 ml-2",title:S?"Aumentar Zoom":"Diminuir Zoom",children:S?u.jsx(Kb,{size:14}):u.jsx(Yb,{size:14})})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:`${b?"flex":"hidden"} lg:flex gap-2`,children:[u.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1 mr-2",children:[u.jsx("button",{onClick:()=>T(qe.Day),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${w===qe.Day?"bg-white shadow text-indigo-600":"text-gray-500 hover:text-gray-900"}`,children:"Dia"}),u.jsx("button",{onClick:()=>T(qe.Week),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${w===qe.Week?"bg-white shadow text-indigo-600":"text-gray-500 hover:text-gray-900"}`,children:"Semana"}),u.jsx("button",{onClick:()=>T(qe.Month),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${w===qe.Month?"bg-white shadow text-indigo-600":"text-gray-500 hover:text-gray-900"}`,children:"Ms"}),u.jsx("button",{onClick:()=>T(qe.Year),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${w===qe.Year?"bg-white shadow text-indigo-600":"text-gray-500 hover:text-gray-900"}`,children:"Ano"})]}),u.jsxs("button",{onClick:()=>r(h||void 0),className:`hidden lg:flex items-center gap-2 bg-indigo-600 text-white px-3 py-1.5 rounded-md text-sm hover:bg-indigo-700 transition ml-2 whitespace-nowrap ${S?"text-xs px-2 py-1":""}`,children:[u.jsx("span",{className:"text-lg font-bold leading-none",style:{marginTop:"-2px"},children:"+"}),u.jsx("span",{className:"hidden sm:inline",children:"Nova Tarefa"})]})]}),u.jsxs("div",{className:`${b?"hidden":""} lg:hidden relative`,children:[u.jsxs("button",{onClick:()=>ee(!J),className:"bg-indigo-600 text-white px-3 py-1.5 rounded-md text-sm font-medium shadow hover:bg-indigo-700 transition flex items-center gap-2",children:[u.jsx("span",{children:"Aes"}),u.jsx(kj,{size:16})]}),J&&u.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-100 z-50 p-2 flex flex-col gap-2 animate-in fade-in zoom-in duration-200",children:[u.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase px-2 mb-1",children:"Visualizao"}),u.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[u.jsx("button",{onClick:()=>{T(qe.Day),ee(!1)},className:`flex-1 px-2 py-1 text-xs font-medium rounded-md transition-all ${w===qe.Day?"bg-white shadow text-indigo-600":"text-gray-500"}`,children:"Dia"}),u.jsx("button",{onClick:()=>{T(qe.Week),ee(!1)},className:`flex-1 px-2 py-1 text-xs font-medium rounded-md transition-all ${w===qe.Week?"bg-white shadow text-indigo-600":"text-gray-500"}`,children:"Sem"}),u.jsx("button",{onClick:()=>{T(qe.Month),ee(!1)},className:`flex-1 px-2 py-1 text-xs font-medium rounded-md transition-all ${w===qe.Month?"bg-white shadow text-indigo-600":"text-gray-500"}`,children:"Ms"}),u.jsx("button",{onClick:()=>{T(qe.Year),ee(!1)},className:`flex-1 px-2 py-1 text-xs font-medium rounded-md transition-all ${w===qe.Year?"bg-white shadow text-indigo-600":"text-gray-500"}`,children:"Ano"})]}),u.jsx("div",{className:"h-px bg-gray-100 my-1"}),u.jsxs("button",{onClick:()=>{r(h||void 0),ee(!1)},className:"flex items-center gap-2 bg-indigo-600 text-white px-3 py-2 rounded-md text-sm font-medium hover:bg-indigo-700 transition justify-center",children:[u.jsx(Yr,{size:16}),u.jsx("span",{children:"Nova Tarefa"})]})]})]})]})]}),u.jsx("div",{id:"gantt-chart-area",ref:g,className:`flex-1 overflow-x-auto overflow-y-auto bg-white w-full touch-pan-x touch-pan-y ${B?"mobile-gantt-fix":""}`,style:{WebkitOverflowScrolling:"touch"},children:!t||t.length===0?u.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-400 min-h-[200px]",children:u.jsx("p",{children:'No tasks to display. Click "Nova Tarefa" to start.'})}):b?u.jsx(Km,{tasks:se,viewMode:w,locale:"pt-BR",onDateChange:he,onProgressChange:ce,listCellWidth:j?Ee:"",columnWidth:Ie,rowHeight:ve,barFill:55,ganttHeight:window.innerWidth-(xe?56:65),TaskListTable:j?I=>u.jsx("div",{className:"font-sans text-sm border-r border-gray-200 bg-white",children:I.tasks.filter(z=>z.id!=="gantt-spacer").map(z=>{const W=t.find(O=>O.id===z.id);return u.jsx(dw,{task:z,originalTask:W,allTasks:t,rowHeight:I.rowHeight,isSelected:h===z.id,onSelect:O=>p(M=>M===O?null:O),onEdit:n,onIndent:a,onOutdent:s,onDeleteTask:i,isCompact:xe,onToggleCollapse:H,isCollapsed:_.includes(z.id)},z.id)})}):()=>u.jsx(u.Fragment,{}),TaskListHeader:j?({headerHeight:I})=>u.jsxs("div",{className:"flex items-center bg-gray-50 border-b border-r border-gray-200 font-bold text-gray-500 uppercase tracking-wider",style:{height:I,fontSize:xe?"10px":"12px"},children:[u.jsx("div",{className:"px-4 flex-1 border-r border-gray-200 h-full flex items-center",style:{width:Ee,minWidth:Ee},children:"Tarefa"}),u.jsx("div",{className:"px-4 border-r border-gray-200 h-full flex items-center justify-center",style:{width:xe?"80px":"100px",minWidth:xe?"80px":"100px"},children:"Incio"}),u.jsx("div",{className:"px-4 h-full flex items-center justify-center",style:{width:xe?"80px":"100px",minWidth:xe?"80px":"100px"},children:"Fim"}),u.jsx("div",{className:"px-4 h-full flex items-center justify-center text-gray-400",style:{width:xe?"60px":"80px",minWidth:xe?"60px":"80px"},children:"Dias"})]}):()=>u.jsx(u.Fragment,{})}):u.jsx("div",{className:"w-full h-full",children:B?u.jsx(Km,{tasks:se,viewMode:w,locale:"pt-BR",onDateChange:void 0,onProgressChange:void 0,onDoubleClick:void 0,onSelect:I=>{const z=t.find(W=>W.id===I.id);z&&n(z)},listCellWidth:j&&!B?Ee:"",columnWidth:Ie,rowHeight:ve,barFill:55,ganttHeight:500,TaskListTable:()=>u.jsx(u.Fragment,{}),TaskListHeader:()=>u.jsx(u.Fragment,{})}):u.jsx(jE,{sensors:q,collisionDetection:bE,onDragEnd:Ae,children:u.jsx(Km,{tasks:se,viewMode:w,locale:"pt-BR",onDateChange:he,onProgressChange:ce,listCellWidth:j&&!B?Ee:"",columnWidth:Ie,rowHeight:ve,barFill:55,ganttHeight:500,TaskListTable:!j||B?()=>u.jsx(u.Fragment,{}):I=>u.jsx("div",{className:"font-sans text-sm border-r border-gray-200 bg-white touch-pan-x touch-pan-y",children:u.jsx(BE,{items:I.tasks.filter(z=>z.id!=="gantt-spacer").map(z=>z.id),strategy:ME,children:I.tasks.filter(z=>z.id!=="gantt-spacer").map(z=>{const W=t.find(M=>M.id===z.id),O=t.some(M=>M.parent===z.id);return u.jsx(dw,{task:z,originalTask:W,allTasks:t,rowHeight:I.rowHeight,isSelected:h===z.id,onSelect:M=>p(U=>U===M?null:M),onEdit:n,onIndent:a,onOutdent:s,onDeleteTask:i,isCompact:xe,onToggleCollapse:H,isCollapsed:_.includes(z.id),hasChildren:O},z.id)})})}),TaskListHeader:!j||B?()=>u.jsx(u.Fragment,{}):({headerHeight:I})=>u.jsxs("div",{className:"flex items-center bg-gray-50 border-b border-r border-gray-200 font-bold text-gray-500 uppercase tracking-wider",style:{height:I,fontSize:xe?"10px":"12px"},children:[u.jsx("div",{className:"px-4 flex-1 border-r border-gray-200 h-full flex items-center",style:{width:Ee,minWidth:Ee},children:"Tarefa"}),u.jsx("div",{className:"px-4 border-r border-gray-200 h-full flex items-center justify-center",style:{width:xe?"80px":"100px",minWidth:xe?"80px":"100px"},children:"Incio"}),u.jsx("div",{className:"px-4 border-r border-gray-200 h-full flex items-center justify-center",style:{width:xe?"80px":"100px",minWidth:xe?"80px":"100px"},children:"Fim"}),u.jsx("div",{className:"px-4 h-full flex items-center justify-center text-gray-400",style:{width:xe?"60px":"80px",minWidth:xe?"60px":"80px"},children:"Dias"})]})})})})}),B&&!l&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed bottom-20 left-4 z-30",children:u.jsx("button",{onClick:()=>N(!j),className:"p-3 bg-white shadow-xl rounded-full text-indigo-600 active:scale-90 transition-all border border-indigo-100",children:j?u.jsx(Fu,{size:24}):u.jsx(eo,{size:24})})}),u.jsxs("div",{className:"fixed bottom-20 right-4 z-30 flex flex-col items-center gap-0",children:[u.jsx("button",{onTouchStart:()=>y("up"),onTouchEnd:v,onMouseDown:()=>y("up"),onMouseUp:v,onMouseLeave:v,onContextMenu:I=>I.preventDefault(),className:"p-3 bg-indigo-600 shadow-xl rounded-full text-white active:scale-90 transition-all border-2 border-white/20",children:u.jsx(dj,{size:24})}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onTouchStart:()=>y("left"),onTouchEnd:v,onMouseDown:()=>y("left"),onMouseUp:v,onMouseLeave:v,onContextMenu:I=>I.preventDefault(),className:"p-3 bg-indigo-600 shadow-xl rounded-full text-white active:scale-90 transition-all border-2 border-white/20",children:u.jsx(Fu,{size:24})}),u.jsx("button",{onTouchStart:()=>y("right"),onTouchEnd:v,onMouseDown:()=>y("right"),onMouseUp:v,onMouseLeave:v,onContextMenu:I=>I.preventDefault(),className:"p-3 bg-indigo-600 shadow-xl rounded-full text-white active:scale-90 transition-all border-2 border-white/20",children:u.jsx(eo,{size:24})})]}),u.jsx("button",{onTouchStart:()=>y("down"),onTouchEnd:v,onMouseDown:()=>y("down"),onMouseUp:v,onMouseLeave:v,onContextMenu:I=>I.preventDefault(),className:"p-3 bg-indigo-600 shadow-xl rounded-full text-white active:scale-90 transition-all border-2 border-white/20",children:u.jsx(ql,{size:24})})]})]})]})},xM="0.1.50",GE=({item:t,activeView:e,onNavigate:n,level:r=0,isCollapsed:i=!1})=>{const[a,s]=F.useState(t.isOpen||!1),o=t.id===e,l=F.useMemo(()=>{const m=g=>g.id===e?!0:g.children?g.children.some(m):!1;return t.children?t.children.some(m):!1},[t,e]),c="flex items-center w-full p-3 transition-colors duration-200 outline-none",d=o?"bg-indigo-600/10 text-indigo-400 border-r-2 border-indigo-600":l?"text-slate-200":"text-slate-400 hover:text-white hover:bg-slate-800",h=i?12:r*12+12,p=()=>{t.children?s(!a):t.id&&n(t.id)};return F.useMemo(()=>{l&&s(!0)},[l]),u.jsxs("div",{className:"w-full",children:[u.jsxs("button",{onClick:p,className:`${c} ${d} ${i?"justify-center":""}`,style:{paddingLeft:`${h}px`},title:i?t.label:void 0,children:[u.jsx(t.icon,{size:20,className:`shrink-0 ${o?"text-indigo-400":""}`}),!i&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"ml-3 font-medium text-sm truncate flex-1 text-left animate-in fade-in zoom-in-95 duration-200",children:t.label}),t.children&&u.jsx("span",{className:"ml-2",children:a?u.jsx(ql,{size:14}):u.jsx(eo,{size:14})})]})]}),t.children&&a&&!i&&u.jsx("div",{className:"overflow-hidden transition-all duration-300",children:t.children.map((m,g)=>u.jsx(GE,{item:m,activeView:e,onNavigate:n,level:r+1,isCollapsed:i},m.id||g))})]})},qE=({activeView:t,onNavigate:e,className:n="",clients:r=[],projects:i=[],currentUser:a})=>{const[s,o]=F.useState(!1),l=F.useMemo(()=>{const c=r.map(h=>{const m=i.filter(g=>g.clientId===h.id).map(g=>({label:g.name,icon:yv,children:[{id:`project_${g.id}_dashboard`,icon:Oh,label:"Relatrio Operacional"},{id:`project_${g.id}_gantt`,icon:Sl,label:"Relatrio Ttico-Gerencial"}]}));return{label:h.name,icon:oE,children:[{id:`client_${h.id}_reports`,icon:Dj,label:"Relatrio Estratgico (Portflio)"},{id:`client_${h.id}_my_projects`,icon:iu,label:"Gerenciar Projetos"},...m]}});return[{label:"Clientes",icon:pj,children:[{label:"Viso Geral / Gerenciar",id:"clients_manage",icon:iu},...c]},{id:"team",icon:Za,label:"Equipe"}]},[r,i]);return u.jsxs("aside",{className:`h-full bg-slate-900 text-white flex flex-col transition-all duration-300 flex-shrink-0 border-r border-slate-800 ${s?"w-20":"w-20 lg:w-64"} ${n}`,children:[u.jsxs("div",{className:`h-16 flex items-center ${s?"justify-center":"justify-center lg:justify-between lg:px-6"} border-b border-slate-800 bg-slate-950/50 shrink-0 relative group`,children:[u.jsxs("div",{className:`flex items-center ${s?"justify-center":""}`,children:[u.jsx("img",{src:"/logo.png",alt:"Logo",className:`object-contain transition-all duration-300 ${s?"h-8 w-8":"h-8 w-auto"}`}),!s&&u.jsx("span",{className:"ml-3 font-bold text-lg tracking-tight text-white animate-in fade-in slide-in-from-left-2 whitespace-nowrap",children:"UERJ-FAF 2025"})]}),u.jsx("button",{onClick:()=>o(!s),className:`absolute -right-3 top-1/2 -translate-y-1/2 bg-slate-800 text-slate-400 p-1 rounded-full border border-slate-700 hover:text-white hover:bg-slate-700 transition-all z-10 hidden lg:flex ${s?"-right-3":"opacity-0 group-hover:opacity-100"}`,title:s?"Expandir Menu":"Recolher Menu",children:s?u.jsx(fj,{size:14}):u.jsx(hj,{size:14})})]}),a&&u.jsxs("div",{className:`p-4 border-b border-slate-800 flex items-center gap-3 ${s?"justify-center":""}`,children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold border border-slate-600 shrink-0",children:a.displayName?a.displayName.charAt(0).toUpperCase():"U"}),!s&&u.jsxs("div",{className:"flex-1 overflow-hidden animate-in fade-in slide-in-from-left-2",children:[u.jsx("p",{className:"text-sm font-medium truncate text-slate-200",children:a.displayName}),u.jsx("p",{className:"text-xs text-slate-500 truncate",children:a.email})]})]}),u.jsx("nav",{className:"flex-1 py-4 pb-20 overflow-y-auto scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent",children:u.jsx("div",{className:"space-y-1",children:l.map((c,d)=>u.jsx(GE,{item:c,activeView:t,onNavigate:e,isCollapsed:s},c.id||d))})}),u.jsxs("div",{className:`p-4 border-t border-slate-800 bg-slate-950/30 shrink-0 ${s?"flex justify-center":""}`,children:[(a==null?void 0:a.role)==="master"&&u.jsxs("button",{onClick:()=>e("settings"),className:`flex items-center text-slate-400 hover:text-white transition-colors w-full ${s?"justify-center":"justify-center lg:justify-start"} group p-2 rounded-lg hover:bg-slate-800`,title:s?"Configuraes":void 0,children:[u.jsx(iu,{size:20,className:"group-hover:rotate-90 transition-transform duration-500"}),!s&&u.jsx("span",{className:"ml-3 font-medium",children:"Configuraes"})]}),u.jsx("div",{className:"text-xs text-slate-600 text-center mt-2 font-mono",children:!s&&`v${xM}`})]})]})},bM=t=>{const{isOpen:e,onClose:n,...r}=t;return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`fixed inset-0 bg-black/60 backdrop-blur-sm z-40 transition-opacity duration-300 lg:hidden ${e?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:n}),u.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-72 bg-slate-900 transform transition-transform duration-300 lg:hidden ${e?"translate-x-0":"-translate-x-full"} shadow-2xl border-r border-slate-700 h-[100dvh]`,children:u.jsx(qE,{...r,className:"w-full h-full border-none",onNavigate:i=>{r.onNavigate(i),n()}})})]})},wM=({stats:t,project:e,onUpdateProject:n})=>{var o,l;const i=(()=>{if(!e)return 0;const c=(e.margin||0)/100,d=(e.deliveryDeviation||0)/100,h=(e.taxRate||0)/100,p=(1-c)*(1-d)*(1-h);return p<=.01?0:t.totalCost/p})(),a=(c,d)=>{if(!e||!n)return;const h=parseFloat(d);n({...e,[c]:isNaN(h)?0:h})},s=({label:c,value:d,subValue:h,icon:p,colorClass:m,subColorClass:g})=>u.jsxs("div",{className:"flex flex-col min-w-[80px]",children:[u.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[u.jsx("div",{className:`p-1 rounded bg-opacity-10 ${m.replace("text-","bg-")}`,children:u.jsx(p,{size:12,className:m})}),u.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 tracking-wider",children:c})]}),u.jsxs("div",{className:"flex items-baseline gap-2",children:[u.jsx("span",{className:"text-sm font-bold text-gray-900",children:d}),h&&u.jsx("span",{className:`text-xs font-medium ${g}`,children:h})]})]});return u.jsx("div",{className:"-mt-8 -mx-8 bg-white border-b border-gray-200 px-8 py-4 mb-6 shadow-sm z-20 relative",children:u.jsx("div",{className:"flex flex-col gap-4",children:u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:flex-wrap justify-between gap-x-4 gap-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 min-[400px]:grid-cols-3 lg:flex lg:gap-6 gap-4 border-b lg:border-b-0 lg:border-r border-gray-100 pb-4 lg:pb-0 lg:pr-6 w-full lg:w-auto",children:[u.jsx(s,{label:"Estimado",value:`R$ ${t.totalCost.toLocaleString("pt-BR",{notation:"compact"})}`,subValue:t.totalRealCost?`R$ ${t.totalRealCost.toLocaleString("pt-BR",{notation:"compact"})}`:void 0,subColorClass:t.totalRealCost&&t.totalRealCost>t.totalCost?"text-red-500":"text-gray-400",icon:gl,colorClass:"text-emerald-600"}),u.jsx(s,{label:"Prazo",value:`${t.totalDuration}d`,subValue:t.totalRealDuration?`${t.totalRealDuration}d`:void 0,subColorClass:t.totalRealDuration&&t.totalRealDuration>t.totalDuration?"text-red-500":"text-gray-400",icon:fd,colorClass:"text-blue-600"}),t.startDate&&u.jsx(s,{label:"Incio",value:t.startDate.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),icon:Sl,colorClass:"text-purple-600"}),t.endDate&&u.jsx(s,{label:"Fim",value:t.endDate.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),icon:Sl,colorClass:"text-purple-600"}),u.jsx(s,{label:"Progresso",value:`${t.progress}%`,subValue:`Meta: ${t.plannedProgress}%`,subColorClass:(t.progress||0)<(t.plannedProgress||0)?"text-red-500":"text-emerald-600",icon:xA,colorClass:"text-indigo-600"}),u.jsx(s,{label:"SPI (Prazo)",value:((o=t.spi)==null?void 0:o.toFixed(2))||"0.00",subValue:t.spi!==void 0&&t.spi<1?"Atrasado":"Ok",subColorClass:t.spi!==void 0&&t.spi<1?"text-red-500":"text-emerald-600",icon:xv,colorClass:t.spi!==void 0&&t.spi<1?"text-red-600":"text-emerald-600"}),u.jsxs("div",{className:"col-span-1",children:[" ",u.jsx(s,{label:"CPI (Custo)",value:((l=t.cpi)==null?void 0:l.toFixed(2))||"1.00",subValue:t.cpi&&t.cpi<1?"Estourado":"Ok",subColorClass:t.cpi&&t.cpi<1?"text-red-500":"text-emerald-600",icon:to,colorClass:t.cpi&&t.cpi<1?"text-red-600":"text-emerald-600"})]})]}),e&&n&&u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 flex-1 justify-end w-full lg:w-auto",children:[u.jsxs("div",{className:"flex w-full sm:w-auto items-center justify-between gap-3 bg-gray-50 px-3 py-2 rounded-lg border border-gray-100",children:[u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Margem"}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"number",value:e.margin||0,onChange:c=>a("margin",c.target.value),className:"w-10 bg-transparent text-xs font-bold text-gray-700 focus:outline-none border-b border-gray-300 focus:border-indigo-500 p-0 text-center"}),u.jsx("span",{className:"text-xs text-gray-400 ml-0.5",children:"%"})]})]}),u.jsx("div",{className:"w-px h-6 bg-gray-200"}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Desvio"}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"number",value:e.deliveryDeviation||0,onChange:c=>a("deliveryDeviation",c.target.value),className:"w-10 bg-transparent text-xs font-bold text-gray-700 focus:outline-none border-b border-gray-300 focus:border-indigo-500 p-0 text-center"}),u.jsx("span",{className:"text-xs text-gray-400 ml-0.5",children:"%"})]})]}),u.jsx("div",{className:"w-px h-6 bg-gray-200"}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("label",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Imposto"}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"number",value:e.taxRate||0,onChange:c=>a("taxRate",c.target.value),className:"w-14 bg-transparent text-xs font-bold text-gray-700 focus:outline-none border-b border-gray-300 focus:border-indigo-500 p-0 text-center"}),u.jsx("span",{className:"text-xs text-gray-400 ml-0.5",children:"%"})]})]})]}),u.jsxs("div",{className:"flex flex-row sm:flex-col justify-between sm:justify-center w-full sm:w-auto items-center sm:items-end pl-0 sm:pl-4 sm:border-l border-indigo-100",children:[u.jsxs("span",{className:"text-[10px] font-bold text-indigo-400 uppercase tracking-widest flex items-center gap-1",children:[u.jsx(lE,{size:10})," Investimento"]}),u.jsxs("span",{className:"text-lg font-black text-indigo-900 leading-none mt-1",children:["R$ ",i.toLocaleString("pt-BR",{minimumFractionDigits:0,maximumFractionDigits:0})]})]})]})]})})})},_M={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},CM=(t,e,n)=>{let r;const i=_M[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+r:"h "+r:r},EM={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},TM={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},IM={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},NM={date:pl({formats:EM,defaultWidth:"full"}),time:pl({formats:TM,defaultWidth:"full"}),dateTime:pl({formats:IM,defaultWidth:"full"})},SM={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},kM=(t,e,n,r)=>{const i=SM[t];return typeof i=="function"?i(e):i},DM={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},RM={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},PM={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},jM={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},LM={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},MM={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},FM=(t,e)=>{const n=Number(t);return(e==null?void 0:e.unit)==="week"?n+"":n+""},OM={ordinalNumber:FM,era:wi({values:DM,defaultWidth:"wide"}),quarter:wi({values:RM,defaultWidth:"wide",argumentCallback:t=>t-1}),month:wi({values:PM,defaultWidth:"wide"}),day:wi({values:jM,defaultWidth:"wide"}),dayPeriod:wi({values:LM,defaultWidth:"wide",formattingValues:MM,defaultFormattingWidth:"wide"})},BM=/^(\d+)[o]?/i,zM=/\d+/i,VM={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},UM={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},WM={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},GM={any:[/1/i,/2/i,/3/i,/4/i]},qM={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},$M={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},HM={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},QM={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},XM={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},KM={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},YM={ordinalNumber:iE({matchPattern:BM,parsePattern:zM,valueCallback:t=>parseInt(t,10)}),era:_i({matchPatterns:VM,defaultMatchWidth:"wide",parsePatterns:UM,defaultParseWidth:"any"}),quarter:_i({matchPatterns:WM,defaultMatchWidth:"wide",parsePatterns:GM,defaultParseWidth:"any",valueCallback:t=>t+1}),month:_i({matchPatterns:qM,defaultMatchWidth:"wide",parsePatterns:$M,defaultParseWidth:"any"}),day:_i({matchPatterns:HM,defaultMatchWidth:"wide",parsePatterns:QM,defaultParseWidth:"any"}),dayPeriod:_i({matchPatterns:XM,defaultMatchWidth:"any",parsePatterns:KM,defaultParseWidth:"any"})},Hi={code:"pt-BR",formatDistance:CM,formatLong:NM,formatRelative:kM,localize:OM,match:YM,options:{weekStartsOn:0,firstWeekContainsDate:1}},JM=({options:t,value:e,onChange:n,placeholder:r="Selecione...",className:i="",disabled:a=!1})=>{const[s,o]=F.useState(!1),[l,c]=F.useState(""),d=F.useRef(null),h=F.useRef(null);F.useEffect(()=>{const A=x=>{d.current&&!d.current.contains(x.target)&&o(!1)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]),F.useEffect(()=>{s&&h.current?setTimeout(()=>{var A;return(A=h.current)==null?void 0:A.focus()},50):c("")},[s]);const p=F.useMemo(()=>{if(!l)return t;const A=l.toLowerCase();return t.filter(x=>x.label.toLowerCase().includes(A)||x.subLabel&&x.subLabel.toLowerCase().includes(A))},[t,l]),m=t.find(A=>A.value===e),g=A=>{n(A),o(!1)};return u.jsxs("div",{className:`relative ${i}`,ref:d,children:[u.jsxs("button",{type:"button",onClick:()=>!a&&o(!s),disabled:a,className:`
                    w-full flex items-center justify-between
                    bg-white border text-left cursor-pointer
                    rounded-lg shadow-sm
                    py-2.5 px-3 text-sm
                    focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500
                    ${s?"border-indigo-500 ring-2 ring-indigo-500":"border-gray-300"}
                    ${a?"opacity-50 cursor-not-allowed bg-gray-50":"hover:bg-gray-50"}
                `,children:[u.jsx("span",{className:`block truncate ${m?"text-gray-900":"text-gray-400"}`,children:m?`${m.label}${m.subLabel?` (${m.subLabel})`:""}`:r}),u.jsx(ql,{size:16,className:`text-gray-400 transition-transform ${s?"rotate-180":""}`})]}),s&&u.jsxs("div",{className:"absolute z-50 mt-1 w-full bg-white rounded-lg shadow-xl border border-gray-200 animate-in fade-in zoom-in-95 duration-100 min-w-[250px]",children:[u.jsx("div",{className:"p-2 border-b border-gray-100",children:u.jsxs("div",{className:"relative",children:[u.jsx(Lp,{size:14,className:"absolute left-2.5 top-2.5 text-gray-400"}),u.jsx("input",{ref:h,type:"text",className:"w-full pl-8 pr-3 py-1.5 text-sm border border-gray-200 rounded-md focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 placeholder-gray-400",placeholder:"Pesquisar...",value:l,onChange:A=>c(A.target.value)})]})}),u.jsx("ul",{className:"max-h-60 overflow-auto py-1",children:p.length===0?u.jsx("li",{className:"px-4 py-3 text-sm text-gray-500 text-center italic",children:"Nenhum resultado encontrado."}):p.map(A=>u.jsxs("li",{onClick:()=>g(A.value),className:`
                                        cursor-pointer select-none relative py-2 pl-3 pr-9 hover:bg-indigo-50
                                        ${A.value===e?"bg-indigo-50 text-indigo-700 font-medium":"text-gray-900"}
                                    `,children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"block truncate text-sm",children:A.label}),A.subLabel&&u.jsx("span",{className:`block truncate text-xs ${A.value===e?"text-indigo-500":"text-gray-400"}`,children:A.subLabel})]}),A.value===e&&u.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-3 text-indigo-600",children:u.jsx(ml,{size:16})})]},A.value))})]})]})},ZM=({task:t,resources:e,projectTeam:n,allTasks:r,onSave:i,onCancel:a,onSplit:s,forceLandscape:o=!1})=>{const[l,c]=F.useState({progress:0,dependencies:[],type:"task",...t}),[d,h]=F.useState(!1),[p,m]=F.useState("start"),[g,A]=F.useState(""),[x,v]=F.useState(new Date),[y,b]=F.useState(2),k=F.useRef(null);F.useEffect(()=>{t&&c({...t,dependencies:t.dependencies||[]})},[t]);const[S,L]=F.useState(!1),[w,T]=F.useState(new Date),_=F.useRef(null),[D,j]=F.useState("start");F.useEffect(()=>{t&&(l.start&&v(l.start),l.realStart&&T(l.realStart))},[t]),F.useEffect(()=>{function Q(G){k.current&&!k.current.contains(G.target)&&h(!1),_.current&&!_.current.contains(G.target)&&L(!1)}return document.addEventListener("mousedown",Q),()=>{document.removeEventListener("mousedown",Q)}},[]);const N=Q=>{const G=new Date(Q);if(G.setHours(12,0,0,0),p==="start")c(X=>({...X,start:G,end:G})),m("end");else{const X=l.start||G;nu(G,X)?c(le=>({...le,start:G,end:X})):c(le=>({...le,end:G})),m("start"),h(!1)}},R=Q=>{const G=new Date(Q);if(G.setHours(12,0,0,0),D==="start")c(X=>({...X,realStart:G,realEnd:G})),j("end");else{const X=l.realStart||G;nu(G,X)?c(le=>({...le,realStart:G,realEnd:X})):c(le=>({...le,realEnd:G})),j("start"),L(!1)}},C=(Q,G=!1)=>{G?T(X=>Db(X,Q)):v(X=>Db(X,Q))},B=Mb(x),$=jb(B),J=Lb({start:Zs(B),end:Fb($)}),ee=Mb(w),Y=jb(ee),oe=Lb({start:Zs(ee),end:Fb(Y)}),H=t!=null&&t.id?r.filter(Q=>{var G;return(G=Q.dependencies)==null?void 0:G.includes(t.id)}):[],q=r.filter(Q=>{var G;return Q.id!==(t==null?void 0:t.id)&&!((G=l.dependencies)!=null&&G.includes(Q.id))&&Q.type!=="project"}),se=()=>{if(!g)return;const Q=l.dependencies||[];c(G=>({...G,dependencies:[...Q,g]})),A("")},he=Q=>{const G=l.dependencies||[];c(X=>({...X,dependencies:G.filter(le=>le!==Q)}))},ce=["0-1","3-21","4-1","8-7","9-12","10-2","10-15","11-25"],Ae=Q=>{const G=`${Q.getMonth()}-${Q.getDate()}`;return ce.includes(G)},xe=(Q,G)=>{if(!Q||!G)return 0;const X=new Date(Q),le=new Date(G);if(X.setHours(12,0,0,0),le.setHours(12,0,0,0),ju(X,le))return 0;let we=0,Ne=X;for(;Ne<=le;)!fl(Ne)&&!Ae(Ne)&&we++,Ne=Yn(Ne,1);return we},ve=F.useMemo(()=>{const Q=X=>{let le=0,we=0,Ne=0,dt=0;for(const Ze of X)if(Ze.type==="project"){const je=r.filter(Me=>Me.parent===Ze.id),Ue=Q(je);le+=Ue.hours,we+=Ue.cost,Ne+=Ue.realHours,dt+=Ue.realCost}else{const je=xe(Ze.start,Ze.end)*8,Ue=Ze.hourlyRate||0;le+=je,we+=je*Ue;const Me=Ze.realStart&&Ze.realEnd?xe(Ze.realStart,Ze.realEnd)*8:0;Ne+=Me,dt+=Me*Ue}return{hours:le,cost:we,realHours:Ne,realCost:dt}};let G={hours:0,cost:0,realHours:0,realCost:0};if(l.type==="project"){if(l.id){const X=r.filter(le=>le.parent===l.id);G=Q(X)}}else{const X=xe(l.start,l.end)*8,le=l.hourlyRate||0,we=l.realStart&&l.realEnd?xe(l.realStart,l.realEnd)*8:0;G={hours:X,cost:X*le,realHours:we,realCost:we*le}}return{hours:G.hours,ftes:G.hours/168,avgRate:G.hours>0?G.cost/G.hours:0,totalCost:G.cost,totalRealCost:G.realCost,realHours:G.realHours}},[l,r]),[Ie,Ee]=F.useState(!1);F.useEffect(()=>{const Q=()=>{const le=window.matchMedia("(orientation: landscape) and (max-height: 900px) and (max-width: 1024px)");Ee(le.matches)};Q();const G=window.matchMedia("(orientation: landscape) and (max-height: 900px) and (max-width: 1024px)"),X=le=>Ee(le.matches);return G.addEventListener?G.addEventListener("change",X):G.addListener(X),window.addEventListener("resize",Q),()=>{G.removeEventListener?G.removeEventListener("change",X):G.removeListener(X),window.removeEventListener("resize",Q)}},[]);const pe=Ie||o,ge=o&&!Ie,be=Q=>{if(Q&&Q.preventDefault(),!l.name||!l.start||!l.end){alert("Por favor preencha todos os campos obrigatrios (Nome, Incio, Fim).");return}const X=[...new Set(l.dependencies||[])].filter(le=>le!==(t==null?void 0:t.id)&&r.some(we=>we.id===le));i({...l,dependencies:X})},I=Q=>{const G=Q?oe:J,X=Q?w:x,le=Q?"realStart":"start",we=Q?"realEnd":"end";return G.map((Ne,dt)=>{const Ze=l[le]?Pc(Ne,l[le]):!1,je=l[we]?Pc(Ne,l[we]):!1,Ue=l[le]&&l[we]?ej(Ne,{start:l[le],end:l[we]}):!1,Me=ZP(Ne,X);return u.jsx("button",{type:"button",onClick:()=>Q?R(Ne):N(Ne),className:`
                         h-9 w-9 flex items-center justify-center text-sm transition-all relative rounded-full
                         ${Me?"text-gray-700 hover:bg-indigo-50":"text-gray-300"}
                         ${Ue&&!Ze&&!je?"bg-indigo-50 text-indigo-700 rounded-none":""}
                         ${Ze||je?"bg-indigo-600 text-white shadow-md z-10 font-bold":""}
                         ${Ze&&l[we]&&l[le]&&!Pc(l[le],l[we])?"rounded-r-none":""}
                         ${je&&l[le]&&l[we]&&!Pc(l[le],l[we])?"rounded-l-none":""}
                     `,children:un(Ne,"d")},dt)})},z=pe?"fixed inset-0 z-[99999] flex justify-start pointer-events-auto":"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999] p-4",W=pe?"w-2/5 h-full bg-white shadow-2xl flex flex-col rounded-r-xl border-r border-gray-200":"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",O=pe?"px-4 py-2 border-b border-gray-100 flex justify-between items-center bg-gray-50 flex-shrink-0":"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50 flex-shrink-0",M=pe?"flex-1 p-4 space-y-4 overflow-y-auto":"flex-1 overflow-y-auto p-6 space-y-6",U=pe?"w-full rounded border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 border py-1 px-2 text-xs":"w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 border p-2.5",Z=pe?"block text-[10px] font-bold text-gray-700 mb-0.5":"block text-sm font-medium text-gray-700 mb-1",ne=pe?"font-bold text-gray-900 border-b pb-1 mb-2 text-xs flex items-center gap-2":"font-semibold text-gray-900 border-b pb-2 mb-4 flex items-center gap-2",te=ge?{position:"fixed",top:0,left:"100vw",width:"100vh",height:"100vw",transform:"rotate(90deg)",transformOrigin:"top left",zIndex:99999}:{zIndex:pe?99999:9999};return u.jsx("div",{className:z,style:te,children:u.jsxs("div",{className:W,children:[u.jsxs("div",{className:O,children:[u.jsxs("h2",{className:`font-bold text-gray-800 ${pe?"text-sm flex items-center gap-2":"text-xl"}`,children:[t?"Editar Tarefa":"Nova Tarefa",pe&&u.jsx("span",{className:"text-[10px] font-normal text-gray-400 bg-gray-50 px-1 rounded border",children:"Modo Horizontal"})]}),u.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Wr,{size:pe?20:24})})]}),u.jsxs("form",{onSubmit:be,className:M,children:[u.jsxs("div",{className:pe?"space-y-2":"space-y-4",children:[u.jsx("h3",{className:ne,children:"Informaes Gerais"}),u.jsxs("div",{className:`grid gap-4 ${pe?"grid-cols-2 gap-2":"grid-cols-1 md:grid-cols-2"}`,children:[u.jsxs("div",{className:pe?"col-span-1":"md:col-span-2",children:[u.jsx("label",{className:Z,children:"Nome da Tarefa"}),u.jsx("input",{type:"text",value:l.name||"",onChange:Q=>c(G=>({...G,name:Q.target.value})),className:U,required:!0,placeholder:"ex: Design da Homepage"})]}),u.jsxs("div",{className:"relative",ref:k,children:[u.jsx("label",{className:Z,children:"Estimativa (Planejado)"}),u.jsxs("div",{onClick:()=>h(!d),className:`${U} flex items-center justify-between cursor-pointer hover:bg-gray-50 bg-white`,children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[u.jsx(Sl,{size:pe?14:18,className:"text-gray-400"}),u.jsxs("span",{className:"font-medium",children:[l.start?un(l.start,"dd/MM/yyyy"):"__/__/____","  -  ",l.end?un(l.end,"dd/MM/yyyy"):"__/__/____"]})]}),u.jsx("div",{className:`text-gray-400 bg-gray-100 rounded ${pe?"text-[10px] px-1":"text-xs px-2 py-1"}`,children:l.start&&l.end?`${xe(l.start,l.end)} dias teis`:"Selecione"})]}),d&&u.jsxs("div",{className:"absolute top-full left-0 z-50 mt-1 bg-white rounded-lg shadow-xl border border-gray-200 p-4 w-[320px] animate-in fade-in zoom-in-95 duration-150",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("button",{type:"button",onClick:()=>C(-1,!1),className:"p-1 hover:bg-gray-100 rounded-full text-gray-600",children:u.jsx(Fu,{size:20})}),u.jsx("span",{className:"font-bold text-gray-900 capitalize",children:un(x,"MMMM yyyy",{locale:Hi})}),u.jsx("button",{type:"button",onClick:()=>C(1,!1),className:"p-1 hover:bg-gray-100 rounded-full text-gray-600",children:u.jsx(eo,{size:20})})]}),u.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-2 text-center text-xs font-bold text-gray-400",children:[u.jsx("div",{children:"D"}),u.jsx("div",{children:"S"}),u.jsx("div",{children:"T"}),u.jsx("div",{children:"Q"}),u.jsx("div",{children:"Q"}),u.jsx("div",{children:"S"}),u.jsx("div",{children:"S"})]}),u.jsx("div",{className:"grid grid-cols-7 gap-1",children:I(!1)}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex justify-between items-center text-xs",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-600"})," Incio"]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-900"})," Fim"]})]}),u.jsx("div",{className:"font-medium text-gray-500",children:p==="start"?"Selecione o Incio":"Selecione o Fim"})]})]})]}),u.jsxs("div",{className:`grid ${pe?"grid-cols-2 gap-2":"grid-cols-2 gap-4"}`,children:[u.jsxs("div",{children:[u.jsx("label",{className:Z,children:"Status (Progresso)"}),u.jsxs("select",{value:(l.progress||0)===0?"todo":(l.progress||0)>=100?"done":"doing",onChange:Q=>{const G=Q.target.value;G==="todo"&&c(X=>({...X,progress:0})),G==="done"&&c(X=>({...X,progress:100})),G==="doing"&&(l.progress===0||l.progress===100)&&c(X=>({...X,progress:50}))},className:U,children:[u.jsx("option",{value:"todo",children:"A Fazer"}),u.jsx("option",{value:"doing",children:"Em Andamento"}),u.jsx("option",{value:"done",children:"Concludo"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:Z,children:"Percentual"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",min:"0",max:"100",value:l.progress||0,onChange:Q=>{const G=Q.target.value;if(G===""){c(le=>({...le,progress:0}));return}let X=parseInt(G);isNaN(X)&&(X=0),X<0&&(X=0),X>100&&(X=100),c(le=>({...le,progress:X}))},className:`${U} text-center`}),u.jsx("span",{className:"text-gray-500 font-medium text-xs",children:"%"})]})]}),(t==null?void 0:t.type)==="project"&&u.jsx("p",{className:"text-[10px] text-amber-600 mt-1 col-span-2",children:"* Progresso de projetos  calculado automaticamente."})]}),u.jsxs("div",{className:pe?"col-span-1":"md:col-span-2",children:[u.jsx("label",{className:Z,children:"Tarefa Pai (Hierarquia)"}),u.jsxs("select",{value:l.parent||"",onChange:Q=>c(G=>({...G,parent:Q.target.value})),className:U,children:[u.jsx("option",{value:"auto-id-1",children:"-- Nenhuma (Raiz) --"}),r.filter(Q=>Q.id!==(t==null?void 0:t.id)).map(Q=>u.jsx("option",{value:Q.id,children:Q.name},Q.id))]})]})]})]}),u.jsxs("div",{className:pe?"space-y-2 opacity-90 scale-95 origin-top-left w-[105%]":"space-y-4",children:[u.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-2 border-b border-gray-100 pb-2 mb-4",children:u.jsx("h3",{className:ne,children:"Execuo e Financeiro"})}),n&&n.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:Z,children:"Profissional / Papel Sugerido"}),u.jsxs("select",{value:l.assignedResource||"",onChange:Q=>{const G=Q.target.value,X=n.find(le=>le.role.trim()===G.trim());c(le=>({...le,assignedResource:G,hourlyRate:X&&X.hourlyRate!==void 0&&X.hourlyRate!==null?X.hourlyRate:le.hourlyRate}))},className:`${U} bg-indigo-50 border-indigo-200 text-indigo-900 font-medium`,children:[u.jsx("option",{value:"",children:"-- Selecionar Papel da Equipe --"}),n.map((Q,G)=>u.jsxs("option",{value:Q.role,children:[Q.role," (",Q.hourlyRate?`R$ ${Q.hourlyRate}/h`:"Sem Taxa definida",")"]},G))]}),u.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"Ao selecionar um papel, a taxa/hora ser atualizada automaticamente (se definida na aba Equipe)."})]}),u.jsxs("div",{className:`grid gap-4 ${pe?"grid-cols-2 gap-2 text-xs":"grid-cols-1 md:grid-cols-2"}`,children:[u.jsxs("div",{className:"relative",ref:_,children:[u.jsx("label",{className:Z,children:"Execuo Real"}),u.jsx("div",{onClick:()=>L(!S),className:`${U} flex items-center justify-between cursor-pointer hover:bg-gray-50 bg-white`,children:u.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[u.jsx(Sl,{size:pe?14:18,className:"text-emerald-500"}),u.jsxs("span",{className:"font-medium",children:[l.realStart?un(l.realStart,"dd/MM/yyyy"):"__/__/____","  -  ",l.realEnd?un(l.realEnd,"dd/MM/yyyy"):"__/__/____"]})]})}),S&&u.jsxs("div",{className:"absolute top-full left-0 z-50 mt-1 bg-white rounded-lg shadow-xl border border-gray-200 p-4 w-[320px] animate-in fade-in zoom-in-95 duration-150",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("button",{type:"button",onClick:()=>C(-1,!0),className:"p-1 hover:bg-gray-100 rounded-full text-gray-600",children:u.jsx(Fu,{size:20})}),u.jsx("span",{className:"font-bold text-gray-900 capitalize",children:un(w,"MMMM yyyy",{locale:Hi})}),u.jsx("button",{type:"button",onClick:()=>C(1,!0),className:"p-1 hover:bg-gray-100 rounded-full text-gray-600",children:u.jsx(eo,{size:20})})]}),u.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-2 text-center text-xs font-bold text-gray-400",children:[u.jsx("div",{children:"D"}),u.jsx("div",{children:"S"}),u.jsx("div",{children:"T"}),u.jsx("div",{children:"Q"}),u.jsx("div",{children:"Q"}),u.jsx("div",{children:"S"}),u.jsx("div",{children:"S"})]}),u.jsx("div",{className:"grid grid-cols-7 gap-1",children:I(!0)})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:Z,children:"Valor Hora (R$)"}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 font-bold text-xs pointer-events-none",children:"R$"}),u.jsx("input",{type:"number",value:l.hourlyRate||"",onChange:Q=>c(G=>({...G,hourlyRate:parseFloat(Q.target.value)})),className:`${U} pl-8`,placeholder:"0,00"})]})]})]}),u.jsxs("div",{className:`bg-gray-50 rounded-lg border border-gray-200 ${pe?"p-2":"p-4"}`,children:[u.jsx("h4",{className:`font-bold text-gray-700 mb-2 ${pe?"text-[10px]":"text-xs uppercase tracking-wider"}`,children:"Totais Calculados"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] text-gray-500",children:"Horas Plan."}),u.jsxs("p",{className:`font-bold text-gray-900 ${pe?"text-xs":"text-lg"}`,children:[Math.round(ve.hours),"h"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] text-gray-500",children:"Custo Plan."}),u.jsxs("p",{className:`font-bold text-gray-900 ${pe?"text-xs":"text-lg"}`,children:["R$ ",ve.totalCost.toLocaleString("pt-BR",{notation:"compact"})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] text-emerald-600",children:"Horas Reais"}),u.jsxs("p",{className:`font-bold text-emerald-700 ${pe?"text-xs":"text-lg"}`,children:[Math.round(ve.realHours),"h"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] text-emerald-600",children:"Custo Real"}),u.jsxs("p",{className:`font-bold text-emerald-700 ${pe?"text-xs":"text-lg"}`,children:["R$ ",ve.totalRealCost.toLocaleString("pt-BR",{notation:"compact"})]})]})]})]})]}),u.jsxs("div",{className:pe?"space-y-2":"space-y-4",children:[u.jsxs("h3",{className:ne,children:[u.jsx(Tj,{size:pe?14:18}),"Dependncias"]}),u.jsxs("div",{className:`grid ${pe?"grid-cols-2 gap-2":"grid-cols-1 md:grid-cols-2 gap-6"}`,children:[u.jsxs("div",{className:`bg-gray-50 p-2 rounded-lg border border-gray-200 ${pe?"text-xs":""}`,children:[u.jsxs("h4",{className:`font-bold text-gray-700 mb-2 flex items-center gap-2 ${pe?"text-[10px]":"text-sm"}`,children:[u.jsx(sj,{size:14,className:"text-amber-600"}),"Predecessoras"]}),u.jsxs("div",{className:"space-y-2 mb-2 max-h-20 overflow-y-auto",children:[(l.dependencies||[]).length===0&&u.jsx("p",{className:"text-[10px] text-gray-400 italic",children:"Nenhuma."}),(l.dependencies||[]).map(Q=>{const G=r.find(X=>X.id===Q);return u.jsxs("div",{className:"flex justify-between items-center bg-white p-1 rounded shadow-sm border border-gray-100",children:[u.jsx("span",{className:"truncate flex-1",title:G?G.name:Q,children:G?G.name:Q}),u.jsx("button",{type:"button",onClick:()=>he(Q),className:"text-red-400 hover:text-red-600 p-1",children:u.jsx(Wr,{size:12})})]},Q)})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("div",{className:"flex-1 w-0 min-w-0",children:u.jsx(JM,{value:g,onChange:Q=>A(Q),options:q.map(Q=>({value:Q.id,label:Q.name})),placeholder:"Add Dep..."})}),u.jsx("button",{type:"button",onClick:se,disabled:!g,className:"bg-indigo-600 text-white px-2 py-1 rounded text-xs hover:bg-indigo-700 disabled:opacity-50",children:u.jsx(Yr,{size:14})})]})]}),u.jsxs("div",{className:`bg-gray-50 p-2 rounded-lg border border-gray-200 opacity-80 ${pe?"text-xs":""}`,children:[u.jsxs("h4",{className:`font-bold text-gray-700 mb-2 flex items-center gap-2 ${pe?"text-[10px]":"text-sm"}`,children:[u.jsx(oj,{size:14,className:"text-blue-600"}),"Sucessoras"]}),u.jsxs("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:[H.length===0&&u.jsx("p",{className:"text-[10px] text-gray-400 italic",children:"Nenhuma."}),H.map(Q=>u.jsx("div",{className:"bg-white p-1 rounded shadow-sm border border-gray-100 text-gray-600 truncate",children:Q.name},Q.id))]})]})]})]}),t&&s&&u.jsxs("div",{className:`pt-2 border-t border-gray-100 ${pe?"mt-3":"mt-6"}`,children:[u.jsxs("h3",{className:ne,children:[u.jsx(Aj,{size:pe?14:16,className:"text-orange-600"}),"Ferramentas Avanadas"]}),u.jsx("div",{className:`bg-orange-50 rounded-lg border border-orange-100 ${pe?"p-2":"p-4"}`,children:u.jsxs("div",{className:"flex items-end gap-3",children:[u.jsxs("div",{className:"w-24",children:[u.jsx("label",{className:Z,children:"Fator de Quebra"}),u.jsx("input",{type:"number",min:"2",max:"10",value:y,onChange:Q=>b(Math.max(2,parseInt(Q.target.value)||2)),className:U})]}),u.jsxs("button",{type:"button",onClick:()=>{y<2||window.confirm(`Confirmar paralelismo em ${y}?`)&&s(l,y)},className:`flex-1 flex items-center justify-center gap-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg font-medium transition-colors shadow-sm ${pe?"px-3 py-1 text-xs":"px-4 py-2 text-sm"}`,children:[u.jsx(vj,{size:16}),"Aplicar"]})]})})]})]}),u.jsxs("div",{className:`border-t border-gray-100 flex justify-end gap-3 bg-gray-50 flex-shrink-0 ${pe?"p-2":"p-4"}`,children:[u.jsx("button",{type:"button",onClick:a,className:`font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 shadow-sm ${pe?"px-4 py-1.5 text-xs":"px-5 py-2.5 text-sm"}`,children:"Cancelar"}),u.jsx("button",{type:"button",onClick:be,className:`font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 shadow-md ${pe?"px-4 py-1.5 text-xs":"px-5 py-2.5 text-sm"}`,children:"Salvar Alteraes"})]})]})})};var hw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},e4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},HE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=a>>2,h=(a&3)<<4|o>>4;let p=(o&15)<<2|c>>6,m=c&63;l||(m=64,s||(p=64)),r.push(n[d],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($E(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):e4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||c==null||h==null)throw new t4;const p=a<<2|o>>4;if(r.push(p),c!==64){const m=o<<4&240|c>>2;if(r.push(m),h!==64){const g=c<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class t4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n4=function(t){const e=$E(t);return HE.encodeByteArray(e,!0)},Wf=function(t){return n4(t).replace(/\./g,"")},QE=function(t){try{return HE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=()=>r4().__FIREBASE_DEFAULTS__,a4=()=>{if(typeof process>"u"||typeof hw>"u")return;const t=hw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},s4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&QE(t[1]);return e&&JSON.parse(e)},Wp=()=>{try{return i4()||a4()||s4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},XE=t=>{var e,n;return(n=(e=Wp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},o4=t=>{const e=XE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},KE=()=>{var t;return(t=Wp())===null||t===void 0?void 0:t.config},YE=t=>{var e;return(e=Wp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wf(JSON.stringify(n)),Wf(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function d4(){var t;const e=(t=Wp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function f4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function p4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function m4(){const t=Sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function JE(){return!d4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZE(){try{return typeof indexedDB=="object"}catch{return!1}}function g4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="FirebaseError";class ca extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=A4,Object.setPrototypeOf(this,ca.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ad.prototype.create)}}class Ad{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?v4(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new ca(i,o,r)}}function v4(t,e){return t.replace(y4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const y4=/\{\$([^}]+)}/g;function x4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(fw(a)&&fw(s)){if(!Gf(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function fw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Lc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function b4(t,e){const n=new w4(t,e);return n.subscribe.bind(n)}class w4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ag),i.error===void 0&&(i.error=ag),i.complete===void 0&&(i.complete=ag);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ag(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t){return t&&t._delegate?t._delegate:t}class no{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new l4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T4(e))try{this.getOrInitializeService({instanceIdentifier:Is})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Is){return this.instances.has(e)}getOptions(e=Is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:E4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Is){return this.component?this.component.multipleInstances?e:Is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E4(t){return t===Is?void 0:t}function T4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new C4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(yt||(yt={}));const N4={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},S4=yt.INFO,k4={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},D4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=k4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Iv{constructor(e){this.name=e,this._logLevel=S4,this._logHandler=D4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?N4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...e),this._logHandler(this,yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...e),this._logHandler(this,yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yt.INFO,...e),this._logHandler(this,yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yt.WARN,...e),this._logHandler(this,yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...e),this._logHandler(this,yt.ERROR,...e)}}const R4=(t,e)=>e.some(n=>t instanceof n);let pw,mw;function P4(){return pw||(pw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j4(){return mw||(mw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eT=new WeakMap,kA=new WeakMap,tT=new WeakMap,sg=new WeakMap,Nv=new WeakMap;function L4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n($a(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&eT.set(n,t)}).catch(()=>{}),Nv.set(e,t),e}function M4(t){if(kA.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});kA.set(t,e)}let DA={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kA.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $a(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function F4(t){DA=t(DA)}function O4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(og(this),e,...n);return tT.set(r,e.sort?e.sort():[e]),$a(r)}:j4().includes(t)?function(...e){return t.apply(og(this),e),$a(eT.get(this))}:function(...e){return $a(t.apply(og(this),e))}}function B4(t){return typeof t=="function"?O4(t):(t instanceof IDBTransaction&&M4(t),R4(t,P4())?new Proxy(t,DA):t)}function $a(t){if(t instanceof IDBRequest)return L4(t);if(sg.has(t))return sg.get(t);const e=B4(t);return e!==t&&(sg.set(t,e),Nv.set(e,t)),e}const og=t=>Nv.get(t);function z4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=$a(s);return r&&s.addEventListener("upgradeneeded",l=>{r($a(s.result),l.oldVersion,l.newVersion,$a(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const V4=["get","getKey","getAll","getAllKeys","count"],U4=["put","add","delete","clear"],lg=new Map;function gw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lg.get(e))return lg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=U4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||V4.includes(n)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return lg.set(e,a),a}F4(t=>({...t,get:(e,n,r)=>gw(e,n)||t.get(e,n,r),has:(e,n)=>!!gw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(G4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function G4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const RA="@firebase/app",Aw="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new Iv("@firebase/app"),q4="@firebase/app-compat",$4="@firebase/analytics-compat",H4="@firebase/analytics",Q4="@firebase/app-check-compat",X4="@firebase/app-check",K4="@firebase/auth",Y4="@firebase/auth-compat",J4="@firebase/database",Z4="@firebase/data-connect",e5="@firebase/database-compat",t5="@firebase/functions",n5="@firebase/functions-compat",r5="@firebase/installations",i5="@firebase/installations-compat",a5="@firebase/messaging",s5="@firebase/messaging-compat",o5="@firebase/performance",l5="@firebase/performance-compat",c5="@firebase/remote-config",u5="@firebase/remote-config-compat",d5="@firebase/storage",h5="@firebase/storage-compat",f5="@firebase/firestore",p5="@firebase/vertexai-preview",m5="@firebase/firestore-compat",g5="firebase",A5="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="[DEFAULT]",v5={[RA]:"fire-core",[q4]:"fire-core-compat",[H4]:"fire-analytics",[$4]:"fire-analytics-compat",[X4]:"fire-app-check",[Q4]:"fire-app-check-compat",[K4]:"fire-auth",[Y4]:"fire-auth-compat",[J4]:"fire-rtdb",[Z4]:"fire-data-connect",[e5]:"fire-rtdb-compat",[t5]:"fire-fn",[n5]:"fire-fn-compat",[r5]:"fire-iid",[i5]:"fire-iid-compat",[a5]:"fire-fcm",[s5]:"fire-fcm-compat",[o5]:"fire-perf",[l5]:"fire-perf-compat",[c5]:"fire-rc",[u5]:"fire-rc-compat",[d5]:"fire-gcs",[h5]:"fire-gcs-compat",[f5]:"fire-fst",[m5]:"fire-fst-compat",[p5]:"fire-vertex","fire-js":"fire-js",[g5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=new Map,y5=new Map,jA=new Map;function vw(t,e){try{t.container.addComponent(e)}catch(n){aa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dl(t){const e=t.name;if(jA.has(e))return aa.debug(`There were multiple attempts to register component ${e}.`),!1;jA.set(e,t);for(const n of qf.values())vw(n,t);for(const n of y5.values())vw(n,t);return!0}function Sv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function si(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ha=new Ad("app","Firebase",x5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new no("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ha.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=A5;function nT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:PA,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ha.create("bad-app-name",{appName:String(i)});if(n||(n=KE()),!n)throw Ha.create("no-options");const a=qf.get(i);if(a){if(Gf(n,a.options)&&Gf(r,a.config))return a;throw Ha.create("duplicate-app",{appName:i})}const s=new I4(i);for(const l of jA.values())s.addComponent(l);const o=new b5(n,r,s);return qf.set(i,o),o}function rT(t=PA){const e=qf.get(t);if(!e&&t===PA&&KE())return nT();if(!e)throw Ha.create("no-app",{appName:t});return e}function Qa(t,e,n){var r;let i=(r=v5[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const o=[`Unable to register library "${i}" with version "${e}":`];a&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),aa.warn(o.join(" "));return}Dl(new no(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5="firebase-heartbeat-database",_5=1,Uu="firebase-heartbeat-store";let cg=null;function iT(){return cg||(cg=z4(w5,_5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ha.create("idb-open",{originalErrorMessage:t.message})})),cg}async function C5(t){try{const n=(await iT()).transaction(Uu),r=await n.objectStore(Uu).get(aT(t));return await n.done,r}catch(e){if(e instanceof ca)aa.warn(e.message);else{const n=Ha.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});aa.warn(n.message)}}}async function yw(t,e){try{const r=(await iT()).transaction(Uu,"readwrite");await r.objectStore(Uu).put(e,aT(t)),await r.done}catch(n){if(n instanceof ca)aa.warn(n.message);else{const r=Ha.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});aa.warn(r.message)}}}function aT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5=1024,T5=30*24*60*60*1e3;class I5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new S5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=xw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=T5}),this._storage.overwrite(this._heartbeatsCache))}catch(r){aa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xw(),{heartbeatsToSend:r,unsentEntries:i}=N5(this._heartbeatsCache.heartbeats),a=Wf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return aa.warn(n),""}}}function xw(){return new Date().toISOString().substring(0,10)}function N5(t,e=E5){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),bw(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),bw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class S5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZE()?g4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await C5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function bw(t){return Wf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(t){Dl(new no("platform-logger",e=>new W4(e),"PRIVATE")),Dl(new no("heartbeat",e=>new I5(e),"PRIVATE")),Qa(RA,Aw,t),Qa(RA,Aw,"esm2017"),Qa("fire-js","")}k5("");var ww=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $s,sT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,T){function _(){}_.prototype=T.prototype,w.D=T.prototype,w.prototype=new _,w.prototype.constructor=w,w.C=function(D,j,N){for(var R=Array(arguments.length-2),C=2;C<arguments.length;C++)R[C-2]=arguments[C];return T.prototype[j].apply(D,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,T,_){_||(_=0);var D=Array(16);if(typeof T=="string")for(var j=0;16>j;++j)D[j]=T.charCodeAt(_++)|T.charCodeAt(_++)<<8|T.charCodeAt(_++)<<16|T.charCodeAt(_++)<<24;else for(j=0;16>j;++j)D[j]=T[_++]|T[_++]<<8|T[_++]<<16|T[_++]<<24;T=w.g[0],_=w.g[1],j=w.g[2];var N=w.g[3],R=T+(N^_&(j^N))+D[0]+3614090360&4294967295;T=_+(R<<7&4294967295|R>>>25),R=N+(j^T&(_^j))+D[1]+3905402710&4294967295,N=T+(R<<12&4294967295|R>>>20),R=j+(_^N&(T^_))+D[2]+606105819&4294967295,j=N+(R<<17&4294967295|R>>>15),R=_+(T^j&(N^T))+D[3]+3250441966&4294967295,_=j+(R<<22&4294967295|R>>>10),R=T+(N^_&(j^N))+D[4]+4118548399&4294967295,T=_+(R<<7&4294967295|R>>>25),R=N+(j^T&(_^j))+D[5]+1200080426&4294967295,N=T+(R<<12&4294967295|R>>>20),R=j+(_^N&(T^_))+D[6]+2821735955&4294967295,j=N+(R<<17&4294967295|R>>>15),R=_+(T^j&(N^T))+D[7]+4249261313&4294967295,_=j+(R<<22&4294967295|R>>>10),R=T+(N^_&(j^N))+D[8]+1770035416&4294967295,T=_+(R<<7&4294967295|R>>>25),R=N+(j^T&(_^j))+D[9]+2336552879&4294967295,N=T+(R<<12&4294967295|R>>>20),R=j+(_^N&(T^_))+D[10]+4294925233&4294967295,j=N+(R<<17&4294967295|R>>>15),R=_+(T^j&(N^T))+D[11]+2304563134&4294967295,_=j+(R<<22&4294967295|R>>>10),R=T+(N^_&(j^N))+D[12]+1804603682&4294967295,T=_+(R<<7&4294967295|R>>>25),R=N+(j^T&(_^j))+D[13]+4254626195&4294967295,N=T+(R<<12&4294967295|R>>>20),R=j+(_^N&(T^_))+D[14]+2792965006&4294967295,j=N+(R<<17&4294967295|R>>>15),R=_+(T^j&(N^T))+D[15]+1236535329&4294967295,_=j+(R<<22&4294967295|R>>>10),R=T+(j^N&(_^j))+D[1]+4129170786&4294967295,T=_+(R<<5&4294967295|R>>>27),R=N+(_^j&(T^_))+D[6]+3225465664&4294967295,N=T+(R<<9&4294967295|R>>>23),R=j+(T^_&(N^T))+D[11]+643717713&4294967295,j=N+(R<<14&4294967295|R>>>18),R=_+(N^T&(j^N))+D[0]+3921069994&4294967295,_=j+(R<<20&4294967295|R>>>12),R=T+(j^N&(_^j))+D[5]+3593408605&4294967295,T=_+(R<<5&4294967295|R>>>27),R=N+(_^j&(T^_))+D[10]+38016083&4294967295,N=T+(R<<9&4294967295|R>>>23),R=j+(T^_&(N^T))+D[15]+3634488961&4294967295,j=N+(R<<14&4294967295|R>>>18),R=_+(N^T&(j^N))+D[4]+3889429448&4294967295,_=j+(R<<20&4294967295|R>>>12),R=T+(j^N&(_^j))+D[9]+568446438&4294967295,T=_+(R<<5&4294967295|R>>>27),R=N+(_^j&(T^_))+D[14]+3275163606&4294967295,N=T+(R<<9&4294967295|R>>>23),R=j+(T^_&(N^T))+D[3]+4107603335&4294967295,j=N+(R<<14&4294967295|R>>>18),R=_+(N^T&(j^N))+D[8]+1163531501&4294967295,_=j+(R<<20&4294967295|R>>>12),R=T+(j^N&(_^j))+D[13]+2850285829&4294967295,T=_+(R<<5&4294967295|R>>>27),R=N+(_^j&(T^_))+D[2]+4243563512&4294967295,N=T+(R<<9&4294967295|R>>>23),R=j+(T^_&(N^T))+D[7]+1735328473&4294967295,j=N+(R<<14&4294967295|R>>>18),R=_+(N^T&(j^N))+D[12]+2368359562&4294967295,_=j+(R<<20&4294967295|R>>>12),R=T+(_^j^N)+D[5]+4294588738&4294967295,T=_+(R<<4&4294967295|R>>>28),R=N+(T^_^j)+D[8]+2272392833&4294967295,N=T+(R<<11&4294967295|R>>>21),R=j+(N^T^_)+D[11]+1839030562&4294967295,j=N+(R<<16&4294967295|R>>>16),R=_+(j^N^T)+D[14]+4259657740&4294967295,_=j+(R<<23&4294967295|R>>>9),R=T+(_^j^N)+D[1]+2763975236&4294967295,T=_+(R<<4&4294967295|R>>>28),R=N+(T^_^j)+D[4]+1272893353&4294967295,N=T+(R<<11&4294967295|R>>>21),R=j+(N^T^_)+D[7]+4139469664&4294967295,j=N+(R<<16&4294967295|R>>>16),R=_+(j^N^T)+D[10]+3200236656&4294967295,_=j+(R<<23&4294967295|R>>>9),R=T+(_^j^N)+D[13]+681279174&4294967295,T=_+(R<<4&4294967295|R>>>28),R=N+(T^_^j)+D[0]+3936430074&4294967295,N=T+(R<<11&4294967295|R>>>21),R=j+(N^T^_)+D[3]+3572445317&4294967295,j=N+(R<<16&4294967295|R>>>16),R=_+(j^N^T)+D[6]+76029189&4294967295,_=j+(R<<23&4294967295|R>>>9),R=T+(_^j^N)+D[9]+3654602809&4294967295,T=_+(R<<4&4294967295|R>>>28),R=N+(T^_^j)+D[12]+3873151461&4294967295,N=T+(R<<11&4294967295|R>>>21),R=j+(N^T^_)+D[15]+530742520&4294967295,j=N+(R<<16&4294967295|R>>>16),R=_+(j^N^T)+D[2]+3299628645&4294967295,_=j+(R<<23&4294967295|R>>>9),R=T+(j^(_|~N))+D[0]+4096336452&4294967295,T=_+(R<<6&4294967295|R>>>26),R=N+(_^(T|~j))+D[7]+1126891415&4294967295,N=T+(R<<10&4294967295|R>>>22),R=j+(T^(N|~_))+D[14]+2878612391&4294967295,j=N+(R<<15&4294967295|R>>>17),R=_+(N^(j|~T))+D[5]+4237533241&4294967295,_=j+(R<<21&4294967295|R>>>11),R=T+(j^(_|~N))+D[12]+1700485571&4294967295,T=_+(R<<6&4294967295|R>>>26),R=N+(_^(T|~j))+D[3]+2399980690&4294967295,N=T+(R<<10&4294967295|R>>>22),R=j+(T^(N|~_))+D[10]+4293915773&4294967295,j=N+(R<<15&4294967295|R>>>17),R=_+(N^(j|~T))+D[1]+2240044497&4294967295,_=j+(R<<21&4294967295|R>>>11),R=T+(j^(_|~N))+D[8]+1873313359&4294967295,T=_+(R<<6&4294967295|R>>>26),R=N+(_^(T|~j))+D[15]+4264355552&4294967295,N=T+(R<<10&4294967295|R>>>22),R=j+(T^(N|~_))+D[6]+2734768916&4294967295,j=N+(R<<15&4294967295|R>>>17),R=_+(N^(j|~T))+D[13]+1309151649&4294967295,_=j+(R<<21&4294967295|R>>>11),R=T+(j^(_|~N))+D[4]+4149444226&4294967295,T=_+(R<<6&4294967295|R>>>26),R=N+(_^(T|~j))+D[11]+3174756917&4294967295,N=T+(R<<10&4294967295|R>>>22),R=j+(T^(N|~_))+D[2]+718787259&4294967295,j=N+(R<<15&4294967295|R>>>17),R=_+(N^(j|~T))+D[9]+3951481745&4294967295,w.g[0]=w.g[0]+T&4294967295,w.g[1]=w.g[1]+(j+(R<<21&4294967295|R>>>11))&4294967295,w.g[2]=w.g[2]+j&4294967295,w.g[3]=w.g[3]+N&4294967295}r.prototype.u=function(w,T){T===void 0&&(T=w.length);for(var _=T-this.blockSize,D=this.B,j=this.h,N=0;N<T;){if(j==0)for(;N<=_;)i(this,w,N),N+=this.blockSize;if(typeof w=="string"){for(;N<T;)if(D[j++]=w.charCodeAt(N++),j==this.blockSize){i(this,D),j=0;break}}else for(;N<T;)if(D[j++]=w[N++],j==this.blockSize){i(this,D),j=0;break}}this.h=j,this.o+=T},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var T=1;T<w.length-8;++T)w[T]=0;var _=8*this.o;for(T=w.length-8;T<w.length;++T)w[T]=_&255,_/=256;for(this.u(w),w=Array(16),T=_=0;4>T;++T)for(var D=0;32>D;D+=8)w[_++]=this.g[T]>>>D&255;return w};function a(w,T){var _=o;return Object.prototype.hasOwnProperty.call(_,w)?_[w]:_[w]=T(w)}function s(w,T){this.h=T;for(var _=[],D=!0,j=w.length-1;0<=j;j--){var N=w[j]|0;D&&N==T||(_[j]=N,D=!1)}this.g=_}var o={};function l(w){return-128<=w&&128>w?a(w,function(T){return new s([T|0],0>T?-1:0)}):new s([w|0],0>w?-1:0)}function c(w){if(isNaN(w)||!isFinite(w))return h;if(0>w)return x(c(-w));for(var T=[],_=1,D=0;w>=_;D++)T[D]=w/_|0,_*=4294967296;return new s(T,0)}function d(w,T){if(w.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(w.charAt(0)=="-")return x(d(w.substring(1),T));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=c(Math.pow(T,8)),D=h,j=0;j<w.length;j+=8){var N=Math.min(8,w.length-j),R=parseInt(w.substring(j,j+N),T);8>N?(N=c(Math.pow(T,N)),D=D.j(N).add(c(R))):(D=D.j(_),D=D.add(c(R)))}return D}var h=l(0),p=l(1),m=l(16777216);t=s.prototype,t.m=function(){if(A(this))return-x(this).m();for(var w=0,T=1,_=0;_<this.g.length;_++){var D=this.i(_);w+=(0<=D?D:4294967296+D)*T,T*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(g(this))return"0";if(A(this))return"-"+x(this).toString(w);for(var T=c(Math.pow(w,6)),_=this,D="";;){var j=k(_,T).g;_=v(_,j.j(T));var N=((0<_.g.length?_.g[0]:_.h)>>>0).toString(w);if(_=j,g(_))return N+D;for(;6>N.length;)N="0"+N;D=N+D}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function g(w){if(w.h!=0)return!1;for(var T=0;T<w.g.length;T++)if(w.g[T]!=0)return!1;return!0}function A(w){return w.h==-1}t.l=function(w){return w=v(this,w),A(w)?-1:g(w)?0:1};function x(w){for(var T=w.g.length,_=[],D=0;D<T;D++)_[D]=~w.g[D];return new s(_,~w.h).add(p)}t.abs=function(){return A(this)?x(this):this},t.add=function(w){for(var T=Math.max(this.g.length,w.g.length),_=[],D=0,j=0;j<=T;j++){var N=D+(this.i(j)&65535)+(w.i(j)&65535),R=(N>>>16)+(this.i(j)>>>16)+(w.i(j)>>>16);D=R>>>16,N&=65535,R&=65535,_[j]=R<<16|N}return new s(_,_[_.length-1]&-2147483648?-1:0)};function v(w,T){return w.add(x(T))}t.j=function(w){if(g(this)||g(w))return h;if(A(this))return A(w)?x(this).j(x(w)):x(x(this).j(w));if(A(w))return x(this.j(x(w)));if(0>this.l(m)&&0>w.l(m))return c(this.m()*w.m());for(var T=this.g.length+w.g.length,_=[],D=0;D<2*T;D++)_[D]=0;for(D=0;D<this.g.length;D++)for(var j=0;j<w.g.length;j++){var N=this.i(D)>>>16,R=this.i(D)&65535,C=w.i(j)>>>16,B=w.i(j)&65535;_[2*D+2*j]+=R*B,y(_,2*D+2*j),_[2*D+2*j+1]+=N*B,y(_,2*D+2*j+1),_[2*D+2*j+1]+=R*C,y(_,2*D+2*j+1),_[2*D+2*j+2]+=N*C,y(_,2*D+2*j+2)}for(D=0;D<T;D++)_[D]=_[2*D+1]<<16|_[2*D];for(D=T;D<2*T;D++)_[D]=0;return new s(_,0)};function y(w,T){for(;(w[T]&65535)!=w[T];)w[T+1]+=w[T]>>>16,w[T]&=65535,T++}function b(w,T){this.g=w,this.h=T}function k(w,T){if(g(T))throw Error("division by zero");if(g(w))return new b(h,h);if(A(w))return T=k(x(w),T),new b(x(T.g),x(T.h));if(A(T))return T=k(w,x(T)),new b(x(T.g),T.h);if(30<w.g.length){if(A(w)||A(T))throw Error("slowDivide_ only works with positive integers.");for(var _=p,D=T;0>=D.l(w);)_=S(_),D=S(D);var j=L(_,1),N=L(D,1);for(D=L(D,2),_=L(_,2);!g(D);){var R=N.add(D);0>=R.l(w)&&(j=j.add(_),N=R),D=L(D,1),_=L(_,1)}return T=v(w,j.j(T)),new b(j,T)}for(j=h;0<=w.l(T);){for(_=Math.max(1,Math.floor(w.m()/T.m())),D=Math.ceil(Math.log(_)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),N=c(_),R=N.j(T);A(R)||0<R.l(w);)_-=D,N=c(_),R=N.j(T);g(N)&&(N=p),j=j.add(N),w=v(w,R)}return new b(j,w)}t.A=function(w){return k(this,w).h},t.and=function(w){for(var T=Math.max(this.g.length,w.g.length),_=[],D=0;D<T;D++)_[D]=this.i(D)&w.i(D);return new s(_,this.h&w.h)},t.or=function(w){for(var T=Math.max(this.g.length,w.g.length),_=[],D=0;D<T;D++)_[D]=this.i(D)|w.i(D);return new s(_,this.h|w.h)},t.xor=function(w){for(var T=Math.max(this.g.length,w.g.length),_=[],D=0;D<T;D++)_[D]=this.i(D)^w.i(D);return new s(_,this.h^w.h)};function S(w){for(var T=w.g.length+1,_=[],D=0;D<T;D++)_[D]=w.i(D)<<1|w.i(D-1)>>>31;return new s(_,w.h)}function L(w,T){var _=T>>5;T%=32;for(var D=w.g.length-_,j=[],N=0;N<D;N++)j[N]=0<T?w.i(N+_)>>>T|w.i(N+_+1)<<32-T:w.i(N+_);return new s(j,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sT=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=d,$s=s}).apply(typeof ww<"u"?ww:typeof self<"u"?self:typeof window<"u"?window:{});var mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oT,Mc,lT,zh,LA,cT,uT,dT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,E,P){return f==Array.prototype||f==Object.prototype||(f[E]=P.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof mh=="object"&&mh];for(var E=0;E<f.length;++E){var P=f[E];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(f,E){if(E)e:{var P=r;f=f.split(".");for(var V=0;V<f.length-1;V++){var ie=f[V];if(!(ie in P))break e;P=P[ie]}f=f[f.length-1],V=P[f],E=E(V),E!=V&&E!=null&&e(P,f,{configurable:!0,writable:!0,value:E})}}function a(f,E){f instanceof String&&(f+="");var P=0,V=!1,ie={next:function(){if(!V&&P<f.length){var ue=P++;return{value:E(ue,f[ue]),done:!1}}return V=!0,{done:!0,value:void 0}}};return ie[Symbol.iterator]=function(){return ie},ie}i("Array.prototype.values",function(f){return f||function(){return a(this,function(E,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(f){var E=typeof f;return E=E!="object"?E:f?Array.isArray(f)?"array":E:"null",E=="array"||E=="object"&&typeof f.length=="number"}function c(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function d(f,E,P){return f.call.apply(f.bind,arguments)}function h(f,E,P){if(!f)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ie,V),f.apply(E,ie)}}return function(){return f.apply(E,arguments)}}function p(f,E,P){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function m(f,E){var P=Array.prototype.slice.call(arguments,1);return function(){var V=P.slice();return V.push.apply(V,arguments),f.apply(this,V)}}function g(f,E){function P(){}P.prototype=E.prototype,f.aa=E.prototype,f.prototype=new P,f.prototype.constructor=f,f.Qb=function(V,ie,ue){for(var Re=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)Re[zt-2]=arguments[zt];return E.prototype[ie].apply(V,Re)}}function A(f){const E=f.length;if(0<E){const P=Array(E);for(let V=0;V<E;V++)P[V]=f[V];return P}return[]}function x(f,E){for(let P=1;P<arguments.length;P++){const V=arguments[P];if(l(V)){const ie=f.length||0,ue=V.length||0;f.length=ie+ue;for(let Re=0;Re<ue;Re++)f[ie+Re]=V[Re]}else f.push(V)}}class v{constructor(E,P){this.i=E,this.j=P,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function y(f){return/^[\s\xa0]*$/.test(f)}function b(){var f=o.navigator;return f&&(f=f.userAgent)?f:""}function k(f){return k[" "](f),f}k[" "]=function(){};var S=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function L(f,E,P){for(const V in f)E.call(P,f[V],V,f)}function w(f,E){for(const P in f)E.call(void 0,f[P],P,f)}function T(f){const E={};for(const P in f)E[P]=f[P];return E}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(f,E){let P,V;for(let ie=1;ie<arguments.length;ie++){V=arguments[ie];for(P in V)f[P]=V[P];for(let ue=0;ue<_.length;ue++)P=_[ue],Object.prototype.hasOwnProperty.call(V,P)&&(f[P]=V[P])}}function j(f){var E=1;f=f.split(":");const P=[];for(;0<E&&f.length;)P.push(f.shift()),E--;return f.length&&P.push(f.join(":")),P}function N(f){o.setTimeout(()=>{throw f},0)}function R(){var f=Y;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class C{constructor(){this.h=this.g=null}add(E,P){const V=B.get();V.set(E,P),this.h?this.h.next=V:this.g=V,this.h=V}}var B=new v(()=>new $,f=>f.reset());class ${constructor(){this.next=this.g=this.h=null}set(E,P){this.h=E,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let J,ee=!1,Y=new C,oe=()=>{const f=o.Promise.resolve(void 0);J=()=>{f.then(H)}};var H=()=>{for(var f;f=R();){try{f.h.call(f.g)}catch(P){N(P)}var E=B;E.j(f),100>E.h&&(E.h++,f.next=E.g,E.g=f)}ee=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const P=()=>{};o.addEventListener("test",P,E),o.removeEventListener("test",P,E)}catch{}return f}();function ce(f,E){if(se.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var P=this.type=f.type,V=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget){if(S){e:{try{k(E.nodeName);var ie=!0;break e}catch{}ie=!1}ie||(E=null)}}else P=="mouseover"?E=f.fromElement:P=="mouseout"&&(E=f.toElement);this.relatedTarget=E,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ae[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ce.aa.h.call(this)}}g(ce,se);var Ae={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),ve=0;function Ie(f,E,P,V,ie){this.listener=f,this.proxy=null,this.src=E,this.type=P,this.capture=!!V,this.ha=ie,this.key=++ve,this.da=this.fa=!1}function Ee(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function pe(f){this.src=f,this.g={},this.h=0}pe.prototype.add=function(f,E,P,V,ie){var ue=f.toString();f=this.g[ue],f||(f=this.g[ue]=[],this.h++);var Re=be(f,E,V,ie);return-1<Re?(E=f[Re],P||(E.fa=!1)):(E=new Ie(E,this.src,ue,!!V,ie),E.fa=P,f.push(E)),E};function ge(f,E){var P=E.type;if(P in f.g){var V=f.g[P],ie=Array.prototype.indexOf.call(V,E,void 0),ue;(ue=0<=ie)&&Array.prototype.splice.call(V,ie,1),ue&&(Ee(E),f.g[P].length==0&&(delete f.g[P],f.h--))}}function be(f,E,P,V){for(var ie=0;ie<f.length;++ie){var ue=f[ie];if(!ue.da&&ue.listener==E&&ue.capture==!!P&&ue.ha==V)return ie}return-1}var I="closure_lm_"+(1e6*Math.random()|0),z={};function W(f,E,P,V,ie){if(Array.isArray(E)){for(var ue=0;ue<E.length;ue++)W(f,E[ue],P,V,ie);return null}return P=X(P),f&&f[xe]?f.K(E,P,c(V)?!!V.capture:!1,ie):O(f,E,P,!1,V,ie)}function O(f,E,P,V,ie,ue){if(!E)throw Error("Invalid event type");var Re=c(ie)?!!ie.capture:!!ie,zt=Q(f);if(zt||(f[I]=zt=new pe(f)),P=zt.add(E,P,V,Re,ue),P.proxy)return P;if(V=M(),P.proxy=V,V.src=f,V.listener=P,f.addEventListener)he||(ie=Re),ie===void 0&&(ie=!1),f.addEventListener(E.toString(),V,ie);else if(f.attachEvent)f.attachEvent(ne(E.toString()),V);else if(f.addListener&&f.removeListener)f.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return P}function M(){function f(P){return E.call(f.src,f.listener,P)}const E=te;return f}function U(f,E,P,V,ie){if(Array.isArray(E))for(var ue=0;ue<E.length;ue++)U(f,E[ue],P,V,ie);else V=c(V)?!!V.capture:!!V,P=X(P),f&&f[xe]?(f=f.i,E=String(E).toString(),E in f.g&&(ue=f.g[E],P=be(ue,P,V,ie),-1<P&&(Ee(ue[P]),Array.prototype.splice.call(ue,P,1),ue.length==0&&(delete f.g[E],f.h--)))):f&&(f=Q(f))&&(E=f.g[E.toString()],f=-1,E&&(f=be(E,P,V,ie)),(P=-1<f?E[f]:null)&&Z(P))}function Z(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[xe])ge(E.i,f);else{var P=f.type,V=f.proxy;E.removeEventListener?E.removeEventListener(P,V,f.capture):E.detachEvent?E.detachEvent(ne(P),V):E.addListener&&E.removeListener&&E.removeListener(V),(P=Q(E))?(ge(P,f),P.h==0&&(P.src=null,E[I]=null)):Ee(f)}}}function ne(f){return f in z?z[f]:z[f]="on"+f}function te(f,E){if(f.da)f=!0;else{E=new ce(E,this);var P=f.listener,V=f.ha||f.src;f.fa&&Z(f),f=P.call(V,E)}return f}function Q(f){return f=f[I],f instanceof pe?f:null}var G="__closure_events_fn_"+(1e9*Math.random()>>>0);function X(f){return typeof f=="function"?f:(f[G]||(f[G]=function(E){return f.handleEvent(E)}),f[G])}function le(){q.call(this),this.i=new pe(this),this.M=this,this.F=null}g(le,q),le.prototype[xe]=!0,le.prototype.removeEventListener=function(f,E,P,V){U(this,f,E,P,V)};function we(f,E){var P,V=f.F;if(V)for(P=[];V;V=V.F)P.push(V);if(f=f.M,V=E.type||E,typeof E=="string")E=new se(E,f);else if(E instanceof se)E.target=E.target||f;else{var ie=E;E=new se(V,f),D(E,ie)}if(ie=!0,P)for(var ue=P.length-1;0<=ue;ue--){var Re=E.g=P[ue];ie=Ne(Re,V,!0,E)&&ie}if(Re=E.g=f,ie=Ne(Re,V,!0,E)&&ie,ie=Ne(Re,V,!1,E)&&ie,P)for(ue=0;ue<P.length;ue++)Re=E.g=P[ue],ie=Ne(Re,V,!1,E)&&ie}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var f=this.i,E;for(E in f.g){for(var P=f.g[E],V=0;V<P.length;V++)Ee(P[V]);delete f.g[E],f.h--}}this.F=null},le.prototype.K=function(f,E,P,V){return this.i.add(String(f),E,!1,P,V)},le.prototype.L=function(f,E,P,V){return this.i.add(String(f),E,!0,P,V)};function Ne(f,E,P,V){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();for(var ie=!0,ue=0;ue<E.length;++ue){var Re=E[ue];if(Re&&!Re.da&&Re.capture==P){var zt=Re.listener,Fn=Re.ha||Re.src;Re.fa&&ge(f.i,Re),ie=zt.call(Fn,V)!==!1&&ie}}return ie&&!V.defaultPrevented}function dt(f,E,P){if(typeof f=="function")P&&(f=p(f,P));else if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:o.setTimeout(f,E||0)}function Ze(f){f.g=dt(()=>{f.g=null,f.i&&(f.i=!1,Ze(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class je extends q{constructor(E,P){super(),this.m=E,this.l=P,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Ze(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ue(f){q.call(this),this.h=f,this.g={}}g(Ue,q);var Me=[];function et(f){L(f.g,function(E,P){this.g.hasOwnProperty(P)&&Z(E)},f),f.g={}}Ue.prototype.N=function(){Ue.aa.N.call(this),et(this)},Ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bt=o.JSON.stringify,st=o.JSON.parse,Oe=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function ot(){}ot.prototype.h=null;function Nt(f){return f.h||(f.h=f.i())}function ht(){}var Ut={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qe(){se.call(this,"d")}g(Qe,se);function rt(){se.call(this,"c")}g(rt,se);var ft={},Ye=null;function it(){return Ye=Ye||new le}ft.La="serverreachability";function hn(f){se.call(this,ft.La,f)}g(hn,se);function an(f){const E=it();we(E,new hn(E))}ft.STAT_EVENT="statevent";function _r(f,E){se.call(this,ft.STAT_EVENT,f),this.stat=E}g(_r,se);function pt(f){const E=it();we(E,new _r(E,f))}ft.Ma="timingevent";function qn(f,E){se.call(this,ft.Ma,f),this.size=E}g(qn,se);function yn(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},E)}function fn(){this.g=!0}fn.prototype.xa=function(){this.g=!1};function Br(f,E,P,V,ie,ue){f.info(function(){if(f.g)if(ue)for(var Re="",zt=ue.split("&"),Fn=0;Fn<zt.length;Fn++){var kt=zt[Fn].split("=");if(1<kt.length){var $n=kt[0];kt=kt[1];var Hn=$n.split("_");Re=2<=Hn.length&&Hn[1]=="type"?Re+($n+"="+kt+"&"):Re+($n+"=redacted&")}}else Re=null;else Re=ue;return"XMLHTTP REQ ("+V+") [attempt "+ie+"]: "+E+`
`+P+`
`+Re})}function pn(f,E,P,V,ie,ue,Re){f.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+ie+"]: "+E+`
`+P+`
`+ue+" "+Re})}function sn(f,E,P,V){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+nr(f,P)+(V?" "+V:"")})}function Cr(f,E){f.info(function(){return"TIMEOUT: "+E})}fn.prototype.info=function(){};function nr(f,E){if(!f.g)return E;if(!E)return null;try{var P=JSON.parse(E);if(P){for(f=0;f<P.length;f++)if(Array.isArray(P[f])){var V=P[f];if(!(2>V.length)){var ie=V[1];if(Array.isArray(ie)&&!(1>ie.length)){var ue=ie[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(var Re=1;Re<ie.length;Re++)ie[Re]=""}}}}return bt(P)}catch{return E}}var mi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ji={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},K;function re(){}g(re,ot),re.prototype.g=function(){return new XMLHttpRequest},re.prototype.i=function(){return{}},K=new re;function fe(f,E,P,V){this.j=f,this.i=E,this.l=P,this.R=V||1,this.U=new Ue(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}var ye={},Pt={};function Fe(f,E,P){f.L=1,f.v=Fd(St(E)),f.m=P,f.P=!0,lt(f,null)}function lt(f,E){f.F=Date.now(),rr(f),f.A=St(f.v);var P=f.A,V=f.R;Array.isArray(V)||(V=[String(V)]),Vy(P.i,"t",V),f.C=0,P=f.j.J,f.h=new De,f.g=ax(f.j,P?E:null,!f.m),0<f.O&&(f.M=new je(p(f.Y,f,f.g),f.O)),E=f.U,P=f.g,V=f.ca;var ie="readystatechange";Array.isArray(ie)||(ie&&(Me[0]=ie.toString()),ie=Me);for(var ue=0;ue<ie.length;ue++){var Re=W(P,ie[ue],V||E.handleEvent,!1,E.h||E);if(!Re)break;E.g[Re.key]=Re}E=f.H?T(f.H):{},f.m?(f.u||(f.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,E)):(f.u="GET",f.g.ea(f.A,f.u,null,E)),an(),Br(f.i,f.u,f.A,f.l,f.R,f.m)}fe.prototype.ca=function(f){f=f.target;const E=this.M;E&&Fi(f)==3?E.j():this.Y(f)},fe.prototype.Y=function(f){try{if(f==this.g)e:{const Hn=Fi(this.g);var E=this.g.Ba();const wo=this.g.Z();if(!(3>Hn)&&(Hn!=3||this.g&&(this.h.h||this.g.oa()||Qy(this.g)))){this.J||Hn!=4||E==7||(E==8||0>=wo?an(3):an(2)),xn(this);var P=this.g.Z();this.X=P;t:if(jt(this)){var V=Qy(this.g);f="";var ie=V.length,ue=Fi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Er(this),hr(this);var Re="";break t}this.h.i=new o.TextDecoder}for(E=0;E<ie;E++)this.h.h=!0,f+=this.h.i.decode(V[E],{stream:!(ue&&E==ie-1)});V.length=0,this.h.g+=f,this.C=0,Re=this.h.g}else Re=this.g.oa();if(this.o=P==200,pn(this.i,this.u,this.A,this.l,this.R,Hn,P),this.o){if(this.T&&!this.K){t:{if(this.g){var zt,Fn=this.g;if((zt=Fn.g?Fn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(zt)){var kt=zt;break t}}kt=null}if(P=kt)sn(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Li(this,P);else{this.o=!1,this.s=3,pt(12),Er(this),hr(this);break e}}if(this.P){P=!0;let ti;for(;!this.J&&this.C<Re.length;)if(ti=mn(this,Re),ti==Pt){Hn==4&&(this.s=4,pt(14),P=!1),sn(this.i,this.l,null,"[Incomplete Response]");break}else if(ti==ye){this.s=4,pt(15),sn(this.i,this.l,Re,"[Invalid Chunk]"),P=!1;break}else sn(this.i,this.l,ti,null),Li(this,ti);if(jt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Hn!=4||Re.length!=0||this.h.h||(this.s=1,pt(16),P=!1),this.o=this.o&&P,!P)sn(this.i,this.l,Re,"[Invalid Chunked Response]"),Er(this),hr(this);else if(0<Re.length&&!this.W){this.W=!0;var $n=this.j;$n.g==this&&$n.ba&&!$n.M&&($n.j.info("Great, no buffering proxy detected. Bytes received: "+Re.length),xm($n),$n.M=!0,pt(11))}}else sn(this.i,this.l,Re,null),Li(this,Re);Hn==4&&Er(this),this.o&&!this.J&&(Hn==4?tx(this.j,this):(this.o=!1,rr(this)))}else jS(this.g),P==400&&0<Re.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Er(this),hr(this)}}}catch{}finally{}};function jt(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function mn(f,E){var P=f.C,V=E.indexOf(`
`,P);return V==-1?Pt:(P=Number(E.substring(P,V)),isNaN(P)?ye:(V+=1,V+P>E.length?Pt:(E=E.slice(V,V+P),f.C=V+P,E)))}fe.prototype.cancel=function(){this.J=!0,Er(this)};function rr(f){f.S=Date.now()+f.I,Dn(f,f.I)}function Dn(f,E){if(f.B!=null)throw Error("WatchDog timer not null");f.B=yn(p(f.ba,f),E)}function xn(f){f.B&&(o.clearTimeout(f.B),f.B=null)}fe.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Cr(this.i,this.A),this.L!=2&&(an(),pt(17)),Er(this),this.s=2,hr(this)):Dn(this,this.S-f)};function hr(f){f.j.G==0||f.J||tx(f.j,f)}function Er(f){xn(f);var E=f.M;E&&typeof E.ma=="function"&&E.ma(),f.M=null,et(f.U),f.g&&(E=f.g,f.g=null,E.abort(),E.ma())}function Li(f,E){try{var P=f.j;if(P.G!=0&&(P.g==f||Tr(P.h,f))){if(!f.K&&Tr(P.h,f)&&P.G==3){try{var V=P.Da.g.parse(E)}catch{V=null}if(Array.isArray(V)&&V.length==3){var ie=V;if(ie[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<f.F)Wd(P),Vd(P);else break e;ym(P),pt(18)}}else P.za=ie[1],0<P.za-P.T&&37500>ie[2]&&P.F&&P.v==0&&!P.C&&(P.C=yn(p(P.Za,P),6e3));if(1>=ir(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else gs(P,11)}else if((f.K||P.g==f)&&Wd(P),!y(E))for(ie=P.Da.g.parse(E),E=0;E<ie.length;E++){let kt=ie[E];if(P.T=kt[0],kt=kt[1],P.G==2)if(kt[0]=="c"){P.K=kt[1],P.ia=kt[2];const $n=kt[3];$n!=null&&(P.la=$n,P.j.info("VER="+P.la));const Hn=kt[4];Hn!=null&&(P.Aa=Hn,P.j.info("SVER="+P.Aa));const wo=kt[5];wo!=null&&typeof wo=="number"&&0<wo&&(V=1.5*wo,P.L=V,P.j.info("backChannelRequestTimeoutMs_="+V)),V=P;const ti=f.g;if(ti){const qd=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qd){var ue=V.h;ue.g||qd.indexOf("spdy")==-1&&qd.indexOf("quic")==-1&&qd.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(Mi(ue,ue.h),ue.h=null))}if(V.D){const bm=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;bm&&(V.ya=bm,Gt(V.I,V.D,bm))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-f.F,P.j.info("Handshake RTT: "+P.R+"ms")),V=P;var Re=f;if(V.qa=ix(V,V.J?V.ia:null,V.W),Re.K){ms(V.h,Re);var zt=Re,Fn=V.L;Fn&&(zt.I=Fn),zt.B&&(xn(zt),rr(zt)),V.g=Re}else Zy(V);0<P.i.length&&Ud(P)}else kt[0]!="stop"&&kt[0]!="close"||gs(P,7);else P.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?gs(P,7):vm(P):kt[0]!="noop"&&P.l&&P.l.ta(kt),P.v=0)}}an(4)}catch{}}var ze=class{constructor(f,E){this.g=f,this.map=E}};function Jt(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zt(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ir(f){return f.h?1:f.g?f.g.size:0}function Tr(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function Mi(f,E){f.g?f.g.add(E):f.h=E}function ms(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}Jt.prototype.cancel=function(){if(this.i=Md(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Md(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const P of f.g.values())E=E.concat(P.D);return E}return A(f.i)}function mm(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var E=[],P=f.length,V=0;V<P;V++)E.push(f[V]);return E}E=[],P=0;for(V in f)E[P++]=f[V];return E}function gm(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var E=[];f=f.length;for(var P=0;P<f;P++)E.push(P);return E}E=[],P=0;for(const V in f)E[P++]=V;return E}}}function mt(f,E){if(f.forEach&&typeof f.forEach=="function")f.forEach(E,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,E,void 0);else for(var P=gm(f),V=mm(f),ie=V.length,ue=0;ue<ie;ue++)E.call(void 0,V[ue],P&&P[ue],f)}var Ct=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lt(f,E){if(f){f=f.split("&");for(var P=0;P<f.length;P++){var V=f[P].indexOf("="),ie=null;if(0<=V){var ue=f[P].substring(0,V);ie=f[P].substring(V+1)}else ue=f[P];E(ue,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function Et(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Et){this.h=f.h,gi(this,f.j),this.o=f.o,this.g=f.g,ei(this,f.s),this.l=f.l;var E=f.i,P=new sc;P.i=E.i,E.g&&(P.g=new Map(E.g),P.h=E.h),Fy(this,P),this.m=f.m}else f&&(E=String(f).match(Ct))?(this.h=!1,gi(this,E[1]||"",!0),this.o=ic(E[2]||""),this.g=ic(E[3]||"",!0),ei(this,E[4]),this.l=ic(E[5]||"",!0),Fy(this,E[6]||"",!0),this.m=ic(E[7]||"")):(this.h=!1,this.i=new sc(null,this.h))}Et.prototype.toString=function(){var f=[],E=this.j;E&&f.push(ac(E,Oy,!0),":");var P=this.g;return(P||E=="file")&&(f.push("//"),(E=this.o)&&f.push(ac(E,Oy,!0),"@"),f.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&f.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&f.push("/"),f.push(ac(P,P.charAt(0)=="/"?CS:_S,!0))),(P=this.i.toString())&&f.push("?",P),(P=this.m)&&f.push("#",ac(P,TS)),f.join("")};function St(f){return new Et(f)}function gi(f,E,P){f.j=P?ic(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function ei(f,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);f.s=E}else f.s=null}function Fy(f,E,P){E instanceof sc?(f.i=E,IS(f.i,f.h)):(P||(E=ac(E,ES)),f.i=new sc(E,f.h))}function Gt(f,E,P){f.i.set(E,P)}function Fd(f){return Gt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ic(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ac(f,E,P){return typeof f=="string"?(f=encodeURI(f).replace(E,wS),P&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function wS(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Oy=/[#\/\?@]/g,_S=/[#\?:]/g,CS=/[#\?]/g,ES=/[#\?@]/g,TS=/#/g;function sc(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function ha(f){f.g||(f.g=new Map,f.h=0,f.i&&Lt(f.i,function(E,P){f.add(decodeURIComponent(E.replace(/\+/g," ")),P)}))}t=sc.prototype,t.add=function(f,E){ha(this),this.i=null,f=xo(this,f);var P=this.g.get(f);return P||this.g.set(f,P=[]),P.push(E),this.h+=1,this};function By(f,E){ha(f),E=xo(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function zy(f,E){return ha(f),E=xo(f,E),f.g.has(E)}t.forEach=function(f,E){ha(this),this.g.forEach(function(P,V){P.forEach(function(ie){f.call(E,ie,V,this)},this)},this)},t.na=function(){ha(this);const f=Array.from(this.g.values()),E=Array.from(this.g.keys()),P=[];for(let V=0;V<E.length;V++){const ie=f[V];for(let ue=0;ue<ie.length;ue++)P.push(E[V])}return P},t.V=function(f){ha(this);let E=[];if(typeof f=="string")zy(this,f)&&(E=E.concat(this.g.get(xo(this,f))));else{f=Array.from(this.g.values());for(let P=0;P<f.length;P++)E=E.concat(f[P])}return E},t.set=function(f,E){return ha(this),this.i=null,f=xo(this,f),zy(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},t.get=function(f,E){return f?(f=this.V(f),0<f.length?String(f[0]):E):E};function Vy(f,E,P){By(f,E),0<P.length&&(f.i=null,f.g.set(xo(f,E),A(P)),f.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(var P=0;P<E.length;P++){var V=E[P];const ue=encodeURIComponent(String(V)),Re=this.V(V);for(V=0;V<Re.length;V++){var ie=ue;Re[V]!==""&&(ie+="="+encodeURIComponent(String(Re[V]))),f.push(ie)}}return this.i=f.join("&")};function xo(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function IS(f,E){E&&!f.j&&(ha(f),f.i=null,f.g.forEach(function(P,V){var ie=V.toLowerCase();V!=ie&&(By(this,V),Vy(this,ie,P))},f)),f.j=E}function NS(f,E){const P=new fn;if(o.Image){const V=new Image;V.onload=m(fa,P,"TestLoadImage: loaded",!0,E,V),V.onerror=m(fa,P,"TestLoadImage: error",!1,E,V),V.onabort=m(fa,P,"TestLoadImage: abort",!1,E,V),V.ontimeout=m(fa,P,"TestLoadImage: timeout",!1,E,V),o.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=f}else E(!1)}function SS(f,E){const P=new fn,V=new AbortController,ie=setTimeout(()=>{V.abort(),fa(P,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:V.signal}).then(ue=>{clearTimeout(ie),ue.ok?fa(P,"TestPingServer: ok",!0,E):fa(P,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(ie),fa(P,"TestPingServer: error",!1,E)})}function fa(f,E,P,V,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),V(P)}catch{}}function kS(){this.g=new Oe}function DS(f,E,P){const V=P||"";try{mt(f,function(ie,ue){let Re=ie;c(ie)&&(Re=bt(ie)),E.push(V+ue+"="+encodeURIComponent(Re))})}catch(ie){throw E.push(V+"type="+encodeURIComponent("_badmap")),ie}}function Od(f){this.l=f.Ub||null,this.j=f.eb||!1}g(Od,ot),Od.prototype.g=function(){return new Bd(this.l,this.j)},Od.prototype.i=function(f){return function(){return f}}({});function Bd(f,E){le.call(this),this.D=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Bd,le),t=Bd.prototype,t.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=E,this.readyState=1,lc(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(E.body=f),(this.D||o).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oc(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,lc(this)),this.g&&(this.readyState=3,lc(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Uy(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Uy(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?oc(this):lc(this),this.readyState==3&&Uy(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,oc(this))},t.Qa=function(f){this.g&&(this.response=f,oc(this))},t.ga=function(){this.g&&oc(this)};function oc(f){f.readyState=4,f.l=null,f.j=null,f.v=null,lc(f)}t.setRequestHeader=function(f,E){this.u.append(f,E)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var P=E.next();!P.done;)P=P.value,f.push(P[0]+": "+P[1]),P=E.next();return f.join(`\r
`)};function lc(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Bd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Wy(f){let E="";return L(f,function(P,V){E+=V,E+=":",E+=P,E+=`\r
`}),E}function Am(f,E,P){e:{for(V in P){var V=!1;break e}V=!0}V||(P=Wy(P),typeof f=="string"?P!=null&&encodeURIComponent(String(P)):Gt(f,E,P))}function on(f){le.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(on,le);var RS=/^https?$/i,PS=["POST","PUT"];t=on.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,E,P,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():K.g(),this.v=this.o?Nt(this.o):Nt(K),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(ue){Gy(this,ue);return}if(f=P||"",P=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var ie in V)P.set(ie,V[ie]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ue of V.keys())P.set(ue,V.get(ue));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(P.keys()).find(ue=>ue.toLowerCase()=="content-type"),ie=o.FormData&&f instanceof o.FormData,!(0<=Array.prototype.indexOf.call(PS,E,void 0))||V||ie||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,Re]of P)this.g.setRequestHeader(ue,Re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hy(this),this.u=!0,this.g.send(f),this.u=!1}catch(ue){Gy(this,ue)}};function Gy(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.m=5,qy(f),zd(f)}function qy(f){f.A||(f.A=!0,we(f,"complete"),we(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,we(this,"complete"),we(this,"abort"),zd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zd(this,!0)),on.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$y(this):this.bb())},t.bb=function(){$y(this)};function $y(f){if(f.h&&typeof s<"u"&&(!f.v[1]||Fi(f)!=4||f.Z()!=2)){if(f.u&&Fi(f)==4)dt(f.Ea,0,f);else if(we(f,"readystatechange"),Fi(f)==4){f.h=!1;try{const Re=f.Z();e:switch(Re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var P;if(!(P=E)){var V;if(V=Re===0){var ie=String(f.D).match(Ct)[1]||null;!ie&&o.self&&o.self.location&&(ie=o.self.location.protocol.slice(0,-1)),V=!RS.test(ie?ie.toLowerCase():"")}P=V}if(P)we(f,"complete"),we(f,"success");else{f.m=6;try{var ue=2<Fi(f)?f.g.statusText:""}catch{ue=""}f.l=ue+" ["+f.Z()+"]",qy(f)}}finally{zd(f)}}}}function zd(f,E){if(f.g){Hy(f);const P=f.g,V=f.v[0]?()=>{}:null;f.g=null,f.v=null,E||we(f,"ready");try{P.onreadystatechange=V}catch{}}}function Hy(f){f.I&&(o.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Fi(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Fi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),st(E)}};function Qy(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function jS(f){const E={};f=(f.g&&2<=Fi(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<f.length;V++){if(y(f[V]))continue;var P=j(f[V]);const ie=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const ue=E[ie]||[];E[ie]=ue,ue.push(P)}w(E,function(V){return V.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cc(f,E,P){return P&&P.internalChannelParams&&P.internalChannelParams[f]||E}function Xy(f){this.Aa=0,this.i=[],this.j=new fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cc("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cc("baseRetryDelayMs",5e3,f),this.cb=cc("retryDelaySeedMs",1e4,f),this.Wa=cc("forwardChannelMaxRetries",2,f),this.wa=cc("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Jt(f&&f.concurrentRequestLimit),this.Da=new kS,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Xy.prototype,t.la=8,t.G=1,t.connect=function(f,E,P,V){pt(0),this.W=f,this.H=E||{},P&&V!==void 0&&(this.H.OSID=P,this.H.OAID=V),this.F=this.X,this.I=ix(this,null,this.W),Ud(this)};function vm(f){if(Ky(f),f.G==3){var E=f.U++,P=St(f.I);if(Gt(P,"SID",f.K),Gt(P,"RID",E),Gt(P,"TYPE","terminate"),uc(f,P),E=new fe(f,f.j,E),E.L=2,E.v=Fd(St(P)),P=!1,o.navigator&&o.navigator.sendBeacon)try{P=o.navigator.sendBeacon(E.v.toString(),"")}catch{}!P&&o.Image&&(new Image().src=E.v,P=!0),P||(E.g=ax(E.j,null),E.g.ea(E.v)),E.F=Date.now(),rr(E)}rx(f)}function Vd(f){f.g&&(xm(f),f.g.cancel(),f.g=null)}function Ky(f){Vd(f),f.u&&(o.clearTimeout(f.u),f.u=null),Wd(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&o.clearTimeout(f.s),f.s=null)}function Ud(f){if(!Zt(f.h)&&!f.s){f.s=!0;var E=f.Ga;J||oe(),ee||(J(),ee=!0),Y.add(E,f),f.B=0}}function LS(f,E){return ir(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=E.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=yn(p(f.Ga,f,E),nx(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ie=new fe(this,this.j,f);let ue=this.o;if(this.S&&(ue?(ue=T(ue),D(ue,this.S)):ue=this.S),this.m!==null||this.O||(ie.H=ue,ue=null),this.P)e:{for(var E=0,P=0;P<this.i.length;P++){t:{var V=this.i[P];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(E+=V,4096<E){E=P;break e}if(E===4096||P===this.i.length-1){E=P+1;break e}}E=1e3}else E=1e3;E=Jy(this,ie,E),P=St(this.I),Gt(P,"RID",f),Gt(P,"CVER",22),this.D&&Gt(P,"X-HTTP-Session-Id",this.D),uc(this,P),ue&&(this.O?E="headers="+encodeURIComponent(String(Wy(ue)))+"&"+E:this.m&&Am(P,this.m,ue)),Mi(this.h,ie),this.Ua&&Gt(P,"TYPE","init"),this.P?(Gt(P,"$req",E),Gt(P,"SID","null"),ie.T=!0,Fe(ie,P,null)):Fe(ie,P,E),this.G=2}}else this.G==3&&(f?Yy(this,f):this.i.length==0||Zt(this.h)||Yy(this))};function Yy(f,E){var P;E?P=E.l:P=f.U++;const V=St(f.I);Gt(V,"SID",f.K),Gt(V,"RID",P),Gt(V,"AID",f.T),uc(f,V),f.m&&f.o&&Am(V,f.m,f.o),P=new fe(f,f.j,P,f.B+1),f.m===null&&(P.H=f.o),E&&(f.i=E.D.concat(f.i)),E=Jy(f,P,1e3),P.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Mi(f.h,P),Fe(P,V,E)}function uc(f,E){f.H&&L(f.H,function(P,V){Gt(E,V,P)}),f.l&&mt({},function(P,V){Gt(E,V,P)})}function Jy(f,E,P){P=Math.min(f.i.length,P);var V=f.l?p(f.l.Na,f.l,f):null;e:{var ie=f.i;let ue=-1;for(;;){const Re=["count="+P];ue==-1?0<P?(ue=ie[0].g,Re.push("ofs="+ue)):ue=0:Re.push("ofs="+ue);let zt=!0;for(let Fn=0;Fn<P;Fn++){let kt=ie[Fn].g;const $n=ie[Fn].map;if(kt-=ue,0>kt)ue=Math.max(0,ie[Fn].g-100),zt=!1;else try{DS($n,Re,"req"+kt+"_")}catch{V&&V($n)}}if(zt){V=Re.join("&");break e}}}return f=f.i.splice(0,P),E.D=f,V}function Zy(f){if(!f.g&&!f.u){f.Y=1;var E=f.Fa;J||oe(),ee||(J(),ee=!0),Y.add(E,f),f.v=0}}function ym(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=yn(p(f.Fa,f),nx(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,ex(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=yn(p(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Vd(this),ex(this))};function xm(f){f.A!=null&&(o.clearTimeout(f.A),f.A=null)}function ex(f){f.g=new fe(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var E=St(f.qa);Gt(E,"RID","rpc"),Gt(E,"SID",f.K),Gt(E,"AID",f.T),Gt(E,"CI",f.F?"0":"1"),!f.F&&f.ja&&Gt(E,"TO",f.ja),Gt(E,"TYPE","xmlhttp"),uc(f,E),f.m&&f.o&&Am(E,f.m,f.o),f.L&&(f.g.I=f.L);var P=f.g;f=f.ia,P.L=1,P.v=Fd(St(E)),P.m=null,P.P=!0,lt(P,f)}t.Za=function(){this.C!=null&&(this.C=null,Vd(this),ym(this),pt(19))};function Wd(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function tx(f,E){var P=null;if(f.g==E){Wd(f),xm(f),f.g=null;var V=2}else if(Tr(f.h,E))P=E.D,ms(f.h,E),V=1;else return;if(f.G!=0){if(E.o)if(V==1){P=E.m?E.m.length:0,E=Date.now()-E.F;var ie=f.B;V=it(),we(V,new qn(V,P)),Ud(f)}else Zy(f);else if(ie=E.s,ie==3||ie==0&&0<E.X||!(V==1&&LS(f,E)||V==2&&ym(f)))switch(P&&0<P.length&&(E=f.h,E.i=E.i.concat(P)),ie){case 1:gs(f,5);break;case 4:gs(f,10);break;case 3:gs(f,6);break;default:gs(f,2)}}}function nx(f,E){let P=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(P*=2),P*E}function gs(f,E){if(f.j.info("Error code "+E),E==2){var P=p(f.fb,f),V=f.Xa;const ie=!V;V=new Et(V||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||gi(V,"https"),Fd(V),ie?NS(V.toString(),P):SS(V.toString(),P)}else pt(2);f.G=0,f.l&&f.l.sa(E),rx(f),Ky(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function rx(f){if(f.G=0,f.ka=[],f.l){const E=Md(f.h);(E.length!=0||f.i.length!=0)&&(x(f.ka,E),x(f.ka,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.ra()}}function ix(f,E,P){var V=P instanceof Et?St(P):new Et(P);if(V.g!="")E&&(V.g=E+"."+V.g),ei(V,V.s);else{var ie=o.location;V=ie.protocol,E=E?E+"."+ie.hostname:ie.hostname,ie=+ie.port;var ue=new Et(null);V&&gi(ue,V),E&&(ue.g=E),ie&&ei(ue,ie),P&&(ue.l=P),V=ue}return P=f.D,E=f.ya,P&&E&&Gt(V,P,E),Gt(V,"VER",f.la),uc(f,V),V}function ax(f,E,P){if(E&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Ca&&!f.pa?new on(new Od({eb:P})):new on(f.pa),E.Ha(f.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sx(){}t=sx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Gd(){}Gd.prototype.g=function(f,E){return new Ir(f,E)};function Ir(f,E){le.call(this),this.g=new Xy(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(f?f["X-WebChannel-Client-Profile"]=E.va:f={"X-WebChannel-Client-Profile":E.va}),this.g.S=f,(f=E&&E.Sb)&&!y(f)&&(this.g.m=f),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!y(E)&&(this.g.D=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new bo(this)}g(Ir,le),Ir.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ir.prototype.close=function(){vm(this.g)},Ir.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var P={};P.__data__=f,f=P}else this.u&&(P={},P.__data__=bt(f),f=P);E.i.push(new ze(E.Ya++,f)),E.G==3&&Ud(E)},Ir.prototype.N=function(){this.g.l=null,delete this.j,vm(this.g),delete this.g,Ir.aa.N.call(this)};function ox(f){Qe.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const P in E){f=P;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}g(ox,Qe);function lx(){rt.call(this),this.status=1}g(lx,rt);function bo(f){this.g=f}g(bo,sx),bo.prototype.ua=function(){we(this.g,"a")},bo.prototype.ta=function(f){we(this.g,new ox(f))},bo.prototype.sa=function(f){we(this.g,new lx)},bo.prototype.ra=function(){we(this.g,"b")},Gd.prototype.createWebChannel=Gd.prototype.g,Ir.prototype.send=Ir.prototype.o,Ir.prototype.open=Ir.prototype.m,Ir.prototype.close=Ir.prototype.close,dT=function(){return new Gd},uT=function(){return it()},cT=ft,LA={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mi.NO_ERROR=0,mi.TIMEOUT=8,mi.HTTP_ERROR=6,zh=mi,ji.COMPLETE="complete",lT=ji,ht.EventType=Ut,Ut.OPEN="a",Ut.CLOSE="b",Ut.ERROR="c",Ut.MESSAGE="d",le.prototype.listen=le.prototype.K,Mc=ht,on.prototype.listenOnce=on.prototype.L,on.prototype.getLastError=on.prototype.Ka,on.prototype.getLastErrorCode=on.prototype.Ba,on.prototype.getStatus=on.prototype.Z,on.prototype.getResponseJson=on.prototype.Oa,on.prototype.getResponseText=on.prototype.oa,on.prototype.send=on.prototype.ea,on.prototype.setWithCredentials=on.prototype.Ha,oT=on}).apply(typeof mh<"u"?mh:typeof self<"u"?self:typeof window<"u"?window:{});const _w="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=new Iv("@firebase/firestore");function Lo(){return ro.logLevel}function Ce(t,...e){if(ro.logLevel<=yt.DEBUG){const n=e.map(kv);ro.debug(`Firestore (${Kl}): ${t}`,...n)}}function sr(t,...e){if(ro.logLevel<=yt.ERROR){const n=e.map(kv);ro.error(`Firestore (${Kl}): ${t}`,...n)}}function es(t,...e){if(ro.logLevel<=yt.WARN){const n=e.map(kv);ro.warn(`Firestore (${Kl}): ${t}`,...n)}}function kv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t="Unexpected state"){const e=`FIRESTORE (${Kl}) INTERNAL ASSERTION FAILED: `+t;throw sr(e),new Error(e)}function Ve(t,e){t||Be()}function Je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends ca{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bn.UNAUTHENTICATED))}shutdown(){}}class D5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class R5{constructor(e){this.t=e,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ve(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ki,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ki)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string"),new hT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string"),new Bn(e)}}class P5{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class j5{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new P5(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class L5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M5{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ve(this.o===void 0);const r=a=>{a.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,Ce("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string"),this.R=n.token,new L5(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=F5(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function nt(t,e){return t<e?-1:t>e?1:0}function Rl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function pT(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ke(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ke(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ke(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Kt.fromMillis(Date.now())}static fromDate(e){return Kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Kt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.timestamp=e}static fromTimestamp(e){return new We(e)}static min(){return new We(new Kt(0,0))}static max(){return new We(new Kt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Be(),r===void 0?r=e.length-n:r>e.length-n&&Be(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Wu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),s=n.get(i);if(a<s)return-1;if(a>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Rt extends Wu{construct(e,n,r){return new Rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ke(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Rt(n)}static emptyPath(){return new Rt([])}}const O5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Wu{construct(e,n,r){return new Xt(e,n,r)}static isValidIdentifier(e){return O5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ke(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new ke(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ke(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new ke(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Rt.fromString(e))}static fromName(e){return new Pe(Rt.fromString(e).popFirst(5))}static empty(){return new Pe(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function MA(t){return t.fields.find(e=>e.kind===2)}function Ns(t){return t.fields.filter(e=>e.kind!==2)}$f.UNKNOWN_ID=-1;class Vh{constructor(e,n){this.fieldPath=e,this.kind=n}}class Gu{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Gu(0,Mr.min())}}function B5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=We.fromTimestamp(r===1e9?new Kt(n+1,0):new Kt(n,r));return new Mr(i,Pe.empty(),e)}function mT(t){return new Mr(t.readTime,t.key,-1)}class Mr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Mr(We.min(),Pe.empty(),-1)}static max(){return new Mr(We.max(),Pe.empty(),-1)}}function Rv(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==gT)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,r)=>{n(e)})}static reject(e){return new ae((n,r)=>{r(e)})}static waitFor(e){return new ae((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},l=>r(l))}),s=!0,a===i&&n()})}static or(e){let n=ae.resolve(!1);for(const r of e)n=n.next(i=>i?ae.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new ae((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const c=l;n(e[c]).next(d=>{s[c]=d,++o,o===a&&r(s)},d=>i(d))}})}static doWhile(e,n){return new ae((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new ki,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new lu(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Pv(r.target.error);this.V.reject(new lu(e,i))}}static open(e,n,r,i){try{return new Gp(n,e.transaction(i,r))}catch(a){throw new lu(n,a)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ce("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new V5(n)}}class Xa{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Xa.S(Sn())===12.2&&sr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ce("SimpleDb","Removing database:",e),ks(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!ZE())return!1;if(Xa.v())return!0;const e=Sn(),n=Xa.S(e),r=0<n&&n<10,i=vT(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(Ce("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const s=a.target.result;n(s)},i.onblocked=()=>{r(new lu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const s=a.target.error;s.name==="VersionError"?r(new ke(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new ke(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new lu(e,s))},i.onupgradeneeded=a=>{Ce("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const s=a.target.result;this.p.O(s,i.transaction,a.oldVersion,this.version).next(()=>{Ce("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const a=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.M(e);const o=Gp.open(this.db,e,a?"readonly":"readwrite",r),l=i(o).next(c=>(o.g(),c)).catch(c=>(o.abort(c),ae.reject(c))).toPromise();return l.catch(()=>{}),await o.m,l}catch(o){const l=o,c=l.name!=="FirebaseError"&&s<3;if(Ce("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function vT(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class z5{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return ks(this.B.delete())}}class lu extends ke{constructor(e,n){super(me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function us(t){return t.name==="IndexedDbTransactionError"}class V5{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Ce("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Ce("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ks(r)}add(e){return Ce("SimpleDb","ADD",this.store.name,e,e),ks(this.store.add(e))}get(e){return ks(this.store.get(e)).next(n=>(n===void 0&&(n=null),Ce("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Ce("SimpleDb","DELETE",this.store.name,e),ks(this.store.delete(e))}count(){return Ce("SimpleDb","COUNT",this.store.name),ks(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(r.range);return new ae((s,o)=>{a.onerror=l=>{o(l.target.error)},a.onsuccess=l=>{s(l.target.result)}})}{const a=this.cursor(r),s=[];return this.W(a,(o,l)=>{s.push(l)}).next(()=>s)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new ae((i,a)=>{r.onerror=s=>{a(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}j(e,n){Ce("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(a,s,o)=>o.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new ae((r,i)=>{n.onerror=a=>{const s=Pv(a.target.error);i(s)},n.onsuccess=a=>{const s=a.target.result;s?e(s.primaryKey,s.value).next(o=>{o?s.continue():r()}):r()}})}W(e,n){const r=[];return new ae((i,a)=>{e.onerror=s=>{a(s.target.error)},e.onsuccess=s=>{const o=s.target.result;if(!o)return void i();const l=new z5(o),c=n(o.primaryKey,o.value,l);if(c instanceof ae){const d=c.catch(h=>(l.done(),ae.reject(h)));r.push(d)}l.isDone?i():l.K===null?o.continue():o.continue(l.K)}}).next(()=>ae.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ks(t){return new ae((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Pv(r.target.error);n(i)}})}let Cw=!1;function Pv(t){const e=Xa.S(Sn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Cw||(Cw=!0,setTimeout(()=>{throw r},0)),r}}return t}class U5{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){Ce("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{Ce("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){us(n)?Ce("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await go(n)}await this.X(6e4)})}}class W5{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,a=!0;return ae.doWhile(()=>a===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return Ce("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next(o=>{i-=o,r.add(s)});a=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(a=>{const s=a.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(i,a)).next(o=>(Ce("IndexBackfiller",`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,n,o))).next(()=>s.size)}))}re(e,n){let r=e;return n.changes.forEach((i,a)=>{const s=mT(a);Rv(s,r)>0&&(r=s)}),new Mr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}$r.oe=-1;function qp(t){return t==null}function qu(t){return t===0&&1/t==-1/0}function G5(t){return typeof t=="number"&&Number.isInteger(t)&&!qu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Ew(e)),e=q5(t.get(n),e);return Ew(e)}function q5(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case"":n+="";break;default:n+=a}}return n}function Ew(t){return t+""}function Ti(t){const e=t.length;if(Ve(e>=2),e===2)return Ve(t.charAt(0)===""&&t.charAt(1)===""),Rt.emptyPath();const n=e-2,r=[];let i="";for(let a=0;a<e;){const s=t.indexOf("",a);switch((s<0||s>n)&&Be(),t.charAt(s+1)){case"":const o=t.substring(a,s);let l;i.length===0?l=o:(i+=o,l=i,i=""),r.push(l);break;case"":i+=t.substring(a,s),i+="\0";break;case"":i+=t.substring(a,s+1);break;default:Be()}a=s+2}return new Rt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(t,e){return[t,lr(e)]}function yT(t,e,n){return[t,lr(e),n]}const $5={},H5=["prefixPath","collectionGroup","readTime","documentId"],Q5=["prefixPath","collectionGroup","documentId"],X5=["collectionGroup","readTime","prefixPath","documentId"],K5=["canonicalId","targetId"],Y5=["targetId","path"],J5=["path","targetId"],Z5=["collectionId","parent"],e3=["indexId","uid"],t3=["uid","sequenceNumber"],n3=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],r3=["indexId","uid","orderedDocumentKey"],i3=["userId","collectionPath","documentId"],a3=["userId","collectionPath","largestBatchId"],s3=["userId","collectionGroup","largestBatchId"],xT=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],o3=[...xT,"documentOverlays"],bT=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],wT=bT,jv=[...wT,"indexConfiguration","indexState","indexEntries"],l3=jv,c3=[...jv,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA extends AT{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function kn(t,e){const n=Je(t);return Xa.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ao(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _T(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n){this.comparator=e,this.root=n||zn.EMPTY}insert(e,n){return new Yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zn.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gh(this.root,e,this.comparator,!0)}}class gh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??zn.RED,this.left=i??zn.EMPTY,this.right=a??zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new zn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return zn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Be();const e=this.left.check();if(e!==this.right.check())throw Be();return e+(this.isRed()?0:1)}}zn.EMPTY=null,zn.RED=!0,zn.BLACK=!1;zn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be()}get value(){throw Be()}get color(){throw Be()}get left(){throw Be()}get right(){throw Be()}copy(e,n,r,i,a){return this}insert(e,n,r){return new zn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Nw(this.data.getIterator())}getIteratorFrom(e){return new Nw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class Nw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function To(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new vr([])}unionWith(e){let n=new Bt(Xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Rl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new CT("Invalid base64 string: "+a):a}}(e);return new vn(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const u3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sa(t){if(Ve(!!t),typeof t=="string"){let e=0;const n=u3.exec(t);if(Ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ts(t){return typeof t=="string"?vn.fromBase64String(t):vn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Mv(t){const e=t.mapValue.fields.__previous_value__;return Lv(e)?Mv(e):e}function $u(t){const e=sa(t.mapValue.fields.__local_write_time__.timestampValue);return new Kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e,n,r,i,a,s,o,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c}}class ns{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ns("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ns&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Wh={nullValue:"NULL_VALUE"};function io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lv(t)?4:ET(t)?9007199254740991:$p(t)?10:11:Be()}function Pi(t,e){if(t===e)return!0;const n=io(t);if(n!==io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $u(t).isEqual($u(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=sa(i.timestampValue),o=sa(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return ts(i.bytesValue).isEqual(ts(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Ht(i.geoPointValue.latitude)===Ht(a.geoPointValue.latitude)&&Ht(i.geoPointValue.longitude)===Ht(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Ht(i.integerValue)===Ht(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Ht(i.doubleValue),o=Ht(a.doubleValue);return s===o?qu(s)===qu(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Rl(t.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(Iw(s)!==Iw(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Pi(s[l],o[l])))return!1;return!0}(t,e);default:return Be()}}function Hu(t,e){return(t.values||[]).find(n=>Pi(n,e))!==void 0}function rs(t,e){if(t===e)return 0;const n=io(t),r=io(e);if(n!==r)return nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=Ht(a.integerValue||a.doubleValue),l=Ht(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return Sw(t.timestampValue,e.timestampValue);case 4:return Sw($u(t),$u(e));case 5:return nt(t.stringValue,e.stringValue);case 6:return function(a,s){const o=ts(a),l=ts(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const d=nt(o[c],l[c]);if(d!==0)return d}return nt(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=nt(Ht(a.latitude),Ht(s.latitude));return o!==0?o:nt(Ht(a.longitude),Ht(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return kw(t.arrayValue,e.arrayValue);case 10:return function(a,s){var o,l,c,d;const h=a.fields||{},p=s.fields||{},m=(o=h.value)===null||o===void 0?void 0:o.arrayValue,g=(l=p.value)===null||l===void 0?void 0:l.arrayValue,A=nt(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((d=g==null?void 0:g.values)===null||d===void 0?void 0:d.length)||0);return A!==0?A:kw(m,g)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===Fa.mapValue&&s===Fa.mapValue)return 0;if(a===Fa.mapValue)return 1;if(s===Fa.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),c=s.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=nt(l[h],d[h]);if(p!==0)return p;const m=rs(o[l[h]],c[d[h]]);if(m!==0)return m}return nt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Be()}}function Sw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const n=sa(t),r=sa(e),i=nt(n.seconds,r.seconds);return i!==0?i:nt(n.nanos,r.nanos)}function kw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=rs(n[i],r[i]);if(a)return a}return nt(n.length,r.length)}function Pl(t){return OA(t)}function OA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=sa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ts(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=OA(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${OA(n.fields[s])}`;return i+"}"}(t.mapValue):Be()}function Qu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function BA(t){return!!t&&"integerValue"in t}function Xu(t){return!!t&&"arrayValue"in t}function Dw(t){return!!t&&"nullValue"in t}function Rw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gh(t){return!!t&&"mapValue"in t}function $p(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function cu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ao(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ET(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const TT={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function h3(t){return"nullValue"in t?Wh:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Qu(ns.empty(),Pe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?$p(t)?TT:{mapValue:{}}:Be()}function f3(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Qu(ns.empty(),Pe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?TT:"mapValue"in t?$p(t)?{mapValue:{}}:Fa:Be()}function Pw(t,e){const n=rs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function jw(t,e){const n=rs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(n)}setAll(e){let n=Xt.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=cu(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Gh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ao(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Zn(cu(this.value))}}function IT(t){const e=[];return Ao(t.fields,(n,r)=>{const i=new Xt([n]);if(Gh(r)){const a=IT(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new dn(e,0,We.min(),We.min(),We.min(),Zn.empty(),0)}static newFoundDocument(e,n,r,i){return new dn(e,1,n,We.min(),r,i,0)}static newNoDocument(e,n){return new dn(e,2,n,We.min(),We.min(),Zn.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,We.min(),We.min(),Zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.position=e,this.inclusive=n}}function Lw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=Pe.comparator(Pe.fromName(s.referenceValue),n.key):r=rs(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Mw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Pi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n="asc"){this.field=e,this.dir=n}}function p3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{}class xt extends NT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new m3(e,n,r):n==="array-contains"?new v3(e,r):n==="in"?new jT(e,r):n==="not-in"?new y3(e,r):n==="array-contains-any"?new x3(e,r):new xt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new g3(e,r):new A3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(rs(n,this.value)):n!==null&&io(this.value)===io(n)&&this.matchesComparison(rs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ft extends NT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ft(e,n)}matches(e){return Ll(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ll(t){return t.op==="and"}function zA(t){return t.op==="or"}function Fv(t){return ST(t)&&Ll(t)}function ST(t){for(const e of t.filters)if(e instanceof Ft)return!1;return!0}function VA(t){if(t instanceof xt)return t.field.canonicalString()+t.op.toString()+Pl(t.value);if(Fv(t))return t.filters.map(e=>VA(e)).join(",");{const e=t.filters.map(n=>VA(n)).join(",");return`${t.op}(${e})`}}function kT(t,e){return t instanceof xt?function(r,i){return i instanceof xt&&r.op===i.op&&r.field.isEqual(i.field)&&Pi(r.value,i.value)}(t,e):t instanceof Ft?function(r,i){return i instanceof Ft&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&kT(s,i.filters[o]),!0):!1}(t,e):void Be()}function DT(t,e){const n=t.filters.concat(e);return Ft.create(n,t.op)}function RT(t){return t instanceof xt?function(n){return`${n.field.canonicalString()} ${n.op} ${Pl(n.value)}`}(t):t instanceof Ft?function(n){return n.op.toString()+" {"+n.getFilters().map(RT).join(" ,")+"}"}(t):"Filter"}class m3 extends xt{constructor(e,n,r){super(e,n,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class g3 extends xt{constructor(e,n){super(e,"in",n),this.keys=PT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class A3 extends xt{constructor(e,n){super(e,"not-in",n),this.keys=PT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function PT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class v3 extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xu(n)&&Hu(n.arrayValue,this.value)}}class jT extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hu(this.value.arrayValue,n)}}class y3 extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Hu(this.value.arrayValue,n)}}class x3 extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.ue=null}}function UA(t,e=null,n=[],r=[],i=null,a=null,s=null){return new b3(t,e,n,r,i,a,s)}function ao(t){const e=Je(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>VA(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),qp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Pl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Pl(r)).join(",")),e.ue=n}return e.ue}function yd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!p3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mw(t.startAt,e.startAt)&&Mw(t.endAt,e.endAt)}function Hf(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Qf(t,e){return t.filters.filter(n=>n instanceof xt&&n.field.isEqual(e))}function Fw(t,e,n){let r=Wh,i=!0;for(const a of Qf(t,e)){let s=Wh,o=!0;switch(a.op){case"<":case"<=":s=h3(a.value);break;case"==":case"in":case">=":s=a.value;break;case">":s=a.value,o=!1;break;case"!=":case"not-in":s=Wh}Pw({value:r,inclusive:i},{value:s,inclusive:o})<0&&(r=s,i=o)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const s=n.position[a];Pw({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function Ow(t,e,n){let r=Fa,i=!0;for(const a of Qf(t,e)){let s=Fa,o=!0;switch(a.op){case">=":case">":s=f3(a.value),o=!1;break;case"==":case"in":case"<=":s=a.value;break;case"<":s=a.value,o=!1;break;case"!=":case"not-in":s=Fa}jw({value:r,inclusive:i},{value:s,inclusive:o})>0&&(r=s,i=o)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const s=n.position[a];jw({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function w3(t,e,n,r,i,a,s,o){return new Yl(t,e,n,r,i,a,s,o)}function xd(t){return new Yl(t)}function Bw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function LT(t){return t.collectionGroup!==null}function uu(t){const e=Je(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Bt(Xt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Ku(a,r))}),n.has(Xt.keyField().canonicalString())||e.ce.push(new Ku(Xt.keyField(),r))}return e.ce}function Qr(t){const e=Je(t);return e.le||(e.le=_3(e,uu(t))),e.le}function _3(t,e){if(t.limitType==="F")return UA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Ku(i.field,a)});const n=t.endAt?new jl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jl(t.startAt.position,t.startAt.inclusive):null;return UA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function WA(t,e){const n=t.filters.concat([e]);return new Yl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function GA(t,e,n){return new Yl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hp(t,e){return yd(Qr(t),Qr(e))&&t.limitType===e.limitType}function MT(t){return`${ao(Qr(t))}|lt:${t.limitType}`}function Mo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>RT(i)).join(", ")}]`),qp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Pl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Pl(i)).join(",")),`Target(${r})`}(Qr(t))}; limitType=${t.limitType})`}function bd(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Pe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of uu(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,l){const c=Lw(s,o,l);return s.inclusive?c<=0:c<0}(r.startAt,uu(r),i)||r.endAt&&!function(s,o,l){const c=Lw(s,o,l);return s.inclusive?c>=0:c>0}(r.endAt,uu(r),i))}(t,e)}function C3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FT(t){return(e,n)=>{let r=!1;for(const i of uu(t)){const a=E3(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function E3(t,e,n){const r=t.field.isKeyField()?Pe.comparator(e.key,n.key):function(a,s,o){const l=s.data.field(a),c=o.data.field(a);return l!==null&&c!==null?rs(l,c):Be()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return _T(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=new Yt(Pe.comparator);function Pr(){return T3}const OT=new Yt(Pe.comparator);function Fc(...t){let e=OT;for(const n of t)e=e.insert(n.key,n);return e}function BT(t){let e=OT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ii(){return du()}function zT(){return du()}function du(){return new ds(t=>t.toString(),(t,e)=>t.isEqual(e))}const I3=new Yt(Pe.comparator),N3=new Bt(Pe.comparator);function ct(...t){let e=N3;for(const n of t)e=e.add(n);return e}const S3=new Bt(nt);function k3(){return S3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qu(e)?"-0":e}}function VT(t){return{integerValue:""+t}}function D3(t,e){return G5(e)?VT(e):Ov(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(){this._=void 0}}function R3(t,e,n){return t instanceof Yu?function(i,a){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Lv(a)&&(a=Mv(a)),a&&(s.fields.__previous_value__=a),{mapValue:s}}(n,e):t instanceof Ml?WT(t,e):t instanceof Fl?GT(t,e):function(i,a){const s=UT(i,a),o=zw(s)+zw(i.Pe);return BA(s)&&BA(i.Pe)?VT(o):Ov(i.serializer,o)}(t,e)}function P3(t,e,n){return t instanceof Ml?WT(t,e):t instanceof Fl?GT(t,e):n}function UT(t,e){return t instanceof Ju?function(r){return BA(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Yu extends Qp{}class Ml extends Qp{constructor(e){super(),this.elements=e}}function WT(t,e){const n=qT(e);for(const r of t.elements)n.some(i=>Pi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Fl extends Qp{constructor(e){super(),this.elements=e}}function GT(t,e){let n=qT(e);for(const r of t.elements)n=n.filter(i=>!Pi(i,r));return{arrayValue:{values:n}}}class Ju extends Qp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function zw(t){return Ht(t.integerValue||t.doubleValue)}function qT(t){return Xu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n){this.field=e,this.transform=n}}function L3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ml&&i instanceof Ml||r instanceof Fl&&i instanceof Fl?Rl(r.elements,i.elements,Pi):r instanceof Ju&&i instanceof Ju?Pi(r.Pe,i.Pe):r instanceof Yu&&i instanceof Yu}(t.transform,e.transform)}class M3{constructor(e,n){this.version=e,this.transformResults=n}}class Nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nn}static exists(e){return new Nn(void 0,e)}static updateTime(e){return new Nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xp{}function $T(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wd(t.key,Nn.none()):new Jl(t.key,t.data,Nn.none());{const n=t.data,r=Zn.empty();let i=new Bt(Xt.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new ua(t.key,r,new vr(i.toArray()),Nn.none())}}function F3(t,e,n){t instanceof Jl?function(i,a,s){const o=i.value.clone(),l=Uw(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ua?function(i,a,s){if(!qh(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=Uw(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(HT(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function hu(t,e,n,r){return t instanceof Jl?function(a,s,o,l){if(!qh(a.precondition,s))return o;const c=a.value.clone(),d=Ww(a.fieldTransforms,l,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ua?function(a,s,o,l){if(!qh(a.precondition,s))return o;const c=Ww(a.fieldTransforms,l,s),d=s.data;return d.setAll(HT(a)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(a,s,o){return qh(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function O3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=UT(r.transform,i||null);a!=null&&(n===null&&(n=Zn.empty()),n.set(r.field,a))}return n||null}function Vw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Rl(r,i,(a,s)=>L3(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jl extends Xp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ua extends Xp{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function HT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Uw(t,e,n){const r=new Map;Ve(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,P3(s,o,n[i]))}return r}function Ww(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,R3(a,s,e))}return r}class wd extends Xp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QT extends Xp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&F3(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=zT();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const l=$T(s,o);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(We.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ct())}isEqual(e){return this.batchId===e.batchId&&Rl(this.mutations,e.mutations,(n,r)=>Vw(n,r))&&Rl(this.baseMutations,e.baseMutations,(n,r)=>Vw(n,r))}}class zv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ve(e.mutations.length===r.length);let i=function(){return I3}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new zv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bn,Tt;function z3(t){switch(t){default:return Be();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function XT(t){if(t===void 0)return sr("GRPC error has no .code"),me.UNKNOWN;switch(t){case bn.OK:return me.OK;case bn.CANCELLED:return me.CANCELLED;case bn.UNKNOWN:return me.UNKNOWN;case bn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case bn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case bn.INTERNAL:return me.INTERNAL;case bn.UNAVAILABLE:return me.UNAVAILABLE;case bn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case bn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case bn.NOT_FOUND:return me.NOT_FOUND;case bn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case bn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case bn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case bn.ABORTED:return me.ABORTED;case bn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case bn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case bn.DATA_LOSS:return me.DATA_LOSS;default:return Be()}}(Tt=bn||(bn={}))[Tt.OK=0]="OK",Tt[Tt.CANCELLED=1]="CANCELLED",Tt[Tt.UNKNOWN=2]="UNKNOWN",Tt[Tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tt[Tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tt[Tt.NOT_FOUND=5]="NOT_FOUND",Tt[Tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tt[Tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tt[Tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tt[Tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tt[Tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tt[Tt.ABORTED=10]="ABORTED",Tt[Tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tt[Tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tt[Tt.INTERNAL=13]="INTERNAL",Tt[Tt.UNAVAILABLE=14]="UNAVAILABLE",Tt[Tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=new $s([4294967295,4294967295],0);function Gw(t){const e=V3().encode(t),n=new sT;return n.update(e),new Uint8Array(n.digest())}function qw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new $s([n,r],0),new $s([i,a],0)]}class Uv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Oc(`Invalid padding: ${n}`);if(r<0)throw new Oc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Oc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=$s.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply($s.fromNumber(r)));return i.compare(U3)===1&&(i=new $s([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Gw(e),[r,i]=qw(n);for(let a=0;a<this.hashCount;a++){const s=this.Ee(r,i,a);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new Uv(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.Ie===0)return;const n=Gw(e),[r,i]=qw(n);for(let a=0;a<this.hashCount;a++){const s=this.Ee(r,i,a);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,_d.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kp(We.min(),i,new Yt(nt),Pr(),ct())}}class _d{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _d(r,n,ct(),ct(),ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class KT{constructor(e,n){this.targetId=e,this.me=n}}class YT{constructor(e,n,r=vn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $w{constructor(){this.fe=0,this.ge=Qw(),this.pe=vn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ct(),n=ct(),r=ct();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Be()}}),new _d(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Qw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class W3{constructor(e){this.Le=e,this.Be=new Map,this.ke=Pr(),this.qe=Hw(),this.Qe=new Yt(nt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const a=i.target;if(Hf(a))if(r===0){const s=new Pe(a.path);this.Ue(n,s,dn.newNoDocument(s,We.min()))}else Ve(r===1);else{const s=this.Ye(n);if(s!==r){const o=this.Ze(e),l=o?this.Xe(o,e,s):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=ts(r).toUint8Array()}catch(l){if(l instanceof CT)return es("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new Uv(s,i,a)}catch(l){return es(l instanceof Oc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Le.tt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.Ue(n,a,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((a,s)=>{const o=this.Je(s);if(o){if(a.current&&Hf(o.target)){const l=new Pe(o.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,dn.newNoDocument(l,e))}a.be&&(n.set(s,a.ve()),a.Ce())}});let r=ct();this.qe.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.ke.forEach((a,s)=>s.setReadTime(e));const i=new Kp(e,n,this.Qe,this.ke,r);return this.ke=Pr(),this.qe=Hw(),this.Qe=new Yt(nt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new $w,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Bt(nt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ce("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new $w),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Hw(){return new Yt(Pe.comparator)}function Qw(){return new Yt(Pe.comparator)}const G3={asc:"ASCENDING",desc:"DESCENDING"},q3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$3={and:"AND",or:"OR"};class H3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qA(t,e){return t.useProto3Json||qp(e)?e:{value:e}}function Ol(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Q3(t,e){return Ol(t,e.toTimestamp())}function cr(t){return Ve(!!t),We.fromTimestamp(function(n){const r=sa(n);return new Kt(r.seconds,r.nanos)}(t))}function Wv(t,e){return $A(t,e).canonicalString()}function $A(t,e){const n=function(i){return new Rt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ZT(t){const e=Rt.fromString(t);return Ve(lI(e)),e}function Xf(t,e){return Wv(t.databaseId,e.path)}function Hs(t,e){const n=ZT(e);if(n.get(1)!==t.databaseId.projectId)throw new ke(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ke(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(nI(n))}function eI(t,e){return Wv(t.databaseId,e)}function tI(t){const e=ZT(t);return e.length===4?Rt.emptyPath():nI(e)}function HA(t){return new Rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nI(t){return Ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Xw(t,e,n){return{name:Xf(t,e),fields:n.value.mapValue.fields}}function X3(t,e,n){const r=Hs(t,e.name),i=cr(e.updateTime),a=e.createTime?cr(e.createTime):We.min(),s=new Zn({mapValue:{fields:e.fields}}),o=dn.newFoundDocument(r,i,a,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function K3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Be()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,d){return c.useProto3Json?(Ve(d===void 0||typeof d=="string"),vn.fromBase64String(d||"")):(Ve(d===void 0||d instanceof Buffer||d instanceof Uint8Array),vn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(c){const d=c.code===void 0?me.UNKNOWN:XT(c.code);return new ke(d,c.message||"")}(s);n=new YT(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hs(t,r.document.name),a=cr(r.document.updateTime),s=r.document.createTime?cr(r.document.createTime):We.min(),o=new Zn({mapValue:{fields:r.document.fields}}),l=dn.newFoundDocument(i,a,s,o),c=r.targetIds||[],d=r.removedTargetIds||[];n=new $h(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Hs(t,r.document),a=r.readTime?cr(r.readTime):We.min(),s=dn.newNoDocument(i,a),o=r.removedTargetIds||[];n=new $h([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Hs(t,r.document),a=r.removedTargetIds||[];n=new $h([],a,i,null)}else{if(!("filter"in e))return Be();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new B3(i,a),o=r.targetId;n=new KT(o,s)}}return n}function Kf(t,e){let n;if(e instanceof Jl)n={update:Xw(t,e.key,e.value)};else if(e instanceof wd)n={delete:Xf(t,e.key)};else if(e instanceof ua)n={update:Xw(t,e.key,e.data),updateMask:nF(e.fieldMask)};else{if(!(e instanceof QT))return Be();n={verify:Xf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof Yu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ml)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Fl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ju)return{fieldPath:s.field.canonicalString(),increment:o.Pe};throw Be()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:Q3(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Be()}(t,e.precondition)),n}function QA(t,e){const n=e.currentDocument?function(a){return a.updateTime!==void 0?Nn.updateTime(cr(a.updateTime)):a.exists!==void 0?Nn.exists(a.exists):Nn.none()}(e.currentDocument):Nn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let l=null;if("setToServerValue"in o)Ve(o.setToServerValue==="REQUEST_TIME"),l=new Yu;else if("appendMissingElements"in o){const d=o.appendMissingElements.values||[];l=new Ml(d)}else if("removeAllFromArray"in o){const d=o.removeAllFromArray.values||[];l=new Fl(d)}else"increment"in o?l=new Ju(s,o.increment):Be();const c=Xt.fromServerFormat(o.fieldPath);return new j3(c,l)}(t,i)):[];if(e.update){e.update.name;const i=Hs(t,e.update.name),a=new Zn({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=function(l){const c=l.fieldPaths||[];return new vr(c.map(d=>Xt.fromServerFormat(d)))}(e.updateMask);return new ua(i,a,s,n,r)}return new Jl(i,a,n,r)}if(e.delete){const i=Hs(t,e.delete);return new wd(i,n)}if(e.verify){const i=Hs(t,e.verify);return new QT(i,n)}return Be()}function Y3(t,e){return t&&t.length>0?(Ve(e!==void 0),t.map(n=>function(i,a){let s=i.updateTime?cr(i.updateTime):cr(a);return s.isEqual(We.min())&&(s=cr(a)),new M3(s,i.transformResults||[])}(n,e))):[]}function rI(t,e){return{documents:[eI(t,e.path)]}}function iI(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=eI(t,i);const a=function(c){if(c.length!==0)return oI(Ft.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Fo(p.field),direction:Z3(p.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=qA(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function aI(t){let e=tI(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ve(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];n.where&&(a=function(h){const p=sI(h);return p instanceof Ft&&Fv(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(p=>function(g){return new Ku(Oo(g.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p))}(n.orderBy));let o=null;n.limit&&(o=function(h){let p;return p=typeof h=="object"?h.value:h,qp(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,m=h.values||[];return new jl(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,m=h.values||[];return new jl(m,p)}(n.endAt)),w3(e,i,s,a,o,"F",l,c)}function J3(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Oo(n.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Oo(n.unaryFilter.field);return xt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Oo(n.unaryFilter.field);return xt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Oo(n.unaryFilter.field);return xt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Be()}}(t):t.fieldFilter!==void 0?function(n){return xt.create(Oo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Be()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ft.create(n.compositeFilter.filters.map(r=>sI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Be()}}(n.compositeFilter.op))}(t):Be()}function Z3(t){return G3[t]}function eF(t){return q3[t]}function tF(t){return $3[t]}function Fo(t){return{fieldPath:t.canonicalString()}}function Oo(t){return Xt.fromServerFormat(t.fieldPath)}function oI(t){return t instanceof xt?function(n){if(n.op==="=="){if(Rw(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NAN"}};if(Dw(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Rw(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NOT_NAN"}};if(Dw(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fo(n.field),op:eF(n.op),value:n.value}}}(t):t instanceof Ft?function(n){const r=n.getFilters().map(i=>oI(i));return r.length===1?r[0]:{compositeFilter:{op:tF(n.op),filters:r}}}(t):Be()}function nF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n,r,i,a=We.min(),s=We.min(),o=vn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this.ct=e}}function rF(t,e){let n;if(e.document)n=X3(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Pe.fromSegments(e.noDocument.path),i=oo(e.noDocument.readTime);n=dn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Be();{const r=Pe.fromSegments(e.unknownDocument.path),i=oo(e.unknownDocument.version);n=dn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const a=new Kt(i[0],i[1]);return We.fromTimestamp(a)}(e.readTime)),n}function Kw(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Yf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(a,s){return{name:Xf(a,s.key),fields:s.data.value.mapValue.fields,updateTime:Ol(a,s.version.toTimestamp()),createTime:Ol(a,s.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:so(e.version)};else{if(!e.isUnknownDocument())return Be();r.unknownDocument={path:n.path.toArray(),version:so(e.version)}}return r}function Yf(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function so(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function oo(t){const e=new Kt(t.seconds,t.nanoseconds);return We.fromTimestamp(e)}function Ds(t,e){const n=(e.baseMutations||[]).map(a=>QA(t.ct,a));for(let a=0;a<e.mutations.length-1;++a){const s=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const o=e.mutations[a+1];s.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const r=e.mutations.map(a=>QA(t.ct,a)),i=Kt.fromMillis(e.localWriteTimeMs);return new Bv(e.batchId,i,n,r)}function Bc(t){const e=oo(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?oo(t.lastLimboFreeSnapshotVersion):We.min();let r;return r=function(a){return a.documents!==void 0}(t.query)?function(a){return Ve(a.documents.length===1),Qr(xd(tI(a.documents[0])))}(t.query):function(a){return Qr(aI(a))}(t.query),new Qi(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,vn.fromBase64String(t.resumeToken))}function uI(t,e){const n=so(e.snapshotVersion),r=so(e.lastLimboFreeSnapshotVersion);let i;i=Hf(e.target)?rI(t.ct,e.target):iI(t.ct,e.target)._t;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ao(e.target),readTime:n,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function dI(t){const e=aI({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?GA(e,e.limit,"L"):e}function ug(t,e){return new Vv(e.largestBatchId,QA(t.ct,e.overlayMutation))}function Yw(t,e){const n=e.path.lastSegment();return[t,lr(e.path.popLast()),n]}function Jw(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:so(r.readTime),documentKey:lr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{getBundleMetadata(e,n){return Zw(e).get(n).next(r=>{if(r)return function(a){return{id:a.bundleId,createTime:oo(a.createTime),version:a.version}}(r)})}saveBundleMetadata(e,n){return Zw(e).put(function(i){return{bundleId:i.id,createTime:so(cr(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return e1(e).get(n).next(r=>{if(r)return function(a){return{name:a.name,query:dI(a.bundledQuery),readTime:oo(a.readTime)}}(r)})}saveNamedQuery(e,n){return e1(e).put(function(i){return{name:i.name,readTime:so(cr(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function Zw(t){return kn(t,"bundles")}function e1(t){return kn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new Yp(e,r)}getOverlay(e,n){return bc(e).get(Yw(this.userId,n)).next(r=>r?ug(this.serializer,r):null)}getOverlays(e,n){const r=Ii();return ae.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((a,s)=>{const o=new Vv(n,s);i.push(this.ht(e,o))}),ae.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(lr(s.getCollectionPath())));const a=[];return i.forEach(s=>{const o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);a.push(bc(e).j("collectionPathOverlayIndex",o))}),ae.waitFor(a)}getOverlaysForCollection(e,n,r){const i=Ii(),a=lr(n),s=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return bc(e).U("collectionPathOverlayIndex",s).next(o=>{for(const l of o){const c=ug(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const a=Ii();let s;const o=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return bc(e).J({index:"collectionGroupOverlayIndex",range:o},(l,c,d)=>{const h=ug(this.serializer,c);a.size()<i||h.largestBatchId===s?(a.set(h.getKey(),h),s=h.largestBatchId):d.done()}).next(()=>a)}ht(e,n){return bc(e).put(function(i,a,s){const[o,l,c]=Yw(a,s.mutation.key);return{userId:a,collectionPath:l,documentId:c,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Kf(i.ct,s.mutation)}}(this.serializer,this.userId,n))}}function bc(t){return kn(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{Pt(e){return kn(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?vn.fromUint8Array(r):vn.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ht(e.integerValue));else if("doubleValue"in e){const r=Ht(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),qu(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=sa(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(ts(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?ET(e)?this.dt(n,Number.MAX_SAFE_INTEGER):$p(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Be()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const a=e.fields||{};this.dt(n,53);const s="value",o=((i=(r=a[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ht(o)),this.Vt(s,n),this.Tt(a[s],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),Pe.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}Rs.vt=new Rs;function sF(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function t1(t){const e=64-function(r){let i=0;for(let a=0;a<8;++a){const s=sF(255&r[a]);if(i+=s,s!==8)break}return i}(t);return Math.ceil(e/8)}class oF{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=t1(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=t1(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(a){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,a,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class lF{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class cF{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class wc{constructor(){this.jt=new oF,this.Ht=new lF(this.jt),this.Jt=new cF(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ps(this.indexId,this.documentKey,this.arrayValue,r)}}function Aa(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=n1(t.arrayValue,e.arrayValue),n!==0?n:(n=n1(t.directionalValue,e.directionalValue),n!==0?n:Pe.comparator(t.documentKey,e.documentKey)))}function n1(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){this.Xt=new Bt((n,r)=>Xt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(Ve(e.collectionGroup===this.collectionId),this.nn)return!1;const n=MA(e);if(n!==void 0&&!this.sn(n))return!1;const r=Ns(e);let i=new Set,a=0,s=0;for(;a<r.length&&this.sn(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(this.Xt.size>0){const o=this.Xt.getIterator().getNext();if(!i.has(o.field.canonicalString())){const l=r[a];if(!this.on(o,l)||!this._n(this.en[s++],l))return!1}++a}for(;a<r.length;++a){const o=r[a];if(s>=this.en.length||!this._n(this.en[s++],o))return!1}return!0}an(){if(this.nn)return null;let e=new Bt(Xt.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Vh(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Vh(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Vh(r.field,r.dir==="asc"?0:1)));return new $f($f.UNKNOWN_ID,this.collectionId,n,Gu.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t){var e,n;if(Ve(t instanceof xt||t instanceof Ft),t instanceof xt){if(t instanceof jT){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(a=>xt.create(t.field,"==",a)))||[];return Ft.create(i,"or")}return t}const r=t.filters.map(i=>hI(i));return Ft.create(r,t.op)}function uF(t){if(t.getFilters().length===0)return[];const e=YA(hI(t));return Ve(fI(e)),XA(e)||KA(e)?[e]:e.getFilters()}function XA(t){return t instanceof xt}function KA(t){return t instanceof Ft&&Fv(t)}function fI(t){return XA(t)||KA(t)||function(n){if(n instanceof Ft&&zA(n)){for(const r of n.getFilters())if(!XA(r)&&!KA(r))return!1;return!0}return!1}(t)}function YA(t){if(Ve(t instanceof xt||t instanceof Ft),t instanceof xt)return t;if(t.filters.length===1)return YA(t.filters[0]);const e=t.filters.map(r=>YA(r));let n=Ft.create(e,t.op);return n=Jf(n),fI(n)?n:(Ve(n instanceof Ft),Ve(Ll(n)),Ve(n.filters.length>1),n.filters.reduce((r,i)=>Gv(r,i)))}function Gv(t,e){let n;return Ve(t instanceof xt||t instanceof Ft),Ve(e instanceof xt||e instanceof Ft),n=t instanceof xt?e instanceof xt?function(i,a){return Ft.create([i,a],"and")}(t,e):i1(t,e):e instanceof xt?i1(e,t):function(i,a){if(Ve(i.filters.length>0&&a.filters.length>0),Ll(i)&&Ll(a))return DT(i,a.getFilters());const s=zA(i)?i:a,o=zA(i)?a:i,l=s.filters.map(c=>Gv(c,o));return Ft.create(l,"or")}(t,e),Jf(n)}function i1(t,e){if(Ll(e))return DT(e,t.getFilters());{const n=e.filters.map(r=>Gv(t,r));return Ft.create(n,"or")}}function Jf(t){if(Ve(t instanceof xt||t instanceof Ft),t instanceof xt)return t;const e=t.getFilters();if(e.length===1)return Jf(e[0]);if(ST(t))return t;const n=e.map(i=>Jf(i)),r=[];return n.forEach(i=>{i instanceof xt?r.push(i):i instanceof Ft&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Ft.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(){this.un=new qv}addToCollectionParentIndex(e,n){return this.un.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Mr.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Mr.min())}updateCollectionGroup(e,n,r){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class qv{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Bt(Rt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bt(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Uint8Array(0);class hF{constructor(e,n){this.databaseId=n,this.cn=new qv,this.ln=new ds(r=>ao(r),(r,i)=>yd(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const a={collectionId:r,parent:lr(i)};return a1(e).put(a)}return ae.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[pT(n),""],!1,!0);return a1(e).U(i).next(a=>{for(const s of a){if(s.collectionId!==n)break;r.push(Ti(s.parent))}return r})}addFieldIndex(e,n){const r=_c(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const a=r.add(i);if(n.indexState){const s=No(e);return a.next(o=>{s.put(Jw(o,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return a.next()}deleteFieldIndex(e,n){const r=_c(e),i=No(e),a=Io(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=_c(e),r=Io(e),i=No(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return ae.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const a=new r1(r).an();if(a!=null)return this.addFieldIndex(e,a)}}))}getDocumentsMatchingTarget(e,n){const r=Io(e);let i=!0;const a=new Map;return ae.forEach(this.hn(n),s=>this.Pn(e,s).next(o=>{i&&(i=!!o),a.set(s,o)})).next(()=>{if(i){let s=ct();const o=[];return ae.forEach(a,(l,c)=>{Ce("IndexedDbIndexManager",`Using index ${function(b){return`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(k=>`${k.fieldPath}:${k.kind}`).join(",")}`}(l)} to execute ${ao(n)}`);const d=function(b,k){const S=MA(k);if(S===void 0)return null;for(const L of Qf(b,S.fieldPath))switch(L.op){case"array-contains-any":return L.value.arrayValue.values||[];case"array-contains":return[L.value]}return null}(c,l),h=function(b,k){const S=new Map;for(const L of Ns(k))for(const w of Qf(b,L.fieldPath))switch(w.op){case"==":case"in":S.set(L.fieldPath.canonicalString(),w.value);break;case"not-in":case"!=":return S.set(L.fieldPath.canonicalString(),w.value),Array.from(S.values())}return null}(c,l),p=function(b,k){const S=[];let L=!0;for(const w of Ns(k)){const T=w.kind===0?Fw(b,w.fieldPath,b.startAt):Ow(b,w.fieldPath,b.startAt);S.push(T.value),L&&(L=T.inclusive)}return new jl(S,L)}(c,l),m=function(b,k){const S=[];let L=!0;for(const w of Ns(k)){const T=w.kind===0?Ow(b,w.fieldPath,b.endAt):Fw(b,w.fieldPath,b.endAt);S.push(T.value),L&&(L=T.inclusive)}return new jl(S,L)}(c,l),g=this.In(l,c,p),A=this.In(l,c,m),x=this.Tn(l,c,h),v=this.En(l.indexId,d,g,p.inclusive,A,m.inclusive,x);return ae.forEach(v,y=>r.G(y,n.limit).next(b=>{b.forEach(k=>{const S=Pe.fromSegments(k.documentKey);s.has(S)||(s=s.add(S),o.push(S))})}))}).next(()=>o)}return ae.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=uF(Ft.create(e.filters,"and")).map(r=>UA(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,a,s,o){const l=(n!=null?n.length:1)*Math.max(r.length,a.length),c=l/(n!=null?n.length:1),d=[];for(let h=0;h<l;++h){const p=n?this.dn(n[h/c]):Ah,m=this.An(e,p,r[h%c],i),g=this.Rn(e,p,a[h%c],s),A=o.map(x=>this.An(e,p,x,!0));d.push(...this.createRange(m,g,A))}return d}An(e,n,r,i){const a=new Ps(e,Pe.empty(),n,r);return i?a:a.Zt()}Rn(e,n,r,i){const a=new Ps(e,Pe.empty(),n,r);return i?a.Zt():a}Pn(e,n){const r=new r1(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let s=null;for(const o of a)r.rn(o)&&(!s||o.fields.length>s.fields.length)&&(s=o);return s})}getIndexType(e,n){let r=2;const i=this.hn(n);return ae.forEach(i,a=>this.Pn(e,a).next(s=>{s?r!==0&&s.fields.length<function(l){let c=new Bt(Xt.comparator),d=!1;for(const h of l.filters)for(const p of h.getFlattenedFilters())p.field.isKeyField()||(p.op==="array-contains"||p.op==="array-contains-any"?d=!0:c=c.add(p.field));for(const h of l.orderBy)h.field.isKeyField()||(c=c.add(h.field));return c.size+(d?1:0)}(a)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){const r=new wc;for(const i of Ns(e)){const a=n.data.field(i.fieldPath);if(a==null)return null;const s=r.Yt(i.kind);Rs.vt.It(a,s)}return r.zt()}dn(e){const n=new wc;return Rs.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new wc;return Rs.vt.It(Qu(this.databaseId,n),r.Yt(function(a){const s=Ns(a);return s.length===0?0:s[s.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new wc);let a=0;for(const s of Ns(e)){const o=r[a++];for(const l of i)if(this.fn(n,s.fieldPath)&&Xu(o))i=this.gn(i,s,o);else{const c=l.Yt(s.kind);Rs.vt.It(o,c)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const i=[...e],a=[];for(const s of r.arrayValue.values||[])for(const o of i){const l=new wc;l.seed(o.zt()),Rs.vt.It(s,l.Yt(n.kind)),a.push(l)}return a}fn(e,n){return!!e.filters.find(r=>r instanceof xt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=_c(e),i=No(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(a=>{const s=[];return ae.forEach(a,o=>i.get([o.indexId,this.uid]).next(l=>{s.push(function(d,h){const p=h?new Gu(h.sequenceNumber,new Mr(oo(h.readTime),new Pe(Ti(h.documentKey)),h.largestBatchId)):Gu.empty(),m=d.fields.map(([g,A])=>new Vh(Xt.fromServerFormat(g),A));return new $f(d.indexId,d.collectionGroup,m,p)}(o,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:nt(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=_c(e),a=No(e);return this.yn(e).next(s=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(o=>ae.forEach(o,l=>a.put(Jw(l.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){const r=new Map;return ae.forEach(n,(i,a)=>{const s=r.get(i.collectionGroup);return(s?ae.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(o=>(r.set(i.collectionGroup,o),ae.forEach(o,l=>this.wn(e,i,l).next(c=>{const d=this.Sn(a,l);return c.isEqual(d)?ae.resolve():this.bn(e,a,l,c,d)}))))})}Dn(e,n,r,i){return Io(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return Io(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=Io(e);let a=new Bt(Aa);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(s,o)=>{a=a.add(new Ps(r.indexId,n,o.arrayValue,o.directionalValue))}).next(()=>a)}Sn(e,n){let r=new Bt(Aa);const i=this.Vn(n,e);if(i==null)return r;const a=MA(n);if(a!=null){const s=e.data.field(a.fieldPath);if(Xu(s))for(const o of s.arrayValue.values||[])r=r.add(new Ps(n.indexId,e.key,this.dn(o),i))}else r=r.add(new Ps(n.indexId,e.key,Ah,i));return r}bn(e,n,r,i,a){Ce("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(l,c,d,h,p){const m=l.getIterator(),g=c.getIterator();let A=To(m),x=To(g);for(;A||x;){let v=!1,y=!1;if(A&&x){const b=d(A,x);b<0?y=!0:b>0&&(v=!0)}else A!=null?y=!0:v=!0;v?(h(x),x=To(g)):y?(p(A),A=To(m)):(A=To(m),x=To(g))}}(i,a,Aa,o=>{s.push(this.Dn(e,n,r,o))},o=>{s.push(this.vn(e,n,r,o))}),ae.waitFor(s)}yn(e){let n=1;return No(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,o)=>Aa(s,o)).filter((s,o,l)=>!o||Aa(s,l[o-1])!==0);const i=[];i.push(e);for(const s of r){const o=Aa(s,e),l=Aa(s,n);if(o===0)i[0]=e.Zt();else if(o>0&&l<0)i.push(s),i.push(s.Zt());else if(l>0)break}i.push(n);const a=[];for(let s=0;s<i.length;s+=2){if(this.Cn(i[s],i[s+1]))return[];const o=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,Ah,[]],l=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,Ah,[]];a.push(IDBKeyRange.bound(o,l))}return a}Cn(e,n){return Aa(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(s1)}getMinOffset(e,n){return ae.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||Be())).next(s1)}}function a1(t){return kn(t,"collectionParents")}function Io(t){return kn(t,"indexEntries")}function _c(t){return kn(t,"indexConfiguration")}function No(t){return kn(t,"indexState")}function s1(t){Ve(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Rv(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Mr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class pr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new pr(e,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),a=[],s=IDBKeyRange.only(n.batchId);let o=0;const l=r.J({range:s},(d,h,p)=>(o++,p.delete()));a.push(l.next(()=>{Ve(o===1)}));const c=[];for(const d of n.mutations){const h=yT(e,d.key.path,n.batchId);a.push(i.delete(h)),c.push(d.key)}return ae.waitFor(a).next(()=>c)}function Zf(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Be();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pr.DEFAULT_COLLECTION_PERCENTILE=10,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pr.DEFAULT=new pr(41943040,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pr.DISABLED=new pr(-1,0,0);class Jp{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){Ve(e.uid!=="");const a=e.isAuthenticated()?e.uid:"";return new Jp(a,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return va(e).J({index:"userMutationsIndex",range:r},(i,a,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const a=Bo(e),s=va(e);return s.add({}).next(o=>{Ve(typeof o=="number");const l=new Bv(o,n,r,i),c=function(m,g,A){const x=A.baseMutations.map(y=>Kf(m.ct,y)),v=A.mutations.map(y=>Kf(m.ct,y));return{userId:g,batchId:A.batchId,localWriteTimeMs:A.localWriteTime.toMillis(),baseMutations:x,mutations:v}}(this.serializer,this.userId,l),d=[];let h=new Bt((p,m)=>nt(p.canonicalString(),m.canonicalString()));for(const p of i){const m=yT(this.userId,p.key.path,o);h=h.add(p.key.path.popLast()),d.push(s.put(c)),d.push(a.put(m,$5))}return h.forEach(p=>{d.push(this.indexManager.addToCollectionParentIndex(e,p))}),e.addOnCommittedListener(()=>{this.Fn[o]=l.keys()}),ae.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return va(e).get(n).next(r=>r?(Ve(r.userId===this.userId),Ds(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?ae.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return va(e).J({index:"userMutationsIndex",range:i},(s,o,l)=>{o.userId===this.userId&&(Ve(o.batchId>=r),a=Ds(this.serializer,o)),l.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return va(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,a,s)=>{r=a.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return va(e).U("userMutationsIndex",n).next(r=>r.map(i=>Ds(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Uh(this.userId,n.path),i=IDBKeyRange.lowerBound(r),a=[];return Bo(e).J({range:i},(s,o,l)=>{const[c,d,h]=s,p=Ti(d);if(c===this.userId&&n.path.isEqual(p))return va(e).get(h).next(m=>{if(!m)throw Be();Ve(m.userId===this.userId),a.push(Ds(this.serializer,m))});l.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bt(nt);const i=[];return n.forEach(a=>{const s=Uh(this.userId,a.path),o=IDBKeyRange.lowerBound(s),l=Bo(e).J({range:o},(c,d,h)=>{const[p,m,g]=c,A=Ti(m);p===this.userId&&a.path.isEqual(A)?r=r.add(g):h.done()});i.push(l)}),ae.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,a=Uh(this.userId,r),s=IDBKeyRange.lowerBound(a);let o=new Bt(nt);return Bo(e).J({range:s},(l,c,d)=>{const[h,p,m]=l,g=Ti(p);h===this.userId&&r.isPrefixOf(g)?g.length===i&&(o=o.add(m)):d.done()}).next(()=>this.xn(e,o))}xn(e,n){const r=[],i=[];return n.forEach(a=>{i.push(va(e).get(a).next(s=>{if(s===null)throw Be();Ve(s.userId===this.userId),r.push(Ds(this.serializer,s))}))}),ae.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return pI(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),ae.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return ae.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return Bo(e).J({range:r},(a,s,o)=>{if(a[0]===this.userId){const l=Ti(a[1]);i.push(l)}else o.done()}).next(()=>{Ve(i.length===0)})})}containsKey(e,n){return mI(e,this.userId,n)}Nn(e){return gI(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function mI(t,e,n){const r=Uh(e,n.path),i=r[1],a=IDBKeyRange.lowerBound(r);let s=!1;return Bo(t).J({range:a,H:!0},(o,l,c)=>{const[d,h,p]=o;d===e&&h===i&&(s=!0),c.done()}).next(()=>s)}function va(t){return kn(t,"mutations")}function Bo(t){return kn(t,"documentMutations")}function gI(t){return kn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new lo(0)}static kn(){return new lo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new lo(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>We.fromTimestamp(new Kt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>So(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(Ve(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0;const a=[];return So(e).J((s,o)=>{const l=Bc(o);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,a.push(this.removeTargetData(e,l)))}).next(()=>ae.waitFor(a)).next(()=>i)}forEachTarget(e,n){return So(e).J((r,i)=>{const a=Bc(i);n(a)})}qn(e){return l1(e).get("targetGlobalKey").next(n=>(Ve(n!==null),n))}Qn(e,n){return l1(e).put("targetGlobalKey",n)}Kn(e,n){return So(e).put(uI(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=ao(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return So(e).J({range:i,index:"queryTargetsIndex"},(s,o,l)=>{const c=Bc(o);yd(n,c.target)&&(a=c,l.done())}).next(()=>a)}addMatchingKeys(e,n,r){const i=[],a=ka(e);return n.forEach(s=>{const o=lr(s.path);i.push(a.put({targetId:r,path:o})),i.push(this.referenceDelegate.addReference(e,r,s))}),ae.waitFor(i)}removeMatchingKeys(e,n,r){const i=ka(e);return ae.forEach(n,a=>{const s=lr(a.path);return ae.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,n){const r=ka(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=ka(e);let a=ct();return i.J({range:r,H:!0},(s,o,l)=>{const c=Ti(s[1]),d=new Pe(c);a=a.add(d)}).next(()=>a)}containsKey(e,n){const r=lr(n.path),i=IDBKeyRange.bound([r],[pT(r)],!1,!0);let a=0;return ka(e).J({index:"documentTargetsIndex",H:!0,range:i},([s,o],l,c)=>{s!==0&&(a++,c.done())}).next(()=>a>0)}ot(e,n){return So(e).get(n).next(r=>r?Bc(r):null)}}function So(t){return kn(t,"targets")}function l1(t){return kn(t,"targetGlobal")}function ka(t){return kn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1([t,e],[n,r]){const i=nt(t,n);return i===0?nt(e,r):i}class pF{constructor(e){this.Un=e,this.buffer=new Bt(c1),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();c1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){Ce("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){us(n)?Ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await go(n)}await this.Hn(3e5)})}}class gF{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ae.resolve($r.oe);const r=new pF(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(o1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o1):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,a,s,o,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,o=Date.now(),this.removeTargets(e,r,n))).next(h=>(a=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Lo()<=yt.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:h})))}}function AF(t,e){return new gF(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e,n){this.db=e,this.garbageCollector=AF(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return vh(e,r)}removeReference(e,n,r){return vh(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return vh(e,n)}nr(e,n){return function(i,a){let s=!1;return gI(i).Y(o=>mI(i,o,a).next(l=>(l&&(s=!0),ae.resolve(!l)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.tr(e,(s,o)=>{if(o<=n){const l=this.nr(e,s).next(c=>{if(!c)return a++,r.getEntry(e,s).next(()=>(r.removeEntry(s,We.min()),ka(e).delete(function(h){return[0,lr(h.path)]}(s))))});i.push(l)}}).next(()=>ae.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return vh(e,n)}tr(e,n){const r=ka(e);let i,a=$r.oe;return r.J({index:"documentTargetsIndex"},([s,o],{path:l,sequenceNumber:c})=>{s===0?(a!==$r.oe&&n(new Pe(Ti(i)),a),a=c,i=l):a=$r.oe}).next(()=>{a!==$r.oe&&n(new Pe(Ti(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function vh(t,e){return ka(t).put(function(r,i){return{targetId:0,path:lr(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.changes=new ds(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return vs(e).put(r)}removeEntry(e,n,r){return vs(e).delete(function(a,s){const o=a.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Yf(s),o[o.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=dn.newInvalidDocument(n);return vs(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Cc(n))},(i,a)=>{r=this.ir(n,a)}).next(()=>r)}sr(e,n){let r={size:0,document:dn.newInvalidDocument(n)};return vs(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Cc(n))},(i,a)=>{r={document:this.ir(n,a),size:Zf(a)}}).next(()=>r)}getEntries(e,n){let r=Pr();return this._r(e,n,(i,a)=>{const s=this.ir(i,a);r=r.insert(i,s)}).next(()=>r)}ar(e,n){let r=Pr(),i=new Yt(Pe.comparator);return this._r(e,n,(a,s)=>{const o=this.ir(a,s);r=r.insert(a,o),i=i.insert(a,Zf(s))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return ae.resolve();let i=new Bt(h1);n.forEach(l=>i=i.add(l));const a=IDBKeyRange.bound(Cc(i.first()),Cc(i.last())),s=i.getIterator();let o=s.getNext();return vs(e).J({index:"documentKeyIndex",range:a},(l,c,d)=>{const h=Pe.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;o&&h1(o,h)<0;)r(o,null),o=s.getNext();o&&o.isEqual(h)&&(r(o,c),o=s.hasNext()?s.getNext():null),o?d.$(Cc(o)):d.done()}).next(()=>{for(;o;)r(o,null),o=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,a){const s=n.path,o=[s.popLast().toArray(),s.lastSegment(),Yf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vs(e).U(IDBKeyRange.bound(o,l,!0)).next(c=>{a==null||a.incrementDocumentReadCount(c.length);let d=Pr();for(const h of c){const p=this.ir(Pe.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);p.isFoundDocument()&&(bd(n,p)||i.has(p.key))&&(d=d.insert(p.key,p))}return d})}getAllFromCollectionGroup(e,n,r,i){let a=Pr();const s=d1(n,r),o=d1(n,Mr.max());return vs(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},(l,c,d)=>{const h=this.ir(Pe.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);a=a.insert(h.key,h),a.size===i&&d.done()}).next(()=>a)}newChangeBuffer(e){return new xF(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return u1(e).get("remoteDocumentGlobalKey").next(n=>(Ve(!!n),n))}rr(e,n){return u1(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=rF(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(We.min())))return r}return dn.newInvalidDocument(e)}}function vI(t){return new yF(t)}class xF extends AI{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new ds(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Bt((a,s)=>nt(a.canonicalString(),s.canonicalString()));return this.changes.forEach((a,s)=>{const o=this.lr.get(a);if(n.push(this.cr.removeEntry(e,a,o.readTime)),s.isValidDocument()){const l=Kw(this.cr.serializer,s);i=i.add(a.path.popLast());const c=Zf(l);r+=c-o.size,n.push(this.cr.addEntry(e,a,l))}else if(r-=o.size,this.trackRemovals){const l=Kw(this.cr.serializer,s.convertToNoDocument(We.min()));n.push(this.cr.addEntry(e,a,l))}}),i.forEach(a=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,a))}),n.push(this.cr.updateMetadata(e,r)),ae.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((a,s)=>{this.lr.set(a,{size:s,readTime:r.get(a).readTime})}),r))}}function u1(t){return kn(t,"remoteDocumentGlobal")}function vs(t){return kn(t,"remoteDocumentsV14")}function Cc(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function d1(t,e){const n=e.documentKey.path.toArray();return[t,Yf(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function h1(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<n.length-2&&a<r.length-2;++a)if(i=nt(n[a],r[a]),i)return i;return i=nt(n.length,r.length),i||(i=nt(n[n.length-2],r[r.length-2]),i||nt(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&hu(r.mutation,i,vr.empty(),Kt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ct()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ct()){const i=Ii();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=Fc();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Ii();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ct()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=Pr();const s=du(),o=function(){return du()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof ua)?a=a.insert(c.key,c):d!==void 0?(s.set(c.key,d.mutation.getFieldMask()),hu(d.mutation,c,d.mutation.getFieldMask(),Kt.now())):s.set(c.key,vr.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>{var h;return o.set(c,new bF(d,(h=s.get(c))!==null&&h!==void 0?h:null))}),o))}recalculateAndSaveOverlays(e,n){const r=du();let i=new Yt((s,o)=>s-o),a=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||vr.empty();d=o.applyToLocalView(c,d),r.set(l,d);const h=(i.get(o.batchId)||ct()).add(l);i=i.insert(o.batchId,h)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,d=l.value,h=zT();d.forEach(p=>{if(!a.has(p)){const m=$T(n.get(p),r.get(p));m!==null&&h.set(p,m),a=a.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return ae.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ae.resolve(Ii());let o=-1,l=a;return s.next(c=>ae.forEach(c,(d,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),a.get(d)?ae.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,l,c,ct())).next(d=>({batchId:o,changes:BT(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next(r=>{let i=Fc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=Fc();return this.indexManager.getCollectionParents(e,a).next(o=>ae.forEach(o,l=>{const c=function(h,p){return new Yl(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,p)=>{s=s.insert(h,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((l,c)=>{const d=c.getKey();s.get(d)===null&&(s=s.insert(d,dn.newInvalidDocument(d)))});let o=Fc();return s.forEach((l,c)=>{const d=a.get(l);d!==void 0&&hu(d.mutation,c,vr.empty(),Kt.now()),bd(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ae.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:cr(i.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:dI(i.bundledQuery),readTime:cr(i.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(){this.overlays=new Yt(Pe.comparator),this.Ir=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ii();return ae.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.ht(e,n,a)}),ae.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(r)),ae.resolve()}getOverlaysForCollection(e,n,r){const i=Ii(),a=n.length+1,s=new Pe(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ae.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Yt((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=a.get(c.largestBatchId);d===null&&(d=Ii(),a=a.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const o=Ii(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>o.set(c,d)),!(o.size()>=i)););return ae.resolve(o)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Vv(n,r));let a=this.Ir.get(n);a===void 0&&(a=ct(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(){this.Tr=new Bt(Rn.Er),this.dr=new Bt(Rn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Rn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Rn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Pe(new Rt([])),r=new Rn(n,e),i=new Rn(n,e+1),a=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),a.push(s.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Pe(new Rt([])),r=new Rn(n,e),i=new Rn(n,e+1);let a=ct();return this.dr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new Rn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Pe.comparator(e.key,n.key)||nt(e.wr,n.wr)}static Ar(e,n){return nt(e.wr,n.wr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Bt(Rn.Er)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Bv(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.br=this.br.add(new Rn(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ae.resolve(s)}lookupMutationBatch(e,n){return ae.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),a=i<0?0:i;return ae.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rn(n,0),i=new Rn(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],s=>{const o=this.Dr(s.wr);a.push(o)}),ae.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bt(nt);return n.forEach(i=>{const a=new Rn(i,0),s=new Rn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,s],o=>{r=r.add(o.wr)})}),ae.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Pe.isDocumentKey(a)||(a=a.child(""));const s=new Rn(new Pe(a),0);let o=new Bt(nt);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.wr)),!0)},s),ae.resolve(this.Cr(o))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ve(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ae.forEach(n.mutations,i=>{const a=new Rn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Rn(n,0),i=this.br.firstAfterOrEqual(r);return ae.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e){this.Mr=e,this.docs=function(){return new Yt(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ae.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let r=Pr();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():dn.newInvalidDocument(i))}),ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Pr();const s=n.path,o=new Pe(s.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Rv(mT(d),r)<=0||(i.has(d.key)||bd(n,d))&&(a=a.insert(d.key,d.mutableCopy()))}return ae.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Be()}Or(e,n){return ae.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new IF(this)}getSize(e){return ae.resolve(this.size)}}class IF extends AI{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ae.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e){this.persistence=e,this.Nr=new ds(n=>ao(n),yd),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.Lr=0,this.Br=new $v,this.targetCount=0,this.kr=lo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ae.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new lo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Kn(n),ae.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Nr.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),ae.waitFor(a).next(()=>i)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ae.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ae.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),ae.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ae.resolve(r)}containsKey(e,n){return ae.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n){this.qr={},this.overlays={},this.Qr=new $r(0),this.Kr=!1,this.Kr=!0,this.$r=new CF,this.referenceDelegate=e(this),this.Ur=new NF(this),this.indexManager=new dF,this.remoteDocumentCache=function(i){return new TF(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new cI(n),this.Gr=new wF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _F,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new EF(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ce("MemoryPersistence","Starting transaction:",e);const i=new SF(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,n){return ae.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class SF extends AT{constructor(e){super(),this.currentSequenceNumber=e}}class Zp{constructor(e){this.persistence=e,this.Jr=new $v,this.Yr=null}static Zr(e){return new Zp(e)}get Xr(){if(this.Yr)return this.Yr;throw Be()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ae.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Xr,r=>{const i=Pe.fromPath(r);return this.ei(e,i).next(a=>{a||n.removeEntry(i,We.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ae.or([()=>ae.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e){this.serializer=e}O(e,n,r,i){const a=new Gp("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Tw,{unique:!0}),l.createObjectStore("documentMutations")}(e),f1(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=ae.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),f1(e)),s=s.next(()=>function(l){const c=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:We.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",d)}(a))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(l,c){return c.store("mutations").U().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Tw,{unique:!0});const h=c.store("mutations"),p=d.map(m=>h.put(m));return ae.waitFor(p)})}(e,a))),s=s.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.ni(a))),r<6&&i>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(a)))),r<7&&i>=7&&(s=s.next(()=>this.ii(a))),r<8&&i>=8&&(s=s.next(()=>this.si(e,a))),r<9&&i>=9&&(s=s.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.oi(a))),r<11&&i>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:i3});c.createIndex("collectionPathOverlayIndex",a3,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",s3,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:H5});c.createIndex("documentKeyIndex",Q5),c.createIndex("collectionGroupIndex",X5)}(e)).next(()=>this._i(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.ai(e,a))),r<15&&i>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:e3}).createIndex("sequenceNumberIndex",t3,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:n3}).createIndex("documentKeyIndex",r3,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(s=s.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),s}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=Zf(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>ae.forEach(i,a=>{const s=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(o=>ae.forEach(o,l=>{Ve(l.userId===a.userId);const c=Ds(this.serializer,l);return pI(e,a.userId,c).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.J((s,o)=>{const l=new Rt(s),c=function(h){return[0,lr(h)]}(l);a.push(n.get(c).next(d=>d?ae.resolve():(h=>n.put({targetId:0,path:lr(h),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>ae.waitFor(a))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:Z5});const r=n.store("collectionParents"),i=new qv,a=s=>{if(i.add(s)){const o=s.lastSegment(),l=s.popLast();return r.put({collectionId:o,parent:lr(l)})}};return n.store("remoteDocuments").J({H:!0},(s,o)=>{const l=new Rt(s);return a(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([s,o,l],c)=>{const d=Ti(o);return a(d.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,i)=>{const a=Bc(i),s=uI(this.serializer,a);return n.put(s)})}_i(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((a,s)=>{const o=n.store("remoteDocumentsV14"),l=function(h){return h.document?new Pe(Rt.fromString(h.document.name).popFirst(5)):h.noDocument?Pe.fromSegments(h.noDocument.path):h.unknownDocument?Pe.fromSegments(h.unknownDocument.path):Be()}(s).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(o.put(c))}).next(()=>ae.waitFor(i))}ai(e,n){const r=n.store("mutations"),i=vI(this.serializer),a=new xI(Zp.Zr,this.serializer.ct);return r.U().next(s=>{const o=new Map;return s.forEach(l=>{var c;let d=(c=o.get(l.userId))!==null&&c!==void 0?c:ct();Ds(this.serializer,l).keys().forEach(h=>d=d.add(h)),o.set(l.userId,d)}),ae.forEach(o,(l,c)=>{const d=new Bn(c),h=Yp.lt(this.serializer,d),p=a.getIndexManager(d),m=Jp.lt(d,this.serializer,p,a.referenceDelegate);return new yI(i,m,h,p).recalculateAndSaveOverlaysForDocumentKeys(new FA(n,$r.oe),l).next()})})}}function f1(t){t.createObjectStore("targetDocuments",{keyPath:Y5}).createIndex("documentTargetsIndex",J5,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",K5,{unique:!0}),t.createObjectStore("targetGlobal")}const dg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Hv{constructor(e,n,r,i,a,s,o,l,c,d,h=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=a,this.window=s,this.document=o,this.ci=c,this.li=d,this.hi=h,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=p=>Promise.resolve(),!Hv.D())throw new ke(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vF(this,i),this.Ai=n+"main",this.serializer=new cI(l),this.Ri=new Xa(this.Ai,this.hi,new kF(this.serializer)),this.$r=new aF,this.Ur=new fF(this.referenceDelegate,this.serializer),this.remoteDocumentCache=vI(this.serializer),this.Gr=new iF,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,d===!1&&sr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(me.FAILED_PRECONDITION,dg);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new $r(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>yh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(us(e))return Ce("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ce("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Ec(e).get("owner").next(n=>ae.resolve(this.vi(n)))}Ci(e){return yh(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=kn(n,"clientMetadata");return r.U().next(i=>{const a=this.xi(i,18e5),s=i.filter(o=>a.indexOf(o)===-1);return ae.forEach(s,o=>r.delete(o.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?ae.resolve(!0):Ec(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new ke(me.FAILED_PRECONDITION,dg);return!1}}return!(!this.networkEnabled||!this.inForeground)||yh(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(a||s&&o)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&Ce("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new FA(e,$r.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>yh(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return Jp.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new hF(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Yp.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ce("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",a=function(l){return l===17?c3:l===16?l3:l===15?jv:l===14?wT:l===13?bT:l===12?o3:l===11?xT:void Be()}(this.hi);let s;return this.Ri.runTransaction(e,i,a,o=>(s=new FA(o,this.Qr?this.Qr.next():$r.oe),n==="readwrite-primary"?this.wi(s).next(l=>!!l||this.Si(s)).next(l=>{if(!l)throw sr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new ke(me.FAILED_PRECONDITION,gT);return r(s)}).next(l=>this.Di(s).next(()=>l)):this.Ki(s).next(()=>r(s)))).then(o=>(s.raiseOnCommittedEvent(),o))}Ki(e){return Ec(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ke(me.FAILED_PRECONDITION,dg)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ec(e).put("owner",n)}static D(){return Xa.D()}bi(e){const n=Ec(e);return n.get("owner").next(r=>this.vi(r)?(Ce("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ae.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(sr(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;JE()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return Ce("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return sr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){sr("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ec(t){return kn(t,"owner")}function yh(t){return kn(t,"clientMetadata")}function DF(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ct(),i=ct();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Qv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return JE()?8:vT(Sn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Yi(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Zi(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new RF;return this.Xi(e,n,s).next(o=>{if(a.result=o,this.zi)return this.es(e,n,s,o.size)})}).next(()=>a.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Lo()<=yt.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",Mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ae.resolve()):(Lo()<=yt.DEBUG&&Ce("QueryEngine","Query:",Mo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Lo()<=yt.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",Mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qr(n))):ae.resolve())}Yi(e,n){if(Bw(n))return ae.resolve(null);let r=Qr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=GA(n,null,"F"),r=Qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=ct(...a);return this.Ji.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,o);return this.ns(n,c,s,l.readTime)?this.Yi(e,GA(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return Bw(n)||i.isEqual(We.min())?ae.resolve(null):this.Ji.getDocuments(e,r).next(a=>{const s=this.ts(n,a);return this.ns(n,s,r,i)?ae.resolve(null):(Lo()<=yt.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Mo(n)),this.rs(e,s,n,B5(i,-1)).next(o=>o))})}ts(e,n){let r=new Bt(FT(e));return n.forEach((i,a)=>{bd(e,a)&&(r=r.add(a))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,n,r){return Lo()<=yt.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",Mo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Mr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Yt(nt),this._s=new ds(a=>ao(a),yd),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function wI(t,e,n,r){return new PF(t,e,n,r)}async function _I(t,e){const n=Je(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let l=ct();for(const c of i){s.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of a){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:o}))})})}function jF(t,e){const n=Je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,d){const h=c.batch,p=h.keys();let m=ae.resolve();return p.forEach(g=>{m=m.next(()=>d.getEntry(l,g)).next(A=>{const x=c.docVersions.get(g);Ve(x!==null),A.version.compareTo(x)<0&&(h.applyToRemoteDocument(A,c),A.isValidDocument()&&(A.setReadTime(c.commitVersion),d.addEntry(A)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=ct();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function CI(t){const e=Je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function LF(t,e){const n=Je(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;o.push(n.Ur.removeMatchingKeys(a,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(a,d.addedDocuments,h)));let m=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(vn.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(A,x,v){return A.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(p,m,d)&&o.push(n.Ur.updateTargetData(a,m))});let l=Pr(),c=ct();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,d))}),o.push(MF(a,s,e.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!r.isEqual(We.min())){const d=n.Ur.getLastRemoteSnapshotVersion(a).next(h=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(d)}return ae.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(n.os=i,a))}function MF(t,e,n){let r=ct(),i=ct();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=Pr();return n.forEach((o,l)=>{const c=a.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(We.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):Ce("LocalStore","Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function FF(t,e){const n=Je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function OF(t,e){const n=Je(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(a=>a?(i=a,ae.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Qi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function JA(t,e,n){const r=Je(t),i=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!us(s))throw s;Ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function p1(t,e,n){const r=Je(t);let i=We.min(),a=ct();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,d){const h=Je(l),p=h._s.get(d);return p!==void 0?ae.resolve(h.os.get(p)):h.Ur.getTargetData(c,d)}(r,s,Qr(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:We.min(),n?a:ct())).next(o=>(BF(r,C3(e),o),{documents:o,Ts:a})))}function BF(t,e,n){let r=t.us.get(e)||We.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.us.set(e,r)}class m1{constructor(){this.activeTargetIds=k3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EI{constructor(){this.so=new m1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new m1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh=null;function hg(){return xh===null?xh=function(){return 268435456+Math.round(2147483648*Math.random())}():xh++,"0x"+xh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn="WebChannelConnection";class WF extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(n,r,i,a,s){const o=hg(),l=this.xo(n,r.toUriEncodedString());Ce("RestConnection",`Sending RPC '${n}' ${o}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,a,s),this.No(n,l,c,i).then(d=>(Ce("RestConnection",`Received RPC '${n}' ${o}: `,d),d),d=>{throw es("RestConnection",`RPC '${n}' ${o} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,a,s,o){return this.Mo(n,r,i,a,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Kl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,s)=>n[s]=a),i&&i.headers.forEach((a,s)=>n[s]=a)}xo(n,r){const i=VF[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const a=hg();return new Promise((s,o)=>{const l=new oT;l.setWithCredentials(!0),l.listenOnce(lT.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case zh.NO_ERROR:const d=l.getResponseJson();Ce(Kn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(d)),s(d);break;case zh.TIMEOUT:Ce(Kn,`RPC '${e}' ${a} timed out`),o(new ke(me.DEADLINE_EXCEEDED,"Request time out"));break;case zh.HTTP_ERROR:const h=l.getStatus();if(Ce(Kn,`RPC '${e}' ${a} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const g=function(x){const v=x.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(v)>=0?v:me.UNKNOWN}(m.status);o(new ke(g,m.message))}else o(new ke(me.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new ke(me.UNAVAILABLE,"Connection failed."));break;default:Be()}}finally{Ce(Kn,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(i);Ce(Kn,`RPC '${e}' ${a} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=hg(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=dT(),o=uT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=a.join("");Ce(Kn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=s.createWebChannel(d,l);let p=!1,m=!1;const g=new UF({Io:x=>{m?Ce(Kn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(p||(Ce(Kn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),Ce(Kn,`RPC '${e}' stream ${i} sending:`,x),h.send(x))},To:()=>h.close()}),A=(x,v,y)=>{x.listen(v,b=>{try{y(b)}catch(k){setTimeout(()=>{throw k},0)}})};return A(h,Mc.EventType.OPEN,()=>{m||(Ce(Kn,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),A(h,Mc.EventType.CLOSE,()=>{m||(m=!0,Ce(Kn,`RPC '${e}' stream ${i} transport closed`),g.So())}),A(h,Mc.EventType.ERROR,x=>{m||(m=!0,es(Kn,`RPC '${e}' stream ${i} transport errored:`,x),g.So(new ke(me.UNAVAILABLE,"The operation could not be completed")))}),A(h,Mc.EventType.MESSAGE,x=>{var v;if(!m){const y=x.data[0];Ve(!!y);const b=y,k=b.error||((v=b[0])===null||v===void 0?void 0:v.error);if(k){Ce(Kn,`RPC '${e}' stream ${i} received error:`,k);const S=k.status;let L=function(_){const D=bn[_];if(D!==void 0)return XT(D)}(S),w=k.message;L===void 0&&(L=me.INTERNAL,w="Unknown error status: "+S+" with message "+k.message),m=!0,g.So(new ke(L,w)),h.close()}else Ce(Kn,`RPC '${e}' stream ${i} received:`,y),g.bo(y)}}),A(o,cT.STAT_EVENT,x=>{x.stat===LA.PROXY?Ce(Kn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===LA.NOPROXY&&Ce(Kn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GF(){return typeof window<"u"?window:null}function Hh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(t){return new H3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n,r=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n,r,i,a,s,o,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new TI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ke(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qF extends II{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=K3(this.serializer,e),r=function(a){if(!("targetChange"in a))return We.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?We.min():s.readTime?cr(s.readTime):We.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=HA(this.serializer),n.addTarget=function(a,s){let o;const l=s.target;if(o=Hf(l)?{documents:rI(a,l)}:{query:iI(a,l)._t},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=JT(a,s.resumeToken);const c=qA(a,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(We.min())>0){o.readTime=Ol(a,s.snapshotVersion.toTimestamp());const c=qA(a,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=J3(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=HA(this.serializer),n.removeTarget=e,this.a_(n)}}class $F extends II{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Y3(e.writeResults,e.commitTime),r=cr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=HA(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Kf(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ke(me.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Mo(e,$A(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ke(me.UNKNOWN,a.toString())})}Lo(e,n,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Lo(e,$A(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ke(me.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class QF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(sr(n),this.D_=!1):Ce("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(s=>{r.enqueueAndForget(async()=>{vo(this)&&(Ce("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Je(l);c.L_.add(4),await Cd(c),c.q_.set("Unknown"),c.L_.delete(4),await tm(c)}(this))})}),this.q_=new QF(r,i)}}async function tm(t){if(vo(t))for(const e of t.B_)await e(!0)}async function Cd(t){for(const e of t.B_)await e(!1)}function NI(t,e){const n=Je(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Jv(n)?Yv(n):Zl(n).r_()&&Kv(n,e))}function Xv(t,e){const n=Je(t),r=Zl(n);n.N_.delete(e),r.r_()&&SI(n,e),n.N_.size===0&&(r.r_()?r.o_():vo(n)&&n.q_.set("Unknown"))}function Kv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(We.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zl(t).A_(e)}function SI(t,e){t.Q_.xe(e),Zl(t).R_(e)}function Yv(t){t.Q_=new W3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Zl(t).start(),t.q_.v_()}function Jv(t){return vo(t)&&!Zl(t).n_()&&t.N_.size>0}function vo(t){return Je(t).L_.size===0}function kI(t){t.Q_=void 0}async function KF(t){t.q_.set("Online")}async function YF(t){t.N_.forEach((e,n)=>{Kv(t,e)})}async function JF(t,e){kI(t),Jv(t)?(t.q_.M_(e),Yv(t)):t.q_.set("Unknown")}async function ZF(t,e,n){if(t.q_.set("Online"),e instanceof YT&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(r){Ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ep(t,r)}else if(e instanceof $h?t.Q_.Ke(e):e instanceof KT?t.Q_.He(e):t.Q_.We(e),!n.isEqual(We.min()))try{const r=await CI(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.Q_.rt(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=a.N_.get(c);d&&a.N_.set(c,d.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const d=a.N_.get(l);if(!d)return;a.N_.set(l,d.withResumeToken(vn.EMPTY_BYTE_STRING,d.snapshotVersion)),SI(a,l);const h=new Qi(d.target,l,c,d.sequenceNumber);Kv(a,h)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Ce("RemoteStore","Failed to raise snapshot:",r),await ep(t,r)}}async function ep(t,e,n){if(!us(e))throw e;t.L_.add(1),await Cd(t),t.q_.set("Offline"),n||(n=()=>CI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ce("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await tm(t)})}function DI(t,e){return e().catch(n=>ep(t,n,e))}async function Ed(t){const e=Je(t),n=is(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;eO(e);)try{const i=await FF(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,tO(e,i)}catch(i){await ep(e,i)}RI(e)&&PI(e)}function eO(t){return vo(t)&&t.O_.length<10}function tO(t,e){t.O_.push(e);const n=is(t);n.r_()&&n.V_&&n.m_(e.mutations)}function RI(t){return vo(t)&&!is(t).n_()&&t.O_.length>0}function PI(t){is(t).start()}async function nO(t){is(t).p_()}async function rO(t){const e=is(t);for(const n of t.O_)e.m_(n.mutations)}async function iO(t,e,n){const r=t.O_.shift(),i=zv.from(r,e,n);await DI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ed(t)}async function aO(t,e){e&&is(t).V_&&await async function(r,i){if(function(s){return z3(s)&&s!==me.ABORTED}(i.code)){const a=r.O_.shift();is(r).s_(),await DI(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Ed(r)}}(t,e),RI(t)&&PI(t)}async function A1(t,e){const n=Je(t);n.asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials");const r=vo(n);n.L_.add(3),await Cd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await tm(n)}async function sO(t,e){const n=Je(t);e?(n.L_.delete(2),await tm(n)):e||(n.L_.add(2),await Cd(n),n.q_.set("Unknown"))}function Zl(t){return t.K_||(t.K_=function(n,r,i){const a=Je(n);return a.w_(),new qF(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:KF.bind(null,t),Ro:YF.bind(null,t),mo:JF.bind(null,t),d_:ZF.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Jv(t)?Yv(t):t.q_.set("Unknown")):(await t.K_.stop(),kI(t))})),t.K_}function is(t){return t.U_||(t.U_=function(n,r,i){const a=Je(n);return a.w_(),new $F(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:nO.bind(null,t),mo:aO.bind(null,t),f_:rO.bind(null,t),g_:iO.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Ed(t)):(await t.U_.stop(),t.O_.length>0&&(Ce("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new Zv(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ey(t,e){if(sr("AsyncQueue",`${e}: ${t}`),us(t))return new ke(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Pe.comparator(n.key,r.key):(n,r)=>Pe.comparator(n.key,r.key),this.keyedMap=Fc(),this.sortedSet=new Yt(this.comparator)}static emptySet(e){return new vl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(){this.W_=new Yt(Pe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Be():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Bl{constructor(e,n,r,i,a,s,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Bl(e,n,vl.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class lO{constructor(){this.queries=y1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Je(n),a=i.queries;i.queries=y1(),a.forEach((s,o)=>{for(const l of o.j_)l.onError(r)})})(this,new ke(me.ABORTED,"Firestore shutting down"))}}function y1(){return new ds(t=>MT(t),Hp)}async function ty(t,e){const n=Je(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.H_()&&e.J_()&&(r=2):(a=new oO,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=ey(s,`Initialization of query '${Mo(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&ry(n)}async function ny(t,e){const n=Je(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.j_.indexOf(e);s>=0&&(a.j_.splice(s,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cO(t,e){const n=Je(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.j_)o.X_(i)&&(r=!0);s.z_=i}}r&&ry(n)}function uO(t,e,n){const r=Je(t),i=r.queries.get(e);if(i)for(const a of i.j_)a.onError(n);r.queries.delete(e)}function ry(t){t.Y_.forEach(e=>{e.next()})}var ZA,x1;(x1=ZA||(ZA={})).ea="default",x1.Cache="cache";class iy{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Bl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ZA.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.key=e}}class LI{constructor(e){this.key=e}}class dO{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ct(),this.mutatedKeys=ct(),this.Aa=FT(e),this.Ra=new vl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new v1,i=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),m=bd(this.query,h)?h:null,g=!!p&&this.mutatedKeys.has(p.key),A=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;p&&m?p.data.isEqual(m.data)?g!==A&&(r.track({type:3,doc:m}),x=!0):this.ga(p,m)||(r.track({type:2,doc:m}),x=!0,(l&&this.Aa(m,l)>0||c&&this.Aa(m,c)<0)&&(o=!0)):!p&&m?(r.track({type:0,doc:m}),x=!0):p&&!m&&(r.track({type:1,doc:p}),x=!0,(l||c)&&(o=!0)),x&&(m?(s=s.add(m),a=A?a.add(d):a.delete(d)):(s=s.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),a=a.delete(d.key),r.track({type:1,doc:d})}return{Ra:s,fa:r,ns:o,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((d,h)=>function(m,g){const A=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be()}};return A(m)-A(g)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const o=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,s.length!==0||c?{snapshot:new Bl(this.query,e.Ra,a,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new v1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ct(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new LI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new jI(r))}),n}ba(e){this.Ta=e.Ts,this.da=ct();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Bl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class hO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fO{constructor(e){this.key=e,this.va=!1}}class pO{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new ds(o=>MT(o),Hp),this.Ma=new Map,this.xa=new Set,this.Oa=new Yt(Pe.comparator),this.Na=new Map,this.La=new $v,this.Ba={},this.ka=new Map,this.qa=lo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function mO(t,e,n=!0){const r=VI(t);let i;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await MI(r,e,n,!0),i}async function gO(t,e){const n=VI(t);await MI(n,e,!0,!1)}async function MI(t,e,n,r){const i=await OF(t.localStore,Qr(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await AO(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&NI(t.remoteStore,i),o}async function AO(t,e,n,r,i){t.Ka=(h,p,m)=>async function(A,x,v,y){let b=x.view.ma(v);b.ns&&(b=await p1(A.localStore,x.query,!1).then(({documents:w})=>x.view.ma(w,b)));const k=y&&y.targetChanges.get(x.targetId),S=y&&y.targetMismatches.get(x.targetId)!=null,L=x.view.applyChanges(b,A.isPrimaryClient,k,S);return w1(A,x.targetId,L.wa),L.snapshot}(t,h,p,m);const a=await p1(t.localStore,e,!0),s=new dO(e,a.Ts),o=s.ma(a.documents),l=_d.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(o,t.isPrimaryClient,l);w1(t,n,c.wa);const d=new hO(e,n,s);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function vO(t,e,n){const r=Je(t),i=r.Fa.get(e),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter(s=>!Hp(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await JA(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Xv(r.remoteStore,i.targetId),e0(r,i.targetId)}).catch(go)):(e0(r,i.targetId),await JA(r.localStore,i.targetId,!0))}async function yO(t,e){const n=Je(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xv(n.remoteStore,r.targetId))}async function xO(t,e,n){const r=UI(t);try{const i=await function(s,o){const l=Je(s),c=Kt.now(),d=o.reduce((m,g)=>m.add(g.key),ct());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=Pr(),A=ct();return l.cs.getEntries(m,d).next(x=>{g=x,g.forEach((v,y)=>{y.isValidDocument()||(A=A.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(x=>{h=x;const v=[];for(const y of o){const b=O3(y,h.get(y.key).overlayedDocument);b!=null&&v.push(new ua(y.key,b,IT(b.value.mapValue),Nn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,v,o)}).next(x=>{p=x;const v=x.applyToLocalDocumentSet(h,A);return l.documentOverlayCache.saveOverlays(m,x.batchId,v)})}).then(()=>({batchId:p.batchId,changes:BT(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let c=s.Ba[s.currentUser.toKey()];c||(c=new Yt(nt)),c=c.insert(o,l),s.Ba[s.currentUser.toKey()]=c}(r,i.batchId,n),await Td(r,i.changes),await Ed(r.remoteStore)}catch(i){const a=ey(i,"Failed to persist write");n.reject(a)}}async function FI(t,e){const n=Je(t);try{const r=await LF(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Na.get(a);s&&(Ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ve(s.va):i.removedDocuments.size>0&&(Ve(s.va),s.va=!1))}),await Td(n,r,e)}catch(r){await go(r)}}function b1(t,e,n){const r=Je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((a,s)=>{const o=s.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=Je(s);l.onlineState=o;let c=!1;l.queries.forEach((d,h)=>{for(const p of h.j_)p.Z_(o)&&(c=!0)}),c&&ry(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bO(t,e,n){const r=Je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),a=i&&i.key;if(a){let s=new Yt(Pe.comparator);s=s.insert(a,dn.newNoDocument(a,We.min()));const o=ct().add(a),l=new Kp(We.min(),new Map,new Yt(nt),s,o);await FI(r,l),r.Oa=r.Oa.remove(a),r.Na.delete(e),ay(r)}else await JA(r.localStore,e,!1).then(()=>e0(r,e,n)).catch(go)}async function wO(t,e){const n=Je(t),r=e.batch.batchId;try{const i=await jF(n.localStore,e);BI(n,r,null),OI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Td(n,i)}catch(i){await go(i)}}async function _O(t,e,n){const r=Je(t);try{const i=await function(s,o){const l=Je(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,o).next(h=>(Ve(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);BI(r,e,n),OI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Td(r,i)}catch(i){await go(i)}}function OI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function BI(t,e,n){const r=Je(t);let i=r.Ba[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function e0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||zI(t,r)})}function zI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Xv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),ay(t))}function w1(t,e,n){for(const r of n)r instanceof jI?(t.La.addReference(r.key,e),CO(t,r)):r instanceof LI?(Ce("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||zI(t,r.key)):Be()}function CO(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ce("SyncEngine","New document in limbo: "+n),t.xa.add(r),ay(t))}function ay(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Pe(Rt.fromString(e)),r=t.qa.next();t.Na.set(r,new fO(n)),t.Oa=t.Oa.insert(n,r),NI(t.remoteStore,new Qi(Qr(xd(n.path)),r,"TargetPurposeLimboResolution",$r.oe))}}async function Td(t,e,n){const r=Je(t),i=[],a=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((o,l)=>{s.push(r.Ka(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=Qv.Wi(l.targetId,c);a.push(h)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,c){const d=Je(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ae.forEach(c,p=>ae.forEach(p.$i,m=>d.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>ae.forEach(p.Ui,m=>d.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!us(h))throw h;Ce("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const m=d.os.get(p),g=m.snapshotVersion,A=m.withLastLimboFreeSnapshotVersion(g);d.os=d.os.insert(p,A)}}}(r.localStore,a))}async function EO(t,e){const n=Je(t);if(!n.currentUser.isEqual(e)){Ce("SyncEngine","User change. New user:",e.toKey());const r=await _I(n.localStore,e);n.currentUser=e,function(a,s){a.ka.forEach(o=>{o.forEach(l=>{l.reject(new ke(me.CANCELLED,s))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Td(n,r.hs)}}function TO(t,e){const n=Je(t),r=n.Na.get(e);if(r&&r.va)return ct().add(r.key);{let i=ct();const a=n.Ma.get(e);if(!a)return i;for(const s of a){const o=n.Fa.get(s);i=i.unionWith(o.view.Va)}return i}}function VI(t){const e=Je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bO.bind(null,e),e.Ca.d_=cO.bind(null,e.eventManager),e.Ca.$a=uO.bind(null,e.eventManager),e}function UI(t){const e=Je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_O.bind(null,e),e}class Zu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=em(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return wI(this.persistence,new bI,e.initialUser,this.serializer)}Ga(e){return new xI(Zp.Zr,this.serializer)}Wa(e){return new EI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zu.provider={build:()=>new Zu};class IO extends Zu{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await UI(this.Ja.syncEngine),await Ed(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return wI(this.persistence,new bI,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new mF(r,e.asyncQueue,n)}Ha(e,n){const r=new W5(n,this.persistence);return new U5(e.asyncQueue,r)}Ga(e){const n=DF(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?pr.withCacheSize(this.cacheSizeBytes):pr.DEFAULT;return new Hv(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,GF(),Hh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new EI}}class tp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>b1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EO.bind(null,this.syncEngine),await sO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lO}()}createDatastore(e){const n=em(e.databaseInfo.databaseId),r=function(a){return new WF(a)}(e.databaseInfo);return function(a,s,o,l){return new HF(a,s,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new XF(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>b1(this.syncEngine,n,0),function(){return g1.D()?new g1:new zF}())}createSyncEngine(e,n){return function(i,a,s,o,l,c,d){const h=new pO(i,a,s,o,l,c);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Je(i);Ce("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Cd(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}tp.provider={build:()=>new tp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bn.UNAUTHENTICATED,this.clientId=Dv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{Ce("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ce("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ey(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function fg(t,e){t.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await _I(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await SO(t);Ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>A1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>A1(e.remoteStore,i)),t._onlineComponents=e}async function SO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await fg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;es("Error using user provided cache. Falling back to memory cache: "+n),await fg(t,new Zu)}}else Ce("FirestoreClient","Using default OfflineComponentProvider"),await fg(t,new Zu);return t._offlineComponents}async function WI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce("FirestoreClient","Using user provided OnlineComponentProvider"),await _1(t,t._uninitializedComponentsProvider._online)):(Ce("FirestoreClient","Using default OnlineComponentProvider"),await _1(t,new tp))),t._onlineComponents}function kO(t){return WI(t).then(e=>e.syncEngine)}async function np(t){const e=await WI(t),n=e.eventManager;return n.onListen=mO.bind(null,e.syncEngine),n.onUnlisten=vO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yO.bind(null,e.syncEngine),n}function DO(t,e,n={}){const r=new ki;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const d=new sy({next:p=>{d.Za(),s.enqueueAndForget(()=>ny(a,h));const m=p.docs.has(o);!m&&p.fromCache?c.reject(new ke(me.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?c.reject(new ke(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new iy(xd(o.path),d,{includeMetadataChanges:!0,_a:!0});return ty(a,h)}(await np(t),t.asyncQueue,e,n,r)),r.promise}function RO(t,e,n={}){const r=new ki;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const d=new sy({next:p=>{d.Za(),s.enqueueAndForget(()=>ny(a,h)),p.fromCache&&l.source==="server"?c.reject(new ke(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new iy(o,d,{includeMetadataChanges:!0,_a:!0});return ty(a,h)}(await np(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t,e,n){if(!n)throw new ke(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $I(t,e,n,r){if(e===!0&&r===!0)throw new ke(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function E1(t){if(!Pe.isDocumentKey(t))throw new ke(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function T1(t){if(Pe.isDocumentKey(t))throw new ke(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Be()}function Un(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ke(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nm(t);throw new ke(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ke(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ke(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$I("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ke(me.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ke(me.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ke(me.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ke(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ke(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fT;switch(r.type){case"firstParty":return new j5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ke(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=C1.get(n);r&&(Ce("ComponentProvider","Removing Datastore"),C1.delete(n),r.terminate())}(this),Promise.resolve()}}function HI(t,e,n,r={}){var i;const a=(t=Un(t,rm))._getSettings(),s=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==s&&es("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=Bn.MOCK_USER;else{o=c4(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ke(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Bn(c)}t._authCredentials=new D5(new hT(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new da(this.firestore,e,this._query)}}class Wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class Zi extends da{constructor(e,n,r){super(e,n,xd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new Pe(e))}withConverter(e){return new Zi(this.firestore,e,this._path)}}function _n(t,e,...n){if(t=An(t),qI("collection","path",e),t instanceof rm){const r=Rt.fromString(e,...n);return T1(r),new Zi(t,null,r)}{if(!(t instanceof Wn||t instanceof Zi))throw new ke(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rt.fromString(e,...n));return T1(r),new Zi(t.firestore,null,r)}}function Cn(t,e,...n){if(t=An(t),arguments.length===1&&(e=Dv.newId()),qI("doc","path",e),t instanceof rm){const r=Rt.fromString(e,...n);return E1(r),new Wn(t,null,new Pe(r))}{if(!(t instanceof Wn||t instanceof Zi))throw new ke(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rt.fromString(e,...n));return E1(r),new Wn(t.firestore,t instanceof Zi?t.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new TI(this,"async_queue_retry"),this.Vu=()=>{const r=Hh();r&&Ce("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Hh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Hh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ki;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!us(e))throw e;Ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw sr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Zv.createAndSchedule(this,e,n,r,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&Be()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function S1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Jr extends rm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new N1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new N1(e),this._firestoreClient=void 0,await e}}}function QI(t,e){const n=typeof t=="object"?t:rT(),r=typeof t=="string"?t:"(default)",i=Sv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=o4("firestore");a&&HI(i,...a)}return i}function ec(t){if(t._terminated)throw new ke(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||XI(t),t._firestoreClient}function XI(t){var e,n,r;const i=t._freezeSettings(),a=function(o,l,c,d){return new d3(o,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,GI(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new NO(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}function KI(t,e){es("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return PO(t,tp.provider,{build:r=>new IO(r,n.cacheSizeBytes,void 0)}),Promise.resolve()}function PO(t,e,n){if((t=Un(t,Jr))._firestoreClient||t._terminated)throw new ke(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ke(me.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},XI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new co(vn.fromBase64String(e))}catch(n){throw new ke(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new co(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ke(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ke(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ke(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=/^__.*__$/;class LO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ua(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jl(e,this.data,n,this.fieldTransforms)}}class YI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ua(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function JI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be()}}class oy{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new oy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return rp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(JI(this.Cu)&&jO.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class MO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||em(e)}Qu(e,n,r,i=!1){return new oy({Cu:e,methodName:n,qu:r,path:Xt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Id(t){const e=t._freezeSettings(),n=em(t._databaseId);return new MO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ly(t,e,n,r,i,a={}){const s=t.Qu(a.merge||a.mergeFields?2:0,e,n,i);cy("Data must be an object, but it was:",s,r);const o=tN(r,s);let l,c;if(a.merge)l=new vr(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const d=[];for(const h of a.mergeFields){const p=t0(e,h,n);if(!s.contains(p))throw new ke(me.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);rN(d,p)||d.push(p)}l=new vr(d),c=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=s.fieldTransforms;return new LO(new Zn(o),l,c)}class om extends im{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof om}}function ZI(t,e,n,r){const i=t.Qu(1,e,n);cy("Data must be an object, but it was:",i,r);const a=[],s=Zn.empty();Ao(r,(l,c)=>{const d=uy(e,l,n);c=An(c);const h=i.Nu(d);if(c instanceof om)a.push(d);else{const p=Nd(c,h);p!=null&&(a.push(d),s.set(d,p))}});const o=new vr(a);return new YI(s,o,i.fieldTransforms)}function eN(t,e,n,r,i,a){const s=t.Qu(1,e,n),o=[t0(e,r,n)],l=[i];if(a.length%2!=0)throw new ke(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)o.push(t0(e,a[p])),l.push(a[p+1]);const c=[],d=Zn.empty();for(let p=o.length-1;p>=0;--p)if(!rN(c,o[p])){const m=o[p];let g=l[p];g=An(g);const A=s.Nu(m);if(g instanceof om)c.push(m);else{const x=Nd(g,A);x!=null&&(c.push(m),d.set(m,x))}}const h=new vr(c);return new YI(d,h,s.fieldTransforms)}function FO(t,e,n,r=!1){return Nd(n,t.Qu(r?4:3,e))}function Nd(t,e){if(nN(t=An(t)))return cy("Unsupported field value:",e,t),tN(t,e);if(t instanceof im)return function(r,i){if(!JI(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let l=Nd(o,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=An(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return D3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Kt.fromDate(r);return{timestampValue:Ol(i.serializer,a)}}if(r instanceof Kt){const a=new Kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ol(i.serializer,a)}}if(r instanceof am)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof co)return{bytesValue:JT(i.serializer,r._byteString)};if(r instanceof Wn){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Wv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof sm)return function(s,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return Ov(o.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${nm(r)}`)}(t,e)}function tN(t,e){const n={};return _T(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(t,(r,i)=>{const a=Nd(i,e.Mu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function nN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Kt||t instanceof am||t instanceof co||t instanceof Wn||t instanceof im||t instanceof sm)}function cy(t,e,n){if(!nN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=nm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function t0(t,e,n){if((e=An(e))instanceof tc)return e._internalPath;if(typeof e=="string")return uy(t,e);throw rp("Field path arguments must be of type string or ",t,!1,void 0,n)}const OO=new RegExp("[~\\*/\\[\\]]");function uy(t,e,n){if(e.search(OO)>=0)throw rp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tc(...e.split("."))._internalPath}catch{throw rp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rp(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ke(me.INVALID_ARGUMENT,o+t+l)}function rN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BO extends iN{data(){return super.data()}}function lm(t,e){return typeof e=="string"?uy(t,e):e instanceof tc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ke(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dy{}class hy extends dy{}function Ea(t,e,...n){let r=[];e instanceof dy&&r.push(e),r=r.concat(n),function(a){const s=a.filter(l=>l instanceof cm).length,o=a.filter(l=>l instanceof Sd).length;if(s>1||s>0&&o>0)throw new ke(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Sd extends hy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Sd(e,n,r)}_apply(e){const n=this._parse(e);return oN(e._query,n),new da(e.firestore,e.converter,WA(e._query,n))}_parse(e){const n=Id(e.firestore);return function(a,s,o,l,c,d,h){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ke(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){D1(h,d);const m=[];for(const g of h)m.push(k1(l,a,g));p={arrayValue:{values:m}}}else p=k1(l,a,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||D1(h,d),p=FO(o,s,h,d==="in"||d==="not-in");return xt.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function zo(t,e,n){const r=e,i=lm("where",t);return Sd._create(i,r,n)}class cm extends dy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ft.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)oN(s,l),s=WA(s,l)}(e._query,n),new da(e.firestore,e.converter,WA(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class um extends hy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new um(e,n)}_apply(e){const n=function(i,a,s){if(i.startAt!==null)throw new ke(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ke(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ku(a,s)}(e._query,this._field,this._direction);return new da(e.firestore,e.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new Yl(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function sN(t,e="asc"){const n=e,r=lm("orderBy",t);return um._create(r,n)}function k1(t,e,n){if(typeof(n=An(n))=="string"){if(n==="")throw new ke(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LT(e)&&n.indexOf("/")!==-1)throw new ke(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Rt.fromString(n));if(!Pe.isDocumentKey(r))throw new ke(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qu(t,new Pe(r))}if(n instanceof Wn)return Qu(t,n._key);throw new ke(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nm(n)}.`)}function D1(t,e){if(!Array.isArray(t)||t.length===0)throw new ke(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oN(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ke(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ke(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class lN{convertValue(e,n="none"){switch(io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ao(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ht(s.doubleValue));return new sm(a)}convertGeoPoint(e){return new am(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Mv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($u(e));default:return null}}convertTimestamp(e){const n=sa(e);return new Kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Rt.fromString(e);Ve(lI(r));const i=new ns(r.get(1),r.get(3)),a=new Pe(r.popFirst(5));return i.isEqual(n)||sr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class py extends iN{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class fu extends py{data(e={}){return super.data(e)}}class my{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new tl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new fu(this._firestore,this._userDataWriter,r.key,r,new tl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ke(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new fu(i._firestore,i._userDataWriter,o.doc.key,o.doc,new tl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new fu(i._firestore,i._userDataWriter,o.doc.key,o.doc,new tl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),d=s.indexOf(o.doc.key)),{type:zO(o.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function zO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(t){t=Un(t,Wn);const e=Un(t.firestore,Jr);return DO(ec(e),t._key).then(n=>cN(e,t,n))}class gy extends lN{constructor(e){super(),this.firestore=e}convertBytes(e){return new co(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,n)}}function zc(t){t=Un(t,da);const e=Un(t.firestore,Jr),n=ec(e),r=new gy(e);return aN(t._query),RO(n,t._query).then(i=>new my(e,r,t,i))}function ip(t,e,n){t=Un(t,Wn);const r=Un(t.firestore,Jr),i=fy(t.converter,e,n);return nc(r,[ly(Id(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Nn.none())])}function Da(t,e,n,...r){t=Un(t,Wn);const i=Un(t.firestore,Jr),a=Id(i);let s;return s=typeof(e=An(e))=="string"||e instanceof tc?eN(a,"updateDoc",t._key,e,n,r):ZI(a,"updateDoc",t._key,e),nc(i,[s.toMutation(t._key,Nn.exists(!0))])}function Vc(t){return nc(Un(t.firestore,Jr),[new wd(t._key,Nn.none())])}function xa(t,e){const n=Un(t.firestore,Jr),r=Cn(t),i=fy(t.converter,e);return nc(n,[ly(Id(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Nn.exists(!1))]).then(()=>r)}function nl(t,...e){var n,r,i;t=An(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||S1(e[s])||(a=e[s],s++);const o={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(S1(e[s])){const h=e[s];e[s]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[s+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[s+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,d;if(t instanceof Wn)c=Un(t.firestore,Jr),d=xd(t._key.path),l={next:h=>{e[s]&&e[s](cN(c,t,h))},error:e[s+1],complete:e[s+2]};else{const h=Un(t,da);c=Un(h.firestore,Jr),d=h._query;const p=new gy(c);l={next:m=>{e[s]&&e[s](new my(c,p,h,m))},error:e[s+1],complete:e[s+2]},aN(t._query)}return function(p,m,g,A){const x=new sy(A),v=new iy(m,x,g);return p.asyncQueue.enqueueAndForget(async()=>ty(await np(p),v)),()=>{x.Za(),p.asyncQueue.enqueueAndForget(async()=>ny(await np(p),v))}}(ec(c),d,o,l)}function nc(t,e){return function(r,i){const a=new ki;return r.asyncQueue.enqueueAndForget(async()=>xO(await kO(r),i,a)),a.promise}(ec(t),e)}function cN(t,e,n){const r=n.docs.get(e._key),i=new gy(t);return new py(t,i,e._key,r,new tl(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Id(e)}set(e,n,r){this._verifyNotCommitted();const i=pg(e,this._firestore),a=fy(i.converter,n,r),s=ly(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Nn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=pg(e,this._firestore);let s;return s=typeof(n=An(n))=="string"||n instanceof tc?eN(this._dataReader,"WriteBatch.update",a._key,n,r,i):ZI(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(s.toMutation(a._key,Nn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=pg(e,this._firestore);return this._mutations=this._mutations.concat(new wd(n._key,Nn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pg(t,e){if((t=An(t)).firestore!==e)throw new ke(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t){return ec(t=Un(t,Jr)),new uN(t,e=>nc(t,e))}(function(e,n=!0){(function(i){Kl=i})(Xl),Dl(new no("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new Jr(new R5(r.getProvider("auth-internal")),new M5(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ke(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ns(c.options.projectId,d)}(s,i),s);return a=Object.assign({useFetchStreams:n},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Qa(_w,"4.7.3",e),Qa(_w,"4.7.3","esm2017")})();const VO=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:lN,Bytes:co,CollectionReference:Zi,DocumentReference:Wn,DocumentSnapshot:py,FieldPath:tc,FieldValue:im,Firestore:Jr,FirestoreError:ke,GeoPoint:am,Query:da,QueryCompositeFilterConstraint:cm,QueryConstraint:hy,QueryDocumentSnapshot:fu,QueryFieldFilterConstraint:Sd,QueryOrderByConstraint:um,QuerySnapshot:my,SnapshotMetadata:tl,Timestamp:Kt,VectorValue:sm,WriteBatch:uN,_AutoId:Dv,_ByteString:vn,_DatabaseId:ns,_DocumentKey:Pe,_EmptyAuthCredentialsProvider:fT,_FieldPath:Xt,_cast:Un,_logWarn:es,_validateIsNotUsedTogether:$I,addDoc:xa,collection:_n,connectFirestoreEmulator:HI,deleteDoc:Vc,doc:Cn,enableIndexedDbPersistence:KI,ensureFirestoreConfigured:ec,executeWrite:nc,getDoc:n0,getDocs:zc,getFirestore:QI,onSnapshot:nl,orderBy:sN,query:Ea,setDoc:ip,updateDoc:Da,where:zo,writeBatch:Uc},Symbol.toStringTag,{value:"Module"}));var UO="firebase",WO="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qa(UO,WO,"app");function Ay(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function yo(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})}function dN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GO=dN,hN=new Ad("auth","Firebase",dN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap=new Iv("@firebase/auth");function qO(t,...e){ap.logLevel<=yt.WARN&&ap.warn(`Auth (${Xl}): ${t}`,...e)}function Qh(t,...e){ap.logLevel<=yt.ERROR&&ap.error(`Auth (${Xl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(t,...e){throw yy(t,...e)}function ci(t,...e){return yy(t,...e)}function vy(t,e,n){const r=Object.assign(Object.assign({},GO()),{[e]:n});return new Ad("auth","Firebase",r).create(e,{appName:t.name})}function ea(t){return vy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $O(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Zr(t,"argument-error"),vy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return hN.create(t,...e)}function Ke(t,e,...n){if(!t)throw yy(e,...n)}function Xi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qh(e),new Error(e)}function oa(t,e){t||Xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function HO(){return R1()==="http:"||R1()==="https:"}function R1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HO()||f4()||"connection"in navigator)?navigator.onLine:!0}function XO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n){this.shortDelay=e,this.longDelay=n,oa(n>e,"Short delay should be less than long delay!"),this.isMobile=u4()||p4()}get(){return QO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t,e){oa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=new kd(3e4,6e4);function hs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function fs(t,e,n,r,i={}){return pN(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=vd(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},a);return h4()||(c.referrerPolicy="no-referrer"),fN.fetch()(mN(t,t.config.apiHost,n,o),c)})}async function pN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},KO),e);try{const i=new ZO(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw bh(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw bh(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw bh(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw bh(t,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw vy(t,d,c);Zr(t,d)}}catch(i){if(i instanceof ca)throw i;Zr(t,"network-request-failed",{message:String(i)})}}async function Dd(t,e,n,r,i={}){const a=await fs(t,e,n,r,i);return"mfaPendingCredential"in a&&Zr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function mN(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?xy(t.config,i):`${t.config.apiScheme}://${i}`}function JO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ZO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ci(this.auth,"network-request-failed")),YO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ci(t,e,r);return i.customData._tokenResponse=n,i}function P1(t){return t!==void 0&&t.enterprise!==void 0}class e6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return JO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function t6(t,e){return fs(t,"GET","/v2/recaptchaConfig",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n6(t,e){return fs(t,"POST","/v1/accounts:delete",e)}async function gN(t,e){return fs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function r6(t,e=!1){const n=An(t),r=await n.getIdToken(e),i=by(r);Ke(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:pu(mg(i.auth_time)),issuedAtTime:pu(mg(i.iat)),expirationTime:pu(mg(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function mg(t){return Number(t)*1e3}function by(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qh("JWT malformed, contained fewer than 3 sections"),null;try{const i=QE(n);return i?JSON.parse(i):(Qh("Failed to decode base64 JWT payload"),null)}catch(i){return Qh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function j1(t){const e=by(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ed(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ca&&i6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function i6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pu(this.lastLoginAt),this.creationTime=pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ed(t,gN(n,{idToken:r}));Ke(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?AN(a.providerUserInfo):[],o=o6(t.providerData,s),l=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!(o!=null&&o.length),d=l?c:!1,h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new i0(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function s6(t){const e=An(t);await sp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function o6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function AN(t){return t.map(e=>{var{providerId:n}=e,r=Ay(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(t,e){const n=await pN(t,{},async()=>{const r=vd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=mN(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",fN.fetch()(s,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function c6(t,e){return fs(t,"POST","/v2/accounts:revokeToken",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):j1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const n=j1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await l6(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new yl;return r&&(Ke(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ke(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Ke(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yl,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ki{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=Ay(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new a6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new i0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await ed(this,this.stsTokenManager.getToken(this.auth,e));return Ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return r6(this,e)}reload(){return s6(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(ea(this.auth));const e=await this.getIdToken();return await ed(this,n6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,s,o,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,m=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,A=(o=n.tenantId)!==null&&o!==void 0?o:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:b,emailVerified:k,isAnonymous:S,providerData:L,stsTokenManager:w}=n;Ke(b&&w,e,"internal-error");const T=yl.fromJSON(this.name,w);Ke(typeof b=="string",e,"internal-error"),ya(h,e.name),ya(p,e.name),Ke(typeof k=="boolean",e,"internal-error"),Ke(typeof S=="boolean",e,"internal-error"),ya(m,e.name),ya(g,e.name),ya(A,e.name),ya(x,e.name),ya(v,e.name),ya(y,e.name);const _=new Ki({uid:b,auth:e,email:p,emailVerified:k,displayName:h,isAnonymous:S,photoURL:g,phoneNumber:m,tenantId:A,stsTokenManager:T,createdAt:v,lastLoginAt:y});return L&&Array.isArray(L)&&(_.providerData=L.map(D=>Object.assign({},D))),x&&(_._redirectEventId=x),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new yl;i.updateFromServerResponse(n);const a=new Ki({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await sp(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ke(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?AN(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new yl;o.updateFromIdToken(r);const l=new Ki({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new i0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=new Map;function Yi(t){oa(t instanceof Function,"Expected a class definition");let e=L1.get(t);return e?(oa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,L1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vN.type="NONE";const M1=vN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(t,e,n){return`firebase:${t}:${e}:${n}`}class xl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Xh(this.userKey,i.apiKey,a),this.fullPersistenceKey=Xh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ki._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xl(Yi(M1),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||Yi(M1);const s=Xh(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const d=await c._get(s);if(d){const h=Ki._fromJSON(e,d);c!==a&&(o=h),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new xl(a,e,r):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(s)}catch{}})),new xl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CN(e))return"Blackberry";if(EN(e))return"Webos";if(xN(e))return"Safari";if((e.includes("chrome/")||bN(e))&&!e.includes("edge/"))return"Chrome";if(_N(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function yN(t=Sn()){return/firefox\//i.test(t)}function xN(t=Sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bN(t=Sn()){return/crios\//i.test(t)}function wN(t=Sn()){return/iemobile/i.test(t)}function _N(t=Sn()){return/android/i.test(t)}function CN(t=Sn()){return/blackberry/i.test(t)}function EN(t=Sn()){return/webos/i.test(t)}function wy(t=Sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function u6(t=Sn()){var e;return wy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function d6(){return m4()&&document.documentMode===10}function TN(t=Sn()){return wy(t)||_N(t)||EN(t)||CN(t)||/windows phone/i.test(t)||wN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(t,e=[]){let n;switch(t){case"Browser":n=F1(Sn());break;case"Worker":n=`${F1(Sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f6(t,e={}){return fs(t,"GET","/v2/passwordPolicy",hs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=6;class m6{constructor(e){var n,r,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:p6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,s,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O1(this),this.idTokenSubscription=new O1(this),this.beforeStateQueue=new h6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await xl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gN(this,{idToken:e}),r=await Ki._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(si(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject(ea(this));const n=e?An(e):null;return n&&Ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(ea(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject(ea(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await f6(this),n=new m6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ad("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await c6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yi(e)||this._popupRedirectResolver;Ke(n,this,"argument-error"),this.redirectPersistenceManager=await xl.create(this,[Yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&qO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ps(t){return An(t)}class O1{constructor(e){this.auth=e,this.observer=null,this.addObserver=b4(n=>this.observer=n)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function A6(t){dm=t}function NN(t){return dm.loadJS(t)}function v6(){return dm.recaptchaEnterpriseScript}function y6(){return dm.gapiScript}function x6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const b6="recaptcha-enterprise",w6="NO_RECAPTCHA";class _6{constructor(e){this.type=b6,this.auth=ps(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{t6(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new e6(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,s(c.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;P1(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{s(c)}).catch(()=>{s(w6)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&P1(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=v6();l.length!==0&&(l+=o),NN(l).then(()=>{i(o,a,s)}).catch(c=>{s(c)})}}).catch(o=>{s(o)})})}}async function B1(t,e,n,r=!1){const i=new _6(t);let a;try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function a0(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await B1(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await B1(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(t,e){const n=Sv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Gf(a,e??{}))return i;Zr(i,"already-initialized")}return n.initialize({options:e})}function E6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function T6(t,e,n){const r=ps(t);Ke(r._canInitEmulator,r,"emulator-config-failed"),Ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=SN(e),{host:s,port:o}=I6(e),l=o===null?"":`:${o}`;r.config.emulator={url:`${a}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),N6()}function SN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function I6(t){const e=SN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:z1(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:z1(s)}}}function z1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function N6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,n){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}}async function S6(t,e){return fs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6(t,e){return Dd(t,"POST","/v1/accounts:signInWithPassword",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D6(t,e){return Dd(t,"POST","/v1/accounts:signInWithEmailLink",hs(t,e))}async function R6(t,e){return Dd(t,"POST","/v1/accounts:signInWithEmailLink",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends _y{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new td(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new td(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return a0(e,n,"signInWithPassword",k6);case"emailLink":return D6(e,{email:this._email,oobCode:this._password});default:Zr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return a0(e,r,"signUpPassword",S6);case"emailLink":return R6(e,{idToken:n,email:this._email,oobCode:this._password});default:Zr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t,e){return Dd(t,"POST","/v1/accounts:signInWithIdp",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6="http://localhost";class uo extends _y{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new uo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=Ay(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new uo(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return bl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bl(e,n)}buildRequest(){const e={requestUri:P6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function L6(t){const e=jc(Lc(t)).link,n=e?jc(Lc(e)).deep_link_id:null,r=jc(Lc(t)).deep_link_id;return(r?jc(Lc(r)).link:null)||r||n||e||t}class Cy{constructor(e){var n,r,i,a,s,o;const l=jc(Lc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=j6((i=l.mode)!==null&&i!==void 0?i:null);Ke(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=L6(e);try{return new Cy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this.providerId=rc.PROVIDER_ID}static credential(e,n){return td._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Cy.parseLink(n);return Ke(r,"argument-error"),td._fromEmailAndCode(e,r.code,r.tenantId)}}rc.PROVIDER_ID="password";rc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd extends Ey{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Rd{constructor(){super("facebook.com")}static credential(e){return uo._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ra.credential(e.oauthAccessToken)}catch{return null}}}Ra.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ra.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Rd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return uo._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wi.credential(n,r)}catch{return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com";Wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends Rd{constructor(){super("github.com")}static credential(e){return uo._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pa.credentialFromTaggedObject(e)}static credentialFromError(e){return Pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pa.credential(e.oauthAccessToken)}catch{return null}}}Pa.GITHUB_SIGN_IN_METHOD="github.com";Pa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends Rd{constructor(){super("twitter.com")}static credential(e,n){return uo._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ja.credential(n,r)}catch{return null}}}ja.TWITTER_SIGN_IN_METHOD="twitter.com";ja.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M6(t,e){return Dd(t,"POST","/v1/accounts:signUp",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Ki._fromIdTokenResponse(e,r,i),s=V1(r);return new ho({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=V1(r);return new ho({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function V1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op extends ca{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,op.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new op(e,n,r,i)}}function kN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?op._fromErrorAndOperation(t,a,e,r):a})}async function F6(t,e,n=!1){const r=await ed(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ho._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O6(t,e,n=!1){const{auth:r}=t;if(si(r.app))return Promise.reject(ea(r));const i="reauthenticate";try{const a=await ed(t,kN(r,i,e,t),n);Ke(a.idToken,r,"internal-error");const s=by(a.idToken);Ke(s,r,"internal-error");const{sub:o}=s;return Ke(t.uid===o,r,"user-mismatch"),ho._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Zr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(t,e,n=!1){if(si(t.app))return Promise.reject(ea(t));const r="signIn",i=await kN(t,r,e),a=await ho._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function B6(t,e){return DN(ps(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(t){const e=ps(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function z6(t,e,n){if(si(t.app))return Promise.reject(ea(t));const r=ps(t),s=await a0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",M6).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&RN(t),l}),o=await ho._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function V6(t,e,n){return si(t.app)?Promise.reject(ea(t)):B6(An(t),rc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&RN(t),r})}function U6(t,e,n,r){return An(t).onIdTokenChanged(e,n,r)}function W6(t,e,n){return An(t).beforeAuthStateChanged(e,n)}function G6(t,e,n,r){return An(t).onAuthStateChanged(e,n,r)}function q6(t){return An(t).signOut()}const lp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lp,"1"),this.storage.removeItem(lp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=1e3,H6=10;class jN extends PN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);d6()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,H6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},$6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jN.type="LOCAL";const Q6=jN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN extends PN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}LN.type="SESSION";const MN=LN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new hm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async c=>c(n.origin,a)),l=await X6(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const c=Ty("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(p.data.response);break;default:clearTimeout(d),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(){return window}function Y6(t){Di().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function J6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Z6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function eB(){return FN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="firebaseLocalStorageDb",tB=1,cp="firebaseLocalStorage",BN="fbase_key";class Pd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fm(t,e){return t.transaction([cp],e?"readwrite":"readonly").objectStore(cp)}function nB(){const t=indexedDB.deleteDatabase(ON);return new Pd(t).toPromise()}function s0(){const t=indexedDB.open(ON,tB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cp,{keyPath:BN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cp)?e(r):(r.close(),await nB(),e(await s0()))})})}async function U1(t,e,n){const r=fm(t,!0).put({[BN]:e,value:n});return new Pd(r).toPromise()}async function rB(t,e){const n=fm(t,!1).get(e),r=await new Pd(n).toPromise();return r===void 0?null:r.value}function W1(t,e){const n=fm(t,!0).delete(e);return new Pd(n).toPromise()}const iB=800,aB=3;class zN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await s0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>aB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hm._getInstance(eB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await J6(),!this.activeServiceWorker)return;this.sender=new K6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Z6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await s0();return await U1(e,lp,"1"),await W1(e,lp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>U1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>rB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>W1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=fm(i,!1).getAll();return new Pd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zN.type="LOCAL";const sB=zN;new kd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t,e){return e?Yi(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy extends _y{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oB(t){return DN(t.auth,new Iy(t),t.bypassAuthState)}function lB(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),O6(n,new Iy(t),t.bypassAuthState)}async function cB(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),F6(n,new Iy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oB;case"linkViaPopup":case"linkViaRedirect":return cB;case"reauthViaPopup":case"reauthViaRedirect":return lB;default:Zr(this.auth,"internal-error")}}resolve(e){oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB=new kd(2e3,1e4);async function dB(t,e,n){if(si(t.app))return Promise.reject(ci(t,"operation-not-supported-in-this-environment"));const r=ps(t);$O(t,e,Ey);const i=VN(r,n);return new Bs(r,"signInViaPopup",e,i).executeNotNull()}class Bs extends UN{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Bs.currentPopupAction&&Bs.currentPopupAction.cancel(),Bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){oa(this.filter.length===1,"Popup operations only handle one event");const e=Ty();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uB.get())};e()}}Bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB="pendingRedirect",Kh=new Map;class fB extends UN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kh.get(this.auth._key());if(!e){try{const r=await pB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kh.set(this.auth._key(),e)}return this.bypassAuthState||Kh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pB(t,e){const n=AB(e),r=gB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function mB(t,e){Kh.set(t._key(),e)}function gB(t){return Yi(t._redirectPersistence)}function AB(t){return Xh(hB,t.config.apiKey,t.name)}async function vB(t,e,n=!1){if(si(t.app))return Promise.reject(ea(t));const r=ps(t),i=VN(r,e),s=await new fB(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB=10*60*1e3;class xB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!WN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ci(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yB&&this.cachedEventUids.clear(),this.cachedEventUids.has(G1(e))}saveEventToCache(e){this.cachedEventUids.add(G1(e)),this.lastProcessedEventTime=Date.now()}}function G1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function WN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wB(t,e={}){return fs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CB=/^https?/;async function EB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await wB(t);for(const n of e)try{if(TB(n))return}catch{}Zr(t,"unauthorized-domain")}function TB(t){const e=r0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!CB.test(n))return!1;if(_B.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB=new kd(3e4,6e4);function q1(){const t=Di().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function NB(t){return new Promise((e,n)=>{var r,i,a;function s(){q1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{q1(),n(ci(t,"network-request-failed"))},timeout:IB.get()})}if(!((i=(r=Di().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Di().gapi)===null||a===void 0)&&a.load)s();else{const o=x6("iframefcb");return Di()[o]=()=>{gapi.load?s():n(ci(t,"network-request-failed"))},NN(`${y6()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Yh=null,e})}let Yh=null;function SB(t){return Yh=Yh||NB(t),Yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=new kd(5e3,15e3),DB="__/auth/iframe",RB="emulator/auth/iframe",PB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LB(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xy(e,RB):`https://${t.config.authDomain}/${DB}`,r={apiKey:e.apiKey,appName:t.name,v:Xl},i=jB.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${vd(r).slice(1)}`}async function MB(t){const e=await SB(t),n=Di().gapi;return Ke(n,t,"internal-error"),e.open({where:document.body,url:LB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PB,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=ci(t,"network-request-failed"),o=Di().setTimeout(()=>{a(s)},kB.get());function l(){Di().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OB=500,BB=600,zB="_blank",VB="http://localhost";class $1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UB(t,e,n,r=OB,i=BB){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},FB),{width:r.toString(),height:i.toString(),top:a,left:s}),c=Sn().toLowerCase();n&&(o=bN(c)?zB:n),yN(c)&&(e=e||VB,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[m,g])=>`${p}${m}=${g},`,"");if(u6(c)&&o!=="_self")return WB(e||"",o),new $1(null);const h=window.open(e||"",o,d);Ke(h,t,"popup-blocked");try{h.focus()}catch{}return new $1(h)}function WB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB="__/auth/handler",qB="emulator/auth/handler",$B=encodeURIComponent("fac");async function H1(t,e,n,r,i,a){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xl,eventId:i};if(e instanceof Ey){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",x4(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))s[d]=h}if(e instanceof Rd){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await t._getAppCheckToken(),c=l?`#${$B}=${encodeURIComponent(l)}`:"";return`${HB(t)}?${vd(o).slice(1)}${c}`}function HB({config:t}){return t.emulator?xy(t,qB):`https://${t.authDomain}/${GB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="webStorageSupport";class QB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MN,this._completeRedirectFn=vB,this._overrideRedirectResult=mB}async _openPopup(e,n,r,i){var a;oa((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await H1(e,n,r,r0(),i);return UB(e,s,Ty())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await H1(e,n,r,r0(),i);return Y6(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(oa(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await MB(e),r=new xB(e);return n.register("authEvent",i=>(Ke(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gg,{type:gg},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[gg];s!==void 0&&n(!!s),Zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=EB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return TN()||xN()||wy()}}const XB=QB;var Q1="@firebase/auth",X1="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JB(t){Dl(new no("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;Ke(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IN(t)},c=new g6(r,i,a,l);return E6(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dl(new no("auth-internal",e=>{const n=ps(e.getProvider("auth").getImmediate());return(r=>new KB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qa(Q1,X1,YB(t)),Qa(Q1,X1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB=5*60,ez=YE("authIdTokenMaxAge")||ZB;let K1=null;const tz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ez)return;const i=n==null?void 0:n.token;K1!==i&&(K1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function nz(t=rT()){const e=Sv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=C6(t,{popupRedirectResolver:XB,persistence:[sB,Q6,MN]}),r=YE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=tz(a.toString());W6(n,s,()=>s(n.currentUser)),U6(n,o=>s(o))}}const i=XE("auth");return i&&T6(n,`http://${i}`),n}function rz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}A6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=ci("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",rz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JB("Browser");const iz={apiKey:"AIzaSyDbqP5rpbIHRRghF3GgzgWXaKz3Scjo2fs",authDomain:"project-9d27e.firebaseapp.com",projectId:"project-9d27e",storageBucket:"project-9d27e.firebasestorage.app",messagingSenderId:"597870661336",appId:"1:597870661336:web:8b01fca47052e0d0a491ad"},GN=nT(iz),at=QI(GN),Tc=nz(GN);KI(at).catch(t=>{console.warn("Firestore persistence error:",t.code)});const ys="projects",Oi="tasks",ko="resources",xs="clients",vi=t=>{if(!t||typeof t!="object")return t;const e={...t};return Object.keys(e).forEach(n=>{e[n]===void 0&&delete e[n]}),e},up=t=>{const e=new Date(t);for(;;){const n=e.getDay();if(!(n===6||n===0)&&!Pp(e))break;e.setDate(e.getDate()+1)}return e},az=(t,e)=>{const n=Math.ceil(e/864e5);let r=new Date(t),i=0;for(;i<n;){r.setDate(r.getDate()+1);const a=r.getDay();!(a===0||a===6)&&!Pp(r)&&i++}return n===0&&e>0,r},gt={subscribeClients:(t,e,n)=>{let r=_n(at,xs);return n!=="master"&&e&&(r=Ea(_n(at,xs),zo("ownerId","==",e))),nl(r,i=>{const a=i.docs.map(s=>{var l;const o=s.data();return{...o,id:s.id,createdAt:(l=o.createdAt)!=null&&l.toDate?o.createdAt.toDate():o.createdAt?new Date(o.createdAt):void 0}});t(a)})},createClient:async t=>xa(_n(at,xs),vi(t)),updateClient:async(t,e)=>{const n=Cn(at,xs,t);return Da(n,vi(e))},deleteClient:async t=>Vc(Cn(at,xs,t)),subscribeProjects:(t,e,n)=>{let r=_n(at,ys);return n!=="master"&&e&&(r=Ea(_n(at,ys),zo("ownerId","==",e))),nl(r,i=>{const a=i.docs.map(s=>{var l,c;const o=s.data();return{...o,id:s.id,startDate:(l=o.startDate)!=null&&l.toDate?o.startDate.toDate():o.startDate?new Date(o.startDate):new Date,createdAt:(c=o.createdAt)!=null&&c.toDate?o.createdAt.toDate():o.createdAt?new Date(o.createdAt):new Date}});t(a)})},createProject:async t=>xa(_n(at,ys),vi(t)),updateProject:async(t,e)=>{const n=Cn(at,ys,t);return Da(n,vi(e))},deleteProject:async t=>Vc(Cn(at,ys,t)),subscribeTasks:(t,e)=>{const n=Ea(_n(at,Oi),zo("projectId","==",t));return nl(n,r=>{const i=r.docs.map(a=>{var o,l;const s=a.data();return{id:a.id,...s,start:(o=s.start)!=null&&o.toDate?s.start.toDate():new Date(s.start),end:(l=s.end)!=null&&l.toDate?s.end.toDate():new Date(s.end),realStart:s.realStart?s.realStart.toDate?s.realStart.toDate():new Date(s.realStart):void 0,realEnd:s.realEnd?s.realEnd.toDate?s.realEnd.toDate():new Date(s.realEnd):void 0}});i.sort((a,s)=>(a.order??0)-(s.order??0)),e(i)})},addTask:async t=>{const e=vi(t);if(e.id){const n=Cn(at,Oi,e.id);return await ip(n,e),n}else return xa(_n(at,Oi),e)},updateTask:async(t,e)=>{const n=Cn(at,Oi,t);return Da(n,vi(e))},deleteTask:async t=>Vc(Cn(at,Oi,t)),deleteAllTasksForProject:async t=>{const e=Ea(_n(at,Oi),zo("projectId","==",t)),n=await zc(e),r=Uc(at);return n.docs.forEach(i=>{r.delete(i.ref)}),r.commit()},batchUpdateTasks:async t=>{const e=Uc(at);return t.forEach(({id:n,data:r})=>{const i=Cn(at,Oi,n);e.update(i,vi(r))}),e.commit()},replaceProjectTasks:async(t,e)=>{const n=Ea(_n(at,Oi),zo("projectId","==",t)),r=await zc(n),i=[];for(let l=0;l<r.docs.length;l+=400){const c=Uc(at);r.docs.slice(l,l+400).forEach(d=>c.delete(d.ref)),i.push(c.commit())}await Promise.all(i);const a=[];for(let l=0;l<e.length;l+=400)a.push(e.slice(l,l+400));let s=null,o=null;for(const l of a){const c=Uc(at);l.forEach(d=>{const h=Cn(at,Oi,d.id),p={...d,projectId:t};if(c.set(h,vi(p)),d.type!=="project"&&d.start&&d.end){const m=new Date(d.start),g=new Date(d.end);(!s||m<s)&&(s=m),(!o||g>o)&&(o=g)}}),await c.commit()}if(s&&o){const l=Cn(at,ys,t);await Da(l,{startDate:s,endDate:o})}},recalculateProjectSchedule:async(t,e)=>{const n=new Map;e.forEach(a=>n.set(a.id,{...a}));let r=!1;const i=[];for(let a=0;a<e.length+2;a++){let s=!1;for(const o of e){const l=n.get(o.id);if(!l.dependencies||l.dependencies.length===0)continue;let c=0;if(l.dependencies.forEach(d=>{const h=n.get(d);if(h&&h.end){const p=new Date(h.end).getTime();p>c&&(c=p)}}),c>0){const d=new Date(l.start).getTime(),h=new Date(l.end).getTime(),p=new Date(c),m=up(p),g=new Date(d),A=g.getDay()===0||g.getDay()===6;if(d<m.getTime()||A){const x=d<m.getTime()?m:up(g),v=h-d,y=az(x,v);l.start=x,l.end=y,n.set(l.id,l),s=!0,r=!0}}}if(!s)break}return r&&(e.forEach(a=>{const s=n.get(a.id);(new Date(s.start).getTime()!==new Date(a.start).getTime()||new Date(s.end).getTime()!==new Date(a.end).getTime())&&i.push({id:s.id,data:{start:s.start,end:s.end}})}),i.length>0)?(console.log(`Rescheduling (WorkDays): Updating ${i.length} tasks.`),await gt.batchUpdateTasks(i),i):[]},subscribeResources:t=>nl(_n(at,ko),e=>{const n=e.docs.map(r=>({id:r.id,...r.data()}));t(n)}),addResource:async t=>xa(_n(at,ko),vi(t)),updateResource:async(t,e)=>{const n=Cn(at,ko,t);return Da(n,vi(e))},deleteResource:async t=>Vc(Cn(at,ko,t)),seedInitialData:async()=>{if(!(await zc(_n(at,ko))).empty)return;const e=[{name:"Ana Silva",role:"Product Owner",hourlyRate:150,avatarUrl:""},{name:"Carlos Dev",role:"FullStack Dev",hourlyRate:100,avatarUrl:""},{name:"Marina UI",role:"Designer",hourlyRate:110,avatarUrl:""}],n=[];for(const i of e){const a=await xa(_n(at,ko),i);n.push({...i,id:a.id})}const r=await xa(_n(at,ys),{name:"Plataforma SaaS v1",description:"Desenvolvimento do MVP",startDate:new Date,createdAt:new Date});r.id,new Date(Date.now()+864e5*2),r.id,new Date(Date.now()+864e5*5),n[2].id},addKnowledgeEntry:async(t,e)=>{const n=_n(at,xs,t,"knowledgeBase");return xa(n,{content:e,createdAt:new Date})},getKnowledgeBase:async t=>{const e=_n(at,xs,t,"knowledgeBase"),n=Ea(e);return(await zc(n)).docs.map(i=>i.data().content)}},sz=({resources:t,isConnected:e})=>{const[n,r]=F.useState({name:"",role:"",hourlyRate:0}),[i,a]=F.useState(!1),[s,o]=F.useState(null),[l,c]=F.useState({name:"",role:"",hourlyRate:0}),d=A=>{o(A.id),c({name:A.name,role:A.role,hourlyRate:A.hourlyRate})},h=()=>{o(null),c({name:"",role:"",hourlyRate:0})},p=async()=>{if(s)try{await gt.updateResource(s,l),o(null)}catch(A){console.error("Error updating resource:",A)}},m=async A=>{if(A.preventDefault(),!e){alert("Conecte-se ao Firebase para gerenciar membros da equipe.");return}if(n.name)try{await gt.addResource(n),r({name:"",role:"",hourlyRate:0}),a(!1)}catch(x){console.error("Error adding resource:",x)}},g=async A=>{e&&confirm("Excluir este membro da equipe? As tarefas atribudas a ele permanecero, mas perdero o vnculo de atribuio.")&&await gt.deleteResource(A)};return u.jsxs("div",{className:"w-full max-w-5xl mx-auto animate-in fade-in duration-300",children:[u.jsx("div",{className:"flex items-center justify-between mb-8",children:u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[u.jsx(Za,{className:"text-indigo-600",size:28}),"Gesto da Equipe"]}),u.jsx("p",{className:"text-gray-500 mt-1",children:"Adicione ou remova membros do projeto e gerencie seus custos."})]})}),u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[u.jsxs("div",{className:"grid grid-cols-12 gap-4 p-4 bg-gray-50 border-b border-gray-200 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:[u.jsx("div",{className:"col-span-5 pl-2",children:"Membro"}),u.jsx("div",{className:"col-span-4",children:"Funo"}),u.jsx("div",{className:"col-span-2",children:"Taxa/Hora"}),u.jsx("div",{className:"col-span-1 text-right",children:"Aes"})]}),u.jsxs("div",{className:"divide-y divide-gray-100",children:[t.map(A=>u.jsx("div",{className:"grid grid-cols-12 gap-4 p-4 items-center hover:bg-gray-50 transition-colors group",children:s===A.id?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center shrink-0",children:u.jsx(Ff,{size:20,className:"text-gray-400"})}),u.jsx("input",{autoFocus:!0,className:"w-full px-2 py-1 border border-indigo-300 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500",value:l.name,onChange:x=>c({...l,name:x.target.value})})]}),u.jsx("div",{className:"col-span-4",children:u.jsx("input",{className:"w-full px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm",value:l.role,onChange:x=>c({...l,role:x.target.value}),placeholder:"Funo"})}),u.jsxs("div",{className:"col-span-2 relative",children:[u.jsx(gl,{size:14,className:"absolute left-2 top-2 text-gray-400"}),u.jsx("input",{type:"number",className:"w-full pl-6 pr-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm",value:l.hourlyRate,onChange:x=>c({...l,hourlyRate:parseFloat(x.target.value)})})]}),u.jsxs("div",{className:"col-span-1 text-right flex items-center justify-end gap-1",children:[u.jsx("button",{onClick:p,className:"p-1 text-green-600 hover:bg-green-50 rounded",children:u.jsx(jp,{size:18})}),u.jsx("button",{onClick:h,className:"p-1 text-red-500 hover:bg-red-50 rounded",children:u.jsx(Wr,{size:18})})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold shrink-0",children:A.name.charAt(0).toUpperCase()}),u.jsx("span",{className:"font-medium text-gray-900",children:A.name})]}),u.jsxs("div",{className:"col-span-4 text-gray-600 flex items-center gap-2",children:[u.jsx(qb,{size:14,className:"text-gray-400"}),A.role]}),u.jsxs("div",{className:"col-span-2 text-green-600 font-medium flex items-center gap-1",children:[u.jsx(gl,{size:14}),A.hourlyRate,"/h"]}),u.jsxs("div",{className:"col-span-1 text-right flex items-center justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx("button",{onClick:()=>d(A),className:"text-gray-400 hover:text-indigo-600 p-2 transition-colors",title:"Editar",disabled:!e,children:u.jsx(Ou,{size:18})}),u.jsx("button",{onClick:()=>g(A.id),className:"text-gray-400 hover:text-red-500 p-2 transition-colors",title:"Remover",disabled:!e,children:u.jsx(fi,{size:18})})]})]})},A.id)),t.length===0&&u.jsx("div",{className:"text-center py-12 text-gray-400",children:"Nenhum membro da equipe encontrado."})]})]}),u.jsx("div",{className:"mt-8",children:i?u.jsxs("form",{onSubmit:m,className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm animate-in slide-in-from-top-2",children:[u.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[u.jsx(Yr,{className:"text-indigo-600",size:20}),"Adicionar Novo Membro"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Nome"}),u.jsxs("div",{className:"relative",children:[u.jsx(Ff,{className:"absolute left-3 top-2.5 text-gray-400",size:16}),u.jsx("input",{type:"text",placeholder:"Nome do Membro",className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:outline-none",value:n.name,onChange:A=>r({...n,name:A.target.value}),required:!0})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Funo"}),u.jsxs("div",{className:"relative",children:[u.jsx(qb,{className:"absolute left-3 top-2.5 text-gray-400",size:16}),u.jsx("input",{type:"text",placeholder:"ex: Desenvolvedor Snior",className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:border-indigo-500",value:n.role,onChange:A=>r({...n,role:A.target.value})})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Taxa/Hora"}),u.jsxs("div",{className:"relative",children:[u.jsx(gl,{className:"absolute left-3 top-2.5 text-gray-400",size:16}),u.jsx("input",{type:"number",placeholder:"0.00",className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:border-indigo-500",value:n.hourlyRate,onChange:A=>r({...n,hourlyRate:parseFloat(A.target.value)})})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 mt-6 border-t border-gray-100 pt-4",children:[u.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 font-medium",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"px-6 py-2 text-sm bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 shadow-md transform hover:scale-105 transition-all font-medium",children:"Adicionar Membro"})]})]}):u.jsxs("button",{onClick:()=>a(!0),disabled:!e,className:"group w-full py-4 border-2 border-dashed border-gray-300 rounded-xl text-gray-500 hover:border-indigo-500 hover:text-indigo-600 hover:bg-indigo-50 transition-all flex items-center justify-center gap-2 font-medium disabled:opacity-50 disabled:cursor-not-allowed bg-white",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 group-hover:bg-indigo-100 flex items-center justify-center transition-colors",children:u.jsx(Yr,{size:18})}),e?"Adicionar Novo Membro da Equipe":"Conecte ao Banco para Adicionar"]})})]})},oz=(t,e)=>{let n=0;const r=new Date(t),i=new Date(e);for(r.setHours(0,0,0,0),i.setHours(0,0,0,0);r<=i;){const a=r.getDay();a!==0&&a!==6&&n++,r.setDate(r.getDate()+1)}return n>0?n:1},lz=({project:t,tasks:e,onUpdateTeam:n})=>{const[r,i]=F.useState([]);F.useEffect(()=>{t.teamStructure?i(t.teamStructure):i([])},[t.teamStructure]);const a=(d,h)=>{const p=parseFloat(h),m=[...r];m[d]={...m[d],hourlyRate:isNaN(p)?0:p},i(m)},s=()=>{n(r),alert(`Dados salvos! (${r.length} papis). Agora os valores sero aplicados ao selecionar o papel na tarefa.`)},o=d=>{const h=e.filter(m=>m.assignedResource===d);let p=0;return h.forEach(m=>{const g=oz(m.start,m.end);p+=g*8}),{totalHours:p,count:h.length}};if(r.length===0)return u.jsxs("div",{className:"flex flex-col items-center justify-center h-[400px] text-gray-500 bg-white rounded-xl border border-gray-100",children:[u.jsx(Za,{size:48,className:"mb-4 text-gray-300"}),u.jsx("p",{children:"Nenhuma estrutura de equipe definida para este projeto."}),u.jsx("p",{className:"text-sm",children:"Gere uma estimativa com IA para obter sugestes."})]});const l=r.reduce((d,h)=>{const{totalHours:p}=o(h.role);return d+p*(h.hourlyRate||0)},0),c=r.reduce((d,h)=>d+o(h.role).totalHours,0);return u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden animate-in fade-in duration-300",children:[u.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[u.jsx(Za,{className:"text-indigo-600",size:20}),"Estrutura de Equipe & Custos"]}),u.jsxs("p",{className:"text-sm text-gray-500 flex gap-4 mt-1",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(fd,{size:12})," ",c,"h Totais"]}),u.jsxs("span",{className:"flex items-center gap-1 font-semibold text-indigo-700 bg-indigo-50 px-2 py-0.5 rounded",children:[u.jsx(gl,{size:12})," Custo Estimado: R$ ",l.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),u.jsxs("button",{onClick:s,className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg font-medium transition-colors shadow-sm",children:[u.jsx(jp,{size:16}),"Salvar Alteraes"]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50 text-gray-500 text-xs uppercase tracking-wider border-b border-gray-200",children:[u.jsx("th",{className:"p-4 font-semibold",children:"Profissional / Papel"}),u.jsx("th",{className:"p-4 font-semibold text-center w-28",children:"Horas Totais"}),u.jsx("th",{className:"p-4 font-semibold w-full",children:"Responsabilidades Chave"}),u.jsx("th",{className:"p-4 font-semibold w-32",children:"Taxa / Hora"}),u.jsx("th",{className:"p-4 font-semibold w-32 text-right",children:"Custo Total"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-100",children:r.map((d,h)=>{const{totalHours:p}=o(d.role),m=p*(d.hourlyRate||0);return u.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[u.jsx("td",{className:"p-4 font-medium text-indigo-900",children:d.role}),u.jsx("td",{className:"p-4 text-center text-gray-700 font-mono text-sm",children:u.jsxs("div",{className:"bg-gray-100 py-1 px-2 rounded",children:[p,"h"]})}),u.jsx("td",{className:"p-4",children:u.jsx("div",{className:"flex flex-wrap gap-1",children:d.responsibilities.map((g,A)=>u.jsx("span",{className:"px-2 py-0.5 bg-indigo-50 text-indigo-700 rounded text-xs border border-indigo-100",children:g},A))})}),u.jsx("td",{className:"p-4",children:u.jsxs("div",{className:"relative group min-w-[120px]",children:[u.jsx(gl,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors pointer-events-none"}),u.jsx("input",{type:"number",value:d.hourlyRate||"",onChange:g=>a(h,g.target.value),placeholder:"0.00",className:"w-full pl-8 pr-3 py-2 border border-gray-200 rounded-lg text-sm text-gray-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all outline-none bg-white hover:border-gray-300"})]})}),u.jsxs("td",{className:"p-4 text-right font-medium text-gray-900",children:["R$ ",m.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]},h)})})]})}),u.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-100 text-xs text-center text-gray-500 flex items-center justify-center gap-2",children:[u.jsx(lE,{size:12}),"Clculo baseado em: (Dias teis das Tarefas x 8h) x Taxa Horria."]})]})},qN=({id:t,initialValue:e,placeholder:n,isRich:r=!1,label:i,className:a=""})=>{const[s,o]=F.useState(!1),[l,c]=F.useState(e),[d,h]=F.useState(e);F.useEffect(()=>{const g=localStorage.getItem(`antigravity_text_${t}`);g&&(c(g),h(g))},[t]);const p=()=>{h(l),localStorage.setItem(`antigravity_text_${t}`,l),o(!1)},m=()=>{c(d),o(!1)};return s?u.jsxs("div",{className:`relative bg-white border border-indigo-200 rounded-lg shadow-sm p-4 animate-in fade-in zoom-in-95 duration-200 ${a}`,children:[i&&u.jsx("label",{className:"block text-xs font-bold text-indigo-600 uppercase tracking-wider mb-2",children:i}),r?u.jsx("textarea",{className:"w-full text-gray-800 text-sm p-2 border border-gray-200 rounded-md focus:ring-2 focus:ring-indigo-500 min-h-[120px]",value:l,onChange:g=>c(g.target.value),placeholder:n,autoFocus:!0}):u.jsx("input",{type:"text",className:"w-full text-gray-800 font-medium text-lg p-2 border-b-2 border-indigo-500 focus:outline-none",value:l,onChange:g=>c(g.target.value),placeholder:n,autoFocus:!0}),u.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[u.jsx("button",{onClick:m,className:"p-1 text-gray-400 hover:text-red-500 transition-colors",children:u.jsx(Wr,{size:18})}),u.jsx("button",{onClick:p,className:"p-1 text-indigo-600 hover:text-indigo-800 transition-colors bg-indigo-50 rounded-full",children:u.jsx(ml,{size:18})})]})]}):u.jsxs("div",{onClick:()=>o(!0),className:`group cursor-pointer relative border border-transparent hover:border-gray-200 hover:bg-gray-50 rounded-lg p-2 -ml-2 transition-all ${a}`,children:[i&&u.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:i}),u.jsx("div",{className:`${r?"text-sm text-gray-600 leading-relaxed whitespace-pre-wrap":"text-lg font-medium text-gray-800"}`,children:d||u.jsx("span",{className:"text-gray-400 italic",children:n||"Clique para adicionar texto..."})}),u.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx(Ou,{size:14,className:"text-gray-400"})})]})},cz=({tasks:t,resources:e})=>{const n=t.filter(h=>h.type!=="project"),r=n.filter(h=>h.progress===100).length;n.filter(h=>h.progress>0&&h.progress<100).length,n.filter(h=>h.progress===0).length,n.length;const i=n.filter(h=>h.status==="blocked"||h.name.toLowerCase().includes("[block]")),a=new Date,s=new Date;s.setDate(a.getDate()+(5-a.getDay()));const o=n.filter(h=>h.progress<100&&h.end<=s&&h.end>=a),l=n.filter(h=>h.progress<100&&Ub(h.end)).length,c=e.map(h=>{const p=n.filter(m=>m.resourceId===h.id&&m.progress<100&&m.progress>0);return{...h,activeCount:p.length,activeTasks:p}}).sort((h,p)=>p.activeCount-h.activeCount),d=c.filter(h=>h.activeCount>2);return u.jsxs("div",{className:"space-y-6 lg:p-4 animate-in fade-in duration-500",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start justify-between",children:[u.jsxs("div",{className:"w-full md:w-1/3",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Sala de Guerra (War Room)"}),u.jsx("p",{className:"text-gray-500 text-sm",children:"Painel de execuo ttica diria e resoluo de bloqueios."})]}),u.jsxs("div",{className:"w-full md:w-2/3 bg-blue-50 border border-blue-100 rounded-xl p-4 relative",children:[u.jsx("div",{className:"absolute top-4 right-4",children:u.jsx(Oj,{size:16,className:"text-blue-400"})}),u.jsx(qN,{id:"daily_log",label:"Dirio de Bordo (Status do Dia)",initialValue:"",placeholder:"Escreva aqui o status rpido do dia. Ex: 'Deploy da API instvel pela manh. Equipe focada em hotfix.'",className:"bg-transparent border-none p-0"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:`p-5 rounded-xl border border-gray-100 shadow-sm flex items-center justify-between ${i.length>0?"bg-red-50 border-red-200":"bg-white"}`,children:[u.jsxs("div",{children:[u.jsx("p",{className:`text-sm font-bold uppercase tracking-wider ${i.length>0?"text-red-700":"text-gray-500"}`,children:"Bloqueios Ativos"}),u.jsx("h3",{className:`text-3xl font-bold mt-1 ${i.length>0?"text-red-700":"text-gray-900"}`,children:i.length})]}),u.jsx("div",{className:`p-3 rounded-full ${i.length>0?"bg-red-200 text-red-700":"bg-gray-100 text-gray-400"}`,children:u.jsx(bA,{size:24})})]}),u.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider",children:"Metas da Semana"}),u.jsx("h3",{className:"text-3xl font-bold text-gray-900 mt-1",children:o.length}),u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Tarefas para entregar at sexta"})]}),u.jsx("div",{className:"p-3 bg-indigo-50 rounded-full text-indigo-600",children:u.jsx(uz,{})})]}),u.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider",children:"Entregas Totais"}),u.jsx("h3",{className:"text-3xl font-bold text-gray-900 mt-1",children:r})]}),u.jsx("div",{className:"p-3 bg-green-50 rounded-full text-green-600",children:u.jsx(_A,{size:24})})]}),u.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider",children:"Em Atraso"}),u.jsx("h3",{className:`text-3xl font-bold mt-1 ${l>0?"text-amber-600":"text-gray-900"}`,children:l})]}),u.jsx("div",{className:"p-3 bg-gray-50 rounded-full text-gray-400",children:u.jsx(fd,{size:24})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-xl border border-red-100 shadow-sm overflow-hidden",children:[u.jsxs("div",{className:"bg-red-50 px-6 py-4 border-b border-red-100 flex justify-between items-center",children:[u.jsxs("h3",{className:"font-bold text-red-900 flex items-center gap-2",children:[u.jsx(ru,{size:18}),"Prioridade Alta: Bloqueios & Atrasos"]}),u.jsxs("span",{className:"text-xs font-bold bg-white text-red-700 px-2 py-1 rounded shadow-sm",children:[i.length+l," Itens"]})]}),u.jsxs("div",{className:"divide-y divide-gray-100",children:[[...i,...n.filter(h=>Ub(h.end)&&h.progress<100&&!i.includes(h))].slice(0,5).map(h=>{var p;return u.jsxs("div",{className:"p-4 hover:bg-gray-50 flex items-center justify-between group",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${h.status==="blocked"?"bg-red-500 animate-pulse":"bg-amber-500"}`}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:h.name}),u.jsxs("p",{className:"text-xs text-gray-500",children:[((p=e.find(m=>m.id===h.resourceId))==null?void 0:p.name)||"Sem dono"," ",u.jsx("span",{className:"ml-1 text-red-500",children:h.status==="blocked"?"BLOQUEADO":`${Av(new Date,h.end)} dias atrasado`})]})]})]}),u.jsx("button",{className:"text-xs font-medium text-indigo-600 hover:text-indigo-800 opacity-0 group-hover:opacity-100 transition-opacity",children:"Resolver"})]},h.id)}),i.length+l===0&&u.jsxs("div",{className:"p-8 text-center text-gray-400 text-sm",children:[u.jsx(_A,{size:32,className:"mx-auto mb-2 text-green-300"}),"Nenhuma urgncia crtica. Bom trabalho!"]})]})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[u.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:u.jsx("h3",{className:"font-bold text-gray-800",children:"Playlist da Semana (Entregas Curtas)"})}),u.jsx("div",{className:"divide-y divide-gray-100",children:o.length>0?o.map(h=>{var p;return u.jsxs("div",{className:"p-4 hover:bg-gray-50 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"w-8 h-8 rounded-full border-2 border-gray-200 flex items-center justify-center text-gray-300 text-xs font-bold",children:[h.progress,"%"]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-800 text-sm",children:h.name}),u.jsx("p",{className:"text-xs text-gray-500",children:un(h.end,"EEEE (dd/MM)",{locale:Hi})})]})]}),u.jsx("div",{className:"flex -space-x-2",children:u.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 border border-white flex items-center justify-center text-[10px] text-gray-500 font-bold",children:(((p=e.find(m=>m.id===h.resourceId))==null?void 0:p.name)||"?").charAt(0)})})]},h.id)}):u.jsx("div",{className:"p-6 text-center text-gray-400 text-sm italic",children:"Sem entregas agendadas para o resto da semana."})})]})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[u.jsxs("h3",{className:"font-bold text-gray-800 mb-6 flex items-center gap-2",children:[u.jsx(Za,{size:18}),"Radar da Equipe"]}),u.jsxs("div",{className:"space-y-6",children:[d.length>0&&u.jsxs("div",{className:"bg-amber-50 p-3 rounded-lg border border-amber-100 mb-4",children:[u.jsxs("p",{className:"text-xs font-bold text-amber-800 uppercase mb-1 flex items-center gap-1",children:[u.jsx(bA,{size:12})," Sobrecarga Detectada"]}),u.jsxs("p",{className:"text-xs text-amber-700",children:[d.map(h=>h.name.split(" ")[0]).join(", ")," tem mais de 2 tarefas ativas simultneas."]})]}),c.map(h=>u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 text-indigo-700 flex items-center justify-center font-bold text-xs",children:h.name.charAt(0)}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-bold text-gray-700",children:h.name}),u.jsx("p",{className:"text-xs text-gray-400",children:h.role})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:`text-lg font-bold ${h.activeCount>2?"text-amber-600":"text-gray-900"}`,children:h.activeCount}),u.jsx("span",{className:"text-xs text-gray-400 block",children:"ativas"})]})]}),h.activeTasks.length>0&&u.jsx("div",{className:"pl-10 space-y-1",children:h.activeTasks.map(p=>u.jsxs("div",{className:"text-[10px] text-gray-500 truncate flex items-center gap-1",children:[u.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-300"}),p.name]},p.id))}),u.jsx("div",{className:"w-full bg-gray-100 h-1 mt-3 rounded-full overflow-hidden",children:u.jsx("div",{className:`h-full ${h.activeCount>2?"bg-amber-400":"bg-green-400"}`,style:{width:`${Math.min(100,h.activeCount/5*100)}%`}})})]},h.id))]})]})]})]})},uz=()=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("circle",{cx:"12",cy:"12",r:"6"}),u.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),dz=({tasks:t,resources:e,onEditTask:n,isConnected:r,currentUser:i})=>{const[a,s]=F.useState(""),[o,l]=F.useState(new Set),c=k=>{const S=new Set(o);S.has(k)?S.delete(k):S.add(k),l(S)},d=(k,S)=>S==="project"?u.jsx(yv,{size:16,className:"text-indigo-500"}):k===100?u.jsx(_A,{size:16,className:"text-green-500"}):k>0?u.jsx(fd,{size:16,className:"text-amber-500"}):u.jsx(mj,{size:16,className:"text-gray-400"}),h=(k,S)=>S==="project"?"Grupo":k===100?"Concludo":k>0?"Em Andamento":"A Fazer",p=k=>e.find(S=>S.id===k),m=async(k,S)=>{k.stopPropagation(),r&&confirm("Tem certeza que deseja excluir esta tarefa?")&&await gt.deleteTask(S)},g=F.useMemo(()=>{const k=new Map,S=L=>{if(k.has(L))return k.get(L);const w=t.find(_=>_.id===L);if(!w)return{hours:0,cost:0,fte:0,rate:0};const T=t.filter(_=>_.parent===L);if(T.length>0){let _=0,D=0;T.forEach(B=>{const $=S(B.id);_+=$.hours,D+=$.cost});const j=Math.max(1,Math.abs(Lf(w.end,w.start))+1),N=_/(j*8),R=_>0?D/_:0,C={hours:_,cost:D,fte:N,rate:R};return k.set(L,C),C}else{const D=Math.max(1,Math.abs(Lf(w.end,w.start))+1)*8;let j=w.hourlyRate||0;if(!j&&w.resourceId){const B=e.find($=>$.id===w.resourceId);B&&(j=B.hourlyRate)}const N=D*j,C={hours:D,cost:N,fte:1,rate:j};return k.set(L,C),C}};return t.forEach(L=>S(L.id)),k},[t,e]),{rootTasks:A,getChildren:x}=F.useMemo(()=>{const k=L=>t.filter(w=>w.parent===L).sort((w,T)=>(w.order||0)-(T.order||0));return{rootTasks:t.filter(L=>!L.parent||!t.find(w=>w.id===L.parent)).sort((L,w)=>(L.order||0)-(w.order||0)),getChildren:k}},[t]),v=k=>k>=1e6?`R$ ${(k/1e6).toFixed(1)}M`:k>=1e3?`R$ ${(k/1e3).toFixed(1)}k`:`R$ ${k.toFixed(0)}`,y=(k,S=0)=>{var D,j;const L=x(k.id),w=L.length>0||k.type==="project",T=o.has(k.id),_=g.get(k.id)||{hours:0,cost:0,fte:0,rate:0};return a?null:u.jsxs(u.Fragment,{children:[u.jsxs("tr",{className:`
                        group transition-colors cursor-pointer border-b border-gray-50
                        ${k.type==="project"?"bg-gray-50 hover:bg-gray-100":"hover:bg-gray-50 bg-white"}
                    `,onClick:()=>n(k),children:[u.jsx("td",{className:"px-6 py-4 sticky left-0 bg-inherit z-10 shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)] min-w-[320px]",children:u.jsxs("div",{className:"flex items-center",style:{paddingLeft:`${S*24}px`},children:[w?u.jsx("button",{onClick:N=>{N.stopPropagation(),c(k.id)},className:"p-1 mr-2 text-gray-400 hover:text-indigo-600 rounded hover:bg-gray-200 transition-colors flex-shrink-0",children:T?u.jsx(ql,{size:14}):u.jsx(eo,{size:14})}):u.jsx("span",{className:"w-6 mr-2 inline-block flex-shrink-0"}),u.jsxs("div",{className:"truncate pr-4",children:[u.jsx("div",{className:`font-medium truncate ${k.type==="project"?"text-indigo-900 font-bold":"text-gray-900"}`,title:k.name,children:k.name}),u.jsxs("div",{className:"text-[10px] text-gray-400",children:[un(k.start,"d MMM",{locale:Hi})," - ",un(k.end,"d MMM",{locale:Hi})]})]})]})}),u.jsx("td",{className:"px-6 py-4 min-w-[140px]",children:u.jsxs("div",{className:"flex items-center gap-2",children:[d(k.progress,k.type),u.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full whitespace-nowrap ${k.type==="project"?"bg-indigo-100 text-indigo-700":k.progress===100?"bg-green-100 text-green-700":k.progress>0?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-600"}`,children:h(k.progress,k.type)})]})}),u.jsx("td",{className:"px-6 py-4 min-w-[160px]",children:k.resourceId?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-xs font-bold flex-shrink-0",children:(D=p(k.resourceId))==null?void 0:D.name.charAt(0)}),u.jsx("span",{className:"text-gray-700 text-xs truncate",children:(j=p(k.resourceId))==null?void 0:j.name})]}):u.jsx("span",{className:"text-gray-400 italic text-xs",children:"No Atribudo"})}),u.jsx("td",{className:"px-6 py-4 min-w-[100px] text-gray-600 text-xs",children:u.jsxs("span",{className:"font-mono bg-blue-50 text-blue-700 px-2 py-1 rounded",children:[_.hours,"h"]})}),u.jsx("td",{className:"px-6 py-4 min-w-[100px] text-gray-600 text-xs text-center",children:u.jsx("span",{className:"font-mono bg-purple-50 text-purple-700 px-2 py-1 rounded",children:_.fte.toFixed(1)})}),u.jsx("td",{className:"px-6 py-4 min-w-[120px] text-gray-600 text-xs text-right",children:u.jsxs("span",{className:"font-mono text-emerald-700 font-medium whitespace-nowrap",children:["R$ ",_.rate.toFixed(0)]})}),u.jsx("td",{className:"px-6 py-4 min-w-[120px] text-gray-900 text-xs font-bold text-right",children:u.jsx("span",{className:"font-mono bg-amber-50 text-amber-800 px-2 py-1 rounded border border-amber-100 whitespace-nowrap",children:v(_.cost)})}),u.jsx("td",{className:"px-6 py-4 min-w-[100px] text-right",children:u.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx("button",{className:"p-2 text-gray-400 hover:text-indigo-600 transition-colors",title:"Editar Tarefa",children:u.jsx(Xb,{size:16})}),u.jsx("button",{className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Excluir Tarefa",disabled:!r,onClick:N=>m(N,k.id),children:u.jsx(fi,{size:16})})]})})]},k.id),T&&L.map(N=>y(N,S+1))]})},b=()=>{const k=t.filter(S=>S.name.toLowerCase().includes(a.toLowerCase()));return k.length===0?u.jsx("tr",{children:u.jsxs("td",{colSpan:9,className:"px-6 py-12 text-center text-gray-400",children:['Nenhuma tarefa encontrada com "',a,'".']})}):k.map(S=>{var w;const L=g.get(S.id)||{hours:0,cost:0,fte:0,rate:0};return u.jsxs("tr",{className:"group hover:bg-gray-50 transition-colors cursor-pointer border-b border-gray-50 bg-white",onClick:()=>n(S),children:[u.jsxs("td",{className:"px-6 py-4 sticky left-0 bg-white z-10 shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]",children:[u.jsx("div",{className:"font-medium text-gray-900",children:S.name}),u.jsxs("div",{className:"text-[10px] text-gray-400",children:[un(S.start,"d MMM",{locale:Hi})," - ",un(S.end,"d MMM",{locale:Hi})]})]}),u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[d(S.progress,S.type),u.jsx("span",{className:"text-xs text-gray-600 whitespace-nowrap",children:h(S.progress,S.type)})]})}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:"text-gray-500 text-xs whitespace-nowrap",children:((w=p(S.resourceId))==null?void 0:w.name)||"-"})}),u.jsxs("td",{className:"px-6 py-4 text-xs font-mono text-blue-600",children:[L.hours,"h"]}),u.jsx("td",{className:"px-6 py-4 text-xs font-mono text-purple-600 text-center",children:L.fte.toFixed(1)}),u.jsxs("td",{className:"px-6 py-4 text-xs font-mono text-right text-emerald-600",children:["R$ ",L.rate.toFixed(0)]}),u.jsx("td",{className:"px-6 py-4 text-xs font-mono text-right font-bold text-amber-700",children:v(L.cost)}),u.jsx("td",{className:"px-6 py-4 text-right",children:u.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx("button",{className:"p-2 text-gray-400 hover:text-indigo-600",children:u.jsx(Xb,{size:16})}),u.jsx("button",{onClick:T=>m(T,S.id),className:"p-2 text-gray-400 hover:text-red-500",children:u.jsx(fi,{size:16})})]})})]},S.id)})};return u.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"hidden md:block",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Lista Estruturada"}),u.jsx("p",{className:"text-gray-500",children:"Visualizao detalhada com mtricas financeiras e de esforo."})]}),u.jsxs("div",{className:"relative",children:[u.jsx(Lp,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),u.jsx("input",{type:"text",placeholder:"Filtrar tarefas...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:outline-none w-64",value:a,onChange:k=>s(k.target.value)})]})]}),u.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden flex flex-col",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm text-left whitespace-nowrap",children:[u.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium border-b border-gray-200 uppercase text-xs tracking-wider",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 min-w-[320px] sticky left-0 bg-gray-50 z-20 shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]",children:"Estrutura / Nome"}),u.jsx("th",{className:"px-6 py-3 min-w-[140px]",children:"Status"}),u.jsx("th",{className:"px-6 py-3 min-w-[160px]",children:"Responsvel"}),u.jsx("th",{className:"px-6 py-3 min-w-[100px]",children:"Horas teis"}),u.jsx("th",{className:"px-6 py-3 min-w-[100px] text-center",children:"FTEs / Ms"}),u.jsx("th",{className:"px-6 py-3 min-w-[120px] text-right",children:"Valor / h"}),u.jsx("th",{className:"px-6 py-3 min-w-[140px] text-right",children:"Custo Est."}),u.jsx("th",{className:"px-6 py-3 min-w-[100px] text-right",children:"Aes"})]})}),u.jsxs("tbody",{className:"divide-y divide-gray-100",children:[a?b():A.map(k=>y(k)),!a&&A.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:9,className:"px-6 py-12 text-center text-gray-400",children:"Nenhuma tarefa estruturada encontrada."})})]})]})})})]})},hz=({tasks:t,resources:e,projects:n=[],client:r,fiscalYear:i})=>{var k;const a=n.reduce((S,L)=>S+(L.grossValue||0),0),s=n.reduce((S,L)=>S+(L.netValue||0),0);t.reduce((S,L)=>{if(!L.resourceId)return S;const w=e.find(_=>_.id===L.resourceId);if(!w)return S;const T=Math.max(0,(L.end.getTime()-L.start.getTime())/(1e3*60*60));return S+T*w.hourlyRate},0);const o=n.length>0?n.reduce((S,L)=>S+(L.margin||0),0)/n.length:0,l=(k=r==null?void 0:r.budgets)==null?void 0:k.find(S=>S.fiscalYear===i),c=(l==null?void 0:l.margin)||0,[d,h]=F.useState([{id:1,title:"Lanamento MVP",date:"2024-03-30",description:"Validao de market-fit.",status:"completed"},{id:2,title:"Expanso Latam",date:"2025-08-15",description:"Escritrio no Mxico.",status:"future"}]),[p,m]=F.useState(!1),[g,A]=F.useState({title:"",date:"",description:""}),x=()=>{if(!g.title||!g.date)return;const S=new Date(g.date)>=new Date,L={id:g.id||Date.now(),title:g.title,date:g.date,description:g.description,status:S?"future":"completed"};let w;g.id?w=d.map(T=>T.id===g.id?L:T):w=[...d,L],h(w.sort((T,_)=>new Date(T.date).getTime()-new Date(_.date).getTime())),m(!1),A({title:"",date:"",description:""})},v=S=>{h(L=>L.filter(w=>w.id!==S)),m(!1)},y=()=>{A({title:"",date:"",description:""}),m(!0)},b=S=>{A(S),m(!0)};return u.jsx("div",{className:"space-y-2 animate-in fade-in duration-300 print:p-0 print:space-y-0",children:u.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-200 print:shadow-none print:border-none print:p-0",children:[u.jsxs("div",{className:"border-b border-gray-200 pb-6 mb-8 flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Relatrio Estratgico (Viso Executiva)"}),u.jsxs("p",{className:"text-gray-500",children:["Documento Confidencial  Gerado em ",un(new Date,"dd MMMM yyyy",{locale:Hi})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-2xl font-bold text-indigo-900 mb-1",children:"PROJETOS"}),u.jsx("div",{className:"text-sm text-gray-400 font-medium tracking-widest uppercase",children:"Estratgia & Inovao"})]})]}),u.jsx("div",{className:"mb-10 bg-slate-50 p-6 rounded-xl border border-slate-100",children:u.jsx(qN,{id:"exec_summary",label:"Sumrio Executivo (Anlise Mensal)",initialValue:"",placeholder:"Escreva aqui a anlise estratgica do perodo. (Ex: 'O portflio apresenta aderncia de 90% aos objetivos globais. A expanso asitica demandou 15% a mais de oramento no projeto Z...')",isRich:!0})}),u.jsxs("div",{className:"grid grid-cols-4 gap-6 mb-12 print:gap-4",children:[u.jsxs("div",{className:"p-5 bg-white rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group",children:[u.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:u.jsx(fE,{size:48,className:"text-emerald-600"})}),u.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Valor Contratado (YTD)"}),u.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["R$ ",a.toLocaleString("pt-BR",{minimumFractionDigits:0,maximumFractionDigits:0})]}),u.jsxs("div",{className:"text-xs text-emerald-600 font-medium mt-2 flex items-center",children:[u.jsx(lj,{size:12,className:"mr-1"})," +12% vs Ano Anterior"]})]}),u.jsxs("div",{className:"p-5 bg-white rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group",children:[u.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:u.jsx(to,{size:48,className:"text-blue-600"})}),u.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Margem Mdia Contratual"}),u.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[o.toFixed(1),"%"]}),u.jsxs("div",{className:"text-xs text-blue-600 font-medium mt-2",children:["Meta da Diretoria: ",c,"%"]})]}),u.jsxs("div",{className:"p-5 bg-white rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group",children:[u.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:u.jsx(xv,{size:48,className:"text-purple-600"})}),u.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Valor Lquido Realizado"}),u.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:["R$ ",s.toLocaleString("pt-BR",{minimumFractionDigits:0,maximumFractionDigits:0})]}),u.jsx("div",{className:"text-xs text-gray-400 font-medium mt-2",children:"Ajustado por Desvios"})]}),u.jsxs("div",{className:"p-5 bg-gray-900 rounded-xl border border-gray-800 shadow-sm text-white relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:u.jsx(uj,{size:48,className:"text-white"})}),u.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Projetos Ativos"}),u.jsx("div",{className:"text-3xl font-bold",children:n.length}),u.jsxs("div",{className:"text-xs text-gray-400 font-medium mt-2",children:[n.length," em Execuo / 0 Em Risco"]})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-3",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[u.jsx(to,{size:20,className:"text-indigo-600"}),"Roadmap de Marcos Estratgicos"]}),u.jsxs("button",{onClick:y,className:"text-sm flex items-center gap-1 text-indigo-600 font-medium hover:bg-indigo-50 px-3 py-1.5 rounded-md transition-colors print:hidden",children:[u.jsx(Yr,{size:16})," Novo Marco"]})]}),u.jsxs("div",{className:"relative pt-8 pb-4 overflow-x-auto",children:[u.jsx("div",{className:"absolute top-[4.5rem] left-0 right-0 h-1 bg-gray-100 rounded-full"}),u.jsxs("div",{className:"flex gap-8 min-w-max px-4 pb-4",children:[d.map(S=>{const L=S.status==="completed";return u.jsxs("div",{className:"relative flex flex-col items-center group min-w-[220px]",children:[u.jsx("div",{className:`mb-4 px-3 py-1 rounded-full text-xs font-bold shadow-sm z-10 ${L?"bg-emerald-100 text-emerald-700":"bg-blue-50 text-blue-600"}`,children:un(new Date(S.date),"MMM yyyy",{locale:Hi}).toUpperCase()}),u.jsx("div",{className:`w-6 h-6 rounded-full border-4 z-10 mb-4 transition-transform group-hover:scale-110 ${L?"bg-emerald-500 border-white shadow-md":"bg-white border-blue-400 shadow-sm"}`}),u.jsxs("div",{onClick:()=>b(S),className:`w-full bg-white p-4 rounded-xl border shadow-sm transition-all hover:shadow-md cursor-pointer relative group/card ${L?"border-emerald-100 border-l-4 border-l-emerald-500":"border-gray-100 border-l-4 border-l-blue-400 opacity-90"}`,children:[u.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover/card:opacity-100 transition-opacity flex gap-1",children:u.jsx("button",{onClick:w=>{w.stopPropagation(),v(S.id)},className:"p-1 hover:bg-red-50 text-gray-400 hover:text-red-500 rounded",title:"Excluir",children:u.jsx(fi,{size:14})})}),u.jsx("h4",{className:"font-bold text-gray-900 text-sm mb-1 pr-4",children:S.title}),u.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:S.description})]})]},S.id)}),u.jsxs("div",{className:"relative flex flex-col items-center min-w-[100px] justify-center pt-12 opacity-50 hover:opacity-100 cursor-pointer print:hidden",onClick:y,children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-50 border-2 border-dashed border-gray-300 flex items-center justify-center text-gray-400 hover:text-indigo-600 hover:border-indigo-400 transition-colors",children:u.jsx(Yr,{size:20})}),u.jsx("span",{className:"text-xs font-medium text-gray-400 mt-2",children:"Adicionar"})]})]})]})]}),p&&u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 print:hidden",style:{margin:0},children:u.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-100 flex justify-between items-center",children:[u.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:g.id?"Editar Marco":"Novo Marco Estratgico"}),u.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-red-500 transition-colors",children:u.jsx(Wr,{size:20})})]}),u.jsxs("div",{className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo"}),u.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"Ex: Expanso Norte",value:g.title,onChange:S=>A({...g,title:S.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Prevista"}),u.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none",value:g.date,onChange:S=>A({...g,date:S.target.value})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),u.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none h-24 resize-none",placeholder:"Breve descrio do objetivo...",value:g.description,onChange:S=>A({...g,description:S.target.value})})]})]}),u.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-between gap-3",children:[g.id?u.jsx("button",{onClick:()=>v(g.id),className:"px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg font-medium transition-colors text-sm",children:"Excluir"}):u.jsx("div",{}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-medium transition-colors",children:"Cancelar"}),u.jsx("button",{onClick:x,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors shadow-sm",children:g.id?"Salvar Alteraes":"Criar Marco"})]})]})]})}),u.jsx("div",{className:"mt-16 pt-6 border-t border-gray-100 text-center",children:u.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-widest font-bold",children:"Documento de Uso Interno - Diretoria"})})]})})},fz=({projects:t=[],onCreateProject:e,onUpdateProject:n,onSelectProject:r,onDeleteProject:i})=>{const[a,s]=F.useState(!1),[o,l]=F.useState(null),[c,d]=F.useState(""),[h,p]=F.useState(""),[m,g]=F.useState(""),[A,x]=F.useState(""),[v,y]=F.useState(""),[b,k]=F.useState(""),[S,L]=F.useState("");F.useEffect(()=>{var _,D,j,N,R;a&&(o?(d(o.name),p(o.description||""),g(((_=o.grossValue)==null?void 0:_.toString())||""),x(((D=o.taxRate)==null?void 0:D.toString())||""),y(((j=o.margin)==null?void 0:j.toString())||""),k(((N=o.deliveryDeviation)==null?void 0:N.toString())||""),L(((R=o.netValue)==null?void 0:R.toString())||"")):(d(""),p(""),g(""),x(""),y(""),k(""),L("")))},[a,o]);const w=_=>{_.preventDefault();const D={name:c,description:h,grossValue:parseFloat(m)||0,taxRate:parseFloat(A)||0,margin:parseFloat(v)||0,deliveryDeviation:parseFloat(b)||0,netValue:parseFloat(S)||0};o?n({...o,...D}):e({...D,startDate:new Date}),s(!1),l(null)},T=(_,D)=>{D.stopPropagation(),l(_),s(!0)};return u.jsxs("div",{className:"p-2 lg:p-6 animate-in fade-in duration-500",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4 lg:mb-8",children:[u.jsxs("div",{className:"hidden md:block",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Meus Projetos"}),u.jsx("p",{className:"text-gray-500 mt-2",children:"Gerencie seu portflio e crie novos empreendimentos."})]}),u.jsxs("button",{onClick:()=>{l(null),s(!0)},className:"w-full md:w-auto justify-center flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 lg:px-6 lg:py-3 rounded-xl shadow-lg shadow-indigo-200 transition-all hover:scale-105 active:scale-95 font-medium",children:[u.jsx(Yr,{size:20}),"Novo Projeto"]})]}),u.jsxs("div",{className:"mb-4 lg:mb-8 flex items-center gap-4 bg-white p-2 rounded-xl border border-gray-100 shadow-sm max-w-2xl",children:[u.jsx(Lp,{className:"text-gray-400 ml-3",size:20}),u.jsx("input",{type:"text",placeholder:"Buscar projetos...",className:"flex-1 bg-transparent border-none focus:ring-0 text-gray-700 placeholder-gray-400"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(_=>u.jsxs("div",{onClick:()=>r(_.id),className:"group bg-white rounded-2xl p-6 border border-gray-100 shadow-sm hover:shadow-xl hover:border-indigo-100 transition-all duration-300 cursor-pointer relative overflow-hidden",children:[u.jsxs("div",{className:"absolute top-0 right-0 p-4 flex gap-2",children:[u.jsx("button",{onClick:D=>T(_,D),className:"text-gray-400 hover:text-indigo-600 p-2 rounded-full hover:bg-indigo-50 transition-colors",title:"Editar Projeto",children:u.jsx(Ou,{size:18})}),u.jsx("button",{onClick:D=>{D.stopPropagation(),confirm("Tem certeza que deseja excluir este projeto?")&&i(_.id)},className:"text-gray-400 hover:text-red-600 p-2 rounded-full hover:bg-red-50 transition-colors",title:"Excluir Projeto",children:u.jsx(fi,{size:18})})]}),u.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center mb-4 group-hover:bg-indigo-600 transition-colors duration-300",children:u.jsx(yv,{size:24,className:"text-indigo-600 group-hover:text-white transition-colors duration-300"})}),u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2 group-hover:text-indigo-600 transition-colors",children:_.name}),u.jsx("p",{className:"text-gray-500 text-sm mb-6 line-clamp-2",children:_.description||"Sem descrio."}),u.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-50",children:[u.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[u.jsx(Sl,{size:16,className:"mr-2"}),new Date(_.startDate).toLocaleDateString()]}),u.jsxs("div",{className:"flex items-center text-indigo-600 font-medium text-sm opacity-0 group-hover:opacity-100 transform translate-x-[-10px] group-hover:translate-x-0 transition-all duration-300",children:["Abrir ",u.jsx(vv,{size:16,className:"ml-1"})]})]})]},_.id)),t.length===0&&u.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center p-12 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-200",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:u.jsx(fd,{className:"text-gray-400",size:32})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Nenhum projeto encontrado"}),u.jsx("p",{className:"text-gray-500 mt-2 text-center max-w-sm",children:"Comece criando seu primeiro projeto para gerenciar tarefas e cronogramas."})]})]}),a&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200 overflow-y-auto",children:u.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-8 shadow-2xl scale-100 animate-in zoom-in-95 duration-200 my-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:o?"Editar Projeto":"Novo Projeto"}),u.jsxs("form",{onSubmit:w,children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Projeto"}),u.jsx("input",{type:"text",required:!0,value:c,onChange:_=>d(_.target.value),className:"w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",placeholder:"Ex: Redesign Website"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),u.jsx("textarea",{value:h,onChange:_=>p(_.target.value),className:"w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all h-24 resize-none",placeholder:"Breve descrio dos objetivos..."})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor Bruto (Venda)"}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"R$"}),u.jsx("input",{type:"number",step:"0.01",value:m,onChange:_=>g(_.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Imposto (%)"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"number",step:"0.1",value:A,onChange:_=>x(_.target.value),className:"w-full px-4 py-2.5 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),u.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:"%"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contract Margem"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"number",step:"0.1",value:v,onChange:_=>y(_.target.value),className:"w-full px-4 py-2.5 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),u.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:"%"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Desvio Delivery"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"number",step:"0.1",value:b,onChange:_=>k(_.target.value),className:"w-full px-4 py-2.5 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),u.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:"%"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor Lquido (Calc. c/ Desvio)"}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"R$"}),u.jsx("input",{type:"number",step:"0.01",value:S,onChange:_=>L(_.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-indigo-50/50",placeholder:"Calculado ou Manual..."})]}),u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Preencha o valor lquido final considerando os desvios."})]})]}),u.jsxs("div",{className:"flex gap-3 mt-8",children:[u.jsx("button",{type:"button",onClick:()=>s(!1),className:"flex-1 px-4 py-3 text-gray-700 font-medium hover:bg-gray-50 rounded-xl transition-colors",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-indigo-600 text-white font-medium rounded-xl hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-200",children:o?"Salvar Alteraes":"Criar Projeto"})]})]})]})})]})},pz=({clients:t,onCreateClient:e,onUpdateClient:n,onDeleteClient:r,currentFiscalYear:i,onFiscalYearChange:a,onSelectClient:s,currentUser:o})=>{const[l,c]=F.useState(!1),[d,h]=F.useState(""),[p,m]=F.useState(null),[g,A]=F.useState(""),[x,v]=F.useState(""),[y,b]=F.useState(""),[k,S]=F.useState(""),[L,w]=F.useState(""),T=new Date().getFullYear(),_=Array.from({length:11},(C,B)=>(T-5+B).toString()),D=C=>{var B,$;if(C){m(C),A(C.name);const ee=(C.budgets||[]).find(Y=>String(Y.fiscalYear)===String(i));v((ee==null?void 0:ee.strategy)||""),b(C.context||""),S(((B=ee==null?void 0:ee.revenue)==null?void 0:B.toString())||""),w((($=ee==null?void 0:ee.margin)==null?void 0:$.toString())||"")}else m(null),A(""),v(""),b(""),S(""),w("");c(!0)},j=C=>{C.preventDefault();const B={fiscalYear:String(i),revenue:parseFloat(k)||0,margin:parseFloat(L)||0,strategy:String(x||"")};if(p){let $=Array.isArray(p.budgets)?[...p.budgets]:[];$=$.filter(ee=>ee&&ee.fiscalYear);const J=$.findIndex(ee=>String(ee.fiscalYear)===String(i));J>=0?$[J]=B:$.push(B),n({...p,name:g,context:y,budgets:$})}else e({id:`client-${Date.now()}`,name:g,strategy:x,context:y,budgets:[B],createdAt:new Date});c(!1)},N=(C,B)=>{if(B.stopPropagation(),confirm(`Remover ${C.name} do ano fiscal ${i}? O cliente permanecer nos outros anos.`)){const $=C.excludedYears||[],J=C.budgets||[];n({...C,excludedYears:[...$,i],budgets:J.filter(ee=>String(ee.fiscalYear)!==String(i))})}},R=t.filter(C=>{var J;const B=C.name.toLowerCase().includes(d.toLowerCase());let $=!0;if(C.createdAt){const ee=C.createdAt.getFullYear(),Y=parseInt(i);ee>Y&&($=!1)}return(J=C.excludedYears)!=null&&J.includes(i)?!1:B&&$});return u.jsxs("div",{className:"p-2 lg:p-6 animate-in fade-in duration-500",children:[u.jsxs("div",{className:"flex justify-between items-end mb-4 lg:mb-8",children:[u.jsxs("div",{className:"hidden md:block",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Gesto de Clientes"}),u.jsx("p",{className:"text-gray-500 mt-2",children:"Configure contas, oramentos e estratgias por ano fiscal."})]}),u.jsxs("button",{onClick:()=>D(),className:"w-full md:w-auto justify-center flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 lg:px-6 lg:py-3 rounded-xl shadow-lg shadow-indigo-200 transition-all hover:scale-105 active:scale-95 font-medium",children:[u.jsx(Yr,{size:20}),"Novo Cliente"]})]}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4 lg:mb-8",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Lp,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),u.jsx("input",{type:"text",placeholder:"Buscar clientes...",value:d,onChange:C=>h(C.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),u.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 border border-gray-200 rounded-xl",children:[u.jsx("span",{className:"text-sm font-bold text-gray-500",children:"Ano Fiscal:"}),u.jsxs("div",{className:"relative",children:[u.jsx("select",{value:i,onChange:C=>a(C.target.value),className:"bg-transparent font-bold text-indigo-600 focus:outline-none cursor-pointer appearance-none pr-6",children:_.map(C=>u.jsx("option",{value:C,children:C},C))}),u.jsx(ql,{size:14,className:"absolute right-0 top-1/2 -translate-y-1/2 text-indigo-600 pointer-events-none"})]})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map(C=>{const $=(C.budgets||[]).find(ee=>String(ee.fiscalYear)===String(i)),J=($==null?void 0:$.strategy)||(i==="2024"?C.strategy:"");return u.jsxs("div",{onClick:()=>s(C.id),className:"bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-lg transition-all p-6 group relative cursor-pointer",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsx("div",{className:"p-3 bg-indigo-50 rounded-xl",children:u.jsx(oE,{className:"text-indigo-600",size:24})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:ee=>{ee.stopPropagation(),D(C)},className:"text-xs font-bold text-indigo-600 hover:bg-indigo-50 px-3 py-1 rounded-full transition-colors",children:"Editar"}),u.jsx("button",{onClick:ee=>N(C,ee),className:"text-gray-400 hover:text-red-600 p-1 rounded-full hover:bg-red-50 transition-colors",title:"Remover deste ano",children:u.jsx(fi,{size:16})})]})]}),u.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:C.name}),u.jsx("div",{className:"h-16 overflow-hidden",children:u.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:J||"Sem estratgia definida para este ano."})}),u.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-50 grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1 flex items-center gap-1",children:[u.jsx(fE,{size:12})," Oramento ",i]}),u.jsxs("p",{className:"font-bold text-green-700",children:["R$ ",(($==null?void 0:$.revenue)||0).toLocaleString("pt-BR",{notation:"compact"})]})]}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1 flex items-center gap-1",children:[u.jsx(xv,{size:12})," Margem"]}),u.jsxs("p",{className:"font-bold text-blue-700",children:[($==null?void 0:$.margin)||0,"%"]})]})]})]},C.id)})}),l&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-8 shadow-2xl animate-in zoom-in-95",children:[u.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:[p?"Editar Cliente":"Novo Cliente"," (",i,")"]}),u.jsxs("form",{onSubmit:j,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Cliente"}),u.jsx("input",{type:"text",required:!0,value:g,onChange:C=>A(C.target.value),className:"w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500",placeholder:"Ex: ACME Corp"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contexto AI"}),u.jsx("textarea",{value:y,onChange:C=>b(C.target.value),className:"w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500 h-24 resize-none",placeholder:"Descreva a cultura da empresa, padres de arquitetura (ex: microsservios), tecnologias preferidas e restries..."})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Estratgia ",i]}),u.jsx("textarea",{value:x,onChange:C=>v(C.target.value),className:"w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500 h-24 resize-none",placeholder:`Objetivos estratgicos para ${i}...`})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Receita Prevista"}),u.jsx("input",{type:"number",value:k,onChange:C=>S(C.target.value),className:"w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500",placeholder:"0.00"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Margem Alvo (%)"}),u.jsx("input",{type:"number",value:L,onChange:C=>w(C.target.value),className:"w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500",placeholder:"0%"})]})]}),u.jsxs("div",{className:"flex gap-3 mt-8",children:[u.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 px-4 py-3 text-gray-700 font-medium hover:bg-gray-50 rounded-xl",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-indigo-600 text-white font-medium rounded-xl hover:bg-indigo-700 shadow-lg",children:"Salvar"})]})]})]})})]})},mz="modulepreload",gz=function(t){return"/"+t},Y1={},dp=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=gz(l),l in Y1)return;Y1[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":mz,c||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},$N=F.createContext({}),Ny=()=>F.useContext($N),Az=({children:t})=>{const[e,n]=F.useState(null),[r,i]=F.useState(null),[a,s]=F.useState(!0),o=async(m,g)=>{const A=Cn(at,"users",m.uid),x=await n0(A);if(x.exists())n(x.data());else{const v={uid:m.uid,email:m.email||"",displayName:m.displayName||"User",role:"user",isApproved:!1,canUseAI:!1,photoURL:m.photoURL||"",createdAt:new Date};await ip(A,v),n(v)}};F.useEffect(()=>{const m=G6(Tc,async g=>{if(i(g),g){await o(g);const A=Cn(at,"users",g.uid),x=await n0(A);x.exists()&&n(x.data())}else n(null);s(!1)});return()=>m()},[]);const l=async()=>{const m=new Wi;try{await dB(Tc,m)}catch(g){throw console.error("Login failed",g),g}},c=async(m,g)=>{try{await V6(Tc,m,g)}catch(A){throw console.error("Email login failed",A),A}},d=async(m,g,A)=>{try{const x=await z6(Tc,m,g),v={uid:x.user.uid,email:m,displayName:A,role:"user",isApproved:!1,photoURL:"",createdAt:new Date};await ip(Cn(at,"users",x.user.uid),v),n(v)}catch(x){throw console.error("Signup failed",x),x}},h=()=>q6(Tc),p=async(m,g)=>{(e==null?void 0:e.role)==="master"&&await Da(Cn(at,"users",m),{isApproved:g})};return F.useEffect(()=>{window.setMaster=async m=>{const{collection:g,getDocs:A,query:x,where:v,writeBatch:y}=await dp(async()=>{const{collection:L,getDocs:w,query:T,where:_,writeBatch:D}=await Promise.resolve().then(()=>VO);return{collection:L,getDocs:w,query:T,where:_,writeBatch:D}},void 0),b=x(g(at,"users"),v("email","==",m)),k=await A(b);if(k.empty){console.warn("User not found: "+m);return}const S=y(at);k.docs.forEach(L=>{S.update(L.ref,{role:"master",isApproved:!0})}),await S.commit(),console.log(`User ${m} is now MASTER!`),(e==null?void 0:e.email)===m&&window.location.reload()}},[e]),u.jsx($N.Provider,{value:{user:e,firebaseUser:r,loading:a,signInWithGoogle:l,signInWithEmail:c,signUpWithEmail:d,logout:h,isAdmin:(e==null?void 0:e.role)==="master",approveUser:p,toggleAI:async(m,g)=>{(e==null?void 0:e.role)==="master"&&await Da(Cn(at,"users",m),{canUseAI:g})}},children:t})};var J1;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(J1||(J1={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z1;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(Z1||(Z1={}));var e_;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(e_||(e_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=["user","model","function","system"];var n_;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(n_||(n_={}));var r_;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(r_||(r_={}));var i_;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(i_||(i_={}));var a_;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(a_||(a_={}));var mu;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(mu||(mu={}));var s_;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(s_||(s_={}));var o_;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(o_||(o_={}));var l_;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(l_||(l_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Do extends er{constructor(e,n){super(e),this.response=n}}class HN extends er{constructor(e,n,r,i){super(e),this.status=n,this.statusText=r,this.errorDetails=i}}class Ka extends er{}class QN extends er{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz="https://generativelanguage.googleapis.com",yz="v1beta",xz="0.24.1",bz="genai-js";var fo;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(fo||(fo={}));class wz{constructor(e,n,r,i,a){this.model=e,this.task=n,this.apiKey=r,this.stream=i,this.requestOptions=a}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||yz;let a=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||vz}/${r}/${this.model}:${this.task}`;return this.stream&&(a+="?alt=sse"),a}}function _z(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${bz}/${xz}`),e.join(" ")}async function Cz(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",_z(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new Ka(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,a]of r.entries()){if(i==="x-goog-api-key")throw new Ka(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Ka(`Header name ${i} can only be set using the apiClient field`);n.append(i,a)}}return n}async function Ez(t,e,n,r,i,a){const s=new wz(t,e,n,r,a);return{url:s.toString(),fetchOptions:Object.assign(Object.assign({},Sz(a)),{method:"POST",headers:await Cz(s),body:i})}}async function jd(t,e,n,r,i,a={},s=fetch){const{url:o,fetchOptions:l}=await Ez(t,e,n,r,i,a);return Tz(o,l,s)}async function Tz(t,e,n=fetch){let r;try{r=await n(t,e)}catch(i){Iz(i,t)}return r.ok||await Nz(r,t),r}function Iz(t,e){let n=t;throw n.name==="AbortError"?(n=new QN(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof HN||t instanceof Ka||(n=new er(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function Nz(t,e){let n="",r;try{const i=await t.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new HN(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function Sz(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Jh(t.candidates[0]))throw new Do(`${Ta(t)}`,t);return kz(t)}else if(t.promptFeedback)throw new Do(`Text not available. ${Ta(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Jh(t.candidates[0]))throw new Do(`${Ta(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),c_(t)[0]}else if(t.promptFeedback)throw new Do(`Function call not available. ${Ta(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Jh(t.candidates[0]))throw new Do(`${Ta(t)}`,t);return c_(t)}else if(t.promptFeedback)throw new Do(`Function call not available. ${Ta(t)}`,t)},t}function kz(t){var e,n,r,i;const a=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const s of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)s.text&&a.push(s.text),s.executableCode&&a.push("\n```"+s.executableCode.language+`
`+s.executableCode.code+"\n```\n"),s.codeExecutionResult&&a.push("\n```\n"+s.codeExecutionResult.output+"\n```\n");return a.length>0?a.join(""):""}function c_(t){var e,n,r,i;const a=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const s of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)s.functionCall&&a.push(s.functionCall);if(a.length>0)return a}const Dz=[mu.RECITATION,mu.SAFETY,mu.LANGUAGE];function Jh(t){return!!t.finishReason&&Dz.includes(t.finishReason)}function Ta(t){var e,n,r;let i="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)i+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const a=t.candidates[0];Jh(a)&&(i+=`Candidate was blocked due to ${a.finishReason}`,a.finishMessage&&(i+=`: ${a.finishMessage}`))}return i}function nd(t){return this instanceof nd?(this.v=t,this):new nd(t)}function Rz(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(p){r[p]&&(i[p]=function(m){return new Promise(function(g,A){a.push([p,m,g,A])>1||o(p,m)})})}function o(p,m){try{l(r[p](m))}catch(g){h(a[0][3],g)}}function l(p){p.value instanceof nd?Promise.resolve(p.value.v).then(c,d):h(a[0][2],p)}function c(p){o("next",p)}function d(p){o("throw",p)}function h(p,m){p(m),a.shift(),a.length&&o(a[0][0],a[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Pz(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=Mz(e),[r,i]=n.tee();return{stream:Lz(r),response:jz(i)}}async function jz(t){const e=[],n=t.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return Sy(Fz(e));e.push(i)}}function Lz(t){return Rz(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:i}=yield nd(n.read());if(i)break;yield yield nd(Sy(r))}})}function Mz(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return a();function a(){return e.read().then(({value:s,done:o})=>{if(o){if(i.trim()){r.error(new er("Failed to parse stream"));return}r.close();return}i+=s;let l=i.match(u_),c;for(;l;){try{c=JSON.parse(l[1])}catch{r.error(new er(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(c),i=i.substring(l[0].length),l=i.match(u_)}return a()}).catch(s=>{let o=s;throw o.stack=s.stack,o.name==="AbortError"?o=new QN("Request aborted when reading from the stream"):o=new er("Error reading from the stream"),o})}}})}function Fz(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t){if(r.candidates){let i=0;for(const a of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:i}),n.candidates[i].citationMetadata=a.citationMetadata,n.candidates[i].groundingMetadata=a.groundingMetadata,n.candidates[i].finishReason=a.finishReason,n.candidates[i].finishMessage=a.finishMessage,n.candidates[i].safetyRatings=a.safetyRatings,a.content&&a.content.parts){n.candidates[i].content||(n.candidates[i].content={role:a.content.role||"user",parts:[]});const s={};for(const o of a.content.parts)o.text&&(s.text=o.text),o.functionCall&&(s.functionCall=o.functionCall),o.executableCode&&(s.executableCode=o.executableCode),o.codeExecutionResult&&(s.codeExecutionResult=o.codeExecutionResult),Object.keys(s).length===0&&(s.text=""),n.candidates[i].content.parts.push(s)}i++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(t,e,n,r){const i=await jd(e,fo.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return Pz(i)}async function KN(t,e,n,r){const a=await(await jd(e,fo.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:Sy(a)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function rd(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return Oz(e)}function Oz(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const a of t)"functionResponse"in a?(n.parts.push(a),i=!0):(e.parts.push(a),r=!0);if(r&&i)throw new er("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new er("No content is provided for sending chat message.");return r?e:n}function Bz(t,e){var n;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const i=t.generateContentRequest!=null;if(t.contents){if(i)throw new Ka("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(i)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const a=rd(t);r.contents=[a]}return{generateContentRequest:r}}function d_(t){let e;return t.contents?e=t:e={contents:[rd(t)]},t.systemInstruction&&(e.systemInstruction=YN(t.systemInstruction)),e}function zz(t){return typeof t=="string"||Array.isArray(t)?{content:rd(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Vz={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Uz(t){let e=!1;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new er(`First content should be with role 'user', got ${r}`);if(!t_.includes(r))throw new er(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(t_)}`);if(!Array.isArray(i))throw new er("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new er("Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const o of i)for(const l of h_)l in o&&(a[l]+=1);const s=Vz[r];for(const o of h_)if(!s.includes(o)&&a[o]>0)throw new er(`Content with role '${r}' can't contain '${o}' part`);e=!0}}function f_(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="SILENT_ERROR";class Wz{constructor(e,n,r,i={}){this.model=n,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(Uz(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,i,a,s,o,l;await this._sendPromise;const c=rd(e),d={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},h=Object.assign(Object.assign({},this._requestOptions),n);let p;return this._sendPromise=this._sendPromise.then(()=>KN(this._apiKey,this.model,d,h)).then(m=>{var g;if(f_(m.response)){this._history.push(c);const A=Object.assign({parts:[],role:"model"},(g=m.response.candidates)===null||g===void 0?void 0:g[0].content);this._history.push(A)}else{const A=Ta(m.response);A&&console.warn(`sendMessage() was unsuccessful. ${A}. Inspect response object for details.`)}p=m}).catch(m=>{throw this._sendPromise=Promise.resolve(),m}),await this._sendPromise,p}async sendMessageStream(e,n={}){var r,i,a,s,o,l;await this._sendPromise;const c=rd(e),d={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},h=Object.assign(Object.assign({},this._requestOptions),n),p=XN(this._apiKey,this.model,d,h);return this._sendPromise=this._sendPromise.then(()=>p).catch(m=>{throw new Error(p_)}).then(m=>m.response).then(m=>{if(f_(m)){this._history.push(c);const g=Object.assign({},m.candidates[0].content);g.role||(g.role="model"),this._history.push(g)}else{const g=Ta(m);g&&console.warn(`sendMessageStream() was unsuccessful. ${g}. Inspect response object for details.`)}}).catch(m=>{m.message!==p_&&console.error(m)}),p}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gz(t,e,n,r){return(await jd(e,fo.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qz(t,e,n,r){return(await jd(e,fo.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function $z(t,e,n,r){const i=n.requests.map(s=>Object.assign(Object.assign({},s),{model:e}));return(await jd(e,fo.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=YN(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const i=d_(e),a=Object.assign(Object.assign({},this._requestOptions),n);return KN(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}async generateContentStream(e,n={}){var r;const i=d_(e),a=Object.assign(Object.assign({},this._requestOptions),n);return XN(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}startChat(e){var n;return new Wz(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=Bz(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return Gz(this.apiKey,this.model,r,i)}async embedContent(e,n={}){const r=zz(e),i=Object.assign(Object.assign({},this._requestOptions),n);return qz(this.apiKey,this.model,r,i)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return $z(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new er("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new m_(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new Ka("Cached content must contain a `name` field.");if(!e.model)throw new Ka("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const s of i)if(n!=null&&n[s]&&e[s]&&(n==null?void 0:n[s])!==e[s]){if(s==="model"){const o=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,l=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(o===l)continue}throw new Ka(`Different value for "${s}" specified in modelParams (${n[s]}) and cachedContent (${e[s]})`)}const a=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new m_(this.apiKey,a,r)}}const Zh=`
Voc  um Auditor Snior de Projetos de TI e Arquiteto de Solues. Sua funo NO  estimar ainda, mas sim INVESTIGAR e REFINAR o escopo atravs de um interrogatrio tcnico estruturado.

OBJETIVO:
Criar um formulrio JSON de perguntas para extrair detalhes cruciais do projeto e fornecer uma pontuao de confiana na estimativa atual.

REGRAS GERAIS:
1. ANLISE DE CONTEXTO (PRIORIDADE MXIMA): Antes de gerar perguntas, LEIA TODO O CONTEXTO (arquivos e chat). NO pergunte o que j foi respondido ou est nos documentos. Seja CRITERIOSO. Perguntas redundantes diminuem a confiana.
2. Sempre gere EXATAMENTE 10 perguntas por rodada. ISSO  MANDATRIO.
3. SUGESTO INTELIGENTE: Nas opes de mltipla escolha, adicione a tag '[Recomendado]' ao final da opo que representa a melhor prtica de mercado ou a inferncia mais lgica para o setor do cliente.
4. Cada pergunta DEVE ter 5 opes de mltipla escolha pr-definidas (A, B, C, D, E).
5. Cada pergunta DEVE permitir uma resposta personalizada "Outro" (allow_custom: true).
6. O tom deve ser profissional, tcnico e investigativo.
7. JAMAIS encerre a entrevista ou sugira parar. O seu objetivo  aprofundar INFINITAMENTE at que o usurio clique em "Gerar Plano". Continue cavando riscos, edge cases e detalhes.

RODADA 1 (MANDATRIA):
Se esta for a primeira interao, as 4 primeiras perguntas SO OBRIGATRIAS e devem seguir esta ordem exata:
1. Modelo de Desenvolvimento: (Opes: SaaS Multi-tenant, PaaS Platform, Taylor Made / Custom, Microsservios Hbridos, Legado Modernization).
2. Infraestrutura / Hosting: (Opes: AWS, Microsoft Azure, Google Cloud Platform, On-Premise / Hbrido, Vercel/Netlify/Edge).
3. Paralelismo de Equipe (MANDATRIO): "Devemos alocar profissionais para atuar simultaneamente em frentes distintas (ex: 3 devs para 3 mdulos ao mesmo tempo) para reduzir o prazo total, assumindo maior custo mensal?" (Opes: Sim - Mximo Paralelismo, Sim - Moderado, No - Sequencial/Waterfall Puro, No - Equipe Reduzida, Depende do Oramento).
4. Tipo de Soluo Especfica: (Opes Variam, ex: Web App, Mobile Nativo, ERP/CRM, E-commerce, API Gateway).
5. Stack Tecnolgico (Back/Front/DB): (Opes: Node+React+Postgres, Java+Angular+Oracle, .NET+Blazor+SQLServer, Python+Vue+Mongo, Go+Svelte+Redis).
6 a 10. Perguntas de contexto baseadas no input inicial do usurio (ex: sobre prazos, oramento, compliance, usurios, integraes).

RODADAS SUBSEQUENTES:
Baseado nas respostas anteriores, aprofunde em reas de risco (segurana, escalabilidade, migrao de dados, UX, etc.).

AVALIAO DE CONFIANA (SEJA CTICO/CONSERVADOR):
Em cada rodada, avalie de 0 a 100 quo completo  o entendimento tcnico.
REGRA DE OURO: A confiana deve crescer GRADUALMENTE (mximo +15% por rodada). No salte de 20% para 80% magicamente.
- < 40%: Fase de Descoberta Inicial (Apenas Stack, Infra e Ideia Geral definidos).
- 40% - 60%: Fase de Estrutura (Integraes, Banco de Dados, Autenticao e Perfis definidos).
- 60% - 80%: Fase de Detalhamento (Regras de Negcio complexas, Relatrios, Fluxos de Exceo cobertos).
- > 80%: Fase de Auditoria (Volumetria, Performance, Compliance/LGPD, Segurana avanada e Edge Cases validados).
PENALIZE severamente respostas vagas. Se o usurio responder rpido ou "A definir", MANTENHA a confiana baixa.

FORMATO DE RESPOSTA (JSON APENAS):
{
  "thought_process": "Breve anlise do que falta descobrir",
  "current_context_summary": "Resumo tcnico de 1 frase do que j sabemos",
  "current_confidence_score": 45,
  "questions": [
    {
      "id": "q1",
      "text": "Pergunta aqui?",
      "options": ["Opo 1", "Opo 2", "Opo 3", "Opo 4", "Opo 5"],
      "allow_custom": true
    }
  ]
}
`,ef=`
Voc  um Analista de Requisitos Snior. Sua tarefa AGORA  apenas LER o contexto fornecido (texto e arquivos) e RESUMIR o seu entendimento sobre o projeto.

OBJETIVO:
Mostrar ao usurio que voc compreendeu a ideia, o escopo macro e os objetivos, para validar se estamos na mesma pgina antes de iniciar o detalhamento tcnico.

DIRETRIZES:
1. Retorne um resumo estruturado em Markdown (bullet points).
2. Identifique: Objetivo Principal, Tipo de Aplicao (se claro), Possveis Tecnologias (se citadas) e Pblico-alvo (se inferido).
3. Seja conciso e direto.
4. Ao final, pergunte explicitamente: "Meu entendimento est correto? Podemos seguir para o detalhamento tcnico ou gostaria de ajustar algo?"
5. NO comece a entrevista tcnica (com perguntas de mltipla escolha) agora. Isso vir na prxima etapa. Apenas valide o entendimento.
`,Qz=`
Voc  o "Assistente UERJ-FAF", uma IA Especialista em Gerenciamento de Projetos e Engenharia.

OBJETIVO:
Criar um Planejamento de Projeto Executivo, contendo no apenas o cronograma, mas tambm a documentao tcnica, premissas e anlise de riscos.

DIRETRIZES DE CATEGORIZAO (CRTICO):
Para garantir a organizao correta no sistema, voc deve classificar CADA tarefa em uma das 4 categorias do ciclo de vida (SDLC).
Use o campo "category" no JSON com um destes valores exatos:
1. **'planning'**: Para tarefas de levantamento, requisitos, design, workshops e planejamento.
2. **'development'**: Para codificao, setup de ambiente, implementao de features, banco de dados.
3. **'testing'**: Para QA, testes unitrios, testes de integrao, bug fixes, homologao.
4. **'rollout'**: Para deploy, treinamento, documentao final, lanamento e acompanhamento (Go-live).

DIRETRIZES DE LGICA SDLC E PARALELISMO (CRTICO):
1. **PARALELISMO INTELIGENTE (REGRA DE OURO)**:
   - Verifique explicitamente se o usurio optou por "Mximo Paralelismo" nas respostas da entrevista.
   - SE SIM: Voc DEVE agendar tarefas de mdulos independentes (ex: Backend Auth e Frontend Login, ou Mdulo Financeiro e Mdulo Vendas) para ocorrerem no MESMO intervalo de tempo (share same start_offset_days).
   - O 'start_offset_days' dessas tarefas deve ser idntico ou prximo, limitado apenas por dependncias lgicas reais (ex: no d pra testar sem codar).

2. **DEPENDNCIAS MANDATRIAS (RIGOROSO)**:
   - CADA tarefa (exceto a primeira "Milestone Zero") DEVE ter pelo menos um 'predecessor' definido no campo 'dependencies'.
   - O campo 'dependencies'  um ARRAY de IDs de tarefas anteriores. NUNCA DEIXE VAZIO para tarefas subsequentes.
   - Crie dependncias lgicas (ex: Design -> Dev Frontend -> Teste Frontend).
   - Se houver paralelismo, as tarefas paralelas podem ter o MESMO predecessor (Fork) e servirem de dependncia para a mesma tarefa futura (Join).

3. **SEQUENCIALIDADE DE FASES**:
   - Fase 'rollout' S COMEA aps o fim de 'testing'. (Predecessor obrigatrio: Marco de Fim de Testes).
   - 'start_offset_days' de Rollout > (start + duration) da ltima task de Test.

4. **TEMPO E DIAS TEIS**:
   - Todas as estimativas de 'duration_days' e 'start_offset_days' so em DIAS TEIS.
   - 5 dias = 1 semana real.
   - Seja realista.
`,Xz=`
3. **CLARIFICAO**:
   - Se o escopo for muito vago, gere JSON do tipo "clarification" primeiro.

4. **SADA JSON (EXTENSIVA)**:
   - Retorne APENAS o JSON vlido.
   - **IMPORTANTE**: No objeto "documentation", voc DEVE incluir QUAISQUER NOVOS CAMPOS solicitados nas regras de contexto (ex: "scope", "risks", "budget").
   - **ESTIMATIVA DE CUSTOS (MANDATRIO)**: Para cada membro da equipe ('team_structure') e para cada tarefa ('tasks'), voc DEVE estimar um 'hourly_rate' realista em BRL (Reais), baseado na senioridade do papel (ex: Junior ~60-90, Pleno ~100-140, Senior ~150-200, Arquiteto/Manager ~220-300).
   - No deixe null ou 0.
   - No se limite aos campos do exemplo abaixo. O exemplo  ilustrativo, mas a estrutura  flexvel.

5. **ANLISE DE DELTA DE ESCOPO (MANDATRIO)**:
   - No objeto "scope_delta", compare o entendimento INICIAL (antes das perguntas) com o escopo FINAL.
   - "original_scope_summary": Resumo do que foi pedido inicialmente.
   - "final_scope_summary": Resumo do que ser entregue agora.
   - "changes": Lista de itens que foram adicionados, removidos ou modificados drsticamente aps a entrevista tcnica. Justifique cada mudana.

Exemplo de Sada (Estimativa Completa):
\`\`\`json
{
  "project_name": "Sistema ERP Cloud",
  "description": "Implementao completa de ERP...",
  "confidence_score": 0.9,
  "scope_delta": {
    "original_scope_summary": "ERP bsico de Vendas",
    "final_scope_summary": "ERP de Vendas + Mdulo Financeiro Completo + App Mobile",
    "changes": [
        { "item": "App Mobile Nativo", "type": "added", "justification": "Identificado necessidade de fora de vendas em campo durante perguntas." },
        { "item": "Relatrios Legados", "type": "removed", "justification": "Cliente confirmou que usar PowerBI externo." }
    ]
  },
  "documentation": {
    "context_overview": "### Viso Geral\\nEste projeto visa modernizar...",
    "technical_solution": "### Arquitetura\\nUtilizaremos Microservios...",
    "implementation_steps": "- **Fase 1**: Core...\\n- **Fase 2**: Relatrios...",
    "testing_strategy": "Testes automatizados com Jest...",
    "scope": "### Escopo Detalhado\\n- **Entregveis**: 1 Web App, 1 API...\\n- **Testes**: 2 Rodadas..."
  },
  "strategic_planning": {
    "technical_premises": ["Disponibilidade de ambiente Staging", "Chaves de API do Gateway"],
    "client_responsibilities": [
      { "action_item": "Aprovao de Mockups", "deadline_description": "Final da Semana 2", "impact": "BLOCKER" }
    ],
    "raci_matrix": [
      { "activity_group": "Definio de Requisitos", "responsible": "Product Owner", "accountable": "Sponsor", "consulted": "Tech Lead", "informed": "Dev Team" }
    ]
  },
  "team_structure": [
      { "role": "Arquiteto de Solues", "quantity": 1, "hourly_rate": 250, "responsibilities": ["Definio de Cloud", "Segurana"] },
      { "role": "Desenvolvedor Fullstack", "quantity": 2, "hourly_rate": 120, "responsibilities": ["Frontend React", "Backend Node.js"] }
  ],
  "tasks": [
    { "id": "t1", "name": "Kick-off", "type": "task", "category": "planning", "start_offset_days": 0, "duration_days": 1, "role": "PM", "hourly_rate": 200 }
  ]
}
\`\`\`
`,tf=`1. **ANLISE E CONTEXTO ("documentation")**:
   - Gere textos ricos, em formato Markdown, vendendo a soluo NUNCA enviar tabelas, no criar tpicos no solicitados, gerar exatamente na ordem abaixo.
   - **context_overview**: Viso executiva. Por que fazer? Qual o valor? texto com 900 a 1000 caracteres.
   - **technical_solution**: Descreva a stack (React, Node, AWS, etc) e a arquitetura. Justifique as escolhas.
   - **implementation_steps**: Detalhe o que ser entregue em cada grande bloco (ex: "No Mdulo 1, faremos X").
   - **testing_strategy**: Como garantiremos qualidade? (Unitrios, E2E, UAT).
   - **scope**: Detalhe quantitativamente o escopo que ser entregue em numero de componentes , nmero de rodadas de testes e etc de forma a ter isso muito amarrado por ser um projeto fixed price
   - **non_scope**: Detalhe tudo que no ser escopo por parte da entrega do projeto ficando assim como responsabilidade do contratante.

2. **ESTRUTURA DE EQUIPE ("team_structure")**:
   - Defina a equipe ideal para executar este projeto.
   - Liste cada papel (role), a quantidade de profissionais (quantity) e suas principais responsabilidades/habilidades (responsibilities).
   - Seja especfico (ex: "Desenvolvedor React Snior", "Arquiteto Cloud").

3. **PREMISSAS E RESPONSABILIDADES ("strategic_planning")**:
   - **technical_premises**: Lista de requisitos prvios (ex: "Acesso VPN concedido", "Chaves de API do Gateway").
   - **client_responsibilities**: Gere uma tabela de prazos para o cliente. Onde ele pode bloquear a gente? (ex: "Aprovar Designs at dia 5"). Classifique o Impacto.
   - **raci_matrix**: Defina quem faz o que. Suggested Roles: Project Manager, Lead Dev, Client Sponsor, Client IT.`,Kz=t=>`${Qz}

PROTOCOLO DE INTERAO E GERAO DE CONTEDO (RIGOROSO):

${t||tf}

${Xz}`;class Yz{constructor(){$d(this,"genAI",null);$d(this,"model",null);$d(this,"chat",null);const e=localStorage.getItem("GEMINI_API_KEY");e&&this.initialize(e)}initialize(e){this.genAI=new Hz(e);const n=localStorage.getItem("GEMINI_CUSTOM_CONTEXT_RULES"),r=localStorage.getItem("GEMINI_TEXT_MODEL")||"gemini-1.5-flash";this.model=this.genAI.getGenerativeModel({model:r,systemInstruction:Kz(n||void 0),generationConfig:{temperature:.7,responseMimeType:"application/json"}})}isConfigured(){return!!this.genAI}async startChat(){if(!this.model)throw new Error("Gemini API not configured");return this.chat=this.model.startChat({history:[]}),this.chat}async sendMessage(e,n){if(this.chat||await this.startChat(),!this.chat)throw new Error("Failed to start chat");try{let r=[{text:e}];if(n&&n.length>0){const s=n.map(o=>({inlineData:{mimeType:o.mimeType,data:o.data}}));r=[...r,...s]}return(await this.chat.sendMessage(r)).response.text()}catch(r){throw console.error("Gemini Error:",r),r}}parseEstimate(e){try{const n=this.parseJSON(e);return n&&!n.type||n&&n.tasks?n:null}catch{return null}}parseClarification(e){try{const n=this.parseJSON(e);return n&&n.type==="clarification"?n:null}catch{return null}}async refineRequirements(e,n,r,i){if(!this.genAI)throw new Error("Gemini API not configured");const a=this.genAI.getGenerativeModel({model:"gemini-2.5-flash",systemInstruction:localStorage.getItem("GEMINI_INTERVIEWER_RULES")||Zh,generationConfig:{responseMimeType:"application/json"}});let s=`Contexto Inicial: ${n}

`;r&&r.length>0?(s+=`RESPOSTAS DA RODADA ANTERIOR:
`,r.forEach(p=>{s+=`- Q: ${p.questionId} | A: ${p.answer}
`}),s+=`
Com base nessas respostas, gere a PRXIMA rodada de 10 perguntas de aprofundamento. OBRIGATRIO: Gere 10 novas perguntas focadas em riscos no cobertos, detalhes de infra, segurana ou requisitos no funcionais.`):s+="Esta  a primeira rodada. Gere as 10 perguntas iniciais (incluindo as 4 mandatrias). Caso existam arquivos anexados, considere o contedo deles como parte fundamental do contexto.";const o=a.startChat({history:e});let l=[{text:s}];if(i&&i.length>0){const p=i.map(m=>{const g=m.data.includes("base64,")?m.data.split("base64,")[1]:m.data;return{inlineData:{mimeType:m.type,data:g}}});l=[...l,...p]}const d=(await o.sendMessage(l)).response.text(),h=this.parseJSON(d);if(!h)throw console.error("Failed to parse refinement JSON. Raw text:",d),new Error("Invalid JSON response from AI Interviewer");return h}async getInitialUnderstanding(e,n){if(!this.genAI)throw new Error("Gemini API not configured");const i=this.genAI.getGenerativeModel({model:"gemini-2.5-flash",systemInstruction:localStorage.getItem("GEMINI_INITIAL_UNDERSTANDING_PROMPT")||ef}).startChat({history:[]});e[e.length-1].parts;let s=[{text:`CONTEXTO DO PROJETO:
${e.map(l=>`${l.role==="user"?"CLIENTE":"SISTEMA"}: ${l.parts[0].text}`).join(`

`)}`}];if(n&&n.length>0){const l=n.map(c=>{const d=c.data.includes("base64,")?c.data.split("base64,")[1]:c.data;return{inlineData:{mimeType:c.type,data:d}}});s=[...s,...l]}return(await i.sendMessage(s)).response.text()}async generateEstimate(e,n){if(!this.genAI)throw new Error("Gemini API not configured");this.model||this.initialize(localStorage.getItem("GEMINI_API_KEY")||"");const r=this.model.startChat({history:e.slice(0,-1)});let a=[...e[e.length-1].parts];if(n&&n.length>0){const c=n.map(d=>{const h=d.data.includes("base64,")?d.data.split("base64,")[1]:d.data;return{inlineData:{mimeType:d.type,data:h}}});a=[...a,...c]}const o=(await r.sendMessage(a)).response.text(),l=this.parseEstimate(o);if(!l)throw new Error("Failed to parse the generated project plan.");return l}parseJSON(e){try{return JSON.parse(e)}catch{const r=e.match(/```json\n([\s\S]*?)\n```/)||e.match(/```([\s\S]*?)```/);if(r&&r[1])try{return JSON.parse(r[1])}catch(s){console.error("Failed to parse extracted JSON",s)}const i=e.indexOf("{"),a=e.lastIndexOf("}");if(i!==-1&&a!==-1)try{return JSON.parse(e.substring(i,a+1))}catch(s){console.error("Failed to fuzzy parse JSON",s)}return null}}}const Ss=new Yz;var JN={exports:{}},Jz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Zz=Jz,eV=Zz;function ZN(){}function eS(){}eS.resetWarningCache=ZN;var tV=function(){function t(r,i,a,s,o,l){if(l!==eV){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:eS,resetWarningCache:ZN};return n.PropTypes=n,n};JN.exports=tV();var nV=JN.exports;const Vt=b0(nV),rV=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function zl(t,e,n){const r=iV(t),{webkitRelativePath:i}=t,a=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&g_(r,"path",a),g_(r,"relativePath",a),r}function iV(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=rV.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function g_(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const aV=[".DS_Store","Thumbs.db"];function sV(t){return yo(this,void 0,void 0,function*(){return hp(t)&&oV(t.dataTransfer)?dV(t.dataTransfer,t.type):lV(t)?cV(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?uV(t):[]})}function oV(t){return hp(t)}function lV(t){return hp(t)&&hp(t.target)}function hp(t){return typeof t=="object"&&t!==null}function cV(t){return o0(t.target.files).map(e=>zl(e))}function uV(t){return yo(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>zl(n))})}function dV(t,e){return yo(this,void 0,void 0,function*(){if(t.items){const n=o0(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(hV));return A_(tS(r))}return A_(o0(t.files).map(n=>zl(n)))})}function A_(t){return t.filter(e=>aV.indexOf(e.name)===-1)}function o0(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function hV(t){if(typeof t.webkitGetAsEntry!="function")return v_(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?nS(e):v_(t,e)}function tS(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?tS(n):[n]],[])}function v_(t,e){return yo(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const a=yield t.getAsFileSystemHandle();if(a===null)throw new Error(`${t} is not a File`);if(a!==void 0){const s=yield a.getFile();return s.handle=a,zl(s)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return zl(r,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function fV(t){return yo(this,void 0,void 0,function*(){return t.isDirectory?nS(t):pV(t)})}function nS(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function a(){e.readEntries(s=>yo(this,void 0,void 0,function*(){if(s.length){const o=Promise.all(s.map(fV));i.push(o),a()}else try{const o=yield Promise.all(i);n(o)}catch(o){r(o)}}),s=>{r(s)})}a()})}function pV(t){return yo(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=zl(r,t.fullPath);e(i)},r=>{n(r)})})})}var Ag=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some(function(s){var o=s.trim().toLowerCase();return o.charAt(0)==="."?r.toLowerCase().endsWith(o):o.endsWith("/*")?a===o.replace(/\/.*$/,""):i===o})}return!0};function y_(t){return AV(t)||gV(t)||iS(t)||mV()}function mV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gV(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AV(t){if(Array.isArray(t))return l0(t)}function x_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x_(Object(n),!0).forEach(function(r){rS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function id(t,e){return xV(t)||yV(t,e)||iS(t,e)||vV()}function vV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iS(t,e){if(t){if(typeof t=="string")return l0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l0(t,e)}}function l0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yV(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,s,o;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){a=!0,o=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw o}}return r}}function xV(t){if(Array.isArray(t))return t}var bV=typeof Ag=="function"?Ag:Ag.default,wV="file-invalid-type",_V="file-too-large",CV="file-too-small",EV="too-many-files",TV=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:wV,message:"File type must be ".concat(r)}},w_=function(e){return{code:_V,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},__=function(e){return{code:CV,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},IV={code:EV,message:"Too many files"};function aS(t,e){var n=t.type==="application/x-moz-file"||bV(t,e);return[n,n?null:TV(e)]}function sS(t,e,n){if(js(t.size))if(js(e)&&js(n)){if(t.size>n)return[!1,w_(n)];if(t.size<e)return[!1,__(e)]}else{if(js(e)&&t.size<e)return[!1,__(e)];if(js(n)&&t.size>n)return[!1,w_(n)]}return[!0,null]}function js(t){return t!=null}function NV(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,a=t.multiple,s=t.maxFiles,o=t.validator;return!a&&e.length>1||a&&s>=1&&e.length>s?!1:e.every(function(l){var c=aS(l,n),d=id(c,1),h=d[0],p=sS(l,r,i),m=id(p,1),g=m[0],A=o?o(l):null;return h&&g&&!A})}function fp(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function wh(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function C_(t){t.preventDefault()}function SV(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function kV(t){return t.indexOf("Edge/")!==-1}function DV(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return SV(t)||kV(t)}function yi(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return e.some(function(o){return!fp(r)&&o&&o.apply(void 0,[r].concat(a)),fp(r)})}}function RV(){return"showOpenFilePicker"in window}function PV(t){if(js(t)){var e=Object.entries(t).filter(function(n){var r=id(n,2),i=r[0],a=r[1],s=!0;return oS(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(a)||!a.every(lS))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(n,r){var i=id(r,2),a=i[0],s=i[1];return b_(b_({},n),{},rS({},a,s))},{});return[{description:"Files",accept:e}]}return t}function jV(t){if(js(t))return Object.entries(t).reduce(function(e,n){var r=id(n,2),i=r[0],a=r[1];return[].concat(y_(e),[i],y_(a))},[]).filter(function(e){return oS(e)||lS(e)}).join(",")}function LV(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function MV(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function oS(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function lS(t){return/^.*\.[\w]+$/.test(t)}var FV=["children"],OV=["open"],BV=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],zV=["refKey","onChange","onClick"];function VV(t){return GV(t)||WV(t)||cS(t)||UV()}function UV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WV(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GV(t){if(Array.isArray(t))return c0(t)}function vg(t,e){return HV(t)||$V(t,e)||cS(t,e)||qV()}function qV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cS(t,e){if(t){if(typeof t=="string")return c0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c0(t,e)}}function c0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $V(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,s,o;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){a=!0,o=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw o}}return r}}function HV(t){if(Array.isArray(t))return t}function E_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E_(Object(n),!0).forEach(function(r){u0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pp(t,e){if(t==null)return{};var n=QV(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QV(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ky=F.forwardRef(function(t,e){var n=t.children,r=pp(t,FV),i=h0(r),a=i.open,s=pp(i,OV);return F.useImperativeHandle(e,function(){return{open:a}},[a]),de.createElement(F.Fragment,null,n(en(en({},s),{},{open:a})))});ky.displayName="Dropzone";var uS={disabled:!1,getFilesFromEvent:sV,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};ky.defaultProps=uS;ky.propTypes={children:Vt.func,accept:Vt.objectOf(Vt.arrayOf(Vt.string)),multiple:Vt.bool,preventDropOnDocument:Vt.bool,noClick:Vt.bool,noKeyboard:Vt.bool,noDrag:Vt.bool,noDragEventsBubbling:Vt.bool,minSize:Vt.number,maxSize:Vt.number,maxFiles:Vt.number,disabled:Vt.bool,getFilesFromEvent:Vt.func,onFileDialogCancel:Vt.func,onFileDialogOpen:Vt.func,useFsAccessApi:Vt.bool,autoFocus:Vt.bool,onDragEnter:Vt.func,onDragLeave:Vt.func,onDragOver:Vt.func,onDrop:Vt.func,onDropAccepted:Vt.func,onDropRejected:Vt.func,onError:Vt.func,validator:Vt.func};var d0={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function h0(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=en(en({},uS),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,a=e.maxSize,s=e.minSize,o=e.multiple,l=e.maxFiles,c=e.onDragEnter,d=e.onDragLeave,h=e.onDragOver,p=e.onDrop,m=e.onDropAccepted,g=e.onDropRejected,A=e.onFileDialogCancel,x=e.onFileDialogOpen,v=e.useFsAccessApi,y=e.autoFocus,b=e.preventDropOnDocument,k=e.noClick,S=e.noKeyboard,L=e.noDrag,w=e.noDragEventsBubbling,T=e.onError,_=e.validator,D=F.useMemo(function(){return jV(n)},[n]),j=F.useMemo(function(){return PV(n)},[n]),N=F.useMemo(function(){return typeof x=="function"?x:T_},[x]),R=F.useMemo(function(){return typeof A=="function"?A:T_},[A]),C=F.useRef(null),B=F.useRef(null),$=F.useReducer(XV,d0),J=vg($,2),ee=J[0],Y=J[1],oe=ee.isFocused,H=ee.isFileDialogActive,q=F.useRef(typeof window<"u"&&window.isSecureContext&&v&&RV()),se=function(){!q.current&&H&&setTimeout(function(){if(B.current){var X=B.current.files;X.length||(Y({type:"closeDialog"}),R())}},300)};F.useEffect(function(){return window.addEventListener("focus",se,!1),function(){window.removeEventListener("focus",se,!1)}},[B,H,R,q]);var he=F.useRef([]),ce=function(X){C.current&&C.current.contains(X.target)||(X.preventDefault(),he.current=[])};F.useEffect(function(){return b&&(document.addEventListener("dragover",C_,!1),document.addEventListener("drop",ce,!1)),function(){b&&(document.removeEventListener("dragover",C_),document.removeEventListener("drop",ce))}},[C,b]),F.useEffect(function(){return!r&&y&&C.current&&C.current.focus(),function(){}},[C,y,r]);var Ae=F.useCallback(function(G){T?T(G):console.error(G)},[T]),xe=F.useCallback(function(G){G.preventDefault(),G.persist(),Z(G),he.current=[].concat(VV(he.current),[G.target]),wh(G)&&Promise.resolve(i(G)).then(function(X){if(!(fp(G)&&!w)){var le=X.length,we=le>0&&NV({files:X,accept:D,minSize:s,maxSize:a,multiple:o,maxFiles:l,validator:_}),Ne=le>0&&!we;Y({isDragAccept:we,isDragReject:Ne,isDragActive:!0,type:"setDraggedFiles"}),c&&c(G)}}).catch(function(X){return Ae(X)})},[i,c,Ae,w,D,s,a,o,l,_]),ve=F.useCallback(function(G){G.preventDefault(),G.persist(),Z(G);var X=wh(G);if(X&&G.dataTransfer)try{G.dataTransfer.dropEffect="copy"}catch{}return X&&h&&h(G),!1},[h,w]),Ie=F.useCallback(function(G){G.preventDefault(),G.persist(),Z(G);var X=he.current.filter(function(we){return C.current&&C.current.contains(we)}),le=X.indexOf(G.target);le!==-1&&X.splice(le,1),he.current=X,!(X.length>0)&&(Y({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),wh(G)&&d&&d(G))},[C,d,w]),Ee=F.useCallback(function(G,X){var le=[],we=[];G.forEach(function(Ne){var dt=aS(Ne,D),Ze=vg(dt,2),je=Ze[0],Ue=Ze[1],Me=sS(Ne,s,a),et=vg(Me,2),bt=et[0],st=et[1],Oe=_?_(Ne):null;if(je&&bt&&!Oe)le.push(Ne);else{var ot=[Ue,st];Oe&&(ot=ot.concat(Oe)),we.push({file:Ne,errors:ot.filter(function(Nt){return Nt})})}}),(!o&&le.length>1||o&&l>=1&&le.length>l)&&(le.forEach(function(Ne){we.push({file:Ne,errors:[IV]})}),le.splice(0)),Y({acceptedFiles:le,fileRejections:we,isDragReject:we.length>0,type:"setFiles"}),p&&p(le,we,X),we.length>0&&g&&g(we,X),le.length>0&&m&&m(le,X)},[Y,o,D,s,a,l,p,m,g,_]),pe=F.useCallback(function(G){G.preventDefault(),G.persist(),Z(G),he.current=[],wh(G)&&Promise.resolve(i(G)).then(function(X){fp(G)&&!w||Ee(X,G)}).catch(function(X){return Ae(X)}),Y({type:"reset"})},[i,Ee,Ae,w]),ge=F.useCallback(function(){if(q.current){Y({type:"openDialog"}),N();var G={multiple:o,types:j};window.showOpenFilePicker(G).then(function(X){return i(X)}).then(function(X){Ee(X,null),Y({type:"closeDialog"})}).catch(function(X){LV(X)?(R(X),Y({type:"closeDialog"})):MV(X)?(q.current=!1,B.current?(B.current.value=null,B.current.click()):Ae(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ae(X)});return}B.current&&(Y({type:"openDialog"}),N(),B.current.value=null,B.current.click())},[Y,N,R,v,Ee,Ae,j,o]),be=F.useCallback(function(G){!C.current||!C.current.isEqualNode(G.target)||(G.key===" "||G.key==="Enter"||G.keyCode===32||G.keyCode===13)&&(G.preventDefault(),ge())},[C,ge]),I=F.useCallback(function(){Y({type:"focus"})},[]),z=F.useCallback(function(){Y({type:"blur"})},[]),W=F.useCallback(function(){k||(DV()?setTimeout(ge,0):ge())},[k,ge]),O=function(X){return r?null:X},M=function(X){return S?null:O(X)},U=function(X){return L?null:O(X)},Z=function(X){w&&X.stopPropagation()},ne=F.useMemo(function(){return function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},X=G.refKey,le=X===void 0?"ref":X,we=G.role,Ne=G.onKeyDown,dt=G.onFocus,Ze=G.onBlur,je=G.onClick,Ue=G.onDragEnter,Me=G.onDragOver,et=G.onDragLeave,bt=G.onDrop,st=pp(G,BV);return en(en(u0({onKeyDown:M(yi(Ne,be)),onFocus:M(yi(dt,I)),onBlur:M(yi(Ze,z)),onClick:O(yi(je,W)),onDragEnter:U(yi(Ue,xe)),onDragOver:U(yi(Me,ve)),onDragLeave:U(yi(et,Ie)),onDrop:U(yi(bt,pe)),role:typeof we=="string"&&we!==""?we:"presentation"},le,C),!r&&!S?{tabIndex:0}:{}),st)}},[C,be,I,z,W,xe,ve,Ie,pe,S,L,r]),te=F.useCallback(function(G){G.stopPropagation()},[]),Q=F.useMemo(function(){return function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},X=G.refKey,le=X===void 0?"ref":X,we=G.onChange,Ne=G.onClick,dt=pp(G,zV),Ze=u0({accept:D,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:O(yi(we,pe)),onClick:O(yi(Ne,te)),tabIndex:-1},le,B);return en(en({},Ze),dt)}},[B,n,o,pe,r]);return en(en({},ee),{},{isFocused:oe&&!r,getRootProps:ne,getInputProps:Q,rootRef:C,inputRef:B,open:O(ge)})}function XV(t,e){switch(e.type){case"focus":return en(en({},t),{},{isFocused:!0});case"blur":return en(en({},t),{},{isFocused:!1});case"openDialog":return en(en({},d0),{},{isFileDialogActive:!0});case"closeDialog":return en(en({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return en(en({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return en(en({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return en({},d0);default:return t}}function T_(){}const KV="ProposalSlidesDB",as="images",YV=1,Dy=()=>new Promise((t,e)=>{const n=indexedDB.open(KV,YV);n.onupgradeneeded=r=>{const i=r.target.result;i.objectStoreNames.contains(as)||i.createObjectStore(as)},n.onsuccess=()=>t(n.result),n.onerror=()=>e(n.error)}),JV=t=>new Promise((e,n)=>{const r=new FileReader;r.onloadend=()=>{r.result&&typeof r.result=="string"?e(r.result):n(new Error("Failed to read file"))},r.onerror=n,r.readAsDataURL(t)}),I_=async(t,e)=>{const n=await JV(e),r=await Dy();return new Promise((i,a)=>{const s=r.transaction(as,"readwrite");s.objectStore(as).put(n,t),s.oncomplete=()=>i(),s.onerror=()=>a(s.error)})},zs=async t=>{const e=await Dy();return new Promise((n,r)=>{const s=e.transaction(as,"readonly").objectStore(as).get(t);s.onsuccess=()=>n(s.result||null),s.onerror=()=>r(s.error)})},N_=async t=>{const e=await Dy();return new Promise((n,r)=>{const i=e.transaction(as,"readwrite");i.objectStore(as).delete(t),i.oncomplete=()=>n(),i.onerror=()=>r(i.error)})},yg={slides:[{id:"auto-1",type:"automatic",name:"Contedo Gerado (Cronograma, Documentao, etc.)"}],branding:{}},ZV=({slide:t,preview:e,branding:n,logoPreview:r,onClose:i,onSave:a})=>{var R,C;const s=t.type==="automatic",[o,l]=F.useState(t.overlays||[]),[c,d]=F.useState(n||{}),[h,p]=F.useState(null),[m,g]=F.useState(null),[A,x]=F.useState(!1),[v,y]=F.useState(null),[b,k]=F.useState(null),S=()=>{const B={id:Date.now().toString(),text:"Novo Texto",x:1,y:1,fontSize:18,color:"000000",bold:!1,width:8};l([...o,B]),g(B.id)},L=(B,$)=>{l(J=>J.map(ee=>ee.id===B?{...ee,...$}:ee))},w=B=>{l($=>$.filter(J=>J.id!==B)),m===B&&g(null)},T=(B,$,J,ee)=>{B.stopPropagation(),g($),x(!0),y({x:B.clientX,y:B.clientY}),k({x:J,y:ee})};F.useEffect(()=>{n&&(d(n),n.logoWidth&&n.logoHeight&&p(n.logoWidth/n.logoHeight))},[n]);const _=B=>{if(!A||!v||!b||!m)return;const $=B.clientX-v.x,J=B.clientY-v.y,ee=100,Y=$/ee,oe=J/ee;m==="logo"?d(H=>({...H,logoX:Math.max(0,parseFloat((b.x+Y).toFixed(2))),logoY:Math.max(0,parseFloat((b.y+oe).toFixed(2)))})):l(H=>H.map(q=>q.id===m?{...q,x:Math.max(0,parseFloat((b.x+Y).toFixed(2))),y:Math.max(0,parseFloat((b.y+oe).toFixed(2)))}:q))},D=()=>{x(!1),y(null),k(null)},j=m==="logo"?null:o.find(B=>B.id===m),N=()=>{s?a([],c):a(o)};return u.jsx("div",{className:"fixed inset-0 z-[99999] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",onMouseUp:D,onMouseMove:_,children:u.jsxs("div",{className:"bg-white w-full max-w-6xl h-[90vh] rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100 bg-gray-50",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Editar Layout: ",t.name]}),u.jsx("p",{className:"text-xs text-gray-500",children:s?"Arraste o logo para posicionar. Ajuste configuraes na barra lateral.":"Adicione textos dinmicos. Arraste para mover."})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:i,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg text-sm font-medium transition-colors",children:"Cancelar"}),u.jsxs("button",{onClick:N,className:"px-4 py-2 bg-indigo-600 text-white hover:bg-indigo-700 rounded-lg text-sm font-medium shadow-sm transition-colors flex items-center gap-2",children:[u.jsx(jp,{size:16})," Salvar Alteraes"]})]})]}),u.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[u.jsx("div",{className:"flex-1 bg-gray-200 p-8 flex items-center justify-center overflow-auto relative select-none",children:u.jsxs("div",{className:"relative bg-white shadow-lg overflow-hidden",style:{width:"1000px",aspectRatio:"16/9",backgroundImage:!s&&e?`url(${e})`:"none",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},children:[s&&u.jsxs(u.Fragment,{children:[r&&u.jsx("div",{onMouseDown:B=>T(B,"logo",c.logoX??8.4,c.logoY??.15),className:`absolute cursor-move border-2 border-dashed ${m==="logo"?"border-indigo-600 z-10":"border-red-500/50 hover:border-red-600"} transition-colors`,style:{left:`${(c.logoX??8.4)/10*100}%`,top:`${(c.logoY??.15)/5.625*100}%`,width:`${(c.logoWidth??1.5)/10*100}%`,minHeight:"20px",backgroundColor:"rgba(255,0,0,0.05)"},children:u.jsx("img",{src:r,alt:"Logo",className:"w-full h-auto pointer-events-none",onLoad:B=>{const $=B.currentTarget.naturalWidth/B.currentTarget.naturalHeight;$&&!isNaN($)&&p($)}})}),u.jsx("div",{onMouseDown:B=>T(B,"title",c.titleX??.5,c.titleY??.5),className:`absolute cursor-move border-2 border-dashed ${m==="title"?"border-indigo-600 z-10":"border-gray-200 hover:border-gray-400"}`,style:{left:`${(c.titleX??.5)/10*100}%`,top:`${(c.titleY??.5)/5.625*100}%`,right:"5%",width:"auto",height:"auto"},children:u.jsx("h1",{className:"font-bold pointer-events-none whitespace-nowrap leading-none",style:{fontSize:"26px",color:"#00204A",fontFamily:"Arial, sans-serif"},children:"Soluo Tcnica & Escopo"})}),u.jsx("div",{onMouseDown:B=>T(B,"line",c.lineX??.5,c.lineY??.9),className:`absolute cursor-move border-2 border-dashed ${m==="line"?"border-indigo-600 z-10":"border-gray-200 hover:border-gray-400"} flex items-start justify-center`,style:{left:`${(c.lineX??.5)/10*100}%`,top:`${(c.lineY??.9)/5.625*100}%`,width:`${(c.lineWidth??9)/10*100}%`,height:"24px"},children:u.jsx("div",{className:"w-full pointer-events-none rounded-full mt-0",style:{height:"3px",backgroundColor:"#0072BC"}})})]}),!s&&o.map(B=>u.jsx("div",{onMouseDown:$=>T($,B.id,B.x,B.y),className:`absolute cursor-move border hover:border-indigo-300 transition-colors ${m===B.id?"border-indigo-600 ring-1 ring-indigo-600 z-10":"border-transparent"}`,style:{left:`${B.x/10*100}%`,top:`${B.y/5.625*100}%`,fontSize:`${B.fontSize}px`,color:`#${B.color}`,fontWeight:B.bold?"bold":"normal",width:B.width?`${B.width/10*100}%`:"auto",height:B.height?`${B.height/5.625*100}%`:"auto",whiteSpace:B.width?"normal":"nowrap",wordWrap:"break-word",lineHeight:"1.2"},children:B.text},B.id))]})}),u.jsxs("div",{className:"w-80 bg-white border-l border-gray-200 p-4 flex flex-col gap-6 overflow-y-auto",children:[!s&&u.jsx("div",{className:"p-4 bg-indigo-50 rounded-xl border border-indigo-100 text-center",children:u.jsxs("button",{onClick:S,className:"w-full py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2 font-medium shadow-sm",children:[u.jsx(Yr,{size:16})," Adicionar Texto"]})}),s&&m==="logo"&&u.jsxs("div",{className:"space-y-4 animate-in slide-in-from-right-4 fade-in duration-200",children:[u.jsx("h4",{className:"text-sm font-bold text-gray-900 border-b pb-2",children:"Editar Logo"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-medium text-gray-500",children:"X (pol)"}),u.jsx("input",{type:"number",step:"0.1",value:c.logoX??8.4,onChange:B=>d($=>({...$,logoX:parseFloat(B.target.value)})),className:"w-full px-2 py-2 border rounded-lg text-sm"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Y (pol)"}),u.jsx("input",{type:"number",step:"0.1",value:c.logoY??.15,onChange:B=>d($=>({...$,logoY:parseFloat(B.target.value)})),className:"w-full px-2 py-2 border rounded-lg text-sm"})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Largura (pol)"}),u.jsx("input",{type:"number",step:"0.1",value:c.logoWidth??1.5,onChange:B=>{const $=Math.max(.1,parseFloat(B.target.value));d(J=>({...J,logoWidth:$,logoHeight:h?$/h:J.logoHeight}))},className:"w-full px-2 py-2 border rounded-lg text-sm"})]})]}),s&&m==="title"&&u.jsxs("div",{className:"space-y-4 animate-in slide-in-from-right-4 fade-in duration-200",children:[u.jsx("h4",{className:"text-sm font-bold text-gray-900 border-b pb-2",children:"Editar Ttulo"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-medium text-gray-500",children:"X (pol)"}),u.jsx("input",{type:"number",step:"0.1",value:c.titleX??.5,onChange:B=>d($=>({...$,titleX:parseFloat(B.target.value)})),className:"w-full px-2 py-2 border rounded-lg text-sm"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Y (pol)"}),u.jsx("input",{type:"number",step:"0.1",value:c.titleY??.5,onChange:B=>d($=>({...$,titleY:parseFloat(B.target.value)})),className:"w-full px-2 py-2 border rounded-lg text-sm"})]})]})]}),s&&m==="line"&&u.jsxs("div",{className:"space-y-4 animate-in slide-in-from-right-4 fade-in duration-200",children:[u.jsx("h4",{className:"text-sm font-bold text-gray-900 border-b pb-2",children:"Editar Linha Divisria"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-medium text-gray-500",children:"X (pol)"}),u.jsx("input",{type:"number",step:"0.1",value:c.lineX??.5,onChange:B=>d($=>({...$,lineX:parseFloat(B.target.value)})),className:"w-full px-2 py-2 border rounded-lg text-sm"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Y (pol)"}),u.jsx("input",{type:"number",step:"0.1",value:c.lineY??.9,onChange:B=>d($=>({...$,lineY:parseFloat(B.target.value)})),className:"w-full px-2 py-2 border rounded-lg text-sm"})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Largura (pol)"}),u.jsx("input",{type:"number",step:"0.1",value:c.lineWidth??9,onChange:B=>d($=>({...$,lineWidth:parseFloat(B.target.value)})),className:"w-full px-2 py-2 border rounded-lg text-sm"})]})]}),j?u.jsxs("div",{className:"space-y-4 animate-in slide-in-from-right-4 fade-in duration-200",children:[u.jsx("h4",{className:"text-sm font-bold text-gray-900 border-b pb-2",children:"Editar Texto Selecionado"}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Contedo"}),u.jsx("input",{type:"text",value:j.text,onChange:B=>L(j.id,{text:B.target.value}),className:"w-full px-3 py-2 border rounded-lg text-sm bg-gray-50 focus:bg-white transition-colors outline-none focus:ring-2 focus:ring-indigo-500"}),u.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[u.jsxs("button",{onClick:()=>L(j.id,{text:j.text+"{cliente}"}),className:"px-2 py-1 bg-indigo-50 text-indigo-700 hover:bg-indigo-100 border border-indigo-200 rounded text-[10px] font-medium transition-colors",title:"Nome do Cliente",children:["+ ","{cliente}"]}),u.jsxs("button",{onClick:()=>L(j.id,{text:j.text+"{projeto}"}),className:"px-2 py-1 bg-indigo-50 text-indigo-700 hover:bg-indigo-100 border border-indigo-200 rounded text-[10px] font-medium transition-colors",title:"Nome do Projeto",children:["+ ","{projeto}"]}),u.jsxs("button",{onClick:()=>L(j.id,{text:j.text+"{data}"}),className:"px-2 py-1 bg-indigo-50 text-indigo-700 hover:bg-indigo-100 border border-indigo-200 rounded text-[10px] font-medium transition-colors",title:"Data Atual (DD/MM/AAAA)",children:["+ ","{data}"]}),u.jsxs("button",{onClick:()=>L(j.id,{text:j.text+"{contexto}"}),className:"px-2 py-1 bg-indigo-50 text-indigo-700 hover:bg-indigo-100 border border-indigo-200 rounded text-[10px] font-medium transition-colors",title:"Contedo: Context Overview",children:["+ ","{contexto}"]})]}),u.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Variveis sero preenchidas ao gerar o PPT."})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-medium text-gray-500",children:"X (pol)"}),u.jsx("input",{type:"number",step:"0.1",value:j.x,onChange:B=>L(j.id,{x:parseFloat(B.target.value)}),className:"w-full px-2 py-2 border rounded-lg text-sm"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Y (pol)"}),u.jsx("input",{type:"number",step:"0.1",value:j.y,onChange:B=>L(j.id,{y:parseFloat(B.target.value)}),className:"w-full px-2 py-2 border rounded-lg text-sm"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-medium text-gray-500",children:"W (pol)"}),u.jsx("input",{type:"number",step:"0.1",value:j.width&&j.width>0?j.width:"",onChange:B=>L(j.id,{width:parseFloat(B.target.value)||0}),className:"w-full px-2 py-2 border rounded-lg text-sm",placeholder:"Auto"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-medium text-gray-500",children:"H (pol)"}),u.jsx("input",{type:"number",step:"0.1",value:j.height&&j.height>0?j.height:"",onChange:B=>L(j.id,{height:parseFloat(B.target.value)||0}),className:"w-full px-2 py-2 border rounded-lg text-sm",placeholder:"Auto"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Tamanho (pt)"}),u.jsx("input",{type:"number",value:j.fontSize,onChange:B=>L(j.id,{fontSize:parseInt(B.target.value)}),className:"w-full px-3 py-2 border rounded-lg text-sm"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Cor (Hex)"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"relative w-8 h-8 rounded border border-gray-300 overflow-hidden shrink-0 cursor-pointer",children:u.jsx("input",{type:"color",value:`#${j.color}`,onChange:B=>L(j.id,{color:B.target.value.replace("#","").toUpperCase()}),className:"absolute inset-0 w-[150%] h-[150%] -top-1/4 -left-1/4 p-0 m-0 border-0 cursor-pointer"})}),u.jsx("input",{type:"text",value:j.color,onChange:B=>L(j.id,{color:B.target.value.replace("#","").toUpperCase()}),className:"w-full px-3 py-2 border rounded-lg text-sm font-mono uppercase",maxLength:6})]})]})]}),u.jsx("div",{className:"flex items-center gap-2 pt-2",children:u.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer select-none",children:[u.jsx("input",{type:"checkbox",checked:j.bold,onChange:B=>L(j.id,{bold:B.target.checked}),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),"Negrito"]})}),u.jsxs("button",{onClick:()=>w(j.id),className:"w-full mt-4 py-2 text-red-600 hover:bg-red-50 border border-red-200 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2",children:[u.jsx(fi,{size:14})," Excluir Texto"]})]}):!s&&u.jsx("div",{className:"text-center text-gray-400 mt-10 text-sm",children:"Selecione um texto para editar"}),s&&u.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[u.jsx("h5",{className:"text-xs font-bold text-gray-500 mb-2 uppercase",children:"Ferramentas de Logo"}),u.jsxs("div",{className:"text-[10px] text-gray-400 font-mono mb-2",children:["Pos: ",((R=c.logoX)==null?void 0:R.toFixed(2))??"?",'" x ',((C=c.logoY)==null?void 0:C.toFixed(2))??"?",'"']}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[u.jsx("button",{onClick:()=>d(B=>({...B,logoX:8.4,logoY:.15})),className:"py-1 px-2 bg-gray-50 text-gray-600 rounded text-[10px] hover:bg-gray-100 border border-gray-200",children:"Resetar (Canto)"}),u.jsx("button",{onClick:()=>d(B=>({...B,logoX:4,logoY:2.5})),className:"py-1 px-2 bg-gray-50 text-gray-600 rounded text-[10px] hover:bg-gray-100 border border-gray-200",children:"Mover Centro"}),u.jsx("button",{onClick:()=>{h&&c.logoWidth&&d(B=>({...B,logoHeight:B.logoWidth/h}))},className:"col-span-2 py-1 px-2 bg-indigo-50 text-indigo-700 rounded text-[10px] hover:bg-indigo-100 border border-indigo-200 font-bold",children:"Corrigir Proporo (Original)"})]})]}),s&&!m&&u.jsx("div",{className:"text-center text-gray-400 mt-2 text-xs px-4",children:r?"O logo est destacado com borda vermelha/azul para facilitar a localizao.":u.jsxs("div",{className:"text-red-500",children:["Nenhum logo disponvel.",u.jsx("br",{}),'Carregue um logo na seo "Branding Global".']})})]})]})]})})},e9=({slide:t,onDelete:e,onEdit:n,preview:r})=>{const{attributes:i,listeners:a,setNodeRef:s,transform:o,transition:l,isDragging:c}=VE({id:t.id}),d={transform:kl.Transform.toString(o),transition:l,zIndex:c?9999:"auto"},h=t.type==="automatic";return u.jsxs("div",{ref:s,style:d,className:`flex items-center gap-3 p-3 rounded-lg border mb-2 ${c?"shadow-lg ring-2 ring-indigo-500 bg-white":"bg-white border-gray-200"}`,children:[u.jsx("div",{...i,...a,className:"cursor-grab text-gray-400 hover:text-gray-600 p-1",children:u.jsx(cE,{size:20})}),u.jsx("div",{className:`p-1 rounded overflow-hidden flex-shrink-0 border border-gray-100 ${h?"bg-indigo-50":"bg-gray-50"}`,children:r?u.jsx("img",{src:r,alt:"Slide Preview",className:"h-10 w-16 object-cover rounded-sm"}):u.jsx("div",{className:`h-10 w-16 flex items-center justify-center ${h?"text-indigo-400":"text-gray-300"}`,children:h?u.jsx(CA,{size:20}):u.jsx(uE,{size:20})})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:`text-sm font-medium truncate ${h?"text-indigo-900":"text-gray-900"}`,children:t.name}),t.type==="automatic"&&u.jsx("span",{className:"text-[10px] text-indigo-500 uppercase font-bold tracking-wider",children:"Sistema"}),t.type==="custom"&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[10px] text-gray-400",children:"Slide Fixo (Imagem)"}),t.overlays&&t.overlays.length>0&&u.jsxs("span",{className:"text-[10px] bg-indigo-50 text-indigo-600 px-1.5 py-0.5 rounded-full font-medium",children:[t.overlays.length," textos"]})]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:()=>n&&n(t),className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:h?"Editar Layout/Branding":"Editar Textos Sobrepostos",children:h?u.jsx(CA,{size:18}):u.jsx(Ci,{size:18})}),!h&&u.jsx("button",{onClick:()=>e(t.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded transition-colors",title:"Excluir Slide",children:u.jsx(fi,{size:18})})]})]})},t9=()=>{const{user:t,isAdmin:e,approveUser:n,toggleAI:r}=Ny(),[i,a]=F.useState("general"),[s,o]=F.useState(""),[l,c]=F.useState(!1),[d,h]=F.useState(""),[p,m]=F.useState("gemini-1.5-flash"),[g,A]=F.useState("imagen-3"),[x,v]=F.useState(""),[y,b]=F.useState(""),[k,S]=F.useState(""),[L,w]=F.useState("initial"),[T,_]=F.useState(yg),[D,j]=F.useState(null),[N,R]=F.useState(null),[C,B]=F.useState([]);F.useEffect(()=>{var te;const z=localStorage.getItem("GEMINI_API_KEY");z&&o(z);const W=localStorage.getItem("GEMINI_TEXT_MODEL");W&&m(W);const O=localStorage.getItem("GEMINI_IMAGE_MODEL");O&&A(O);const M=localStorage.getItem("GEMINI_CUSTOM_CONTEXT_RULES");v(M||tf);const U=localStorage.getItem("GEMINI_INTERVIEWER_RULES");b(U||Zh);const Z=localStorage.getItem("GEMINI_INITIAL_UNDERSTANDING_PROMPT");S(Z||ef);const ne=localStorage.getItem("PPT_TEMPLATE_CONFIG");if(ne)try{const Q=JSON.parse(ne);Q.slides.find(G=>G.type==="automatic")||Q.slides.push(yg.slides[0]),_(Q),(te=Q.branding)!=null&&te.logoId&&zs(Q.branding.logoId).then(j)}catch(Q){console.error("Failed to load template config",Q)}},[]),F.useEffect(()=>{T!==yg&&localStorage.setItem("PPT_TEMPLATE_CONFIG",JSON.stringify(T))},[T]);const[$,J]=F.useState({});F.useEffect(()=>{i==="template"&&(async()=>{const W={};let O=!1;for(const M of T.slides)if(M.type==="custom"&&M.imageId&&!$[M.id])try{const U=await zs(M.imageId);U&&(W[M.id]=U,O=!0)}catch(U){console.error(`Failed to load preview for slide ${M.id}`,U)}O&&J(M=>({...M,...W}))})()},[T.slides,$,i]),F.useEffect(()=>{if(!e)return;const z=Ea(_n(at,"users"),sN("createdAt","desc")),W=nl(z,O=>{const M=O.docs.map(U=>U.data());B(M)});return()=>W()},[e]);const ee=AE(zf(Bp),zf(Op,{coordinateGetter:UE})),Y=z=>{const{active:W,over:O}=z;O&&W.id!==O.id&&_(M=>{const U=M.slides.findIndex(te=>te.id===W.id),Z=M.slides.findIndex(te=>te.id===O.id),ne=Up(M.slides,U,Z);return{...M,slides:ne}})},oe=F.useCallback(async z=>{if(z.length===0)return;const W=z[0],O=`slide-${Date.now()}`,M=`img-${O}`;try{await I_(M,W);const U={id:O,type:"custom",name:W.name.replace(/\.[^/.]+$/,""),imageId:M};_(Z=>({...Z,slides:[...Z.slides,U]}))}catch(U){console.error(U),alert("Erro ao salvar imagem do slide.")}},[]),{getRootProps:H,getInputProps:q}=h0({onDrop:oe,accept:{"image/*":[]},maxFiles:1}),se=async z=>{const W=T.branding[`${z}Id`];if(W&&typeof W=="string")try{await N_(W)}catch(O){console.error("Error deleting branding image",O)}_(O=>{const M={...O.branding};return delete M[`${z}Id`],delete M.logoWidth,delete M.logoHeight,{...O,branding:M}}),j(null)},he=(z,W)=>{N&&(_(O=>({...O,slides:O.slides.map(M=>M.id===N?{...M,overlays:z}:M),branding:W?{...O.branding,...W}:O.branding})),R(null))},ce=async(z,W)=>{if(W.length===0)return;const O=W[0],M=`brand-${z}`;try{await I_(M,O);let U={};if(z==="logo"){const Z=new FileReader;Z.readAsDataURL(O),await new Promise(ne=>{Z.onload=te=>{var G;const Q=new Image;Q.src=(G=te.target)==null?void 0:G.result,Q.onload=()=>{U={logoWidth:.5*(Q.naturalWidth/Q.naturalHeight),logoHeight:.5},ne()}}})}if(_(Z=>({...Z,branding:{...Z.branding,[`${z}Id`]:M,...U}})),z==="logo"){const Z=await zs(M);j(Z)}}catch(U){console.error(U),alert("Erro ao salvar imagem de branding.")}},Ae=async(z,W)=>{confirm("Remover este slide?")&&(W&&await N_(W),_(O=>({...O,slides:O.slides.filter(M=>M.id!==z)})))},xe=()=>{localStorage.setItem("GEMINI_API_KEY",s),localStorage.setItem("GEMINI_TEXT_MODEL",p),localStorage.setItem("GEMINI_IMAGE_MODEL",g),x!==tf?localStorage.setItem("GEMINI_CUSTOM_CONTEXT_RULES",x):localStorage.removeItem("GEMINI_CUSTOM_CONTEXT_RULES"),y!==Zh?localStorage.setItem("GEMINI_INTERVIEWER_RULES",y):localStorage.removeItem("GEMINI_INTERVIEWER_RULES"),k!==ef?localStorage.setItem("GEMINI_INITIAL_UNDERSTANDING_PROMPT",k):localStorage.removeItem("GEMINI_INITIAL_UNDERSTANDING_PROMPT"),localStorage.setItem("PPT_TEMPLATE_CONFIG",JSON.stringify(T)),s&&Ss.initialize(s),h("Configuraes salvas com sucesso!"),setTimeout(()=>h(""),3e3)},ve=()=>{window.confirm("Tem certeza que deseja restaurar as regras originais do prompt selecionado?")&&(L==="generation"?v(tf):L==="interviewer"?b(Zh):S(ef))},Ie=async(z,W)=>{try{await n(z,!W)}catch(O){console.error(O),alert("Erro ao atualizar status.")}},Ee=({id:z,label:W,icon:O})=>u.jsxs("button",{onClick:()=>a(z),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg transition-colors whitespace-nowrap ${i===z?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:[u.jsx(O,{size:16}),W]}),{getRootProps:pe,getInputProps:ge,isDragActive:be}=h0({onDrop:z=>ce("logo",z),accept:{"image/*":[]},maxFiles:1}),I=N?T.slides.find(z=>z.id===N):null;return u.jsxs("div",{className:"w-full h-full flex flex-col bg-gray-50/30",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center p-4 md:p-6 border-b border-gray-100 bg-white shadow-sm z-10 shrink-0",children:[u.jsxs("div",{className:"mb-4 sm:mb-0",children:[u.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Configuraes"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Gerencie acessos, integraes e comportamento da IA"})]}),u.jsxs("div",{className:"flex gap-1 bg-gray-50 p-1 rounded-xl border border-gray-200 overflow-x-auto max-w-full",children:[u.jsx(Ee,{id:"general",label:"Geral",icon:iu}),u.jsx(Ee,{id:"template",label:"Template PPT",icon:CA}),u.jsx(Ee,{id:"prompts",label:"Prompt IA",icon:Ci})]})]}),u.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[i==="general"&&u.jsx("div",{className:"h-full overflow-y-auto p-4 md:p-6 lg:p-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:u.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e&&u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 mb-6 border-b pb-4",children:[u.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg",children:u.jsx(Lj,{className:"text-indigo-600",size:24})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Gesto de Acessos"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Aprovao de logins e controle de permisses"})]})]}),u.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:u.jsxs("table",{className:"w-full text-sm text-left",children:[u.jsx("thead",{className:"text-xs text-gray-500 uppercase bg-gray-50 border-b",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-4 font-semibold",children:"Usurio"}),u.jsx("th",{className:"px-6 py-4 font-semibold",children:"Email"}),u.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Perfil"}),u.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Acesso IA"}),u.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Status"}),u.jsx("th",{className:"px-6 py-4 text-right font-semibold",children:"Ao"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-100",children:C.map(z=>u.jsxs("tr",{className:"bg-white hover:bg-gray-50/50 transition-colors",children:[u.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:u.jsxs("div",{className:"flex items-center gap-2",children:[z.displayName||"Sem Nome",z.uid===(t==null?void 0:t.uid)&&u.jsx("span",{className:"text-[10px] bg-indigo-100 text-indigo-700 px-1.5 py-0.5 rounded font-bold",children:"VOC"})]})}),u.jsx("td",{className:"px-6 py-4 text-gray-500",children:z.email}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsx("span",{className:`inline-block px-2.5 py-1 rounded text-xs font-bold ${z.role==="master"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-600"}`,children:z.role.toUpperCase()})}),u.jsx("td",{className:"px-6 py-4 text-center",children:z.role!=="master"&&u.jsx("div",{className:"flex justify-center",children:u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer group",title:"Permitir uso de IA",children:[u.jsx("input",{type:"checkbox",className:"sr-only peer",checked:z.canUseAI,onChange:()=>r&&r(z.uid,!z.canUseAI)}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})})}),u.jsx("td",{className:"px-6 py-4 text-center",children:z.isApproved?u.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-green-50 text-green-700 font-bold text-xs border border-green-100",children:[u.jsx(ml,{size:12})," Ativo"]}):u.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-amber-50 text-amber-700 font-bold text-xs border border-amber-100 animate-pulse",children:[u.jsx(Mj,{size:12})," Pendente"]})}),u.jsx("td",{className:"px-6 py-4 text-right",children:z.role!=="master"&&(z.isApproved?u.jsx("button",{onClick:()=>Ie(z.uid,!0),className:"text-red-500 hover:text-red-700 font-medium text-xs border border-red-200 hover:bg-red-50 px-3 py-1.5 rounded transition-colors",children:"Bloquear"}):u.jsx("button",{onClick:()=>Ie(z.uid,!1),className:"bg-green-600 text-white hover:bg-green-700 font-medium text-xs px-4 py-1.5 rounded shadow-sm shadow-green-200 transition-all transform active:scale-95",children:"Aprovar Acesso"}))})]},z.uid))})]})})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center gap-2",children:[u.jsx("div",{className:"p-1.5 bg-gray-100 rounded text-gray-600",children:u.jsx(iu,{size:20})}),"Integraes & Chaves"]}),u.jsxs("div",{className:"max-w-2xl",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Google Gemini API Key"}),u.jsxs("div",{className:"relative group",children:[u.jsx("input",{type:l?"text":"password",value:s,onChange:z=>o(z.target.value),placeholder:"Cole sua API Key do Google AI Studio aqui",className:"w-full pl-4 pr-12 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-mono text-sm bg-gray-50 focus:bg-white"}),u.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:l?u.jsx(yj,{size:18}):u.jsx(xj,{size:18})})]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-2 flex items-center gap-1",children:["Necessrio para utilizar as funcionalidades de Estimativa Inteligente.",u.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 font-medium hover:underline inline-flex items-center gap-0.5 ml-1",children:["Obter chave ",u.jsx("span",{className:"text-[10px]",children:""})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6 pt-6 border-t border-gray-100",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Modelo de Texto (LLM)"}),u.jsx("input",{type:"text",value:p,onChange:z=>m(z.target.value),placeholder:"ex: gemini-1.5-flash",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-mono text-sm bg-gray-50 focus:bg-white"}),u.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Padro: gemini-1.5-flash"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Modelo de Imagem (Futuro)"}),u.jsx("input",{type:"text",value:g,onChange:z=>A(z.target.value),placeholder:"ex: imagen-3",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-mono text-sm bg-gray-50 focus:bg-white"}),u.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Padro: imagen-3"})]})]})]})]})]})}),i==="template"&&u.jsx("div",{className:"h-full overflow-y-auto p-4 md:p-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:u.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsx("div",{className:"lg:col-span-1 space-y-6",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:"Branding Global"}),u.jsx("p",{className:"text-xs text-gray-500 mb-6",children:"Estes elementos sero aplicados aos Slides Automticos."}),u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("label",{className:"text-xs font-bold text-gray-700 uppercase tracking-wide",children:"Logomarca (PNG)"}),T.branding.logoId&&u.jsx("button",{onClick:z=>{z.stopPropagation(),se("logo")},className:"text-red-500 hover:text-red-700 hover:bg-red-50 p-1 rounded transition-colors",title:"Remover Logo",children:u.jsx(fi,{size:14})})]}),u.jsxs("div",{...pe(),className:`border-2 border-dashed rounded-lg p-4 flex flex-col items-center justify-center cursor-pointer transition-colors relative ${be?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,children:[u.jsx("input",{...ge()}),D?u.jsxs("div",{className:"flex flex-col items-center gap-2 w-full",children:[u.jsx("div",{className:"h-24 w-full flex items-center justify-center bg-gray-50 rounded border border-gray-100 p-2",children:u.jsx("img",{src:D,alt:"Logo",className:"max-h-full max-w-full object-contain"})}),u.jsxs("div",{className:"w-full mt-2 pt-2 border-t border-gray-100 flex flex-col gap-3",onClick:z=>z.stopPropagation(),children:[u.jsxs("div",{className:"text-[10px] text-center text-gray-400 font-mono",children:[(T.branding.logoWidth??0).toFixed(2),'" x ',(T.branding.logoHeight??0).toFixed(2),'"']}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Pos X (pol)"}),u.jsx("input",{type:"number",step:"0.1",value:T.branding.logoX??8.4,onChange:z=>{const W=parseFloat(z.target.value);_(O=>({...O,branding:{...O.branding,logoX:W}}))},className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-indigo-500 bg-white",placeholder:"8.4"})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Pos Y (pol)"}),u.jsx("input",{type:"number",step:"0.1",value:T.branding.logoY??.15,onChange:z=>{const W=parseFloat(z.target.value);_(O=>({...O,branding:{...O.branding,logoY:W}}))},className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-indigo-500 bg-white",placeholder:"0.15"})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Largura (pol)"}),u.jsx("input",{type:"number",step:"0.1",value:T.branding.logoWidth??1.5,onChange:z=>{const W=parseFloat(z.target.value);if(W>0){const O=T.branding.logoWidth||1.5,M=T.branding.logoHeight||.5,U=O/M,Z=W/U;_(ne=>({...ne,branding:{...ne.branding,logoWidth:W,logoHeight:Z}}))}},className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-indigo-500 bg-white"}),u.jsxs("p",{className:"text-[10px] text-gray-400 text-right",children:["Altura Auto: ",(T.branding.logoHeight??0).toFixed(2),'"']})]})]})]}):u.jsxs("div",{className:"text-center text-gray-400 py-4",children:[u.jsx(uE,{className:"mx-auto mb-2",size:24}),u.jsx("span",{className:"text-xs",children:"Arraste logo aqui"})]}),T.branding.logoId&&!D&&u.jsx("div",{className:"absolute top-1 right-1 bg-green-500 text-white rounded-full p-1",children:u.jsx(ml,{size:8})})]})]})})]})}),u.jsx("div",{className:"lg:col-span-2",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 flex flex-col h-full min-h-[500px]",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Estrutura de Slides"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Defina a ordem do PPT Final. Arraste para reordenar."})]}),u.jsxs("div",{...H(),className:"cursor-pointer",children:[u.jsx("input",{...q()}),u.jsxs("button",{className:"flex items-center gap-2 bg-indigo-50 hover:bg-indigo-100 text-indigo-700 px-3 py-2 rounded-lg text-sm font-bold border border-indigo-200 transition-colors",children:[u.jsx(Yr,{size:16})," Add Slide da Capa/Fim"]})]})]}),u.jsxs("div",{className:"flex-1 bg-gray-50 rounded-xl p-4 border border-gray-200 overflow-y-auto",children:[u.jsx(jE,{sensors:ee,collisionDetection:bE,onDragEnd:Y,children:u.jsx(BE,{items:T.slides.map(z=>z.id),strategy:ME,children:T.slides.map(z=>u.jsx(e9,{slide:z,onDelete:W=>Ae(W,z.imageId),onEdit:()=>R(z.id),preview:$[z.id]},z.id))})}),T.slides.length===0&&u.jsx("div",{className:"text-center py-10 text-gray-400",children:"Nenhum slide configurado."})]})]})})]})}),i==="prompts"&&u.jsx("div",{className:"h-full flex flex-col p-4 md:p-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:u.jsxs("div",{className:"flex-1 flex flex-col bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[u.jsxs("div",{className:"flex border-b border-gray-100 bg-gray-50/50",children:[u.jsx("button",{onClick:()=>w("initial"),className:`flex-1 py-3 px-4 text-sm font-bold transition-colors ${L==="initial"?"border-b-2 border-indigo-600 text-indigo-700 bg-white":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:"1. Entendimento Inicial"}),u.jsx("button",{onClick:()=>w("interviewer"),className:`flex-1 py-3 px-4 text-sm font-bold transition-colors ${L==="interviewer"?"border-b-2 border-indigo-600 text-indigo-700 bg-white":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:"2. Entrevistador (Chat)"}),u.jsx("button",{onClick:()=>w("generation"),className:`flex-1 py-3 px-4 text-sm font-bold transition-colors ${L==="generation"?"border-b-2 border-indigo-600 text-indigo-700 bg-white":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:"3. Documentao (Estimar)"})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center p-4 border-b border-gray-100 bg-white gap-4",children:[u.jsx("div",{children:L==="initial"?u.jsxs(u.Fragment,{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[u.jsx(Ei,{size:20,className:"text-indigo-600"}),"Validao de Entendimento (Fase 1)"]}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Prompt que orienta a IA a explicar o que entendeu do projeto ANTES de iniciar as perguntas."})]}):L==="interviewer"?u.jsxs(u.Fragment,{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[u.jsx(wA,{size:20,className:"text-indigo-600"}),"Instrues do Sistema (Fase 2 - Chat)"]}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Define a personalidade, regras de perguntas e algoritmo de confiana da entrevista."})]}):u.jsxs(u.Fragment,{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[u.jsx(Ci,{size:20,className:"text-indigo-600"}),"Regras de Documentao (Fase 3 - Sada)"]}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Edite apenas as regras de gerao da Documentao Tcnica (Contexto) e Planejamento."})]})}),u.jsxs("button",{onClick:ve,className:"flex items-center gap-2 text-xs font-medium text-gray-600 hover:text-indigo-700 bg-white hover:bg-indigo-50 border border-gray-200 hover:border-indigo-200 px-3 py-2 rounded-lg transition-all shadow-sm",title:"Restaurar regra padro",children:[u.jsx(Pj,{size:14}),"Restaurar Padro"]})]}),u.jsxs("div",{className:"flex-1 relative group bg-indigo-50/10 flex flex-col",children:[L==="generation"?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"px-6 py-2 bg-gray-100 border-b border-gray-200 text-xs text-gray-400 font-mono select-none flex items-center gap-2",children:[u.jsx(Zm,{size:12}),"[SISTEMA: Identidade, Regras SDLC e Formato JSON] (No editvel)"]}),u.jsx("div",{className:"px-6 py-2 bg-indigo-100/50 border-b border-indigo-100 text-xs text-indigo-700 font-bold font-mono select-none uppercase tracking-wide",children:" Suas regras de gerao (Injetadas no prompt)"}),u.jsx("textarea",{value:x,onChange:z=>v(z.target.value),className:"flex-1 w-full p-4 md:p-6 font-mono text-sm leading-relaxed text-indigo-900 bg-white outline-none resize-none selection:bg-indigo-100",placeholder:"Digite as instrues para Contexto e Planejamento aqui...",spellCheck:!1}),u.jsxs("div",{className:"px-6 py-2 bg-gray-100 border-t border-gray-200 text-xs text-gray-400 font-mono select-none flex items-center gap-2",children:[u.jsx(Zm,{size:12}),"[SISTEMA: Exemplo de Sada JSON] (No editvel)"]})]}):L==="interviewer"?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"px-6 py-2 bg-indigo-100/50 border-b border-indigo-100 text-xs text-indigo-700 font-bold font-mono select-none uppercase tracking-wide",children:" Instruo de Sistema Completa (Substitui o padro)"}),u.jsx("textarea",{value:y,onChange:z=>b(z.target.value),className:"flex-1 w-full p-4 md:p-6 font-mono text-sm leading-relaxed text-indigo-900 bg-white outline-none resize-none selection:bg-indigo-100",placeholder:"Digite as instrues completas para o comportamento da IA...",spellCheck:!1})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"px-6 py-2 bg-indigo-100/50 border-b border-indigo-100 text-xs text-indigo-700 font-bold font-mono select-none uppercase tracking-wide",children:" Instruo para Fase de Entendimento Inicial (Validao)"}),u.jsx("textarea",{value:k,onChange:z=>S(z.target.value),className:"flex-1 w-full p-4 md:p-6 font-mono text-sm leading-relaxed text-indigo-900 bg-white outline-none resize-none selection:bg-indigo-100",placeholder:"Digite as instrues para a IA resumir o projeto...",spellCheck:!1})]}),u.jsxs("div",{className:"absolute top-24 right-8 pointer-events-none opacity-50 text-[10px] text-gray-400 bg-white/90 px-2 py-1 rounded border border-gray-100 backdrop-blur-sm z-10",children:[(L==="generation"?x:L==="interviewer"?y:k).length," caracteres"]})]}),L==="generation"&&u.jsxs("div",{className:"p-3 bg-blue-50 border-t border-blue-100 text-xs text-blue-800 flex items-start gap-2",children:[u.jsx(Zm,{size:14,className:"mt-0.5 shrink-0"}),u.jsx("span",{className:"opacity-90 leading-relaxed",children:"O texto acima ser inserido no centro do Prompt do Sistema, entre as regras rgidas do sistema (SDLC) e o formato de sada JSON. Use isso para personalizar o estilo da documentao ou adicionar novas sees ao relatrio."})]})]})})]}),u.jsxs("div",{className:"p-4 md:p-6 border-t border-gray-200 bg-white shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] z-20 shrink-0 flex justify-between items-center",children:[u.jsx("div",{className:"flex-1",children:d&&u.jsxs("span",{className:"inline-flex items-center gap-2 text-green-700 bg-green-50 px-3 py-1.5 rounded-lg text-sm font-medium animate-in slide-in-from-left-2 fade-in",children:[u.jsx(ml,{size:16})," ",d]})}),u.jsxs("button",{onClick:xe,className:"flex items-center gap-2 bg-indigo-600 text-white px-8 py-3 rounded-xl hover:bg-indigo-700 hover:shadow-lg hover:shadow-indigo-200 transition-all font-bold transform active:scale-95",children:[u.jsx(jp,{size:18}),"Salvar Alteraes"]})]}),I&&u.jsx(ZV,{slide:I,preview:$[I.id],branding:T.branding,logoPreview:D,onClose:()=>R(null),onSave:he})]})},Ry=({content:t,className:e=""})=>{if(!t)return null;let n=t.replace(/([^\n])\s-\s\*\*/g,`$1
- **`);n=n.replace(/([^\n])(#{3,})/g,`$1
$2`);const r=n.split(`
`),i=[];let a=[],s=[],o=0;const l=()=>{a.length>0&&(i.push(u.jsx("ul",{className:"list-disc pl-5 space-y-2 mb-4",children:a.map((d,h)=>u.jsx("li",{className:"pl-1",children:Wc(d)},h))},`list-${o++}`)),a=[])},c=()=>{if(s.length>0){const d=s.map(h=>h.split("|").map(p=>p.trim()).filter((p,m,g)=>m>0&&m<g.length-1));if(d.length>=2){const h=d[0],p=d.slice(1).filter(m=>{var g;return!((g=m[0])!=null&&g.match(/^[: -]+$/))});i.push(u.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 mb-6 shadow-sm",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50 text-gray-700 font-semibold",children:u.jsx("tr",{children:h.map((m,g)=>u.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider border-b border-gray-200",children:Wc(m)},g))})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:p.map((m,g)=>u.jsx("tr",{className:"hover:bg-gray-50 transition-colors",children:m.map((A,x)=>u.jsx("td",{className:"px-6 py-4 whitespace-nowrap md:whitespace-normal text-gray-700 leading-snug",children:Wc(A)},x))},g))})]})},`table-${o++}`))}s=[]}};return r.forEach((d,h)=>{const p=d.trim();if(!p){l(),c();return}if(p.startsWith("|")){l(),s.push(p);return}if(p.startsWith("- ")||p.startsWith("* ")){c(),a.push(p.substring(2));return}if(l(),c(),p.startsWith("### ")){i.push(u.jsx("h4",{className:"text-lg font-bold text-gray-900 mt-6 mb-3 border-b border-gray-100 pb-2",children:p.replace("### ","")},`h4-${o++}`));return}if(p.startsWith("#### ")){i.push(u.jsx("h5",{className:"font-bold text-gray-800 mt-4 mb-2",children:p.replace("#### ","")},`h5-${o++}`));return}i.push(u.jsx("p",{className:"mb-4 last:mb-0 text-justify",children:Wc(p)},`p-${o++}`))}),l(),c(),u.jsx("div",{className:`text-gray-700 text-sm leading-relaxed ${e}`,children:i})},Wc=t=>t.includes("<br/>")||t.includes("<br>")?t.split(/<br\/?>/g).reduce((r,i,a)=>(a>0&&r.push(u.jsx("br",{},`br-${a}`)),r.push(...Wc(i)),r),[]):t.includes("**")?t.split(/(\*\*.*?\*\*)/g).map((n,r)=>n.startsWith("**")&&n.endsWith("**")?u.jsx("strong",{className:"font-semibold text-gray-900",children:n.slice(2,-2)},r):n):[t],n9=({estimate:t,onApply:e,isApplying:n})=>{const[r,i]=F.useState("summary"),a=({id:s,label:o,icon:l})=>u.jsxs("button",{onClick:()=>i(s),className:`flex items - center gap - 2 px - 4 py - 2 text - sm font - medium rounded - lg transition - colors ${r===s?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"} `,children:[u.jsx(l,{size:16}),o]});return u.jsxs("div",{className:"w-full",children:[u.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2 text-gray-900",children:[u.jsx(Ei,{size:18,className:"text-yellow-500"}),"Proposta de Projeto Gerada"]}),u.jsxs("div",{className:"flex gap-2 mb-4 border-b border-gray-200 pb-2 overflow-x-auto",children:[u.jsx(a,{id:"summary",label:"Resumo & Gantt",icon:Oh}),u.jsx(a,{id:"context",label:"Contexto do Projeto",icon:Ci}),u.jsx(a,{id:"planning",label:"Premissas & RACI",icon:Mu}),u.jsx(a,{id:"delta",label:"Escopo (Delta)",icon:Wb})]}),u.jsxs("div",{className:"min-h-[300px]",children:[r==="summary"&&u.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[u.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:t.description||"Cronograma gerado com sucesso."}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200 text-sm space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Projeto"}),u.jsx("span",{className:"font-medium text-gray-900",children:t.project_name})]}),u.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Total de Tarefas"}),u.jsx("span",{className:"bg-indigo-100 text-indigo-700 px-2 py-0.5 rounded-full text-xs font-bold",children:t.tasks.length})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-semibold text-gray-600",children:"Confiana da IA"}),u.jsxs("span",{className:`font - bold ${t.confidence_score>.7?"text-green-600":"text-orange-500"} `,children:[(t.confidence_score*100).toFixed(0),"%"]})]})]}),u.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-4 rounded-xl",children:[u.jsx("h4",{className:"font-semibold text-blue-900 text-sm mb-2",children:"Prximos Passos"}),u.jsx("p",{className:"text-blue-700 text-xs",children:'Revise os detalhes nas abas "Contexto" e "Premissas" antes de gerar o grfico. Ao clicar em gerar, as tarefas sero importadas para o cronograma interativo.'})]}),u.jsx("button",{onClick:e,disabled:n,className:`w - full py - 3 rounded - xl font - bold transition - all flex items - center justify - center gap - 2 shadow - sm ${n?"bg-green-700 text-white/80 cursor-wait":"bg-green-600 hover:bg-green-700 hover:shadow-md text-white"} `,children:n?u.jsxs(u.Fragment,{children:[u.jsx(Os,{size:18,className:"animate-spin"})," Criando Tarefas..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Oh,{size:18})," Aprovar e Gerar Gantt"]})})]}),r==="context"&&u.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300 text-sm h-[350px] overflow-y-auto custom-scrollbar pr-2",children:[t.team_structure&&t.team_structure.length>0&&u.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[u.jsxs("h4",{className:"font-bold mb-4 flex items-center gap-2 text-indigo-900",children:[u.jsx(Za,{size:18,className:"text-indigo-600"}),"Time do Projeto (Escopo Geral)"]}),u.jsx("div",{className:"flex flex-wrap gap-4 mb-6 justify-center sm:justify-start",children:t.team_structure.map((s,o)=>u.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 px-3 py-2 rounded-lg border border-gray-100 min-w-[200px]",children:[u.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold shrink-0",children:s.role.substring(0,2).toUpperCase()}),u.jsxs("div",{className:"text-xs",children:[u.jsx("div",{className:"font-bold text-gray-800",children:s.role}),u.jsx("div",{className:"text-gray-500",children:s.quantity>1?`${s.quantity} Profissionais`:"1 Profissional"})]})]},o))}),u.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 shadow-sm",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-indigo-600 text-white",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 py-2 text-left text-xs font-bold uppercase tracking-wider",children:"Perfil"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-bold uppercase tracking-wider w-16 text-center",children:"Qtde"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-bold uppercase tracking-wider",children:"Responsabilidades / Habilidades"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.team_structure.map((s,o)=>u.jsxs("tr",{className:o%2===0?"bg-indigo-50/50":"bg-white",children:[u.jsx("td",{className:"px-3 py-2 text-gray-800 font-bold text-xs",children:s.role}),u.jsx("td",{className:"px-3 py-2 text-gray-600 text-xs font-bold text-center",children:s.quantity}),u.jsx("td",{className:"px-3 py-2 text-gray-600 text-xs text-justify leading-relaxed",children:u.jsx("ul",{className:"list-disc pl-4 space-y-1",children:s.responsibilities.map((l,c)=>u.jsx("li",{children:l},c))})})]},o))})]})})]}),t.documentation?u.jsx("div",{className:"space-y-4",children:Object.entries(t.documentation).map(([s,o],l)=>{const c=s.split("_").map(m=>m.charAt(0).toUpperCase()+m.slice(1)).join(" ");let d="bg-gray-50/50 border-gray-100 text-gray-900",h="text-gray-600",p=Ci;return s==="context_overview"?(d="bg-indigo-50/50 border-indigo-100 text-indigo-900",h="text-indigo-600",p=to):s==="technical_solution"?(d="bg-blue-50/50 border-blue-100 text-blue-900",h="text-blue-600",p=Ci):s==="implementation_steps"?(d="bg-green-50/50 border-green-100 text-green-900",h="text-green-600",p=Oh):s==="testing_strategy"&&(d="bg-teal-50/50 border-teal-100 text-teal-900",h="text-teal-600",p=Mu),u.jsxs("div",{className:`${d} p-4 rounded-xl border`,children:[u.jsxs("h4",{className:"font-bold mb-2 flex items-center gap-2 capitalize",children:[u.jsx(p,{size:16,className:h}),c]}),u.jsx(Ry,{content:o,className:"text-xs"})]},s)})}):u.jsx("div",{className:"text-center py-10 text-gray-500 italic",children:"Documentao detalhada no disponvel para esta estimativa."})]}),r==="planning"&&u.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300 text-sm",children:t.strategic_planning?u.jsxs(u.Fragment,{children:[u.jsxs("section",{children:[u.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Premissas Tcnicas"}),u.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-700 bg-white p-3 rounded-lg border border-gray-200",children:(t.strategic_planning.technical_premises||[]).map((s,o)=>u.jsx("li",{children:s},o))})]}),u.jsxs("section",{children:[u.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Responsabilidades do Cliente (Prazos Crticos)"}),u.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 shadow-sm",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ao Necessria"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prazo"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Impacto"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(t.strategic_planning.client_responsibilities||[]).map((s,o)=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-3 py-2 text-gray-800",children:s.action_item}),u.jsx("td",{className:"px-3 py-2 text-gray-600 italic",children:s.deadline_description}),u.jsx("td",{className:"px-3 py-2",children:u.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${s.impact==="BLOCKER"?"bg-red-100 text-red-800":s.impact==="HIGH"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:s.impact})})]},o))})]})})]}),u.jsxs("section",{children:[u.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Matriz RACI Sugerida"}),u.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 shadow-sm",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Atividade"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",title:"Responsvel (Executor)",children:"R"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",title:"Aprovador (Accountable)",children:"A"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",title:"Consultado",children:"C"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",title:"Informado",children:"I"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(t.strategic_planning.raci_matrix||[]).map((s,o)=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-3 py-2 text-gray-800 font-medium",children:s.activity_group}),u.jsx("td",{className:"px-3 py-2 text-gray-600 text-xs",children:s.responsible}),u.jsx("td",{className:"px-3 py-2 text-gray-600 text-xs",children:s.accountable}),u.jsx("td",{className:"px-3 py-2 text-gray-600 text-xs",children:s.consulted}),u.jsx("td",{className:"px-3 py-2 text-gray-600 text-xs",children:s.informed})]},o))})]})})]})]}):u.jsx("div",{className:"text-center py-10 text-gray-500 italic",children:"Dados de planejamento estratgico no gerados."})}),r==="delta"&&u.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300 text-sm h-[350px] overflow-y-auto custom-scrollbar pr-2",children:t.scope_delta?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200",children:[u.jsxs("h4",{className:"font-bold text-gray-700 mb-2 flex items-center gap-2",children:[u.jsx(to,{size:16})," Escopo Inicial"]}),u.jsx("p",{className:"text-gray-600",children:t.scope_delta.original_scope_summary})]}),u.jsxs("div",{className:"bg-indigo-50 p-4 rounded-xl border border-indigo-200",children:[u.jsxs("h4",{className:"font-bold text-indigo-900 mb-2 flex items-center gap-2",children:[u.jsx(Ei,{size:16})," Escopo Final"]}),u.jsx("p",{className:"text-indigo-800",children:t.scope_delta.final_scope_summary})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-gray-900 mb-3 px-1 border-b pb-2",children:"Mudanas e Justificativas"}),u.jsx("div",{className:"space-y-3",children:t.scope_delta.changes.map((s,o)=>u.jsxs("div",{className:`p-3 rounded-lg border-l-4 shadow-sm bg-white ${s.type==="added"?"border-l-emerald-500":s.type==="removed"?"border-l-red-500":"border-l-amber-500"}`,children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsx("span",{className:"font-bold text-gray-800",children:s.item}),u.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded uppercase ${s.type==="added"?"bg-emerald-100 text-emerald-700":s.type==="removed"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:s.type==="added"?"Adicionado":s.type==="removed"?"Removido":"Modificado"})]}),u.jsxs("p",{className:"text-xs text-gray-600 italic mt-1",children:['"',s.justification,'"']})]},o))})]})]}):u.jsxs("div",{className:"text-center py-12 text-gray-400 bg-gray-50 rounded-xl border border-dashed border-gray-300",children:[u.jsx(Wb,{size:48,className:"mx-auto mb-3 opacity-20"}),u.jsx("p",{className:"font-medium",children:"Anlise de Delta no disponvel."}),u.jsx("p",{className:"text-xs mt-1",children:"Gere uma nova estimativa para visualizar."})]})})]})]})},r9=({isOpen:t,onClose:e,onApplyEstimate:n,user:r,clientContext:i="",knowledgeBase:a=[]})=>{const[s,o]=F.useState([]),[l,c]=F.useState(""),[d,h]=F.useState([]),[p,m]=F.useState(!1),[g,A]=F.useState(null),[x,v]=F.useState("idle"),[y,b]=F.useState(""),[k,S]=F.useState([]),[L,w]=F.useState(!1),[T]=F.useState(Ss.isConfigured());(r==null?void 0:r.role)==="admin"||(r==null||r.role);const[_,D]=F.useState(!1),[j,N]=F.useState(null),[R,C]=F.useState({}),[B,$]=F.useState({}),[J,ee]=F.useState({}),[Y,oe]=F.useState(""),H=F.useRef(null),q=F.useRef(null);F.useEffect(()=>{t&&(o([{id:"welcome",role:"assistant",content:"Ol! Sou o Assistente UERJ-FAF. Posso ajudar voc a estruturar e estimar seu projeto de software. Descreva sua ideia ou faa upload de documentos para comearmos."}]),N(null),C({}),$({}),ee({}),D(!1),oe(""),v("idle"),b(""),c(""),h([]),A(null),w(!1))},[t]),F.useEffect(()=>{var ge;(ge=H.current)==null||ge.scrollIntoView({behavior:"smooth"})},[s,j]);const se=async ge=>{if(ge.target.files&&ge.target.files.length>0){const be=Array.from(ge.target.files),I=await Promise.all(be.map(z=>new Promise(W=>{const O=new FileReader;O.onloadend=()=>W({name:z.name,type:z.type,data:O.result}),O.readAsDataURL(z)})));h(z=>[...z,...I]),ge.target.value=""}},he=(ge,be)=>{$(I=>({...I,[ge]:be}))},ce=(ge,be)=>{ee(I=>({...I,[ge]:be}))},Ae=async(ge=!1)=>{if(!j)return;m(!0);const be={};j.questions.forEach(O=>{const M=B[O.id],U=J[O.id];M&&U?be[O.id]=`${M} [Detalhes/Complemento: ${U}]`:M?be[O.id]=M:U&&(be[O.id]=U)});const I={...R,...be};C(I);const z=Object.entries(be).map(([O,M])=>({questionId:O,answer:M})),W=`**Respostas enviadas:**
`+Object.entries(be).map(([O,M])=>{const U=j.questions.find(Z=>Z.id===O);return`- **${U==null?void 0:U.text.substring(0,40)}${U!=null&&U.text&&U.text.length>40?"...":""}**: ${M}`}).join(`
`);o(O=>[...O,{id:Date.now().toString(),role:"user",content:W}]);try{if(ge){const O=j.current_confidence_score||0;N(null),D(!1);let M=`CONTEXTO ACUMULADO:
${Y}

`;M+=`DETALHAMENTO TCNICO DOS REQUISITOS (VIA ENTREVISTA):
`,Object.entries(I).forEach(([Z,ne])=>{M+=`[${Z}]: ${ne}
`}),M+=`

=== DIRETRIZ DE CONFIANA (MANDATRIO) ===
`,M+=`A auditoria tcnica avaliou a confiana atual em: ${O}%.
`,M+=`Voc DEVE usar um valor prximo a este (entre ${Math.max(0,O-5)}% e ${Math.min(100,O+5)}%) no campo 'confidence_score' do JSON final (formato float 0.0-1.0, ex: ${(O/100).toFixed(2)}).
`,M+="NO INFLACIONE A NOTA. Seja coerente com a auditoria.",o(Z=>[...Z,{id:Date.now().toString()+"gen",role:"assistant",content:"Entendido. Com base em todo o contexto refinado, estou gerando o planejamento executivo final..."}]);const U=await Ss.generateEstimate([{role:"user",parts:[{text:M}]}],d);o(Z=>[...Z,{id:Date.now().toString(),role:"assistant",content:U.description||"Estimativa gerada com sucesso.",estimate:U}])}else{const O=await Ss.refineRequirements(s.filter(M=>M.id!=="welcome"&&!M.isError).map(M=>({role:M.role==="user"?"user":"model",parts:[{text:M.content||M.text||""}]})),Y,z);N(O),$({}),ee({})}}catch(O){console.error(O),A("Erro ao processar. Tente novamente."),o(M=>[...M,{id:Date.now().toString()+"err",role:"assistant",isError:!0,content:"Houve um erro ao processar suas respostas. Por favor, tente novamente."}])}finally{m(!1)}},xe=async()=>{if(!l.trim()&&d.length===0||p)return;const ge={id:Date.now().toString(),role:"user",content:l,text:l,attachments:d.map(z=>z.name)};o(z=>[...z,ge]);const be=l,I=[...d];c(""),h([]),m(!0),A(null);try{let z=x,W=_;if(s.length<=1&&(z="idle",W=!1,v("idle"),D(!1),N(null)),z!=="accepted"&&!W){N(null);let O=I;if(k.length>0){const ne=new Set(k.map(Q=>Q.name)),te=I.filter(Q=>!ne.has(Q.name));O=[...k,...te]}S(O),v("validating");const M=s.map(ne=>({role:ne.role==="user"?"user":"model",parts:[{text:ne.content||ne.text||""}]}));M.push({role:"user",parts:[{text:be}]});const U=await Ss.getInitialUnderstanding(M,O);b(U),v("reviewing");const Z={id:(Date.now()+1).toString(),role:"assistant",content:"Analisei o contexto atualizado. Por favor, valide meu entendimento revisto antes de prosseguirmos.",isError:!1};o(ne=>[...ne,Z])}else if(_)o(O=>[...O,{id:Date.now().toString(),role:"assistant",content:"Por favor, utilize o formulrio acima para responder s perguntas de refinamento, ou clique em 'Gerar Plano' se j estiver satisfeito."}]);else{D(!0),oe(be);const O=await Ss.refineRequirements(s.filter(M=>M.id!=="welcome"&&!M.isError).map(M=>({role:M.role==="user"?"user":"model",parts:[{text:M.content||M.text||""}]})).concat([{role:"user",parts:[{text:be}]}]),be,void 0,I);N(O)}}catch(z){console.error(z),A("Erro ao processar solicitao. Verifique sua API Key ou tente novamente."),D(!1),v("idle"),o(W=>[...W,{id:Date.now().toString()+"err",role:"assistant",isError:!0,content:`Erro: ${z.message||"Falha na comunicao com a IA"}`}])}finally{m(!1)}},ve=async(ge,be)=>{if(ge==="approve"){v("accepted"),D(!0),m(!0);try{const I=s.filter(M=>!M.isError&&M.id!=="welcome").map(M=>({role:M.role==="user"?"user":"model",parts:[{text:M.content||M.text||""}]})),z=s.find(M=>M.role==="user"),W=z?z.content||z.text||"":y;oe(W);const O=await Ss.refineRequirements(I,W,void 0,k);N(O)}catch(I){console.error(I),A("Erro ao iniciar refinamento. Verifique se o contedo do projeto  vlido."),D(!1),v("reviewing")}finally{m(!1)}}else v("idle"),b(""),o(I=>[...I,{id:Date.now().toString(),role:"assistant",content:"Entendido. Por favor, descreva em detalhes o que est incorreto ou o que falta considerar. Vou reavaliar o contexto com suas observaes."}])},Ie=async ge=>{if(!L){w(!0);try{await n(ge),e()}catch(be){console.error(be),w(!1)}}},Ee=()=>j?u.jsxs("div",{className:"bg-white border border-indigo-100 rounded-xl shadow-lg p-6 mb-4 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 text-indigo-800",children:[u.jsx("div",{className:"bg-indigo-100 p-2 rounded-lg",children:u.jsx(Fj,{size:20,className:"text-indigo-600"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-lg",children:"Refinamento de Escopo"}),u.jsx("p",{className:"text-xs text-indigo-600 max-w-xl",children:j.thought_process})]})]}),u.jsxs("div",{className:"mb-6 bg-gray-50 border border-gray-100 p-3 rounded-xl flex items-center gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex justify-between text-xs font-semibold uppercase tracking-wider text-gray-500 mb-1",children:[u.jsx("span",{children:"Confiabilidade da Estimativa Atual"}),u.jsxs("span",{className:`${j.current_confidence_score>=80?"text-green-600":j.current_confidence_score>=50?"text-amber-600":"text-red-500"}`,children:[j.current_confidence_score||0,"%"]})]}),u.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full overflow-hidden",children:u.jsx("div",{className:`h-full transition-all duration-500 rounded-full ${j.current_confidence_score>=80?"bg-green-500":j.current_confidence_score>=50?"bg-amber-500":"bg-red-500"}`,style:{width:`${j.current_confidence_score||0}%`}})})]}),u.jsx("div",{className:"text-xs text-gray-400 max-w-[200px] leading-tight hidden sm:block",children:j.current_confidence_score>=80?"Nvel timo. Podemos gerar o plano final.":"Ainda h incertezas. Recomenda-se mais uma rodada."})]}),u.jsx("div",{className:"space-y-6 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:j.questions.map((ge,be)=>u.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-100",children:[u.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:[u.jsxs("span",{className:"text-indigo-600 mr-2",children:[be+1,"."]}),ge.text]}),u.jsxs("div",{className:"space-y-2",children:[ge.options.map((I,z)=>{const W=I.toLowerCase().includes("[recomendado]")||I.toLowerCase().includes("(recomendado)"),O=I.replace(/\[recomendado\]/gi,"").replace(/\(recomendado\)/gi,"").trim();return u.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all ${B[ge.id]===I?"bg-indigo-50 border-indigo-300 ring-1 ring-indigo-300":"bg-white border-gray-200 hover:border-indigo-200"}`,children:[u.jsx("input",{type:"radio",name:ge.id,value:I,checked:B[ge.id]===I,onChange:M=>he(ge.id,M.target.value),className:"w-4 h-4 text-indigo-600 border-gray-300 focus:ring-indigo-500 mt-0.5 self-start"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("span",{className:"text-sm text-gray-700 block",children:O}),W&&u.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-bold bg-green-100 text-green-700 mt-1 uppercase tracking-wider",children:"Recomendado"})]})]},z)}),ge.allow_custom&&u.jsx("div",{className:"mt-2 text-xs",children:u.jsx("input",{type:"text",placeholder:"Complemento ou Resposta Personalizada...",className:`w-full text-sm p-3 rounded-lg border ${J[ge.id]?"border-indigo-300 ring-1 ring-indigo-300 bg-white":"bg-gray-50 border-gray-200 text-gray-700 focus:bg-white"} focus:ring-2 focus:ring-indigo-500 outline-none transition-all`,onChange:I=>ce(ge.id,I.target.value),value:J[ge.id]||""})})]})]},ge.id))}),u.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-100 sticky bottom-0 bg-white z-10",children:[u.jsxs("button",{onClick:()=>Ae(!1),disabled:p||j.questions.some(ge=>!B[ge.id]&&!J[ge.id]),className:"flex-1 py-3 px-4 bg-white border-2 border-indigo-600 text-indigo-700 font-bold rounded-xl hover:bg-indigo-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[p?u.jsx(Os,{size:16,className:"animate-spin"}):null,u.jsx("span",{children:p?"Processando...":"Responder e Prxima Rodada"}),!p&&u.jsx(vv,{size:16})]}),u.jsxs("button",{onClick:()=>Ae(!0),disabled:p||j.questions.some(ge=>!B[ge.id]&&!J[ge.id]),className:"flex-1 py-3 px-4 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-indigo-200 flex items-center justify-center gap-2",children:[p?u.jsx(Os,{size:16,className:"animate-spin"}):u.jsx(Ei,{size:16}),u.jsx("span",{children:p?"Gerando...":"Gerar Plano Agora"})]})]})]}):null,pe=(ge,be)=>{const I=ge.role==="user";return u.jsxs("div",{className:`flex gap-3 ${I?"flex-row-reverse":""} animate-in fade-in slide-in-from-bottom-2`,children:[u.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${I?"bg-gray-200 text-gray-600":"bg-indigo-600 text-white"}`,children:I?u.jsx(Ff,{size:18}):u.jsx(wA,{size:18})}),u.jsxs("div",{className:`max-w-[85%] ${I?"bg-gray-100":"bg-white border border-gray-100 shadow-sm"} p-4 rounded-2xl ${I?"rounded-tr-none":"rounded-tl-none"} text-sm text-gray-700`,children:[ge.content&&u.jsx("div",{className:"whitespace-pre-wrap leading-relaxed",children:ge.content}),ge.text&&!ge.content&&u.jsx("div",{className:"whitespace-pre-wrap leading-relaxed",children:ge.text}),ge.estimate&&u.jsx("div",{className:"mt-4 border-t border-gray-200 pt-3",children:u.jsx(n9,{estimate:ge.estimate,onApply:()=>Ie(ge.estimate),isApplying:L})}),ge.isError&&u.jsxs("div",{className:"mt-2 flex items-center gap-2 text-red-600 font-semibold",children:[u.jsx(ru,{size:16}),u.jsx("span",{children:"Erro na gerao"})]}),ge.attachments&&ge.attachments.length>0&&u.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:ge.attachments.map((z,W)=>u.jsxs("span",{className:"inline-flex items-center gap-1 bg-gray-200/50 px-2 py-1 rounded text-xs text-gray-600 border border-gray-300",children:[u.jsx(eg,{size:10})," ",z]},W))})]})]},ge.id||be)};return u.jsxs("div",{className:`fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6 transition-all duration-300 ${t?"opacity-100 visible":"opacity-0 invisible"}`,children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),u.jsxs("div",{className:`relative bg-white w-full ${_&&j?"max-w-7xl":"max-w-4xl"} h-[90vh] rounded-2xl shadow-2xl flex overflow-hidden ring-1 ring-gray-900/5 transition-all duration-500`,children:[u.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 bg-white z-10",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-indigo-50 p-2 rounded-xl",children:u.jsx(Ei,{className:"text-indigo-600",size:24})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-bold text-gray-900 leading-tight",children:"UERJ-FAF 2025"}),u.jsx("p",{className:"text-xs text-gray-500 font-medium flex items-center gap-1",children:T?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"IA Pronta para planejar"]}):"Configurao necessria"})]})]}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-400 hover:text-gray-600 transition-colors",children:u.jsx(Wr,{size:20})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 bg-gray-50/50 scroll-smooth relative",children:T?u.jsxs(u.Fragment,{children:[s.map((ge,be)=>pe(ge,be)),x==="reviewing"&&y&&u.jsx("div",{className:"flex w-full justify-start animate-in fade-in slide-in-from-left-2 duration-500 mb-6",children:u.jsxs("div",{className:"flex max-w-[90%] md:max-w-[85%] gap-3 flex-row",children:[u.jsx("div",{className:"shrink-0 w-8 h-8 rounded-full bg-indigo-100 border border-indigo-200 text-indigo-700 flex items-center justify-center",children:u.jsx(Ei,{size:16})}),u.jsx("div",{className:"flex flex-col gap-3 w-full",children:u.jsxs("div",{className:"bg-white border border-indigo-100 shadow-md rounded-2xl rounded-tl-sm overflow-hidden relative group",children:[u.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-indigo-500"}),u.jsxs("div",{className:"p-5 bg-indigo-50/10",children:[u.jsx("h4",{className:"font-bold text-indigo-900 flex items-center gap-2 mb-3",children:"Confirmao de Entendimento"}),u.jsx("div",{className:"prose prose-sm max-w-none text-gray-600 bg-white p-4 rounded-lg border border-indigo-50 scroll-smooth",children:u.jsx(Ry,{content:y})})]}),u.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white border-t border-gray-100",children:[u.jsxs("button",{onClick:()=>ve("adjust"),className:"flex-1 py-2.5 px-4 bg-white border border-red-200 text-red-600 hover:bg-red-50 rounded-lg font-bold text-xs transition-colors flex items-center justify-center gap-2",children:[u.jsx(Wr,{size:14})," Corrigir / Ajustar"]}),u.jsxs("button",{onClick:()=>ve("approve"),className:"flex-1 py-2.5 px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-bold text-xs shadow-md transition-all flex items-center justify-center gap-2",children:[u.jsx(Mu,{size:14})," Correto, Prosseguir"]})]})]})})]})}),p&&u.jsxs("div",{className:"flex gap-3 animate-pulse",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 text-white flex items-center justify-center flex-shrink-0",children:u.jsx(wA,{size:18})}),u.jsxs("div",{className:"bg-white border border-gray-100 shadow-sm p-4 rounded-2xl rounded-tl-none flex items-center gap-2 text-gray-500 text-sm",children:[u.jsx(Os,{size:16,className:"animate-spin text-indigo-600"}),u.jsx("span",{className:"font-medium",children:x==="validating"?"Analisando documento e contexto...":_?"O Analista est gerando perguntas...":"Processando..."})]})]}),u.jsx("div",{ref:H})]}):u.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8 opacity-60",children:[u.jsx(ru,{size:48,className:"text-orange-400 mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"API Key no configurada"}),u.jsx("p",{className:"text-sm text-gray-600 max-w-md mt-2",children:"Para usar a IA, voc precisa adicionar sua chave do Google Gemini nas configuraes do sistema."})]})}),u.jsxs("div",{className:"p-4 bg-white border-t border-gray-200 shrink-0",children:[g&&u.jsxs("div",{className:"mb-3 p-3 bg-red-50 border border-red-100 rounded-lg flex items-center gap-2 text-red-700 text-xs animate-in slide-in-from-bottom-2",children:[u.jsx(ru,{size:14}),g,u.jsx("button",{onClick:()=>A(null),className:"ml-auto hover:text-red-900",children:u.jsx(Wr,{size:14})})]}),d.length>0&&u.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:d.map((ge,be)=>u.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-indigo-50 border border-indigo-100 rounded-lg text-xs font-medium text-indigo-700 animate-in zoom-in-95",children:[u.jsx(eg,{size:12}),u.jsx("span",{className:"max-w-[150px] truncate",children:ge.name}),u.jsx("button",{onClick:()=>h(I=>I.filter((z,W)=>W!==be)),className:"hover:bg-indigo-100 p-0.5 rounded-full transition-colors",children:u.jsx(Wr,{size:12})})]},be))}),u.jsxs("div",{className:"flex gap-2 items-end",children:[u.jsx("button",{onClick:()=>{var ge;return(ge=q.current)==null?void 0:ge.click()},className:"p-3 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-all border border-transparent hover:border-indigo-100",title:"Anexar arquivos",disabled:p||_&&x==="accepted",children:u.jsx(eg,{size:20})}),u.jsx("input",{type:"file",ref:q,className:"hidden",multiple:!0,onChange:se}),u.jsx("div",{className:"flex-1 relative",children:u.jsx("textarea",{value:l,onChange:ge=>c(ge.target.value),onKeyDown:ge=>{ge.key==="Enter"&&!ge.shiftKey&&(ge.preventDefault(),xe())},placeholder:_?"Utilize o formulrio ao lado...":"Digite os detalhes do projeto...",className:"w-full bg-gray-50 border-gray-200 border rounded-xl px-4 py-3 text-sm focus:bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none resize-none min-h-[50px] max-h-[120px]",rows:1,disabled:p||_&&x==="accepted"||x==="reviewing"})}),u.jsx("button",{onClick:xe,disabled:!l.trim()&&d.length===0||p||_&&x==="accepted"||x==="reviewing",className:"p-3 bg-indigo-600 text-white rounded-xl shadow-lg shadow-indigo-200 hover:bg-indigo-700 disabled:opacity-50 disabled:shadow-none transition-all transform active:scale-95",children:p?u.jsx(Os,{size:20,className:"animate-spin"}):u.jsx(jj,{size:20})})]})]})]}),_&&j&&u.jsxs("div",{className:"w-full md:w-[450px] bg-slate-50 border-l border-gray-200 flex flex-col h-full animate-in slide-in-from-right-10 duration-500 shadow-2xl z-20",children:[u.jsxs("div",{className:"p-4 border-b border-gray-200 bg-white flex justify-between items-center",children:[u.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[u.jsx(to,{size:18,className:"text-indigo-600"}),"Refinamento Ativo"]}),u.jsx("button",{onClick:()=>{confirm("Deseja cancelar a entrevista e voltar?")&&(D(!1),N(null),v("reviewing"))},className:"text-gray-400 hover:text-red-500",title:"Cancelar entrevista",children:u.jsx(Wr,{size:16})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:Ee()})]})]})]})},i9=(t,e,n)=>{const r=new Map;t.forEach(c=>r.set(c.id,c.dependencies||[]));const i=r.get(n)||[];r.set(n,[...i,e]);const s=(()=>{const c=new Map;return t.forEach(d=>{d.dependencies.forEach(h=>{const p=c.get(h)||[];p.push(d.id),c.set(h,p)})}),c})(),o=[n],l=new Set([n]);for(;o.length>0;){const c=o.shift();if(c===e)return!0;const d=s.get(c)||[];for(const h of d)l.has(h)||(l.add(h),o.push(h))}return!1},_h=t=>{const e=new Map;t.forEach(s=>{if(s.parent){const o=e.get(s.parent)||[];o.push(s),e.set(s.parent,o)}});let n=t.map(s=>{var l;const o=(((l=e.get(s.id))==null?void 0:l.length)||0)>0;return o&&s.type!=="project"?{...s,type:"project",progress:0}:!o&&s.type==="project"?{...s,type:"task"}:s});e.clear(),n.forEach(s=>{if(s.parent){const o=e.get(s.parent)||[];o.push(s),e.set(s.parent,o)}});const r=Math.max(t.length,100);for(let s=0;s<r;s++){let o=!1;if(n=n.map(c=>{if(c.dependencies.length===0)return c;let d=0;if(c.dependencies.forEach(h=>{const p=n.find(m=>m.id===h);p&&(d=Math.max(d,p.end.getTime()))}),d>0){const h=Yn(new Date(d),1);if(h.getTime()!==c.start.getTime()){o=!0;const p=c.end.getTime()-c.start.getTime();return{...c,start:h,end:new Date(h.getTime()+p)}}}return c}),!o)break}const i=n.filter(s=>!s.parent||s.parent==="auto-id-1"),a=s=>{const o=n.filter(l=>l.parent===s.id);if(o.forEach(a),o.length>0){const l=n.filter(A=>A.parent===s.id),c=ZR(l.map(A=>A.start)),d=JR(l.map(A=>A.end));let h=0,p=0;l.forEach(A=>{const x=Math.max(1,Av(A.end,A.start));h+=x,p+=A.progress*x});const m=h===0?0:Math.round(p/h),g=n.findIndex(A=>A.id===s.id);g!==-1&&(n[g]={...n[g],start:c,end:d,progress:m,type:"project",styles:{progressColor:"#ff9e0b",backgroundColor:"#ffbb54"}})}};return i.forEach(a),n.map(s=>({...s,styles:s.type==="project"?s.styles:{progressColor:"#3b82f6",backgroundColor:"#60a5fa"}}))},a9=t=>{const[e,n]=F.useState(t);F.useEffect(()=>{n(p=>_h(p))},[]),F.useEffect(()=>{t.length>0&&n(p=>{if(p.length===0)return _h(t);const m=new Map(t.map(y=>[y.id,y])),g=new Set(t.map(y=>y.id)),A=new Set(p.map(y=>y.id));let x=p.filter(y=>g.has(y.id)).map(y=>({...y,...m.get(y.id)}));const v=t.filter(y=>!A.has(y.id));return x=[...x,...v],x.sort((y,b)=>(y.order??0)-(b.order??0)),_h(x)})},[t]);const r=p=>_h(p),i=(p,m)=>{n(g=>{const A=[...g];let x=A.length,v=p.parent;if(m){const b=A.findIndex(k=>k.id===m);b!==-1&&(x=b+1,v=A[b].parent)}p.end<p.start&&(p.end=p.start);const y={...p,parent:v||null};return A.splice(x,0,y),r(A)})},a=p=>{n(m=>{let g=[...m];const A=m.find(x=>x.id===p.id);if(A&&p.parent!==A.parent){const x=g.findIndex(y=>y.id===p.id);x!==-1&&g.splice(x,1);let v=g.length;if(p.parent){const y=g.findIndex(b=>b.id===p.parent);if(y!==-1){let b=y+1;for(;b<g.length&&s(g,b,p.parent);)b++;v=b}}else v=g.length;g.splice(v,0,p)}else{const x=m.find(v=>v.id===p.id);if(x){const v=x.end.getTime(),b=p.end.getTime()-v;let k=g.map(S=>S.id===p.id?p:S);if(b!==0){const S=new Map;k.forEach(T=>{var _;(_=T.dependencies)==null||_.forEach(D=>{const j=S.get(D)||[];j.push(T.id),S.set(D,j)})});const L=[p.id],w=new Set;for(;L.length>0;){const T=L.shift();(S.get(T)||[]).forEach(D=>{w.has(D)||(w.add(D),L.push(D))})}k=k.map(T=>w.has(T.id)?{...T,start:new Date(T.start.getTime()+b),end:new Date(T.end.getTime()+b)}:T)}g=k}else g=g.map(v=>v.id===p.id?p:v)}if(p.dependencies){const x=m.find(v=>v.id===p.id);for(const v of p.dependencies)if(i9(g,v,p.id)){console.error(`Cyclic dependency detected: ${v} -> ${p.id}`);const y={...p,dependencies:(x==null?void 0:x.dependencies)||[]};g=g.map(b=>b.id===p.id?y:b);break}}return r(g)})},s=(p,m,g)=>{let A=p[m];for(;A.parent;){if(A.parent===g)return!0;const x=p.find(v=>v.id===A.parent);if(!x)break;A=x}return!1};return{tasks:e,addTask:i,updateTask:a,deleteTask:p=>{n(m=>{const g=new Set,A=y=>{g.add(y),m.filter(b=>b.parent===y).forEach(b=>A(b.id))};A(p);const v=m.filter(y=>!g.has(y.id)).map(y=>{var b;return{...y,dependencies:((b=y.dependencies)==null?void 0:b.filter(k=>!g.has(k)))||[]}});return r(v)})},handleMoveTask:(p,m,g)=>{n(A=>{const x=A.find(L=>L.id===p);if(!x||x.type==="project")return A;const v=x.end.getTime(),b=g.getTime()-v,k={...x,start:m,end:g};let S=A.map(L=>L.id===p?k:L);if(b!==0){const L=new Map;S.forEach(_=>{var D;(D=_.dependencies)==null||D.forEach(j=>{const N=L.get(j)||[];N.push(_.id),L.set(j,N)})});const w=[p],T=new Set;for(;w.length>0;){const _=w.shift();(L.get(_)||[]).forEach(j=>{T.has(j)||(T.add(j),w.push(j))})}S=S.map(_=>T.has(_.id)?{..._,start:new Date(_.start.getTime()+b),end:new Date(_.end.getTime()+b)}:_)}return r(S)})},indentTask:p=>{const m=e.findIndex(v=>v.id===p);if(m<=0)return;const g=e[m],A=e[m-1],x={...g,parent:A.id};return n(v=>{const y=v.findIndex(w=>w.id===p);if(y<=0)return v;const b=v[y],k=v[y-1],S={...b,parent:k.id},L=[...v];return L[y]=S,r(L)}),x},outdentTask:p=>{const m=e.find(v=>v.id===p);if(!m||!m.parent)return;const g=e.find(v=>v.id===m.parent),A=(g==null?void 0:g.parent)||null,x={...m,parent:A};return n(v=>{const y=v.find(w=>w.id===p);if(!y||!y.parent)return v;const b=v.find(w=>w.id===y.parent),k=(b==null?void 0:b.parent)||null,S={...y,parent:k},L=v.map(w=>w.id===p?S:w);return r(L)}),x},reorderTasks:(p,m)=>{let g=[...p];g=g.map((A,x)=>{if(!A.parent)return A;const v=g.findIndex(y=>y.id===A.parent);return v===-1||v>x?{...A,parent:null}:A}),n(r(g))},handleTaskChange:a,getProjectStats:(p=[])=>{if(e.length===0)return{totalCost:0,totalRealCost:0,progress:0,totalDuration:0,totalRealDuration:0};const m=($,J)=>!$||!J?0:Lu($,J);let g=new Date(864e13),A=new Date(-864e13),x=new Date(864e13),v=new Date(-864e13),y=0,b=0,k=0;const S=e.filter($=>$.type!=="project");if(S.length===0)return{totalCost:0,totalRealCost:0,progress:0,totalDuration:0};S.forEach($=>{const J=$.start.getTime(),ee=$.end.getTime();J<g.getTime()&&(g=$.start),ee>A.getTime()&&(A=$.end),$.realStart&&$.realStart.getTime()<x.getTime()&&(x=$.realStart),$.realEnd&&$.realEnd.getTime()>v.getTime()&&(v=$.realEnd);const Y=ee-J;if(y+=($.progress||0)*Y,$.resourceId&&p.length>0){const oe=p.find(H=>H.id===$.resourceId);if(oe){const H=Math.max(1,m($.start,$.end));if(b+=H*8*oe.hourlyRate,$.realStart&&$.realEnd){const q=Math.max(1,m($.realStart,$.realEnd));k+=q*8*oe.hourlyRate}}}});const L=e.filter($=>!$.parent||!e.find(J=>J.id===$.parent));let w=0,T=0;L.forEach($=>{let J=Math.max(1,Av($.end,$.start));w+=($.progress||0)*J,T+=J});const _=T>0?Math.round(w/T):0,D=m(g,A);let j=0;v.getTime()>-864e13&&x.getTime()<864e13&&(j=m(x,v));const N=new Date;N.setHours(12,0,0,0);let R=0;if(g.getTime()<864e13&&D>0)if(ju(g,N))R=0;else if(ju(N,A))R=100;else{const $=m(g,N);R=Math.round($/D*100)}R=Math.min(100,Math.max(0,R));let C=R>0?_/R:(_>0,1),B=k>0?b/k:(b>0,1);return{totalCost:b,totalRealCost:k,progress:_,plannedProgress:R,totalDuration:Math.max(0,D),totalRealDuration:Math.max(0,j),spi:C,cpi:B}}}},s9=({isOpen:t,onClose:e,tasks:n,onUpdateTasks:r})=>{const[i,a]=F.useState([]),[s,o]=F.useState(!1);F.useEffect(()=>{if(!t)return;const h=qs(new Date),p=[];n.forEach(m=>{if(m.type==="project")return;const g=qs(m.start),A=qs(m.end),x=m.progress||0;if(x!==100){if(nu(A,h)){p.push({taskId:m.id,taskName:m.name,type:"delayed",description:`Deveria ter terminado em ${un(A,"dd/MM")}.`,currentProgress:x,currentEnd:m.end,newProgress:x,newEndDate:un(new Date,"yyyy-MM-dd"),action:"keep"});return}if(nu(g,h)&&x===0){p.push({taskId:m.id,taskName:m.name,type:"not_started",description:`Deveria ter iniciado em ${un(g,"dd/MM")}.`,currentProgress:0,currentEnd:m.end,newProgress:0,newEndDate:un(m.end,"yyyy-MM-dd"),action:"keep"});return}if(nu(g,h)){const v=Math.max(1,Lf(A,g)),y=Math.max(0,Lf(h,g)),b=Math.min(100,Math.round(y/v*100));b-x>20&&p.push({taskId:m.id,taskName:m.name,type:"lagging",description:`Ritmo lento. Esperado ~${b}% (Decorridos ${y}/${v} dias).`,currentProgress:x,currentEnd:m.end,newProgress:x,newEndDate:un(m.end,"yyyy-MM-dd"),action:"keep"})}}}),a(p)},[t,n]);const l=(h,p)=>{var g;const m=[...i];m[h].action=p,p==="complete"?m[h].newProgress=100:p==="reschedule"&&(g=n.find(A=>A.id===m[h].taskId))!=null&&g.start,a(m)},c=(h,p,m)=>{const g=[...i];g[h][p]=m,p==="newProgress"&&m!==g[h].currentProgress&&(m===100?g[h].action="complete":g[h].action="update_progress"),p==="newEndDate"&&m!==un(g[h].currentEnd,"yyyy-MM-dd")&&(g[h].action="reschedule"),a(g)},d=async()=>{o(!0);const h=[];i.forEach(p=>{if(p.action==="keep")return;const m={};if(p.action==="complete")m.progress=100;else if(p.action==="update_progress")m.progress=Math.min(100,Math.max(0,p.newProgress));else if(p.action==="reschedule"){const[g,A,x]=p.newEndDate.split("-").map(Number),v=new Date(g,A-1,x,18,0,0);jf(v)&&(m.end=v)}Object.keys(m).length>0&&h.push({id:p.taskId,changes:m})}),await r(h),o(!1),e()};return t?u.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center backdrop-blur-sm p-4",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl h-[80vh] flex flex-col animate-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:"px-8 py-6 border-b border-gray-100 flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[u.jsx(bA,{className:"text-amber-500"}),"Estabilizao do Cronograma"]}),u.jsxs("p",{className:"text-gray-500 mt-2",children:["Validao de ",i.length," tarefas com pendncias ou atrasos at hoje (",un(new Date,"dd/MM/yyyy"),")."]})]}),u.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-400 hover:text-gray-600 transition-colors",children:u.jsx(Wr,{size:24})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-8 bg-gray-50",children:i.length===0?u.jsxs("div",{className:"text-center py-20 flex flex-col items-center",children:[u.jsx(Mf,{size:64,className:"text-green-500 mb-4"}),u.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Tudo Certo!"}),u.jsx("p",{className:"text-gray-500 mt-2",children:"No encontramos tarefas atrasadas ou com evoluo pendente."})]}):u.jsx("div",{className:"space-y-4",children:i.map((h,p)=>u.jsx("div",{className:`bg-white border rounded-lg p-5 shadow-sm transition-all ${h.action!=="keep"?"border-indigo-300 ring-1 ring-indigo-50":"border-gray-200"}`,children:u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-6",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded ${h.type==="delayed"?"bg-red-100 text-red-700":h.type==="not_started"?"bg-orange-100 text-orange-700":"bg-yellow-100 text-yellow-700"}`,children:h.type==="delayed"?"Atrasada":h.type==="not_started"?"No Iniciou":"Defasada"}),u.jsx("h4",{className:"font-bold text-gray-900",children:h.taskName})]}),u.jsx("p",{className:"text-sm text-gray-500",children:h.description}),u.jsxs("div",{className:"text-xs text-gray-400 mt-2 flex gap-4",children:[u.jsxs("span",{children:["Progress Atual: ",u.jsxs("b",{children:[h.currentProgress,"%"]})]}),u.jsxs("span",{children:["Fim Previsto: ",u.jsx("b",{children:un(h.currentEnd,"dd/MM/yyyy")})]})]})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-6 bg-gray-50 p-3 rounded-lg border border-gray-100",children:[u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Ao"}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{onClick:()=>l(p,"update_progress"),className:`px-3 py-1.5 text-xs font-medium rounded border transition-colors ${h.action==="update_progress"?"bg-blue-100 text-blue-700 border-blue-200":"bg-white text-gray-600 border-gray-200 hover:border-blue-300"}`,children:"Evoluir"}),u.jsx("button",{onClick:()=>l(p,"reschedule"),className:`px-3 py-1.5 text-xs font-medium rounded border transition-colors ${h.action==="reschedule"?"bg-amber-100 text-amber-700 border-amber-200":"bg-white text-gray-600 border-gray-200 hover:border-amber-300"}`,children:"Reprogramar"}),u.jsx("button",{onClick:()=>l(p,"keep"),className:`px-3 py-1.5 text-xs font-medium rounded border transition-colors ${h.action==="keep"?"bg-gray-200 text-gray-700 border-gray-300":"bg-white text-gray-400 border-gray-200 hover:text-gray-600"}`,children:"Ignorar"}),u.jsx("button",{onClick:()=>l(p,"complete"),className:`w-full px-3 py-1.5 text-xs font-medium rounded border transition-colors ${h.action==="complete"?"bg-green-100 text-green-700 border-green-200":"bg-white text-gray-600 border-gray-200 hover:border-green-300"}`,children:"Concluir"})]})]}),u.jsxs("div",{className:"w-[180px] border-l border-gray-200 pl-6 flex flex-col justify-center",children:[h.action==="complete"&&u.jsxs("div",{className:"flex items-center gap-2 text-green-600 font-bold text-sm",children:[u.jsx(Mf,{size:16})," Ser 100%"]}),h.action==="keep"&&u.jsx("div",{className:"text-xs text-gray-400 italic text-center",children:"Nenhuma alterao"}),h.action==="update_progress"&&u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Novo %"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"range",min:"0",max:"100",value:h.newProgress,onChange:m=>c(p,"newProgress",parseInt(m.target.value)),className:"w-20 accent-blue-600 h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),u.jsxs("span",{className:"text-sm font-bold text-blue-700 w-8 text-right",children:[h.newProgress,"%"]})]})]}),h.action==="reschedule"&&u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Nova Data Fim"}),u.jsx("input",{type:"date",value:h.newEndDate,onChange:m=>c(p,"newEndDate",m.target.value),className:"w-full text-xs p-1.5 border border-amber-300 rounded focus:ring-2 focus:ring-amber-500 outline-none text-gray-700 font-medium"})]})]})]})]})},h.taskId))})}),u.jsxs("div",{className:"px-8 py-5 border-t border-gray-100 bg-white flex justify-end gap-3 rounded-b-xl",children:[u.jsx("button",{onClick:e,className:"px-6 py-2.5 text-gray-600 font-medium hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:"Cancelar"}),u.jsx("button",{onClick:d,disabled:s||i.length===0,className:"px-6 py-2.5 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:s?"Salvando...":`Aplicar ${i.filter(h=>h.action!=="keep").length} Correes`})]})]})}):null},o9=()=>{const{signInWithEmail:t,signUpWithEmail:e,signInWithGoogle:n,loading:r}=Ny(),[i,a]=F.useState(!0),[s,o]=F.useState(""),[l,c]=F.useState(""),[d,h]=F.useState(""),[p,m]=F.useState(""),[g,A]=F.useState(!1),x=async y=>{y.preventDefault(),m(""),A(!0);try{if(i)await t(s,l);else{if(l.length<6)throw new Error("A senha deve ter pelo menos 6 caracteres.");await e(s,l,d)}}catch(b){console.error(b),b.code==="auth/invalid-credential"||b.code==="auth/user-not-found"||b.code==="auth/wrong-password"?m("Email ou senha incorretos."):b.code==="auth/email-already-in-use"?m("Este email j est em uso."):b.code==="auth/weak-password"?m("A senha  muito fraca."):m(b.message||"Ocorreu um erro ao tentar entrar.")}finally{A(!1)}},v=async()=>{m("");try{await n()}catch(y){console.error(y),m("Erro ao conectar com Google.")}};return r?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:u.jsx(Os,{className:"animate-spin text-indigo-600",size:48})}):u.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8 font-sans",children:[u.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[u.jsxs("div",{className:"flex flex-col items-center justify-center mb-6",children:[u.jsx("img",{src:"/logo.png",alt:"Logo",className:"h-24 w-auto object-contain mb-4"}),u.jsx("span",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"UERJ-FAF 2025"})]}),u.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 tracking-tight",children:i?"Bem-vindo de volta":"Crie sua conta"}),u.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:i?"Gerencie seus projetos com inteligncia.":"Comece a transformar sua gesto hoje."})]}),u.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:u.jsxs("div",{className:"bg-white py-8 px-4 shadow-xl shadow-gray-100 rounded-2xl sm:px-10 border border-gray-100",children:[u.jsxs("form",{className:"space-y-6",onSubmit:x,children:[!i&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nome Completo"}),u.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Ff,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:d,onChange:y=>h(y.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-lg py-2.5 transition-all",placeholder:"Seu nome"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email corporativo"}),u.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(Nj,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s,onChange:y=>o(y.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-lg py-2.5 transition-all",placeholder:"voce@empresa.com"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Senha"}),u.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(dE,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:l,onChange:y=>c(y.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-lg py-2.5 transition-all",placeholder:""})]})]}),p&&u.jsx("div",{className:"rounded-md bg-red-50 p-4 border border-red-100 animate-in fade-in slide-in-from-top-1",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(ru,{className:"h-5 w-5 text-red-400"})}),u.jsx("div",{className:"ml-3",children:u.jsx("h3",{className:"text-sm font-medium text-red-800",children:p})})]})}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:g,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all hover:scale-[1.01] active:scale-[0.99] disabled:opacity-70 disabled:cursor-not-allowed",children:g?u.jsx(Os,{className:"animate-spin h-5 w-5"}):u.jsxs("span",{className:"flex items-center gap-2",children:[i?"Entrar na plataforma":"Criar nova conta"," ",u.jsx(vv,{size:16})]})})})]}),u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-gray-300"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Ou continue com"})})]}),u.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:u.jsxs("button",{onClick:v,className:"w-full inline-flex justify-center py-2.5 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors",children:[u.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[u.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),u.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),u.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),u.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),u.jsx("span",{className:"ml-2",children:"Google"})]})})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-sm text-gray-600",children:[i?"No tem uma conta?":"J tem uma conta?",u.jsx("button",{onClick:()=>a(!i),className:"font-medium text-indigo-600 hover:text-indigo-500 hover:underline ml-1",children:i?"Cadastre-se gratuitamente":"Fazer login"})]})})]})})]})},S_=({initialValue:t,onSave:e,onCancel:n,label:r})=>{const[i,a]=de.useState(t),s=F.useRef(null);F.useEffect(()=>{s.current&&(s.current.style.height="auto",s.current.style.height=s.current.scrollHeight+"px")},[i]);const o=(c,d="")=>{const h=s.current;if(!h)return;const p=h.selectionStart,m=h.selectionEnd,g=i.substring(p,m),A=i.substring(0,p)+c+g+d+i.substring(m);a(A),setTimeout(()=>{h.focus(),h.setSelectionRange(p+c.length,m+c.length)},0)},l=({icon:c,onClick:d,title:h})=>u.jsx("button",{type:"button",onClick:d,className:"p-1.5 text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:h,children:u.jsx(c,{size:16})});return u.jsxs("div",{className:"bg-white rounded-xl border-2 border-indigo-100 shadow-lg animate-in fade-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-indigo-50 bg-gray-50/50 rounded-t-lg",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[r&&u.jsx("span",{className:"text-xs font-bold text-gray-400 mr-2 uppercase tracking-wider",children:r}),u.jsx("div",{className:"h-4 w-px bg-gray-200 mx-1"}),u.jsx(l,{icon:cj,onClick:()=>o("**","**"),title:"Negrito"}),u.jsx(l,{icon:Ej,onClick:()=>o("*","*"),title:"Itlico"}),u.jsx("div",{className:"h-4 w-px bg-gray-200 mx-1"}),u.jsx(l,{icon:_j,onClick:()=>o("# "),title:"Ttulo 1"}),u.jsx(l,{icon:Cj,onClick:()=>o("## "),title:"Ttulo 2"}),u.jsx("div",{className:"h-4 w-px bg-gray-200 mx-1"}),u.jsx(l,{icon:Ij,onClick:()=>o("- "),title:"Lista"}),u.jsx(l,{icon:Rj,onClick:()=>o("> "),title:"Citao"}),u.jsx(l,{icon:gj,onClick:()=>o("```\n","\n```"),title:"Cdigo"})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("button",{onClick:()=>a(""),className:"text-xs text-red-400 hover:text-red-600 font-medium px-2",children:"Limpar"})})]}),u.jsx("div",{className:"p-2",children:u.jsx("textarea",{ref:s,value:i,onChange:c=>a(c.target.value),className:"w-full min-h-[200px] p-3 text-sm text-gray-800 bg-transparent border-0 focus:ring-0 resize-none font-mono leading-relaxed placeholder-gray-300",placeholder:"Escreva seu contedo aqui... Suporta Markdown."})}),u.jsxs("div",{className:"flex items-center justify-end gap-3 p-3 bg-gray-50 rounded-b-lg border-t border-gray-100",children:[u.jsxs("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors flex items-center gap-2",children:[u.jsx(Wr,{size:16}),"Cancelar"]}),u.jsxs("button",{onClick:()=>e(i),className:"px-4 py-2 text-sm font-bold text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow-md shadow-indigo-100 transition-all hover:scale-105 active:scale-95 flex items-center gap-2",children:[u.jsx(ml,{size:16}),"Salvar Alteraes"]})]})]})},l9=({onImport:t,onExport:e,onExportProposal:n})=>{const r=F.useRef(null),i=a=>{a.target.files&&a.target.files.length>0&&(t(a.target.files[0]),a.target.value="")};return u.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 flex items-center justify-between shadow-sm z-50 relative h-10",children:[u.jsx("div",{className:"flex items-center gap-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"relative group",children:[u.jsxs("button",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-indigo-600 px-3 py-1.5 rounded-md hover:bg-gray-50 transition-colors",children:[u.jsx(wj,{size:18}),"Arquivo"]}),u.jsx("div",{className:"absolute left-0 top-full mt-1 w-64 bg-white border border-gray-100 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 transform origin-top-left z-50",children:u.jsxs("div",{className:"p-1",children:[u.jsxs("button",{onClick:()=>{var a;return(a=r.current)==null?void 0:a.click()},className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 rounded-md transition-colors",children:[u.jsx(bj,{size:16}),u.jsx("span",{children:"Importar Project (.xml)"})]}),e&&u.jsxs("button",{onClick:e,className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 rounded-md transition-colors",children:[u.jsx(Hb,{size:16}),u.jsx("span",{children:"Exportar Project (.xml)"})]}),u.jsx("div",{className:"h-px bg-gray-100 my-1"}),n&&u.jsxs("button",{onClick:n,className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 rounded-md transition-colors",children:[u.jsx(Hb,{size:16,className:"text-orange-500"}),u.jsx("span",{children:"Baixar Proposta (.pptx)"})]})]})})]}),u.jsx("div",{className:"relative group",children:u.jsx("button",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-indigo-600 px-3 py-1.5 rounded-md hover:bg-gray-50 transition-colors",children:"Ajuda"})})]})}),u.jsx("input",{type:"file",accept:".xml",ref:r,className:"hidden",onChange:i})]})},c9=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=i=>{var a,s;try{let o=(a=i.target)==null?void 0:a.result;if(!o)throw new Error("Arquivo vazio");o=o.replace(/xmlns="[^"]*"/g,""),o=o.replace(/xmlns:[a-zA-Z0-9]+="[^"]*"/g,"");const c=new DOMParser().parseFromString(o,"text/xml"),d=c.getElementsByTagName("parsererror");if(d.length>0)throw new Error("Erro de Parse XML: "+d[0].textContent);const h=c.getElementsByTagName("Task"),p=[],m=new Map,g=new Map;for(let x=0;x<h.length;x++){const v=h[x],y=D=>{var j;return((j=v.getElementsByTagName(D)[0])==null?void 0:j.textContent)||""},b=y("UID"),S=y("Active")!=="0",L=y("Name")||"Sem Nome";if(!b||!S)continue;const w=crypto.randomUUID();m.set(b,w),g.set(b,v);let T=new Date(y("Start")),_=new Date(y("Finish"));isNaN(T.getTime())&&(T=new Date),isNaN(_.getTime())&&(_=new Date),p.push({id:w,order:x,name:L,start:T,end:_,type:y("Summary")==="1"?"project":"task",progress:parseInt(y("PercentComplete")||"0"),dependencies:[],parent:null,isExpanded:!0,isDisabled:!1,_xmlLevel:parseInt(y("OutlineLevel")||"0"),_xmlUid:b,styles:{backgroundColor:"#6366f1",progressColor:"#4338ca",backgroundSelectedColor:"#818cf8"}})}if(p.length===0)throw new Error("Nenhuma tarefa vlida encontrada no arquivo.");const A=[];for(const x of p){const v=x._xmlLevel,y=x._xmlUid;for(;A.length>0&&A[A.length-1].level>=v;)A.pop();A.length>0&&(x.parent=A[A.length-1].id),A.push({id:x.id,level:v});const b=g.get(y);if(b){const k=b.getElementsByTagName("PredecessorLink");for(let S=0;S<k.length;S++){const L=(s=k[S].getElementsByTagName("PredecessorUID")[0])==null?void 0:s.textContent;L&&m.has(L)&&x.dependencies.push(m.get(L))}}delete x._xmlLevel,delete x._xmlUid}e(p)}catch(o){console.error("XML Import Exception:",o),n(o)}},r.onerror=()=>{n(new Error("Erro ao ler o arquivo."))},r.readAsText(t)}),xg=t=>t.replace(/[<>&'"]/g,e=>{switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return e}}),ba=t=>{if(!t)return ba(new Date);const e=new Date(t);if(isNaN(e.getTime()))return new Date().toISOString().split(".")[0];const n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${n}-${r}-${i}T08:00:00`},u9=(t,e)=>{if(!e||e.length===0){alert("O projeto no possui tarefas para exportar.");return}const n=[...e].sort((o,l)=>(o.order||0)-(l.order||0)),r=new Map;n.forEach((o,l)=>r.set(o.id,l+1));const i=new Map;n.forEach(o=>{let l=1;o.parent&&i.has(o.parent)&&(l=i.get(o.parent)+1),i.set(o.id,l)});let a=t.startDate;if(n.length>0){const o=n.map(l=>new Date(l.start).getTime()).filter(l=>!isNaN(l));o.length>0&&(a=new Date(Math.min(...o)))}let s=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
`;s+=`<Project xmlns="http://schemas.microsoft.com/project">
`,s+=`  <Name>${xg(t.name)}</Name>
`,s+=`  <Title>${xg(t.name)}</Title>
`,s+=`  <CreationDate>${ba(new Date)}</CreationDate>
`,s+=`  <LastSaved>${ba(new Date)}</LastSaved>
`,s+=`  <ScheduleFromStart>1</ScheduleFromStart>
`,s+=`  <StartDate>${ba(a)}</StartDate>
`,s+=`  <FinishDate>${ba(t.endDate)}</FinishDate>
`,s+=`  <Tasks>
`,n.forEach(o=>{const l=r.get(o.id),c=i.get(o.id),d=n.some(m=>m.parent===o.id),h=o.dependencies&&o.dependencies.length>0;s+=`    <Task>
`,s+=`      <UID>${l}</UID>
`,s+=`      <ID>${l}</ID>
`,s+=`      <Name>${xg(o.name)}</Name>
`,s+=`      <Active>${o.isDisabled?0:1}</Active>
`;const p=(m,g)=>{const A=new Date(m),x=new Date(g);if(isNaN(A.getTime())||isNaN(x.getTime()))return"PT8H0M0S";const v=new Date(A),y=new Date(x);v.setHours(0,0,0,0),y.setHours(0,0,0,0);let b=0;const k=new Date(v.getTime());for(;k<=y;){const S=k.getDay();S!==0&&S!==6&&b++,k.setDate(k.getDate()+1)}return b===0&&A.getTime()<x.getTime()&&(b=1),`PT${b*8}H0M0S`};s+=`      <Manual>0</Manual>
`,s+=`      <OutlineLevel>${c}</OutlineLevel>
`,s+=`      <Start>${ba(o.start)}</Start>
`,s+=`      <Finish>${ba(o.end)}</Finish>
`,s+=`      <Duration>${p(o.start,o.end)}</Duration>
`,s+=`      <PercentComplete>${o.progress||0}</PercentComplete>
`,!h&&!d&&(s+=`      <ConstraintType>4</ConstraintType>
`,s+=`      <ConstraintDate>${ba(o.start)}</ConstraintDate>
`),s+=`      <Summary>${d?1:0}</Summary>
`,h&&o.dependencies.forEach(m=>{const g=r.get(m);g&&(s+=`      <PredecessorLink>
`,s+=`        <PredecessorUID>${g}</PredecessorUID>
`,s+=`        <Type>1</Type>
`,s+=`      </PredecessorLink>
`)}),s+=`    </Task>
`}),s+=`  </Tasks>
`,s+="</Project>";try{const o=new Blob([s],{type:"application/xml"}),l=URL.createObjectURL(o),c=document.createElement("a");c.href=l,c.download=`${t.name.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.xml`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(l)}catch(o){console.error("Download failed",o),alert("Erro ao gerar download do arquivo XML.")}};function Ch(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var dS={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,a){function s(c,d){if(!i[c]){if(!r[c]){var h=typeof Ch=="function"&&Ch;if(!d&&h)return h(c,!0);if(o)return o(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var m=i[c]={exports:{}};r[c][0].call(m.exports,function(g){var A=r[c][1][g];return s(A||g)},m,m.exports,n,r,i,a)}return i[c].exports}for(var o=typeof Ch=="function"&&Ch,l=0;l<a.length;l++)s(a[l]);return s}({1:[function(n,r,i){var a=n("./utils"),s=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,d,h,p,m,g,A,x=[],v=0,y=l.length,b=y,k=a.getTypeOf(l)!=="string";v<l.length;)b=y-v,h=k?(c=l[v++],d=v<y?l[v++]:0,v<y?l[v++]:0):(c=l.charCodeAt(v++),d=v<y?l.charCodeAt(v++):0,v<y?l.charCodeAt(v++):0),p=c>>2,m=(3&c)<<4|d>>4,g=1<b?(15&d)<<2|h>>6:64,A=2<b?63&h:64,x.push(o.charAt(p)+o.charAt(m)+o.charAt(g)+o.charAt(A));return x.join("")},i.decode=function(l){var c,d,h,p,m,g,A=0,x=0,v="data:";if(l.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var y,b=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&b--,l.charAt(l.length-2)===o.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=s.uint8array?new Uint8Array(0|b):new Array(0|b);A<l.length;)c=o.indexOf(l.charAt(A++))<<2|(p=o.indexOf(l.charAt(A++)))>>4,d=(15&p)<<4|(m=o.indexOf(l.charAt(A++)))>>2,h=(3&m)<<6|(g=o.indexOf(l.charAt(A++))),y[x++]=c,m!==64&&(y[x++]=d),g!==64&&(y[x++]=h);return y}},{"./support":30,"./utils":32}],2:[function(n,r,i){var a=n("./external"),s=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function c(d,h,p,m,g){this.compressedSize=d,this.uncompressedSize=h,this.crc32=p,this.compression=m,this.compressedContent=g}c.prototype={getContentWorker:function(){var d=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return d.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(d,h,p){return d.pipe(new o).pipe(new l("uncompressedSize")).pipe(h.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var a=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var a=n("./utils"),s=function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var d=0;d<8;d++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l}();r.exports=function(o,l){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?function(c,d,h,p){var m=s,g=p+h;c^=-1;for(var A=p;A<g;A++)c=c>>>8^m[255&(c^d[A])];return-1^c}(0|l,o,o.length,0):function(c,d,h,p){var m=s,g=p+h;c^=-1;for(var A=p;A<g;A++)c=c>>>8^m[255&(c^d.charCodeAt(A))];return-1^c}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var a=null;a=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:a}},{lie:37}],7:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),o=n("./utils"),l=n("./stream/GenericWorker"),c=a?"uint8array":"array";function d(h,p){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=p,this.meta={}}i.magic="\b\0",o.inherits(d,l),d.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,h.data),!1)},d.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(p){h.push({data:p,meta:h.meta})}},i.compressWorker=function(h){return new d("Deflate",h)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function a(m,g){var A,x="";for(A=0;A<g;A++)x+=String.fromCharCode(255&m),m>>>=8;return x}function s(m,g,A,x,v,y){var b,k,S=m.file,L=m.compression,w=y!==c.utf8encode,T=o.transformTo("string",y(S.name)),_=o.transformTo("string",c.utf8encode(S.name)),D=S.comment,j=o.transformTo("string",y(D)),N=o.transformTo("string",c.utf8encode(D)),R=_.length!==S.name.length,C=N.length!==D.length,B="",$="",J="",ee=S.dir,Y=S.date,oe={crc32:0,compressedSize:0,uncompressedSize:0};g&&!A||(oe.crc32=m.crc32,oe.compressedSize=m.compressedSize,oe.uncompressedSize=m.uncompressedSize);var H=0;g&&(H|=8),w||!R&&!C||(H|=2048);var q=0,se=0;ee&&(q|=16),v==="UNIX"?(se=798,q|=function(ce,Ae){var xe=ce;return ce||(xe=Ae?16893:33204),(65535&xe)<<16}(S.unixPermissions,ee)):(se=20,q|=function(ce){return 63&(ce||0)}(S.dosPermissions)),b=Y.getUTCHours(),b<<=6,b|=Y.getUTCMinutes(),b<<=5,b|=Y.getUTCSeconds()/2,k=Y.getUTCFullYear()-1980,k<<=4,k|=Y.getUTCMonth()+1,k<<=5,k|=Y.getUTCDate(),R&&($=a(1,1)+a(d(T),4)+_,B+="up"+a($.length,2)+$),C&&(J=a(1,1)+a(d(j),4)+N,B+="uc"+a(J.length,2)+J);var he="";return he+=`
\0`,he+=a(H,2),he+=L.magic,he+=a(b,2),he+=a(k,2),he+=a(oe.crc32,4),he+=a(oe.compressedSize,4),he+=a(oe.uncompressedSize,4),he+=a(T.length,2),he+=a(B.length,2),{fileRecord:h.LOCAL_FILE_HEADER+he+T+B,dirRecord:h.CENTRAL_FILE_HEADER+a(se,2)+he+a(j.length,2)+"\0\0\0\0"+a(q,4)+a(x,4)+T+B+j}}var o=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),d=n("../crc32"),h=n("../signature");function p(m,g,A,x){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=A,this.encodeFileName=x,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(p,l),p.prototype.push=function(m){var g=m.meta.percent||0,A=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,l.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:A?(g+100*(A-x-1))/A:100}}))},p.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var g=this.streamFiles&&!m.file.dir;if(g){var A=s(m,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:A.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(m){this.accumulate=!1;var g=this.streamFiles&&!m.file.dir,A=s(m,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(A.dirRecord),g)this.push({data:function(x){return h.DATA_DESCRIPTOR+a(x.crc32,4)+a(x.compressedSize,4)+a(x.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:A.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var m=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var A=this.bytesWritten-m,x=function(v,y,b,k,S){var L=o.transformTo("string",S(k));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(v,2)+a(v,2)+a(y,4)+a(b,4)+a(L.length,2)+L}(this.dirRecords.length,A,m,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(m){this._sources.push(m);var g=this;return m.on("data",function(A){g.processChunk(A)}),m.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),m.on("error",function(A){g.error(A)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(m){var g=this._sources;if(!l.prototype.error.call(this,m))return!1;for(var A=0;A<g.length;A++)try{g[A].error(m)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var m=this._sources,g=0;g<m.length;g++)m[g].lock()},r.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var a=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(o,l,c){var d=new s(l.streamFiles,c,l.platform,l.encodeFileName),h=0;try{o.forEach(function(p,m){h++;var g=function(y,b){var k=y||b,S=a[k];if(!S)throw new Error(k+" is not a valid compression method !");return S}(m.options.compression,l.compression),A=m.options.compressionOptions||l.compressionOptions||{},x=m.dir,v=m.date;m._compressWorker(g,A).withStreamInfo("file",{name:p,dir:x,date:v,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(d)}),d.entriesCount=h}catch(p){d.error(p)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(s,o){return new a().loadAsync(s,o)},a.external=n("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var a=n("./utils"),s=n("./external"),o=n("./utf8"),l=n("./zipEntries"),c=n("./stream/Crc32Probe"),d=n("./nodejsUtils");function h(p){return new s.Promise(function(m,g){var A=p.decompressed.getContentWorker().pipe(new c);A.on("error",function(x){g(x)}).on("end",function(){A.streamInfo.crc32!==p.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}r.exports=function(p,m){var g=this;return m=a.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),d.isNode&&d.isStream(p)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",p,!0,m.optimizedBinaryString,m.base64).then(function(A){var x=new l(m);return x.load(A),x}).then(function(A){var x=[s.Promise.resolve(A)],v=A.files;if(m.checkCRC32)for(var y=0;y<v.length;y++)x.push(h(v[y]));return s.Promise.all(x)}).then(function(A){for(var x=A.shift(),v=x.files,y=0;y<v.length;y++){var b=v[y],k=b.fileNameStr,S=a.resolve(b.fileNameStr);g.file(S,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:m.createFolders}),b.dir||(g.file(S).unsafeOriginalName=k)}return x.zipComment.length&&(g.comment=x.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var a=n("../utils"),s=n("../stream/GenericWorker");function o(l,c){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}a.inherits(o,s),o.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(d){c.push({data:d,meta:{percent:0}})}).on("error",function(d){c.isPaused?this.generatedError=d:c.error(d)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var a=n("readable-stream").Readable;function s(o,l,c){a.call(this,l),this._helper=o;var d=this;o.on("data",function(h,p){d.push(h)||d._helper.pause(),c&&c(p)}).on("error",function(h){d.emit("error",h)}).on("end",function(){d.push(null)})}n("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,r,i){function a(S,L,w){var T,_=o.getTypeOf(L),D=o.extend(w||{},d);D.date=D.date||new Date,D.compression!==null&&(D.compression=D.compression.toUpperCase()),typeof D.unixPermissions=="string"&&(D.unixPermissions=parseInt(D.unixPermissions,8)),D.unixPermissions&&16384&D.unixPermissions&&(D.dir=!0),D.dosPermissions&&16&D.dosPermissions&&(D.dir=!0),D.dir&&(S=v(S)),D.createFolders&&(T=x(S))&&y.call(this,T,!0);var j=_==="string"&&D.binary===!1&&D.base64===!1;w&&w.binary!==void 0||(D.binary=!j),(L instanceof h&&L.uncompressedSize===0||D.dir||!L||L.length===0)&&(D.base64=!1,D.binary=!0,L="",D.compression="STORE",_="string");var N=null;N=L instanceof h||L instanceof l?L:g.isNode&&g.isStream(L)?new A(S,L):o.prepareContent(S,L,D.binary,D.optimizedBinaryString,D.base64);var R=new p(S,N,D);this.files[S]=R}var s=n("./utf8"),o=n("./utils"),l=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),d=n("./defaults"),h=n("./compressedObject"),p=n("./zipObject"),m=n("./generate"),g=n("./nodejsUtils"),A=n("./nodejs/NodejsStreamInputAdapter"),x=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var L=S.lastIndexOf("/");return 0<L?S.substring(0,L):""},v=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},y=function(S,L){return L=L!==void 0?L:d.createFolders,S=v(S),this.files[S]||a.call(this,S,null,{dir:!0,createFolders:L}),this.files[S]};function b(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var L,w,T;for(L in this.files)T=this.files[L],(w=L.slice(this.root.length,L.length))&&L.slice(0,this.root.length)===this.root&&S(w,T)},filter:function(S){var L=[];return this.forEach(function(w,T){S(w,T)&&L.push(T)}),L},file:function(S,L,w){if(arguments.length!==1)return S=this.root+S,a.call(this,S,L,w),this;if(b(S)){var T=S;return this.filter(function(D,j){return!j.dir&&T.test(D)})}var _=this.files[this.root+S];return _&&!_.dir?_:null},folder:function(S){if(!S)return this;if(b(S))return this.filter(function(_,D){return D.dir&&S.test(_)});var L=this.root+S,w=y.call(this,L),T=this.clone();return T.root=w.name,T},remove:function(S){S=this.root+S;var L=this.files[S];if(L||(S.slice(-1)!=="/"&&(S+="/"),L=this.files[S]),L&&!L.dir)delete this.files[S];else for(var w=this.filter(function(_,D){return D.name.slice(0,S.length)===S}),T=0;T<w.length;T++)delete this.files[w[T].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var L,w={};try{if((w=o.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=w.type.toLowerCase(),w.compression=w.compression.toUpperCase(),w.type==="binarystring"&&(w.type="string"),!w.type)throw new Error("No output type specified.");o.checkSupport(w.type),w.platform!=="darwin"&&w.platform!=="freebsd"&&w.platform!=="linux"&&w.platform!=="sunos"||(w.platform="UNIX"),w.platform==="win32"&&(w.platform="DOS");var T=w.comment||this.comment||"";L=m.generateWorker(this,w,T)}catch(_){(L=new l("error")).error(_)}return new c(L,w.type||"string",w.mimeType)},generateAsync:function(S,L){return this.generateInternalStream(S).accumulate(L)},generateNodeStream:function(S,L){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(L)}};r.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var a=n("./DataReader");function s(o){a.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}n("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),c=o.charCodeAt(1),d=o.charCodeAt(2),h=o.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===c&&this.data[p+2]===d&&this.data[p+3]===h)return p-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),c=o.charCodeAt(1),d=o.charCodeAt(2),h=o.charCodeAt(3),p=this.readData(4);return l===p[0]&&c===p[1]&&d===p[2]&&h===p[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var a=n("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,c=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=o,c},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,i){var a=n("./Uint8ArrayReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var a=n("./DataReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var a=n("./ArrayReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var a=n("../utils"),s=n("../support"),o=n("./ArrayReader"),l=n("./StringReader"),c=n("./NodeBufferReader"),d=n("./Uint8ArrayReader");r.exports=function(h){var p=a.getTypeOf(h);return a.checkSupport(p),p!=="string"||s.uint8array?p==="nodebuffer"?new c(h):s.uint8array?new d(a.transformTo("uint8array",h)):new o(a.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var a=n("./GenericWorker"),s=n("../utils");function o(l){a.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(o,a),o.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var a=n("./GenericWorker"),s=n("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,a),o.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var a=n("../utils"),s=n("./GenericWorker");function o(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(o,s),o.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}s.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var a=n("../utils"),s=n("./GenericWorker");function o(l){s.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(d){c.dataIsReady=!0,c.data=d,c.max=d&&d.length||0,c.type=a.getTypeOf(d),c.isPaused||c._tickAndRepeat()},function(d){c.error(d)})}a.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(l){o.processChunk(l)}),s.on("end",function(){o.end()}),s.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=a},{}],29:[function(n,r,i){var a=n("../utils"),s=n("./ConvertWorker"),o=n("./GenericWorker"),l=n("../base64"),c=n("../support"),d=n("../external"),h=null;if(c.nodestream)try{h=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(g,A){return new d.Promise(function(x,v){var y=[],b=g._internalType,k=g._outputType,S=g._mimeType;g.on("data",function(L,w){y.push(L),A&&A(w)}).on("error",function(L){y=[],v(L)}).on("end",function(){try{var L=function(w,T,_){switch(w){case"blob":return a.newBlob(a.transformTo("arraybuffer",T),_);case"base64":return l.encode(T);default:return a.transformTo(w,T)}}(k,function(w,T){var _,D=0,j=null,N=0;for(_=0;_<T.length;_++)N+=T[_].length;switch(w){case"string":return T.join("");case"array":return Array.prototype.concat.apply([],T);case"uint8array":for(j=new Uint8Array(N),_=0;_<T.length;_++)j.set(T[_],D),D+=T[_].length;return j;case"nodebuffer":return Buffer.concat(T);default:throw new Error("concat : unsupported type '"+w+"'")}}(b,y),S);x(L)}catch(w){v(w)}y=[]}).resume()})}function m(g,A,x){var v=A;switch(A){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=A,this._mimeType=x,a.checkSupport(v),this._worker=g.pipe(new s(v)),g.lock()}catch(y){this._worker=new o("error"),this._worker.error(y)}}m.prototype={accumulate:function(g){return p(this,g)},on:function(g,A){var x=this;return g==="data"?this._worker.on(g,function(v){A.call(x,v.data,v.meta)}):this._worker.on(g,function(){a.delay(A,arguments,x)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},g)}},r.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var a=n("./utils"),s=n("./support"),o=n("./nodejsUtils"),l=n("./stream/GenericWorker"),c=new Array(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;c[254]=c[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}i.utf8encode=function(m){return s.nodebuffer?o.newBufferFrom(m,"utf-8"):function(g){var A,x,v,y,b,k=g.length,S=0;for(y=0;y<k;y++)(64512&(x=g.charCodeAt(y)))==55296&&y+1<k&&(64512&(v=g.charCodeAt(y+1)))==56320&&(x=65536+(x-55296<<10)+(v-56320),y++),S+=x<128?1:x<2048?2:x<65536?3:4;for(A=s.uint8array?new Uint8Array(S):new Array(S),y=b=0;b<S;y++)(64512&(x=g.charCodeAt(y)))==55296&&y+1<k&&(64512&(v=g.charCodeAt(y+1)))==56320&&(x=65536+(x-55296<<10)+(v-56320),y++),x<128?A[b++]=x:(x<2048?A[b++]=192|x>>>6:(x<65536?A[b++]=224|x>>>12:(A[b++]=240|x>>>18,A[b++]=128|x>>>12&63),A[b++]=128|x>>>6&63),A[b++]=128|63&x);return A}(m)},i.utf8decode=function(m){return s.nodebuffer?a.transformTo("nodebuffer",m).toString("utf-8"):function(g){var A,x,v,y,b=g.length,k=new Array(2*b);for(A=x=0;A<b;)if((v=g[A++])<128)k[x++]=v;else if(4<(y=c[v]))k[x++]=65533,A+=y-1;else{for(v&=y===2?31:y===3?15:7;1<y&&A<b;)v=v<<6|63&g[A++],y--;1<y?k[x++]=65533:v<65536?k[x++]=v:(v-=65536,k[x++]=55296|v>>10&1023,k[x++]=56320|1023&v)}return k.length!==x&&(k.subarray?k=k.subarray(0,x):k.length=x),a.applyFromCharCode(k)}(m=a.transformTo(s.uint8array?"uint8array":"array",m))},a.inherits(h,l),h.prototype.processChunk=function(m){var g=a.transformTo(s.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var A=g;(g=new Uint8Array(A.length+this.leftOver.length)).set(this.leftOver,0),g.set(A,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var x=function(y,b){var k;for((b=b||y.length)>y.length&&(b=y.length),k=b-1;0<=k&&(192&y[k])==128;)k--;return k<0||k===0?b:k+c[y[k]]>b?k:b}(g),v=g;x!==g.length&&(s.uint8array?(v=g.subarray(0,x),this.leftOver=g.subarray(x,g.length)):(v=g.slice(0,x),this.leftOver=g.slice(x,g.length))),this.push({data:i.utf8decode(v),meta:m.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,a.inherits(p,l),p.prototype.processChunk=function(m){this.push({data:i.utf8encode(m.data),meta:m.meta})},i.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var a=n("./support"),s=n("./base64"),o=n("./nodejsUtils"),l=n("./external");function c(A){return A}function d(A,x){for(var v=0;v<A.length;++v)x[v]=255&A.charCodeAt(v);return x}n("setimmediate"),i.newBlob=function(A,x){i.checkSupport("blob");try{return new Blob([A],{type:x})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(A),v.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(A,x,v){var y=[],b=0,k=A.length;if(k<=v)return String.fromCharCode.apply(null,A);for(;b<k;)x==="array"||x==="nodebuffer"?y.push(String.fromCharCode.apply(null,A.slice(b,Math.min(b+v,k)))):y.push(String.fromCharCode.apply(null,A.subarray(b,Math.min(b+v,k)))),b+=v;return y.join("")},stringifyByChar:function(A){for(var x="",v=0;v<A.length;v++)x+=String.fromCharCode(A[v]);return x},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function p(A){var x=65536,v=i.getTypeOf(A),y=!0;if(v==="uint8array"?y=h.applyCanBeUsed.uint8array:v==="nodebuffer"&&(y=h.applyCanBeUsed.nodebuffer),y)for(;1<x;)try{return h.stringifyByChunk(A,v,x)}catch{x=Math.floor(x/2)}return h.stringifyByChar(A)}function m(A,x){for(var v=0;v<A.length;v++)x[v]=A[v];return x}i.applyFromCharCode=p;var g={};g.string={string:c,array:function(A){return d(A,new Array(A.length))},arraybuffer:function(A){return g.string.uint8array(A).buffer},uint8array:function(A){return d(A,new Uint8Array(A.length))},nodebuffer:function(A){return d(A,o.allocBuffer(A.length))}},g.array={string:p,array:c,arraybuffer:function(A){return new Uint8Array(A).buffer},uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return o.newBufferFrom(A)}},g.arraybuffer={string:function(A){return p(new Uint8Array(A))},array:function(A){return m(new Uint8Array(A),new Array(A.byteLength))},arraybuffer:c,uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return o.newBufferFrom(new Uint8Array(A))}},g.uint8array={string:p,array:function(A){return m(A,new Array(A.length))},arraybuffer:function(A){return A.buffer},uint8array:c,nodebuffer:function(A){return o.newBufferFrom(A)}},g.nodebuffer={string:p,array:function(A){return m(A,new Array(A.length))},arraybuffer:function(A){return g.nodebuffer.uint8array(A).buffer},uint8array:function(A){return m(A,new Uint8Array(A.length))},nodebuffer:c},i.transformTo=function(A,x){if(x=x||"",!A)return x;i.checkSupport(A);var v=i.getTypeOf(x);return g[v][A](x)},i.resolve=function(A){for(var x=A.split("/"),v=[],y=0;y<x.length;y++){var b=x[y];b==="."||b===""&&y!==0&&y!==x.length-1||(b===".."?v.pop():v.push(b))}return v.join("/")},i.getTypeOf=function(A){return typeof A=="string"?"string":Object.prototype.toString.call(A)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(A)?"nodebuffer":a.uint8array&&A instanceof Uint8Array?"uint8array":a.arraybuffer&&A instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(A){if(!a[A.toLowerCase()])throw new Error(A+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(A){var x,v,y="";for(v=0;v<(A||"").length;v++)y+="\\x"+((x=A.charCodeAt(v))<16?"0":"")+x.toString(16).toUpperCase();return y},i.delay=function(A,x,v){setImmediate(function(){A.apply(v||null,x||[])})},i.inherits=function(A,x){function v(){}v.prototype=x.prototype,A.prototype=new v},i.extend=function(){var A,x,v={};for(A=0;A<arguments.length;A++)for(x in arguments[A])Object.prototype.hasOwnProperty.call(arguments[A],x)&&v[x]===void 0&&(v[x]=arguments[A][x]);return v},i.prepareContent=function(A,x,v,y,b){return l.Promise.resolve(x).then(function(k){return a.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new l.Promise(function(S,L){var w=new FileReader;w.onload=function(T){S(T.target.result)},w.onerror=function(T){L(T.target.error)},w.readAsArrayBuffer(k)}):k}).then(function(k){var S=i.getTypeOf(k);return S?(S==="arraybuffer"?k=i.transformTo("uint8array",k):S==="string"&&(b?k=s.decode(k):v&&y!==!0&&(k=function(L){return d(L,a.uint8array?new Uint8Array(L.length):new Array(L.length))}(k))),k):l.Promise.reject(new Error("Can't read the data of '"+A+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var a=n("./reader/readerFor"),s=n("./utils"),o=n("./signature"),l=n("./zipEntry"),c=n("./support");function d(h){this.files=[],this.loadOptions=h}d.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(p)+", expected "+s.pretty(h)+")")}},isSignature:function(h,p){var m=this.reader.index;this.reader.setIndex(h);var g=this.reader.readString(4)===p;return this.reader.setIndex(m),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),p=c.uint8array?"uint8array":"array",m=s.transformTo(p,h);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,p,m,g=this.zip64EndOfCentralSize-44;0<g;)h=this.reader.readInt(2),p=this.reader.readInt(4),m=this.reader.readData(p),this.zip64ExtensibleData[h]={id:h,length:p,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,p;for(h=0;h<this.files.length;h++)p=this.files[h],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var p=h;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var g=p-m;if(0<g)this.isSignature(p,o.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(h){this.reader=a(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var a=n("./reader/readerFor"),s=n("./utils"),o=n("./compressedObject"),l=n("./crc32"),c=n("./utf8"),d=n("./compressions"),h=n("./support");function p(m,g){this.options=m,this.loadOptions=g}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var g,A;if(m.skip(22),this.fileNameLength=m.readInt(2),A=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(A),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(x){for(var v in d)if(Object.prototype.hasOwnProperty.call(d,v)&&d[v].magic===x)return d[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,g,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var g=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(g),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var g,A,x,v=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<v;)g=m.readInt(2),A=m.readInt(2),x=m.readData(A),this.extraFields[g]={id:g,length:A,value:x};m.setIndex(v)},handleUTF8:function(){var m=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var A=s.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(A)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var v=s.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var g=a(m.value);return g.readInt(1)!==1||l(this.fileName)!==g.readInt(4)?null:c.utf8decode(g.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var g=a(m.value);return g.readInt(1)!==1||l(this.fileComment)!==g.readInt(4)?null:c.utf8decode(g.readData(m.length-5))}return null}},r.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function a(g,A,x){this.name=g,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=A,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var s=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),l=n("./utf8"),c=n("./compressedObject"),d=n("./stream/GenericWorker");a.prototype={internalStream:function(g){var A=null,x="string";try{if(!g)throw new Error("No output type specified.");var v=(x=g.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),A=this._decompressWorker();var y=!this._dataBinary;y&&!v&&(A=A.pipe(new l.Utf8EncodeWorker)),!y&&v&&(A=A.pipe(new l.Utf8DecodeWorker))}catch(b){(A=new d("error")).error(b)}return new s(A,x,"")},async:function(g,A){return this.internalStream(g).accumulate(A)},nodeStream:function(g,A){return this.internalStream(g||"nodebuffer").toNodejsStream(A)},_compressWorker:function(g,A){if(this._data instanceof c&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(x,g,A)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof d?this._data:new o(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<h.length;m++)a.prototype[h[m]]=p;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(a){var s,o,l=a.MutationObserver||a.WebKitMutationObserver;if(l){var c=0,d=new l(g),h=a.document.createTextNode("");d.observe(h,{characterData:!0}),s=function(){h.data=c=++c%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var A=a.document.createElement("script");A.onreadystatechange=function(){g(),A.onreadystatechange=null,A.parentNode.removeChild(A),A=null},a.document.documentElement.appendChild(A)}:function(){setTimeout(g,0)};else{var p=new a.MessageChannel;p.port1.onmessage=g,s=function(){p.port2.postMessage(0)}}var m=[];function g(){var A,x;o=!0;for(var v=m.length;v;){for(x=m,m=[],A=-1;++A<v;)x[A]();v=m.length}o=!1}r.exports=function(A){m.push(A)!==1||o||s()}}).call(this,typeof Hd<"u"?Hd:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var a=n("immediate");function s(){}var o={},l=["REJECTED"],c=["FULFILLED"],d=["PENDING"];function h(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,v!==s&&A(this,v)}function p(v,y,b){this.promise=v,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function m(v,y,b){a(function(){var k;try{k=y(b)}catch(S){return o.reject(v,S)}k===v?o.reject(v,new TypeError("Cannot resolve promise with itself")):o.resolve(v,k)})}function g(v){var y=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof y=="function")return function(){y.apply(v,arguments)}}function A(v,y){var b=!1;function k(w){b||(b=!0,o.reject(v,w))}function S(w){b||(b=!0,o.resolve(v,w))}var L=x(function(){y(S,k)});L.status==="error"&&k(L.value)}function x(v,y){var b={};try{b.value=v(y),b.status="success"}catch(k){b.status="error",b.value=k}return b}(r.exports=h).prototype.finally=function(v){if(typeof v!="function")return this;var y=this.constructor;return this.then(function(b){return y.resolve(v()).then(function(){return b})},function(b){return y.resolve(v()).then(function(){throw b})})},h.prototype.catch=function(v){return this.then(null,v)},h.prototype.then=function(v,y){if(typeof v!="function"&&this.state===c||typeof y!="function"&&this.state===l)return this;var b=new this.constructor(s);return this.state!==d?m(b,this.state===c?v:y,this.outcome):this.queue.push(new p(b,v,y)),b},p.prototype.callFulfilled=function(v){o.resolve(this.promise,v)},p.prototype.otherCallFulfilled=function(v){m(this.promise,this.onFulfilled,v)},p.prototype.callRejected=function(v){o.reject(this.promise,v)},p.prototype.otherCallRejected=function(v){m(this.promise,this.onRejected,v)},o.resolve=function(v,y){var b=x(g,y);if(b.status==="error")return o.reject(v,b.value);var k=b.value;if(k)A(v,k);else{v.state=c,v.outcome=y;for(var S=-1,L=v.queue.length;++S<L;)v.queue[S].callFulfilled(y)}return v},o.reject=function(v,y){v.state=l,v.outcome=y;for(var b=-1,k=v.queue.length;++b<k;)v.queue[b].callRejected(y);return v},h.resolve=function(v){return v instanceof this?v:o.resolve(new this(s),v)},h.reject=function(v){var y=new this(s);return o.reject(y,v)},h.all=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=v.length,k=!1;if(!b)return this.resolve([]);for(var S=new Array(b),L=0,w=-1,T=new this(s);++w<b;)_(v[w],w);return T;function _(D,j){y.resolve(D).then(function(N){S[j]=N,++L!==b||k||(k=!0,o.resolve(T,S))},function(N){k||(k=!0,o.reject(T,N))})}},h.race=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=v.length,k=!1;if(!b)return this.resolve([]);for(var S=-1,L=new this(s);++S<b;)w=v[S],y.resolve(w).then(function(T){k||(k=!0,o.resolve(L,T))},function(T){k||(k=!0,o.reject(L,T))});var w;return L}},{immediate:36}],38:[function(n,r,i){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var a=n("./zlib/deflate"),s=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/messages"),c=n("./zlib/zstream"),d=Object.prototype.toString,h=0,p=-1,m=0,g=8;function A(v){if(!(this instanceof A))return new A(v);this.options=s.assign({level:p,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},v||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var b=a.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(b!==h)throw new Error(l[b]);if(y.header&&a.deflateSetHeader(this.strm,y.header),y.dictionary){var k;if(k=typeof y.dictionary=="string"?o.string2buf(y.dictionary):d.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(b=a.deflateSetDictionary(this.strm,k))!==h)throw new Error(l[b]);this._dict_set=!0}}function x(v,y){var b=new A(y);if(b.push(v,!0),b.err)throw b.msg||l[b.err];return b.result}A.prototype.push=function(v,y){var b,k,S=this.strm,L=this.options.chunkSize;if(this.ended)return!1;k=y===~~y?y:y===!0?4:0,typeof v=="string"?S.input=o.string2buf(v):d.call(v)==="[object ArrayBuffer]"?S.input=new Uint8Array(v):S.input=v,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new s.Buf8(L),S.next_out=0,S.avail_out=L),(b=a.deflate(S,k))!==1&&b!==h)return this.onEnd(b),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||k!==4&&k!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(S.output,S.next_out))):this.onData(s.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&b!==1);return k===4?(b=a.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===h):k!==2||(this.onEnd(h),!(S.avail_out=0))},A.prototype.onData=function(v){this.chunks.push(v)},A.prototype.onEnd=function(v){v===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Deflate=A,i.deflate=x,i.deflateRaw=function(v,y){return(y=y||{}).raw=!0,x(v,y)},i.gzip=function(v,y){return(y=y||{}).gzip=!0,x(v,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var a=n("./zlib/inflate"),s=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/constants"),c=n("./zlib/messages"),d=n("./zlib/zstream"),h=n("./zlib/gzheader"),p=Object.prototype.toString;function m(A){if(!(this instanceof m))return new m(A);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},A||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||A&&A.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&!(15&x.windowBits)&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var v=a.inflateInit2(this.strm,x.windowBits);if(v!==l.Z_OK)throw new Error(c[v]);this.header=new h,a.inflateGetHeader(this.strm,this.header)}function g(A,x){var v=new m(x);if(v.push(A,!0),v.err)throw v.msg||c[v.err];return v.result}m.prototype.push=function(A,x){var v,y,b,k,S,L,w=this.strm,T=this.options.chunkSize,_=this.options.dictionary,D=!1;if(this.ended)return!1;y=x===~~x?x:x===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof A=="string"?w.input=o.binstring2buf(A):p.call(A)==="[object ArrayBuffer]"?w.input=new Uint8Array(A):w.input=A,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new s.Buf8(T),w.next_out=0,w.avail_out=T),(v=a.inflate(w,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&_&&(L=typeof _=="string"?o.string2buf(_):p.call(_)==="[object ArrayBuffer]"?new Uint8Array(_):_,v=a.inflateSetDictionary(this.strm,L)),v===l.Z_BUF_ERROR&&D===!0&&(v=l.Z_OK,D=!1),v!==l.Z_STREAM_END&&v!==l.Z_OK)return this.onEnd(v),!(this.ended=!0);w.next_out&&(w.avail_out!==0&&v!==l.Z_STREAM_END&&(w.avail_in!==0||y!==l.Z_FINISH&&y!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=o.utf8border(w.output,w.next_out),k=w.next_out-b,S=o.buf2string(w.output,b),w.next_out=k,w.avail_out=T-k,k&&s.arraySet(w.output,w.output,b,k,0),this.onData(S)):this.onData(s.shrinkBuf(w.output,w.next_out)))),w.avail_in===0&&w.avail_out===0&&(D=!0)}while((0<w.avail_in||w.avail_out===0)&&v!==l.Z_STREAM_END);return v===l.Z_STREAM_END&&(y=l.Z_FINISH),y===l.Z_FINISH?(v=a.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===l.Z_OK):y!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(w.avail_out=0))},m.prototype.onData=function(A){this.chunks.push(A)},m.prototype.onEnd=function(A){A===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg},i.Inflate=m,i.inflate=g,i.inflateRaw=function(A,x){return(x=x||{}).raw=!0,g(A,x)},i.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var d=c.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var h in d)d.hasOwnProperty(h)&&(l[h]=d[h])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var s={arraySet:function(l,c,d,h,p){if(c.subarray&&l.subarray)l.set(c.subarray(d,d+h),p);else for(var m=0;m<h;m++)l[p+m]=c[d+m]},flattenChunks:function(l){var c,d,h,p,m,g;for(c=h=0,d=l.length;c<d;c++)h+=l[c].length;for(g=new Uint8Array(h),c=p=0,d=l.length;c<d;c++)m=l[c],g.set(m,p),p+=m.length;return g}},o={arraySet:function(l,c,d,h,p){for(var m=0;m<h;m++)l[p+m]=c[d+m]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(a)},{}],42:[function(n,r,i){var a=n("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new a.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function d(h,p){if(p<65537&&(h.subarray&&o||!h.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(h,p));for(var m="",g=0;g<p;g++)m+=String.fromCharCode(h[g]);return m}l[254]=l[254]=1,i.string2buf=function(h){var p,m,g,A,x,v=h.length,y=0;for(A=0;A<v;A++)(64512&(m=h.charCodeAt(A)))==55296&&A+1<v&&(64512&(g=h.charCodeAt(A+1)))==56320&&(m=65536+(m-55296<<10)+(g-56320),A++),y+=m<128?1:m<2048?2:m<65536?3:4;for(p=new a.Buf8(y),A=x=0;x<y;A++)(64512&(m=h.charCodeAt(A)))==55296&&A+1<v&&(64512&(g=h.charCodeAt(A+1)))==56320&&(m=65536+(m-55296<<10)+(g-56320),A++),m<128?p[x++]=m:(m<2048?p[x++]=192|m>>>6:(m<65536?p[x++]=224|m>>>12:(p[x++]=240|m>>>18,p[x++]=128|m>>>12&63),p[x++]=128|m>>>6&63),p[x++]=128|63&m);return p},i.buf2binstring=function(h){return d(h,h.length)},i.binstring2buf=function(h){for(var p=new a.Buf8(h.length),m=0,g=p.length;m<g;m++)p[m]=h.charCodeAt(m);return p},i.buf2string=function(h,p){var m,g,A,x,v=p||h.length,y=new Array(2*v);for(m=g=0;m<v;)if((A=h[m++])<128)y[g++]=A;else if(4<(x=l[A]))y[g++]=65533,m+=x-1;else{for(A&=x===2?31:x===3?15:7;1<x&&m<v;)A=A<<6|63&h[m++],x--;1<x?y[g++]=65533:A<65536?y[g++]=A:(A-=65536,y[g++]=55296|A>>10&1023,y[g++]=56320|1023&A)}return d(y,g)},i.utf8border=function(h,p){var m;for((p=p||h.length)>h.length&&(p=h.length),m=p-1;0<=m&&(192&h[m])==128;)m--;return m<0||m===0?p:m+l[h[m]]>p?m:p}},{"./common":41}],43:[function(n,r,i){r.exports=function(a,s,o,l){for(var c=65535&a|0,d=a>>>16&65535|0,h=0;o!==0;){for(o-=h=2e3<o?2e3:o;d=d+(c=c+s[l++]|0)|0,--h;);c%=65521,d%=65521}return c|d<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var a=function(){for(var s,o=[],l=0;l<256;l++){s=l;for(var c=0;c<8;c++)s=1&s?3988292384^s>>>1:s>>>1;o[l]=s}return o}();r.exports=function(s,o,l,c){var d=a,h=c+l;s^=-1;for(var p=c;p<h;p++)s=s>>>8^d[255&(s^o[p])];return-1^s}},{}],46:[function(n,r,i){var a,s=n("../utils/common"),o=n("./trees"),l=n("./adler32"),c=n("./crc32"),d=n("./messages"),h=0,p=4,m=0,g=-2,A=-1,x=4,v=2,y=8,b=9,k=286,S=30,L=19,w=2*k+1,T=15,_=3,D=258,j=D+_+1,N=42,R=113,C=1,B=2,$=3,J=4;function ee(I,z){return I.msg=d[z],z}function Y(I){return(I<<1)-(4<I?9:0)}function oe(I){for(var z=I.length;0<=--z;)I[z]=0}function H(I){var z=I.state,W=z.pending;W>I.avail_out&&(W=I.avail_out),W!==0&&(s.arraySet(I.output,z.pending_buf,z.pending_out,W,I.next_out),I.next_out+=W,z.pending_out+=W,I.total_out+=W,I.avail_out-=W,z.pending-=W,z.pending===0&&(z.pending_out=0))}function q(I,z){o._tr_flush_block(I,0<=I.block_start?I.block_start:-1,I.strstart-I.block_start,z),I.block_start=I.strstart,H(I.strm)}function se(I,z){I.pending_buf[I.pending++]=z}function he(I,z){I.pending_buf[I.pending++]=z>>>8&255,I.pending_buf[I.pending++]=255&z}function ce(I,z){var W,O,M=I.max_chain_length,U=I.strstart,Z=I.prev_length,ne=I.nice_match,te=I.strstart>I.w_size-j?I.strstart-(I.w_size-j):0,Q=I.window,G=I.w_mask,X=I.prev,le=I.strstart+D,we=Q[U+Z-1],Ne=Q[U+Z];I.prev_length>=I.good_match&&(M>>=2),ne>I.lookahead&&(ne=I.lookahead);do if(Q[(W=z)+Z]===Ne&&Q[W+Z-1]===we&&Q[W]===Q[U]&&Q[++W]===Q[U+1]){U+=2,W++;do;while(Q[++U]===Q[++W]&&Q[++U]===Q[++W]&&Q[++U]===Q[++W]&&Q[++U]===Q[++W]&&Q[++U]===Q[++W]&&Q[++U]===Q[++W]&&Q[++U]===Q[++W]&&Q[++U]===Q[++W]&&U<le);if(O=D-(le-U),U=le-D,Z<O){if(I.match_start=z,ne<=(Z=O))break;we=Q[U+Z-1],Ne=Q[U+Z]}}while((z=X[z&G])>te&&--M!=0);return Z<=I.lookahead?Z:I.lookahead}function Ae(I){var z,W,O,M,U,Z,ne,te,Q,G,X=I.w_size;do{if(M=I.window_size-I.lookahead-I.strstart,I.strstart>=X+(X-j)){for(s.arraySet(I.window,I.window,X,X,0),I.match_start-=X,I.strstart-=X,I.block_start-=X,z=W=I.hash_size;O=I.head[--z],I.head[z]=X<=O?O-X:0,--W;);for(z=W=X;O=I.prev[--z],I.prev[z]=X<=O?O-X:0,--W;);M+=X}if(I.strm.avail_in===0)break;if(Z=I.strm,ne=I.window,te=I.strstart+I.lookahead,Q=M,G=void 0,G=Z.avail_in,Q<G&&(G=Q),W=G===0?0:(Z.avail_in-=G,s.arraySet(ne,Z.input,Z.next_in,G,te),Z.state.wrap===1?Z.adler=l(Z.adler,ne,G,te):Z.state.wrap===2&&(Z.adler=c(Z.adler,ne,G,te)),Z.next_in+=G,Z.total_in+=G,G),I.lookahead+=W,I.lookahead+I.insert>=_)for(U=I.strstart-I.insert,I.ins_h=I.window[U],I.ins_h=(I.ins_h<<I.hash_shift^I.window[U+1])&I.hash_mask;I.insert&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[U+_-1])&I.hash_mask,I.prev[U&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=U,U++,I.insert--,!(I.lookahead+I.insert<_)););}while(I.lookahead<j&&I.strm.avail_in!==0)}function xe(I,z){for(var W,O;;){if(I.lookahead<j){if(Ae(I),I.lookahead<j&&z===h)return C;if(I.lookahead===0)break}if(W=0,I.lookahead>=_&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+_-1])&I.hash_mask,W=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),W!==0&&I.strstart-W<=I.w_size-j&&(I.match_length=ce(I,W)),I.match_length>=_)if(O=o._tr_tally(I,I.strstart-I.match_start,I.match_length-_),I.lookahead-=I.match_length,I.match_length<=I.max_lazy_match&&I.lookahead>=_){for(I.match_length--;I.strstart++,I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+_-1])&I.hash_mask,W=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart,--I.match_length!=0;);I.strstart++}else I.strstart+=I.match_length,I.match_length=0,I.ins_h=I.window[I.strstart],I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+1])&I.hash_mask;else O=o._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++;if(O&&(q(I,!1),I.strm.avail_out===0))return C}return I.insert=I.strstart<_-1?I.strstart:_-1,z===p?(q(I,!0),I.strm.avail_out===0?$:J):I.last_lit&&(q(I,!1),I.strm.avail_out===0)?C:B}function ve(I,z){for(var W,O,M;;){if(I.lookahead<j){if(Ae(I),I.lookahead<j&&z===h)return C;if(I.lookahead===0)break}if(W=0,I.lookahead>=_&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+_-1])&I.hash_mask,W=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),I.prev_length=I.match_length,I.prev_match=I.match_start,I.match_length=_-1,W!==0&&I.prev_length<I.max_lazy_match&&I.strstart-W<=I.w_size-j&&(I.match_length=ce(I,W),I.match_length<=5&&(I.strategy===1||I.match_length===_&&4096<I.strstart-I.match_start)&&(I.match_length=_-1)),I.prev_length>=_&&I.match_length<=I.prev_length){for(M=I.strstart+I.lookahead-_,O=o._tr_tally(I,I.strstart-1-I.prev_match,I.prev_length-_),I.lookahead-=I.prev_length-1,I.prev_length-=2;++I.strstart<=M&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+_-1])&I.hash_mask,W=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),--I.prev_length!=0;);if(I.match_available=0,I.match_length=_-1,I.strstart++,O&&(q(I,!1),I.strm.avail_out===0))return C}else if(I.match_available){if((O=o._tr_tally(I,0,I.window[I.strstart-1]))&&q(I,!1),I.strstart++,I.lookahead--,I.strm.avail_out===0)return C}else I.match_available=1,I.strstart++,I.lookahead--}return I.match_available&&(O=o._tr_tally(I,0,I.window[I.strstart-1]),I.match_available=0),I.insert=I.strstart<_-1?I.strstart:_-1,z===p?(q(I,!0),I.strm.avail_out===0?$:J):I.last_lit&&(q(I,!1),I.strm.avail_out===0)?C:B}function Ie(I,z,W,O,M){this.good_length=I,this.max_lazy=z,this.nice_length=W,this.max_chain=O,this.func=M}function Ee(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*w),this.dyn_dtree=new s.Buf16(2*(2*S+1)),this.bl_tree=new s.Buf16(2*(2*L+1)),oe(this.dyn_ltree),oe(this.dyn_dtree),oe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(T+1),this.heap=new s.Buf16(2*k+1),oe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*k+1),oe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function pe(I){var z;return I&&I.state?(I.total_in=I.total_out=0,I.data_type=v,(z=I.state).pending=0,z.pending_out=0,z.wrap<0&&(z.wrap=-z.wrap),z.status=z.wrap?N:R,I.adler=z.wrap===2?0:1,z.last_flush=h,o._tr_init(z),m):ee(I,g)}function ge(I){var z=pe(I);return z===m&&function(W){W.window_size=2*W.w_size,oe(W.head),W.max_lazy_match=a[W.level].max_lazy,W.good_match=a[W.level].good_length,W.nice_match=a[W.level].nice_length,W.max_chain_length=a[W.level].max_chain,W.strstart=0,W.block_start=0,W.lookahead=0,W.insert=0,W.match_length=W.prev_length=_-1,W.match_available=0,W.ins_h=0}(I.state),z}function be(I,z,W,O,M,U){if(!I)return g;var Z=1;if(z===A&&(z=6),O<0?(Z=0,O=-O):15<O&&(Z=2,O-=16),M<1||b<M||W!==y||O<8||15<O||z<0||9<z||U<0||x<U)return ee(I,g);O===8&&(O=9);var ne=new Ee;return(I.state=ne).strm=I,ne.wrap=Z,ne.gzhead=null,ne.w_bits=O,ne.w_size=1<<ne.w_bits,ne.w_mask=ne.w_size-1,ne.hash_bits=M+7,ne.hash_size=1<<ne.hash_bits,ne.hash_mask=ne.hash_size-1,ne.hash_shift=~~((ne.hash_bits+_-1)/_),ne.window=new s.Buf8(2*ne.w_size),ne.head=new s.Buf16(ne.hash_size),ne.prev=new s.Buf16(ne.w_size),ne.lit_bufsize=1<<M+6,ne.pending_buf_size=4*ne.lit_bufsize,ne.pending_buf=new s.Buf8(ne.pending_buf_size),ne.d_buf=1*ne.lit_bufsize,ne.l_buf=3*ne.lit_bufsize,ne.level=z,ne.strategy=U,ne.method=W,ge(I)}a=[new Ie(0,0,0,0,function(I,z){var W=65535;for(W>I.pending_buf_size-5&&(W=I.pending_buf_size-5);;){if(I.lookahead<=1){if(Ae(I),I.lookahead===0&&z===h)return C;if(I.lookahead===0)break}I.strstart+=I.lookahead,I.lookahead=0;var O=I.block_start+W;if((I.strstart===0||I.strstart>=O)&&(I.lookahead=I.strstart-O,I.strstart=O,q(I,!1),I.strm.avail_out===0)||I.strstart-I.block_start>=I.w_size-j&&(q(I,!1),I.strm.avail_out===0))return C}return I.insert=0,z===p?(q(I,!0),I.strm.avail_out===0?$:J):(I.strstart>I.block_start&&(q(I,!1),I.strm.avail_out),C)}),new Ie(4,4,8,4,xe),new Ie(4,5,16,8,xe),new Ie(4,6,32,32,xe),new Ie(4,4,16,16,ve),new Ie(8,16,32,32,ve),new Ie(8,16,128,128,ve),new Ie(8,32,128,256,ve),new Ie(32,128,258,1024,ve),new Ie(32,258,258,4096,ve)],i.deflateInit=function(I,z){return be(I,z,y,15,8,0)},i.deflateInit2=be,i.deflateReset=ge,i.deflateResetKeep=pe,i.deflateSetHeader=function(I,z){return I&&I.state?I.state.wrap!==2?g:(I.state.gzhead=z,m):g},i.deflate=function(I,z){var W,O,M,U;if(!I||!I.state||5<z||z<0)return I?ee(I,g):g;if(O=I.state,!I.output||!I.input&&I.avail_in!==0||O.status===666&&z!==p)return ee(I,I.avail_out===0?-5:g);if(O.strm=I,W=O.last_flush,O.last_flush=z,O.status===N)if(O.wrap===2)I.adler=0,se(O,31),se(O,139),se(O,8),O.gzhead?(se(O,(O.gzhead.text?1:0)+(O.gzhead.hcrc?2:0)+(O.gzhead.extra?4:0)+(O.gzhead.name?8:0)+(O.gzhead.comment?16:0)),se(O,255&O.gzhead.time),se(O,O.gzhead.time>>8&255),se(O,O.gzhead.time>>16&255),se(O,O.gzhead.time>>24&255),se(O,O.level===9?2:2<=O.strategy||O.level<2?4:0),se(O,255&O.gzhead.os),O.gzhead.extra&&O.gzhead.extra.length&&(se(O,255&O.gzhead.extra.length),se(O,O.gzhead.extra.length>>8&255)),O.gzhead.hcrc&&(I.adler=c(I.adler,O.pending_buf,O.pending,0)),O.gzindex=0,O.status=69):(se(O,0),se(O,0),se(O,0),se(O,0),se(O,0),se(O,O.level===9?2:2<=O.strategy||O.level<2?4:0),se(O,3),O.status=R);else{var Z=y+(O.w_bits-8<<4)<<8;Z|=(2<=O.strategy||O.level<2?0:O.level<6?1:O.level===6?2:3)<<6,O.strstart!==0&&(Z|=32),Z+=31-Z%31,O.status=R,he(O,Z),O.strstart!==0&&(he(O,I.adler>>>16),he(O,65535&I.adler)),I.adler=1}if(O.status===69)if(O.gzhead.extra){for(M=O.pending;O.gzindex<(65535&O.gzhead.extra.length)&&(O.pending!==O.pending_buf_size||(O.gzhead.hcrc&&O.pending>M&&(I.adler=c(I.adler,O.pending_buf,O.pending-M,M)),H(I),M=O.pending,O.pending!==O.pending_buf_size));)se(O,255&O.gzhead.extra[O.gzindex]),O.gzindex++;O.gzhead.hcrc&&O.pending>M&&(I.adler=c(I.adler,O.pending_buf,O.pending-M,M)),O.gzindex===O.gzhead.extra.length&&(O.gzindex=0,O.status=73)}else O.status=73;if(O.status===73)if(O.gzhead.name){M=O.pending;do{if(O.pending===O.pending_buf_size&&(O.gzhead.hcrc&&O.pending>M&&(I.adler=c(I.adler,O.pending_buf,O.pending-M,M)),H(I),M=O.pending,O.pending===O.pending_buf_size)){U=1;break}U=O.gzindex<O.gzhead.name.length?255&O.gzhead.name.charCodeAt(O.gzindex++):0,se(O,U)}while(U!==0);O.gzhead.hcrc&&O.pending>M&&(I.adler=c(I.adler,O.pending_buf,O.pending-M,M)),U===0&&(O.gzindex=0,O.status=91)}else O.status=91;if(O.status===91)if(O.gzhead.comment){M=O.pending;do{if(O.pending===O.pending_buf_size&&(O.gzhead.hcrc&&O.pending>M&&(I.adler=c(I.adler,O.pending_buf,O.pending-M,M)),H(I),M=O.pending,O.pending===O.pending_buf_size)){U=1;break}U=O.gzindex<O.gzhead.comment.length?255&O.gzhead.comment.charCodeAt(O.gzindex++):0,se(O,U)}while(U!==0);O.gzhead.hcrc&&O.pending>M&&(I.adler=c(I.adler,O.pending_buf,O.pending-M,M)),U===0&&(O.status=103)}else O.status=103;if(O.status===103&&(O.gzhead.hcrc?(O.pending+2>O.pending_buf_size&&H(I),O.pending+2<=O.pending_buf_size&&(se(O,255&I.adler),se(O,I.adler>>8&255),I.adler=0,O.status=R)):O.status=R),O.pending!==0){if(H(I),I.avail_out===0)return O.last_flush=-1,m}else if(I.avail_in===0&&Y(z)<=Y(W)&&z!==p)return ee(I,-5);if(O.status===666&&I.avail_in!==0)return ee(I,-5);if(I.avail_in!==0||O.lookahead!==0||z!==h&&O.status!==666){var ne=O.strategy===2?function(te,Q){for(var G;;){if(te.lookahead===0&&(Ae(te),te.lookahead===0)){if(Q===h)return C;break}if(te.match_length=0,G=o._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++,G&&(q(te,!1),te.strm.avail_out===0))return C}return te.insert=0,Q===p?(q(te,!0),te.strm.avail_out===0?$:J):te.last_lit&&(q(te,!1),te.strm.avail_out===0)?C:B}(O,z):O.strategy===3?function(te,Q){for(var G,X,le,we,Ne=te.window;;){if(te.lookahead<=D){if(Ae(te),te.lookahead<=D&&Q===h)return C;if(te.lookahead===0)break}if(te.match_length=0,te.lookahead>=_&&0<te.strstart&&(X=Ne[le=te.strstart-1])===Ne[++le]&&X===Ne[++le]&&X===Ne[++le]){we=te.strstart+D;do;while(X===Ne[++le]&&X===Ne[++le]&&X===Ne[++le]&&X===Ne[++le]&&X===Ne[++le]&&X===Ne[++le]&&X===Ne[++le]&&X===Ne[++le]&&le<we);te.match_length=D-(we-le),te.match_length>te.lookahead&&(te.match_length=te.lookahead)}if(te.match_length>=_?(G=o._tr_tally(te,1,te.match_length-_),te.lookahead-=te.match_length,te.strstart+=te.match_length,te.match_length=0):(G=o._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++),G&&(q(te,!1),te.strm.avail_out===0))return C}return te.insert=0,Q===p?(q(te,!0),te.strm.avail_out===0?$:J):te.last_lit&&(q(te,!1),te.strm.avail_out===0)?C:B}(O,z):a[O.level].func(O,z);if(ne!==$&&ne!==J||(O.status=666),ne===C||ne===$)return I.avail_out===0&&(O.last_flush=-1),m;if(ne===B&&(z===1?o._tr_align(O):z!==5&&(o._tr_stored_block(O,0,0,!1),z===3&&(oe(O.head),O.lookahead===0&&(O.strstart=0,O.block_start=0,O.insert=0))),H(I),I.avail_out===0))return O.last_flush=-1,m}return z!==p?m:O.wrap<=0?1:(O.wrap===2?(se(O,255&I.adler),se(O,I.adler>>8&255),se(O,I.adler>>16&255),se(O,I.adler>>24&255),se(O,255&I.total_in),se(O,I.total_in>>8&255),se(O,I.total_in>>16&255),se(O,I.total_in>>24&255)):(he(O,I.adler>>>16),he(O,65535&I.adler)),H(I),0<O.wrap&&(O.wrap=-O.wrap),O.pending!==0?m:1)},i.deflateEnd=function(I){var z;return I&&I.state?(z=I.state.status)!==N&&z!==69&&z!==73&&z!==91&&z!==103&&z!==R&&z!==666?ee(I,g):(I.state=null,z===R?ee(I,-3):m):g},i.deflateSetDictionary=function(I,z){var W,O,M,U,Z,ne,te,Q,G=z.length;if(!I||!I.state||(U=(W=I.state).wrap)===2||U===1&&W.status!==N||W.lookahead)return g;for(U===1&&(I.adler=l(I.adler,z,G,0)),W.wrap=0,G>=W.w_size&&(U===0&&(oe(W.head),W.strstart=0,W.block_start=0,W.insert=0),Q=new s.Buf8(W.w_size),s.arraySet(Q,z,G-W.w_size,W.w_size,0),z=Q,G=W.w_size),Z=I.avail_in,ne=I.next_in,te=I.input,I.avail_in=G,I.next_in=0,I.input=z,Ae(W);W.lookahead>=_;){for(O=W.strstart,M=W.lookahead-(_-1);W.ins_h=(W.ins_h<<W.hash_shift^W.window[O+_-1])&W.hash_mask,W.prev[O&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=O,O++,--M;);W.strstart=O,W.lookahead=_-1,Ae(W)}return W.strstart+=W.lookahead,W.block_start=W.strstart,W.insert=W.lookahead,W.lookahead=0,W.match_length=W.prev_length=_-1,W.match_available=0,I.next_in=ne,I.input=te,I.avail_in=Z,W.wrap=U,m},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(a,s){var o,l,c,d,h,p,m,g,A,x,v,y,b,k,S,L,w,T,_,D,j,N,R,C,B;o=a.state,l=a.next_in,C=a.input,c=l+(a.avail_in-5),d=a.next_out,B=a.output,h=d-(s-a.avail_out),p=d+(a.avail_out-257),m=o.dmax,g=o.wsize,A=o.whave,x=o.wnext,v=o.window,y=o.hold,b=o.bits,k=o.lencode,S=o.distcode,L=(1<<o.lenbits)-1,w=(1<<o.distbits)-1;e:do{b<15&&(y+=C[l++]<<b,b+=8,y+=C[l++]<<b,b+=8),T=k[y&L];t:for(;;){if(y>>>=_=T>>>24,b-=_,(_=T>>>16&255)===0)B[d++]=65535&T;else{if(!(16&_)){if(!(64&_)){T=k[(65535&T)+(y&(1<<_)-1)];continue t}if(32&_){o.mode=12;break e}a.msg="invalid literal/length code",o.mode=30;break e}D=65535&T,(_&=15)&&(b<_&&(y+=C[l++]<<b,b+=8),D+=y&(1<<_)-1,y>>>=_,b-=_),b<15&&(y+=C[l++]<<b,b+=8,y+=C[l++]<<b,b+=8),T=S[y&w];n:for(;;){if(y>>>=_=T>>>24,b-=_,!(16&(_=T>>>16&255))){if(!(64&_)){T=S[(65535&T)+(y&(1<<_)-1)];continue n}a.msg="invalid distance code",o.mode=30;break e}if(j=65535&T,b<(_&=15)&&(y+=C[l++]<<b,(b+=8)<_&&(y+=C[l++]<<b,b+=8)),m<(j+=y&(1<<_)-1)){a.msg="invalid distance too far back",o.mode=30;break e}if(y>>>=_,b-=_,(_=d-h)<j){if(A<(_=j-_)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break e}if(R=v,(N=0)===x){if(N+=g-_,_<D){for(D-=_;B[d++]=v[N++],--_;);N=d-j,R=B}}else if(x<_){if(N+=g+x-_,(_-=x)<D){for(D-=_;B[d++]=v[N++],--_;);if(N=0,x<D){for(D-=_=x;B[d++]=v[N++],--_;);N=d-j,R=B}}}else if(N+=x-_,_<D){for(D-=_;B[d++]=v[N++],--_;);N=d-j,R=B}for(;2<D;)B[d++]=R[N++],B[d++]=R[N++],B[d++]=R[N++],D-=3;D&&(B[d++]=R[N++],1<D&&(B[d++]=R[N++]))}else{for(N=d-j;B[d++]=B[N++],B[d++]=B[N++],B[d++]=B[N++],2<(D-=3););D&&(B[d++]=B[N++],1<D&&(B[d++]=B[N++]))}break}}break}}while(l<c&&d<p);l-=D=b>>3,y&=(1<<(b-=D<<3))-1,a.next_in=l,a.next_out=d,a.avail_in=l<c?c-l+5:5-(l-c),a.avail_out=d<p?p-d+257:257-(d-p),o.hold=y,o.bits=b}},{}],49:[function(n,r,i){var a=n("../utils/common"),s=n("./adler32"),o=n("./crc32"),l=n("./inffast"),c=n("./inftrees"),d=1,h=2,p=0,m=-2,g=1,A=852,x=592;function v(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(N){var R;return N&&N.state?(R=N.state,N.total_in=N.total_out=R.total=0,N.msg="",R.wrap&&(N.adler=1&R.wrap),R.mode=g,R.last=0,R.havedict=0,R.dmax=32768,R.head=null,R.hold=0,R.bits=0,R.lencode=R.lendyn=new a.Buf32(A),R.distcode=R.distdyn=new a.Buf32(x),R.sane=1,R.back=-1,p):m}function k(N){var R;return N&&N.state?((R=N.state).wsize=0,R.whave=0,R.wnext=0,b(N)):m}function S(N,R){var C,B;return N&&N.state?(B=N.state,R<0?(C=0,R=-R):(C=1+(R>>4),R<48&&(R&=15)),R&&(R<8||15<R)?m:(B.window!==null&&B.wbits!==R&&(B.window=null),B.wrap=C,B.wbits=R,k(N))):m}function L(N,R){var C,B;return N?(B=new y,(N.state=B).window=null,(C=S(N,R))!==p&&(N.state=null),C):m}var w,T,_=!0;function D(N){if(_){var R;for(w=new a.Buf32(512),T=new a.Buf32(32),R=0;R<144;)N.lens[R++]=8;for(;R<256;)N.lens[R++]=9;for(;R<280;)N.lens[R++]=7;for(;R<288;)N.lens[R++]=8;for(c(d,N.lens,0,288,w,0,N.work,{bits:9}),R=0;R<32;)N.lens[R++]=5;c(h,N.lens,0,32,T,0,N.work,{bits:5}),_=!1}N.lencode=w,N.lenbits=9,N.distcode=T,N.distbits=5}function j(N,R,C,B){var $,J=N.state;return J.window===null&&(J.wsize=1<<J.wbits,J.wnext=0,J.whave=0,J.window=new a.Buf8(J.wsize)),B>=J.wsize?(a.arraySet(J.window,R,C-J.wsize,J.wsize,0),J.wnext=0,J.whave=J.wsize):(B<($=J.wsize-J.wnext)&&($=B),a.arraySet(J.window,R,C-B,$,J.wnext),(B-=$)?(a.arraySet(J.window,R,C-B,B,0),J.wnext=B,J.whave=J.wsize):(J.wnext+=$,J.wnext===J.wsize&&(J.wnext=0),J.whave<J.wsize&&(J.whave+=$))),0}i.inflateReset=k,i.inflateReset2=S,i.inflateResetKeep=b,i.inflateInit=function(N){return L(N,15)},i.inflateInit2=L,i.inflate=function(N,R){var C,B,$,J,ee,Y,oe,H,q,se,he,ce,Ae,xe,ve,Ie,Ee,pe,ge,be,I,z,W,O,M=0,U=new a.Buf8(4),Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return m;(C=N.state).mode===12&&(C.mode=13),ee=N.next_out,$=N.output,oe=N.avail_out,J=N.next_in,B=N.input,Y=N.avail_in,H=C.hold,q=C.bits,se=Y,he=oe,z=p;e:for(;;)switch(C.mode){case g:if(C.wrap===0){C.mode=13;break}for(;q<16;){if(Y===0)break e;Y--,H+=B[J++]<<q,q+=8}if(2&C.wrap&&H===35615){U[C.check=0]=255&H,U[1]=H>>>8&255,C.check=o(C.check,U,2,0),q=H=0,C.mode=2;break}if(C.flags=0,C.head&&(C.head.done=!1),!(1&C.wrap)||(((255&H)<<8)+(H>>8))%31){N.msg="incorrect header check",C.mode=30;break}if((15&H)!=8){N.msg="unknown compression method",C.mode=30;break}if(q-=4,I=8+(15&(H>>>=4)),C.wbits===0)C.wbits=I;else if(I>C.wbits){N.msg="invalid window size",C.mode=30;break}C.dmax=1<<I,N.adler=C.check=1,C.mode=512&H?10:12,q=H=0;break;case 2:for(;q<16;){if(Y===0)break e;Y--,H+=B[J++]<<q,q+=8}if(C.flags=H,(255&C.flags)!=8){N.msg="unknown compression method",C.mode=30;break}if(57344&C.flags){N.msg="unknown header flags set",C.mode=30;break}C.head&&(C.head.text=H>>8&1),512&C.flags&&(U[0]=255&H,U[1]=H>>>8&255,C.check=o(C.check,U,2,0)),q=H=0,C.mode=3;case 3:for(;q<32;){if(Y===0)break e;Y--,H+=B[J++]<<q,q+=8}C.head&&(C.head.time=H),512&C.flags&&(U[0]=255&H,U[1]=H>>>8&255,U[2]=H>>>16&255,U[3]=H>>>24&255,C.check=o(C.check,U,4,0)),q=H=0,C.mode=4;case 4:for(;q<16;){if(Y===0)break e;Y--,H+=B[J++]<<q,q+=8}C.head&&(C.head.xflags=255&H,C.head.os=H>>8),512&C.flags&&(U[0]=255&H,U[1]=H>>>8&255,C.check=o(C.check,U,2,0)),q=H=0,C.mode=5;case 5:if(1024&C.flags){for(;q<16;){if(Y===0)break e;Y--,H+=B[J++]<<q,q+=8}C.length=H,C.head&&(C.head.extra_len=H),512&C.flags&&(U[0]=255&H,U[1]=H>>>8&255,C.check=o(C.check,U,2,0)),q=H=0}else C.head&&(C.head.extra=null);C.mode=6;case 6:if(1024&C.flags&&(Y<(ce=C.length)&&(ce=Y),ce&&(C.head&&(I=C.head.extra_len-C.length,C.head.extra||(C.head.extra=new Array(C.head.extra_len)),a.arraySet(C.head.extra,B,J,ce,I)),512&C.flags&&(C.check=o(C.check,B,ce,J)),Y-=ce,J+=ce,C.length-=ce),C.length))break e;C.length=0,C.mode=7;case 7:if(2048&C.flags){if(Y===0)break e;for(ce=0;I=B[J+ce++],C.head&&I&&C.length<65536&&(C.head.name+=String.fromCharCode(I)),I&&ce<Y;);if(512&C.flags&&(C.check=o(C.check,B,ce,J)),Y-=ce,J+=ce,I)break e}else C.head&&(C.head.name=null);C.length=0,C.mode=8;case 8:if(4096&C.flags){if(Y===0)break e;for(ce=0;I=B[J+ce++],C.head&&I&&C.length<65536&&(C.head.comment+=String.fromCharCode(I)),I&&ce<Y;);if(512&C.flags&&(C.check=o(C.check,B,ce,J)),Y-=ce,J+=ce,I)break e}else C.head&&(C.head.comment=null);C.mode=9;case 9:if(512&C.flags){for(;q<16;){if(Y===0)break e;Y--,H+=B[J++]<<q,q+=8}if(H!==(65535&C.check)){N.msg="header crc mismatch",C.mode=30;break}q=H=0}C.head&&(C.head.hcrc=C.flags>>9&1,C.head.done=!0),N.adler=C.check=0,C.mode=12;break;case 10:for(;q<32;){if(Y===0)break e;Y--,H+=B[J++]<<q,q+=8}N.adler=C.check=v(H),q=H=0,C.mode=11;case 11:if(C.havedict===0)return N.next_out=ee,N.avail_out=oe,N.next_in=J,N.avail_in=Y,C.hold=H,C.bits=q,2;N.adler=C.check=1,C.mode=12;case 12:if(R===5||R===6)break e;case 13:if(C.last){H>>>=7&q,q-=7&q,C.mode=27;break}for(;q<3;){if(Y===0)break e;Y--,H+=B[J++]<<q,q+=8}switch(C.last=1&H,q-=1,3&(H>>>=1)){case 0:C.mode=14;break;case 1:if(D(C),C.mode=20,R!==6)break;H>>>=2,q-=2;break e;case 2:C.mode=17;break;case 3:N.msg="invalid block type",C.mode=30}H>>>=2,q-=2;break;case 14:for(H>>>=7&q,q-=7&q;q<32;){if(Y===0)break e;Y--,H+=B[J++]<<q,q+=8}if((65535&H)!=(H>>>16^65535)){N.msg="invalid stored block lengths",C.mode=30;break}if(C.length=65535&H,q=H=0,C.mode=15,R===6)break e;case 15:C.mode=16;case 16:if(ce=C.length){if(Y<ce&&(ce=Y),oe<ce&&(ce=oe),ce===0)break e;a.arraySet($,B,J,ce,ee),Y-=ce,J+=ce,oe-=ce,ee+=ce,C.length-=ce;break}C.mode=12;break;case 17:for(;q<14;){if(Y===0)break e;Y--,H+=B[J++]<<q,q+=8}if(C.nlen=257+(31&H),H>>>=5,q-=5,C.ndist=1+(31&H),H>>>=5,q-=5,C.ncode=4+(15&H),H>>>=4,q-=4,286<C.nlen||30<C.ndist){N.msg="too many length or distance symbols",C.mode=30;break}C.have=0,C.mode=18;case 18:for(;C.have<C.ncode;){for(;q<3;){if(Y===0)break e;Y--,H+=B[J++]<<q,q+=8}C.lens[Z[C.have++]]=7&H,H>>>=3,q-=3}for(;C.have<19;)C.lens[Z[C.have++]]=0;if(C.lencode=C.lendyn,C.lenbits=7,W={bits:C.lenbits},z=c(0,C.lens,0,19,C.lencode,0,C.work,W),C.lenbits=W.bits,z){N.msg="invalid code lengths set",C.mode=30;break}C.have=0,C.mode=19;case 19:for(;C.have<C.nlen+C.ndist;){for(;Ie=(M=C.lencode[H&(1<<C.lenbits)-1])>>>16&255,Ee=65535&M,!((ve=M>>>24)<=q);){if(Y===0)break e;Y--,H+=B[J++]<<q,q+=8}if(Ee<16)H>>>=ve,q-=ve,C.lens[C.have++]=Ee;else{if(Ee===16){for(O=ve+2;q<O;){if(Y===0)break e;Y--,H+=B[J++]<<q,q+=8}if(H>>>=ve,q-=ve,C.have===0){N.msg="invalid bit length repeat",C.mode=30;break}I=C.lens[C.have-1],ce=3+(3&H),H>>>=2,q-=2}else if(Ee===17){for(O=ve+3;q<O;){if(Y===0)break e;Y--,H+=B[J++]<<q,q+=8}q-=ve,I=0,ce=3+(7&(H>>>=ve)),H>>>=3,q-=3}else{for(O=ve+7;q<O;){if(Y===0)break e;Y--,H+=B[J++]<<q,q+=8}q-=ve,I=0,ce=11+(127&(H>>>=ve)),H>>>=7,q-=7}if(C.have+ce>C.nlen+C.ndist){N.msg="invalid bit length repeat",C.mode=30;break}for(;ce--;)C.lens[C.have++]=I}}if(C.mode===30)break;if(C.lens[256]===0){N.msg="invalid code -- missing end-of-block",C.mode=30;break}if(C.lenbits=9,W={bits:C.lenbits},z=c(d,C.lens,0,C.nlen,C.lencode,0,C.work,W),C.lenbits=W.bits,z){N.msg="invalid literal/lengths set",C.mode=30;break}if(C.distbits=6,C.distcode=C.distdyn,W={bits:C.distbits},z=c(h,C.lens,C.nlen,C.ndist,C.distcode,0,C.work,W),C.distbits=W.bits,z){N.msg="invalid distances set",C.mode=30;break}if(C.mode=20,R===6)break e;case 20:C.mode=21;case 21:if(6<=Y&&258<=oe){N.next_out=ee,N.avail_out=oe,N.next_in=J,N.avail_in=Y,C.hold=H,C.bits=q,l(N,he),ee=N.next_out,$=N.output,oe=N.avail_out,J=N.next_in,B=N.input,Y=N.avail_in,H=C.hold,q=C.bits,C.mode===12&&(C.back=-1);break}for(C.back=0;Ie=(M=C.lencode[H&(1<<C.lenbits)-1])>>>16&255,Ee=65535&M,!((ve=M>>>24)<=q);){if(Y===0)break e;Y--,H+=B[J++]<<q,q+=8}if(Ie&&!(240&Ie)){for(pe=ve,ge=Ie,be=Ee;Ie=(M=C.lencode[be+((H&(1<<pe+ge)-1)>>pe)])>>>16&255,Ee=65535&M,!(pe+(ve=M>>>24)<=q);){if(Y===0)break e;Y--,H+=B[J++]<<q,q+=8}H>>>=pe,q-=pe,C.back+=pe}if(H>>>=ve,q-=ve,C.back+=ve,C.length=Ee,Ie===0){C.mode=26;break}if(32&Ie){C.back=-1,C.mode=12;break}if(64&Ie){N.msg="invalid literal/length code",C.mode=30;break}C.extra=15&Ie,C.mode=22;case 22:if(C.extra){for(O=C.extra;q<O;){if(Y===0)break e;Y--,H+=B[J++]<<q,q+=8}C.length+=H&(1<<C.extra)-1,H>>>=C.extra,q-=C.extra,C.back+=C.extra}C.was=C.length,C.mode=23;case 23:for(;Ie=(M=C.distcode[H&(1<<C.distbits)-1])>>>16&255,Ee=65535&M,!((ve=M>>>24)<=q);){if(Y===0)break e;Y--,H+=B[J++]<<q,q+=8}if(!(240&Ie)){for(pe=ve,ge=Ie,be=Ee;Ie=(M=C.distcode[be+((H&(1<<pe+ge)-1)>>pe)])>>>16&255,Ee=65535&M,!(pe+(ve=M>>>24)<=q);){if(Y===0)break e;Y--,H+=B[J++]<<q,q+=8}H>>>=pe,q-=pe,C.back+=pe}if(H>>>=ve,q-=ve,C.back+=ve,64&Ie){N.msg="invalid distance code",C.mode=30;break}C.offset=Ee,C.extra=15&Ie,C.mode=24;case 24:if(C.extra){for(O=C.extra;q<O;){if(Y===0)break e;Y--,H+=B[J++]<<q,q+=8}C.offset+=H&(1<<C.extra)-1,H>>>=C.extra,q-=C.extra,C.back+=C.extra}if(C.offset>C.dmax){N.msg="invalid distance too far back",C.mode=30;break}C.mode=25;case 25:if(oe===0)break e;if(ce=he-oe,C.offset>ce){if((ce=C.offset-ce)>C.whave&&C.sane){N.msg="invalid distance too far back",C.mode=30;break}Ae=ce>C.wnext?(ce-=C.wnext,C.wsize-ce):C.wnext-ce,ce>C.length&&(ce=C.length),xe=C.window}else xe=$,Ae=ee-C.offset,ce=C.length;for(oe<ce&&(ce=oe),oe-=ce,C.length-=ce;$[ee++]=xe[Ae++],--ce;);C.length===0&&(C.mode=21);break;case 26:if(oe===0)break e;$[ee++]=C.length,oe--,C.mode=21;break;case 27:if(C.wrap){for(;q<32;){if(Y===0)break e;Y--,H|=B[J++]<<q,q+=8}if(he-=oe,N.total_out+=he,C.total+=he,he&&(N.adler=C.check=C.flags?o(C.check,$,he,ee-he):s(C.check,$,he,ee-he)),he=oe,(C.flags?H:v(H))!==C.check){N.msg="incorrect data check",C.mode=30;break}q=H=0}C.mode=28;case 28:if(C.wrap&&C.flags){for(;q<32;){if(Y===0)break e;Y--,H+=B[J++]<<q,q+=8}if(H!==(4294967295&C.total)){N.msg="incorrect length check",C.mode=30;break}q=H=0}C.mode=29;case 29:z=1;break e;case 30:z=-3;break e;case 31:return-4;case 32:default:return m}return N.next_out=ee,N.avail_out=oe,N.next_in=J,N.avail_in=Y,C.hold=H,C.bits=q,(C.wsize||he!==N.avail_out&&C.mode<30&&(C.mode<27||R!==4))&&j(N,N.output,N.next_out,he-N.avail_out)?(C.mode=31,-4):(se-=N.avail_in,he-=N.avail_out,N.total_in+=se,N.total_out+=he,C.total+=he,C.wrap&&he&&(N.adler=C.check=C.flags?o(C.check,$,he,N.next_out-he):s(C.check,$,he,N.next_out-he)),N.data_type=C.bits+(C.last?64:0)+(C.mode===12?128:0)+(C.mode===20||C.mode===15?256:0),(se==0&&he===0||R===4)&&z===p&&(z=-5),z)},i.inflateEnd=function(N){if(!N||!N.state)return m;var R=N.state;return R.window&&(R.window=null),N.state=null,p},i.inflateGetHeader=function(N,R){var C;return N&&N.state&&2&(C=N.state).wrap?((C.head=R).done=!1,p):m},i.inflateSetDictionary=function(N,R){var C,B=R.length;return N&&N.state?(C=N.state).wrap!==0&&C.mode!==11?m:C.mode===11&&s(1,R,B,0)!==C.check?-3:j(N,R,B,B)?(C.mode=31,-4):(C.havedict=1,p):m},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var a=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(d,h,p,m,g,A,x,v){var y,b,k,S,L,w,T,_,D,j=v.bits,N=0,R=0,C=0,B=0,$=0,J=0,ee=0,Y=0,oe=0,H=0,q=null,se=0,he=new a.Buf16(16),ce=new a.Buf16(16),Ae=null,xe=0;for(N=0;N<=15;N++)he[N]=0;for(R=0;R<m;R++)he[h[p+R]]++;for($=j,B=15;1<=B&&he[B]===0;B--);if(B<$&&($=B),B===0)return g[A++]=20971520,g[A++]=20971520,v.bits=1,0;for(C=1;C<B&&he[C]===0;C++);for($<C&&($=C),N=Y=1;N<=15;N++)if(Y<<=1,(Y-=he[N])<0)return-1;if(0<Y&&(d===0||B!==1))return-1;for(ce[1]=0,N=1;N<15;N++)ce[N+1]=ce[N]+he[N];for(R=0;R<m;R++)h[p+R]!==0&&(x[ce[h[p+R]]++]=R);if(w=d===0?(q=Ae=x,19):d===1?(q=s,se-=257,Ae=o,xe-=257,256):(q=l,Ae=c,-1),N=C,L=A,ee=R=H=0,k=-1,S=(oe=1<<(J=$))-1,d===1&&852<oe||d===2&&592<oe)return 1;for(;;){for(T=N-ee,D=x[R]<w?(_=0,x[R]):x[R]>w?(_=Ae[xe+x[R]],q[se+x[R]]):(_=96,0),y=1<<N-ee,C=b=1<<J;g[L+(H>>ee)+(b-=y)]=T<<24|_<<16|D|0,b!==0;);for(y=1<<N-1;H&y;)y>>=1;if(y!==0?(H&=y-1,H+=y):H=0,R++,--he[N]==0){if(N===B)break;N=h[p+x[R]]}if($<N&&(H&S)!==k){for(ee===0&&(ee=$),L+=C,Y=1<<(J=N-ee);J+ee<B&&!((Y-=he[J+ee])<=0);)J++,Y<<=1;if(oe+=1<<J,d===1&&852<oe||d===2&&592<oe)return 1;g[k=H&S]=$<<24|J<<16|L-A|0}}return H!==0&&(g[L+H]=N-ee<<24|64<<16|0),v.bits=$,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var a=n("../utils/common"),s=0,o=1;function l(M){for(var U=M.length;0<=--U;)M[U]=0}var c=0,d=29,h=256,p=h+1+d,m=30,g=19,A=2*p+1,x=15,v=16,y=7,b=256,k=16,S=17,L=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=new Array(2*(p+2));l(j);var N=new Array(2*m);l(N);var R=new Array(512);l(R);var C=new Array(256);l(C);var B=new Array(d);l(B);var $,J,ee,Y=new Array(m);function oe(M,U,Z,ne,te){this.static_tree=M,this.extra_bits=U,this.extra_base=Z,this.elems=ne,this.max_length=te,this.has_stree=M&&M.length}function H(M,U){this.dyn_tree=M,this.max_code=0,this.stat_desc=U}function q(M){return M<256?R[M]:R[256+(M>>>7)]}function se(M,U){M.pending_buf[M.pending++]=255&U,M.pending_buf[M.pending++]=U>>>8&255}function he(M,U,Z){M.bi_valid>v-Z?(M.bi_buf|=U<<M.bi_valid&65535,se(M,M.bi_buf),M.bi_buf=U>>v-M.bi_valid,M.bi_valid+=Z-v):(M.bi_buf|=U<<M.bi_valid&65535,M.bi_valid+=Z)}function ce(M,U,Z){he(M,Z[2*U],Z[2*U+1])}function Ae(M,U){for(var Z=0;Z|=1&M,M>>>=1,Z<<=1,0<--U;);return Z>>>1}function xe(M,U,Z){var ne,te,Q=new Array(x+1),G=0;for(ne=1;ne<=x;ne++)Q[ne]=G=G+Z[ne-1]<<1;for(te=0;te<=U;te++){var X=M[2*te+1];X!==0&&(M[2*te]=Ae(Q[X]++,X))}}function ve(M){var U;for(U=0;U<p;U++)M.dyn_ltree[2*U]=0;for(U=0;U<m;U++)M.dyn_dtree[2*U]=0;for(U=0;U<g;U++)M.bl_tree[2*U]=0;M.dyn_ltree[2*b]=1,M.opt_len=M.static_len=0,M.last_lit=M.matches=0}function Ie(M){8<M.bi_valid?se(M,M.bi_buf):0<M.bi_valid&&(M.pending_buf[M.pending++]=M.bi_buf),M.bi_buf=0,M.bi_valid=0}function Ee(M,U,Z,ne){var te=2*U,Q=2*Z;return M[te]<M[Q]||M[te]===M[Q]&&ne[U]<=ne[Z]}function pe(M,U,Z){for(var ne=M.heap[Z],te=Z<<1;te<=M.heap_len&&(te<M.heap_len&&Ee(U,M.heap[te+1],M.heap[te],M.depth)&&te++,!Ee(U,ne,M.heap[te],M.depth));)M.heap[Z]=M.heap[te],Z=te,te<<=1;M.heap[Z]=ne}function ge(M,U,Z){var ne,te,Q,G,X=0;if(M.last_lit!==0)for(;ne=M.pending_buf[M.d_buf+2*X]<<8|M.pending_buf[M.d_buf+2*X+1],te=M.pending_buf[M.l_buf+X],X++,ne===0?ce(M,te,U):(ce(M,(Q=C[te])+h+1,U),(G=w[Q])!==0&&he(M,te-=B[Q],G),ce(M,Q=q(--ne),Z),(G=T[Q])!==0&&he(M,ne-=Y[Q],G)),X<M.last_lit;);ce(M,b,U)}function be(M,U){var Z,ne,te,Q=U.dyn_tree,G=U.stat_desc.static_tree,X=U.stat_desc.has_stree,le=U.stat_desc.elems,we=-1;for(M.heap_len=0,M.heap_max=A,Z=0;Z<le;Z++)Q[2*Z]!==0?(M.heap[++M.heap_len]=we=Z,M.depth[Z]=0):Q[2*Z+1]=0;for(;M.heap_len<2;)Q[2*(te=M.heap[++M.heap_len]=we<2?++we:0)]=1,M.depth[te]=0,M.opt_len--,X&&(M.static_len-=G[2*te+1]);for(U.max_code=we,Z=M.heap_len>>1;1<=Z;Z--)pe(M,Q,Z);for(te=le;Z=M.heap[1],M.heap[1]=M.heap[M.heap_len--],pe(M,Q,1),ne=M.heap[1],M.heap[--M.heap_max]=Z,M.heap[--M.heap_max]=ne,Q[2*te]=Q[2*Z]+Q[2*ne],M.depth[te]=(M.depth[Z]>=M.depth[ne]?M.depth[Z]:M.depth[ne])+1,Q[2*Z+1]=Q[2*ne+1]=te,M.heap[1]=te++,pe(M,Q,1),2<=M.heap_len;);M.heap[--M.heap_max]=M.heap[1],function(Ne,dt){var Ze,je,Ue,Me,et,bt,st=dt.dyn_tree,Oe=dt.max_code,ot=dt.stat_desc.static_tree,Nt=dt.stat_desc.has_stree,ht=dt.stat_desc.extra_bits,Ut=dt.stat_desc.extra_base,Qe=dt.stat_desc.max_length,rt=0;for(Me=0;Me<=x;Me++)Ne.bl_count[Me]=0;for(st[2*Ne.heap[Ne.heap_max]+1]=0,Ze=Ne.heap_max+1;Ze<A;Ze++)Qe<(Me=st[2*st[2*(je=Ne.heap[Ze])+1]+1]+1)&&(Me=Qe,rt++),st[2*je+1]=Me,Oe<je||(Ne.bl_count[Me]++,et=0,Ut<=je&&(et=ht[je-Ut]),bt=st[2*je],Ne.opt_len+=bt*(Me+et),Nt&&(Ne.static_len+=bt*(ot[2*je+1]+et)));if(rt!==0){do{for(Me=Qe-1;Ne.bl_count[Me]===0;)Me--;Ne.bl_count[Me]--,Ne.bl_count[Me+1]+=2,Ne.bl_count[Qe]--,rt-=2}while(0<rt);for(Me=Qe;Me!==0;Me--)for(je=Ne.bl_count[Me];je!==0;)Oe<(Ue=Ne.heap[--Ze])||(st[2*Ue+1]!==Me&&(Ne.opt_len+=(Me-st[2*Ue+1])*st[2*Ue],st[2*Ue+1]=Me),je--)}}(M,U),xe(Q,we,M.bl_count)}function I(M,U,Z){var ne,te,Q=-1,G=U[1],X=0,le=7,we=4;for(G===0&&(le=138,we=3),U[2*(Z+1)+1]=65535,ne=0;ne<=Z;ne++)te=G,G=U[2*(ne+1)+1],++X<le&&te===G||(X<we?M.bl_tree[2*te]+=X:te!==0?(te!==Q&&M.bl_tree[2*te]++,M.bl_tree[2*k]++):X<=10?M.bl_tree[2*S]++:M.bl_tree[2*L]++,Q=te,we=(X=0)===G?(le=138,3):te===G?(le=6,3):(le=7,4))}function z(M,U,Z){var ne,te,Q=-1,G=U[1],X=0,le=7,we=4;for(G===0&&(le=138,we=3),ne=0;ne<=Z;ne++)if(te=G,G=U[2*(ne+1)+1],!(++X<le&&te===G)){if(X<we)for(;ce(M,te,M.bl_tree),--X!=0;);else te!==0?(te!==Q&&(ce(M,te,M.bl_tree),X--),ce(M,k,M.bl_tree),he(M,X-3,2)):X<=10?(ce(M,S,M.bl_tree),he(M,X-3,3)):(ce(M,L,M.bl_tree),he(M,X-11,7));Q=te,we=(X=0)===G?(le=138,3):te===G?(le=6,3):(le=7,4)}}l(Y);var W=!1;function O(M,U,Z,ne){he(M,(c<<1)+(ne?1:0),3),function(te,Q,G,X){Ie(te),se(te,G),se(te,~G),a.arraySet(te.pending_buf,te.window,Q,G,te.pending),te.pending+=G}(M,U,Z)}i._tr_init=function(M){W||(function(){var U,Z,ne,te,Q,G=new Array(x+1);for(te=ne=0;te<d-1;te++)for(B[te]=ne,U=0;U<1<<w[te];U++)C[ne++]=te;for(C[ne-1]=te,te=Q=0;te<16;te++)for(Y[te]=Q,U=0;U<1<<T[te];U++)R[Q++]=te;for(Q>>=7;te<m;te++)for(Y[te]=Q<<7,U=0;U<1<<T[te]-7;U++)R[256+Q++]=te;for(Z=0;Z<=x;Z++)G[Z]=0;for(U=0;U<=143;)j[2*U+1]=8,U++,G[8]++;for(;U<=255;)j[2*U+1]=9,U++,G[9]++;for(;U<=279;)j[2*U+1]=7,U++,G[7]++;for(;U<=287;)j[2*U+1]=8,U++,G[8]++;for(xe(j,p+1,G),U=0;U<m;U++)N[2*U+1]=5,N[2*U]=Ae(U,5);$=new oe(j,w,h+1,p,x),J=new oe(N,T,0,m,x),ee=new oe(new Array(0),_,0,g,y)}(),W=!0),M.l_desc=new H(M.dyn_ltree,$),M.d_desc=new H(M.dyn_dtree,J),M.bl_desc=new H(M.bl_tree,ee),M.bi_buf=0,M.bi_valid=0,ve(M)},i._tr_stored_block=O,i._tr_flush_block=function(M,U,Z,ne){var te,Q,G=0;0<M.level?(M.strm.data_type===2&&(M.strm.data_type=function(X){var le,we=4093624447;for(le=0;le<=31;le++,we>>>=1)if(1&we&&X.dyn_ltree[2*le]!==0)return s;if(X.dyn_ltree[18]!==0||X.dyn_ltree[20]!==0||X.dyn_ltree[26]!==0)return o;for(le=32;le<h;le++)if(X.dyn_ltree[2*le]!==0)return o;return s}(M)),be(M,M.l_desc),be(M,M.d_desc),G=function(X){var le;for(I(X,X.dyn_ltree,X.l_desc.max_code),I(X,X.dyn_dtree,X.d_desc.max_code),be(X,X.bl_desc),le=g-1;3<=le&&X.bl_tree[2*D[le]+1]===0;le--);return X.opt_len+=3*(le+1)+5+5+4,le}(M),te=M.opt_len+3+7>>>3,(Q=M.static_len+3+7>>>3)<=te&&(te=Q)):te=Q=Z+5,Z+4<=te&&U!==-1?O(M,U,Z,ne):M.strategy===4||Q===te?(he(M,2+(ne?1:0),3),ge(M,j,N)):(he(M,4+(ne?1:0),3),function(X,le,we,Ne){var dt;for(he(X,le-257,5),he(X,we-1,5),he(X,Ne-4,4),dt=0;dt<Ne;dt++)he(X,X.bl_tree[2*D[dt]+1],3);z(X,X.dyn_ltree,le-1),z(X,X.dyn_dtree,we-1)}(M,M.l_desc.max_code+1,M.d_desc.max_code+1,G+1),ge(M,M.dyn_ltree,M.dyn_dtree)),ve(M),ne&&Ie(M)},i._tr_tally=function(M,U,Z){return M.pending_buf[M.d_buf+2*M.last_lit]=U>>>8&255,M.pending_buf[M.d_buf+2*M.last_lit+1]=255&U,M.pending_buf[M.l_buf+M.last_lit]=255&Z,M.last_lit++,U===0?M.dyn_ltree[2*Z]++:(M.matches++,U--,M.dyn_ltree[2*(C[Z]+h+1)]++,M.dyn_dtree[2*q(U)]++),M.last_lit===M.lit_bufsize-1},i._tr_align=function(M){he(M,2,3),ce(M,b,j),function(U){U.bi_valid===16?(se(U,U.bi_buf),U.bi_buf=0,U.bi_valid=0):8<=U.bi_valid&&(U.pending_buf[U.pending++]=255&U.bi_buf,U.bi_buf>>=8,U.bi_valid-=8)}(M)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(a){(function(s,o){if(!s.setImmediate){var l,c,d,h,p=1,m={},g=!1,A=s.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(s);x=x&&x.setTimeout?x:s,l={}.toString.call(s.process)==="[object process]"?function(k){process.nextTick(function(){y(k)})}:function(){if(s.postMessage&&!s.importScripts){var k=!0,S=s.onmessage;return s.onmessage=function(){k=!1},s.postMessage("","*"),s.onmessage=S,k}}()?(h="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",b,!1):s.attachEvent("onmessage",b),function(k){s.postMessage(h+k,"*")}):s.MessageChannel?((d=new MessageChannel).port1.onmessage=function(k){y(k.data)},function(k){d.port2.postMessage(k)}):A&&"onreadystatechange"in A.createElement("script")?(c=A.documentElement,function(k){var S=A.createElement("script");S.onreadystatechange=function(){y(k),S.onreadystatechange=null,c.removeChild(S),S=null},c.appendChild(S)}):function(k){setTimeout(y,0,k)},x.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var S=new Array(arguments.length-1),L=0;L<S.length;L++)S[L]=arguments[L+1];var w={callback:k,args:S};return m[p]=w,l(p),p++},x.clearImmediate=v}function v(k){delete m[k]}function y(k){if(g)setTimeout(y,0,k);else{var S=m[k];if(S){g=!0;try{(function(L){var w=L.callback,T=L.args;switch(T.length){case 0:w();break;case 1:w(T[0]);break;case 2:w(T[0],T[1]);break;case 3:w(T[0],T[1],T[2]);break;default:w.apply(o,T)}})(S)}finally{v(k),g=!1}}}}function b(k){k.source===s&&typeof k.data=="string"&&k.data.indexOf(h)===0&&y(+k.data.slice(h.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof Hd<"u"?Hd:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(dS);var d9=dS.exports;const hS=b0(d9);function kr(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?a(d.value):i(d.value).then(o,l)}c((r=r.apply(t,[])).next())})}const Xe=914400,Ld=12700,Mn=`\r
`,h9=2147483649,bg=/^[0-9a-fA-F]{6}$/,f9=1.67,p9=27,Ro={type:"solid",color:"666666",pt:1},fS=[.05,.1,.05,.1],Po={color:"363636",pt:1},Vs={color:"888888",style:"solid",size:1,cap:"flat"},gr="000000",Gr=12,m9=18,jo="LAYOUT_16x9",f0="DEFAULT",pS="333333",bs={type:"outer",blur:3,offset:23e3/12700,angle:90,color:"000000",opacity:.35,rotateWithShape:!0},ad=[.5,.5,.5,.5],k_={color:"000000"},g9={size:8,color:"FFFFFF",opacity:.75},Vi="2094734552",nf="2094734553",Gc="2094734554",p0="2094734555",mS="2094734556",Ic="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),qc=["C0504D","4F81BD","9BBB59","8064A2","4BACC6","F79646","628FC6","C86360","C0504D","4F81BD","9BBB59","8064A2","4BACC6","F79646","628FC6","C86360"],A9=["5DA5DA","FAA43A","60BD68","F17CB0","B2912F","B276B2","DECF3F","F15854","A7A7A7","5DA5DA","FAA43A","60BD68","F17CB0","B2912F","B276B2","DECF3F","F15854","A7A7A7"];var rl;(function(t){t.left="left",t.center="center",t.right="right",t.justify="justify"})(rl||(rl={}));var il;(function(t){t.b="b",t.ctr="ctr",t.t="t"})(il||(il={}));const gS="{F7021451-1387-4CA6-816F-3879F97B5CBC}";var m0;(function(t){t.arraybuffer="arraybuffer",t.base64="base64",t.binarystring="binarystring",t.blob="blob",t.nodebuffer="nodebuffer",t.uint8array="uint8array"})(m0||(m0={}));var g0;(function(t){t.area="area",t.bar="bar",t.bar3d="bar3D",t.bubble="bubble",t.bubble3d="bubble3D",t.doughnut="doughnut",t.line="line",t.pie="pie",t.radar="radar",t.scatter="scatter"})(g0||(g0={}));var A0;(function(t){t.accentBorderCallout1="accentBorderCallout1",t.accentBorderCallout2="accentBorderCallout2",t.accentBorderCallout3="accentBorderCallout3",t.accentCallout1="accentCallout1",t.accentCallout2="accentCallout2",t.accentCallout3="accentCallout3",t.actionButtonBackPrevious="actionButtonBackPrevious",t.actionButtonBeginning="actionButtonBeginning",t.actionButtonBlank="actionButtonBlank",t.actionButtonDocument="actionButtonDocument",t.actionButtonEnd="actionButtonEnd",t.actionButtonForwardNext="actionButtonForwardNext",t.actionButtonHelp="actionButtonHelp",t.actionButtonHome="actionButtonHome",t.actionButtonInformation="actionButtonInformation",t.actionButtonMovie="actionButtonMovie",t.actionButtonReturn="actionButtonReturn",t.actionButtonSound="actionButtonSound",t.arc="arc",t.bentArrow="bentArrow",t.bentUpArrow="bentUpArrow",t.bevel="bevel",t.blockArc="blockArc",t.borderCallout1="borderCallout1",t.borderCallout2="borderCallout2",t.borderCallout3="borderCallout3",t.bracePair="bracePair",t.bracketPair="bracketPair",t.callout1="callout1",t.callout2="callout2",t.callout3="callout3",t.can="can",t.chartPlus="chartPlus",t.chartStar="chartStar",t.chartX="chartX",t.chevron="chevron",t.chord="chord",t.circularArrow="circularArrow",t.cloud="cloud",t.cloudCallout="cloudCallout",t.corner="corner",t.cornerTabs="cornerTabs",t.cube="cube",t.curvedDownArrow="curvedDownArrow",t.curvedLeftArrow="curvedLeftArrow",t.curvedRightArrow="curvedRightArrow",t.curvedUpArrow="curvedUpArrow",t.custGeom="custGeom",t.decagon="decagon",t.diagStripe="diagStripe",t.diamond="diamond",t.dodecagon="dodecagon",t.donut="donut",t.doubleWave="doubleWave",t.downArrow="downArrow",t.downArrowCallout="downArrowCallout",t.ellipse="ellipse",t.ellipseRibbon="ellipseRibbon",t.ellipseRibbon2="ellipseRibbon2",t.flowChartAlternateProcess="flowChartAlternateProcess",t.flowChartCollate="flowChartCollate",t.flowChartConnector="flowChartConnector",t.flowChartDecision="flowChartDecision",t.flowChartDelay="flowChartDelay",t.flowChartDisplay="flowChartDisplay",t.flowChartDocument="flowChartDocument",t.flowChartExtract="flowChartExtract",t.flowChartInputOutput="flowChartInputOutput",t.flowChartInternalStorage="flowChartInternalStorage",t.flowChartMagneticDisk="flowChartMagneticDisk",t.flowChartMagneticDrum="flowChartMagneticDrum",t.flowChartMagneticTape="flowChartMagneticTape",t.flowChartManualInput="flowChartManualInput",t.flowChartManualOperation="flowChartManualOperation",t.flowChartMerge="flowChartMerge",t.flowChartMultidocument="flowChartMultidocument",t.flowChartOfflineStorage="flowChartOfflineStorage",t.flowChartOffpageConnector="flowChartOffpageConnector",t.flowChartOnlineStorage="flowChartOnlineStorage",t.flowChartOr="flowChartOr",t.flowChartPredefinedProcess="flowChartPredefinedProcess",t.flowChartPreparation="flowChartPreparation",t.flowChartProcess="flowChartProcess",t.flowChartPunchedCard="flowChartPunchedCard",t.flowChartPunchedTape="flowChartPunchedTape",t.flowChartSort="flowChartSort",t.flowChartSummingJunction="flowChartSummingJunction",t.flowChartTerminator="flowChartTerminator",t.folderCorner="folderCorner",t.frame="frame",t.funnel="funnel",t.gear6="gear6",t.gear9="gear9",t.halfFrame="halfFrame",t.heart="heart",t.heptagon="heptagon",t.hexagon="hexagon",t.homePlate="homePlate",t.horizontalScroll="horizontalScroll",t.irregularSeal1="irregularSeal1",t.irregularSeal2="irregularSeal2",t.leftArrow="leftArrow",t.leftArrowCallout="leftArrowCallout",t.leftBrace="leftBrace",t.leftBracket="leftBracket",t.leftCircularArrow="leftCircularArrow",t.leftRightArrow="leftRightArrow",t.leftRightArrowCallout="leftRightArrowCallout",t.leftRightCircularArrow="leftRightCircularArrow",t.leftRightRibbon="leftRightRibbon",t.leftRightUpArrow="leftRightUpArrow",t.leftUpArrow="leftUpArrow",t.lightningBolt="lightningBolt",t.line="line",t.lineInv="lineInv",t.mathDivide="mathDivide",t.mathEqual="mathEqual",t.mathMinus="mathMinus",t.mathMultiply="mathMultiply",t.mathNotEqual="mathNotEqual",t.mathPlus="mathPlus",t.moon="moon",t.noSmoking="noSmoking",t.nonIsoscelesTrapezoid="nonIsoscelesTrapezoid",t.notchedRightArrow="notchedRightArrow",t.octagon="octagon",t.parallelogram="parallelogram",t.pentagon="pentagon",t.pie="pie",t.pieWedge="pieWedge",t.plaque="plaque",t.plaqueTabs="plaqueTabs",t.plus="plus",t.quadArrow="quadArrow",t.quadArrowCallout="quadArrowCallout",t.rect="rect",t.ribbon="ribbon",t.ribbon2="ribbon2",t.rightArrow="rightArrow",t.rightArrowCallout="rightArrowCallout",t.rightBrace="rightBrace",t.rightBracket="rightBracket",t.round1Rect="round1Rect",t.round2DiagRect="round2DiagRect",t.round2SameRect="round2SameRect",t.roundRect="roundRect",t.rtTriangle="rtTriangle",t.smileyFace="smileyFace",t.snip1Rect="snip1Rect",t.snip2DiagRect="snip2DiagRect",t.snip2SameRect="snip2SameRect",t.snipRoundRect="snipRoundRect",t.squareTabs="squareTabs",t.star10="star10",t.star12="star12",t.star16="star16",t.star24="star24",t.star32="star32",t.star4="star4",t.star5="star5",t.star6="star6",t.star7="star7",t.star8="star8",t.stripedRightArrow="stripedRightArrow",t.sun="sun",t.swooshArrow="swooshArrow",t.teardrop="teardrop",t.trapezoid="trapezoid",t.triangle="triangle",t.upArrow="upArrow",t.upArrowCallout="upArrowCallout",t.upDownArrow="upDownArrow",t.upDownArrowCallout="upDownArrowCallout",t.uturnArrow="uturnArrow",t.verticalScroll="verticalScroll",t.wave="wave",t.wedgeEllipseCallout="wedgeEllipseCallout",t.wedgeRectCallout="wedgeRectCallout",t.wedgeRoundRectCallout="wedgeRoundRectCallout"})(A0||(A0={}));var Nr;(function(t){t.text1="tx1",t.text2="tx2",t.background1="bg1",t.background2="bg2",t.accent1="accent1",t.accent2="accent2",t.accent3="accent3",t.accent4="accent4",t.accent5="accent5",t.accent6="accent6"})(Nr||(Nr={}));var v0;(function(t){t.left="left",t.center="center",t.right="right",t.justify="justify"})(v0||(v0={}));var y0;(function(t){t.top="top",t.middle="middle",t.bottom="bottom"})(y0||(y0={}));var ss;(function(t){t.ACTION_BUTTON_BACK_OR_PREVIOUS="actionButtonBackPrevious",t.ACTION_BUTTON_BEGINNING="actionButtonBeginning",t.ACTION_BUTTON_CUSTOM="actionButtonBlank",t.ACTION_BUTTON_DOCUMENT="actionButtonDocument",t.ACTION_BUTTON_END="actionButtonEnd",t.ACTION_BUTTON_FORWARD_OR_NEXT="actionButtonForwardNext",t.ACTION_BUTTON_HELP="actionButtonHelp",t.ACTION_BUTTON_HOME="actionButtonHome",t.ACTION_BUTTON_INFORMATION="actionButtonInformation",t.ACTION_BUTTON_MOVIE="actionButtonMovie",t.ACTION_BUTTON_RETURN="actionButtonReturn",t.ACTION_BUTTON_SOUND="actionButtonSound",t.ARC="arc",t.BALLOON="wedgeRoundRectCallout",t.BENT_ARROW="bentArrow",t.BENT_UP_ARROW="bentUpArrow",t.BEVEL="bevel",t.BLOCK_ARC="blockArc",t.CAN="can",t.CHART_PLUS="chartPlus",t.CHART_STAR="chartStar",t.CHART_X="chartX",t.CHEVRON="chevron",t.CHORD="chord",t.CIRCULAR_ARROW="circularArrow",t.CLOUD="cloud",t.CLOUD_CALLOUT="cloudCallout",t.CORNER="corner",t.CORNER_TABS="cornerTabs",t.CROSS="plus",t.CUBE="cube",t.CURVED_DOWN_ARROW="curvedDownArrow",t.CURVED_DOWN_RIBBON="ellipseRibbon",t.CURVED_LEFT_ARROW="curvedLeftArrow",t.CURVED_RIGHT_ARROW="curvedRightArrow",t.CURVED_UP_ARROW="curvedUpArrow",t.CURVED_UP_RIBBON="ellipseRibbon2",t.CUSTOM_GEOMETRY="custGeom",t.DECAGON="decagon",t.DIAGONAL_STRIPE="diagStripe",t.DIAMOND="diamond",t.DODECAGON="dodecagon",t.DONUT="donut",t.DOUBLE_BRACE="bracePair",t.DOUBLE_BRACKET="bracketPair",t.DOUBLE_WAVE="doubleWave",t.DOWN_ARROW="downArrow",t.DOWN_ARROW_CALLOUT="downArrowCallout",t.DOWN_RIBBON="ribbon",t.EXPLOSION1="irregularSeal1",t.EXPLOSION2="irregularSeal2",t.FLOWCHART_ALTERNATE_PROCESS="flowChartAlternateProcess",t.FLOWCHART_CARD="flowChartPunchedCard",t.FLOWCHART_COLLATE="flowChartCollate",t.FLOWCHART_CONNECTOR="flowChartConnector",t.FLOWCHART_DATA="flowChartInputOutput",t.FLOWCHART_DECISION="flowChartDecision",t.FLOWCHART_DELAY="flowChartDelay",t.FLOWCHART_DIRECT_ACCESS_STORAGE="flowChartMagneticDrum",t.FLOWCHART_DISPLAY="flowChartDisplay",t.FLOWCHART_DOCUMENT="flowChartDocument",t.FLOWCHART_EXTRACT="flowChartExtract",t.FLOWCHART_INTERNAL_STORAGE="flowChartInternalStorage",t.FLOWCHART_MAGNETIC_DISK="flowChartMagneticDisk",t.FLOWCHART_MANUAL_INPUT="flowChartManualInput",t.FLOWCHART_MANUAL_OPERATION="flowChartManualOperation",t.FLOWCHART_MERGE="flowChartMerge",t.FLOWCHART_MULTIDOCUMENT="flowChartMultidocument",t.FLOWCHART_OFFLINE_STORAGE="flowChartOfflineStorage",t.FLOWCHART_OFFPAGE_CONNECTOR="flowChartOffpageConnector",t.FLOWCHART_OR="flowChartOr",t.FLOWCHART_PREDEFINED_PROCESS="flowChartPredefinedProcess",t.FLOWCHART_PREPARATION="flowChartPreparation",t.FLOWCHART_PROCESS="flowChartProcess",t.FLOWCHART_PUNCHED_TAPE="flowChartPunchedTape",t.FLOWCHART_SEQUENTIAL_ACCESS_STORAGE="flowChartMagneticTape",t.FLOWCHART_SORT="flowChartSort",t.FLOWCHART_STORED_DATA="flowChartOnlineStorage",t.FLOWCHART_SUMMING_JUNCTION="flowChartSummingJunction",t.FLOWCHART_TERMINATOR="flowChartTerminator",t.FOLDED_CORNER="folderCorner",t.FRAME="frame",t.FUNNEL="funnel",t.GEAR_6="gear6",t.GEAR_9="gear9",t.HALF_FRAME="halfFrame",t.HEART="heart",t.HEPTAGON="heptagon",t.HEXAGON="hexagon",t.HORIZONTAL_SCROLL="horizontalScroll",t.ISOSCELES_TRIANGLE="triangle",t.LEFT_ARROW="leftArrow",t.LEFT_ARROW_CALLOUT="leftArrowCallout",t.LEFT_BRACE="leftBrace",t.LEFT_BRACKET="leftBracket",t.LEFT_CIRCULAR_ARROW="leftCircularArrow",t.LEFT_RIGHT_ARROW="leftRightArrow",t.LEFT_RIGHT_ARROW_CALLOUT="leftRightArrowCallout",t.LEFT_RIGHT_CIRCULAR_ARROW="leftRightCircularArrow",t.LEFT_RIGHT_RIBBON="leftRightRibbon",t.LEFT_RIGHT_UP_ARROW="leftRightUpArrow",t.LEFT_UP_ARROW="leftUpArrow",t.LIGHTNING_BOLT="lightningBolt",t.LINE_CALLOUT_1="borderCallout1",t.LINE_CALLOUT_1_ACCENT_BAR="accentCallout1",t.LINE_CALLOUT_1_BORDER_AND_ACCENT_BAR="accentBorderCallout1",t.LINE_CALLOUT_1_NO_BORDER="callout1",t.LINE_CALLOUT_2="borderCallout2",t.LINE_CALLOUT_2_ACCENT_BAR="accentCallout2",t.LINE_CALLOUT_2_BORDER_AND_ACCENT_BAR="accentBorderCallout2",t.LINE_CALLOUT_2_NO_BORDER="callout2",t.LINE_CALLOUT_3="borderCallout3",t.LINE_CALLOUT_3_ACCENT_BAR="accentCallout3",t.LINE_CALLOUT_3_BORDER_AND_ACCENT_BAR="accentBorderCallout3",t.LINE_CALLOUT_3_NO_BORDER="callout3",t.LINE_CALLOUT_4="borderCallout4",t.LINE_CALLOUT_4_ACCENT_BAR="accentCallout3=4",t.LINE_CALLOUT_4_BORDER_AND_ACCENT_BAR="accentBorderCallout4",t.LINE_CALLOUT_4_NO_BORDER="callout4",t.LINE="line",t.LINE_INVERSE="lineInv",t.MATH_DIVIDE="mathDivide",t.MATH_EQUAL="mathEqual",t.MATH_MINUS="mathMinus",t.MATH_MULTIPLY="mathMultiply",t.MATH_NOT_EQUAL="mathNotEqual",t.MATH_PLUS="mathPlus",t.MOON="moon",t.NON_ISOSCELES_TRAPEZOID="nonIsoscelesTrapezoid",t.NOTCHED_RIGHT_ARROW="notchedRightArrow",t.NO_SYMBOL="noSmoking",t.OCTAGON="octagon",t.OVAL="ellipse",t.OVAL_CALLOUT="wedgeEllipseCallout",t.PARALLELOGRAM="parallelogram",t.PENTAGON="homePlate",t.PIE="pie",t.PIE_WEDGE="pieWedge",t.PLAQUE="plaque",t.PLAQUE_TABS="plaqueTabs",t.QUAD_ARROW="quadArrow",t.QUAD_ARROW_CALLOUT="quadArrowCallout",t.RECTANGLE="rect",t.RECTANGULAR_CALLOUT="wedgeRectCallout",t.REGULAR_PENTAGON="pentagon",t.RIGHT_ARROW="rightArrow",t.RIGHT_ARROW_CALLOUT="rightArrowCallout",t.RIGHT_BRACE="rightBrace",t.RIGHT_BRACKET="rightBracket",t.RIGHT_TRIANGLE="rtTriangle",t.ROUNDED_RECTANGLE="roundRect",t.ROUNDED_RECTANGULAR_CALLOUT="wedgeRoundRectCallout",t.ROUND_1_RECTANGLE="round1Rect",t.ROUND_2_DIAG_RECTANGLE="round2DiagRect",t.ROUND_2_SAME_RECTANGLE="round2SameRect",t.SMILEY_FACE="smileyFace",t.SNIP_1_RECTANGLE="snip1Rect",t.SNIP_2_DIAG_RECTANGLE="snip2DiagRect",t.SNIP_2_SAME_RECTANGLE="snip2SameRect",t.SNIP_ROUND_RECTANGLE="snipRoundRect",t.SQUARE_TABS="squareTabs",t.STAR_10_POINT="star10",t.STAR_12_POINT="star12",t.STAR_16_POINT="star16",t.STAR_24_POINT="star24",t.STAR_32_POINT="star32",t.STAR_4_POINT="star4",t.STAR_5_POINT="star5",t.STAR_6_POINT="star6",t.STAR_7_POINT="star7",t.STAR_8_POINT="star8",t.STRIPED_RIGHT_ARROW="stripedRightArrow",t.SUN="sun",t.SWOOSH_ARROW="swooshArrow",t.TEAR="teardrop",t.TRAPEZOID="trapezoid",t.UP_ARROW="upArrow",t.UP_ARROW_CALLOUT="upArrowCallout",t.UP_DOWN_ARROW="upDownArrow",t.UP_DOWN_ARROW_CALLOUT="upDownArrowCallout",t.UP_RIBBON="ribbon2",t.U_TURN_ARROW="uturnArrow",t.VERTICAL_SCROLL="verticalScroll",t.WAVE="wave"})(ss||(ss={}));var _e;(function(t){t.AREA="area",t.BAR="bar",t.BAR3D="bar3D",t.BUBBLE="bubble",t.BUBBLE3D="bubble3D",t.DOUGHNUT="doughnut",t.LINE="line",t.PIE="pie",t.RADAR="radar",t.SCATTER="scatter"})(_e||(_e={}));var mp;(function(t){t.TEXT1="tx1",t.TEXT2="tx2",t.BACKGROUND1="bg1",t.BACKGROUND2="bg2",t.ACCENT1="accent1",t.ACCENT2="accent2",t.ACCENT3="accent3",t.ACCENT4="accent4",t.ACCENT5="accent5",t.ACCENT6="accent6"})(mp||(mp={}));var Ia;(function(t){t.chart="chart",t.image="image",t.line="line",t.rect="rect",t.text="text",t.placeholder="placeholder"})(Ia||(Ia={}));var He;(function(t){t.chart="chart",t.hyperlink="hyperlink",t.image="image",t.media="media",t.online="online",t.placeholder="placeholder",t.table="table",t.tablecell="tablecell",t.text="text",t.notes="notes"})(He||(He={}));var gu;(function(t){t.title="title",t.body="body",t.image="pic",t.chart="chart",t.table="tbl",t.media="media"})(gu||(gu={}));var al;(function(t){t.DEFAULT="&#x2022;",t.CHECK="&#x2713;",t.STAR="&#x2605;",t.TRIANGLE="&#x25B6;"})(al||(al={}));const sl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAB3CAYAAAD1oOVhAAAGAUlEQVR4Xu2dT0xcRRzHf7tAYSsc0EBSIq2xEg8mtTGebVzEqOVIolz0siRE4gGTStqKwdpWsXoyGhMuyAVJOHBgqyvLNgonDkabeCBYW/8kTUr0wsJC+Wfm0bfuvn37Znbem9mR9303mJnf/Pb7ed95M7PDI5JIJPYJV5EC7e3t1N/fT62trdqViQCIu+bVgpIHEo/Hqbe3V/sdYVKHyWSSZmZm8ilVA0oeyNjYmEnaVC2Xvr6+qg5fAOJAz4DU1dURGzFSqZRVqtMpAFIGyMjICC0vL9PExIRWKADiAYTNshYWFrRCARAOEFZcCKWtrY0GBgaUTYkBRACIE4rKZwqACALR5RQAqQCIDqcASIVAVDsFQCSAqHQKgEgCUeUUAPEBRIVTAMQnEBvK5OQkbW9vk991CoAEAMQJxc86BUACAhKUUwAkQCBBOAVAAgbi1ykAogCIH6cAiCIgsk4BEIVAZJwCIIqBVLqiBxANQFgXS0tLND4+zl08AogmIG5OSSQS1gGKwgtANAIRcQqAaAbCe6YASBWA2E6xDyeyDUl7+AKQMkDYYevm5mZHabA/Li4uUiaTsYLau8QA4gLE/hU7wajyYtv1hReDAiAOxQcHBymbzark4BkbQKom/X8dp9Npmpqasn4BIAYAYSnYp+4BBEAMUcCwNOCQsAKZnp62NtQOw8WmwT09PUo+ijaHsOMx7GppaaH6+nolH0Z10K2tLVpdXbW6UfV3mNqBdHd3U1NTk2rtlMRfW1uj2dlZAFGirkRQAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAGHqrm8caPzQ0WC1logbeiC7X3xJm0PvUmRzh45cuki1588FAmVn9BO6P3yF9utrqGH0MtW82S8UN9RA9v/4k7InjhcJFTs/TLVXLwmJV67S7vD7tHF5pKi46fYdosdOcOOGG8j1OcqefbFEJD9Q3GCwDhqT31HklS4A8VRgfYM2Op6k3bt/BQJl58J7lPvwg5JYNccepaMry0LPqFA7hCm39+NNyp2J0172b19QysGINj5CsRtpij57musOViH0QPJQXn6J9u7dlYJSFkbrMYolrwvDAJAC+WWdEpQz7FTgECeUCpzi6YxvvqXoM6eEhqnCSgDikEzUKUE7Aw7xuHctKB5OYU3dZlNR9syQdAaAcAYTC0pXF+39c09o2Ik+3EqxVKqiB7hbYAxZkk4pbBaEM+AQofv+wTrFwylBOQNABIGwavdfe4O2pg5elO+86l99nY58/VUF0byrYsjiSFluNlXYrOHcBar7+EogUADEQ0YRGHbzoKAASBkg2+9cpM1rV0tK2QOcXW7bLEFAARAXIF4w2DrDWoeUWaf4hQIgDiA8GPZ2iNfi0Q8UACkAIgrDbrJ385eDxaPLLrEsFAB5oG6lMPJQPLZZZKAACBGVhcG2Q+bmuLu2nk55e4jqPv1IeEoceiBeX7s2zCa5MAqdstl91vfXwaEGsv/rb5TtOFk6tWXOuJGh6KmnhO9sayrMninPx103JBtXblHkice58cINZP4Hyr5wpkgkdiChEmc4FWazLzenNKa/p0jncwDiqcD6BuWePk07t1asatZGoYQzSqA4nFJ7soNiP/+EUyfc25GI2GG53dHPrKo1g/1Cw4pIXLrzO+1c+/wg7tBbFDle/EbQcjFCPWQJCau5EoBoFpzXHYDwFNJcDiCaBed1ByA8hTSXA4hmwXndAQhPIc3lAKJZcF53AMJTSHM5gGgWnNcdgPAU0lwOIJoF53UHIDyFNJcfSiCdnZ0Ui8U0SxlMd7lcjubn561gh+Y1scFIU/0o/3sgeLO12E2k7UXKYumgFoAYdg8ACIAYpoBh6cAhAGKYAoalA4cAiGEKGJYOHAIghilgWDpwCIAYpoBh6cAhAGKYAoalA4cAiGEKGJYOHAIghilgWDpwCIAYpoBh6ZQ4JB6PKzviYthnNy4d9h+1M5mMlVckkUjsG5dhiBMCEMPg/wuOfrZZ/RSywQAAAABJRU5ErkJggg==",v9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB4AAAAVnCAYAAACzfHDVAAAAYHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjaVcjJDYAwDEXBu6ughBfH+YnLQSwSHVA+Yrkwx7HtPHabHuEWrQ+lBBAZ6TMweBWoCwUH8quZH6VWFXVT696zxp12ARkVFEqn8wB8AAAACXBIWXMAAC4jAAAuIwF4pT92AADZLklEQVR42uzdd5hV9Z0/8M+dmcsUZmDovYOhKCiKYhR7JJuoSTCWGFI0WUxijBoTTXazVlyza4maYm9rTRSJigVsqCDNQhHBAogKCEgRMjMMU+7vj93sL8kqClLmnPt6PY+PeXZM9vP9vO8jZ+Y955xMfJLjorBrRMuSgmiViyjN1Ee2oSCyucbIBAAAAAAAAADbXaYgcoWNUZcrirpMbdRsysa69wbF+rggGrf439vSF7seF12aFUTnxvoosGIAAAAAAACAXacgoqEgF++/VRgr4r5o+Kh/pvD//F8uiII+LaPrum/EXzqui2b1ddHGKgEAAAAAAAB2rVxEQWMmWrQtjHZlA6N2w2tR84//zP8pgHu3ib6NBdG+zdqorK6KVUXZaB85j3sGAAAAAAAAaAoaG6OwIBdtyneP2PBabPzbr/1dAdx3VHRtyESHiIhcYzQrLo7WmVzkcjmPgAYAAAAAAABoSgpy0eIfS+D/LYD7fy3abC6Inn/7X2hsjELlLwAAAAAAAEDT9D8lcM1fHwddFBFxyAVR9M686PVp/gfqayKiJiLqLBMAAAAAAABgh8hGRGlEUekn/6PFEb3ikNgQk6O+KCJi6dzoksv83/cB/1X9xoiaJdmoWxlRV1dk2QAAAAAAAAA7QTZbH9muERX96v7n9t7/q6Exinq3i86LI94pjOOisHUu+uYykfmof7h+Y8Sa6aVRt74gGhs9DRoAAAAAAABgZ2lsLIi69QWxeUUmSjs0/vedwR8hk4uydSfE+wVd6qOyMfMx7/mtj9jwUtbjngEAAAAAAAB2obrqolg7IxtR/9Ffb4wo7P5GtCwobRaVH/c/UvNmNuqqPfIZAAAAAAAAYFerqy6KmjezH/v1ktpoVZBr/PgCeMN7yl8AAAAAAACApmJLHW5jUVQWNDSP+Q3ZeLco4i9/+8X6teHRzwAAAAAAAABNSd3/dLn/oLAoqqIuVhXFxhhSGB/xqGjlLwAAAAAAAECTU1eTjaK/KXSLIv7SWB+bc5ko9YxnAAAAAAAAgATJFv393bz1EeV//c8F1gMAAAAAAACQDgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKREkRUAAACwrUpLSwuGDRvWfMCAAS26du3avKysrLiioqKkZcuWzZs1a1bcvHnz0tLS0rJsNtusuLi4ebNmzUoLCgo+8/eijY2N9Zs3b66pra2tqqur21xTU1NdVVVVs2nTptqNGzdWbdiwoeYvf/nL5hUrVlQtWLBgw6xZs6pqamoaJQYAAEDaKYABAACIiIghQ4aUHnTQQW379u3bql27dq3at2/fpkWLFq2bN29eWVpa2qpZs2bNCwsLm2ez2fLCwsLyoqKi8sLCwtKknK+hoaG6vr6+qqGh4S91dXV/aWhoqNq8eXNVTU3NuqqqqvUbNmxYu2rVqjWrV69e99Zbb6177rnnPpgzZ06NTwYAAABJogAGAADIA8OGDWt+xBFHdBwwYECnLl26dGjdunXHFi1adCgtLe1YUlLSvlmzZq0KCgqK07yDwsLCssLCwrKIaPdp/zuNjY21mzdvXrdp06ZVNTU172/YsGHl2rVr31+2bNnKBQsWrHjyySffnzVrVpVPGAAAAE1Fpuexsd9HfaF+ZcSal0ptCAAAIAE6deqUPf744zvtueeeXbp3796lbdu2XSorKzuXlpZ2KS0t7VBYWFhhSztGQ0PDxpqampU1NTXL169fv+yDDz5Y9s477yybPXv2sj/96U8rVqxYUWdLAAAAbE9t9q6Jog4f/TUFMAAAQEJks9nMt7/97Y4jRozo1bdv397t2rXrXl5e3rWsrKxzcXFx+4gosKUmp7G2tnZVTU3Nso0bNy5btWrV0tdff/2tJ598cvG999672noAAADYFgpgAACAhPne977X6a9Fb/v27Xu1bNmyV1lZWa8kvXOXLauvr9/wl7/8ZdG6desWL1u2bNHChQsX/fGPf1w8derUjbYDAADAliiAAQAAmqhsNps59dRTuxx66KH9+/Tp87n27dv3Ly8v719UVOSRzXlq06ZNKzZu3Pj6+++//8abb775xqOPPvrG3XffvcpmAAAA+CsFMAAAQBNx6qmndvniF784qHfv3v3btWv3uYqKis8VFhaW2wxbUl9fv37Dhg1vfPDBB68vXrz4jccee2z+jTfeuNxmAAAA8pMCGAAAYBc45phjWn/rW9/aq3///kPatGnTv6Kiop9HOLO9NDQ0VG/cuPGtNWvWLFy4cOGcO+6445WHHnporc0AAACknwIYAABgJzjjjDO6f+lLX9qrV69eg1u3bj2orKysR0RkbIadJFddXb103bp18xcvXjz30UcffeXqq69+x1oAAADSRwEMAACwnZWWlhb86le/2u3QQw8d1r17931btmw5qLCwsMxmaEoaGhqqP/zww/nvvPPOzGeeeWbW2LFj36ipqWm0GQAAgGRTAAMAAGwHP/7xj7t+9atf3bdXr15D27Ztu1c2m21jKyRJXV3dmg8++OCVRYsWvfznP/95xh/+8IdltgIAAJA8CmAAAIBtcOKJJ7Y75ZRTDujXr9+w1q1bD81ms61shTSpq6tbt3bt2pfffPPNWbfccsvUe++9d7WtAAAANH0KYAAAgE+hoqKi4IILLhg0YsSI/bp27bpfy5YtB2YymUKbIR/kcrmGDz/8cP6777474/nnn59x4YUXvrZx40aPiwYAAGiCFMAAAAAf4/jjj2/7/e9//8D+/fsf2Lp1630KCgpKbAUiGhsbN61fv37eW2+9NeWGG2545u67715lKwAAAE2DAhgAAOB/ZLPZzAUXXPC5I4888sDu3bsfWFFRsVtEFNgMbFl1dfWSd999d8qsWbNmnnvuuS+vW7euwVYAAAB2DQUwAACQ10pLSwsuvfTSQYcccsjBXbt2HVFWVtbDVmDb1dbWrnr//fdfmDp16uRf/vKXL65evbreVgAAAHYeBTAAAJB3Bg0aVHrBBRd8fs899zywQ4cOBxQVFbWwFdj+Ghsba9euXTtrzpw5T59//vmTX3755WpbAQAA2LEUwAAAQF4YNmxY8/POO+/gIUOGHOZ9vrDz/W0ZfNFFFz07a9asKlsBAADY/hTAAABAarVq1arwyiuv3HfEiBEjO3TocFBhYWGZrcCu19DQUP3+++8/O2XKlIk/+clPZm7cuLHRVgAAALYPBTAAAJAqrVq1Kvztb3+7/3777Xd4x44dRxQWFpbbCjRdDQ0NG99///0pM2bMeOqHP/zhC8pgAACAz0YBDAAApMJZZ53V45vf/OaRvXr1GllaWtrVRiB5ampq3l28ePHEO++8c9LVV1/9jo0AAABsPQUwAACQWMOHDy+/6KKLvjB48OCjW7RoMdBGID0+/PDDV+fNmzfhvPPOe3L69Ol/sREAAIBPRwEMAAAkSqtWrQpvuOGGQ/bbb79/atOmzX6ZTCZrK5BeuVyubs2aNTNmzJjx2JgxYyavW7euwVYAAAA+ngIYAABIhB//+Mddv/e9732lZ8+e/1RcXNzWRiD/1NbWfvD2228/dssttzz029/+9l0bAQAA+L8UwAAAQJNVUVFRcO21137+4IMPPrZ169b7ZTKZAlsBIqJxzZo1M59//vnxp5122hR3BQMAAPx/CmAAAKDJOeWUUzqefvrpx/bu3ftL2Wy2jY0AH6e+vn7j0qVLH/vd7373x+uvv36ZjQAAAPlOAQwAADQJ2Ww2c+uttx5wyCGHnNC6deu9I8LdvsDWaFy7du1L06ZN+/OPfvSjZ1evXl1vJQAAQD5SAAMAALtU//79S6655pp/2nPPPY8tLy/vayPAZ1VTU7NswYIF488999wHp06dutFGAACAfKIABgAAdomf//znPU855ZQTu3btemRhYWGZjQDbW2NjY92KFSuevOWWW+689NJLF9kIAACQDxTAAADATuMxz8Cusn79+rlPP/30f5188slT6+rqcjYCAACklQIYAADY4fr27Vv8hz/84a+Pee5nI8CuUlNT8+68efPu/8EPfvDgwoULN9kIAACQNgpgAABghxkyZEjpNddc89XBgwefWFxc3MFGgKaitrZ21dy5c+/5yU9+8uc5c+bU2AgAAJAWWyqAPYoNAADYJqNHj+4wb968n06ZMuXRYcOGnaH8BZqa4uLi9sOGDTtjypQpj86bN++nJ510UntbAQAA0s4dwAAAwFY599xze33/+9//dufOnY/IZDJZGwGSIpfL1S1fvvzJG2644fbLLrvsbRsBAACSyiOgAQCAz+y8887r+53vfOfbHTt2PDyTyRTaCJBUuVyuYcWKFU/cdNNN//XrX/96sY0AAABJowAGAAC22WWXXTboG9/4xg9at249zDaAtFm7du2su++++9pzzjnnNdsAAACSQgEMAABsNcUvkE8UwQAAQJIogAEAgE9N8Qvks7Vr18665557rvv5z38+3zYAAICmaksFcGHlwOj6UV9orIqoWZG1PQAAyBO/+MUvet9xxx3nHHrooT8pLS3tYiNAPiotLe2y7777HvP973+/X1lZ2ZIpU6assxUAAKCpKetcHwXlH/01BTAAAOS5M844o/u99957zpe//OWflZeX94qIjK0AeS5TXl7e8+CDDx71/e9/v3dEvDVjxowPrQUAAGgqFMAAAMD/ceKJJ7a77777fjJq1Kh/KS8v7xOKX4B/lCkvL+99+OGHj/rWt77VfvXq1Qvnz59fbS0AAMCutqUC2DuAAQAgzwwdOrTs+uuvP6l///4nFRYWltkI20NjY2Ns2rQpqquro6amJurr62PTpk2xefPmqK+vj+rq6qivr4/NmzfHpk2boqGhYZv/fxUWFkZJSUk0a9YsioqKoqysLIqKiqJZs2ZRUlISRUVFUVpa+r9/FRQUCIjtoqGhoeq11167a8yYMffMmTOnxkYAAIBdZUvvAFYAAwBAnujUqVP2nnvuGbXXXnudnM1mK22Ej9PQ0BAbN26MDRs2/J+/Nm7cGBs3boyamprYtGlTbNq0KWpqaqK2trbJnqe4uDhKSkqitLT0f/9eUVERFRUV0aJFi//zV0VFRRQWFvog8LHq6urWvvjii7eceOKJf169enW9jQAAADubAhgAAPLcXXfdddAXv/jF00tLS7vZRn7L5XKxYcOGWLt2baxbty7Wrl37d3+tW7cuNmzYkPd7atGiRbRu3TpatWoVrVu3jjZt2vzvf27dunW0aNHCh4morq5e+sgjj1zzne98Z6ptAAAAO5MCGAAA8tTVV189+MQTTzyzoqJioG3kj8bGxli5cmUsX748Pvjgg1i9evX//n3t2rXR2NhoSZ9RYWFhtGrVKtq1axdt27b937937tw5OnTo4LHTeWbDhg3z77333qvOPPPMebYBAADsDApgAADIM1/72tfaXHrppad27979qIjQRKVUQ0NDrFq1KlasWBHvv//+//595cqVTfqRzGlXXFwcHTp0iI4dO0bnzp2jY8eO0alTp2jXrp1HS6dYLpdrfOeddx76+c9/fv2ECRPW2QgAALAjKYABACBP9OrVq9ldd931jT322OM7hYWFZTaSHh9++GG88847sXTp0njvvfdixYoVsXr16mhoaLCchCgsLIz27dtHp06dolu3btG9e/fo3r27x0mnTENDQ9W8efNu++Y3v/nHJUuWbLYRAABgR1AAAwBAHrjrrrtG/NM//dOZJSUlXWwj2davXx9Lly6Nd955539L3w8//NBiUqqysvJ/y+C//tWqVSuLSbiamppljz322G9Gjx49xTYAAIDtTQEMAAAp9qtf/arPD3/4w5+1atVqL9tIno0bN8aSJUvirbfeikWLFsV7770XmzZtspg8V1JSEl27do0+ffpE3759o3fv3lFeXm4xCbRu3bqXr7322ivGjh27yDYAAIDtRQEMAAApNGjQoNI77rjju7vttttJBQUFWRtJhtWrV8ebb74ZixcvjiVLlsTy5cujsbHRYtiigoKC6Ny5c/Tu3Tt69+4d/fr1i7Zt21pMQjQ2Nta98cYbd33rW9+6ff78+TU2AgAAfFYKYAAASJHS0tKCBx988Jj99tvvn7PZbBsbaboaGhri7bffjrfeeisWLFgQS5YscXcv201FRUX06tUr+vbtG3379o2ePXtGYWGhxTRhdXV1a2bMmHHjV77ylYdqamr85gcAALDNFMAAAJASp59+erdf/vKX51ZWVu5jG03T6tWr47XXXouFCxfGm2++GRs3brQUdooWLVpE3759Y8CAATFw4EB3CDdh69evf/E//uM//vPqq69+xzYAAIBtoQAGAICEGzRoUOm99977w969ex+byWTc4teErF+/PubNmxcLFiyIN954Q+FLk9GiRYvo169fDBgwIPbYY4+orKy0lCYkl8s1LF68eNyJJ554rcdCAwAAW0sBDAAACXbNNdcMOemkk35RVlbWyzZ2vVwuF++++27MnTs3XnvttViyZIl3+NLkFRQURK9evWLQoEExePDg6Natm6U0EdXV1UvuvvvuX//kJz+ZYxsAAMCnpQAGAIAEOuqoo1r99re//VmHDh0Ot41da9OmTTF79uyYO3duLFy4MKqqqiyFRGvevHn0798/Bg8eHHvuuWeUlJRYyi62cuXKp04//fTLJ0yYsM42AACAT6IABgCAhBk3btwRRxxxxFnZbLaNbewaVVVVMXfu3Jg7d27Mnz8/amtrLYVUKi4ujoEDB8bgwYNj8ODBUV5ebim7SF1d3ZqnnnrqqlGjRj1hGwAAwJYogAEAICFOOeWUjhdddNEvW7duvZ9t7HwrV66MWbNmxdy5c+Odd96JXC5nKeSdzp07x9577x3Dhg2LDh06WMgusHbt2hnnnXfepbfccsv7tgEAAHwUBTAAADRxpaWlBU899dQ3Bw8e/L2CggLPYt2JVqxYES+99FK89NJLsXz5cguBv/HXMnjvvfeOTp06WchO1NjYuGnu3Lk3H3744XfV1NR40TgAAPB3FMAAANCEjR49usOll176yzZt2gy3jZ1j/fr18eKLL8bMmTNj6dKlFgKfQs+ePWPfffeNYcOGRYsWLSxkJ1mzZs0L55577q/vvvvuVbYBAAD8lQIYAACaoIqKioKJEyd+c/Dgwd8vKCgotpEda8OGDfHiiy/G9OnTlb7wGfXo0SOGDx8ew4YNi4qKCgvZwdwNDAAA/CMFMAAANDGnnHJKx7Fjx/5rZWXlMNvYcerr6+PVV1+NGTNmxLx586Kurs5SYDvKZrMxZMiQ2HfffWP33XePwsJCS9mB1q5dO+MXv/jFv995550rbQMAAPKbAhgAAJqIbDabeeKJJ47fZ599fuSu3x0jl8vFwoULY/r06TF79uzYtGmTpcBOUFpaGkOGDInhw4fHgAEDLGQHaWhoqJ42bdo1Rx555J9tAwAA8pcCGAAAmoDjjz++7ZVXXvmr1q1be9fvDrBmzZqYNm1azJw5M1audHMc7EodO3aMz3/+87H//vt7X/CO+3fetDPPPPOScePGfWAbAACQfxTAAACwi9100037HXvssf9WXFzc1ja2n1wuF6+99lo8//zzMW/evKivr7cUaEKKiopizz33jBEjRsTnPve5yGQylrId1dbWrvrjH/948Q9+8INZtgEAAPlFAQwAALvIkCFDSu+///5zunTp8k+2sf2sXbs2Jk+eHNOnT48PP/zQQiABKisrY8SIEXHIIYdEeXm5hWxHy5Yte+zrX//6f86ZM6fGNgAAID9sqQAurBwYXT/qC41VETUrsrYHAADb6IILLtjt97///VVt2rQZZhvbx+LFi2P8+PFx9913xxtvvBG1tbWWAgmxadOmeOONN+LZZ5+NtWvXRps2bTweejtp0aJFv5NOOumg0tLSuc8+++xaGwEAgPQr61wfBR/zu7XuAAYAgO0sm81mJk2a9PVhw4b9pKCgwG9VfkZ1dXUxY8aMeOaZZ+K9996zEEiRfv36xSGHHBJDhw6NgoICC/mMGhsbN8+YMeOaL37xi+Pq6upyNgIAAOnlEdAAALCTHH/88W2vuuqqCyorK/exjc9mzZo18dRTT8XUqVNj06ZNFgIpVlFREZ///OfjsMMOi8rKSgv5jNavXz/r9NNPv3DcuHEf2AYAAKSTAhgAAHaC22677fNf+9rXzstms5W2se0WLVoUjz/+eMybNy9yOTewQT4pKiqKIUOGxBFHHBG9e/e2kM+grq5u3QMPPHDRySefPM02AAAgfRTAAACwA1VUVBQ8/fTTpwwcOPCUTCbjGabbIJfLxauvvhpPPvlkLFy40EIgz2UymRgwYEAcccQRMWjQIAvZ9n+3Ns6fP/+Www8//JaNGzc22ggAAKTHlgrgwsqB0fWjvtBYFVGzwuvKAABgS0488cR2EyZMuLx79+5fzmQyGRvZOo2NjTFr1qy49dZb48knn4wPPvC0UuC/rV69OmbMmBFz5syJ0tLS6NSpU/jX7NbJZDKZ9u3bD/3+978/dPny5TNfffXValsBAIB0KOtcHwXlH/O9gDuAAQBg29x66637H3vssRcWFRW1sI2tU1NTE0899VQ8++yzsWHDBgsBPlGLFi3i4IMPjsMPPzxKS/28YmvV19d/OG7cuPNPPvnk6bYBAADJ5xHQAACwHWWz2cyzzz77rSFDhvzAI5+3zqZNm2Ly5Mnx1FNPKX6BbdKiRYs47LDD4pBDDlEEb6VcLtfwyiuvXHfooYfeWVdX5yXrAACQYApgAADYTo455pjW11133cWVlZV728ant2HDhnj88cdjypQpUVtbayHAZ1ZcXBwHHnhgfPGLX4wWLTyIYWusWbNm2re//e3zn3nmGb+JAwAACeUdwAAAsB1cfvnlu1900UW/LS8v72cbn05VVVVMmDAhbrnllnjzzTejoaHBUoDtoqGhIZYsWRLPPfdc1NTURI8ePSKb9XOMT6OsrKzb17/+9SPbtm0774knnlhtIwAAkMDreu8ABgCAz+bhhx/+8qGHHnpOQUFBsW18sk2bNsUzzzwTTzzxRFRVVVkIsMOVl5fHkUceGYccckgUF/tX9afR2Ni46emnn/71Mccc87htAABAsngENAAAbKN27doVTZ48+YxevXodZxufrK6uLp5++umYOHGi4hfYJSoqKuKLX/xiHHzwwe4I/pQWLVr0x4MOOuiadevWeUwDAAAkhEdAAwDANjj22GPbPvzww7/p2LHjobaxZXV1dfHkk0/GddddF3Pnzo26ujpLAXaJzZs3x2uvvRbPPfdcRET06NEjCgsLLWYLWrduvfv3vve9fd9+++1pCxYsqLYRAABo+rb0CGgFMAAAfITLL7989wsuuOB3zZs372UbH6+xsTGmTJkS119/fbzyyiuKX6DJ2Lx5cyxYsCCmT58excXF0a1bt8hkMhbzMUpKSjp8+ctfPrJt27ZzvBcYAACaPu8ABgCArTB+/Pgjv/CFL/xLQUFBiW18vAULFsT48eNj6dKllgE0eT169IivfOUrMWjQIMvYgsbGxpqJEydecuyxxz5pGwAA0HR5BzAAAHwK7dq1K3ruued+1qNHj6/axsdbtGhR3H///bF48WLLABKnV69ecdxxx0WfPn0sYwuWLl3654MOOujy1atX19sGAAA0Pd4BDAAAn2DYsGHNn3766V936tTpC7bx0TZs2BD33Xdf/PGPf4y1a9daCJBI69evj2nTpsW6deuiZ8+eUVLiYQ8fpbKysv+3v/3t/lOmTJmyfPlyz/cHAIAmxjuAAQBgC372s5/1uP76669t0aKF54J+hJqamhg/fnzcfPPN8fbbb0cul7MUINFyuVy888478cwzz0RVVVX07t07slk/A/lHZWVl3U488cTD6+rqZkyfPv1DGwEAgCZ0va4ABgCAj3bFFVfscdZZZ11dXFzcwTb+Xi6XixkzZsR1110XCxYsiMbGRksBUqWxsTGWLFkSM2bMiPLy8ujSpUtkMhmL+RvZbLbFQQcddHibNm1mP/HEE6ttBAAAmoYtFcDeAQwAQN6aNGnSqAMOOODsTCZTaBt/b9GiRXHPPffEu+++axlA3ujWrVucdNJJ0bt3b8v4B7lcrm7y5Mm//vKXv/yIbQAAwK63pXcAK4ABAMg7paWlBTNnzjyzT58+x9vG39uwYUOMGzcuZsyY4VHPQF7KZDKx3377xde//vWoqKiwkH+waNGiP+27775X1dTUeCwEAADsQgpgAAD4H926dctOnjz5V506dRppG/9fLpeLqVOnxp///OfYuHGjhQB5r6KiIkaNGhX777+/x0L/g+XLlz9+6KGHXvLuu+/W2QYAAOwaWyqAvQMYAIC8MXz48PInnnjiynbt2o2wjf/vnXfeiWuvvTaee+652Lx5s4UARMTmzZtjzpw58dprr0XPnj2jRYsWlvI/Kioq+n7rW98aMnXq1Ofee+89f3AAAMAusKV3ACuAAQDIC9/+9rc73n777X9o0aLFANv4b1VVVXHXXXfFvffeG+vXr7cQgI+wbt26eP7552P9+vWx2267RVFRkaVERElJSefjjjvuoA8++GDKK6+88hcbAQCAnUsBDABAXjv//PP7XXzxxX8oKSnpbBv/bfr06XHttdfGokWLLAPgU3jnnXdi2rRp0bp16+jc2R8nERHZbLbyC1/4whElJSUvTp48eY2NAADAzqMABgAgb/3ud7/b60c/+tFVRUVFrWwjYs2aNXHzzTfHpEmTora21kIAtkJtbW289NJL8c4770Tfvn2jtLQ073dSWFhYNnz48C/26dNn4UMPPbTMpwQAAHYOBTAAAHnp1ltv3f+b3/zmfxYWFjbP913kcrl4/vnn4/rrr4/ly5f7cAB8BitXroxp06ZFRUVFdOvWLTKZTF7vo6CgIDto0KBDBw0atOiBBx54xycEAAB2vC0VwJmex8Z+H/WF+pURa17ym6wAACTTww8//KXDDjvsXzKZTN6/rPGDDz6I22+/Pd544w0fDIDtbMCAAfGtb30r2rRpk/e7yOVyjVOmTPn1yJEjH/LJAACAHavN3jVR1OGjv6YABgAgdV555ZXTPve5z30r3/fQ0NAQjz32WDz++ONRV1fngwGwg2Sz2Tj66KPjC1/4QhQUFOT9Pl5//fU79tprr9/7ZAAAwI6jAAYAIC9ks9nMyy+/fFafPn2Oz/ddvPvuu3HbbbfFe++954MBsJN069YtvvOd70S3bt3yfhdLliy5f5999rmypqam0ScDAAC2PwUwAACpV1paWjBr1qyzevfufVw+7yGXy8WTTz4ZDz74oLt+AXaBbDYbxxxzTBxxxBF5fzfw0qVLHxg6dOjlSmAAANj+FMAAAKRar169mk2ePHlsu3btDsrnPaxcuTJuueWWePvtt30oAHaxnj17ximnnBIdOnTI6z2sXr16yiGHHPIvS5Ys2exTAQAA28+WCuDCyoHR9aO+0FgVUbMia3sAADRpQ4cOLXvqqacub9Omzf75uoNcLhfPPPNMXH/99bF27VofCoAmYP369TFlypQoKSmJnj17RiaTycs9NG/evPtJJ500ZPLkyc+sWLHCoykAAGA7KetcHwXlH/01BTAAAIk1ZMiQ0kceeeSKVq1a7Z2vO6iuro7bb789nnjiiWhs9IRNgKaksbEx5s+fH++//34MGDAgstn8/DlLaWlpp6997WuDn3rqqadXrlxZ75MBAACfnQIYAIDUOfTQQ1s8+OCDv2/ZsuUe+bqDOXPmxNVXX+2RzwBN3PLly+OFF16Ijh075u0joUtLSzudcMIJ+7/00ktPv/3227U+FQAA8NkogAEASJVhw4Y1v++++37TsmXLQfl4/vr6+hg/fnz88Y9/jNpaP0MHSILNmzfHiy++GJs3b47ddtstCgoK8m4HxcXFbY866qg9n3vuuaeXL1/ucdAAAPAZKIABAEiNI488snLcuHG/b9GixcB8PP97770XV111VcyZM8eHASCBFi1aFC+//HL069cvWrRokXfnLykp6XDcccftP2fOnGcWLVq0yScCAAC2jQIYAIBUOPLIIyvvvPPO35aXl++Wj+d/+umn48Ybb4wPP/zQhwEgwf7yl7/ECy+8ECUlJdGrV6+8O3+zZs3aHHXUUfspgQEAYNspgAEASLxjjz227W233faH5s2b98m3s1dVVcXNN98cTz31VDQ2NvowAKRAY2NjzJ8/P5YtWxYDBgyIZs2a5dX5mzVr1uaYY4458M0333xm4cKFNT4RAACwdRTAAAAk2qGHHtritttuuzofy9+33347rrnmmli8eLEPAkAKvf/++/HKK69Enz59orKyMq/Ons1mK4888sh9Zs6c+dTSpUs3+zQAAMCnpwAGACCxjjjiiJb33nvvteXl5f3y6dy5XC4mTZoUN998c1RVVfkgAKRYVVVVTJ06NbLZbPTp0ycymUzenL24uLjtV7/61c+/8sorTy1evLjWpwEAAD4dBTAAAIl06KGHtrj33nt/l2/lb3V1ddx0000xefLkyOVyPggAeSCXy8WCBQvi3Xffjd133z2y2fz5mUyzZs1aH3300fvNmDHjSXcCAwDAp6MABgAgcYYOHVo2fvz4qysqKgbk07mXLVsWV111lUc+A+SplStXxiuvvBKf+9znoqKiIm/O3axZszZHH3300GeeeebJFStW1PkkAADAlimAAQBIlCFDhpQ++uij17Rs2XL3fDr31KlT49prr42NGzf6EADksaqqqpg+fXq0bds2unTpkjfnLikpaT9q1KihTz755JMrV66s90kAAICPt6UCuMB6AABoSjp16pSdMGHCv1dWVu6RL2dubGyMcePGxR133BF1dW56AiCitrY2br755hg/fnw0NjbmzbkrKyv3mDBhwr9369bNXQkAALCNFMAAADQZrVq1Kpw+ffolbdq02T9fzlxdXR2/+93vYtKkSd73C8DfyeVy8fjjj8fvf//7qK6uzptzt2nTZv8pU6Zc0qpVq0KfAgAA2HoKYAAAmoSKioqC2bNnX9KuXbuD8uXMS5cujYsuuijmz5/vAwDAx3r11VfjoosuiqVLl+bNmdu1a3fQ7Nmz/72iosLPrgAAYCu5iAYAoEmYOXPmz9q1a3dIvpz35ZdfjiuuuCLWrVsnfAA+0bp16+KKK66Il19+OW/O3K5du4Nnzpz5M+kDAMDWUQADALDLvfjii2N69OgxKh/Omsvl4oEHHogbbrghamtrhQ/Ap1ZbWxs33HBDPPDAA3nz2oAePXqMevHFF8dIHwAAPj0FMAAAu9SkSZO+NnDgwFPy4ax1dXVx8803x8SJE73vF4BtksvlYuLEiXHLLbdEXV1dXpx54MCBJ0+aNOlr0gcAgE9HAQwAwC7z6KOPHnXggQeekw9nXbduXfz617+OWbNmCR6Az2zmzJnx61//Ol9eJZA58MADz3n00UePkjwAAHyywsqB0fWjvtBYFVGzImtDAADsEDfeeOO+Rx999EWZTKYw7Wddvnx5XHXVVbFy5UrBA7DdbNiwIWbPnh0DBw6MioqKtB8307179/179uz56sMPP7xc+gAA5LuyzvVRUP7RX1MAAwCw011xxRV7fPe7372qoKCgWdrPOmfOnPjtb38bGzduFDwA2111dXVMmzYtOnfuHB07dkz1WTOZTOHuu+9+eJs2bV6aNGnSKukDAJDPFMAAADQZZ5xxRvef/exnvy0sLCxP+1knTJgQd999d9TX1wsegB2moaEhXnrppchms9G3b99UnzWTyRTttddeB/3lL395dubMmRukDwBAvlIAAwDQJBx00EEVf/jDH64pLi7ulOZz5nK5eOCBB+Kxxx4TOgA77c+eBQsWRF1dXfTv3z8ymUxqz1pQUFBywAEHDJs+ffqkpUuXbpY+AAD5aEsFcIH1AACwMwwaNKj0vvvuu7qsrKxXms9ZV1cX1113XUyaNEnoAOx0EydOjOuvvz7q6upSfc6ysrJef/rTn67u379/idQBAODvKYABANjhKioqCh577LGLKyoqBqb5nNXV1XHNNdfE7NmzhQ7ALvPKK6/ElVdeGVVVVak+Z4sWLQZOnDhxbEVFhZ9vAQDA33CBDADADjdz5syftW3b9sA0n3HdunVx2WWXxRtvvCFwAHa5xYsXx2WXXRZr165N9TnbtWt34MyZM38mcQAA+P8UwAAA7FBPPvnkqB49eoxK8xlXrVoVV1xxRSxfvlzgADQZK1asiCuuuCJWrlyZ6nP26NFj1KRJk0ZJHAAA/lth5cDo+lFfaKyKqFmRtSEAALbZjTfeuO+XvvSlCzOZTGp/8fDdd9+NK6+8MtatWydwAJqc6urqmDVrVvTv3z8qKytTe85u3boN79mz57yHH37Yb2MBAJAXyjrXR0H5R39NAQwAwA5x3nnn9T311FOvLigoKE7rGV977bW45pprorq6WuAANFmbN2+OGTNmRI8ePaJ9+/apPGMmkykYNGjQIYWFhVOee+45v5UFAEDqKYABANipjjrqqFb/8R//8YdmzZq1SusZX3755bj++uujrq5O4AA0eQ0NDfHSSy9Fp06dolOnTqk8Y0FBQXbYsGGfnz9//qQ33nhjk9QBAEizLRXA3gEMAMB21a1bt+wNN9zwnyUlJR3TesYpU6bEjTfeGPX19QIHIDHq6+vjxhtvjKlTp6b2jCUlJZ1uuOGG/+jWrZu7GgAAyFsKYAAAtqunn376XyorK/dI6/kmTZoUd955ZzQ2NgobgMRpbGyMO+64I5588snUnrGysnLw008//UtpAwCQrxTAAABsN88///w3unTp8k9pPd/EiRNj3LhxkcvlhA1AYuVyubj//vtTXQJ36dLlS88+++yJ0gYAIB95BzAAANvFTTfdNPzII488L5PJZNJ4vsceeyzGjx8vaABS47XXXotmzZpF3759U3m+zp0779urV695Dz/88DJpAwCQNlt6B7ACGACAz+wXv/hF7x/+8IdXFxQUNEvj+R544IF45JFHBA1A6ixYsCDq6upiwIABqTtbJpPJDBo06ODGxsbnpk6dul7aAACkiQIYAIAd5oADDqj43e9+99tmzZq1TeP5xo0bF5MmTRI0AKm1aNGi2Lx5cwwcODB1ZysoKMjut99+w5577rnH33vvvc3SBgAgLbZUAHsHMAAA2yybzWbuvPPOfyktLe2exvNNmDBB+QtAXpg0aVI89NBDqTxbaWlpj3vuuedfstlsRtIAAOQDBTAAANvs+eef/06HDh0OTePZHn744Xj44YeFDEDeeOSRR+LPf/5zKs/WoUOHw5599tlvSxkAgHygAAYAYJvcd999hw8ePPjUNJ7t/vvvjwkTJggZgLzz2GOPxX333ZfKs+25554/+NOf/nSYlAEASDvvAAYAYKudccYZ3ceMGXN5QUFBcdrONnHixHjkkUeEDEDeWrx4cWSz2ejbt2/ajpbp06fPvn/5y18mz5w5c4OkAQBIsi29A1gBDADAVhk2bFjzG2+88Q/NmjVrl7azPfroo6l99CUAbI2FCxdGUVFR9OvXL1XnKigoKD7wwAP3e/LJJx9dsWJFnaQBAEiqLRXAHgENAMBWuffee39ZWlraPW3nevzxx+PBBx8UMAD8jz//+c8xceLE1J2rtLS0x3333fdLCQMAkFYKYAAAPrVJkyaN6tSp0xEpPFeMHz9ewADwD8aPHx+TJ09O3bk6der0hUmTJn1VwgAApJFHQAMA8Kmcd955fU888cR/z2QyRWk618yZM+Puu+8WMAB8jNdeey06duwYnTt3TtW5unbtuk9BQcHzzz333DopAwCQNN4BDADAZ3LEEUe0vOKKK67NZrOVaTrXyy+/HDfffHPkcjkhA8DHyOVyMXv27OjSpUt06tQpNefKZDJF++yzz/CpU6c+9u67726WNAAASeIdwAAAbLNsNpu55ZZb/q2kpKRjms61YMGCuPnmm6OxsVHIAPAJGhsb4+abb44333wzVecqLS3tcvfdd5+fzWYzUgYAIC0UwAAAbNGkSZO+3rZt2wPTdKZly5bFDTfcEPX19QIGgE+prq4urr322li+fHmqztWuXbsDH3/88VESBgAgLTwCGgCAj3XZZZcN+upXvzo2k8mk5hcH33///bjyyiujqqpKwACwlerq6uLll1+OIUOGRHl5eWrO1aVLl31LS0unPvPMM2ukDABAEngENAAAW61///4lJ5988q8ymUxRWs60YcOG+P3vfx8bN24UMABso40bN8bvfve7VP15WlBQkP3hD394ft++fYslDABA4q9vrQAAgI/y4IMPnl1WVtYrLeeprq6O3/zmN7Fq1SrhAsBntGrVqrjyyiujuro6NWcqKyvr8/DDD58lXQAAkk4BDADA/zF+/Pgju3XrdnRazlNfX5/KdxYCwK60fPnyuO6666K+vj41Z+rRo8dXx40bd4R0AQBIMgUwAAB/53vf+16nI4444py0nCeXy8Vtt90Wb7zxhnABYDt7/fXX47bbbotcLpeaMx155JHnfvvb3+4oXQAAkkoBDADA/6qoqCi4+OKLLywsLCxPy5nGjx8fs2bNEi4A7CCzZs2Khx56KDXnKSwsrPj1r399QUVFhZ+bAQCQSC5kAQD4XxMnThxdWVk5OC3nef7552PixImCBYAd7LHHHosXXnghNeeprKzc89FHHz1RsgAAJFFh5cDo+lFfaKyKqFmRtSEAgDxxwQUX7DZq1KgLM5lMYRrO8+qrr8Ytt9ySqkdSAkBT/7O3d+/e0a5du1Scp2PHjkNzudxzU6ZMWSddAACamrLO9VHwMc/wcwcwAADRt2/f4h//+McXZzKZVPwG4HvvvRc33HBDNDY2ChcAdpKGhoa47rrrYtmyZak4T0FBQfbss88e27dv32LpAgCQqGtZKwAAYPz48T8qKyvrkYazbNiwIX7/+99HbW2tYAFgJ9u0aVP8/ve/j40bN6biPGVlZb3GjRs3RrIAACSJAhgAIM/ddNNNw/v06XN8Gs5SX18f1157baxdu1awALCLrFmzJq699tqor69PxXn69ev3jd///vdDJQsAQFIogAEA8thBBx1Uceyxx/5rRGTScJ477rgjFi9eLFgA2MUWLVoUd955Z1qOU/CNb3zj34YNG9ZcsgAAJOIC1goAAPLXzTfffFZxcXG7NJxl4sSJMX36dKECQBMxbdq0mDRpUirOUlJS0unOO+88Q6oAACSBAhgAIE/913/914FdunT5UhrO8tprr8Wf//xnoQJAEzN+/PhYsGBBKs7SrVu3o2+66abhUgUAoKlTAAMA5KEvfelLlV/5yld+lYazrFixIq6//vpobGwULAA0MY2NjXHdddfFihUr0nCczHHHHfergw46qEKyAAA0ZQpgAIA8dPXVV5+ezWYrk36OmpqauPbaa2PTpk1CBYAmatOmTXHttddGTU1N4s+SzWbb3njjjT+RKgAATZkCGAAgz9x6663Du3Tp8uWknyOXy8Utt9wSK1euFCoANHErV66MW2+9NXK5XOLP4lHQAAA0dQpgAIA8MnTo0LKvfvWrv0jDWSZMmBBz584VKgAkxJw5c+Kxxx5LxVlGjRr1i6FDh5ZJFQCApkgBDACQR+64444fFRcXd0z6OV5++eV45JFHBAoACfPQQw+l4he4SkpKOt5xxx0/lCgAAE2RAhgAIE9cfvnlu/fs2XNU0s/xwQcfxB133JGKR0gCQL7J5XJx2223xZo1axJ/lp49ex57+eWX7y5VAACaGgUwAEAe6NatW/a73/3uv2YymURf/9XX18cNN9wQ1dXVQgWAhKqqqoobb7wx6uvrE32OTCZT8N3vfvdX3bp1y0oVAICmRAEMAJAHxo8ff0pZWVmvpJ/jnnvuiaVLlwoUABJuyZIlcd999yX+HGVlZT3Hjx9/ikQBAGhKFMAAACn385//vOeAAQNGJ/0c06dPjylTpggUAFJi8uTJMWPGjMSfY8CAAaN//vOf95QoAABNhQIYACDFstls5qyzzjo3k8kk+tGEK1asiLvvvlugAJAyd911V6xYsSLRZ8hkMtmzzjrr3Gw2m5EoAABNgQIYACDFxo0b98XKysq9knyG2trauOGGG6K2tlagAJAyf/1zfvPmzYk+R2Vl5V7jxo0bKVEAAJoCBTAAQEoNHz68/OCDDz4t6ee4//77Y/ny5QIFgJRavnx5jBs3LvHnGDFixI+HDRvWXKIAAOxqCmAAgJS69dZbT8tms22TfIYZM2bEc889J0wASLnJkyfHzJkzE32G4uLitrfffvtp0gQAYFdTAAMApNBVV121R48ePb6S5DOsXLky7rrrLmECQJ64++6744MPPkj0GXr27PnVK664Yg9pAgCwKymAAQBSprS0tOAb3/jGT5N8rdfY2Bi333679/4CQB6pqamJ2267LRobG5N8jIJvfvObZ5aWlvqZGwAAu+6i1AoAANJlwoQJX6uoqBiQ5DOMHz8+Fi1aJEwAyDNvvvlmPPjgg4k+Q4sWLQY9+OCDx0gTAIBdRQEMAJAiRx55ZOWwYcN+kOQzzJ07N5544glhAkCemjhxYixYsCDRZxg+fPiPjjjiiJbSBABgV1AAAwCkyBVXXHFyUVFRRVLnr6qqijvvvDNyuZwwASBP5XK5uP3226O6ujqxZygqKmrxm9/85mRpAgCwKyiAAQBS4vzzz+/Xu3fv45J8httvvz0+/PBDYQJAnlu3bl3cfvvtiT5D7969jz///PP7SRMAgJ1NAQwAkALZbDZz6qmn/jyTyST2+m769OkxZ84cYQIAERExe/bsmDFjRmLnz2QyBaeeeurPs9lsRpoAAOxMCmAAgBT44x//eERlZeXgpM6/du3auPfeewUJAPyde+65J9atW5fY+SsrKwf/6U9/+oIkAQDYmRTAAAAJ17dv3+JDDjnkR0k+w9133x01NTXCBAD+Tk1NTdx9992JPsPBBx/8o759+xZLEwCAnUUBDACQcHfdddc3S0pKOiV1/smTJ8e8efMECQB8pLlz58azzz6b2PlLSko63nPPPd+SJAAAO4sCGAAgwb70pS9VDhw48KSkzr9mzZoYP368IAGALXrggQdizZo1iZ2/f//+Jx111FGtJAkAwM6gAAYASLArrrji1MLCwvIkzp7L5eK2226LTZs2CRIA2KJNmzbFbbfdFrlcLpHzFxYWll1++eU/kCQAADuDAhgAIKF+8Ytf9O7evftXkjr/s88+G2+88YYgAYBP5Y033ojnn38+sfN369bt6F/96ld9JAkAwI6mAAYASKgf/vCHP8pkMom8nvvggw/igQceECIAsFXGjRsX69atS+TsmUym4NRTT/2xFAEA2NEUwAAACXTdddcNa9eu3YFJnD2Xy8Udd9wRtbW1ggQAtsqmTZvizjvvTOz8bdq02f+mm27aT5IAAOxICmAAgIQpLS0t+NrXvnZ6Uud/4YUXYuHChYIEALbJq6++GjNmzEjs/Mccc8zpFRUVfiYHAMAO42ITACBhbr/99oMrKip2S+LsGzZsiHHjxgkRAPhM7r///qiqqkrk7OXl5X3/67/+6wgpAgCwoyiAAQASpKKiouCwww47Nanz33vvvYn9YS0A0HRs2LAh7r///sTOf9BBB/1zq1atCiUJAMCOoAAGAEiQ+++//+iysrKeSZx9zpw58dJLLwkRANguXnjhhViwYEEiZy8tLe32xz/+8StSBABgR1AAAwAkRN++fYv33Xfff07i7LW1tXHvvfcKEQDYru6+++6oq6tL5Oz77bffKf379y+RIgAA25sCGAAgIW6++eZRxcXFbZM4+yOPPBJr164VIgCwXa1atSoee+yxRM6ezWbb3njjjV+TIgAA25sCGAAgAYYOHVq21157fSeJs7/33nvxxBNPCBEA2CEmTpwYK1asSOTsQ4YM+c7QoUPLpAgAwPakAAYASIBrr732xKKiosqkzZ3L5eKee+6JxsZGIQIAO0R9fX3cddddkcvlEjd7UVFR5bXXXnuCFAEA2J4UwAAATdwBBxxQMWDAgG8kcfYZM2bEW2+9JUQAYId6880348UXX0zk7AMGDPjG8OHDy6UIAMD2ogAGAGjirrrqqhOKiooqkjb3pk2b4oEHHhAgALBT3H///VFbW5u4uYuKilpcffXV7gIGAGC7UQADADRhBx10UEX//v0Teffvww8/HB9++KEQAYCdYv369TFhwoREzj5w4MBvHHDAARVSBABge1AAAwA0Yf/5n/95bGFhYfOkzb1q1aqYPHmyAAGAnerpp5+O1atXJ27uwsLC8ssuu2yUBAEA2B4UwAAATdQBBxxQMWjQoNFJnP3uu++O+vp6IQIAO1V9fX3cddddiZx99913/+bQoUPLpAgAwGelAAYAaKIuv/zyYwsLC8uTNvfcuXNjwYIFAgQAdokFCxbE3LlzEzd3UVFRi9/97ndflyAAAJ+VAhgAoAkaOnRo2aBBgxL37t+6urr405/+JEAAYJf605/+FHV1dYmbe/fdd//mkCFDSiUIAMBnoQAGAGiCfvOb33ylqKioZdLmfu655xL53j0AIF1Wr14dzz33XOLmLioqann11VcfLUEAAD4LBTAAQBPTq1evZoMHD/5m0uaurq6ORx55RIAAQJPwyCOPRHV1deLmHjJkyLe6deuWlSAAANtKAQwA0MTcdNNNxxQXF7dN2twTJkyIqqoqAQIATUJVVVUifzmtuLi43a233uouYAAAtpkCGACgCWnVqlXhXnvtdVLS5l61alU8++yzAgQAmpTJkyfHqlWrEjf30KFDR7dq1apQggAAbAsFMABAE3LLLbccXlJS0jlpcz/44INRX18vQACgSamvr48HH3wwcXOXlJR0vummmw6VIAAA20IBDADQRGSz2cwBBxzw7aTNvWjRonjppZcECAA0SS+99FIsXrw4cXOPGDHiO9lsNiNBAAC2lgIYAKCJuOaaa/YuLy/vm7S5H3roocjlcgIEAJqkXC6XyLuAy8vL+1111VV7SRAAgK2lAAYAaCK+8pWvfDdpM8+bNy8WLlwoPACgSVu4cGG8+uqrrg8BAMgLCmAAgCbgsssuG1RZWblPkmbO5XIxfvx44QEAifDAAw8k7qklrVu33veSSy7pLz0AALaGAhgAoAkYNWrUCUmbefbs2bFs2TLhAQCJsGzZsnjllVcSN/cJJ5xwovQAANgaCmAAgF3sn//5nzt37NjxiCTN3NjYGA888IDwAIBEGT9+fDQ0NCRq5k6dOn1h9OjRHaQHAMCnpQAGANjFfvSjH30tk8kk6rps2rRpsWrVKuEBAImyatWqeOGFFxI1cyaTKfzpT386SnoAAHxaCmAAgF1o0KBBpX369Plqkmaur6+PCRMmCA8ASKQJEyZEXV1dombu27fvV/r27VssPQAAPg0FMADALnTZZZcdXlRUVJGkmadOnRpr164VHgCQSOvXr48pU6YkauaioqLK3/zmN0dIDwCAT0MBDACwi2Sz2cy+++57UpJmrqurc/cvAJB4jz76aOLuAt5///1PymazGekBAPBJFMAAALvI1VdfPbSsrKx3kmaeMmVKbNiwQXgAQKJt2LAhnn/++UTNXFZW1ueqq67aS3oAAHwSBTAAwC7y5S9/+bgkzVtfXx8TJ04UHACQCo8//nji7gL+0pe+dLzkAAD4JApgAIBdYPTo0R3atm07IkkzT5s2LdatWyc8ACAVPvzww5g+fXqiZm7fvv2I0aNHd5AeAABbogAGANgFfvrTn47KZDKFSZm3vr4+HnnkEcEBAKnyyCOPRH19fWLmzWQyhT/96U+/JjkAALZEAQwAsJN16tQp26dPn6OTNLO7fwGANFq3bl1MmzYtUTP36dPnmE6dOmWlBwDAx1EAAwDsZFddddUB2Wy2dVLmbWxsjEmTJgmOVOvYsWN06OCJmgD5aNKkSdHY2JiYebPZbOurrrrqAMkBAPBxFMAAADvZiBEjvp6keV988cVYtWqV4Ei1Ll26xIUXXhinnXZadO3a1UIA8siqVavipZdecj0JAEBqKIABAHaiM844o3tlZeXeSZk3l8vFxIkTBUdeyGQyMXjw4PjVr34VY8aMcUcwQB55/PHHI5fLJWbeysrKvc8444zukgMA4KMogAEAdqJTTjnlqxGRScq8CxYsiPfee09w5JVMJhN77713XHjhhTFmzJho3769pQCk3HvvvRcLFy5M1B9X/3NdCQAA/4cCGABgJ+nVq1ezXr16fTlJM3v3L/nsr0XwBRdcECeffHK0bdvWUgBSLGnXPb169fpyr169mkkOAIB/pAAGANhJrrjiioOLiopaJmXeBN4JAztEYWFhDB8+PC688MIYPXp0VFZWWgpACi1YsCCWLVuWmHmLiopaXnnllYdIDgCAf6QABgDYSYYPH/6VJM2btHfhwY5WVFQUI0aMiEsuuSRGjx4dLVu2tBSAFMnlcvH4448naub99tvvK5IDAOAfKYABAHaC0aNHd6isrByalHnXrl0bL7/8suDgI/y1CL744ovjhBNOiBYtWlgKQEq89NJLsW7dusTMW1lZudfo0aM7SA4AgL+lAAYA2AlOP/30o5J07fXMM89EQ0OD4GALiouL47DDDouxY8fGqFGjoqyszFIAEq6hoSGeeeaZJI1c8D/XmQAA8P8vEq0AAGDHymazmX79+n05KfPW1tbGlClTBAefUnFxcYwcOTIuvfTSGDVqVJSWlloKQII9//zzUVtbm5h5+/Xr9+VsNpuRHAAAf6UABgDYwX7zm9/sWVJS0jkp886YMSOqq6sFB1uppKQkRo4cGZdcckkcffTRUVJSYikACVRdXR0zZ85M0p8/na+44orBkgMA4K8UwAAAO9gXvvCFLyVl1lwuF08//bTQ4DNo3rx5HHXUUXHJJZfEyJEjI5vNWgpAwjz11FORy+USM++RRx75ZakBAPBXCmAAgB1oyJAhpZ07dz4iKfO+/vrrsWLFCsHBdlBeXh6jRo2KSy+9VBEMkDArVqyI119/PTHzdunS5fD+/ft79AQAABGhAAYA2KHGjh17aGFhYWJeCOruX9j+KioqYtSoUXHxxRfH4YcfHkVFRZYC4LpouyosLGz+H//xHwdLDQCACAUwAMAOteeeex6ZlFnXrl0b8+bNExrsIK1atYrjjz8+LrroohgxYkQUFPh2DKApmzdvXqxZsyYx8+61115HSg0AgAgFMADADnPMMce0bt269b5Jmfe5556LxsZGwcEO1qZNmxg9enRcfPHFimCAJqyxsTGee+65JP35MvyYY45pLTkAAPykAQBgBznzzDMPz2Qyibjeqq+vj6lTpwoNdqK2bdvG6NGj47zzzovhw4crggGaoBdeeCHq6+sTMWsmkyk844wzDpUaAAB+wgAAsIP079//C0mZdc6cObFhwwahwS7QqVOnOPnkk+Pf/u3fYu+9945MJmMpAE3Ehg0bYvbs2YmZd8CAAR4DDQCAAhgAYEf43ve+16mysnKPpMybpMcbQlp17tw5xowZE7/61a8UwQBNyPPPP5+YWSsrKwd/73vf6yQ1AID8pgAGANgBTj755CMiIhHtzcqVK+P1118XGjQRXbt2jTFjxsQ555wTgwcPthCAXez111+PlStXJmXczMknn3y41AAA8psCGABgB+jXr19iHv88ZcqUyOVyQoMmpnfv3nHaaafFOeecE/3797cQgF0kl8vFlClTknQd6jHQAAB5TgEMALCdnX766d0qKip2S8Ks9fX1MW3aNKFBE9anT58466yz4pxzzonddtvNQgB2gWnTpkV9fX0iZq2oqNjt9NNP7yY1AID8pQAGANjORo8efURSZp03b15s3LhRaJAAffr0ibPPPjvOPPPM6Nmzp4UA7EQbN26MefPmuR4FACARFMAAANtZr169EvPetSQ9zhD4bwMGDIhf/vKXceaZZ0b37t0tBGAnmTp1apKuRw+TGABA/lIAAwBsR2eccUb38vLyvkmYdf369fHaa68JDRJqwIAB8S//8i9x2mmnRbdunvQJsKPNnz8/Pvzww0TMWl5e3u9HP/pRF6kBAOQnBTAAwHZ03HHHHZSUWWfMmBGNjY1CgwTLZDIxePDg+Nd//dcYM2ZMdOjQwVIAdpDGxsaYMWNGYub9xje+cYjUAADykwIYAGA76tOnz8FJmDOXyyXqMYbAlmUymdh7773jwgsvjDFjxkT79u0tBWAHeOGFF5J0XXqIxAAA8pMCGABgOznppJPat2zZcvckzLpkyZJYuXKl0CBl/loEX3DBBXHyySdH27ZtLQVgO1qxYkW8/fbbiZi1srJy0PHHH+8PAgCAPKQABgDYTr773e8eGBGZJMyapMcXAluvsLAwhg8fHhdeeGGMHj06KisrLQVgO5k+fXpSRi34/ve/f6DEAADyjwIYAGA72X333Q9Nwpz19fUxc+ZMgUEeKCoqihEjRsQll1wSo0ePjpYtW1oKwGc0c+bMqK+vT8SsAwcOPFRiAAD5RwEMALAdHHTQQRUtW7bcKwmzLly4MKqrq4UGeeSvRfDFF18cJ5xwQrRo0cJSALZRVVVVvP7664mYtVWrVkOHDx9eLjUAgPyiAAYA2A7OPvvsz2cymaIkzOrxz5C/iouL47DDDouxY8fGqFGjoqyszFIAtkFSnqaSyWSy55577uclBgCQXxTAAADbwe67735AEuasra2NOXPmCAzyXHFxcYwcOTIuvfRSRTDANpg9e3bU1dUlYtY99tjjAIkBAOQXBTAAwGfUqlWrwnbt2u2fhFnnzZsXtbW1QgMiIqKkpCRGjhwZY8eOjaOPPjpKSkosBeBT2LRpU8ybNy8Rs7Zv337/iooKPwMEAMgjLv4AAD6jCy+8cPeioqKKJMz64osvCgz4P5o3bx5HHXVUXHLJJTFy5MjIZrOWAvAJZs2alYg5i4qKWlx88cWDJAYAkD8UwAAAn9GBBx6YiMfqVVdXJ+ZOFWDXKC8vj1GjRsWll16qCAb4BPPmzYuamppEzHrQQQd5DDQAQB5RAAMAfEZdu3YdnoQ5582bF/X19QIDPlFFRUWMGjUqLr744jj88MOjqKjIUgD+QV1dXbz66quJmLVLly77SwwAIH8ogAEAPoNTTjmlY3l5+W5JmPXll18WGLBVWrVqFccff3xcdNFFMWLEiCgo8C0kwN966aWXEjFnRUXFbieddFJ7iQEA5AffvQMAfAYnnnji55MwZ21tbcyfP19gwDZp06ZNjB49OsaOHasIBvgb8+fPj9ra2iSMmvnud7/7eYkBAOQH37UDAHwGn/vc5/ZLwpwLFy6Muro6gQGfyV+L4PPOOy+GDx+uCAby3ubNm2PhwoWJmLVfv37DJQYAkB98tw4AsI1atWpV2Lp1672TMKvHPwPbU6dOneLkk0+Oc889NwYNGmQhQF6bPXt2IuZs06bN3hUVFX4WCACQB1z0AQBso/PPP39gYWFheVOfs76+PubMmSMwYLvr2bNn/OQnP4nzzjsv9t5778hkMpYC5J3Zs2dHfX19k5+zqKio4vzzzx8oMQCA9FMAAwBso/3333/fJMz5+uuvR01NjcCAHaZLly4xZsyYOOecc2Lw4MEWAuSV6urqeOONNxIx64EHHriPxAAA0k8BDACwjbp27ZqIxz/PnTtXWMBO0bt37zjttNPinHPOif79+1sIkDeScr3VvXv3vaUFAJB+CmAAgG0wZMiQ0srKyj2a+py5XM7jn4Gdrk+fPnHWWWfFOeecE7vttpuFAKk3e/bsyOVyTX7Oli1b7jlo0KBSiQEApJsCGABgG5x55pl7ZjKZbFOfc9myZbFu3TqBAbtEnz594uyzz44zzzwzevbsaSFAaq1bty6WL1/e5OfMZDLZs846a4jEAADSrcgKAAC23tChQ4clYc558+YJC9jlBgwYEAMGDIgFCxbE+PHjY+nSpZYCpM68efOiS5cuTX7OffbZZ5+ImC4xAID0cgcwAMA26Nix4z5JmHP+/PnCApqMAQMGxC9/+cs47bTTolu3bhYCpEpSrrs6deq0j7QAANJNAQwAsJWOOOKIlhUVFf2a+pxVVVWxaNEigQFNSiaTicGDB8e//uu/xpgxY6JDhw6WAqTCW2+9FVVVVU1+zoqKis8deuihLSQGAJBeCmAAgK108sknD46ITFOfc/78+dHY2CgwoEnKZDKx9957x4UXXhhjxoyJ9u3bWwqQaI2NjbFgwYJE/Cv4u9/97h4SAwBILwUwAMBW2n333fdMwpze/wskwV+L4AsuuCBOPvnkaNu2raUAiZWU66/BgwfvKS0AgPQqsgIAgK3Trl27wU19xlwul5Q7UAAiIqKwsDCGDx8e++yzT0ybNi0mTJgQ69evtxggURYsWBC5XC4ymab9sJgOHToMlhYAQHq5AxgAYCsMGjSotGXLlgOa+pzvvfdebNy4UWBA4hQVFcWIESPikksuidGjR0fLli0tBUiMDz/8MJYtW9bk52zZsuXA/v37l0gMACCdFMAAAFvhxz/+8aBMJtPkn6Li7l8g6f5aBI8dOzZOOOGEaNGihaUAibBw4cImP2Mmk8n+5Cc/GSAtAIB0UgADAGyFvffee88kzJmEHzwCfBrNmjWLww47LMaOHRujRo2KsrIySwGatKT8Il5SrmsBANh63gEMALAVunbtOqSpz1hfXx9vvvmmsIBUKS4ujpEjR8bBBx8czz77bDz++ONRXV1tMUCT8+abb0Z9fX0UFTXtH7t16dJlT2kBAKSTO4ABAD6lioqKgoqKikFNfc4lS5bE5s2bBQakUklJSYwcOTLGjh0bRx99dJSUeIUl0LTU1tbG0qVLm/ycLVu2HFRaWupngwAAKeQiDwDgUzr77LP7FhYWNvlnj7722mvCAlKvefPmcdRRR8Ull1wSI0eOjGbNmlkK4HpsKxQWFpafffbZvaQFAJA+CmAAgE9p//3375+EOV9//XVhAXmjvLw8Ro0aFf/+7/8eI0eOjGw2aymA67FP6fOf//xAaQEApI8CGADgU+rRo8fuTX3G2traePvtt4UF5J2KiooYNWpUXHzxxXH44Yc3+XdvAum2ePHiRLySo1evXoOkBQCQPgpgAIBPqXXr1k3+DoklS5ZEQ0ODsIC81apVqzj++OPj4osvjhEjRkRBgW97gZ2voaEhlixZ0uTnbNOmjQIYACCFfCcMAPApDBkypLR58+a9m/qcb775prAAIqJ169YxevToGDt2rCIYcF32MZo3b95n0KBBpdICAEgX3wEDAHwKp556av9MJtPkr53eeustYQH8jTZt2sTo0aPjvPPOi+HDhyuCAddlfyOTyRT84Ac/+Jy0AADSxXe+AACfwuDBg5v84/Hq6+tj0aJFwgL4CJ06dYqTTz45/u3f/i323nvvyGQylgLsUIsXL07Eqzn23HPPgdICAEgXBTAAwKfQpUuXAU19xnfeeSfq6uqEBbAFnTt3jjFjxiiCgR2utrY23n333SRc53oPMABAyiiAAQA+hZYtW/Zv6jN6/DPAp9elS5cYM2ZMnHvuuTF48GALAfL2+iwJ17kAAGwdBTAAwCcYPnx4eUlJSeemPqfHPwNsvV69esVpp50W55xzTvTvrwMB8u/6rLS0tPPw4cPLpQUAkB4KYACAT/Ctb31rt4ho8s8IXbx4sbAAtlGfPn3irLPOinPOOSd22203CwG2i4T8gl7m29/+dj9pAQCkhwIYAOAT7L777k2+CVi7dm1s2LBBWACfUZ8+feLss8+OM888M3r27GkhwGfy4Ycfxrp165r8nAMHDlQAAwCkSJEVAABsWadOnZr8D8TefvttQQFsRwMGDIgBAwbEggULYvz48bF06VJLAbb5Oq1Vq1audwEA2GkUwAAAn6CyslIBDJCnBgwYEP3794958+bFQw89FO+++66lAFtlyZIlsddeezX1613PvgcASBEFMADAFnTq1CnbvHnzXk19ziVLlggLYAfJZDIxePDg2GOPPeLll1+OBx98MFauXGkxQGqu05o3b967Xbt2RatXr66XGABA8nkHMADAFowZM6ZnJpPJNuUZGxsbPZoUYCfIZDKx9957x4UXXhhjxoyJ9u3bWwrwiZYuXRqNjY1NesaCgoLsqaee2kNaAADp4A5gAIAt2Hvvvfs29RlXrlwZtbW1wgLYSf5aBO+5554xa9asmDBhQqxevdpigI9UW1sb77//fnTu3LlJzzls2LC+EbFIYgAAyecOYACALejRo0eTL4DfeecdQQHsAoWFhTF8+PC48MILY/To0VFZWWkpQGKv15Jw3QsAwKejAAYA2ILWrVs3+ff/vvvuu4IC2IUKCwtjxIgRcckll8To0aOjZcuWlgIk7notCde9AAB8Oh4BDQCwBc2bN+/Z1GdUAAM0kW+wi4pixIgRsd9++8WUKVPiscceiw0bNlgMEO+9914SrnsVwAAAKeEOYACAj9G/f/+SkpKSjk19TgUwQNPSrFmzOOyww2Ls2LExatSoKCsrsxTIc0m4XistLe3Ut2/fYmkBACSfAhgA4GOccMIJ3Zr69dK6deuiqqpKWABNUHFxcYwcOTJ+/etfK4Ihz1VVVcX69eub+pgF3/zmN7tLCwAg+RTAAAAfY8iQIT2b+oxJeJwgQL77axE8duzYOProo6OkpMRSIA8l4botCde/AAB8MgUwAMDH6N69e8+mPqPHPwMkR/PmzeOoo46KSy65JEaOHBnNmjWzFMgjSbhuS8L1LwAAn0wBDADwMVq1atWjqc+4bNkyQQEkTHl5eYwaNSr+/d//PUaOHBnZbNZSIA8k4botCde/AAB8MgUwAMDHqKio6NXUZ1y+fLmgAJL750yMGjUqLr744jj88MOjqKjIUiDFknDd1rJly16SAgBIPgUwAMBHyGazmbKysq5NecbGxsZYtWqVsAASrlWrVnH88cfHxRdfHCNGjIiCAt+qQxqtWrUqGhsbm/SMJSUlXbPZbEZaAADJ5rtKAICPcNxxx7UrKCgobsozrl69Ourr64UFkBKtW7eO0aNHx9ixYxXBkEJ1dXXxwQcfNOkZCwoKio877rh20gIASDbfTQIAfITPf/7zXZr6jO+//76gAFKoTZs2MXr06Dj//PNj+PDhimBIkRUrVrgOBgBgh/NdJP+PvTuPr7I888d/nSwEkhD2HUQEUVRAoIiouCtq64Jabd1arVorbqO2tlXbaavTOu38Rqffdmpbu9rWpYogsqgFRXCttAIKArJDgAAJBLKQ5JzfH8WO4+DOcp6T9/v18jWvTv657ut6hNvnk/t+AICd2G+//bL+xVcSXiAC8PF17do1Lr300rj99ttj2LBhkUq5lRWSLgn7tyTsgwEAeH8FWgAA8H917txZAAxAVujevXtceeWVsXr16njiiSdi9uzZkclkNAYSKAn7tyTsgwEAeH8CYACAnWjXrp0roAHIKj169Igrr7wyli5dGpMmTYo5c+ZoCiRMEvZvSdgHAwDw/gTAAAA7UVxc3D3baxQAAzRPffr0ibFjx8aSJUti/PjxsWDBAk2BhEjC/i0J+2AAAN6fbwADAOxESUlJz2yur7q6Ourq6gwKoBnbb7/94l/+5V/ia1/7WhxwwAEaAglQV1cX1dXV9sEAAOxWAmAAgHc5/PDDSwsKCtpmc40VFRUGBUBERPTt2zduvPHGuOGGG2LffffVEMhy2b6PKygoaDt8+PASkwIASC4BMADAu5x44oldsr3GDRs2GBQA/8uAAQPiG9/4Rtxwww3Ru3dvDQH7uE+yH+5qUgAAyeUbwAAA79KvX7+sD4DXr19vUADs1IABA+LAAw+MuXPnxoQJE2LlypWaAlkkCTe5HHDAAV0i4i3TAgBIJgEwAMC7dO/evXO21+gEMADvJ5VKxaBBg2LgwIExe/bsGD9+fKxbt05jwD4uZ/bDAAC8NwEwAMC7tG/fvlO21ygABuDDSKVSMWzYsBg6dGjMnj07HnvsMbdIwF6WhBPASdgPAwDw3gTAAADv0rp166w/8ZCEF4cAZI+3g+BDDz00XnnllZg4caK/S8A+LtH7YQAA3psAGADgXUpKSrL6xENjY2Ns3rzZoAD4yPLz8+Pwww+P4cOHx/PPPx8TJ06MqqoqjYE9aPPmzdHY2BgFBdn7Wi7b98MAALw/ATAAwLu0bNmySzbXV1lZGZlMxqAA+Njy8/Nj1KhRMXLkyHjhhRcEwbAHZTKZqKqqio4dO9oPAwCwWwiAAQDepaioKKuvvKusrDQkAHaJgoKCGDVqVIwYMSJmzpwZkydPji1btmgM7IH9XDYHwNm+HwYA4P3laQEAwP8YPnx4SX5+fkk21ygABmBXa9GiRRx//PFxxx13xNlnnx0lJSWaAs14P5efn18yfPhwfxAAACSUABgA4B2OOOKIDtleo+//ArC7FBUVxejRo+P73/9+nH322VFcXKwpsBsk4cr1JOyLAQDYOQEwAMA79O3bt1221+gEMAC729tB8B133BGnn356tGrVSlOgme3n9ttvv7YmBQCQTAJgAIB36NSpkwAYAHYoKSmJz3zmM3HnnXfG6NGjo0WLFpoCzWQ/l4R9MQAAOycABgB4hw4dOrTN9hqTcGUgALmlpKQkzj777PjOd74To0aNivz8fE2BHN/PJWFfDADAzgmAAQDeoaysrG221ygABmBvad++fVx00UVx5513xgknnBCFhYWaAjm6nysrK3MCGAAgoQTAAADvUFJS0j6b68tkMlFdXW1QAOxV7dq1i/POOy+++93vxqhRoyIvz+sF+CiSsJ8rLS0VAAMAJJT/QgMAeIfi4uK22VxfXV1dNDY2GhQAWeHtE8F33HGHIBg+gsbGxqirq7MvBgBgt/BfZgAA79CqVausPung9C8A2ahDhw5x0UUXxbe//e04/PDDBcGQA/u6oqIiJ4ABABLKf5EBALxDQUGBABgAPqauXbvGpZdeGt/61rdi2LBhkUqlNAUSuq9r0aJFW1MCAEimAi0AAPgfhYWFZdlc39atWw0JgKzXrVu3uPLKK2P16tXxxBNPxOzZsyOTyWgMJGhfl+37YgAA3psAGADgnZujgoLW2VyfE8AAJEmPHj3iyiuvjKVLl8akSZNizpw5mgIJ2ddl+74YAID35gpoAIAdWrdunZefn98ym2sUAAOQRH369ImxY8fGLbfcEgMGDNAQSMC+Lj8/v1WrVq28OwQASCCbOACAHQYNGlQSEVn9scJt27YZFACJtd9++8UNN9wQX/va1+KAAw7QEJq1BOzr8gYPHlxsUgAAySMABgDY4YADDijJ9hpramoMCoDE69u3b9x4441xww03xL777qshNEu1tbVZX2P//v1LTQoAIHl8AxgAYIeePXtm/QuuJLwoBIAPa8CAATFgwICYP39+jBs3LpYvX64pNBtJ2Nf16NGjxKQAAJJHAAwAsEOnTp0EwACwFwwYMCAOPPDAmDt3bkyYMCFWrlypKeS8JOzrunbtKgAGAEggATAAwA5lZWVZ/4Krrq7OoADISalUKgYNGhQDBw6M2bNnx4QJE2Lt2rUaQ85KQgDcpk0bV0ADACSQABgAYIeysjIngAFgL0ulUjFs2LAYOnRozJ49O8aPHx/r1q3TGHKOABgAgN1FAAwAsENJSUlxttfoBDAAzcXbQfCQIUPi5ZdfjokTJ0ZFRYXGkDOSEAAnYX8MAMD/JQAGANihqKioKNtrrKmpMSgAmpW8vLw4/PDDY/jw4fH888/HE088EZWVlRpD4iUhAG7RokWRSQEAJI8AGABgh8LCwhbZXF86nY7t27cbFADNUn5+fowaNSpGjhwZL7zwQkycODGqqqo0hsTavn17ZDKZSKVSWVtjixYtWpgUAEDyCIABAHbI9gC4oaHBkABo9goKCmLUqFExYsSImDlzZkyePDm2bNmiMSROJpOJhoaGyOaMtbCw0AlgAIAk/neTFgAA7NgYFRRk9QuuxsZGQwKAHVq0aBHHH398HHnkkfHMM8/E1KlTY9u2bRpDomR7AJzt+2MAAN5jH6cFAAA7NkZZ/oLL9c8A8H8VFRXF6NGj49hjj41nnnkmpkyZEjU1NRpDImT7DS8FBQWugAYASCABMADA2xujLH/B5QpoAHhvbwfBRx11VEyfPj2efvrpqK2t1RiymgAYAIDdIU8LAAD+QQAMAMlXUlISn/nMZ+LOO++M0aNHZ/X1uiAABgBgdxAAAwDskO1XQAuAAeDDKykpibPPPjv+7d/+LUaPHh2FhYWagv3dR5Sfn9/SlAAAkkcADADw9sYoL88JYADIMa1bt46zzz47vve978UJJ5wgCMb+7iPIz8/3LwwAQAIJgAEAdkilUlm9N2psbDQkAPiY2rVrF+edd15897vfjRNOOCEKCgo0Bfu7D94f55sSAEDyCIABAHbI9gA4nU4bEgB8Qu3bt/9nEDxq1KjIy/NqBPu799kfp0wJACB5/FcOAMAOXnABQPPRoUOHuOiii+J73/ueIJi9JpPJZHuJ/sUAAEggmzgAgP+R1QFwAl4QAkDidOzYMS666KL41re+FYcffnj4fTDs796xOc7yG3IAANg5mzgAgITsjQTAALD7dOvWLS699NL41re+FcOGDRMEs0dk+xXQeXl5/kUAAEigAi0AAPiHbH/BJQAGgN2ve/fuceWVV8ayZcviiSeeiDlz5mgKzXl/5/AIAEACCYABAHbIZDJOAAMAERGx7777xtixY2PJkiUxYcKEmD9/vqZgfwwAQCIIgAEA/ocr7gCA/2W//faLG264Id56660YP358vPnmm5rCLpPtV0Cn3IUOAJBIAmAAgB2y/QVXtr8gBIBc1rdv37jxxhvjrbfeinHjxsWiRYs0hU/MFdAAANjEAQDsXln9Bs4BDADY+/r27Rs333xz3HDDDdG7d28NIdf3d75BAgCQQE4AAwDskO0nMATAAJA9BgwYEAMGDIj58+fHI488EitXrtQUcnF/5woaAIAEcgIYAGCHVCqVzvL6DAkAssyAAQPi1ltvjbFjx0bPnj01hJza32UScEc1AAD/lxPAAAD/QwAMAHysv6MHDRoUBx98cDz//PMxadKk2LRpk8aQ+P1dtv+CJAAAO+cEMADADul0dr/fEgADQHarr6+PioqK2LZtm2aQE/u7dDrtBDAAQAI5AQwA8D+cAAYAPrK6urp4+umnY9q0acJfcm1/5wQwAEACCYABAP6HEw4AwIfW0NAQ06ZNiyeffDK2bt2qIXxkCfgGsAAYACCBBMAAADtkMpmsDoDz8ny9AwCywdvB71NPPRXV1dUaQs7u7wTAAADJJAAGANgh219wCYABYO9qbGyMGTNmxJNPPhmVlZUawieWn5+f9VtkUwIASB4BMADADplMpiGb6yssLDQkANgL0ul0zJo1KyZPnhwbN27UEHaZgoLsfjXX1NTUaEoAAAncZ2oBAMA/NDY2bs/m+gTAALBnpdPpePnll2Py5Mmxdu1aDWGXa9GiRbb/O1BvSgAAySMABgDYoampSQAMAEQmk4nZs2fH448/HuXl5RpCs93fNTY2CoABABJIAAwAsENDQ0NWv+ASAAPA7vV28PvEE0/E6tWrNYTdLtuvgM72G3IAAHiPfaYWAAD8gyugAaD5mjNnTkyaNCmWLl2qGewx2X4FtAAYACCZBMAAADs0NTU5AQwAzcyCBQtiwoQJ8dZbb2kG9nfv0tDQIAAGAEggATAAwA7Z/oJLAAwAu87ChQtj/PjxsXjxYs1gr8n2K6Cz/RckAQB4j32mFgAA/EO2B8AFBQWRl5cX6XTasADgY1q+fHmMGzcu5s+frxnsVXl5eVkfAG/fvt0JYACABBIAAwDs0NDQkPUnHFq1ahXbtm0zLAD4iFauXBmPPPKI4Jes2tclYH8sAAYASCABMADADrW1tXXZXqMAGAA+mnXr1sX48eNj9uzZkclkNISs2tdlu7q6ulqTAgBIHgEwAMAOW7du3ZrtNSbhRSEAZIP169fHY489JvjFvu4TqK6u3mpSAADJIwAGANihqqpKAAwACbdhw4Z4/PHH45VXXommpiYNwb7uE6isrHT1DABAAgmAAQB22LRpU9a/4GrZsqVBAcBOVFVVxcSJE+OFF16IxsZGDSHrJSEA3rRpkxPAAAAJJAAGANhh3bp1WR8AOwEMAP/bli1bYsKECYJfEicJ+7ry8nIBMABAAgmAAQB2WLZsmSugASAhqqurY/LkyTFz5syor6/XEBInCfu6pUuXCoABABJIAAwAsMP8+fOz/gRwcXGxQQHQrNXU1MSUKVPimWeeEfySaEnY173++uu+AQwAkEACYACAHRYsWFCXyWQaUqlUYbbW2Lp1a4MCoFmqq6uLp59+OqZNmxbbtsmkSL5s39el0+mGpUuXbjcpAIDkEQADALxDU1PTtoKCgrbZWp8AGIDmZvv27TF9+vR48sknY+tWt9GSO7J9X9fU1ORfOACAhBIAAwC8Q0NDw9ZsDoBLS0sNCYDm8ndyTJs2LZ566qmorq7WEHJOtu/rGhsb/YsHAJBQAmAAgHeor6+vbNWqVc9src8JYAByXWNjY8yYMSOefPLJqKys1BByVrbv6+rr66tMCQAgmQTAAADv0NDQkNVvmgXAAOSqdDods2bNismTJ8fGjRs1hJyX7fu6bN8XAwDw3gTAAADvUFdXV5XN9ZWWlkYqlYpMJmNYAOSETCYTr732Wjz++OOxatUqDaFZSKVSUVJSktU11tbWVpkUAEAyCYABAN5h27Ztm7K5vvz8/GjVqlXU1NQYFgCJlslkYvbs2fH4449HeXm5htCstGrVKvLz87O6xq1btzoBDACQUAJgAIB3qK6u3pztNZaVlQmAAUist4PfiRMnxpo1azSEZqmsrCzra9y2bVuVSQEAJJMAGADgHaqqqjZle43t2rWLtWvXGhYAiTNnzpyYNGlSLF26VDNo1tq1a5f1NW7atMkJYACALNbQWBgFjQ0REZFKRSavMJre/pkAGADgHSoqKqqyvcYkvDAEgHdasGBBTJgwId566y3NgITs5zZs2CAABgDIYoUFDf9MejMRqab0/+S+AmAAgHdYtWpV1r/oatu2rUEBkAgLFy6M8ePHx+LFizUD3iEJAfDq1aurTAoAIJkEwAAA77BgwYKsD4CdAAYg2y1fvjzGjRsX8+fP1wzYiST8Ql8S9sUAAOycABgA4B2eeOKJjZlMpimVSuVna41OAAOQrVauXBmPPPKI4Bc+QLb/Ql8mk2l64oknNpoUAEAyCYABAN6huro6vX379g1FRUVdsrVGJ4AByDZr166NCRMmxOzZsyOTyWgIJHw/t3379g3V1dVpkwIASCYBMADAu9TV1a0XAAPAB1u/fn089thjgl/Isf1cXV3delMCAEguATAAwLvU1dVVtGnTJmvrKykpiRYtWsT27dsNC4C9oqKiIiZOnBivvPJKNDU1aQh8BEVFRVFcXJz1+2GTAgBILgEwAMC7bN26dV2XLll7ADhSqVR07Ngx1qxZY1gA7FFVVVUxceLEeP755wW/8DF17NgxUqlU1u+HTQoAILkEwAAA71JVVZX1Jx46deokAAZgj9m8eXM8/vjj8cILL0RjY6OGwCfcx9kPAwCwOwmAAQDeZf369Vn/zbMkvDgEIPm2bNkSU6ZMiZkzZ0Z9fb2GwC7QsWNH+2EAAHYrATAAwLusXr066088JOHFIQDJVVNTE1OmTIlnnnlG8Au7WBJ+kW/VqlUCYACABBMAAwC8y9///ves/+aZABiA3aG2tjYmT54czz77bNTV1WkINNN93KuvvioABgBIMAEwAMC7PPzww+t//OMfN6RSqcJsrbFz584GBcAus3379pg+fXpMnTo1tm3bpiGwG2X7CeB0Ot3w8MMPC4ABABJMAAwA8C7V1dXpurq68latWu2TrTV26NAh8vLyIp1OGxgAH1tDQ0NMmzYtnnrqqaiurtYQ2M3y8vKiQ4cOWV1jfX39mtraWptMAIAEEwADAOxEbW3tmmwOgAsKCqJdu3axceNGwwLgI2tsbIwZM2bEk08+GZWVlRoCe0j79u2joCC7X8fV1NSUmxQAQLIJgAEAdmLz5s2r2rdvn9U1duvWTQAMwEeSTqdj1qxZMXnyZH+HwF7av2W7LVu2rDQpAIBkEwADAOzEpk2bVvfp0yera+zWrVvMmzfPsAD4QG8Hv1OmTIkNGzZoCOzF/Vu227BhwxqTAgBINgEwAMBOrFixYvWwYcOyusYkvEAEYO/KZDLx0ksvxZQpU6K83K2usLd17do162tctWrVKpMCAEg2ATAAwE7Mnz9/9ZgxY7K6xiS8QARg78hkMjF79uyYOHFirFnjMB9kiyT8At+8efP8oQEAkHACYACAnRg3btyab37zm5mISGVrjU4AA7Azc+bMiSeeeCKWLVumGZBlEvALfJlx48atNikAgGQTAAMA7MTrr79e29DQsKmwsLBDttZYXFwcZWVlsWXLFgMDIBYsWBDjx4+PJUuWaAZkobKysiguLs7qGhsaGjYuWLCgzrQAAJJNAAwA8B62bt26vF27dh2yucauXbsKgAGauYULF8b48eNj8eLFmgFZLAm3t2zbtm25SQEAJJ8AGADgPVRVVS1t167d0GyusWfPnrFw4ULDAmiGli1bFo899ljMnz9fMyABevbsmfU1VlZWLjUpAIDkEwADALyHdevWLevTp09W15iEF4kA7ForVqyIRx99VPALCZOEfdvatWuXmRQAQPIJgAEA3sPChQuXHX744VldY69evQwKoJlYtWpVjB8/PubOnRuZTEZDIGGSsG9buHDhMpMCAEg+ATAAwHuYNm3a0ksuuSSra+zevXvk5+dHU1OTgQHkqHXr1sX48eNj9uzZgl9IqIKCgkR8A/jpp59eZloAADmw/9QCAICde+ihhzbcd999W/Pz80uzdjNXUBBdunSJNWvWGBhAjqmoqIiJEyfGyy+/HOl0WkMgwbp27RoFBdn9Gq6xsbH6kUce2WBaAADJJwAGAHgf27ZtW15WVnZwNtfYq1cvATBADqmqqoqJEyfG888/74YHyBFJ+P7vtm3blpsUAEBuEAADALyPLVu2LMv2ALhnz57x0ksvGRZAwm3evDkef/zxeOGFF6KxsVFDIIck4fu/W7ZsWWpSAAC5QQAMAPA+1q9fvyzbT2z06NHDoAASbMuWLTFlypSYOXNm1NfXawjkoCTs19avX7/MpAAAcoMAGADgfSxYsGDh0KFDs7rGfffdN1KpVGQyGQMDSJCampqYMmVKPPPMM4JfyGGpVCr23XffrK9z/vz5C00LACA3CIABAN7Ho48++uYFF1yQ1TWWlJRE586dY926dQYGkAC1tbUxefLkePbZZ6Ourk5DIMd17do1WrVqlfV1/vnPf15kWgAAuUEADADwPiZNmlRVX1+/oaioqGM217nvvvsKgAGy3Pbt22P69OkxderU2LZtm4ZAM9GnT5+sr7G+vr7iySefrDItAIDcIAAGAPgAW7duXZTtAXCfPn3ipZdeMiyALNTQ0BDTpk2Lp556KqqrqzUEmpkkXP+8detWp38BAHKIABgA4ANUVFQs7NChw8hsrjEJLxYBmpvGxsaYMWNGPPnkk1FZWakh0EwlYZ9WUVHh+78AADlEAAwA8AGWLl266MADD8zqGnv16hUFBQXR2NhoYAB7WTqdjlmzZsWkSZNi06ZNGgLNWGFhYfTs2TMR+13TAgDIHQJgAIAPMHPmzEWnnnpqdm/qCgqiZ8+esWzZMgMD2EveDn4nT54cGzdu1BAg9tlnn8jPz0/CfnexaQEA5I48LQAAeH+//OUvV6bT6bpsr7NPnz6GBbAXZDKZePHFF+O73/1u3H///cJf4J+ScP1zOp2u++Uvf7nStAAAcocTwAAAH6C6ujpdXV29uE2bNodkc539+vWL6dOnGxjAHpLJZGL27NkxceLEWLNmjYYAO92fJWCvu7i6ujptWgAAuUMADADwIWzYsGFetgfA/fv3NyiAPeTVV1+NSZMmxapVqzQD2KlUKpWI/dmGDRvmmhYAQG4RAAMAfAiLFy9+o2/fvlldY1lZWXTu3DnWr19vYAC7yYIFC2L8+PGxZMkSzQDeV5cuXaK0tDQJ+9z5pgUAkFsEwAAAH8JTTz31+ujRo7O+zv33318ADLAbLFy4MMaPHx+LFy/WDOBD78uSYMqUKa+bFgBAbsnTAgCAD/aLX/xiTWNjY1W215mUF40ASbFs2bK4++674z/+4z+Ev8BHkoTv/zY0NFTee++9q00LACC3OAEMAPAhNDQ0ZDZv3jy/Q4cOI7O5TgEwwK6xYsWKePTRR2P+fDejArm7L9uyZYs/5AAAcpAAGADgQ1q3bl3WB8AdO3aMNm3axObNmw0M4GNYtWpVjB8/PubOnRuZTEZDgI+lbdu20aFDh0Tsb00LACD3CIABAD6kefPmzTvooIOyvs4DDzwwXnrpJQMD+AjWrVsX48ePj9mzZwt+gV2yH0uCuXPnzjMtAIDcIwAGAPiQ/vznP88/77zzsr7OAw44QAAM8CFVVFTEuHHjBL/ALt+PJcHDDz/sBDAAQA4SAAMAfEgTJ06srK2tXdGqVat9srnOgw8+2LAAPkBVVVVMnDgxnn/++WhqatIQYJdKwq0xNTU1yydNmlRlWgAAuUcADADwEWzYsOHvvXr1yuoAuG3bttG1a9dYu3atgQG8y+bNm+Pxxx+PF154IRobGzUE2OW6desWbdu2TcS+1rQAAHKTABgA4CNYuHDha7169Toj2+scMGCAABjgHbZs2RJTpkyJ5557LrZv364hwG6TlO//Lly48O+mBQCQmwTAAAAfwcSJE/9+wgknZH2dBx54YEyfPt3AgGavpqYmpkyZEs8880zU19drCLDbDRgwIBF1jh8//u+mBQCQmwTAAAAfwb333rv6Bz/4wfqioqLO2VznAQccEHl5eZFOpw0NaJZqa2tj8uTJ8eyzz0ZdXZ2GAHtEXl5e9O/fP+vrrK+vX3ffffeVmxgAQG4SAAMAfESVlZVzu3btmtXHgFu1ahX77LNPLFu2zMCAZqWuri6efvrpmDZtWmzbtk1DgD1qn332iVatWmV9nZs2bZpjWgAAuUsADADwES1dunR2tgfAERGDBg0SAAPNRkNDQ0ybNi2eeuqpqK6u1hBgr+2/kuCtt976m2kBAOQuATAAwEc0ffr0v48cOTLr6xw4cGBMmDDBwICc1tDQEM8991w8+eSTUVlZqSHAXt9/JcG0adP+bloAALlLAAwA8BH9x3/8x9JbbrmlOj8/v3U219mrV68oKyuLLVu2GBqQc9LpdMyaNSsmTZoUmzZt0hBgrysrK4tevXplfZ2NjY1b7rnnnmUmBgCQuwTAAAAfUW1tbXrDhg1/7dKly3HZXGcqlYqBAwfGrFmzDA3IGW8Hv5MnT46NGzdqCJA1Bg4cGKlUKuvr3Lhx4yu1tbVpEwMAyF0CYACAj+Gtt956JdsD4IgQAAM5I51Ox8svvxxTpkyJ8vJyDQGyct+VBIsWLXrFtAAAcpsAGADgYxg/fvwrRxxxRNbXedBBB0VBQUE0NjYaGpBImUwmZs+eHRMnTow1a9ZoCJCVCgoK4qCDDkpErY888ogAGAAgx+VpAQDAR/fjH/94ZX19/fpsr7OoqCj69etnYEAivfrqq3HHHXfEz3/+c+EvkNX69esXRUVFWV9nXV1d+b333rvaxAAAcpsTwAAAH9OGDRte6dGjx6ezvc5BgwbFggULDAxIjCVLlsSECRNi/vz5mgEkwuDBgxNR5/r1653+BQBoBgTAAAAf07x5815OQgA8bNiwePjhhyOTyRgakNXefPPNmDBhQixevFgzgMRIpVIxdOjQRNQ6d+7cl0wMACD3CYABAD6m++677+XRo0dnIiKVzXW2bds2evfuHcuWLTM0ICstW7YsHnvsMSd+gUTq06dPtG3bNgmlpu+9996/mhgAQO4TAAMAfEwTJ06s3Lp165LS0tK+2V7rkCFDBMBA1lmxYkU8+uijgl8g0YYMGZKIOqurqxc+/fTTm00MACD3CYABAD6B8vLyl/fff/+sD4AHDx4c48aNMzAgK6xcuTImTJgQc+fOdT09kHhJ+f7vmjVrfP8XAKCZEAADAHwCM2fOfG7//ff/fLbX2a1bt+jWrVuUl5cbGrDXrFu3LsaPHx+zZ88W/AI5oWfPntGlS5dE1DpjxoznTAwAoHkQAAMAfAK33Xbba5dcckl1fn5+62yvdciQIQJgYK9Yv359PPbYY4JfIOck5frnxsbGzbfddts8EwMAaB4EwAAAn0BlZWXThg0b/tqlS5fjsr3WQw89NCZNmmRowJ78MzKeeOKJeP7556OpqUlDgJxz6KGHJqLOioqKV6qrq9MmBgDQPAiAAQA+oXnz5s1MQgDcu3dv10ADe0RVVVVMnDgxXnjhhWhsbNQQICd17949evbsmZT9quufAQCakTwtAAD4ZP77v/97VkQk4kTFpz71KQMDdpstW7bEQw89FLfffns899xzwl8gpw0fPjwRdWYymfTdd9/9gokBADQfTgADAHxCkyZNqtqyZcuCsrKyg7K91uHDh8fjjz9uaMAuVVNTE1OmTIlnnnkm6uvrNQTIealUKg477LBE1Lply5bXp0+fvsXUAACaDwEwAMAusHz58lkDBw7M+gC4S5cu0atXr1i5cqWhAZ9YbW1tTJ48OZ599tmoq6vTEKDZ6N27d3Ts2DEx+1QTAwBoXgTAAAC7wLPPPvvCwIEDr0hCrcOGDRMAA59IXV1dPP300zFt2rTYtm2bhgDNzrBhwxJT61/+8pcXTQwAoHnxDWAAgF3g1ltvnV9fX782CbUefvjhkUqlDA34yBoaGmLq1Klx6623xuOPPy78BZqlJF3/XFdXt/rWW29dYGoAAM2LE8AAALtAQ0NDZs2aNc/16dPns9lea7t27aJPnz6xZMkSgwM+7J9xMW3atHjqqaeiurpaQ4Bmbb/99ou2bdsmotbVq1fPNDEAgOZHAAwAsIs8++yz05IQAEdEHHHEEQJg4AOl0+mYNWtWTJo0KTZt2qQhABFx5JFHJqbW6dOnTzMxAIDmxxXQAAC7yC233PJaQ0NDZRJqHT58eLRo0cLQgJ1Kp9Px3HPPxW233Rb333+/8Bdgh6KiovjUpz6ViFobGho23HLLLXNNDQCg+XECGABgF6murk6Xl5c/t88++5yR7bW2bNkyDj300Hj55ZcNDvindDodL7/8ckyZMiXKy8s1BOBdhgwZEkVFRYmodc2aNc/V1tamTQ0AoPkRAAMA7EIvvvjiM0kIgCMiRo4cKQAGIiIik8nE7NmzY+LEibFmzRoNAXif/VNSzJo161kTAwBongTAAAC70O233/7KOeecszU/P78022sdMGBAtG/f3tWu0My9+uqrMWnSpFi1apVmALyPjh07xgEHHJCIWhsbG6u/8Y1v/NXUAACaJwEwAMAutHLlyob169fP6tat2+hsrzWVSsXhhx8ekyZNMjhohubMmROTJ0+OJUuWaAbAh3D44YdHKpVKRK3r16+fVVFR0WhqAADNU54WAADsWq+++mpirts77LDDDAyamTfffDP+/d//PX7yk58IfwE+pFQqFSNGjEhMva+88sozpgYA0Hw5AQwAsIvddNNNz5166qnV+fn5rbO91m7dukX//v1j4cKFBgc5btmyZfHYY4/F/PnzNQPgIzrggAOic+fOiai1sbFxy4033jjL1AAAmi8BMADALrZy5cqG8vLyGT179vx0Euo9+uijBcCQw5YvXx7jxo0T/AJ8wv1SUpSXlz9TXl7eYGoAAM2XABgAYDeYMWPGUxdccEEiAuAhQ4ZE69ato7q62uAgh6xcuTImTJgQc+fOjUwmoyEAH1ObNm3i0EMPTUy9zz777FOmBgDQvPkGMADAbvDVr371lYaGhk1JqLWgoCCOOOIIQ4McsW7duvj5z38ed955Z8yZM0f4C/AJjRw5MvLz8xNRa0NDw8abbrrpVVMDAGjenAAGANgNKisrm1atWjW9T58+5ySh3qOPPjqefPJJQREk2Pr16+Oxxx6L2bNn+3cZYBdJpVIxatSoxNS7cuXKadXV1WmTAwBo3pwABgDYTaZNm5aY6/c6duwYAwYMMDRIoA0bNsSvf/3r+Nd//dd49dVXhb8Au9CAAQOiY8eOian36aefftLUAAAQAAMA7CZf+9rX5tTX11ckpd6jjjrK0CBBqqqq4v77749vf/vb8eKLL0ZTU5OmAOxiRx55ZGJqra+vX/eNb3zjdVMDAMAV0AAAu0ltbW16xYoVT++///6fT0K9hx56aLRt2zaqqqoMD7LYli1bYsqUKfHcc8/F9u3bNQRgN2nbtm0MGTIkMfUuX778qdraWtc/AwDgBDAAwO70xz/+cUJSas3Pz4/jjjvO0CBL1dTUxKOPPhq33XZb/OUvfxH+Auxmxx57bOTn5yel3Myvf/3rCaYGAECEABgAYLe66667llZXV89PSr1HH310tGjRwuAgi7wd/H7jG9+IqVOnRn19vaYA7GYtWrSIo48+OjH1btmy5Y177rlnhckBABDhCmgAgN3u9ddfn3T44YcPSEKtxcXFcdhhh8XMmTMNDvayurq6ePrpp2PatGmxbds2DQHYgw477LAoKSlJTL3z5s17wtQAAHibE8AAALvZ9773vanpdLohKfWecMIJkUqlDA72koaGhpg6dWrceuut8fjjjwt/AfawVCoVJ5xwQmLqTafT27/73e8+ZXIAALzNCWAAgN1s+vTpWyoqKmZ26dIlER/Y7d69e/Tv3z/efPNNw4M9qKGhIaZNmxZPPfVUVFdXawjAXnLAAQdE9+7dE1NvRUXFczNmzPAXBwAA/+QEMADAHjBr1qxEXcuXpFMvkHTpdDqee+65uP322+PRRx8V/gLsZccff3yi6p0xY8YkUwMA4J2cAAYA2AO++tWvvnT66adXFRYWtk1CvQMHDoyOHTvGhg0bDA92k3Q6HbNmzYrJkyfHxo0bNQQgC3Ts2DEGDhyYmHobGhoqb7755pdMDgCAd3ICGABgDygvL29YsWLF1MRsEvPy4sQTTzQ42A3S6XS8+OKL8Z3vfCfuv/9+4S9AFjnppJMiLy85r8tWrFgxpaKiotHkAAB4JwEwAMAe8qtf/erRiMgkpd6jjjoqysrKDA52kUwmE6+++mp873vfi1//+texdu1aTQHIImVlZXHUUUcl6q+W//7v//6zyQEA8G4CYACAPeQ///M/l1dWVv4tKfUWFhbGMcccY3CwC7wd/P785z+PNWvWaAhAFjruuOOioCA5X0urqqqa/dOf/nS1yQEA8G4CYACAPeill14al6R6jzvuuCgqKjI4+JjmzJkTd911V/z85z+P1au9owfIVkVFRYn7xbcXXnhhnMkBALAzBVoAALDnjB079pkFCxZUFhYWtktCvSUlJXHEEUfE9OnTDQ8+gjfffDPGjx8fb731lmYAJMCRRx4ZJSUliam3oaFh0zXXXPOsyQEAsDMCYACAPai8vLxh6dKlE/v3739xUmo+8cQT49lnn410Om2A8AEWLVoUjz32WCxevFgzABIiLy8vTjzxxETVvGTJkifKy8sbTA8AgJ3ucbUAAGDP+u1vfzsxIjJJqbdjx44xdOhQg4P3sXz58rj77rvjRz/6kfAXIGGGDRsWHTp0SFLJmd/85jePmxwAAO9FAAwAsIf953/+5/JNmza9kqSaTz/99EilUoYH77Jy5cr4yU9+Et///vdj/vz5GgKQMHl5eXHGGWckquZNmza9fM8996wwPQAA3osroAEA9oKXXnpp/KmnnnpYUurt2rVrDBkyJGbPnm14EBHr1q2L8ePHx+zZsyOTyWgIQEINHTo0OnfunKiaX3jhhQkmBwDA+xEAAwDsBZdffvkzS5YsWVdUVNQlKTWfccYZ8be//U3YRbO2fv36eOyxxwS/ADkglUrF6aefnqia6+rq1lx22WXTTQ8AgPcjAAYA2AsqKyub5s+f/8ihhx56dVJq7tatm1PANFsbNmyIxx9/PF555ZVoamrSEIAc8KlPfSq6du2aqJrfeOONcdXV1WnTAwDg/fgGMADAXvL1r399XDqdrktSzb4FTHNTVVUV999/f3z729+OF198UfgLkCNSqVR8+tOfTlTN6XS69pvf/OZjpgcAwAdxAhgAYC+ZMWNG9Zo1a/7Ss2fPxLx97N69ewwcODDmzJljgOS0LVu2xIQJE+KFF16IxsZGDQHIMYceemh069YtUTWvXr36qRkzZlSbHgAAH8QJYACAvejXv/71HyMiUR8SPeuss5wCJmdt27YtHn300bjtttviueeeE/4C5KC8vLwYM2ZM0srO/OpXv/qT6QEA8KH2vFoAALD3fP/733+rqqoqUR/V7dGjR3zqU58yPHJKfX19TJ06Nb71rW/F1KlTo76+XlMActSIESOiS5cuiap506ZNf73rrruWmh4AAB+GABgAYC975plnHkpazWeccUbk5dlKkjvmzZsXjz76aGzdulUzAHJYQUFBnH766Ymre9q0aQ+aHgAAH5a3dgAAe9nYsWNn1tfXr01SzZ07d47DDjvM8ACARBk5cmR06NAhUTXX1dWtHjt27POmBwDAhyUABgDYyyorK5tee+21Pyat7jPPPDMKCgoMEABIhBYtWiTy9O/s2bP/UF1dnTZBAAA+LAEwAEAWuOqqqyY0NjZWJanm9u3bx9FHH214AEAiHHfccdGmTZtE1dzQ0LDxiiuumGh6AAB8FAJgAIAssGDBgrqFCxc+lrS6R48eHYWFhQYIAGS1li1bxsknn5y4uhcuXDhu6dKl200QAICPQgAMAJAlvv71r/8pnU7XJqnmtm3bximnnGJ4AEBWO+2006K0tDRRNTc1NdV+7Wtfe8j0AAD4qATAAABZ4umnn968fPnyxF3xN3r06GjXrp0BAgBZqUOHDnH88ccnru5ly5ZNmD59+hYTBADgoxIAAwBkkbvvvvtPmUymKUk1FxYWxumnn254AEBWOvPMMxP3yYpMJtN41113/dH0AAD4OATAAABZ5Be/+MWatWvXTkta3UcccUT06tXLAAGArNK7d+847LDDEld3eXn5X+6///51JggAwMchAAYAyDIPP/zwn5JWcyqVijPPPNPwAICsMmbMmEilUomr+8EHH/yT6QEA8HEJgAEAsszXv/71NzZs2DAraXUPHDgwDj74YAMEALLCoEGDYsCAAYmru6KiYuatt966wAQBAPi4BMAAAFlo3Lhxv01i3WPGjIm8PFtMAGDvysvLizFjxiSy9j//+c+/NUEAAD7RflgLAACyz/XXXz+nqqrqr0mru1evXnHUUUcZIACwVx1zzDHRvXv3xNW9adOmV2666aa5JggAwCchAAYAyFJ/+tOf7k1i3WPGjInS0lIDBAD2ijZt2sRZZ52VyNofeOCBe00QAIBPSgAMAJClbrrpprlJPAVcXFwcZ555pgECAHvFWWedFS1btkxc3Zs2bXrl5ptvnmeCAAB8UgJgAIAsNm7cuF8lse5Ro0ZF7969DRAA2KP69OkTI0eOTGTtjz322K9MEACAXUEADACQxcaOHTu7qqrqb0mrO5VKxfnnnx+pVMoQAYA9tv/4/Oc/n8j9R2Vl5d+uueaav5kiAAC7ggAYACDLTZ069bdJrLtv374xZMgQAwQA9ojDDjsssTeQTJ48+TcmCADAriIABgDIcpdeeumLVVVVryax9s9//vNRXFxsiADAblVaWhrnn39+Imuvqqr66+WXX/6SKQIAsKsIgAEAEuChhx76WRLrLisri9NPP90AAYDd6qyzzoqSkpIklp753e9+91MTBABgVxIAAwAkwA033DB3w4YNs5JY+3HHHRd9+vQxRABgt+jbt28cddRRiay9oqJi1te//vU3TBEAgF1JAAwAkBA///nPfxoR6aTVnUql4vOf/3zk5dl6AgC7Vn5+flx00UWRSqWSWH76F7/4xX+bIgAAu5q3cAAACXHHHXe8tW7duulJrL13795xzDHHGCIAsEudcMIJ0b1790TWXl5e/pc77rjjLVMEAGBXEwADACTI3XfffW8mk2lKYu1nnXVWtG3b1hABgF2iQ4cOcfrppyey9kwm03T33Xf/3BQBANgdBMAAAAlyzz33rCgvL386ibW3bNkyzj33XEMEAHaJc889N1q0aJHI2tesWTP1xz/+8UpTBABgdxAAAwAkzA9/+MOfZzKZhiTWPnz48Bg0aJAhAgCfyKGHHhpDhw5NZO3pdLrhBz/4wS9MEQCA3UUADACQMPfee+/qRYsWPZDU+i+++OIoKSkxSADgY2ndunVcfPHFia1/4cKFf7jvvvvKTRIAgN1FAAwAkECXXXbZrxsaGjYlsfaysjJXQQMAH9u5554bpaWliay9oaFh4+WXX/47UwQAYHcSAAMAJNDs2bNrXn311V8ntf4jjjgiDj74YIMEAD6SwYMHx+GHH57Y+l955ZX7Zs+eXWOSAADsTgJgAICEOueccx6tqalZmtT6L7roomjZsqVBAgAfSsuWLeNzn/tcYuuvqalZMmbMmMdMEgCA3U0ADACQUJWVlU3Tpk37RVLrb9++fZx++ukGCQB8KGeccUa0b98+sfU/+eST91ZXV6dNEgCA3U0ADACQYOedd960qqqqV5Ja/wknnOAqaADgAx188MFx/PHHJ7b+TZs2vXzBBRc8a5IAAOwJAmAAgIT74x//eG9EZJJYeyqVigsuuMBV0ADAe2rZsmVccMEFkUqlkrqEzP333/8zkwQAYE8RAAMAJNzNN988b9WqVU8ktf6OHTsm+nt+AMDudcEFF0THjh0TW/+KFSse//rXv/6GSQIAsKcIgAEAcsCNN974k6ampq1JrX/kyJExdOhQgwQA/pdPfepTMWLEiMTW39TUVH3zzTf/t0kCALAnCYABAHLAxIkTK//+97//KslruPDCC6OsrMwwAYCIiGjTpk18/vOfT/QaZs+efd/EiRMrTRMAgD1JAAwAkCPOPvvsh2pqapYntf7S0tK46KKLDBIAiFQqFV/84hejtLQ0sWuoqal566yzznrYNAEA2NMEwAAAOaKioqJx0qRJP07yGgYPHhwjR440TABo5o444og46KCDEr2GJ5544qeVlZVNpgkAwJ4mAAYAyCGXXHLJzIqKihlJXsMFF1wQ3bp1M0wAaKZ69uyZ+KufKyoqZnzhC1+YZZoAAOwNAmAAgBzzb//2b/ek0+ntSa2/RYsWceWVV0ZhYaFhAkAzU1hYGF/60pcSvQ9Ip9Pb/+3f/u0e0wQAYG8RAAMA5Jh777139aJFix5M8hq6d+8eZ555pmECQDNzxhlnRPfu3RO9hsWLFz947733rjZNAAD2FgEwAEAO+uxnP/vL2traRL94PPHEE2Pw4MGGCQDNxKBBg+Kkk05K9Bpqa2tXn3vuub80TQAA9iYBMABADlq8eHH9uHHj/j3Ja0ilUnHJJZdE27ZtDRQAclybNm3ikksuiVQqleh1jBs37t8XL15cb6IAAOxNAmAAgBx1+eWXv1RRUTEjyWsoLS2NL3zhC4l/GQwAvLe3f+mrdevWiV5HRUXFM5dffvlLJgoAwN4mAAYAyGE33HDDXU1NTVuTvIaDDjrI94ABIId95jOfiUMOOSTRa2hqaqq+4YYbfmiaAABkAwEwAEAOGzdu3MbZs2cn/jt0p5xyiu8BA0AOOuSQQ+LTn/504tfx17/+9efjxo3baKIAAGQDATAAQI77zGc+81B1dfXCJK8hlUrFF7/4xejQoYOBAkCO6NixY3zpS19K/KceNm/ePO+00057xEQBAMgWAmAAgBxXXV2dfuCBB34UEekkr6O4uDguvfTSyMuzhQWApMvPz4/LLrssiouLk76U9P333/+ftbW1aVMFACBbeHsGANAMXH/99XMWLVr0YNLXsf/++8e5555roACQcOedd1707ds38etYuHDhH7/61a++bqIAAGQTATAAQDNxySWX/Lyurq486es4/vjjfQ8YABJs2LBhccwxxyR+HXV1dWsuvPDC+0wUAIBsIwAGAGgmXnvttdoHHnjguxGRSfI6UqlUfOlLX4oePXoYKgAkTO/evePSSy9N/Hd/IyLzwAMPfO/111+vNVUAALKNABgAoBm5+uqr/7Z06dJHk76OoqKiGDt2bJSWlhoqACRE69at46qrrorCwsLEr2X58uXjrr766r+ZKgAA2UgADADQzJx33nn/r66ubnXS19GhQ4e4/PLLIy/PlhYAsl1eXl5cfvnl0b59+8Svpb6+ft0ll1zyE1MFACBr999aAADQvLz++uu1Dz744Pcj4VdBR0QMGDAgzjrrLEMFgCw3ZsyYOPDAA3NiLY899tgPXnnllW2mCgBAthIAAwA0Q1/5ylf+umbNmqm5sJaTTz45Dj30UEMFgCw1ZMiQOOmkk3JiLWvXrv3LpZde+oKpAgCQzQTAAADN1GWXXfYf9fX1FUlfRyqViksvvTS6d+9uqACQZXr06BFf/OIXI5VKJX4tDQ0Nm6655pofmioAANlOAAwA0EzNmDGj+oEHHvhO5MBV0C1btozrr78+2rZta7AAkCXatWsX1113XbRs2TIXlpN56KGH/nXSpElVJgsAQLYTAAMANGNf+cpX/rpkyZI/58Ja2rZtG1dffXW0aNHCYAFgL2vRokVcffXVOfPLWUuXLn30iiuueNlkAQBIAgEwAEAzd+655/6ktrZ2eS6spXfv3jlzzSQAJNXbn2fYZ599cmI9tbW1y88555wfmywAAEkhAAYAaOYWLFhQ97Of/ezbmUymMRfWM2zYsDjllFMMFgD2kk9/+tMxdOjQnFhLJpNp/NnPfvbtBQsW1JksAABJIQAGACBuvfXWBfPnz78/V9Zz5plnxuDBgw0WAPaw4cOHx2c+85mcWc/8+fN/d+utty4wWQAAkkQADABARESMGTPmvpqamrdyYS2pVCouu+yy6Nmzp8ECwB7Su3fvuPjii3PmUwxbt25ddPrpp//aZAEASBoBMAAAERGxcuXKhh/+8Ie3pdPpnLjisGXLlvEv//Iv0aVLF8MFgN2sS5cucf3110dRUVFOrKepqanmu9/97jfKy8sbTBcAgKQRAAMA8E933XXX0ueff/6eXFlPaWlpXHvttVFWVma4ALCblJWVxXXXXRclJSU5s6aZM2fe/f/+3/9bZboAACSRABgAgP/l5JNPHldeXv50rqynU6dOMXbs2Jw5kQQA2aSoqCiuueaa6NixY86sqby8/MlTTz11gukCAJBUAmAAAP6PSy655K66urq1ubKefffdN6644orIy7P9BYBdJS8vL6688sro3bt3zqyprq6u/JJLLvmh6QIAkOi9uhYAAPBus2bNqn7ooYfujIh0rqxp4MCBcd555xkuAOwi559/fhxyyCG5tKT0gw8+eOesWbOqTRcAgCTLb3tQ9NzpjndbRG15oQ4BADRTEydOXDNmzJi8Tp06Dc2VNfXp0yfy8/PjzTffNGAA+ATOOuusOOmkk3JqTa+//vp9Z5555kTTBQAgCYq7N0Ze6c5/5gQwAADv6dRTT/31li1bXs+lNZ122mlx9NFHGy4AfEzHHntsnHrqqTm1pi1btrxx2mmn/cZ0AQDIBQJgAADeU0VFReONN974jcbGxqpcWtcFF1wQRx55pAEDwEd05JFHxuc+97mcWlNjY2PVzTff/I2KiopGEwYAIBcIgAEAeF9//OMf1z/yyCPfiRz6HnAqlYqLLroohgwZYsAA8CENHTo0LrrookilUrm0rPQjjzzynfvvv3+dCQMAkCsEwAAAfKBLL730hQULFvwupzbCeXnxpS99Kfbff38DBoAPcNBBB8WXvvSlyMvLrVdJCxYs+N2ll176ggkDAJBLBMAAAHwoo0eP/mVVVdXcXFpTYWFhfOUrX4kePXoYMAC8h169esUVV1wRBQUFObWuqqqqOaNHj/6lCQMAkGsEwAAAfCgVFRWNV1111S0NDQ0bcmldJSUlcfPNN8c+++xjyADwLr17946bbropiouLc2pdDQ0NG6666qqv++4vAAC5SAAMAMCHNmHChE3333//tzKZTDqX1lVcXBzXXXdddO/e3ZABYIfu3bvHtddeG61atcqpdWUymfT999//rQkTJmwyZQAAcpEAGACAj2Ts2LGz58+f/9tcW1fr1q3juuuuiw4dOhgyAM1ehw4d4rrrrovWrVvn3Nrmz5//m7Fjx842ZQAAcpUAGACAj+y44477xaZNm17MtXW1a9cubrzxxmjXrp0hA9BstW3bNmf/Pty4ceOLxx13nO/+AgCQ0wTAAAB8ZNXV1emLL774W3V1datzbW0dO3aMG2+8Mdq0aWPQADQ7ZWVlceONN0bHjh1zbm21tbWrL7zwwturq6vTJg0AQC7Lb3tQ9NzZD9LbImrLC3UIAICdWrZsWf327dtfOvbYY0/Ny8trkUtrKykpiaFDh8Zrr70WNTU1hg1As9ChQ4f42te+Fp06dcq5tTU1NW39zne+M/bBBx9cb9IAAOSC4u6NkVe6858JgAEA+NhefPHFzYcccsiyAQMGnBgRqZzaRBcXx5AhQ4TAADQLHTt2jJtuuik6dOiQi8tLjx8//ravfvWrc0waAIBc8X4BsCugAQD4RC688MIZb7zxxm9ycW3t27ePm266KSdPQgHA2zp16pTL4W+88cYbv77wwgufM2kAAJoLATAAAJ/YqFGjfrFhw4aZubi2t0Pgzp07GzQAOadz585x0003Rfv27XNyfRs2bJg5atSo+0waAIDmRAAMAMAnVltbm77sssu+V1dXtzoX19euXbu44YYbomPHjoYNQM7o0KFDXH/99dGuXbtc3Z+s/sIXvvDd2tratGkDANCc+AYwAAC7xJIlS+oj4pVRo0admpeX1yLX1ldcXBxDhw6NuXPnxrZt2wwcgETr0qVL3HjjjTl77XNTU1P1nXfeec0f/vCHdaYNAEAuer9vAAuAAQDYZWbNmlXVo0ePuYceeujoVCqVn2vra9WqVYwYMSIWLVoUlZWVBg5AIu23335x0003RVlZWU6uL51ON/z617++4fbbb3/TtAEAyFUCYAAA9phJkyatPeqoozbsu+++R+fi+goLC2P48OGxbNmy2LBhg4EDkCgDBgyIa6+9Nlq1apWza5w2bdq/XXLJJc+ZNgAAuez9AmDfAAYAYJc77bTTHn/rrbcezNX1FRUVxTXXXBNDhgwxbAASY8iQIXHNNddEUVFRzq5xwYIFvzv99NOfMG0AAJozATAAALvFEUcccc+GDRtm5ur6CgoK4sorr4wjjjjCsAFIwt/LceWVV0ZBQUHOrrG8vPypESNG/LdpAwDQ3AmAAQDYLaqrq9MXXXTRd2pra1fk7GY6Ly8uvvjiOPLIIw0cgKw1atSouPjiiyMvL3dfA23dunXxZz/72e83NDRkTBwAgObON4ABANhtli9fvr2mpuaFY4899uT8/PyWubjGVCoVgwYNikwmE4sWLTJ0ALLK6aefHueee26kUqmcXWN9fX3FDTfccM3UqVOrTBwAgObi/b4BLAAGAGC3evnll7cUFBS8cMQRR4zOy8trkYtrTKVSccABB0SnTp1i7ty5kck4fATA3lVYWBhXXHFFHHPMMTm9zsbGxuo777zzKz/72c9WmzoAAM2JABgAgL1qxowZlb169Xp98ODBJ6dSqfxcXWfPnj2jb9++8fe//z0aGxsNHoC9olWrVnH11VfHwIEDc3qd6XS64be//e2Nt9122wJTBwCguREAAwCw1z3xxBPlw4cPX9OvX79jIyJn76Hs2LFjDBw4MObMmRN1dXUGD8Ae1a5du7jxxhujT58+ub7U9JQpU779xS9+8XlTBwCgOXq/ADhPewAA2FPGjBkz9Y033vh1rq+zZ8+eceONN0bHjh0NHYA9pkuXLnHTTTdF9+7dc36tc+fO/eU555zzF1MHAID/SwAMAMAe9alPfernS5cufTjX19mlS5e49dZb48ADDzR0AHa7gQMHxje/+c3o1KlTzq/1rbfeemjEiBG/MnUAANg5ATAAAHvcsccee8/GjRtfyPV1FhcXx7XXXhsjRowwdAB2m8MPPzyuuuqqaNmyZc6vdePGjc8fffTR95g6AAC8NwEwAAB7XEVFReNxxx339crKyr/l+loLCgrisssui/PPPz9SqZThA7DLpFKpOP/88+PSSy+NgoKCnF/vpk2bXj7ssMNuqaysbDJ9AAB4bwJgAAD2isWLF9efddZZN1dXV7/ZHNZ7/PHHx5e//OUoKioyfAA+sRYtWsSXv/zlOP7445vFequrq98cM2bMN8rLyxtMHwAA3l9+24Oi585+kN4WUVteqEMAAOw2a9asaVi1atWs0aNHH1dQUNA619fbrVu3OOCAA2LevHlRX1/vAQDgYykrK4trrrkmDjrooGax3rq6uvKxY8de89RTT202fQAA+Ifi7o2RV7rznwmAAQDYq+bNm1ezevXqZ04++eTjCwoKSnN9ve3atYuRI0fG8uXLY+PGjR4AAD6S/v37x0033RRdu3ZtFuutr69fd9111335T3/6U4XpAwDA/xAAAwCQ1ebMmbMtlUq9fOSRR56Ul5eX83ckt2jRIkaMGBG1tbWxdOlSDwAAH8rxxx8fX/rSl5rN5wQaGxu33HXXXdf99Kc/XWn6AADwvwmAAQDIejNnzqzs2bPn64MHDz4plUrl5/p6U6lUHHLIIdGqVatYsGBBZDIZDwEAO5WXlxef/exn4/TTT49UKtUs1pxOp7f//ve//+o3vvGN1z0BAADwfwmAAQBIhEmTJpXvs88+8wYOHHhCKpUqaA5r3m+//WLAgAExd+5c3wUG4P8oKyuL6667LoYNG9Zs1pxOp7f/8Y9/vOmqq676qycAAAB2TgAMAEBiTJw4cc3BBx+85MADDzwulUrlNYc1t2/fPoYOHRqLFi2KLVu2eAgAiIiIffbZJ66//vro2bNns1lzJpNpnDBhwm1f/OIXn/cEAADAexMAAwCQKI8++ujy/fff/42DDjrohOZwHXRERHFxcRx11FHR2NgYb731locAoJkbPXp0XHHFFVFSUtJs1pxOpxsefvjhr15yySWzPAEAAPD+BMAAACTO+PHjVw0cOHDpAQcccGxzOQmcSqViwIAB0aVLl3jjjTeiqanJgwDQzBQVFcWll14aJ554YrP53m/EP07+Pv7447dffPHFMz0FAADwwQTAAAAk0iOPPLLs0EMPXbb//vs3mxA4IqJHjx4xZMiQePPNN2Pr1q0eBIBmonv37vEv//IvccABBzSrdWcymaYnnnji9s997nPPeAoAAODDEQADAJBYDz/88NJjjjlmY+/evY+KiGZzFKq0tDSGDx8eq1evjvXr13sQAHLcwIED45prrol27do1t6VnZsyY8YOzzjprqqcAAAA+PAEwAACJdv/99795zDHHVO6zzz5HRDMKgVu0aBGHHXZYtGzZMhYuXBjpdNrDAJBjCgoK4pxzzonzzz8/WrRo0dyWn37uuefuOuWUUyZ4EgAA4KMRAAMAkHi///3v5w8bNmxF3759j2lO10GnUqno27dvDB06NBYvXhxbtmzxMADkiJ49e8YNN9wQgwcPblbf+434x7XPU6ZM+fbpp58+2ZMAAAAfnQAYAICc8OCDDy4ZNmzYin79+jWrEDgionXr1nHEEUdEfX19LF261MMAkGCpVCpOOOGEuOKKK6JNmzbNbv07wt9vnXPOOX/xNAAAwMcjAAYAIGc89NBDS4YNG7a8X79+xza3EDg/Pz8OPvjg6NWrV8yfPz8aGho8EAAJU1JSEpdffnmccMIJkZ+f3+zWn8lkGp944olvffazn53maQAAgI9PAAwAQE556KGHlo4cOXJdnz59RqWa252ZEdG1a9cYNmxYLFu2LCorKz0QAAnRt2/fuO6662K//fZrluvPZDLpp59++rvnnHPO054GAAD4ZATAAADknD/96U+LDj300KX7779/s7sOOiKiuLg4jjzyyCgpKYk333wz0um0hwIgSxUUFMRnP/vZuPDCC6OkpKRZ9iCdTjc88sgjt5x//vnTPREAAPDJCYABAMhJDz/88NId3wQelUqlmt09mqlUKvr06RMHH3xwLFy4MLZt2+ahAMgynTt3jrFjx8bQoUOjGV5aERH/CH+feOKJ2y+88MLnPBEAALBrCIABAMhZDz300JIePXq8NmjQoGPz8vJaNMcetG3bNkaNGhVNTU2xZMkSDwVAFkilUjF69Oi48soro0OHDs22D01NTdt++9vf/stll132oqcCAAB2HQEwAAA5bdKkSeXdu3efM3jw4GYbAufn58eAAQOiV69esWDBgti+fbsHA2Avad26dVx66aVx/PHHR35+frPtQ2NjY/WvfvWrf7nuuute81QAAMCuJQAGACDnTZ48eW1jY+OMI4444uiCgoKS5tqHrl27xqhRo2Lbtm2xcuVKDwbAHpRKpWLUqFExduzY6NWrV7PuRX19/fo77rjjK9/61rcWejIAAGDXEwADANAsPP/881UbNmx45rjjjjuqsLCwrLn2obCwMAYNGhT77bdfLF68OGpraz0cALtZ+/bt44orrogTTzwxCgub9/uU2tralTfffPPVP/nJT1Z7MgAAYPcQAAMA0Gz87W9/27p27doZJ5xwwsjCwsK2zbkXnTp1ipEjR0Z1dbXTwAC70ciRI+Pqq6+OHj16NPte1NTULL/hhhuu/e1vf7vOkwEAALuPABgAgGbltdde2zpv3rynTznllKFFRUWdmnMvCgsL49BDD4399tsvFi1a5DQwwC709qnfk08+udmf+o2I2Lx587yLL774unHjxm30dAAAwO71fgFwat9zYsTOftC4LmLjq610DwCAxOrVq1fhs88++69du3Y9QTciGhoaYurUqTF58uRobGzUEICPqaCgIE499dQYPXq04HeH8vLyp4499tjvrly5skE3AABg9+swrDYKuuz8ZwJgAAByWuvWrfNeeumlm/fdd9+zdeMfVq9eHffff38sWbJEMwA+ov322y8uuugi1z2/w8KFC38/fPjwnzY0NGR0AwAA9gwBMAAAzd7zzz9/8aGHHnp1RKR0IyKTycTMmTPjz3/+c9TV1WkIwAcoKSmJ8847L0aMGBGplL9Kdki//PLL9xx77LEPagUAAOxZ7xcA+wYwAADNwn333Tfn+OOP39yrV6/DQwgcqVQqevfuHcOHD49169ZFRUWFhwTgPRxyyCExduzY6N+/v/B3h0wm0/jMM8/828knnzxONwAAYM97v28AC4ABAGg2fve7370xePDgJf369Ts6lUrl60hEcXFxjBgxInr06BFLly6N2tpaTQHYoUOHDvGFL3whzjzzzCguLtaQHZqammoeeOCBWz73uc9N1w0AANg7BMAAALDDww8/vKygoOC54cOHH1FQUFCqI//QrVu3OO6446K0tDQWL14cTU1NmgI0Wy1btoxzzjknLr300ujevbuGvENtbe2K22677arbbrvtDd0AAIC9RwAMAADv8Oyzz25avHjx0yeddNKQoqKiTjryD3l5edGnT58YOXJkbN26NVatWqUpQLNz+OGHx1e+8pUYMGBA5OXlacg7VFVV/e3CCy+8/oEHHvDdAAAA2MsEwAAA8C7z58+vefbZZ58+44wz+hcXF/fSkf/RsmXLGDJkSOyzzz6xdOnSqKmp0RQg53Xs2DG++MUvximnnBItW7bUkHdZt27dMyeffPI3Xn755W26AQAAe9/7BcCpfc+JETv7QeO6iI2vttI9AAByWmFhYer555//0sEHH3y5bvxfTU1N8fzzz8f48eOjurpaQ4Cc07p16zjzzDPjyCOPdOJ35zJ///vff3rMMcfc39DQkNEOAADIDh2G1UZBl53/TAAMAAARMWnSpM8cc8wxt6RSKdfg7ERNTU1MmTIlpk2bFg0NDRoCJF5hYWGccsopcdJJJ0VRUZGG7EQ6na6fOnXqd88555y/6AYAAGSX9wuAXQENAAAR8Yc//GHhfvvt98aAAQOOysvLkwS8S2FhYQwYMCCGDh0amzZtinXr1mkKkFiDBw+Oq666KoYOHRoFBQUashONjY1Vv//972/5whe+MEs3AAAg+/gGMAAAfAgTJkxYXV1dPf3II4/8VGFhYTsd+b9KS0vjsMMOi/79+8eaNWti8+bNmgIkRu/evePyyy+PU045JUpLSzXkPWzdunXxLbfccs33vve9hboBAADZyTeAAQDgI+jTp0+LJ5988us9evQ4TTfe3/z58+ORRx6JlStXagaQtXr16hXnnHNODBgwQDM+wKpVq5444YQTfrBy5Ur3/QMAQBbzDWAAAPgYnnnmmfOHDx9+fSqVytON95bJZGL27Nkxbty4qKio0BAga3Tu3DnOOuusGDp0aKRSKQ15/z/Lm2bNmvXDk08++THdAACA7OcbwAAA8DH85je/eX3//fd//cADDzzSd4HfWyqViu7du8cxxxwT7dq1i2XLlkV9fb3GAHtN27Zt49xzz42LL744evToIfz9AI2NjdUPPvjgLZ/97Gf/ohsAAJAMvgEMAAAf0/jx41dFxPOHHXbYiMLCwjIdeW95eXnRu3fvOOqoo6KgoCBWrlwZjY2NGgPsMcXFxXHKKafEl770pejbt2/k5bnA4YPU1tau+MEPfnD9LbfcMk83AAAgQf/94xvAAADwyQwePLjVo48++s1u3bqdpBsfTn19fTzzzDMxderU2LZtm4YAu01ZWVmceuqpceSRR0ZRkQsbPqyVK1c+/ulPf/pHixcvdm0DAAAkjG8AAwDALvLkk0+edeSRR96USqVcl/MhCYKB3eXtE7/HHnus4PcjyGQyDbNmzfoP3/sFAIDk8g1gAADYRX7/+98v6NGjx2uHHHLIyPz8fL8x+SEUFBREv3794qijjoq8vLxYtWqVq6GBT6Rly5ZxwgknxBVXXBEHHXRQFBQUaMqH1NDQsOG3v/3t1z7/+c8/oxsAAJBcroAGAIBd7Lzzzut4991339m2bdvBuvHR1NTUxLPPPhvTpk2LLVu2aAjwoZWVlcXxxx8fxxxzTBQXF2vIR1RVVfW3a6+99vZHHnlkg24AAECyuQIaAAB2g06dOhVMmzZtbN++fT8XESkd+WgaGhri+eefjyeffDI2bJBFAO/7522cdNJJccQRR0RhodvKPobMokWL/nTsscf+pLKyskk7AAAg+QTAAACwG/3hD38Ydfrpp99WUFDQRjc+unQ6Ha+++mpMnTo1Vq5cqSHAP/Xq1StOOeWUGDp0aOTl5WnIx9DY2Fg1YcKEOy666KKZugEAALlDAAwAALvZaaed1vbee+/9docOHUbqxse3fPnymDZtWrz88suRTqc1BJqhvLy8OOyww+L444+P3r17a8gnsHHjxue//OUvf3fSpElVugEAALlFAAwAAHtAYWFh6qmnnjpv+PDh16RSKXeUfgIbNmyIGTNmxHPPPRc1NTUaAs1AcXFxjBo1Ko4++ujo2LGjhnwCmUym4ZVXXvl/J5100kMNDQ0ZHQEAgNzzfgFwftuDoufOfpDeFlFb7p0VAAB8WOl0On7zm9+8Xlpa+uLgwYM/VVhYWKYrH09xcXEMGDAgjj322GjTpk2sXbs2amtrNQZyUIcOHeKMM86ISy+9NAYOHBjFxcWa8gnU1tau+slPfnLjxRdf/IybFAAAIHcVd2+MvNKd/8wJYAAA2A1OPPHENvfdd9+tnTp1Olo3PrnGxsb429/+Fs8++2wsWrRIQyAH9OvXL44++ugYNmxYFBQUaMguUFFR8cwXv/jFf5s+ffoW3QAAgNzmCmgAANhLHn744RNGjx799YKCgta6sWusX78+Zs6cGc8//3xUV1drCCRIaWlpHHnkkXHUUUdF586dNWQXaWxs3DJ16tS7PvvZz/5FNwAAoHkQAAMAwF50ySWXdP3+97//rXbt2g3VjV2nsbExXnvttXjuuedi/vz5GgJZbMCAATFq1KgYPHiw0767WFVV1atf//rXv/e73/1urW4AAEDzIQAGAIC9rF27dvlTp0699OCDD740lUrl68iutXz58nj++efj5ZdfjpqaGg2BLFBSUhLDhw+PI444Inr37q0hu1gmk2mcN2/efSeeeOJvq6urfewXAACaGQEwAABkia9//ev73Xjjjf9aWlraXzd2vXQ6HW+++WY899xz8dprr0VjY6OmwB5UUFAQgwcPjlGjRsUBBxwQeXl5mrIbVFdXL/zP//zPf/3BD36wRDcAAKB5EgADAEAWOfjgg1v9+c9/vrZ3795jIiKlI7tHZWVlvPjii/HCCy/EunXrNAR2o65du8bIkSPj8MMPj7Zt22rI7pNZunTpn88888z/t3jx4nrtAACA5ksADAAAWejuu+8eePHFF9/WqlUrd6PuZuXl5fHqq6/GSy+9FOvXr9cQ2AU6d+4cI0aMiGHDhkW3bt00ZDerqalZ9tvf/vbOm266aa5uAAAAAmAAAMhS/fr1K3r44Ycv79+//4WpVMpdqXvA8uXL46WXXoqXX345qqurNQQ+grKyshg+fHiMGDHCd333kEwmk164cOEfzj777F8sXbp0u44AAAARAmAAAMh6P/3pT4d97nOf+2bLli176Mae0dDQEHPnzo2//vWvMXfu3Ni+Xa4CO9OyZcsYNGhQDBs2LA455JAoKCjQlD2ktrZ21R//+Mc7rr322r/rBgAA8E4CYAAASIA+ffq0ePTRR69wGnjPS6fTsXTp0nj11VedDIaIaNu2bQwbNiyGDRsWffr0ibw8fyTtSZlMpuG11177+ZlnnvmnioqKRh0BAADeTQAMAAAJ8uMf//jQCy644JutWrXaRzf2vLdPBs+ePTvmzp0bdXV1mkKzUFZWFoMHD45hw4ZF//79Iz8/X1P2gpqammX333//nTfccINv/QIAAO9JAAwAAAnTrl27/HHjxp37qU996qq8vDwb870kk8nEihUrYu7cuTFnzpxYsWJFZDIZjSEnpFKp6Nu3bwwbNiwGDRoUHTt21JS9qKmpqfbVV1/92ZgxY/5cWVnZpCMAAMD7EQADAEBCffnLX+5x++23f7V9+/aH68bet2XLlnjjjTdizpw5MW/evKivr9cUEqVly5Zx8MEHx6BBg+KQQw6J0tJSTckCGzdufPG73/3uv//iF79YoxsAAMCHIQAGAIAEKywsTE2cOPGMkSNHXlNQUNBaR7JDXV1dvPnmm/HGG2/EG2+8EevXr9cUslKXLl3ioIMOioMOOigOOOCAKCoq0pQs0djYuGXmzJk/PvPMMyc2NDS4XgAAAPjQBMAAAJADjjzyyNY/+9nPrujbt++5EZGnI9mluro6Fi5cGPPnz4958+ZFZWWlprBXtGvXLg455JAYMGBA9O/fP1q39nsjWSj91ltv/fmqq676xaxZs6q1AwAA+KgEwAAAkEN++ctfjhgzZsyNrVq16q0b2SmdTsfKlStj0aJFsXDhwli8eHFs27ZNY9gtSkpKol+/ftG/f//Yf//9o1evXpGX53dEslVNTc3yRx999EdXXnnlK7oBAAB8XAJgAADIMd26dSt8+OGHPzd48ODL8vPzbdyzXCaTiTVr1sTChQtj0aJFsWjRotiyZYvG8LGUlZVF//79/xn6du/ePVKplMZkuaampprXXnvtV2PGjHmgoqKiUUcAAIBPQgAMAAA56rjjjiv7r//6r8tdC508mzdvjuXLl8eKFSti+fLlsXjx4qipqdEY/pfi4uLo169f9O7dO/bZZ5/Yd999o6ysTGMSJJPJpJcsWfLn66677pfTp0/3mx8AAMAuIQAGAIAc99Of/nTIueeee3NpaWlf3UimxsbGWLlyZSxdujSWLVsWy5cvj3Xr1kUmk9GcZiKVSkWXLl1in332iT59+kSfPn2iV69eUVBQoDkJtXXr1sUPPvjgj6699tq/6wYAALArCYABAKAZaNeuXf64cePOGTp06BUFBQWtdST56uvrY+XKlf88KbxixYpYu3ZtpNNpzUm4vLy86Nq1a+yzzz7//KdXr17RsmVLzckBjY2NW/7617/+4pxzznm0srKySUcAAIBdTQAMAADNyIknntjmnnvuuXzfffcdk0qlHB3MMdu3b481a9bEmjVrYu3atbF27dooLy+PDRs2CIazUF5eXnTs2DG6desWXbt2jW7dukW3bt2iR48eUVhYqEE5JpPJNC5ZsuRR1z0DAAC7mwAYAACaoa9+9av7Xnfdddd16NDhCN3IfY2Njf8MhNetWxfr1q2LioqKWLduXWzbtk2DdrPS0tLo3LnzP//p0qVLdO3aNbp27eoK52Ziw4YNM//rv/7rxz/60Y+W6wYAALC7CYABAKAZ++UvfznirLPOuq64uNj3gZupmpqaWL9+/T//qaioiMrKyqisrIxNmzZFY2OjJn2AgoKCaN++fbRr1y7at28fHTt2jC5dukSnTp2ic+fOUVxcrEnN1NatW98aP378PVdcccXLugEAAOwpAmAAAGjm2rVrl//ggw+eOWLEiCsLCwvb6gjvtHnz5n+GwZs2bYrKysqorq6OLVu2xJYtW6K6ujqqq6sjk8nk3NpTqVS0bt06WrduHWVlZdGmTZsoLS39X2Fvu3btok2bNh4U/peGhobKl1566efnnHPO+OrqavevAwAAe5QAGAAAiIiIoUOHFt97770XHHjggRfk5+c7ssiHlk6n/xkEV1dXR01Nzfv+k8lkora2NtLpdNTX10dTU1PU1dXt0u8U5+XlRcuWLSM/Pz+KiooiLy8vWrVqFalUKoqLi3f6T0lJSbRq1eqfgW9paWnk5eUZMB9aU1NTzYIFC/745S9/+Y+zZ8+u0REAAGBvEAADAAD/y2mnndb2rrvuurRPnz5n5+XlFeoIe9LbgfDbtm/f/r7XUBcUFESLFi3++b/fDnxhT8pkMg1LliwZd8stt/xq0qRJVToCAADsTQJgAABgp0477bS2d95554X777//5wTBAP9XJpNpWLhw4QO33nrrHwS/AABAtni/ADi/7UHRc2c/SG+LqC33/gcAAHLZokWL6u69995X0un0swcddFCnkpKS3roC8A8VFRUz/7//7/+77aKLLpq6aNGiOh0BAACyRXH3xsgr3fnPBMAAAEDMnDmz8u67736qqalpWr9+/Ypbt27dN5VKpXQGaG4ymUx6zZo1U+65555/Peeccx6cOXNmpa4AAADZRgAMAAB8KDNnzqz88Y9//Gw6nZ4uCAaak7eD37vvvvtfzz///McEvwAAQDYTAAMAAB+JIBhoLgS/AABAEgmAAQCAj+XtILisrOyFvn37diwuLu4VEYJgIBdkKioqnrv33nu/PWbMmEcEvwAAQJK8XwCc2vecGLGzHzSui9j4aivdAwAA/unqq6/u8ZWvfOX8Pn36nJWXl9dCR4CkSafT9UuXLh3/X//1Xw/84he/WKMjAABAEnUYVhsFXXb+MwEwAADwkZ1xxhntb7/99rMPPPDA8/Pz81vrCJDtmpqaqhcsWPDgd77znUcmTpzotC8AAJBoAmAAAGC3GD58eMkPf/jDzwwePPjioqKijjoCZJv6+voNr7322u9vvPHGx2fPnl2jIwAAQC4QAAMAALvV0KFDi++5556zDjnkkPOKioq66giwt9XV1a19/fXXH7z++uvHC34BAIBcIwAGAAD2iFatWuXdc889w0455ZTzO3bseJSOAHtYZsOGDbOmTJny4PXXX/9qbW1tWksAAIBcJAAGAAD2uH/913/tf/7555/dq1ev0/Ly8lroCLC7pNPp+pUrV05+4IEHHvnOd76zSEcAAIBcJwAGAAD2mjPOOKP97bfffvYBBxzw2YKCgjY6AuwqjY2NVW+++eafv/e97z06YcKETToCAAA0FwJgAABgrxs+fHjJ97///dGDBg0aU1paur+OAB9XdXX1wtdee+3Rr371q1Nfe+21Wh0BAACaGwEwAACQVb761a/ue8EFF3y6b9++ZxUUFLTWEeCDNDY2bnnrrbfG/+EPf5j4ox/9aLmOAAAAzZkAGAAAyEpDhw4t/sEPfnDy4MGDz27dunV/HQHerbq6+s2XX375weuuu+7ppUuXbtcRAAAAATAAAJDlCgsLU3ffffeQ0aNHn9G1a9fj8vLyinQFmq90Ol1XXl4+bcqUKROuvfbav+sIAADA/yYABgAAEqNPnz4t/v3f/33UyJEjz2rfvv2nIiKlK9AsZDZt2vTXF1544bGvfe1rzzntCwAA8N4EwAAAQCJddNFFXa6++uqTDzzwwLNbtmzZTUcg99TV1a1ZsGDBuJ/+9KdP3n///et0BAAA4IMJgAEAgETr1q1b4d13333k4YcffmqHDh2OyMvLK9QVSK50Ot2wcePGWbNmzZp8/fXXz6qoqGjUFQAAgA9PAAwAAOSMo48+uvWtt956/CGHHHJKu3btBkdEnq5AIqQrKytfmzdv3uQ777xz+owZM6q1BAAA4OMRAAMAADnpuOOOK/vGN75x/CGHHHJa27ZtB4bvBUO2yVRVVc2dN2/epO9///vTpk+fvkVLAAAAPjkBMAAAkPNuu+22vmedddZJffr0Oa5Vq1a9dQT2ntra2uXLly+f/uijjz51xx13vKUjAAAAu5YAGAAAaFa+9KUvdbv44ouP7t+//wlOBsMekamqqpq7cOHCv/z+97+fcd9995VrCQAAwO4jAAYAAJqtSy65pOtll112jDAYdrl0VVXVvIULF/7lV7/61bO/+93v1moJAADAniEABgAAiIirr766x/nnnz9q//33P7JNmzZDUqlUga7Ah5fJZBoqKyv/vnjx4uf+9Kc/zbr33ntX6woAAMCeJwAGAAB4l379+hV97WtfGzRy5MhRPXv2PLaoqKizrsD/VV9fv37VqlXPvPDCC8/9+7//+5zFixfX6woAAMDeJQAGAAB4H61bt8678847Bx599NFHde/efURpaen+4apomq/M1q1bF69Zs+bF5557btY3v/nNOdXV1WltAQAAyB4CYAAAgI9g8ODBrcaOHXvI8OHDD+vevfvw1q1bHxACYXJXprq6+s01a9a88sorr7z8k5/8ZN5rr71Wqy0AAADZSwAMAADwCVx//fX7nHHGGYf169dvePv27Yfm5+e31hWSrLGxsXrjxo2vvvXWWy+PHz/+lR//+McrdQUAACA5BMAAAAC70Je//OUe55xzzvA+ffoM7tix45CioqKuukI2q6+vX7t27doXFy9ePGfixImv3Xvvvat1BQAAILkEwAAAALvRl7/85R6f+cxnBvfr129Qly5dDm/ZsqVAmL2qrq5u7bp16wS+AAAAOUoADAAAsIe0atUq75prrtnn2GOPPXi//fY7uH379oeUlpb2TaVS+brDbpKuqalZtnHjxnlvvfXW3GeffXbef/3Xfy2vra1Naw0AAEBuEgADAADsRQceeGDLq6+++oAhQ4Yc3LNnz4Pbtm17sGuj+biampqqq6qqXi8vL583Z86ceb/85S/nvfjii1t1BgAAoPkQAAMAAGSZoUOHFn/xi1/cf9CgQQf26NHjwHbt2h3YqlWr3qlUKk932CFdU1OzvLKycsHq1asXzJkzZ8Gf//znJTNmzKjWGgAAgOZNAAwAAJAAxx13XNkFF1xw4MEHH3xA165dDywtLd23pKRkn1QqVag7uS2TyTRs27ZtRXV19dJ169YtfOONNxZOmDBh4YQJEzbpDgAAAO8mAAYAAEiw8847r+OJJ57Yp3///vt16dKlT5s2bfZr3bp1v/z8/GLdSZampqaa6urqxZs3b16ybt26pQsXLlzy9NNPL33ooYc26A4AAAAflgAYAAAgx7Rr1y7/kksu6TFkyJCe++67b89OnTr1Kisr61VcXNyzZcuW3VKpVL4u7R2ZTKaprq6uvKamZtWWLVtWVlRUrFy6dOnK2bNnr7r//vvXVFZWNukSAAAAn4QAGAAAoBnp1KlTwec+97luQ4cO7bnPPvv0aNeuXafWrVt3Li4u7tqyZcvORUVFnfLy8lro1MeTTqe319fXr6+rq6uoqalZW11dvb6ysnL9ihUrVr/66qurHnzwwbUVFRWNOgUAAMDuIgAGAADgfznjjDPaH3bYYZ369OnTuUuXLp3Kysral5SUtC0uLu5YVFTUrqioqG2LFi065OfnlzaXnjQ1NW3dvn37xvr6+qr6+vrKmpqaDdu2bavasmXLpnXr1lUsXbp0/Ysvvrh+4sSJlZ4gAAAA9iYBMAAAAB9Lr169CkeNGtXuoIMOatexY8ey9u3bl7Zp06Z1SUlJWXFxcetWrVq1btGiRVlRUVHrwsLC1hGRX1hYWBoR+QUFBSV5eXkFeXl5u/0/LtPpdG06nW5sbGzcFhFNDQ0NW3f83+r6+vrq7du3b6mtra2uqamp3rZtW/XmzZurN23aVL1hw4YtCxYsqJo1a1bl0qVLt5s4AAAASSAABgAAYK/q169fUffu3Vvss88+xSUlJQVv//8LCwtT3bp1+8BTxuXl5VsbGhoyb//vbdu2Na5YsaJmzZo12xcvXlyvwwAAADQn7xcAF2gPAAAAu9vixYvrdwS11boBAAAAu0+eFgAAAAAAAADkBgEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4o0AIAAAAAAACA5GhoLIyCxoaIiEilIpNXGE1v/0wADAAAAAAAAJAghQUN/0x6MxGppvT/5L6ugAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAIb/v5272ZHiusM4/FZ1NUkz9sQwOF4EyZJtpJCwysa5jSy4n1xPEqRIuQFvvfGSgIwBOzGRQAQERnx0d1UW0cgWGvKxsMGvnmfVdc7/1OJsf+oCAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoMY3JP//9K8My551lzpAk293a7QAAAAAAAAD8iIw3r+SL7TpPxuSt4/ibJJuz20QDBgAAAAAAAHhzrJPp6NvHYcyyjLl7dJTPbl/Jp6sPLufSsM+5ec7q5YOrF0OeP/SVaAAAAAAAAIA3weH7u6zfm79dWDIMSw6225w785vsx3XyzasOby5ssz69c4sAAAAAAAAAr9n69C6bC9sT93a7rKdnORin5Otxynzi1JQcfiwCAwAAAAAAALxO69O7HH68TaaT98cp85R8vbp3Nfszv8q0LHn7xMF1sjk/ZzUPmZ/MmWefhAYAAAAAAAD4oayPdjn7223Gn7x6ZrXPnetX8mBKkpv3cufDd/Pufn5FL56SzcVtNheT3dNt8tQlAwAAAAAAAHyv1sm0ySv/9XtsNWZ3I/lHkgzHi7/4XY7WYz5yiwAAAAAAAAA/Ivtcv/3nPEyS1fHa42t5+vNLyX7JoRsCAAAAAAAAePPt1/nbV3/KvePn1Xc371/NYxEYAAAAAAAA4M0yTHk2rvNo2WdzvHZqzN9v/SF3vju3evng/at5fPDLPDu1yuGyZHSVAAAAAAAAAK/XOGe4ueSvZ4e8M8xZbVe5ceuPufvy3Oqkw4+v5emDX+fuuTlLhhwsEYIBAAAAAAAAXpclGR8OuXP0TR4cPM/9z/+SRyfNDf/1TZezOp/87KdjzizJZkhO7edMy/w/nAUAAAAAAADg/zaMWcZkP8/ZLsmLacr2/MV8+cnvs/tP5/4FmLjAq1ifcioAAAAASUVORK5CYII=";function tt(t,e,n){return typeof t=="string"&&!isNaN(Number(t))&&(t=Number(t)),typeof t=="number"&&t<100?At(t):typeof t=="number"&&t>=100?t:typeof t=="string"&&t.includes("%")?Math.round(e&&e==="X"?parseFloat(t)/100*n.width:e&&e==="Y"?parseFloat(t)/100*n.height:parseFloat(t)/100*n.width):0}function rf(t){return t.replace(/[xy]/g,function(e){const n=Math.random()*16|0;return(e==="x"?n:n&3|8).toString(16)})}function $e(t){return typeof t>"u"||t==null?"":t.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function At(t){return typeof t=="number"&&t>100?t:(typeof t=="string"&&(t=Number(t.replace(/in*/gi,""))),Math.round(Xe*t))}function Ge(t){const e=Number(t)||0;return isNaN(e)?0:Math.round(e*Ld)}function Us(t){return t=t||0,Math.round((t>360?t-360:t)*6e4)}function wg(t){const e=t.toString(16);return e.length===1?"0"+e:e}function _g(t,e,n){return(wg(t)+wg(e)+wg(n)).toUpperCase()}function wt(t,e){let n=(t||"").replace("#","");!bg.test(n)&&n!==Nr.background1&&n!==Nr.background2&&n!==Nr.text1&&n!==Nr.text2&&n!==Nr.accent1&&n!==Nr.accent2&&n!==Nr.accent3&&n!==Nr.accent4&&n!==Nr.accent5&&n!==Nr.accent6&&(console.warn(`"${n}" is not a valid scheme color or hex RGB! "${gr}" used instead. Only provide 6-digit RGB or 'pptx.SchemeColor' values!`),n=gr);const r=bg.test(n)?"srgbClr":"schemeClr",i='val="'+(bg.test(n)?n.toUpperCase():n)+'"';return e?`<a:${r} ${i}>${e}</a:${r}>`:`<a:${r} ${i}/>`}function y9(t,e){let n="";const r=Object.assign(Object.assign({},e),t),i=Math.round(r.size*Ld),a=r.color,s=Math.round(r.opacity*1e5);return n+=`<a:glow rad="${i}">`,n+=wt(a,`<a:alpha val="${s}"/>`),n+="</a:glow>",n}function Dr(t){let e="solid",n="",r="",i="";if(t)switch(typeof t=="string"?n=t:(t.type&&(e=t.type),t.color&&(n=t.color),t.alpha&&(r+=`<a:alpha val="${Math.round((100-t.alpha)*1e3)}"/>`),t.transparency&&(r+=`<a:alpha val="${Math.round((100-t.transparency)*1e3)}"/>`)),e){case"solid":i+=`<a:solidFill>${wt(n,r)}</a:solidFill>`;break;default:i+="";break}return i}function Gi(t){return t._rels.length+t._relsChart.length+t._relsMedia.length+1}function Py(t){if(!(!t||typeof t!="object"))return t.type!=="outer"&&t.type!=="inner"&&t.type!=="none"&&(console.warn("Warning: shadow.type options are `outer`, `inner` or `none`."),t.type="outer"),t.angle&&((isNaN(Number(t.angle))||t.angle<0||t.angle>359)&&(console.warn("Warning: shadow.angle can only be 0-359"),t.angle=270),t.angle=Math.round(Number(t.angle))),t.opacity&&((isNaN(Number(t.opacity))||t.opacity<0||t.opacity>1)&&(console.warn("Warning: shadow.opacity can only be 0-1"),t.opacity=.75),t.opacity=Number(t.opacity)),t.color&&t.color.startsWith("#")&&(console.warn('Warning: shadow.color should not include hash (#) character, , e.g. "FF0000"'),t.color=t.color.replace("#","")),t}function x9(t,e,n){var r,i;const a=2.3+(!((r=t.options)===null||r===void 0)&&r.autoPageCharWeight?t.options.autoPageCharWeight:0),s=Math.floor(e/Ld*Xe)/((!((i=t.options)===null||i===void 0)&&i.fontSize?t.options.fontSize:Gr)/a),o=[];let l=[];const c=[],d=[];t.text&&t.text.toString().trim().length===0?l.push({_type:He.tablecell,text:" "}):typeof t.text=="number"||typeof t.text=="string"?l.push({_type:He.tablecell,text:(t.text||"").toString().trim()}):Array.isArray(t.text)&&(l=t.text);let h=[];return l.forEach(p=>{var m;typeof p.text=="string"&&(p.text.split(`
`).length>1?p.text.split(`
`).forEach(g=>{h.push({_type:He.tablecell,text:g,options:Object.assign(Object.assign({},p.options),{breakLine:!0})})}):h.push({_type:He.tablecell,text:p.text.trim(),options:p.options}),!((m=p.options)===null||m===void 0)&&m.breakLine&&(c.push(h),h=[])),h.length>0&&(c.push(h),h=[])}),c.forEach(p=>{p.forEach(m=>{const g=[],x=String(m.text).split(" ");x.forEach((v,y)=>{const b=Object.assign({},m.options);b!=null&&b.breakLine&&(b.breakLine=y+1===x.length),g.push({_type:He.tablecell,text:v+(y+1<x.length?" ":""),options:b})}),d.push(g)})}),d.forEach(p=>{let m=[],g="";p.forEach(A=>{g.length+A.text.length>s&&(o.push(m),m=[],g=""),m.push(A),g+=A.text.toString()}),m.length>0&&o.push(m)}),o}function AS(t=[],e={},n,r){let i=ad,a=Xe*1,s=Xe*1,o=0,l=0;const c=[],d=tt(e.x,"X",n),h=tt(e.y,"Y",n),p=tt(e.w,"X",n),m=tt(e.h,"Y",n);let g=p;function A(){let v=0;c.length===0&&(v=h||At(i[0])),c.length>0&&(v=At(e.autoPageSlideStartY||e.newSlideStartY||i[0])),s=(m||n.height)-v-At(i[2]),c.length>1&&(typeof e.autoPageSlideStartY=="number"?s=(m||n.height)-At(e.autoPageSlideStartY+i[2]):typeof e.newSlideStartY=="number"?s=(m||n.height)-At(e.newSlideStartY+i[2]):h&&(s=(m||n.height)-At((h/Xe<i[0]?h/Xe:i[0])+i[2]),s<m&&(s=m)))}if(e.verbose&&(console.log("[[VERBOSE MODE]]"),console.log("|-- TABLE PROPS --------------------------------------------------------|"),console.log(`| presLayout.width ................................ = ${(n.width/Xe).toFixed(1)}`),console.log(`| presLayout.height ............................... = ${(n.height/Xe).toFixed(1)}`),console.log(`| tableProps.x .................................... = ${typeof e.x=="number"?(e.x/Xe).toFixed(1):e.x}`),console.log(`| tableProps.y .................................... = ${typeof e.y=="number"?(e.y/Xe).toFixed(1):e.y}`),console.log(`| tableProps.w .................................... = ${typeof e.w=="number"?(e.w/Xe).toFixed(1):e.w}`),console.log(`| tableProps.h .................................... = ${typeof e.h=="number"?(e.h/Xe).toFixed(1):e.h}`),console.log(`| tableProps.slideMargin .......................... = ${e.slideMargin?String(e.slideMargin):""}`),console.log(`| tableProps.margin ............................... = ${String(e.margin)}`),console.log(`| tableProps.colW ................................. = ${String(e.colW)}`),console.log(`| tableProps.autoPageSlideStartY .................. = ${e.autoPageSlideStartY}`),console.log(`| tableProps.autoPageCharWeight ................... = ${e.autoPageCharWeight}`),console.log("|-- CALCULATIONS -------------------------------------------------------|"),console.log(`| tablePropX ...................................... = ${d/Xe}`),console.log(`| tablePropY ...................................... = ${h/Xe}`),console.log(`| tablePropW ...................................... = ${p/Xe}`),console.log(`| tablePropH ...................................... = ${m/Xe}`),console.log(`| tableCalcW ...................................... = ${g/Xe}`)),!e.slideMargin&&e.slideMargin!==0&&(e.slideMargin=ad[0]),r&&typeof r._margin<"u"?Array.isArray(r._margin)?i=r._margin:isNaN(Number(r._margin))||(i=[Number(r._margin),Number(r._margin),Number(r._margin),Number(r._margin)]):(e.slideMargin||e.slideMargin===0)&&(Array.isArray(e.slideMargin)?i=e.slideMargin:isNaN(e.slideMargin)||(i=[e.slideMargin,e.slideMargin,e.slideMargin,e.slideMargin])),e.verbose&&console.log(`| arrInchMargins .................................. = [${i.join(", ")}]`),(t[0]||[]).forEach(y=>{y||(y={_type:He.tablecell});const b=y.options||null;l+=Number(b!=null&&b.colspan?b.colspan:1)}),e.verbose&&console.log(`| numCols ......................................... = ${l}`),!p&&e.colW&&(g=Array.isArray(e.colW)?e.colW.reduce((v,y)=>v+y)*Xe:e.colW*l||0,e.verbose&&console.log(`| tableCalcW ...................................... = ${g/Xe}`)),a=g||At((d?d/Xe:i[1])+i[3]),e.verbose&&console.log(`| emuSlideTabW .................................... = ${(a/Xe).toFixed(1)}`),!e.colW||!Array.isArray(e.colW))if(e.colW&&!isNaN(Number(e.colW))){const v=[];(t[0]||[]).forEach(()=>v.push(e.colW)),e.colW=[],v.forEach(b=>{Array.isArray(e.colW)&&e.colW.push(b)})}else{e.colW=[];for(let v=0;v<l;v++)e.colW.push(a/Xe/l)}let x={rows:[]};return t.forEach((v,y)=>{const b=[];let k=0,S=0,L=[];v.forEach(D=>{var j,N,R,C;L.push({_type:He.tablecell,text:[],options:D.options}),D.options.margin&&D.options.margin[0]>=1?(!((j=D.options)===null||j===void 0)&&j.margin&&D.options.margin[0]&&Ge(D.options.margin[0])>k?k=Ge(D.options.margin[0]):e!=null&&e.margin&&e.margin[0]&&Ge(e.margin[0])>k&&(k=Ge(e.margin[0])),!((N=D.options)===null||N===void 0)&&N.margin&&D.options.margin[2]&&Ge(D.options.margin[2])>S?S=Ge(D.options.margin[2]):e!=null&&e.margin&&e.margin[2]&&Ge(e.margin[2])>S&&(S=Ge(e.margin[2]))):(!((R=D.options)===null||R===void 0)&&R.margin&&D.options.margin[0]&&At(D.options.margin[0])>k?k=At(D.options.margin[0]):e!=null&&e.margin&&e.margin[0]&&At(e.margin[0])>k&&(k=At(e.margin[0])),!((C=D.options)===null||C===void 0)&&C.margin&&D.options.margin[2]&&At(D.options.margin[2])>S?S=At(D.options.margin[2]):e!=null&&e.margin&&e.margin[2]&&At(e.margin[2])>S&&(S=At(e.margin[2])))}),A(),o+=k+S,e.verbose&&y===0&&console.log(`| SLIDE [${c.length}]: emuSlideTabH ...... = ${(s/Xe).toFixed(1)} `),v.forEach((D,j)=>{var N;const R={_type:He.tablecell,_lines:null,_lineHeight:At((!((N=D.options)===null||N===void 0)&&N.fontSize?D.options.fontSize:e.fontSize?e.fontSize:Gr)*(f9+(e.autoPageLineWeight?e.autoPageLineWeight:0))/100),text:[],options:D.options};R.options.rowspan&&(R._lineHeight=0),R.options.autoPageCharWeight=e.autoPageCharWeight?e.autoPageCharWeight:null;let C=e.colW[j];D.options.colspan&&Array.isArray(e.colW)&&(C=e.colW.filter((B,$)=>$>=j&&$<$+D.options.colspan).reduce((B,$)=>B+$)),R._lines=x9(D,C),b.push(R)}),e.verbose&&console.log(`
| SLIDE [${c.length}]: ROW [${y}]: START...`);let w=0,T=0,_=!1;for(;!_;){const D=b[w];let j=L[w];b.forEach(C=>{C._lineHeight>=T&&(T=C._lineHeight)}),o+T>s&&(e.verbose&&(console.log(`
|-----------------------------------------------------------------------|`),console.log(`|-- NEW SLIDE CREATED (currTabH+currLineH > maxH) => ${(o/Xe).toFixed(2)} + ${(D._lineHeight/Xe).toFixed(2)} > ${s/Xe}`),console.log(`|-----------------------------------------------------------------------|

`)),L.length>0&&L.map(B=>B.text.length).reduce((B,$)=>B+$)>0&&x.rows.push(L),c.push(x),x={rows:[]},L=[],v.forEach(B=>L.push({_type:He.tablecell,text:[],options:B.options})),A(),o+=k+S,e.verbose&&console.log(`| SLIDE [${c.length}]: emuSlideTabH ...... = ${(s/Xe).toFixed(1)} `),o=0,(e.addHeaderToEach||e.autoPageRepeatHeader)&&e._arrObjTabHeadRows&&e._arrObjTabHeadRows.forEach(B=>{const $=[];let J=0;B.forEach(ee=>{$.push(ee),ee._lineHeight>J&&(J=ee._lineHeight)}),x.rows.push($),o+=J}),j=L[w]);const N=D._lines.shift();Array.isArray(j.text)&&(N?j.text=j.text.concat(N):j.text.length===0&&(j.text=j.text.concat({_type:He.tablecell,text:""}))),w===b.length-1&&(o+=T),w=w<b.length-1?w+1:0,b.map(C=>C._lines.length).reduce((C,B)=>C+B)===0&&(_=!0)}L.length>0&&x.rows.push(L),e.verbose&&console.log(`- SLIDE [${c.length}]: ROW [${y}]: ...COMPLETE ...... emuTabCurrH = ${(o/Xe).toFixed(2)} ( emuSlideTabH = ${(s/Xe).toFixed(2)} )`)}),c.push(x),e.verbose&&(console.log(`
|================================================|`),console.log(`| FINAL: tableRowSlides.length = ${c.length}`),c.forEach(v=>console.log(v)),console.log(`|================================================|

`)),c}function b9(t,e,n={},r){const i=n||{};i.slideMargin=i.slideMargin||i.slideMargin===0?i.slideMargin:.5;let a=i.w||t.presLayout.width;const s=[],o=[],l=[],c=[],d=[];let h=[.5,.5,.5,.5],p=0;if(!document.getElementById(e))throw new Error('tableToSlides: Table ID "'+e+'" does not exist!');r!=null&&r._margin?(Array.isArray(r._margin)?h=r._margin:isNaN(r._margin)||(h=[r._margin,r._margin,r._margin,r._margin]),i.slideMargin=h):i!=null&&i.slideMargin&&(Array.isArray(i.slideMargin)?h=i.slideMargin:isNaN(i.slideMargin)||(h=[i.slideMargin,i.slideMargin,i.slideMargin,i.slideMargin])),a=(i.w?At(i.w):t.presLayout.width)-At(h[1]+h[3]),i.verbose&&(console.log("[[VERBOSE MODE]]"),console.log("|-- `tableToSlides` ----------------------------------------------------|"),console.log(`| tableProps.h .................................... = ${i.h}`),console.log(`| tableProps.w .................................... = ${i.w}`),console.log(`| pptx.presLayout.width ........................... = ${(t.presLayout.width/Xe).toFixed(1)}`),console.log(`| pptx.presLayout.height .......................... = ${(t.presLayout.height/Xe).toFixed(1)}`),console.log(`| emuSlideTabW .................................... = ${(a/Xe).toFixed(1)}`));let m=document.querySelectorAll(`#${e} tr:first-child th`);m.length===0&&(m=document.querySelectorAll(`#${e} tr:first-child td`)),m.forEach(A=>{const x=A;if(x.getAttribute("colspan"))for(let v=0;v<Number(x.getAttribute("colspan"));v++)d.push(Math.round(x.offsetWidth/Number(x.getAttribute("colspan"))));else d.push(x.offsetWidth)}),d.forEach(A=>{p+=A}),d.forEach((A,x)=>{const v=Number((Number(a)*(A/p*100)/100/Xe).toFixed(2));let y=0;const b=document.querySelector(`#${e} thead tr:first-child th:nth-child(${x+1})`);b&&(y=Number(b.getAttribute("data-pptx-min-width")));const k=document.querySelector(`#${e} thead tr:first-child th:nth-child(${x+1})`);k&&(y=Number(k.getAttribute("data-pptx-width"))),c.push(y>v?y:v)}),i.verbose&&console.log(`| arrColW ......................................... = [${c.join(", ")}]`),["thead","tbody","tfoot"].forEach(A=>{document.querySelectorAll(`#${e} ${A} tr`).forEach(x=>{const v=x,y=[];switch(Array.from(v.cells).forEach(b=>{const k=window.getComputedStyle(b).getPropertyValue("color").replace(/\s+/gi,"").replace("rgba(","").replace("rgb(","").replace(")","").split(",");let S=window.getComputedStyle(b).getPropertyValue("background-color").replace(/\s+/gi,"").replace("rgba(","").replace("rgb(","").replace(")","").split(",");(window.getComputedStyle(b).getPropertyValue("background-color")==="rgba(0, 0, 0, 0)"||window.getComputedStyle(b).getPropertyValue("transparent"))&&(S=["255","255","255"]);const L={align:null,bold:window.getComputedStyle(b).getPropertyValue("font-weight")==="bold"||Number(window.getComputedStyle(b).getPropertyValue("font-weight"))>=500,border:null,color:_g(Number(k[0]),Number(k[1]),Number(k[2])),fill:{color:_g(Number(S[0]),Number(S[1]),Number(S[2]))},fontFace:(window.getComputedStyle(b).getPropertyValue("font-family")||"").split(",")[0].replace(/"/g,"").replace("inherit","").replace("initial","")||null,fontSize:Number(window.getComputedStyle(b).getPropertyValue("font-size").replace(/[a-z]/gi,"")),margin:null,colspan:Number(b.getAttribute("colspan"))||null,rowspan:Number(b.getAttribute("rowspan"))||null,valign:null};if(["left","center","right","start","end"].includes(window.getComputedStyle(b).getPropertyValue("text-align"))){const w=window.getComputedStyle(b).getPropertyValue("text-align").replace("start","left").replace("end","right");L.align=w==="center"?"center":w==="left"?"left":w==="right"?"right":null}if(["top","middle","bottom"].includes(window.getComputedStyle(b).getPropertyValue("vertical-align"))){const w=window.getComputedStyle(b).getPropertyValue("vertical-align");L.valign=w==="top"?"top":w==="middle"?"middle":w==="bottom"?"bottom":null}window.getComputedStyle(b).getPropertyValue("padding-left")&&(L.margin=[0,0,0,0],["padding-top","padding-right","padding-bottom","padding-left"].forEach((T,_)=>{L.margin[_]=Math.round(Number(window.getComputedStyle(b).getPropertyValue(T).replace(/\D/gi,"")))})),(window.getComputedStyle(b).getPropertyValue("border-top-width")||window.getComputedStyle(b).getPropertyValue("border-right-width")||window.getComputedStyle(b).getPropertyValue("border-bottom-width")||window.getComputedStyle(b).getPropertyValue("border-left-width"))&&(L.border=[null,null,null,null],["top","right","bottom","left"].forEach((T,_)=>{const D=Math.round(Number(window.getComputedStyle(b).getPropertyValue("border-"+T+"-width").replace("px","")));let j=[];j=window.getComputedStyle(b).getPropertyValue("border-"+T+"-color").replace(/\s+/gi,"").replace("rgba(","").replace("rgb(","").replace(")","").split(",");const N=_g(Number(j[0]),Number(j[1]),Number(j[2]));L.border[_]={pt:D,color:N}})),y.push({_type:He.tablecell,text:b.innerText,options:L})}),A){case"thead":s.push(y);break;case"tbody":o.push(y);break;case"tfoot":l.push(y);break;default:console.log(`table parsing: unexpected table part: ${A}`);break}})}),i._arrObjTabHeadRows=s||null,i.colW=c,AS([...s,...o,...l],i,t.presLayout,r).forEach((A,x)=>{const v=t.addSlide({masterName:i.masterSlideName||null});x===0&&(i.y=i.y||h[0]),x>0&&(i.y=i.autoPageSlideStartY||i.newSlideStartY||h[0]),i.verbose&&console.log(`| opts.autoPageSlideStartY: ${i.autoPageSlideStartY} / arrInchMargins[0]: ${h[0]} => opts.y = ${i.y}`),v.addTable(A.rows,{x:i.x||h[3],y:i.y,w:Number(a)/Xe,colW:c,autoPage:!1}),i.addImage&&(i.addImage.options=i.addImage.options||{},!i.addImage.image||!i.addImage.image.path&&!i.addImage.image.data?console.warn("Warning: tableToSlides.addImage requires either `path` or `data`"):v.addImage({path:i.addImage.image.path,data:i.addImage.image.data,x:i.addImage.options.x,y:i.addImage.options.y,w:i.addImage.options.w,h:i.addImage.options.h})),i.addShape&&v.addShape(i.addShape.shapeName,i.addShape.options||{}),i.addTable&&v.addTable(i.addTable.rows,i.addTable.options||{}),i.addText&&v.addText(i.addText.text,i.addText.options||{})})}let w9=0;function _9(t,e){t.bkgd&&(e.bkgd=t.bkgd),t.objects&&Array.isArray(t.objects)&&t.objects.length>0&&t.objects.forEach((n,r)=>{const i=Object.keys(n)[0],a=e;Ia[i]&&i==="chart"?vS(a,n[i].type,n[i].data,n[i].opts):Ia[i]&&i==="image"?yS(a,n[i]):Ia[i]&&i==="line"?x0(a,ss.LINE,n[i]):Ia[i]&&i==="rect"?x0(a,ss.RECTANGLE,n[i]):Ia[i]&&i==="text"?gp(a,[{text:n[i].text}],n[i].options,!1):Ia[i]&&i==="placeholder"&&(n[i].options.placeholder=n[i].options.name,delete n[i].options.name,n[i].options._placeholderType=n[i].options.type,delete n[i].options.type,n[i].options._placeholderIdx=100+r,gp(a,[{text:n[i].text}],n[i].options,!0))}),t.slideNumber&&typeof t.slideNumber=="object"&&(e._slideNumberProps=t.slideNumber)}function vS(t,e,n,r){var i;function a(h){!h||h.style==="none"||(h.size!==void 0&&(isNaN(Number(h.size))||h.size<=0)&&(console.warn("Warning: chart.gridLine.size must be greater than 0."),delete h.size),h.style&&!["solid","dash","dot"].includes(h.style)&&(console.warn("Warning: chart.gridLine.style options: `solid`, `dash`, `dot`."),delete h.style),h.cap&&!["flat","square","round"].includes(h.cap)&&(console.warn("Warning: chart.gridLine.cap options: `flat`, `square`, `round`."),delete h.cap))}const s=++w9,o={_type:null,text:null,options:null,chartRid:null};let l=null,c=[];Array.isArray(e)?(e.forEach(h=>{c=c.concat(h.data)}),l=n||r):(c=n,l=r),c.forEach((h,p)=>{h._dataIndex=p,h.labels!==void 0&&!Array.isArray(h.labels[0])&&(h.labels=[h.labels])});const d=l&&typeof l=="object"?l:{};if(d._type=e,d.x=typeof d.x<"u"&&d.x!=null&&!isNaN(Number(d.x))?d.x:1,d.y=typeof d.y<"u"&&d.y!=null&&!isNaN(Number(d.y))?d.y:1,d.w=d.w||"50%",d.h=d.h||"50%",d.objectName=d.objectName?$e(d.objectName):`Chart ${t._slideObjects.filter(h=>h._type===He.chart).length}`,["bar","col"].includes(d.barDir||"")||(d.barDir="col"),d._type===_e.AREA&&(["stacked","standard","percentStacked"].includes(d.barGrouping||"")||(d.barGrouping="standard")),d._type===_e.BAR&&(["clustered","stacked","percentStacked"].includes(d.barGrouping||"")||(d.barGrouping="clustered")),d._type===_e.BAR3D&&(["clustered","stacked","standard","percentStacked"].includes(d.barGrouping||"")||(d.barGrouping="standard")),!((i=d.barGrouping)===null||i===void 0)&&i.includes("tacked")&&(d.barGapWidthPct||(d.barGapWidthPct=50)),d.dataLabelPosition&&((d._type===_e.AREA||d._type===_e.BAR3D||d._type===_e.DOUGHNUT||d._type===_e.RADAR)&&delete d.dataLabelPosition,d._type===_e.PIE&&(["bestFit","ctr","inEnd","outEnd"].includes(d.dataLabelPosition)||delete d.dataLabelPosition),(d._type===_e.BUBBLE||d._type===_e.BUBBLE3D||d._type===_e.LINE||d._type===_e.SCATTER)&&(["b","ctr","l","r","t"].includes(d.dataLabelPosition)||delete d.dataLabelPosition),d._type===_e.BAR&&(["stacked","percentStacked"].includes(d.barGrouping||"")||["ctr","inBase","inEnd"].includes(d.dataLabelPosition)||delete d.dataLabelPosition,["clustered"].includes(d.barGrouping||"")||["ctr","inBase","inEnd","outEnd"].includes(d.dataLabelPosition)||delete d.dataLabelPosition)),d.dataLabelBkgrdColors=d.dataLabelBkgrdColors||!d.dataLabelBkgrdColors?d.dataLabelBkgrdColors:!1,["b","l","r","t","tr"].includes(d.legendPos||"")||(d.legendPos="r"),["cone","coneToMax","box","cylinder","pyramid","pyramidToMax"].includes(d.bar3DShape||"")||(d.bar3DShape="box"),["circle","dash","diamond","dot","none","square","triangle"].includes(d.lineDataSymbol||"")||(d.lineDataSymbol="circle"),["gap","span"].includes(d.displayBlanksAs||"")||(d.displayBlanksAs="span"),["standard","marker","filled"].includes(d.radarStyle||"")||(d.radarStyle="standard"),d.lineDataSymbolSize=d.lineDataSymbolSize&&!isNaN(d.lineDataSymbolSize)?d.lineDataSymbolSize:6,d.lineDataSymbolLineSize=d.lineDataSymbolLineSize&&!isNaN(d.lineDataSymbolLineSize)?Ge(d.lineDataSymbolLineSize):Ge(.75),d.layout&&["x","y","w","h"].forEach(h=>{const p=d.layout[h];(isNaN(Number(p))||p<0||p>1)&&(console.warn("Warning: chart.layout."+h+" can only be 0-1"),delete d.layout[h])}),d.catGridLine=d.catGridLine||(d._type===_e.SCATTER?{color:"D9D9D9",size:1}:{style:"none"}),d.valGridLine=d.valGridLine||(d._type===_e.SCATTER?{color:"D9D9D9",size:1}:{}),d.serGridLine=d.serGridLine||(d._type===_e.SCATTER?{color:"D9D9D9",size:1}:{style:"none"}),a(d.catGridLine),a(d.valGridLine),a(d.serGridLine),Py(d.shadow),d.showDataTable=d.showDataTable||!d.showDataTable?d.showDataTable:!1,d.showDataTableHorzBorder=d.showDataTableHorzBorder||!d.showDataTableHorzBorder?d.showDataTableHorzBorder:!0,d.showDataTableVertBorder=d.showDataTableVertBorder||!d.showDataTableVertBorder?d.showDataTableVertBorder:!0,d.showDataTableOutline=d.showDataTableOutline||!d.showDataTableOutline?d.showDataTableOutline:!0,d.showDataTableKeys=d.showDataTableKeys||!d.showDataTableKeys?d.showDataTableKeys:!0,d.showLabel=d.showLabel||!d.showLabel?d.showLabel:!1,d.showLegend=d.showLegend||!d.showLegend?d.showLegend:!1,d.showPercent=d.showPercent||!d.showPercent?d.showPercent:!0,d.showTitle=d.showTitle||!d.showTitle?d.showTitle:!1,d.showValue=d.showValue||!d.showValue?d.showValue:!1,d.showLeaderLines=d.showLeaderLines||!d.showLeaderLines?d.showLeaderLines:!1,d.catAxisLineShow=typeof d.catAxisLineShow<"u"?d.catAxisLineShow:!0,d.valAxisLineShow=typeof d.valAxisLineShow<"u"?d.valAxisLineShow:!0,d.serAxisLineShow=typeof d.serAxisLineShow<"u"?d.serAxisLineShow:!0,d.v3DRotX=!isNaN(d.v3DRotX)&&d.v3DRotX>=-90&&d.v3DRotX<=90?d.v3DRotX:30,d.v3DRotY=!isNaN(d.v3DRotY)&&d.v3DRotY>=0&&d.v3DRotY<=360?d.v3DRotY:30,d.v3DRAngAx=d.v3DRAngAx||!d.v3DRAngAx?d.v3DRAngAx:!0,d.v3DPerspective=!isNaN(d.v3DPerspective)&&d.v3DPerspective>=0&&d.v3DPerspective<=240?d.v3DPerspective:30,d.barGapWidthPct=!isNaN(d.barGapWidthPct)&&d.barGapWidthPct>=0&&d.barGapWidthPct<=1e3?d.barGapWidthPct:150,d.barGapDepthPct=!isNaN(d.barGapDepthPct)&&d.barGapDepthPct>=0&&d.barGapDepthPct<=1e3?d.barGapDepthPct:150,d.chartColors=Array.isArray(d.chartColors)?d.chartColors:d._type===_e.PIE||d._type===_e.DOUGHNUT?A9:qc,d.chartColorsOpacity=d.chartColorsOpacity&&!isNaN(d.chartColorsOpacity)?d.chartColorsOpacity:null,d.border=d.border&&typeof d.border=="object"?d.border:null,d.border&&(!d.border.pt||isNaN(d.border.pt))&&(d.border.pt=Po.pt),d.border&&(!d.border.color||typeof d.border.color!="string")&&(d.border.color=Po.color),d.plotArea=d.plotArea||{},d.plotArea.border=d.plotArea.border&&typeof d.plotArea.border=="object"?d.plotArea.border:null,d.plotArea.border&&(!d.plotArea.border.pt||isNaN(d.plotArea.border.pt))&&(d.plotArea.border.pt=Po.pt),d.plotArea.border&&(!d.plotArea.border.color||typeof d.plotArea.border.color!="string")&&(d.plotArea.border.color=Po.color),d.border&&(d.plotArea.border=d.border),d.plotArea.fill=d.plotArea.fill||{color:null,transparency:null},d.fill&&(d.plotArea.fill.color=d.fill),d.chartArea=d.chartArea||{},d.chartArea.border=d.chartArea.border&&typeof d.chartArea.border=="object"?d.chartArea.border:null,d.chartArea.border&&(d.chartArea.border={color:d.chartArea.border.color||Po.color,pt:d.chartArea.border.pt||Po.pt}),d.chartArea.roundedCorners=typeof d.chartArea.roundedCorners=="boolean"?d.chartArea.roundedCorners:!0,d.dataBorder=d.dataBorder&&typeof d.dataBorder=="object"?d.dataBorder:null,d.dataBorder&&(!d.dataBorder.pt||isNaN(d.dataBorder.pt))&&(d.dataBorder.pt=.75),d.dataBorder&&d.dataBorder.color){const h=typeof d.dataBorder.color=="string"&&d.dataBorder.color.length===6&&/^[0-9A-Fa-f]{6}$/.test(d.dataBorder.color),p=Object.values(mp).includes(d.dataBorder.color);!h&&!p&&(d.dataBorder.color="F9F9F9")}return!d.dataLabelFormatCode&&d._type===_e.SCATTER&&(d.dataLabelFormatCode="General"),!d.dataLabelFormatCode&&(d._type===_e.PIE||d._type===_e.DOUGHNUT)&&(d.dataLabelFormatCode=d.showPercent?"0%":"General"),d.dataLabelFormatCode=d.dataLabelFormatCode&&typeof d.dataLabelFormatCode=="string"?d.dataLabelFormatCode:"#,##0",!d.dataLabelFormatScatter&&d._type===_e.SCATTER&&(d.dataLabelFormatScatter="custom"),d.lineSize=typeof d.lineSize=="number"?d.lineSize:2,d.valAxisMajorUnit=typeof d.valAxisMajorUnit=="number"?d.valAxisMajorUnit:null,d._type===_e.AREA||d._type===_e.BAR||d._type===_e.BAR3D||d._type===_e.LINE?d.catAxisMultiLevelLabels=!!d.catAxisMultiLevelLabels:delete d.catAxisMultiLevelLabels,o._type="chart",o.options=d,o.chartRid=Gi(t),t._relsChart.push({rId:Gi(t),data:c,opts:d,type:d._type,globalId:s,fileName:`chart${s}.xml`,Target:`/ppt/charts/chart${s}.xml`}),t._slideObjects.push(o),o}function yS(t,e){const n={_type:null,text:null,options:null,image:null,imageRid:null,hyperlink:null},r=e.x||0,i=e.y||0,a=e.w||0,s=e.h||0,o=e.sizing||null,l=e.hyperlink||"",c=e.data||"",d=e.path||"";let h=Gi(t);const p=e.objectName?$e(e.objectName):`Image ${t._slideObjects.filter(g=>g._type===He.image).length}`;if(!d&&!c)return console.error("ERROR: addImage() requires either 'data' or 'path' parameter!"),null;if(d&&typeof d!="string")return console.error(`ERROR: addImage() 'path' should be a string, ex: {path:'/img/sample.png'} - you sent ${String(d)}`),null;if(c&&typeof c!="string")return console.error(`ERROR: addImage() 'data' should be a string, ex: {data:'image/png;base64,NMP[...]'} - you sent ${String(c)}`),null;if(c&&typeof c=="string"&&!c.toLowerCase().includes("base64,"))return console.error("ERROR: Image `data` value lacks a base64 header! Ex: 'image/png;base64,NMP[...]')"),null;let m=(d.substring(d.lastIndexOf("/")+1).split("?")[0].split(".").pop().split("#")[0]||"png").toLowerCase();if(c&&/image\/(\w+);/.exec(c)&&/image\/(\w+);/.exec(c).length>0?m=/image\/(\w+);/.exec(c)[1]:c!=null&&c.toLowerCase().includes("image/svg+xml")&&(m="svg"),n._type=He.image,n.image=d||"preencoded.png",n.options={x:r||0,y:i||0,w:a||1,h:s||1,altText:e.altText||"",rounding:typeof e.rounding=="boolean"?e.rounding:!1,sizing:o,placeholder:e.placeholder,rotate:e.rotate||0,flipV:e.flipV||!1,flipH:e.flipH||!1,transparency:e.transparency||0,objectName:p,shadow:Py(e.shadow)},m==="svg")t._relsMedia.push({path:d||c+"png",type:"image/png",extn:"png",data:c||"",rId:h,Target:`../media/image-${t._slideNum}-${t._relsMedia.length+1}.png`,isSvgPng:!0,svgSize:{w:tt(n.options.w,"X",t._presLayout),h:tt(n.options.h,"Y",t._presLayout)}}),n.imageRid=h,t._relsMedia.push({path:d||c,type:"image/svg+xml",extn:m,data:c||"",rId:h+1,Target:`../media/image-${t._slideNum}-${t._relsMedia.length+1}.${m}`}),n.imageRid=h+1;else{const g=t._relsMedia.filter(A=>A.path&&A.path===d&&A.type==="image/"+m&&!A.isDuplicate)[0];t._relsMedia.push({path:d||"preencoded."+m,type:"image/"+m,extn:m,data:c||"",rId:h,isDuplicate:!!(g!=null&&g.Target),Target:g!=null&&g.Target?g.Target:`../media/image-${t._slideNum}-${t._relsMedia.length+1}.${m}`}),n.imageRid=h}if(typeof l=="object"){if(!l.url&&!l.slide)throw new Error("ERROR: `hyperlink` option requires either: `url` or `slide`");h++,t._rels.push({type:He.hyperlink,data:l.slide?"slide":"dummy",rId:h,Target:l.url||l.slide.toString()}),l._rId=h,n.hyperlink=l}t._slideObjects.push(n)}function C9(t,e){const n=e.x||0,r=e.y||0,i=e.w||2,a=e.h||2,s=e.data||"",o=e.link||"",l=e.path||"",c=e.type||"audio";let d="";const h=e.cover||v9,p=e.objectName?$e(e.objectName):`Media ${t._slideObjects.filter(g=>g._type===He.media).length}`,m={_type:He.media};if(!l&&!s&&c!=="online")throw new Error("addMedia() error: either `data` or `path` are required!");if(s&&!s.toLowerCase().includes("base64,"))throw new Error("addMedia() error: `data` value lacks a base64 header! Ex: 'video/mpeg;base64,NMP[...]')");if(!h.toLowerCase().includes("base64,"))throw new Error("addMedia() error: `cover` value lacks a base64 header! Ex: 'data:image/png;base64,iV[...]')");if(c==="online"&&!o)throw new Error("addMedia() error: online videos require `link` value");if(d=e.extn||(s?s.split(";")[0].split("/")[1]:l.split(".").pop())||"mp3",m.mtype=c,m.media=l||"preencoded.mov",m.options={},m.options.x=n,m.options.y=r,m.options.w=i,m.options.h=a,m.options.objectName=p,c==="online"){const g=Gi(t);t._relsMedia.push({path:l||"preencoded"+d,data:"dummy",type:"online",extn:d,rId:g,Target:o}),m.mediaRid=g,t._relsMedia.push({path:"preencoded.png",data:h,type:"image/png",extn:"png",rId:Gi(t),Target:`../media/image-${t._slideNum}-${t._relsMedia.length+1}.png`})}else{const g=t._relsMedia.filter(x=>x.path&&x.path===l&&x.type===c+"/"+d&&!x.isDuplicate)[0],A=Gi(t);t._relsMedia.push({path:l||"preencoded"+d,type:c+"/"+d,extn:d,data:s||"",rId:A,isDuplicate:!!(g!=null&&g.Target),Target:g!=null&&g.Target?g.Target:`../media/media-${t._slideNum}-${t._relsMedia.length+1}.${d}`}),m.mediaRid=A,t._relsMedia.push({path:l||"preencoded"+d,type:c+"/"+d,extn:d,data:s||"",rId:Gi(t),isDuplicate:!!(g!=null&&g.Target),Target:g!=null&&g.Target?g.Target:`../media/media-${t._slideNum}-${t._relsMedia.length+0}.${d}`}),t._relsMedia.push({path:"preencoded.png",type:"image/png",extn:"png",data:h,rId:Gi(t),Target:`../media/image-${t._slideNum}-${t._relsMedia.length+1}.png`})}t._slideObjects.push(m)}function E9(t,e){t._slideObjects.push({_type:He.notes,text:[{text:e}]})}function x0(t,e,n){const r=typeof n=="object"?n:{};r.line=r.line||{type:"none"};const i={_type:He.text,shape:e||ss.RECTANGLE,options:r,text:null};if(!e)throw new Error("Missing/Invalid shape parameter! Example: `addShape(pptxgen.shapes.LINE, {x:1, y:1, w:1, h:1});`");const a={type:r.line.type||"solid",color:r.line.color||pS,transparency:r.line.transparency||0,width:r.line.width||1,dashType:r.line.dashType||"solid",beginArrowType:r.line.beginArrowType||null,endArrowType:r.line.endArrowType||null};if(typeof r.line=="object"&&r.line.type!=="none"&&(r.line=a),r.x=r.x||(r.x===0?0:1),r.y=r.y||(r.y===0?0:1),r.w=r.w||(r.w===0?0:1),r.h=r.h||(r.h===0?0:1),r.objectName=r.objectName?$e(r.objectName):`Shape ${t._slideObjects.filter(s=>s._type===He.text).length}`,typeof r.line=="string"){const s=a;s.color=String(r.line),r.line=s}typeof r.lineSize=="number"&&(r.line.width=r.lineSize),typeof r.lineDash=="string"&&(r.line.dashType=r.lineDash),typeof r.lineHead=="string"&&(r.line.beginArrowType=r.lineHead),typeof r.lineTail=="string"&&(r.line.endArrowType=r.lineTail),Vl(t,i),t._slideObjects.push(i)}function T9(t,e,n,r,i,a,s){const o=[t],l=n&&typeof n=="object"?n:{};l.objectName=l.objectName?$e(l.objectName):`Table ${t._slideObjects.filter(p=>p._type===He.table).length}`;{if(e===null||e.length===0||!Array.isArray(e))throw new Error("addTable: Array expected! EX: 'slide.addTable( [rows], {options} );' (https://gitbrent.github.io/PptxGenJS/docs/api-tables.html)");if(!e[0]||!Array.isArray(e[0]))throw new Error("addTable: 'rows' should be an array of cells! EX: 'slide.addTable( [ ['A'], ['B'], {text:'C',options:{align:'center'}} ] );' (https://gitbrent.github.io/PptxGenJS/docs/api-tables.html)")}const c=[];e.forEach(p=>{const m=[];Array.isArray(p)?p.forEach(g=>{const A={_type:He.tablecell,text:"",options:typeof g=="object"&&g.options?g.options:{}};typeof g=="string"||typeof g=="number"?A.text=g.toString():g.text&&(typeof g.text=="string"||typeof g.text=="number"?A.text=g.text.toString():g.text&&(A.text=g.text),g.options&&typeof g.options=="object"&&(A.options=g.options)),A.options.border=A.options.border||l.border||[{type:"none"},{type:"none"},{type:"none"},{type:"none"}];const x=A.options.border;!Array.isArray(x)&&typeof x=="object"&&(A.options.border=[x,x,x,x]),A.options.border[0]||(A.options.border[0]={type:"none"}),A.options.border[1]||(A.options.border[1]={type:"none"}),A.options.border[2]||(A.options.border[2]={type:"none"}),A.options.border[3]||(A.options.border[3]={type:"none"}),[0,1,2,3].forEach(y=>{A.options.border[y]={type:A.options.border[y].type||Ro.type,color:A.options.border[y].color||Ro.color,pt:typeof A.options.border[y].pt=="number"?A.options.border[y].pt:Ro.pt}}),m.push(A)}):(console.log("addTable: tableRows has a bad row. A row should be an array of cells. You provided:"),console.log(p)),c.push(m)}),l.x=tt(l.x||(l.x===0?0:Xe/2),"X",i),l.y=tt(l.y||(l.y===0?0:Xe/2),"Y",i),l.h&&(l.h=tt(l.h,"Y",i)),l.fontSize=l.fontSize||Gr,l.margin=l.margin===0||l.margin?l.margin:fS,typeof l.margin=="number"&&(l.margin=[Number(l.margin),Number(l.margin),Number(l.margin),Number(l.margin)]),JSON.stringify({arrRows:c}).indexOf("hyperlink")===-1&&(l.color||(l.color=l.color||gr)),typeof l.border=="string"?(console.warn("addTable `border` option must be an object. Ex: `{border: {type:'none'}}`"),l.border=null):Array.isArray(l.border)&&[0,1,2,3].forEach(p=>{l.border[p]=l.border[p]?{type:l.border[p].type||Ro.type,color:l.border[p].color||Ro.color,pt:l.border[p].pt||Ro.pt}:{type:"none"}}),l.autoPage=typeof l.autoPage=="boolean"?l.autoPage:!1,l.autoPageRepeatHeader=typeof l.autoPageRepeatHeader=="boolean"?l.autoPageRepeatHeader:!1,l.autoPageHeaderRows=typeof l.autoPageHeaderRows<"u"&&!isNaN(Number(l.autoPageHeaderRows))?Number(l.autoPageHeaderRows):1,l.autoPageLineWeight=typeof l.autoPageLineWeight<"u"&&!isNaN(Number(l.autoPageLineWeight))?Number(l.autoPageLineWeight):0,l.autoPageLineWeight&&(l.autoPageLineWeight>1?l.autoPageLineWeight=1:l.autoPageLineWeight<-1&&(l.autoPageLineWeight=-1));let d=ad;if(r&&typeof r._margin<"u"&&(Array.isArray(r._margin)?d=r._margin:isNaN(Number(r._margin))||(d=[Number(r._margin),Number(r._margin),Number(r._margin),Number(r._margin)])),l.colW){const p=c[0].reduce((m,g)=>{var A;return!((A=g==null?void 0:g.options)===null||A===void 0)&&A.colspan&&typeof g.options.colspan=="number"?m+=g.options.colspan:m+=1,m},0);typeof l.colW=="string"||typeof l.colW=="number"||l.colW&&Array.isArray(l.colW)&&l.colW.length===1&&p>1?(l.w=Math.floor(Number(l.colW)*p),l.colW=null):l.colW&&Array.isArray(l.colW)&&l.colW.length!==p&&(console.warn("addTable: mismatch: (colW.length != data.length) Therefore, defaulting to evenly distributed col widths."),l.colW=null)}else l.w?l.w=tt(l.w,"X",i):l.w=Math.floor(i._sizeW/Xe-d[1]-d[3]);l.x&&l.x<20&&(l.x=At(l.x)),l.y&&l.y<20&&(l.y=At(l.y)),l.w&&typeof l.w=="number"&&l.w<20&&(l.w=At(l.w)),l.h&&typeof l.h=="number"&&l.h<20&&(l.h=At(l.h)),c.forEach(p=>{p.forEach((m,g)=>{typeof m=="number"||typeof m=="string"?p[g]={_type:He.tablecell,text:String(p[g]),options:l}:typeof m=="object"&&(typeof m.text=="number"?p[g].text=p[g].text.toString():(typeof m.text>"u"||m.text===null)&&(p[g].text=""),p[g].options=m.options||{},p[g]._type=He.tablecell)})});const h=[];return l&&!l.autoPage?(Vl(t,c),t._slideObjects.push({_type:He.table,arrTabRows:c,options:Object.assign({},l)})):(l.autoPageRepeatHeader&&(l._arrObjTabHeadRows=c.filter((p,m)=>m<l.autoPageHeaderRows)),AS(c,l,i,r).forEach((p,m)=>{s(t._slideNum+m)||o.push(a({masterName:(r==null?void 0:r._name)||null})),m>0&&(l.y=At(l.autoPageSlideStartY||l.newSlideStartY||d[0]));{const g=s(t._slideNum+m);l.autoPage=!1,Vl(g,p.rows),g.addTable(p.rows,Object.assign({},l)),m>0&&h.push(g)}})),h}function gp(t,e,n,r){const i={_type:r?He.placeholder:He.text,shape:(n==null?void 0:n.shape)||ss.RECTANGLE,text:!e||e.length===0?[{text:"",options:null}]:e,options:n||{}};function a(s){{if(s.placeholder||(s.color=s.color||i.options.color||t.color||gr),(s.placeholder||r)&&(s.bullet=s.bullet||!1),s.placeholder&&t._slideLayout&&t._slideLayout._slideObjects){const o=t._slideLayout._slideObjects.filter(l=>l._type==="placeholder"&&l.options&&l.options.placeholder&&l.options.placeholder===s.placeholder)[0];o!=null&&o.options&&(s=Object.assign(Object.assign({},s),o.options))}if(s.objectName=s.objectName?$e(s.objectName):`Text ${t._slideObjects.filter(o=>o._type===He.text).length}`,s.shape===ss.LINE){const o={type:s.line.type||"solid",color:s.line.color||pS,transparency:s.line.transparency||0,width:s.line.width||1,dashType:s.line.dashType||"solid",beginArrowType:s.line.beginArrowType||null,endArrowType:s.line.endArrowType||null};if(typeof s.line=="object"&&(s.line=o),typeof s.line=="string"){const l=o;typeof s.line=="string"&&(l.color=s.line),s.line=l}typeof s.lineSize=="number"&&(s.line.width=s.lineSize),typeof s.lineDash=="string"&&(s.line.dashType=s.lineDash),typeof s.lineHead=="string"&&(s.line.beginArrowType=s.lineHead),typeof s.lineTail=="string"&&(s.line.endArrowType=s.lineTail)}s.line=s.line||{},s.lineSpacing=s.lineSpacing&&!isNaN(s.lineSpacing)?s.lineSpacing:null,s.lineSpacingMultiple=s.lineSpacingMultiple&&!isNaN(s.lineSpacingMultiple)?s.lineSpacingMultiple:null,s._bodyProp=s._bodyProp||{},s._bodyProp.autoFit=s.autoFit||!1,s._bodyProp.anchor=s.placeholder?null:il.ctr,s._bodyProp.vert=s.vert||null,s._bodyProp.wrap=typeof s.wrap=="boolean"?s.wrap:!0,(s.inset&&!isNaN(Number(s.inset))||s.inset===0)&&(s._bodyProp.lIns=At(s.inset),s._bodyProp.rIns=At(s.inset),s._bodyProp.tIns=At(s.inset),s._bodyProp.bIns=At(s.inset)),typeof s.underline=="boolean"&&s.underline===!0&&(s.underline={style:"sng"})}return(s.align||"").toLowerCase().indexOf("c")===0?s._bodyProp.align=rl.center:(s.align||"").toLowerCase().indexOf("l")===0?s._bodyProp.align=rl.left:(s.align||"").toLowerCase().indexOf("r")===0?s._bodyProp.align=rl.right:(s.align||"").toLowerCase().indexOf("j")===0&&(s._bodyProp.align=rl.justify),(s.valign||"").toLowerCase().indexOf("b")===0?s._bodyProp.anchor=il.b:(s.valign||"").toLowerCase().indexOf("m")===0?s._bodyProp.anchor=il.ctr:(s.valign||"").toLowerCase().indexOf("t")===0&&(s._bodyProp.anchor=il.t),Py(s.shadow),s}i.options=a(i.options),i.text.forEach(s=>s.options=a(s.options||{})),Vl(t,i.text||""),t._slideObjects.push(i)}function I9(t){(t._slideLayout._slideObjects||[]).forEach(e=>{e._type===He.placeholder&&t._slideObjects.filter(n=>n.options&&n.options.placeholder===e.options.placeholder).length===0&&gp(t,[{text:""}],e.options,!1)})}function xS(t,e){var n;if(e.bkgd&&(e.background||(e.background={}),typeof e.bkgd=="string"?e.background.color=e.bkgd:(e.bkgd.data&&(e.background.data=e.bkgd.data),e.bkgd.path&&(e.background.path=e.bkgd.path),e.bkgd.src&&(e.background.path=e.bkgd.src))),!((n=e.background)===null||n===void 0)&&n.fill&&(e.background.color=e.background.fill),t&&(t.path||t.data)){t.path=t.path||"preencoded.png";let r=(t.path.split(".").pop()||"png").split("?")[0];r==="jpg"&&(r="jpeg"),e._relsMedia=e._relsMedia||[];const i=e._relsMedia.length+1;e._relsMedia.push({path:t.path,type:He.image,extn:r,data:t.data||null,rId:i,Target:`../media/${(e._name||"").replace(/\s+/gi,"-")}-image-${e._relsMedia.length+1}.${r}`}),e._bkgdImgRid=i}}function Vl(t,e,n){let r=[];typeof e=="string"||typeof e=="number"||(Array.isArray(e)?r=e:typeof e=="object"&&(r=[e]),r.forEach((i,a)=>{if(n&&n[a]&&n[a].hyperlink&&(i.options=Object.assign(Object.assign({},i.options),n[a])),Array.isArray(i)){const s=[];i.forEach(o=>{o.options&&!o.text.options&&s.push(o.options)}),Vl(t,i,s)}else if(Array.isArray(i.text))Vl(t,i.text,n&&n[a]?[n[a]]:void 0);else if(i&&typeof i=="object"&&i.options&&i.options.hyperlink&&!i.options.hyperlink._rId)if(typeof i.options.hyperlink!="object")console.log("ERROR: text `hyperlink` option should be an object. Ex: `hyperlink: {url:'https://github.com'}` ");else if(!i.options.hyperlink.url&&!i.options.hyperlink.slide)console.log("ERROR: 'hyperlink requires either: `url` or `slide`'");else{const s=Gi(t);t._rels.push({type:He.hyperlink,data:i.options.hyperlink.slide?"slide":"dummy",rId:s,Target:$e(i.options.hyperlink.url)||i.options.hyperlink.slide.toString()}),i.options.hyperlink._rId=s}else i&&typeof i=="object"&&i.options&&i.options.hyperlink&&i.options.hyperlink._rId&&t._rels.filter(s=>s.rId===i.options.hyperlink._rId).length===0&&t._rels.push({type:He.hyperlink,data:i.options.hyperlink.slide?"slide":"dummy",rId:i.options.hyperlink._rId,Target:$e(i.options.hyperlink.url)||i.options.hyperlink.slide.toString()})}))}class N9{constructor(e){var n;this.addSlide=e.addSlide,this.getSlide=e.getSlide,this._name=`Slide ${e.slideNumber}`,this._presLayout=e.presLayout,this._rId=e.slideRId,this._rels=[],this._relsChart=[],this._relsMedia=[],this._setSlideNum=e.setSlideNum,this._slideId=e.slideId,this._slideLayout=e.slideLayout||null,this._slideNum=e.slideNumber,this._slideObjects=[],this._slideNumberProps=!((n=this._slideLayout)===null||n===void 0)&&n._slideNumberProps?this._slideLayout._slideNumberProps:null}set bkgd(e){this._bkgd=e,(!this._background||!this._background.color)&&(this._background||(this._background={}),typeof e=="string"&&(this._background.color=e))}get bkgd(){return this._bkgd}set background(e){this._background=e,e&&xS(e,this)}get background(){return this._background}set color(e){this._color=e}get color(){return this._color}set hidden(e){this._hidden=e}get hidden(){return this._hidden}set slideNumber(e){this._slideNumberProps=e,this._setSlideNum(e)}get slideNumber(){return this._slideNumberProps}get newAutoPagedSlides(){return this._newAutoPagedSlides}addChart(e,n,r){const i=r||{};return i._type=e,vS(this,e,n,r),this}addImage(e){return yS(this,e),this}addMedia(e){return C9(this,e),this}addNotes(e){return E9(this,e),this}addShape(e,n){return x0(this,e,n),this}addTable(e,n){return this._newAutoPagedSlides=T9(this,e,n,this._slideLayout,this._presLayout,this.addSlide,this.getSlide),this}addText(e,n){return gp(this,typeof e=="string"||typeof e=="number"?[{text:e,options:n}]:e,n,!1),this}}function S9(t,e){return kr(this,void 0,void 0,function*(){const n=t.data;return yield new Promise((r,i)=>{var a,s;const o=new hS,l=(n.length-1)*2+1,c=((s=(a=n[0])===null||a===void 0?void 0:a.labels)===null||s===void 0?void 0:s.length)>1;o.folder("_rels"),o.folder("docProps"),o.folder("xl/_rels"),o.folder("xl/tables"),o.folder("xl/theme"),o.folder("xl/worksheets"),o.folder("xl/worksheets/_rels"),o.file("[Content_Types].xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">  <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>  <Default Extension="xml" ContentType="application/xml"/>  <Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/>  <Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>  <Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/>  <Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/>  <Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/>  <Override PartName="/xl/tables/table1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"/>  <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/>  <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/></Types>
`),o.file("_rels/.rels",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>
`),o.file("docProps/app.xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Macintosh Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>1</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="1" baseType="lpstr"><vt:lpstr>Sheet1</vt:lpstr></vt:vector></TitlesOfParts><Company></Company><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>16.0300</AppVersion></Properties>
`),o.file("docProps/core.xml",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>PptxGenJS</dc:creator><cp:lastModifiedBy>PptxGenJS</cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">'+new Date().toISOString()+'</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">'+new Date().toISOString()+"</dcterms:modified></cp:coreProperties>"),o.file("xl/_rels/workbook.xml.rels",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/><Relationship Id="rId4" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml"/></Relationships>'),o.file("xl/styles.xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"><numFmts count="1"><numFmt numFmtId="0" formatCode="General"/></numFmts><fonts count="4"><font><sz val="9"/><color indexed="8"/><name val="Geneva"/></font><font><sz val="9"/><color indexed="8"/><name val="Geneva"/></font><font><sz val="10"/><color indexed="8"/><name val="Geneva"/></font><font><sz val="18"/><color indexed="8"/><name val="Arial"/></font></fonts><fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><dxfs count="0"/><tableStyles count="0"/><colors><indexedColors><rgbColor rgb="ff000000"/><rgbColor rgb="ffffffff"/><rgbColor rgb="ffff0000"/><rgbColor rgb="ff00ff00"/><rgbColor rgb="ff0000ff"/><rgbColor rgb="ffffff00"/><rgbColor rgb="ffff00ff"/><rgbColor rgb="ff00ffff"/><rgbColor rgb="ff000000"/><rgbColor rgb="ffffffff"/><rgbColor rgb="ff878787"/><rgbColor rgb="fff9f9f9"/></indexedColors></colors></styleSheet>
`),o.file("xl/theme/theme1.xml",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="44546A"/></a:dk2><a:lt2><a:srgbClr val="E7E6E6"/></a:lt2><a:accent1><a:srgbClr val="4472C4"/></a:accent1><a:accent2><a:srgbClr val="ED7D31"/></a:accent2><a:accent3><a:srgbClr val="A5A5A5"/></a:accent3><a:accent4><a:srgbClr val="FFC000"/></a:accent4><a:accent5><a:srgbClr val="5B9BD5"/></a:accent5><a:accent6><a:srgbClr val="70AD47"/></a:accent6><a:hlink><a:srgbClr val="0563C1"/></a:hlink><a:folHlink><a:srgbClr val="954F72"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Calibri Light" panose="020F0302020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="Yu Gothic Light"/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface="DengXian Light"/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:majorFont><a:minorFont><a:latin typeface="Calibri" panose="020F0502020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="Yu Gothic"/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface="DengXian"/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:lumMod val="110000"/><a:satMod val="105000"/><a:tint val="67000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="103000"/><a:tint val="73000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="109000"/><a:tint val="81000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:satMod val="103000"/><a:lumMod val="102000"/><a:tint val="94000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:satMod val="110000"/><a:lumMod val="100000"/><a:shade val="100000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="99000"/><a:satMod val="120000"/><a:shade val="78000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="6350" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="12700" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="19050" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="57150" dist="19050" dir="5400000" algn="ctr" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="63000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:solidFill><a:schemeClr val="phClr"><a:tint val="95000"/><a:satMod val="170000"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="93000"/><a:satMod val="150000"/><a:shade val="98000"/><a:lumMod val="102000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:tint val="98000"/><a:satMod val="130000"/><a:shade val="90000"/><a:lumMod val="103000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="63000"/><a:satMod val="120000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri="{05A4C25C-085E-4340-85A3-A5531E510DB2}"><thm15:themeFamily xmlns:thm15="http://schemas.microsoft.com/office/thememl/2012/main" name="Office Theme" id="{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}" vid="{4A3C46E8-61CC-4603-A589-7422A47A8E4A}"/></a:ext></a:extLst></a:theme>'),o.file("xl/workbook.xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x15" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><fileVersion appName="xl" lastEdited="7" lowestEdited="6" rupBuild="10507"/><workbookPr/><bookViews><workbookView xWindow="0" yWindow="500" windowWidth="20960" windowHeight="15960"/></bookViews><sheets><sheet name="Sheet1" sheetId="1" r:id="rId1"/></sheets><calcPr calcId="0" concurrentCalc="0"/></workbook>
`),o.file("xl/worksheets/_rels/sheet1.xml.rels",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/table" Target="../tables/table1.xml"/></Relationships>
`);{let d='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>';if(t.opts._type===_e.BUBBLE||t.opts._type===_e.BUBBLE3D)d+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${l}" uniqueCount="${l}">`;else if(t.opts._type===_e.SCATTER)d+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${n.length}" uniqueCount="${n.length}">`;else if(c){let h=n.length;n[0].labels.forEach(p=>h+=p.filter(m=>m&&m!=="").length),d+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${h}" uniqueCount="${h}">`,d+="<si><t/></si>"}else{const h=n.length+n[0].labels.length*n[0].labels[0].length+n[0].labels.length,p=n.length+n[0].labels.length*n[0].labels[0].length+1;d+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${h}" uniqueCount="${p}">`,d+='<si><t xml:space="preserve"></t></si>'}t.opts._type===_e.BUBBLE||t.opts._type===_e.BUBBLE3D?n.forEach((h,p)=>{p===0?d+="<si><t>X-Axis</t></si>":(d+=`<si><t>${$e(h.name||`Y-Axis${p}`)}</t></si>`,d+=`<si><t>${$e(`Size${p}`)}</t></si>`)}):n.forEach(h=>{d+=`<si><t>${$e((h.name||" ").replace("X-Axis","X-Values"))}</t></si>`}),t.opts._type!==_e.BUBBLE&&t.opts._type!==_e.BUBBLE3D&&t.opts._type!==_e.SCATTER&&n[0].labels.slice().reverse().forEach(h=>{h.filter(p=>p&&p!=="").forEach(p=>{d+=`<si><t>${$e(p)}</t></si>`})}),d+=`</sst>
`,o.file("xl/sharedStrings.xml",d)}{let d='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>';if(t.opts._type===_e.BUBBLE||t.opts._type===_e.BUBBLE3D){d+=`<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="A1:${Dt(l)}${l}" totalsRowShown="0">`,d+=`<tableColumns count="${l}">`;let h=1;n.forEach((p,m)=>{m===0?d+=`<tableColumn id="${m+1}" name="X-Values"/>`:(d+=`<tableColumn id="${m+h}" name="${p.name}"/>`,h++,d+=`<tableColumn id="${m+h}" name="Size${m}"/>`)})}else t.opts._type===_e.SCATTER?(d+=`<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="A1:${Dt(n.length)}${n[0].values.length+1}" totalsRowShown="0">`,d+=`<tableColumns count="${n.length}">`,n.forEach((h,p)=>{d+=`<tableColumn id="${p+1}" name="${p===0?"X-Values":"Y-Value "}${p}"/>`})):(d+=`<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="A1:${Dt(n.length+n[0].labels.length)}${n[0].labels[0].length+1}'" totalsRowShown="0">`,d+=`<tableColumns count="${n.length+n[0].labels.length}">`,n[0].labels.forEach((h,p)=>{d+=`<tableColumn id="${p+1}" name="Column${p+1}"/>`}),n.forEach((h,p)=>{d+=`<tableColumn id="${p+n[0].labels.length+1}" name="${$e(h.name)}"/>`}));d+="</tableColumns>",d+='<tableStyleInfo showFirstColumn="0" showLastColumn="0" showRowStripes="1" showColumnStripes="0"/>',d+="</table>",o.file("xl/tables/table1.xml",d)}{let d='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>';if(d+='<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">',t.opts._type===_e.BUBBLE||t.opts._type===_e.BUBBLE3D?d+=`<dimension ref="A1:${Dt(l)}${n[0].values.length+1}"/>`:t.opts._type===_e.SCATTER?d+=`<dimension ref="A1:${Dt(n.length)}${n[0].values.length+1}"/>`:d+=`<dimension ref="A1:${Dt(n.length+1)}${n[0].values.length+1}"/>`,d+='<sheetViews><sheetView tabSelected="1" workbookViewId="0"><selection activeCell="B1" sqref="B1"/></sheetView></sheetViews>',d+='<sheetFormatPr baseColWidth="10" defaultRowHeight="16"/>',t.opts._type===_e.BUBBLE||t.opts._type===_e.BUBBLE3D){d+="<sheetData>",d+=`<row r="1" spans="1:${l}">`,d+='<c r="A1" t="s"><v>0</v></c>';for(let h=1;h<l;h++)d+=`<c r="${Dt(h+1)}1" t="s"><v>${h}</v></c>`;d+="</row>",n[0].values.forEach((h,p)=>{d+=`<row r="${p+2}" spans="1:${l}">`,d+=`<c r="A${p+2}"><v>${h}</v></c>`;let m=2;for(let g=1;g<n.length;g++)d+=`<c r="${Dt(m)}${p+2}"><v>${n[g].values[p]||""}</v></c>`,m++,d+=`<c r="${Dt(m)}${p+2}"><v>${n[g].sizes[p]||""}</v></c>`,m++;d+="</row>"})}else if(t.opts._type===_e.SCATTER){d+="<sheetData>",d+=`<row r="1" spans="1:${n.length}">`;for(let h=0;h<n.length;h++)d+=`<c r="${Dt(h+1)}1" t="s"><v>${h}</v></c>`;d+="</row>",n[0].values.forEach((h,p)=>{d+=`<row r="${p+2}" spans="1:${n.length}">`,d+=`<c r="A${p+2}"><v>${h}</v></c>`;for(let m=1;m<n.length;m++)d+=`<c r="${Dt(m+1)}${p+2}"><v>${n[m].values[p]||n[m].values[p]===0?n[m].values[p]:""}</v></c>`;d+="</row>"})}else if(d+="<sheetData>",c){d+=`<row r="1" spans="1:${n.length+n[0].labels.length}">`;for(let g=0;g<n[0].labels.length;g++)d+=`<c r="${Dt(g+1)}1" t="s"><v>0</v></c>`;for(let g=n[0].labels.length-1;g<n.length+n[0].labels.length-1;g++)d+=`<c r="${Dt(g+n[0].labels.length)}1" t="s"><v>${g}</v></c>`;d+="</row>";const h=n.length,p=n[0].labels[0].length,m=n[0].labels.length;for(let g=0;g<p;g++){d+=`<row r="${g+2}" spans="1:${h+m}">`;let A=h;const x=n[0].labels.slice().reverse();x.forEach((v,y)=>{if(v[g]){const k=y===0?1:x[y-1].filter(S=>S&&S!=="").length;A+=k,d+=`<c r="${Dt(g+1+y)}${g+2}" t="s"><v>${A}</v></c>`}});for(let v=0;v<h;v++)d+=`<c r="${Dt(m+v+1)}${g+2}"><v>${n[v].values[g]||0}</v></c>`;d+="</row>"}}else{d+=`<row r="1" spans="1:${n.length+n[0].labels.length}">`,n[0].labels.forEach((h,p)=>{d+=`<c r="${Dt(p+1)}1" t="s"><v>0</v></c>`});for(let h=0;h<n.length;h++)d+=`<c r="${Dt(h+1+n[0].labels.length)}1" t="s"><v>${h+1}</v></c>`;d+="</row>",n[0].labels[0].forEach((h,p)=>{d+=`<row r="${p+2}" spans="1:${n.length+n[0].labels.length}">`;for(let m=n[0].labels.length-1;m>=0;m--)d+=`<c r="${Dt(n[0].labels.length-m)}${p+2}" t="s">`,d+=`<v>${n.length+p+1}</v>`,d+="</c>";for(let m=0;m<n.length;m++)d+=`<c r="${Dt(n[0].labels.length+m+1)}${p+2}"><v>${n[m].values[p]||""}</v></c>`;d+="</row>"})}d+="</sheetData>",d+='<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3"/>',d+=`</worksheet>
`,o.file("xl/worksheets/sheet1.xml",d)}o.generateAsync({type:"base64"}).then(d=>{e.file(`ppt/embeddings/Microsoft_Excel_Worksheet${t.globalId}.xlsx`,d,{base64:!0}),e.file("ppt/charts/_rels/"+t.fileName+".rels",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/package" Target="../embeddings/Microsoft_Excel_Worksheet${t.globalId}.xlsx"/></Relationships>`),e.file(`ppt/charts/${t.fileName}`,k9(t)),r("")}).catch(d=>{i(d)})})})}function k9(t){var e,n,r,i;let a='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>',s=!1;if(a+='<c:chartSpace xmlns:c="http://schemas.openxmlformats.org/drawingml/2006/chart" xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">',a+='<c:date1904 val="0"/>',a+=`<c:roundedCorners val="${t.opts.chartArea.roundedCorners?"1":"0"}"/>`,a+="<c:chart>",t.opts.showTitle?(a+=pm({title:t.opts.title||"Chart Title",color:t.opts.titleColor,fontFace:t.opts.titleFontFace,fontSize:t.opts.titleFontSize||m9,titleAlign:t.opts.titleAlign,titleBold:t.opts.titleBold,titlePos:t.opts.titlePos,titleRotate:t.opts.titleRotate},t.opts.x,t.opts.y),a+='<c:autoTitleDeleted val="0"/>'):a+='<c:autoTitleDeleted val="1"/>',t.opts._type===_e.BAR3D&&(a+=`<c:view3D><c:rotX val="${t.opts.v3DRotX}"/><c:rotY val="${t.opts.v3DRotY}"/><c:rAngAx val="${t.opts.v3DRAngAx?1:0}"/><c:perspective val="${t.opts.v3DPerspective}"/></c:view3D>`),a+="<c:plotArea>",t.opts.layout?(a+="<c:layout>",a+=" <c:manualLayout>",a+='  <c:layoutTarget val="inner" />',a+='  <c:xMode val="edge" />',a+='  <c:yMode val="edge" />',a+='  <c:x val="'+(t.opts.layout.x||0)+'" />',a+='  <c:y val="'+(t.opts.layout.y||0)+'" />',a+='  <c:w val="'+(t.opts.layout.w||1)+'" />',a+='  <c:h val="'+(t.opts.layout.h||1)+'" />',a+=" </c:manualLayout>",a+="</c:layout>"):a+="<c:layout/>",Array.isArray(t.opts._type)?t.opts._type.forEach(o=>{const l=Object.assign(Object.assign({},t.opts),o.options),c=l.secondaryValAxis?nf:Vi,d=l.secondaryCatAxis?p0:Gc;s=s||l.secondaryValAxis,a+=D_(o.type,o.data,l,c,d)}):a+=D_(t.opts._type,t.data,t.opts,Vi,Gc),t.opts._type!==_e.PIE&&t.opts._type!==_e.DOUGHNUT){if(t.opts.valAxes&&t.opts.valAxes.length>1&&!s)throw new Error("Secondary axis must be used by one of the multiple charts");if(t.opts.catAxes){if(!t.opts.valAxes||t.opts.valAxes.length!==t.opts.catAxes.length)throw new Error("There must be the same number of value and category axes.");a+=Cg(Object.assign(Object.assign({},t.opts),t.opts.catAxes[0]),Gc,Vi)}else a+=Cg(t.opts,Gc,Vi);t.opts.valAxes?(a+=Eg(Object.assign(Object.assign({},t.opts),t.opts.valAxes[0]),Vi),t.opts.valAxes[1]&&(a+=Eg(Object.assign(Object.assign({},t.opts),t.opts.valAxes[1]),nf))):(a+=Eg(t.opts,Vi),t.opts._type===_e.BAR3D&&(a+=D9(t.opts,mS,Vi))),!((e=t.opts)===null||e===void 0)&&e.catAxes&&(!((n=t.opts)===null||n===void 0)&&n.catAxes[1])&&(a+=Cg(Object.assign(Object.assign({},t.opts),t.opts.catAxes[1]),p0,nf))}return t.opts.showDataTable&&(a+="<c:dTable>",a+=`  <c:showHorzBorder val="${t.opts.showDataTableHorzBorder?1:0}"/>`,a+=`  <c:showVertBorder val="${t.opts.showDataTableVertBorder?1:0}"/>`,a+=`  <c:showOutline    val="${t.opts.showDataTableOutline?1:0}"/>`,a+=`  <c:showKeys       val="${t.opts.showDataTableKeys?1:0}"/>`,a+="  <c:spPr>",a+="    <a:noFill/>",a+='    <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="tx1"><a:lumMod val="15000"/><a:lumOff val="85000"/></a:schemeClr></a:solidFill><a:round/></a:ln>',a+="    <a:effectLst/>",a+="  </c:spPr>",a+="  <c:txPr>",a+='   <a:bodyPr rot="0" spcFirstLastPara="1" vertOverflow="ellipsis" vert="horz" wrap="square" anchor="ctr" anchorCtr="1"/>',a+="   <a:lstStyle/>",a+="   <a:p>",a+='     <a:pPr rtl="0">',a+=`       <a:defRPr sz="${Math.round((t.opts.dataTableFontSize||Gr)*100)}" b="0" i="0" u="none" strike="noStrike" kern="1200" baseline="0">`,a+='         <a:solidFill><a:schemeClr val="tx1"><a:lumMod val="65000"/><a:lumOff val="35000"/></a:schemeClr></a:solidFill>',a+='         <a:latin typeface="+mn-lt"/>',a+='         <a:ea typeface="+mn-ea"/>',a+='         <a:cs typeface="+mn-cs"/>',a+="       </a:defRPr>",a+="     </a:pPr>",a+='    <a:endParaRPr lang="en-US"/>',a+="   </a:p>",a+=" </c:txPr>",a+="</c:dTable>"),a+="  <c:spPr>",a+=!((r=t.opts.plotArea.fill)===null||r===void 0)&&r.color?Dr(t.opts.plotArea.fill):"<a:noFill/>",a+=t.opts.plotArea.border?`<a:ln w="${Ge(t.opts.plotArea.border.pt)}" cap="flat">${Dr(t.opts.plotArea.border.color)}</a:ln>`:"<a:ln><a:noFill/></a:ln>",a+="    <a:effectLst/>",a+="  </c:spPr>",a+="</c:plotArea>",t.opts.showLegend&&(a+="<c:legend>",a+='<c:legendPos val="'+t.opts.legendPos+'"/>',a+='<c:overlay val="0"/>',(t.opts.legendFontFace||t.opts.legendFontSize||t.opts.legendColor)&&(a+="<c:txPr>",a+="  <a:bodyPr/>",a+="  <a:lstStyle/>",a+="  <a:p>",a+="    <a:pPr>",a+=t.opts.legendFontSize?`<a:defRPr sz="${Math.round(Number(t.opts.legendFontSize)*100)}">`:"<a:defRPr>",t.opts.legendColor&&(a+=Dr(t.opts.legendColor)),t.opts.legendFontFace&&(a+='<a:latin typeface="'+t.opts.legendFontFace+'"/>'),t.opts.legendFontFace&&(a+='<a:cs    typeface="'+t.opts.legendFontFace+'"/>'),a+="      </a:defRPr>",a+="    </a:pPr>",a+='    <a:endParaRPr lang="en-US"/>',a+="  </a:p>",a+="</c:txPr>"),a+="</c:legend>"),a+='  <c:plotVisOnly val="1"/>',a+='  <c:dispBlanksAs val="'+t.opts.displayBlanksAs+'"/>',t.opts._type===_e.SCATTER&&(a+='<c:showDLblsOverMax val="1"/>'),a+="</c:chart>",a+="<c:spPr>",a+=!((i=t.opts.chartArea.fill)===null||i===void 0)&&i.color?Dr(t.opts.chartArea.fill):"<a:noFill/>",a+=t.opts.chartArea.border?`<a:ln w="${Ge(t.opts.chartArea.border.pt)}" cap="flat">${Dr(t.opts.chartArea.border.color)}</a:ln>`:"<a:ln><a:noFill/></a:ln>",a+="  <a:effectLst/>",a+="</c:spPr>",a+='<c:externalData r:id="rId1"><c:autoUpdate val="0"/></c:externalData>',a+="</c:chartSpace>",a}function D_(t,e,n,r,i,a){let s=-1,o=1,l=null,c="";switch(t){case _e.AREA:case _e.BAR:case _e.BAR3D:case _e.LINE:case _e.RADAR:c+=`<c:${t}Chart>`,t===_e.AREA&&n.barGrouping==="stacked"&&(c+='<c:grouping val="'+n.barGrouping+'"/>'),(t===_e.BAR||t===_e.BAR3D)&&(c+='<c:barDir val="'+n.barDir+'"/>',c+='<c:grouping val="'+(n.barGrouping||"clustered")+'"/>'),t===_e.RADAR&&(c+='<c:radarStyle val="'+n.radarStyle+'"/>'),c+='<c:varyColors val="0"/>',e.forEach(d=>{var h;s++,c+="<c:ser>",c+=`  <c:idx val="${d._dataIndex}"/><c:order val="${d._dataIndex}"/>`,c+="  <c:tx>",c+="    <c:strRef>",c+="      <c:f>Sheet1!$"+Dt(d._dataIndex+d.labels.length+1)+"$1</c:f>",c+='      <c:strCache><c:ptCount val="1"/><c:pt idx="0"><c:v>'+$e(d.name)+"</c:v></c:pt></c:strCache>",c+="    </c:strRef>",c+="  </c:tx>";const p=n.chartColors?n.chartColors[s%n.chartColors.length]:null;c+="  <c:spPr>",p==="transparent"?c+="<a:noFill/>":n.chartColorsOpacity?c+="<a:solidFill>"+wt(p,`<a:alpha val="${Math.round(n.chartColorsOpacity*1e3)}"/>`)+"</a:solidFill>":c+="<a:solidFill>"+wt(p)+"</a:solidFill>",t===_e.LINE||t===_e.RADAR?n.lineSize===0?c+="<a:ln><a:noFill/></a:ln>":(c+=`<a:ln w="${Ge(n.lineSize)}" cap="${af(n.lineCap)}"><a:solidFill>${wt(p)}</a:solidFill>`,c+='<a:prstDash val="'+(n.lineDash||"solid")+'"/><a:round/></a:ln>'):n.dataBorder&&(c+=`<a:ln w="${Ge(n.dataBorder.pt)}" cap="${af(n.lineCap)}"><a:solidFill>${wt(n.dataBorder.color)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`),c+=ws(n.shadow,bs),c+="  </c:spPr>",c+='  <c:invertIfNegative val="0"/>',t!==_e.RADAR&&(c+="<c:dLbls>",c+=`<c:numFmt formatCode="${$e(n.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,n.dataLabelBkgrdColors&&(c+=`<c:spPr><a:solidFill>${wt(p)}</a:solidFill></c:spPr>`),c+="<c:txPr><a:bodyPr/><a:lstStyle/><a:p><a:pPr>",c+=`<a:defRPr b="${n.dataLabelFontBold?1:0}" i="${n.dataLabelFontItalic?1:0}" strike="noStrike" sz="${Math.round((n.dataLabelFontSize||Gr)*100)}" u="none">`,c+=`<a:solidFill>${wt(n.dataLabelColor||gr)}</a:solidFill>`,c+=`<a:latin typeface="${n.dataLabelFontFace||"Arial"}"/>`,c+="</a:defRPr></a:pPr></a:p></c:txPr>",n.dataLabelPosition&&(c+=`<c:dLblPos val="${n.dataLabelPosition}"/>`),c+='<c:showLegendKey val="0"/>',c+=`<c:showVal val="${n.showValue?"1":"0"}"/>`,c+=`<c:showCatName val="0"/><c:showSerName val="${n.showSerName?"1":"0"}"/><c:showPercent val="0"/><c:showBubbleSize val="0"/>`,c+=`<c:showLeaderLines val="${n.showLeaderLines?"1":"0"}"/>`,c+="</c:dLbls>"),(t===_e.LINE||t===_e.RADAR)&&(c+="<c:marker>",c+='  <c:symbol val="'+n.lineDataSymbol+'"/>',n.lineDataSymbolSize&&(c+=`<c:size val="${n.lineDataSymbolSize}"/>`),c+="  <c:spPr>",c+=`    <a:solidFill>${wt(n.chartColors[d._dataIndex+1>n.chartColors.length?Math.floor(Math.random()*n.chartColors.length):d._dataIndex])}</a:solidFill>`,c+=`    <a:ln w="${n.lineDataSymbolLineSize}" cap="flat"><a:solidFill>${wt(n.lineDataSymbolLineColor||p)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`,c+="    <a:effectLst/>",c+="  </c:spPr>",c+="</c:marker>"),(t===_e.BAR||t===_e.BAR3D)&&e.length===1&&(n.chartColors&&n.chartColors!==qc&&n.chartColors.length>1||!((h=n.invertedColors)===null||h===void 0)&&h.length)&&d.values.forEach((m,g)=>{const A=m<0?n.invertedColors||n.chartColors||qc:n.chartColors||[];c+="  <c:dPt>",c+=`    <c:idx val="${g}"/>`,c+='      <c:invertIfNegative val="0"/>',c+='    <c:bubble3D val="0"/>',c+="    <c:spPr>",n.lineSize===0?c+="<a:ln><a:noFill/></a:ln>":t===_e.BAR?(c+="<a:solidFill>",c+='  <a:srgbClr val="'+A[g%A.length]+'"/>',c+="</a:solidFill>"):(c+="<a:ln>",c+="  <a:solidFill>",c+='   <a:srgbClr val="'+A[g%A.length]+'"/>',c+="  </a:solidFill>",c+="</a:ln>"),c+=ws(n.shadow,bs),c+="    </c:spPr>",c+="  </c:dPt>"}),c+="<c:cat>",n.catLabelFormatCode?(c+="  <c:numRef>",c+=`    <c:f>Sheet1!$A$2:$A$${d.labels[0].length+1}</c:f>`,c+="    <c:numCache>",c+="      <c:formatCode>"+(n.catLabelFormatCode||"General")+"</c:formatCode>",c+=`      <c:ptCount val="${d.labels[0].length}"/>`,d.labels[0].forEach((m,g)=>c+=`<c:pt idx="${g}"><c:v>${$e(m)}</c:v></c:pt>`),c+="    </c:numCache>",c+="  </c:numRef>"):(c+="  <c:multiLvlStrRef>",c+=`    <c:f>Sheet1!$A$2:$${Dt(d.labels.length)}$${d.labels[0].length+1}</c:f>`,c+="    <c:multiLvlStrCache>",c+=`      <c:ptCount val="${d.labels[0].length}"/>`,d.labels.forEach(m=>{c+="<c:lvl>",m.forEach((g,A)=>c+=`<c:pt idx="${A}"><c:v>${$e(g)}</c:v></c:pt>`),c+="</c:lvl>"}),c+="    </c:multiLvlStrCache>",c+="  </c:multiLvlStrRef>"),c+="</c:cat>",c+="<c:val>",c+="  <c:numRef>",c+=`<c:f>Sheet1!$${Dt(d._dataIndex+d.labels.length+1)}$2:$${Dt(d._dataIndex+d.labels.length+1)}$${d.labels[0].length+1}</c:f>`,c+="    <c:numCache>",c+="      <c:formatCode>"+(n.valLabelFormatCode||n.dataTableFormatCode||"General")+"</c:formatCode>",c+=`      <c:ptCount val="${d.labels[0].length}"/>`,d.values.forEach((m,g)=>c+=`<c:pt idx="${g}"><c:v>${m||m===0?m:""}</c:v></c:pt>`),c+="    </c:numCache>",c+="  </c:numRef>",c+="</c:val>",t===_e.LINE&&(c+='<c:smooth val="'+(n.lineSmooth?"1":"0")+'"/>'),c+="</c:ser>"}),c+="  <c:dLbls>",c+=`    <c:numFmt formatCode="${$e(n.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,c+="    <c:txPr>",c+="      <a:bodyPr/>",c+="      <a:lstStyle/>",c+="      <a:p><a:pPr>",c+=`        <a:defRPr b="${n.dataLabelFontBold?1:0}" i="${n.dataLabelFontItalic?1:0}" strike="noStrike" sz="${Math.round((n.dataLabelFontSize||Gr)*100)}" u="none">`,c+="          <a:solidFill>"+wt(n.dataLabelColor||gr)+"</a:solidFill>",c+='          <a:latin typeface="'+(n.dataLabelFontFace||"Arial")+'"/>',c+="        </a:defRPr>",c+="      </a:pPr></a:p>",c+="    </c:txPr>",n.dataLabelPosition&&(c+=' <c:dLblPos val="'+n.dataLabelPosition+'"/>'),c+='    <c:showLegendKey val="0"/>',c+='    <c:showVal val="'+(n.showValue?"1":"0")+'"/>',c+='    <c:showCatName val="0"/>',c+='    <c:showSerName val="'+(n.showSerName?"1":"0")+'"/>',c+='    <c:showPercent val="0"/>',c+='    <c:showBubbleSize val="0"/>',c+=`    <c:showLeaderLines val="${n.showLeaderLines?"1":"0"}"/>`,c+="  </c:dLbls>",t===_e.BAR?(c+=`  <c:gapWidth val="${n.barGapWidthPct}"/>`,c+=`  <c:overlap val="${(n.barGrouping||"").includes("tacked")?100:n.barOverlapPct?n.barOverlapPct:0}"/>`):t===_e.BAR3D?(c+=`  <c:gapWidth val="${n.barGapWidthPct}"/>`,c+=`  <c:gapDepth val="${n.barGapDepthPct}"/>`,c+='  <c:shape val="'+n.bar3DShape+'"/>'):t===_e.LINE&&(c+='  <c:marker val="1"/>'),c+=`<c:axId val="${i}"/><c:axId val="${r}"/><c:axId val="${mS}"/>`,c+=`</c:${t}Chart>`;break;case _e.SCATTER:c+="<c:"+t+"Chart>",c+='<c:scatterStyle val="lineMarker"/>',c+='<c:varyColors val="0"/>',s=-1,e.filter((d,h)=>h>0).forEach((d,h)=>{s++,c+="<c:ser>",c+=`  <c:idx val="${h}"/>`,c+=`  <c:order val="${h}"/>`,c+="  <c:tx>",c+="    <c:strRef>",c+=`      <c:f>Sheet1!$${Dt(h+2)}$1</c:f>`,c+='      <c:strCache><c:ptCount val="1"/><c:pt idx="0"><c:v>'+$e(d.name)+"</c:v></c:pt></c:strCache>",c+="    </c:strRef>",c+="  </c:tx>",c+="  <c:spPr>";{const p=n.chartColors[s%n.chartColors.length];p==="transparent"?c+="<a:noFill/>":n.chartColorsOpacity?c+="<a:solidFill>"+wt(p,'<a:alpha val="'+Math.round(n.chartColorsOpacity*1e3).toString()+'"/>')+"</a:solidFill>":c+="<a:solidFill>"+wt(p)+"</a:solidFill>",n.lineSize===0?c+="<a:ln><a:noFill/></a:ln>":(c+=`<a:ln w="${Ge(n.lineSize)}" cap="${af(n.lineCap)}"><a:solidFill>${wt(p)}</a:solidFill>`,c+=`<a:prstDash val="${n.lineDash||"solid"}"/><a:round/></a:ln>`),c+=ws(n.shadow,bs)}if(c+="  </c:spPr>",c+="<c:marker>",c+='  <c:symbol val="'+n.lineDataSymbol+'"/>',n.lineDataSymbolSize&&(c+=`<c:size val="${n.lineDataSymbolSize}"/>`),c+="<c:spPr>",c+=`<a:solidFill>${wt(n.chartColors[h+1>n.chartColors.length?Math.floor(Math.random()*n.chartColors.length):h])}</a:solidFill>`,c+=`<a:ln w="${n.lineDataSymbolLineSize}" cap="flat"><a:solidFill>${wt(n.lineDataSymbolLineColor||n.chartColors[s%n.chartColors.length])}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`,c+="<a:effectLst/>",c+="</c:spPr>",c+="</c:marker>",n.showLabel){const p=rf("-xxxx-xxxx-xxxx-xxxxxxxxxxxx");d.labels[0]&&(n.dataLabelFormatScatter==="custom"||n.dataLabelFormatScatter==="customXY")&&(c+="<c:dLbls>",d.labels[0].forEach((m,g)=>{(n.dataLabelFormatScatter==="custom"||n.dataLabelFormatScatter==="customXY")&&(c+="  <c:dLbl>",c+=`    <c:idx val="${g}"/>`,c+="    <c:tx>",c+="      <c:rich>",c+="            <a:bodyPr>",c+="                <a:spAutoFit/>",c+="            </a:bodyPr>",c+="            <a:lstStyle/>",c+="            <a:p>",c+="                <a:pPr>",c+="                    <a:defRPr/>",c+="                </a:pPr>",c+="              <a:r>",c+='                    <a:rPr lang="'+(n.lang||"en-US")+'" dirty="0"/>',c+="                    <a:t>"+$e(m)+"</a:t>",c+="              </a:r>",n.dataLabelFormatScatter==="customXY"&&!/^ *$/.test(m)&&(c+="              <a:r>",c+='                  <a:rPr lang="'+(n.lang||"en-US")+'" baseline="0" dirty="0"/>',c+="                  <a:t> (</a:t>",c+="              </a:r>",c+='              <a:fld id="{'+rf("xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")+'}" type="XVALUE">',c+='                  <a:rPr lang="'+(n.lang||"en-US")+'" baseline="0"/>',c+="                  <a:pPr>",c+="                      <a:defRPr/>",c+="                  </a:pPr>",c+="                  <a:t>["+$e(d.name)+"</a:t>",c+="              </a:fld>",c+="              <a:r>",c+='                  <a:rPr lang="'+(n.lang||"en-US")+'" baseline="0" dirty="0"/>',c+="                  <a:t>, </a:t>",c+="              </a:r>",c+='              <a:fld id="{'+rf("xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")+'}" type="YVALUE">',c+='                  <a:rPr lang="'+(n.lang||"en-US")+'" baseline="0"/>',c+="                  <a:pPr>",c+="                      <a:defRPr/>",c+="                  </a:pPr>",c+="                  <a:t>["+$e(d.name)+"]</a:t>",c+="              </a:fld>",c+="              <a:r>",c+='                  <a:rPr lang="'+(n.lang||"en-US")+'" baseline="0" dirty="0"/>',c+="                  <a:t>)</a:t>",c+="              </a:r>",c+='              <a:endParaRPr lang="'+(n.lang||"en-US")+'" dirty="0"/>'),c+="            </a:p>",c+="      </c:rich>",c+="    </c:tx>",c+="    <c:spPr>",c+="        <a:noFill/>",c+="        <a:ln>",c+="            <a:noFill/>",c+="        </a:ln>",c+="        <a:effectLst/>",c+="    </c:spPr>",n.dataLabelPosition&&(c+=' <c:dLblPos val="'+n.dataLabelPosition+'"/>'),c+='    <c:showLegendKey val="0"/>',c+='    <c:showVal val="0"/>',c+='    <c:showCatName val="0"/>',c+='    <c:showSerName val="0"/>',c+='    <c:showPercent val="0"/>',c+='    <c:showBubbleSize val="0"/>',c+='       <c:showLeaderLines val="1"/>',c+="    <c:extLst>",c+='      <c:ext uri="{CE6537A1-D6FC-4f65-9D91-7224C49458BB}" xmlns:c15="http://schemas.microsoft.com/office/drawing/2012/chart"/>',c+='      <c:ext uri="{C3380CC4-5D6E-409C-BE32-E72D297353CC}" xmlns:c16="http://schemas.microsoft.com/office/drawing/2014/chart">',c+=`            <c16:uniqueId val="{${"00000000".substring(0,8-(g+1).toString().length).toString()}${g+1}${p}}"/>`,c+="      </c:ext>",c+="        </c:extLst>",c+="</c:dLbl>")}),c+="</c:dLbls>"),n.dataLabelFormatScatter==="XY"&&(c+="<c:dLbls>",c+="    <c:spPr>",c+="        <a:noFill/>",c+="        <a:ln>",c+="            <a:noFill/>",c+="        </a:ln>",c+="          <a:effectLst/>",c+="    </c:spPr>",c+="    <c:txPr>",c+="        <a:bodyPr>",c+="            <a:spAutoFit/>",c+="        </a:bodyPr>",c+="        <a:lstStyle/>",c+="        <a:p>",c+="            <a:pPr>",c+="                <a:defRPr/>",c+="            </a:pPr>",c+='            <a:endParaRPr lang="en-US"/>',c+="        </a:p>",c+="    </c:txPr>",n.dataLabelPosition&&(c+=' <c:dLblPos val="'+n.dataLabelPosition+'"/>'),c+='    <c:showLegendKey val="0"/>',c+=` <c:showVal val="${n.showLabel?"1":"0"}"/>`,c+=` <c:showCatName val="${n.showLabel?"1":"0"}"/>`,c+=` <c:showSerName val="${n.showSerName?"1":"0"}"/>`,c+='    <c:showPercent val="0"/>',c+='    <c:showBubbleSize val="0"/>',c+="    <c:extLst>",c+='        <c:ext uri="{CE6537A1-D6FC-4f65-9D91-7224C49458BB}" xmlns:c15="http://schemas.microsoft.com/office/drawing/2012/chart">',c+='            <c15:showLeaderLines val="1"/>',c+="        </c:ext>",c+="    </c:extLst>",c+="</c:dLbls>")}e.length===1&&n.chartColors!==qc&&d.values.forEach((p,m)=>{const g=p<0?n.invertedColors||n.chartColors||qc:n.chartColors||[];c+="  <c:dPt>",c+=`    <c:idx val="${m}"/>`,c+='      <c:invertIfNegative val="0"/>',c+='    <c:bubble3D val="0"/>',c+="    <c:spPr>",n.lineSize===0?c+="<a:ln><a:noFill/></a:ln>":(c+="<a:solidFill>",c+=' <a:srgbClr val="'+g[m%g.length]+'"/>',c+="</a:solidFill>"),c+=ws(n.shadow,bs),c+="    </c:spPr>",c+="  </c:dPt>"}),c+="<c:xVal>",c+="  <c:numRef>",c+=`    <c:f>Sheet1!$A$2:$A$${e[0].values.length+1}</c:f>`,c+="    <c:numCache>",c+="      <c:formatCode>General</c:formatCode>",c+=`      <c:ptCount val="${e[0].values.length}"/>`,e[0].values.forEach((p,m)=>{c+=`<c:pt idx="${m}"><c:v>${p||p===0?p:""}</c:v></c:pt>`}),c+="    </c:numCache>",c+="  </c:numRef>",c+="</c:xVal>",c+="<c:yVal>",c+="  <c:numRef>",c+=`    <c:f>Sheet1!$${Dt(h+2)}$2:$${Dt(h+2)}$${e[0].values.length+1}</c:f>`,c+="    <c:numCache>",c+="      <c:formatCode>General</c:formatCode>",c+=`      <c:ptCount val="${e[0].values.length}"/>`,e[0].values.forEach((p,m)=>{c+=`<c:pt idx="${m}"><c:v>${d.values[m]||d.values[m]===0?d.values[m]:""}</c:v></c:pt>`}),c+="    </c:numCache>",c+="  </c:numRef>",c+="</c:yVal>",c+='<c:smooth val="'+(n.lineSmooth?"1":"0")+'"/>',c+="</c:ser>"}),c+="  <c:dLbls>",c+=`    <c:numFmt formatCode="${$e(n.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,c+="    <c:txPr>",c+="      <a:bodyPr/>",c+="      <a:lstStyle/>",c+="      <a:p><a:pPr>",c+=`        <a:defRPr b="${n.dataLabelFontBold?"1":"0"}" i="${n.dataLabelFontItalic?"1":"0"}" strike="noStrike" sz="${Math.round((n.dataLabelFontSize||Gr)*100)}" u="none">`,c+="          <a:solidFill>"+wt(n.dataLabelColor||gr)+"</a:solidFill>",c+='          <a:latin typeface="'+(n.dataLabelFontFace||"Arial")+'"/>',c+="        </a:defRPr>",c+="      </a:pPr></a:p>",c+="    </c:txPr>",n.dataLabelPosition&&(c+=' <c:dLblPos val="'+n.dataLabelPosition+'"/>'),c+='    <c:showLegendKey val="0"/>',c+='    <c:showVal val="'+(n.showValue?"1":"0")+'"/>',c+='    <c:showCatName val="0"/>',c+='    <c:showSerName val="'+(n.showSerName?"1":"0")+'"/>',c+='    <c:showPercent val="0"/>',c+='    <c:showBubbleSize val="0"/>',c+="  </c:dLbls>",c+=`<c:axId val="${i}"/><c:axId val="${r}"/>`,c+="</c:"+t+"Chart>";break;case _e.BUBBLE:case _e.BUBBLE3D:c+="<c:bubbleChart>",c+='<c:varyColors val="0"/>',s=-1,e.filter((d,h)=>h>0).forEach((d,h)=>{s++,c+="<c:ser>",c+=`  <c:idx val="${h}"/>`,c+=`  <c:order val="${h}"/>`,c+="  <c:tx>",c+="    <c:strRef>",c+="      <c:f>Sheet1!$"+Dt(o+1)+"$1</c:f>",c+='      <c:strCache><c:ptCount val="1"/><c:pt idx="0"><c:v>'+$e(d.name)+"</c:v></c:pt></c:strCache>",c+="    </c:strRef>",c+="  </c:tx>";{c+="<c:spPr>";const p=n.chartColors[s%n.chartColors.length];p==="transparent"?c+="<a:noFill/>":n.chartColorsOpacity?c+=`<a:solidFill>${wt(p,'<a:alpha val="'+Math.round(n.chartColorsOpacity*1e3).toString()+'"/>')}</a:solidFill>`:c+="<a:solidFill>"+wt(p)+"</a:solidFill>",n.lineSize===0?c+="<a:ln><a:noFill/></a:ln>":n.dataBorder?c+=`<a:ln w="${Ge(n.dataBorder.pt)}" cap="flat"><a:solidFill>${wt(n.dataBorder.color)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`:(c+=`<a:ln w="${Ge(n.lineSize)}" cap="flat"><a:solidFill>${wt(p)}</a:solidFill>`,c+=`<a:prstDash val="${n.lineDash||"solid"}"/><a:round/></a:ln>`),c+=ws(n.shadow,bs),c+="</c:spPr>"}c+="<c:xVal>",c+="  <c:numRef>",c+=`    <c:f>Sheet1!$A$2:$A$${e[0].values.length+1}</c:f>`,c+="    <c:numCache>",c+="      <c:formatCode>General</c:formatCode>",c+=`      <c:ptCount val="${e[0].values.length}"/>`,e[0].values.forEach((p,m)=>{c+=`<c:pt idx="${m}"><c:v>${p||p===0?p:""}</c:v></c:pt>`}),c+="    </c:numCache>",c+="  </c:numRef>",c+="</c:xVal>",c+="<c:yVal>",c+="  <c:numRef>",c+=`<c:f>Sheet1!$${Dt(o+1)}$2:$${Dt(o+1)}$${e[0].values.length+1}</c:f>`,o++,c+="    <c:numCache>",c+="      <c:formatCode>General</c:formatCode>",c+=`      <c:ptCount val="${e[0].values.length}"/>`,e[0].values.forEach((p,m)=>{c+=`<c:pt idx="${m}"><c:v>${d.values[m]||d.values[m]===0?d.values[m]:""}</c:v></c:pt>`}),c+="    </c:numCache>",c+="  </c:numRef>",c+="</c:yVal>",c+="  <c:bubbleSize>",c+="    <c:numRef>",c+=`<c:f>Sheet1!$${Dt(o+1)}$2:$${Dt(o+1)}$${d.sizes.length+1}</c:f>`,o++,c+="      <c:numCache>",c+="        <c:formatCode>General</c:formatCode>",c+=`           <c:ptCount val="${d.sizes.length}"/>`,d.sizes.forEach((p,m)=>{c+=`<c:pt idx="${m}"><c:v>${p||""}</c:v></c:pt>`}),c+="      </c:numCache>",c+="    </c:numRef>",c+="  </c:bubbleSize>",c+='  <c:bubble3D val="'+(t===_e.BUBBLE3D?"1":"0")+'"/>',c+="</c:ser>"}),c+="<c:dLbls>",c+=`<c:numFmt formatCode="${$e(n.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,c+="<c:txPr><a:bodyPr/><a:lstStyle/><a:p><a:pPr>",c+=`<a:defRPr b="${n.dataLabelFontBold?1:0}" i="${n.dataLabelFontItalic?1:0}" strike="noStrike" sz="${Math.round(Math.round(n.dataLabelFontSize||Gr)*100)}" u="none">`,c+=`<a:solidFill>${wt(n.dataLabelColor||gr)}</a:solidFill>`,c+=`<a:latin typeface="${n.dataLabelFontFace||"Arial"}"/>`,c+="</a:defRPr></a:pPr></a:p></c:txPr>",n.dataLabelPosition&&(c+=`<c:dLblPos val="${n.dataLabelPosition}"/>`),c+='<c:showLegendKey val="0"/>',c+=`<c:showVal val="${n.showValue?"1":"0"}"/>`,c+=`<c:showCatName val="0"/><c:showSerName val="${n.showSerName?"1":"0"}"/><c:showPercent val="0"/><c:showBubbleSize val="0"/>`,c+="<c:extLst>",c+='  <c:ext uri="{CE6537A1-D6FC-4f65-9D91-7224C49458BB}" xmlns:c15="http://schemas.microsoft.com/office/drawing/2012/chart">',c+='    <c15:showLeaderLines val="'+(n.showLeaderLines?"1":"0")+'"/>',c+="  </c:ext>",c+="</c:extLst>",c+="</c:dLbls>",c+=`<c:axId val="${i}"/><c:axId val="${r}"/>`,c+="</c:bubbleChart>";break;case _e.DOUGHNUT:case _e.PIE:l=e[0],c+="<c:"+t+"Chart>",c+='  <c:varyColors val="1"/>',c+="<c:ser>",c+='  <c:idx val="0"/>',c+='  <c:order val="0"/>',c+="  <c:tx>",c+="    <c:strRef>",c+="      <c:f>Sheet1!$B$1</c:f>",c+="      <c:strCache>",c+='        <c:ptCount val="1"/>',c+='        <c:pt idx="0"><c:v>'+$e(l.name)+"</c:v></c:pt>",c+="      </c:strCache>",c+="    </c:strRef>",c+="  </c:tx>",c+="  <c:spPr>",c+='    <a:solidFill><a:schemeClr val="accent1"/></a:solidFill>',c+='    <a:ln w="9525" cap="flat"><a:solidFill><a:srgbClr val="F9F9F9"/></a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>',n.dataNoEffects?c+="<a:effectLst/>":c+=ws(n.shadow,bs),c+="  </c:spPr>",l.labels[0].forEach((d,h)=>{c+="<c:dPt>",c+=` <c:idx val="${h}"/>`,c+=' <c:bubble3D val="0"/>',c+=" <c:spPr>",c+=`<a:solidFill>${wt(n.chartColors[h+1>n.chartColors.length?Math.floor(Math.random()*n.chartColors.length):h])}</a:solidFill>`,n.dataBorder&&(c+=`<a:ln w="${Ge(n.dataBorder.pt)}" cap="flat"><a:solidFill>${wt(n.dataBorder.color)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`),c+=ws(n.shadow,bs),c+="  </c:spPr>",c+="</c:dPt>"}),c+="<c:dLbls>",l.labels[0].forEach((d,h)=>{c+="<c:dLbl>",c+=` <c:idx val="${h}"/>`,c+=`  <c:numFmt formatCode="${$e(n.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,c+="  <c:spPr/><c:txPr>",c+="   <a:bodyPr/><a:lstStyle/>",c+="   <a:p><a:pPr>",c+=`   <a:defRPr sz="${Math.round((n.dataLabelFontSize||Gr)*100)}" b="${n.dataLabelFontBold?1:0}" i="${n.dataLabelFontItalic?1:0}" u="none" strike="noStrike">`,c+="    <a:solidFill>"+wt(n.dataLabelColor||gr)+"</a:solidFill>",c+=`    <a:latin typeface="${n.dataLabelFontFace||"Arial"}"/>`,c+="   </a:defRPr>",c+="      </a:pPr></a:p>",c+="    </c:txPr>",t===_e.PIE&&n.dataLabelPosition&&(c+=`<c:dLblPos val="${n.dataLabelPosition}"/>`),c+='    <c:showLegendKey val="0"/>',c+='    <c:showVal val="'+(n.showValue?"1":"0")+'"/>',c+='    <c:showCatName val="'+(n.showLabel?"1":"0")+'"/>',c+='    <c:showSerName val="'+(n.showSerName?"1":"0")+'"/>',c+='    <c:showPercent val="'+(n.showPercent?"1":"0")+'"/>',c+='    <c:showBubbleSize val="0"/>',c+="  </c:dLbl>"}),c+=` <c:numFmt formatCode="${$e(n.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,c+="    <c:txPr>",c+="      <a:bodyPr/>",c+="      <a:lstStyle/>",c+="      <a:p>",c+="        <a:pPr>",c+=`          <a:defRPr sz="1800" b="${n.dataLabelFontBold?"1":"0"}" i="${n.dataLabelFontItalic?"1":"0"}" u="none" strike="noStrike">`,c+='            <a:solidFill><a:srgbClr val="000000"/></a:solidFill><a:latin typeface="Arial"/>',c+="          </a:defRPr>",c+="        </a:pPr>",c+="      </a:p>",c+="    </c:txPr>",c+=t===_e.PIE?'<c:dLblPos val="ctr"/>':"",c+='    <c:showLegendKey val="0"/>',c+='    <c:showVal val="0"/>',c+='    <c:showCatName val="1"/>',c+='    <c:showSerName val="0"/>',c+='    <c:showPercent val="1"/>',c+='    <c:showBubbleSize val="0"/>',c+=` <c:showLeaderLines val="${n.showLeaderLines?"1":"0"}"/>`,c+="</c:dLbls>",c+="<c:cat>",c+="  <c:strRef>",c+=`    <c:f>Sheet1!$A$2:$A$${l.labels[0].length+1}</c:f>`,c+="    <c:strCache>",c+=`         <c:ptCount val="${l.labels[0].length}"/>`,l.labels[0].forEach((d,h)=>{c+=`<c:pt idx="${h}"><c:v>${$e(d)}</c:v></c:pt>`}),c+="    </c:strCache>",c+="  </c:strRef>",c+="</c:cat>",c+="  <c:val>",c+="    <c:numRef>",c+=`      <c:f>Sheet1!$B$2:$B$${l.labels[0].length+1}</c:f>`,c+="      <c:numCache>",c+=`           <c:ptCount val="${l.labels[0].length}"/>`,l.values.forEach((d,h)=>{c+=`<c:pt idx="${h}"><c:v>${d||d===0?d:""}</c:v></c:pt>`}),c+="      </c:numCache>",c+="    </c:numRef>",c+="  </c:val>",c+="  </c:ser>",c+=`  <c:firstSliceAng val="${n.firstSliceAng?Math.round(n.firstSliceAng):0}"/>`,t===_e.DOUGHNUT&&(c+=`<c:holeSize val="${typeof n.holeSize=="number"?n.holeSize:"50"}"/>`),c+="</c:"+t+"Chart>";break;default:c+="";break}return c}function Cg(t,e,n){let r="";return t._type===_e.SCATTER||t._type===_e.BUBBLE||t._type===_e.BUBBLE3D?r+="<c:valAx>":r+="<c:"+(t.catLabelFormatCode?"dateAx":"catAx")+">",r+='  <c:axId val="'+e+'"/>',r+="  <c:scaling>",r+='<c:orientation val="'+(t.catAxisOrientation||(t.barDir==="col","minMax"))+'"/>',(t.catAxisMaxVal||t.catAxisMaxVal===0)&&(r+=`<c:max val="${t.catAxisMaxVal}"/>`),(t.catAxisMinVal||t.catAxisMinVal===0)&&(r+=`<c:min val="${t.catAxisMinVal}"/>`),r+="</c:scaling>",r+='  <c:delete val="'+(t.catAxisHidden?"1":"0")+'"/>',r+='  <c:axPos val="'+(t.barDir==="col"?"b":"l")+'"/>',r+=t.catGridLine.style!=="none"?jy(t.catGridLine):"",t.showCatAxisTitle&&(r+=pm({color:t.catAxisTitleColor,fontFace:t.catAxisTitleFontFace,fontSize:t.catAxisTitleFontSize,titleRotate:t.catAxisTitleRotate,title:t.catAxisTitle||"Axis Title"})),t._type===_e.SCATTER||t._type===_e.BUBBLE||t._type===_e.BUBBLE3D?r+='  <c:numFmt formatCode="'+(t.valAxisLabelFormatCode?$e(t.valAxisLabelFormatCode):"General")+'" sourceLinked="1"/>':r+='  <c:numFmt formatCode="'+($e(t.catLabelFormatCode)||"General")+'" sourceLinked="1"/>',t._type===_e.SCATTER?(r+='  <c:majorTickMark val="none"/>',r+='  <c:minorTickMark val="none"/>',r+='  <c:tickLblPos val="nextTo"/>'):(r+='  <c:majorTickMark val="'+(t.catAxisMajorTickMark||"out")+'"/>',r+='  <c:minorTickMark val="'+(t.catAxisMinorTickMark||"none")+'"/>',r+='  <c:tickLblPos val="'+(t.catAxisLabelPos||(t.barDir==="col"?"low":"nextTo"))+'"/>'),r+="  <c:spPr>",r+=`    <a:ln w="${t.catAxisLineSize?Ge(t.catAxisLineSize):Ld}" cap="flat">`,r+=t.catAxisLineShow?"<a:solidFill>"+wt(t.catAxisLineColor||Vs.color)+"</a:solidFill>":"<a:noFill/>",r+='      <a:prstDash val="'+(t.catAxisLineStyle||"solid")+'"/>',r+="      <a:round/>",r+="    </a:ln>",r+="  </c:spPr>",r+="  <c:txPr>",t.catAxisLabelRotate?r+=`<a:bodyPr rot="${Us(t.catAxisLabelRotate)}"/>`:r+="<a:bodyPr/>",r+="    <a:lstStyle/>",r+="    <a:p>",r+="    <a:pPr>",r+=`      <a:defRPr sz="${Math.round((t.catAxisLabelFontSize||Gr)*100)}" b="${t.catAxisLabelFontBold?1:0}" i="${t.catAxisLabelFontItalic?1:0}" u="none" strike="noStrike">`,r+="      <a:solidFill>"+wt(t.catAxisLabelColor||gr)+"</a:solidFill>",r+='      <a:latin typeface="'+(t.catAxisLabelFontFace||"Arial")+'"/>',r+="   </a:defRPr>",r+="  </a:pPr>",r+='  <a:endParaRPr lang="'+(t.lang||"en-US")+'"/>',r+="  </a:p>",r+=" </c:txPr>",r+=' <c:crossAx val="'+n+'"/>',r+=` <c:${typeof t.valAxisCrossesAt=="number"?"crossesAt":"crosses"} val="${t.valAxisCrossesAt||"autoZero"}"/>`,r+=' <c:auto val="1"/>',r+=' <c:lblAlgn val="ctr"/>',r+=` <c:noMultiLvlLbl val="${t.catAxisMultiLevelLabels?0:1}"/>`,t.catAxisLabelFrequency&&(r+=' <c:tickLblSkip val="'+t.catAxisLabelFrequency+'"/>'),(t.catLabelFormatCode||t._type===_e.SCATTER||t._type===_e.BUBBLE||t._type===_e.BUBBLE3D)&&(t.catLabelFormatCode&&(["catAxisBaseTimeUnit","catAxisMajorTimeUnit","catAxisMinorTimeUnit"].forEach(i=>{t[i]&&(typeof t[i]!="string"||!["days","months","years"].includes(t[i].toLowerCase()))&&(console.warn(`"${i}" must be one of: 'days','months','years' !`),t[i]=null)}),t.catAxisBaseTimeUnit&&(r+='<c:baseTimeUnit val="'+t.catAxisBaseTimeUnit.toLowerCase()+'"/>'),t.catAxisMajorTimeUnit&&(r+='<c:majorTimeUnit val="'+t.catAxisMajorTimeUnit.toLowerCase()+'"/>'),t.catAxisMinorTimeUnit&&(r+='<c:minorTimeUnit val="'+t.catAxisMinorTimeUnit.toLowerCase()+'"/>')),t.catAxisMajorUnit&&(r+=`<c:majorUnit val="${t.catAxisMajorUnit}"/>`),t.catAxisMinorUnit&&(r+=`<c:minorUnit val="${t.catAxisMinorUnit}"/>`)),t._type===_e.SCATTER||t._type===_e.BUBBLE||t._type===_e.BUBBLE3D?r+="</c:valAx>":r+="</c:"+(t.catLabelFormatCode?"dateAx":"catAx")+">",r}function Eg(t,e){let n=e===Vi?t.barDir==="col"?"l":"b":t.barDir!=="col"?"r":"t";e===nf&&(n="r");const r=e===Vi?Gc:p0;let i="";return i+="<c:valAx>",i+='  <c:axId val="'+e+'"/>',i+="  <c:scaling>",t.valAxisLogScaleBase&&(i+=`<c:logBase val="${t.valAxisLogScaleBase}"/>`),i+='<c:orientation val="'+(t.valAxisOrientation||(t.barDir==="col","minMax"))+'"/>',(t.valAxisMaxVal||t.valAxisMaxVal===0)&&(i+=`<c:max val="${t.valAxisMaxVal}"/>`),(t.valAxisMinVal||t.valAxisMinVal===0)&&(i+=`<c:min val="${t.valAxisMinVal}"/>`),i+="  </c:scaling>",i+=`  <c:delete val="${t.valAxisHidden?1:0}"/>`,i+='  <c:axPos val="'+n+'"/>',t.valGridLine.style!=="none"&&(i+=jy(t.valGridLine)),t.showValAxisTitle&&(i+=pm({color:t.valAxisTitleColor,fontFace:t.valAxisTitleFontFace,fontSize:t.valAxisTitleFontSize,titleRotate:t.valAxisTitleRotate,title:t.valAxisTitle||"Axis Title"})),i+=`<c:numFmt formatCode="${t.valAxisLabelFormatCode?$e(t.valAxisLabelFormatCode):"General"}" sourceLinked="0"/>`,t._type===_e.SCATTER?(i+='  <c:majorTickMark val="none"/>',i+='  <c:minorTickMark val="none"/>',i+='  <c:tickLblPos val="nextTo"/>'):(i+=' <c:majorTickMark val="'+(t.valAxisMajorTickMark||"out")+'"/>',i+=' <c:minorTickMark val="'+(t.valAxisMinorTickMark||"none")+'"/>',i+=' <c:tickLblPos val="'+(t.valAxisLabelPos||(t.barDir==="col"?"nextTo":"low"))+'"/>'),i+=" <c:spPr>",i+=`   <a:ln w="${t.valAxisLineSize?Ge(t.valAxisLineSize):Ld}" cap="flat">`,i+=t.valAxisLineShow?"<a:solidFill>"+wt(t.valAxisLineColor||Vs.color)+"</a:solidFill>":"<a:noFill/>",i+='     <a:prstDash val="'+(t.valAxisLineStyle||"solid")+'"/>',i+="     <a:round/>",i+="   </a:ln>",i+=" </c:spPr>",i+=" <c:txPr>",i+=`  <a:bodyPr${t.valAxisLabelRotate?' rot="'+Us(t.valAxisLabelRotate).toString()+'"':""}/>`,i+="  <a:lstStyle/>",i+="  <a:p>",i+="    <a:pPr>",i+=`      <a:defRPr sz="${Math.round((t.valAxisLabelFontSize||Gr)*100)}" b="${t.valAxisLabelFontBold?1:0}" i="${t.valAxisLabelFontItalic?1:0}" u="none" strike="noStrike">`,i+="        <a:solidFill>"+wt(t.valAxisLabelColor||gr)+"</a:solidFill>",i+='        <a:latin typeface="'+(t.valAxisLabelFontFace||"Arial")+'"/>',i+="      </a:defRPr>",i+="    </a:pPr>",i+='  <a:endParaRPr lang="'+(t.lang||"en-US")+'"/>',i+="  </a:p>",i+=" </c:txPr>",i+=' <c:crossAx val="'+r+'"/>',typeof t.catAxisCrossesAt=="number"?i+=` <c:crossesAt val="${t.catAxisCrossesAt}"/>`:typeof t.catAxisCrossesAt=="string"?i+=' <c:crosses val="'+t.catAxisCrossesAt+'"/>':i+=' <c:crosses val="'+(n==="r"||n==="t"?"max":"autoZero")+'"/>',i+=' <c:crossBetween val="'+(t._type===_e.SCATTER||Array.isArray(t._type)&&t._type.filter(a=>a.type===_e.AREA).length>0?"midCat":"between")+'"/>',t.valAxisMajorUnit&&(i+=` <c:majorUnit val="${t.valAxisMajorUnit}"/>`),t.valAxisDisplayUnit&&(i+=`<c:dispUnits><c:builtInUnit val="${t.valAxisDisplayUnit}"/>${t.valAxisDisplayUnitLabel?"<c:dispUnitsLbl/>":""}</c:dispUnits>`),i+="</c:valAx>",i}function D9(t,e,n){let r="";return r+="<c:serAx>",r+='  <c:axId val="'+e+'"/>',r+='  <c:scaling><c:orientation val="'+(t.serAxisOrientation||(t.barDir==="col","minMax"))+'"/></c:scaling>',r+='  <c:delete val="'+(t.serAxisHidden?"1":"0")+'"/>',r+='  <c:axPos val="'+(t.barDir==="col"?"b":"l")+'"/>',r+=t.serGridLine.style!=="none"?jy(t.serGridLine):"",t.showSerAxisTitle&&(r+=pm({color:t.serAxisTitleColor,fontFace:t.serAxisTitleFontFace,fontSize:t.serAxisTitleFontSize,titleRotate:t.serAxisTitleRotate,title:t.serAxisTitle||"Axis Title"})),r+=`  <c:numFmt formatCode="${$e(t.serLabelFormatCode)||"General"}" sourceLinked="0"/>`,r+='  <c:majorTickMark val="out"/>',r+='  <c:minorTickMark val="none"/>',r+=`  <c:tickLblPos val="${t.serAxisLabelPos||t.barDir==="col"?"low":"nextTo"}"/>`,r+="  <c:spPr>",r+='    <a:ln w="12700" cap="flat">',r+=t.serAxisLineShow?`<a:solidFill>${wt(t.serAxisLineColor||Vs.color)}</a:solidFill>`:"<a:noFill/>",r+='      <a:prstDash val="solid"/>',r+="      <a:round/>",r+="    </a:ln>",r+="  </c:spPr>",r+="  <c:txPr>",r+="    <a:bodyPr/>",r+="    <a:lstStyle/>",r+="    <a:p>",r+="    <a:pPr>",r+=`    <a:defRPr sz="${Math.round((t.serAxisLabelFontSize||Gr)*100)}" b="${t.serAxisLabelFontBold?"1":"0"}" i="${t.serAxisLabelFontItalic?"1":"0"}" u="none" strike="noStrike">`,r+=`      <a:solidFill>${wt(t.serAxisLabelColor||gr)}</a:solidFill>`,r+=`      <a:latin typeface="${t.serAxisLabelFontFace||"Arial"}"/>`,r+="   </a:defRPr>",r+="  </a:pPr>",r+='  <a:endParaRPr lang="'+(t.lang||"en-US")+'"/>',r+="  </a:p>",r+=" </c:txPr>",r+=' <c:crossAx val="'+n+'"/>',r+=' <c:crosses val="autoZero"/>',t.serAxisLabelFrequency&&(r+=' <c:tickLblSkip val="'+t.serAxisLabelFrequency+'"/>'),t.serLabelFormatCode&&(["serAxisBaseTimeUnit","serAxisMajorTimeUnit","serAxisMinorTimeUnit"].forEach(i=>{t[i]&&(typeof t[i]!="string"||!["days","months","years"].includes(i.toLowerCase()))&&(console.warn(`"${i}" must be one of: 'days','months','years' !`),t[i]=null)}),t.serAxisBaseTimeUnit&&(r+=` <c:baseTimeUnit  val="${t.serAxisBaseTimeUnit.toLowerCase()}"/>`),t.serAxisMajorTimeUnit&&(r+=` <c:majorTimeUnit val="${t.serAxisMajorTimeUnit.toLowerCase()}"/>`),t.serAxisMinorTimeUnit&&(r+=` <c:minorTimeUnit val="${t.serAxisMinorTimeUnit.toLowerCase()}"/>`),t.serAxisMajorUnit&&(r+=` <c:majorUnit val="${t.serAxisMajorUnit}"/>`),t.serAxisMinorUnit&&(r+=` <c:minorUnit val="${t.serAxisMinorUnit}"/>`)),r+="</c:serAx>",r}function pm(t,e,n){const r=t.titleAlign==="left"||t.titleAlign==="right"?`<a:pPr algn="${t.titleAlign.substring(0,1)}">`:"<a:pPr>",i=t.titleRotate?`<a:bodyPr rot="${Us(t.titleRotate)}"/>`:"<a:bodyPr/>",a=t.fontSize?`sz="${Math.round(t.fontSize*100)}"`:"",s=t.titleBold?1:0;let o="<c:layout/>";if(t.titlePos&&typeof t.titlePos.x=="number"&&typeof t.titlePos.y=="number"){const l=t.titlePos.x+e,c=t.titlePos.y+n;let d=l===0?0:l*(l/5)/10;d>=1&&(d=d/10),d>=.1&&(d=d/10);let h=c===0?0:c*(c/5)/10;h>=1&&(h=h/10),h>=.1&&(h=h/10),o=`<c:layout><c:manualLayout><c:xMode val="edge"/><c:yMode val="edge"/><c:x val="${d}"/><c:y val="${h}"/></c:manualLayout></c:layout>`}return`<c:title>
      <c:tx>
        <c:rich>
          ${i}
          <a:lstStyle/>
          <a:p>
            ${r}
            <a:defRPr ${a} b="${s}" i="0" u="none" strike="noStrike">
              <a:solidFill>${wt(t.color||gr)}</a:solidFill>
              <a:latin typeface="${t.fontFace||"Arial"}"/>
            </a:defRPr>
          </a:pPr>
          <a:r>
            <a:rPr ${a} b="${s}" i="0" u="none" strike="noStrike">
              <a:solidFill>${wt(t.color||gr)}</a:solidFill>
              <a:latin typeface="${t.fontFace||"Arial"}"/>
            </a:rPr>
            <a:t>${$e(t.title)||""}</a:t>
          </a:r>
        </a:p>
        </c:rich>
      </c:tx>
      ${o}
      <c:overlay val="0"/>
    </c:title>`}function Dt(t){let e="";const n=t-1;return n<=25?e=Ic[n]:e=`${Ic[Math.floor(n/Ic.length-1)]}${Ic[n%Ic.length]}`,e}function ws(t,e){if(t){if(typeof t!="object")return console.warn("`shadow` options must be an object. Ex: `{shadow: {type:'none'}}`"),"<a:effectLst/>"}else return"<a:effectLst/>";let n="<a:effectLst>";const r=Object.assign(Object.assign({},e),t),i=r.type||"outer",a=Ge(r.blur),s=Ge(r.offset),o=Math.round(r.angle*6e4),l=r.color,c=Math.round(r.opacity*1e5),d=r.rotateWithShape?1:0;return n+=`<a:${i}Shdw sx="100000" sy="100000" kx="0" ky="0"  algn="bl" blurRad="${a}" rotWithShape="${d}" dist="${s}" dir="${o}">`,n+=`<a:srgbClr val="${l}">`,n+=`<a:alpha val="${c}"/></a:srgbClr>`,n+=`</a:${i}Shdw>`,n+="</a:effectLst>",n}function jy(t){let e="<c:majorGridlines>";return e+=" <c:spPr>",e+=`  <a:ln w="${Ge(t.size||Vs.size)}" cap="${af(t.cap||Vs.cap)}">`,e+='  <a:solidFill><a:srgbClr val="'+(t.color||Vs.color)+'"/></a:solidFill>',e+='   <a:prstDash val="'+(t.style||Vs.style)+'"/><a:round/>',e+="  </a:ln>",e+=" </c:spPr>",e+="</c:majorGridlines>",e}function af(t){if(!t||t==="flat")return"flat";if(t==="square")return"sq";if(t==="round")return"rnd";{const e=t;throw new Error(`Invalid chart line cap: ${e}`)}}function Tg(t){var e,n;const r=typeof process<"u"&&!!(!((e=process.versions)===null||e===void 0)&&e.node)&&((n=process.release)===null||n===void 0?void 0:n.name)==="node";let i,a;const s=r?()=>kr(this,void 0,void 0,function*(){({default:i}=yield dp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[])),{default:a}=yield dp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[])}):()=>kr(this,void 0,void 0,function*(){});r&&s();const o=[],l=t._relsMedia.filter(d=>d.type!=="online"&&!d.data&&(!d.path||d.path&&!d.path.includes("preencoded"))),c=[];return l.forEach(d=>{c.includes(d.path)?d.isDuplicate=!0:(d.isDuplicate=!1,c.push(d.path))}),l.filter(d=>!d.isDuplicate).forEach(d=>{o.push(kr(this,void 0,void 0,function*(){if(a||(yield s()),r&&i&&d.path.indexOf("http")!==0)try{const h=i.readFileSync(d.path);return d.data=Buffer.from(h).toString("base64"),l.filter(p=>p.isDuplicate&&p.path===d.path).forEach(p=>p.data=d.data),"done"}catch(h){throw d.data=sl,l.filter(p=>p.isDuplicate&&p.path===d.path).forEach(p=>p.data=d.data),new Error(`ERROR: Unable to read media: "${d.path}"
${String(h)}`)}return r&&a&&d.path.startsWith("http")?yield new Promise((h,p)=>{a.get(d.path,m=>{let g="";m.setEncoding("binary"),m.on("data",A=>g+=A),m.on("end",()=>{d.data=Buffer.from(g,"binary").toString("base64"),l.filter(A=>A.isDuplicate&&A.path===d.path).forEach(A=>A.data=d.data),h("done")}),m.on("error",()=>{d.data=sl,l.filter(A=>A.isDuplicate&&A.path===d.path).forEach(A=>A.data=d.data),p(new Error(`ERROR! Unable to load image (https.get): ${d.path}`))})})}):yield new Promise((h,p)=>{const m=new XMLHttpRequest;m.onload=()=>{const g=new FileReader;g.onloadend=()=>{d.data=g.result,l.filter(A=>A.isDuplicate&&A.path===d.path).forEach(A=>A.data=d.data),d.isSvgPng?R_(d).then(()=>h("done")).catch(p):h("done")},g.readAsDataURL(m.response)},m.onerror=()=>{d.data=sl,l.filter(g=>g.isDuplicate&&g.path===d.path).forEach(g=>g.data=d.data),p(new Error(`ERROR! Unable to load image (xhr.onerror): ${d.path}`))},m.open("GET",d.path),m.responseType="blob",m.send()})}))}),t._relsMedia.filter(d=>d.isSvgPng&&d.data).forEach(d=>{kr(this,void 0,void 0,function*(){r&&!i&&(yield s()),r&&i?(d.data=sl,o.push(Promise.resolve("done"))):o.push(R_(d))})}),o}function R_(t){return kr(this,void 0,void 0,function*(){return yield new Promise((e,n)=>{const r=new Image;r.onload=()=>{r.width+r.height===0&&r.onerror("h/w=0");let i=document.createElement("CANVAS");const a=i.getContext("2d");i.width=r.width,i.height=r.height,a.drawImage(r,0,0);try{t.data=i.toDataURL(t.type),e("done")}catch(s){r.onerror(s.toString())}i=null},r.onerror=()=>{t.data=sl,n(new Error(`ERROR! Unable to load image (image.onerror): ${t.path}`))},r.src=typeof t.data=="string"?t.data:sl})})}const R9={cover:function(t,e){const n=t.h/t.w,i=e.h/e.w>n,a=i?e.h/n:e.w,s=i?e.h:e.w*n,o=Math.round(1e5*.5*(1-e.w/a)),l=Math.round(1e5*.5*(1-e.h/s));return`<a:srcRect l="${o}" r="${o}" t="${l}" b="${l}"/><a:stretch/>`},contain:function(t,e){const n=t.h/t.w,i=e.h/e.w>n,a=i?e.w:e.h/n,s=i?e.w*n:e.h,o=Math.round(1e5*.5*(1-e.w/a)),l=Math.round(1e5*.5*(1-e.h/s));return`<a:srcRect l="${o}" r="${o}" t="${l}" b="${l}"/><a:stretch/>`},crop:function(t,e){const n=e.x,r=t.w-(e.x+e.w),i=e.y,a=t.h-(e.y+e.h),s=Math.round(1e5*(n/t.w)),o=Math.round(1e5*(r/t.w)),l=Math.round(1e5*(i/t.h)),c=Math.round(1e5*(a/t.h));return`<a:srcRect l="${s}" r="${o}" t="${l}" b="${c}"/><a:stretch/>`}};function Ly(t){var e;let n=t._name?'<p:cSld name="'+t._name+'">':"<p:cSld>",r=1;return t._bkgdImgRid?n+=`<p:bg><p:bgPr><a:blipFill dpi="0" rotWithShape="1"><a:blip r:embed="rId${t._bkgdImgRid}"><a:lum/></a:blip><a:srcRect/><a:stretch><a:fillRect/></a:stretch></a:blipFill><a:effectLst/></p:bgPr></p:bg>`:!((e=t.background)===null||e===void 0)&&e.color?n+=`<p:bg><p:bgPr>${Dr(t.background)}</p:bgPr></p:bg>`:!t.bkgd&&t._name&&t._name===f0&&(n+='<p:bg><p:bgRef idx="1001"><a:schemeClr val="bg1"/></p:bgRef></p:bg>'),n+="<p:spTree>",n+='<p:nvGrpSpPr><p:cNvPr id="1" name=""/><p:cNvGrpSpPr/><p:nvPr/></p:nvGrpSpPr>',n+='<p:grpSpPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="0" cy="0"/>',n+='<a:chOff x="0" y="0"/><a:chExt cx="0" cy="0"/></a:xfrm></p:grpSpPr>',t._slideObjects.forEach((i,a)=>{var s,o,l,c,d,h,p,m;let g=0,A=0,x=tt("75%","X",t._presLayout),v=0,y,b="",k=null,S=null,L=0,w=0,T=null,_=null;const D=(s=i.options)===null||s===void 0?void 0:s.sizing,j=(o=i.options)===null||o===void 0?void 0:o.rounding;t._slideLayout!==void 0&&t._slideLayout._slideObjects!==void 0&&i.options&&i.options.placeholder&&(y=t._slideLayout._slideObjects.filter(C=>C.options.placeholder===i.options.placeholder)[0]),i.options=i.options||{},typeof i.options.x<"u"&&(g=tt(i.options.x,"X",t._presLayout)),typeof i.options.y<"u"&&(A=tt(i.options.y,"Y",t._presLayout)),typeof i.options.w<"u"&&(x=tt(i.options.w,"X",t._presLayout)),typeof i.options.h<"u"&&(v=tt(i.options.h,"Y",t._presLayout));let N=x,R=v;switch(y&&((y.options.x||y.options.x===0)&&(g=tt(y.options.x,"X",t._presLayout)),(y.options.y||y.options.y===0)&&(A=tt(y.options.y,"Y",t._presLayout)),(y.options.w||y.options.w===0)&&(x=tt(y.options.w,"X",t._presLayout)),(y.options.h||y.options.h===0)&&(v=tt(y.options.h,"Y",t._presLayout))),i.options.flipH&&(b+=' flipH="1"'),i.options.flipV&&(b+=' flipV="1"'),i.options.rotate&&(b+=` rot="${Us(i.options.rotate)}"`),i._type){case He.table:if(k=i.arrTabRows,S=i.options,L=0,w=0,k[0].forEach(C=>{T=C.options||null,L+=T!=null&&T.colspan?Number(T.colspan):1}),_=`<p:graphicFrame><p:nvGraphicFramePr><p:cNvPr id="${r*t._slideNum+1}" name="${i.options.objectName}"/>`,_+='<p:cNvGraphicFramePr><a:graphicFrameLocks noGrp="1"/></p:cNvGraphicFramePr>  <p:nvPr><p:extLst><p:ext uri="{D42A27DB-BD31-4B8C-83A1-F6EECF244321}"><p14:modId xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" val="1579011935"/></p:ext></p:extLst></p:nvPr></p:nvGraphicFramePr>',_+=`<p:xfrm><a:off x="${g||(g===0?0:Xe)}" y="${A||(A===0?0:Xe)}"/><a:ext cx="${x||(x===0?0:Xe)}" cy="${v||Xe}"/></p:xfrm>`,_+='<a:graphic><a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/table"><a:tbl><a:tblPr/>',Array.isArray(S.colW)){_+="<a:tblGrid>";for(let C=0;C<L;C++){let B=At(S.colW[C]);(B==null||isNaN(B))&&(B=(typeof i.options.w=="number"?i.options.w:1)/L),_+=`<a:gridCol w="${Math.round(B)}"/>`}_+="</a:tblGrid>"}else{w=S.colW?S.colW:Xe,i.options.w&&!S.colW&&(w=Math.round((typeof i.options.w=="number"?i.options.w:1)/L)),_+="<a:tblGrid>";for(let C=0;C<L;C++)_+=`<a:gridCol w="${w}"/>`;_+="</a:tblGrid>"}k.forEach(C=>{var B,$;for(let J=0;J<C.length;){const ee=C[J],Y=(B=ee.options)===null||B===void 0?void 0:B.colspan,oe=($=ee.options)===null||$===void 0?void 0:$.rowspan;if(Y&&Y>1){const H=new Array(Y-1).fill(void 0).map(()=>({_type:He.tablecell,options:{rowspan:oe},_hmerge:!0}));C.splice(J+1,0,...H),J+=Y}else J+=1}}),k.forEach((C,B)=>{const $=k[B+1];$&&C.forEach((J,ee)=>{var Y,oe;const H=J._rowContinue||((Y=J.options)===null||Y===void 0?void 0:Y.rowspan),q=(oe=J.options)===null||oe===void 0?void 0:oe.colspan,se=J._hmerge;if(H&&H>1){const he={_type:He.tablecell,options:{colspan:q},_rowContinue:H-1,_vmerge:!0,_hmerge:se};$.splice(ee,0,he)}})}),k.forEach((C,B)=>{let $=0;Array.isArray(S.rowH)&&S.rowH[B]?$=At(Number(S.rowH[B])):S.rowH&&!isNaN(Number(S.rowH))?$=At(Number(S.rowH)):(i.options.cy||i.options.h)&&($=Math.round((i.options.h?At(i.options.h):typeof i.options.cy=="number"?i.options.cy:1)/k.length)),_+=`<a:tr h="${$}">`,C.forEach(J=>{var ee,Y,oe,H,q;const se=J,he={rowSpan:((ee=se.options)===null||ee===void 0?void 0:ee.rowspan)>1?se.options.rowspan:void 0,gridSpan:((Y=se.options)===null||Y===void 0?void 0:Y.colspan)>1?se.options.colspan:void 0,vMerge:se._vmerge?1:void 0,hMerge:se._hmerge?1:void 0};let ce=Object.keys(he).map(be=>[be,he[be]]).filter(([,be])=>!!be).map(([be,I])=>`${String(be)}="${String(I)}"`).join(" ");if(ce&&(ce=" "+ce),se._hmerge||se._vmerge){_+=`<a:tc${ce}><a:tcPr/></a:tc>`;return}const Ae=se.options||{};se.options=Ae,["align","bold","border","color","fill","fontFace","fontSize","margin","textDirection","underline","valign"].forEach(be=>{S[be]&&!Ae[be]&&Ae[be]!==0&&(Ae[be]=S[be])});const xe=Ae.valign?` anchor="${Ae.valign.replace(/^c$/i,"ctr").replace(/^m$/i,"ctr").replace("center","ctr").replace("middle","ctr").replace("top","t").replace("btm","b").replace("bottom","b")}"`:"",ve=Ae.textDirection&&Ae.textDirection!=="horz"?` vert="${Ae.textDirection}"`:"";let Ie=!((H=(oe=se._optImp)===null||oe===void 0?void 0:oe.fill)===null||H===void 0)&&H.color?se._optImp.fill.color:!((q=se._optImp)===null||q===void 0)&&q.fill&&typeof se._optImp.fill=="string"?se._optImp.fill:"";Ie=Ie||Ae.fill?Ae.fill:"";const Ee=Ie?Dr(Ie):"";let pe=Ae.margin===0||Ae.margin?Ae.margin:fS;!Array.isArray(pe)&&typeof pe=="number"&&(pe=[pe,pe,pe,pe]);let ge="";pe[0]>=1?ge=` marL="${Ge(pe[3])}" marR="${Ge(pe[1])}" marT="${Ge(pe[0])}" marB="${Ge(pe[2])}"`:ge=` marL="${At(pe[3])}" marR="${At(pe[1])}" marT="${At(pe[0])}" marB="${At(pe[2])}"`,_+=`<a:tc${ce}>${j_(se)}<a:tcPr${ge}${xe}${ve}>`,Ae.border&&Array.isArray(Ae.border)&&[{idx:3,name:"lnL"},{idx:1,name:"lnR"},{idx:0,name:"lnT"},{idx:2,name:"lnB"}].forEach(be=>{Ae.border[be.idx].type!=="none"?(_+=`<a:${be.name} w="${Ge(Ae.border[be.idx].pt)}" cap="flat" cmpd="sng" algn="ctr">`,_+=`<a:solidFill>${wt(Ae.border[be.idx].color)}</a:solidFill>`,_+=`<a:prstDash val="${Ae.border[be.idx].type==="dash"?"sysDash":"solid"}"/><a:round/><a:headEnd type="none" w="med" len="med"/><a:tailEnd type="none" w="med" len="med"/>`,_+=`</a:${be.name}>`):_+=`<a:${be.name} w="0" cap="flat" cmpd="sng" algn="ctr"><a:noFill/></a:${be.name}>`}),_+=Ee,_+="  </a:tcPr>",_+=" </a:tc>"}),_+="</a:tr>"}),_+="      </a:tbl>",_+="    </a:graphicData>",_+="  </a:graphic>",_+="</p:graphicFrame>",n+=_,r++;break;case He.text:case He.placeholder:if(!i.options.line&&v===0&&(v=Xe*.3),i.options._bodyProp||(i.options._bodyProp={}),i.options.margin&&Array.isArray(i.options.margin)?(i.options._bodyProp.lIns=Ge(i.options.margin[0]||0),i.options._bodyProp.rIns=Ge(i.options.margin[1]||0),i.options._bodyProp.bIns=Ge(i.options.margin[2]||0),i.options._bodyProp.tIns=Ge(i.options.margin[3]||0)):typeof i.options.margin=="number"&&(i.options._bodyProp.lIns=Ge(i.options.margin),i.options._bodyProp.rIns=Ge(i.options.margin),i.options._bodyProp.bIns=Ge(i.options.margin),i.options._bodyProp.tIns=Ge(i.options.margin)),n+="<p:sp>",n+=`<p:nvSpPr><p:cNvPr id="${a+2}" name="${i.options.objectName}">`,!((l=i.options.hyperlink)===null||l===void 0)&&l.url&&(n+=`<a:hlinkClick r:id="rId${i.options.hyperlink._rId}" tooltip="${i.options.hyperlink.tooltip?$e(i.options.hyperlink.tooltip):""}"/>`),!((c=i.options.hyperlink)===null||c===void 0)&&c.slide&&(n+=`<a:hlinkClick r:id="rId${i.options.hyperlink._rId}" tooltip="${i.options.hyperlink.tooltip?$e(i.options.hyperlink.tooltip):""}" action="ppaction://hlinksldjump"/>`),n+="</p:cNvPr>",n+="<p:cNvSpPr"+(!((d=i.options)===null||d===void 0)&&d.isTextBox?' txBox="1"/>':"/>"),n+=`<p:nvPr>${i._type==="placeholder"?Eh(i):Eh(y)}</p:nvPr>`,n+="</p:nvSpPr><p:spPr>",n+=`<a:xfrm${b}>`,n+=`<a:off x="${g}" y="${A}"/>`,n+=`<a:ext cx="${x}" cy="${v}"/></a:xfrm>`,i.shape==="custGeom")n+="<a:custGeom><a:avLst />",n+="<a:gdLst>",n+="</a:gdLst>",n+="<a:ahLst />",n+="<a:cxnLst>",n+="</a:cxnLst>",n+='<a:rect l="l" t="t" r="r" b="b" />',n+="<a:pathLst>",n+=`<a:path w="${x}" h="${v}">`,(h=i.options.points)===null||h===void 0||h.forEach((C,B)=>{if("curve"in C)switch(C.curve.type){case"arc":n+=`<a:arcTo hR="${tt(C.curve.hR,"Y",t._presLayout)}" wR="${tt(C.curve.wR,"X",t._presLayout)}" stAng="${Us(C.curve.stAng)}" swAng="${Us(C.curve.swAng)}" />`;break;case"cubic":n+=`<a:cubicBezTo>
									<a:pt x="${tt(C.curve.x1,"X",t._presLayout)}" y="${tt(C.curve.y1,"Y",t._presLayout)}" />
									<a:pt x="${tt(C.curve.x2,"X",t._presLayout)}" y="${tt(C.curve.y2,"Y",t._presLayout)}" />
									<a:pt x="${tt(C.x,"X",t._presLayout)}" y="${tt(C.y,"Y",t._presLayout)}" />
									</a:cubicBezTo>`;break;case"quadratic":n+=`<a:quadBezTo>
									<a:pt x="${tt(C.curve.x1,"X",t._presLayout)}" y="${tt(C.curve.y1,"Y",t._presLayout)}" />
									<a:pt x="${tt(C.x,"X",t._presLayout)}" y="${tt(C.y,"Y",t._presLayout)}" />
									</a:quadBezTo>`;break}else"close"in C?n+="<a:close />":C.moveTo||B===0?n+=`<a:moveTo><a:pt x="${tt(C.x,"X",t._presLayout)}" y="${tt(C.y,"Y",t._presLayout)}" /></a:moveTo>`:n+=`<a:lnTo><a:pt x="${tt(C.x,"X",t._presLayout)}" y="${tt(C.y,"Y",t._presLayout)}" /></a:lnTo>`}),n+="</a:path>",n+="</a:pathLst>",n+="</a:custGeom>";else{if(n+='<a:prstGeom prst="'+i.shape+'"><a:avLst>',i.options.rectRadius)n+=`<a:gd name="adj" fmla="val ${Math.round(i.options.rectRadius*Xe*1e5/Math.min(x,v))}"/>`;else if(i.options.angleRange){for(let C=0;C<2;C++){const B=i.options.angleRange[C];n+=`<a:gd name="adj${C+1}" fmla="val ${Us(B)}" />`}i.options.arcThicknessRatio&&(n+=`<a:gd name="adj3" fmla="val ${Math.round(i.options.arcThicknessRatio*5e4)}" />`)}n+="</a:avLst></a:prstGeom>"}n+=i.options.fill?Dr(i.options.fill):"<a:noFill/>",i.options.line&&(n+=i.options.line.width?`<a:ln w="${Ge(i.options.line.width)}">`:"<a:ln>",i.options.line.color&&(n+=Dr(i.options.line)),i.options.line.dashType&&(n+=`<a:prstDash val="${i.options.line.dashType}"/>`),i.options.line.beginArrowType&&(n+=`<a:headEnd type="${i.options.line.beginArrowType}"/>`),i.options.line.endArrowType&&(n+=`<a:tailEnd type="${i.options.line.endArrowType}"/>`),n+="</a:ln>"),i.options.shadow&&i.options.shadow.type!=="none"&&(i.options.shadow.type=i.options.shadow.type||"outer",i.options.shadow.blur=Ge(i.options.shadow.blur||8),i.options.shadow.offset=Ge(i.options.shadow.offset||4),i.options.shadow.angle=Math.round((i.options.shadow.angle||270)*6e4),i.options.shadow.opacity=Math.round((i.options.shadow.opacity||.75)*1e5),i.options.shadow.color=i.options.shadow.color||k_.color,n+="<a:effectLst>",n+=` <a:${i.options.shadow.type}Shdw ${i.options.shadow.type==="outer"?'sx="100000" sy="100000" kx="0" ky="0" algn="bl" rotWithShape="0"':""} blurRad="${i.options.shadow.blur}" dist="${i.options.shadow.offset}" dir="${i.options.shadow.angle}">`,n+=` <a:srgbClr val="${i.options.shadow.color}">`,n+=` <a:alpha val="${i.options.shadow.opacity}"/></a:srgbClr>`,n+=" </a:outerShdw>",n+="</a:effectLst>"),n+="</p:spPr>",n+=j_(i),n+="</p:sp>";break;case He.image:if(n+="<p:pic>",n+="  <p:nvPicPr>",n+=`<p:cNvPr id="${a+2}" name="${i.options.objectName}" descr="${$e(i.options.altText||i.image)}">`,!((p=i.hyperlink)===null||p===void 0)&&p.url&&(n+=`<a:hlinkClick r:id="rId${i.hyperlink._rId}" tooltip="${i.hyperlink.tooltip?$e(i.hyperlink.tooltip):""}"/>`),!((m=i.hyperlink)===null||m===void 0)&&m.slide&&(n+=`<a:hlinkClick r:id="rId${i.hyperlink._rId}" tooltip="${i.hyperlink.tooltip?$e(i.hyperlink.tooltip):""}" action="ppaction://hlinksldjump"/>`),n+="    </p:cNvPr>",n+='    <p:cNvPicPr><a:picLocks noChangeAspect="1"/></p:cNvPicPr>',n+="    <p:nvPr>"+Eh(y)+"</p:nvPr>",n+="  </p:nvPicPr>",n+="<p:blipFill>",(t._relsMedia||[]).filter(C=>C.rId===i.imageRid)[0]&&(t._relsMedia||[]).filter(C=>C.rId===i.imageRid)[0].extn==="svg"?(n+=`<a:blip r:embed="rId${i.imageRid-1}">`,n+=i.options.transparency?` <a:alphaModFix amt="${Math.round((100-i.options.transparency)*1e3)}"/>`:"",n+=" <a:extLst>",n+='  <a:ext uri="{96DAC541-7B7A-43D3-8B79-37D633B846F1}">',n+=`   <asvg:svgBlip xmlns:asvg="http://schemas.microsoft.com/office/drawing/2016/SVG/main" r:embed="rId${i.imageRid}"/>`,n+="  </a:ext>",n+=" </a:extLst>",n+="</a:blip>"):(n+=`<a:blip r:embed="rId${i.imageRid}">`,n+=i.options.transparency?`<a:alphaModFix amt="${Math.round((100-i.options.transparency)*1e3)}"/>`:"",n+="</a:blip>"),D!=null&&D.type){const C=D.w?tt(D.w,"X",t._presLayout):x,B=D.h?tt(D.h,"Y",t._presLayout):v,$=tt(D.x||0,"X",t._presLayout),J=tt(D.y||0,"Y",t._presLayout);n+=R9[D.type]({w:N,h:R},{w:C,h:B,x:$,y:J}),N=C,R=B}else n+="  <a:stretch><a:fillRect/></a:stretch>";n+="</p:blipFill>",n+="<p:spPr>",n+=" <a:xfrm"+b+">",n+=`  <a:off x="${g}" y="${A}"/>`,n+=`  <a:ext cx="${N}" cy="${R}"/>`,n+=" </a:xfrm>",n+=` <a:prstGeom prst="${j?"ellipse":"rect"}"><a:avLst/></a:prstGeom>`,i.options.shadow&&i.options.shadow.type!=="none"&&(i.options.shadow.type=i.options.shadow.type||"outer",i.options.shadow.blur=Ge(i.options.shadow.blur||8),i.options.shadow.offset=Ge(i.options.shadow.offset||4),i.options.shadow.angle=Math.round((i.options.shadow.angle||270)*6e4),i.options.shadow.opacity=Math.round((i.options.shadow.opacity||.75)*1e5),i.options.shadow.color=i.options.shadow.color||k_.color,n+="<a:effectLst>",n+=`<a:${i.options.shadow.type}Shdw ${i.options.shadow.type==="outer"?'sx="100000" sy="100000" kx="0" ky="0" algn="bl" rotWithShape="0"':""} blurRad="${i.options.shadow.blur}" dist="${i.options.shadow.offset}" dir="${i.options.shadow.angle}">`,n+=`<a:srgbClr val="${i.options.shadow.color}">`,n+=`<a:alpha val="${i.options.shadow.opacity}"/></a:srgbClr>`,n+=`</a:${i.options.shadow.type}Shdw>`,n+="</a:effectLst>"),n+="</p:spPr>",n+="</p:pic>";break;case He.media:i.mtype==="online"?(n+="<p:pic>",n+=" <p:nvPicPr>",n+=`<p:cNvPr id="${i.mediaRid+2}" name="${i.options.objectName}"/>`,n+=" <p:cNvPicPr/>",n+=" <p:nvPr>",n+=`  <a:videoFile r:link="rId${i.mediaRid}"/>`,n+=" </p:nvPr>",n+=" </p:nvPicPr>",n+=` <p:blipFill><a:blip r:embed="rId${i.mediaRid+1}"/><a:stretch><a:fillRect/></a:stretch></p:blipFill>`,n+=" <p:spPr>",n+=`  <a:xfrm${b}><a:off x="${g}" y="${A}"/><a:ext cx="${x}" cy="${v}"/></a:xfrm>`,n+='  <a:prstGeom prst="rect"><a:avLst/></a:prstGeom>',n+=" </p:spPr>",n+="</p:pic>"):(n+="<p:pic>",n+=" <p:nvPicPr>",n+=`<p:cNvPr id="${i.mediaRid+2}" name="${i.options.objectName}"><a:hlinkClick r:id="" action="ppaction://media"/></p:cNvPr>`,n+=' <p:cNvPicPr><a:picLocks noChangeAspect="1"/></p:cNvPicPr>',n+=" <p:nvPr>",n+=`  <a:videoFile r:link="rId${i.mediaRid}"/>`,n+="  <p:extLst>",n+='   <p:ext uri="{DAA4B4D4-6D71-4841-9C94-3DE7FCFB9230}">',n+=`    <p14:media xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" r:embed="rId${i.mediaRid+1}"/>`,n+="   </p:ext>",n+="  </p:extLst>",n+=" </p:nvPr>",n+=" </p:nvPicPr>",n+=` <p:blipFill><a:blip r:embed="rId${i.mediaRid+2}"/><a:stretch><a:fillRect/></a:stretch></p:blipFill>`,n+=" <p:spPr>",n+=`  <a:xfrm${b}><a:off x="${g}" y="${A}"/><a:ext cx="${x}" cy="${v}"/></a:xfrm>`,n+='  <a:prstGeom prst="rect"><a:avLst/></a:prstGeom>',n+=" </p:spPr>",n+="</p:pic>");break;case He.chart:n+="<p:graphicFrame>",n+=" <p:nvGraphicFramePr>",n+=`   <p:cNvPr id="${a+2}" name="${i.options.objectName}" descr="${$e(i.options.altText||"")}"/>`,n+="   <p:cNvGraphicFramePr/>",n+=`   <p:nvPr>${Eh(y)}</p:nvPr>`,n+=" </p:nvGraphicFramePr>",n+=` <p:xfrm><a:off x="${g}" y="${A}"/><a:ext cx="${x}" cy="${v}"/></p:xfrm>`,n+=' <a:graphic xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main">',n+='  <a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/chart">',n+=`   <c:chart r:id="rId${i.chartRid}" xmlns:c="http://schemas.openxmlformats.org/drawingml/2006/chart"/>`,n+="  </a:graphicData>",n+=" </a:graphic>",n+="</p:graphicFrame>";break;default:n+="";break}}),t._slideNumberProps&&(t._slideNumberProps.align||(t._slideNumberProps.align="left"),n+="<p:sp>",n+=" <p:nvSpPr>",n+='  <p:cNvPr id="25" name="Slide Number Placeholder 0"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr>',n+='  <p:nvPr><p:ph type="sldNum" sz="quarter" idx="4294967295"/></p:nvPr>',n+=" </p:nvSpPr>",n+=" <p:spPr>",n+=`<a:xfrm><a:off x="${tt(t._slideNumberProps.x,"X",t._presLayout)}" y="${tt(t._slideNumberProps.y,"Y",t._presLayout)}"/><a:ext cx="${t._slideNumberProps.w?tt(t._slideNumberProps.w,"X",t._presLayout):"800000"}" cy="${t._slideNumberProps.h?tt(t._slideNumberProps.h,"Y",t._presLayout):"300000"}"/></a:xfrm> <a:prstGeom prst="rect"><a:avLst/></a:prstGeom> <a:extLst><a:ext uri="{C572A759-6A51-4108-AA02-DFA0A04FC94B}"><ma14:wrappingTextBoxFlag val="0" xmlns:ma14="http://schemas.microsoft.com/office/mac/drawingml/2011/main"/></a:ext></a:extLst></p:spPr>`,n+="<p:txBody>",n+="<a:bodyPr",t._slideNumberProps.margin&&Array.isArray(t._slideNumberProps.margin)?(n+=` lIns="${Ge(t._slideNumberProps.margin[3]||0)}"`,n+=` tIns="${Ge(t._slideNumberProps.margin[0]||0)}"`,n+=` rIns="${Ge(t._slideNumberProps.margin[1]||0)}"`,n+=` bIns="${Ge(t._slideNumberProps.margin[2]||0)}"`):typeof t._slideNumberProps.margin=="number"&&(n+=` lIns="${Ge(t._slideNumberProps.margin||0)}"`,n+=` tIns="${Ge(t._slideNumberProps.margin||0)}"`,n+=` rIns="${Ge(t._slideNumberProps.margin||0)}"`,n+=` bIns="${Ge(t._slideNumberProps.margin||0)}"`),t._slideNumberProps.valign&&(n+=` anchor="${t._slideNumberProps.valign.replace("top","t").replace("middle","ctr").replace("bottom","b")}"`),n+="/>",n+="  <a:lstStyle><a:lvl1pPr>",(t._slideNumberProps.fontFace||t._slideNumberProps.fontSize||t._slideNumberProps.color)&&(n+=`<a:defRPr sz="${Math.round((t._slideNumberProps.fontSize||12)*100)}">`,t._slideNumberProps.color&&(n+=Dr(t._slideNumberProps.color)),t._slideNumberProps.fontFace&&(n+=`<a:latin typeface="${t._slideNumberProps.fontFace}"/><a:ea typeface="${t._slideNumberProps.fontFace}"/><a:cs typeface="${t._slideNumberProps.fontFace}"/>`),n+="</a:defRPr>"),n+="</a:lvl1pPr></a:lstStyle>",n+="<a:p>",t._slideNumberProps.align.startsWith("l")?n+='<a:pPr algn="l"/>':t._slideNumberProps.align.startsWith("c")?n+='<a:pPr algn="ctr"/>':t._slideNumberProps.align.startsWith("r")?n+='<a:pPr algn="r"/>':n+='<a:pPr algn="l"/>',n+=`<a:fld id="${gS}" type="slidenum"><a:rPr b="${t._slideNumberProps.bold?1:0}" lang="en-US"/>`,n+=`<a:t>${t._slideNum}</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p>`,n+="</p:txBody></p:sp>"),n+="</p:spTree>",n+="</p:cSld>",n}function My(t,e){let n=0,r='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+Mn+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">';return t._rels.forEach(i=>{n=Math.max(n,i.rId),i.type.toLowerCase().includes("hyperlink")?i.data==="slide"?r+=`<Relationship Id="rId${i.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slide" Target="slide${i.Target}.xml"/>`:r+=`<Relationship Id="rId${i.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink" Target="${i.Target}" TargetMode="External"/>`:i.type.toLowerCase().includes("notesSlide")&&(r+=`<Relationship Id="rId${i.rId}" Target="${i.Target}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesSlide"/>`)}),(t._relsChart||[]).forEach(i=>{n=Math.max(n,i.rId),r+=`<Relationship Id="rId${i.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart" Target="${i.Target}"/>`}),(t._relsMedia||[]).forEach(i=>{const a=i.rId.toString();n=Math.max(n,i.rId),i.type.toLowerCase().includes("image")?r+='<Relationship Id="rId'+a+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image" Target="'+i.Target+'"/>':i.type.toLowerCase().includes("audio")?r.includes(' Target="'+i.Target+'"')?r+='<Relationship Id="rId'+a+'" Type="http://schemas.microsoft.com/office/2007/relationships/media" Target="'+i.Target+'"/>':r+='<Relationship Id="rId'+a+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/audio" Target="'+i.Target+'"/>':i.type.toLowerCase().includes("video")?r.includes(' Target="'+i.Target+'"')?r+='<Relationship Id="rId'+a+'" Type="http://schemas.microsoft.com/office/2007/relationships/media" Target="'+i.Target+'"/>':r+='<Relationship Id="rId'+a+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/video" Target="'+i.Target+'"/>':i.type.toLowerCase().includes("online")&&(r.includes(' Target="'+i.Target+'"')?r+='<Relationship Id="rId'+a+'" Type="http://schemas.microsoft.com/office/2007/relationships/image" Target="'+i.Target+'"/>':r+='<Relationship Id="rId'+a+'" Target="'+i.Target+'" TargetMode="External" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/video"/>')}),e.forEach((i,a)=>{r+=`<Relationship Id="rId${n+a+1}" Type="${i.type}" Target="${i.target}"/>`}),r+="</Relationships>",r}function P_(t,e){var n,r;let i="",a="",s="",o="";const l=e?"a:lvl1pPr":"a:pPr";let c=Ge(p9),d=`<${l}${t.options.rtlMode?' rtl="1" ':""}`;{if(t.options.align)switch(t.options.align){case"left":d+=' algn="l"';break;case"right":d+=' algn="r"';break;case"center":d+=' algn="ctr"';break;case"justify":d+=' algn="just"';break;default:d+="";break}if(t.options.lineSpacing?a=`<a:lnSpc><a:spcPts val="${Math.round(t.options.lineSpacing*100)}"/></a:lnSpc>`:t.options.lineSpacingMultiple&&(a=`<a:lnSpc><a:spcPct val="${Math.round(t.options.lineSpacingMultiple*1e5)}"/></a:lnSpc>`),t.options.indentLevel&&!isNaN(Number(t.options.indentLevel))&&t.options.indentLevel>0&&(d+=` lvl="${t.options.indentLevel}"`),t.options.paraSpaceBefore&&!isNaN(Number(t.options.paraSpaceBefore))&&t.options.paraSpaceBefore>0&&(s+=`<a:spcBef><a:spcPts val="${Math.round(t.options.paraSpaceBefore*100)}"/></a:spcBef>`),t.options.paraSpaceAfter&&!isNaN(Number(t.options.paraSpaceAfter))&&t.options.paraSpaceAfter>0&&(s+=`<a:spcAft><a:spcPts val="${Math.round(t.options.paraSpaceAfter*100)}"/></a:spcAft>`),typeof t.options.bullet=="object")if(!((r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.bullet)===null||r===void 0)&&r.indent&&(c=Ge(t.options.bullet.indent)),t.options.bullet.type)t.options.bullet.type.toString().toLowerCase()==="number"&&(d+=` marL="${t.options.indentLevel&&t.options.indentLevel>0?c+c*t.options.indentLevel:c}" indent="-${c}"`,i=`<a:buSzPct val="100000"/><a:buFont typeface="+mj-lt"/><a:buAutoNum type="${t.options.bullet.style||"arabicPeriod"}" startAt="${t.options.bullet.numberStartAt||t.options.bullet.startAt||"1"}"/>`);else if(t.options.bullet.characterCode){let h=`&#x${t.options.bullet.characterCode};`;/^[0-9A-Fa-f]{4}$/.test(t.options.bullet.characterCode)||(console.warn("Warning: `bullet.characterCode should be a 4-digit unicode charatcer (ex: 22AB)`!"),h=al.DEFAULT),d+=` marL="${t.options.indentLevel&&t.options.indentLevel>0?c+c*t.options.indentLevel:c}" indent="-${c}"`,i='<a:buSzPct val="100000"/><a:buChar char="'+h+'"/>'}else if(t.options.bullet.code){let h=`&#x${t.options.bullet.code};`;/^[0-9A-Fa-f]{4}$/.test(t.options.bullet.code)||(console.warn("Warning: `bullet.code should be a 4-digit hex code (ex: 22AB)`!"),h=al.DEFAULT),d+=` marL="${t.options.indentLevel&&t.options.indentLevel>0?c+c*t.options.indentLevel:c}" indent="-${c}"`,i='<a:buSzPct val="100000"/><a:buChar char="'+h+'"/>'}else d+=` marL="${t.options.indentLevel&&t.options.indentLevel>0?c+c*t.options.indentLevel:c}" indent="-${c}"`,i=`<a:buSzPct val="100000"/><a:buChar char="${al.DEFAULT}"/>`;else t.options.bullet?(d+=` marL="${t.options.indentLevel&&t.options.indentLevel>0?c+c*t.options.indentLevel:c}" indent="-${c}"`,i=`<a:buSzPct val="100000"/><a:buChar char="${al.DEFAULT}"/>`):t.options.bullet||(d+=' indent="0" marL="0"',i="<a:buNone/>");t.options.tabStops&&Array.isArray(t.options.tabStops)&&(o=`<a:tabLst>${t.options.tabStops.map(p=>`<a:tab pos="${At(p.position||1)}" algn="${p.alignment||"l"}"/>`).join("")}</a:tabLst>`),d+=">"+a+s+i+o,e&&(d+=bS(t.options,!0)),d+="</"+l+">"}return d}function bS(t,e){var n;let r="";const i=e?"a:defRPr":"a:rPr";if(r+="<"+i+' lang="'+(t.lang?t.lang:"en-US")+'"'+(t.lang?' altLang="en-US"':""),r+=t.fontSize?` sz="${Math.round(t.fontSize*100)}"`:"",r+=t!=null&&t.bold?` b="${t.bold?"1":"0"}"`:"",r+=t!=null&&t.italic?` i="${t.italic?"1":"0"}"`:"",r+=t!=null&&t.strike?` strike="${typeof t.strike=="string"?t.strike:"sngStrike"}"`:"",typeof t.underline=="object"&&(!((n=t.underline)===null||n===void 0)&&n.style)?r+=` u="${t.underline.style}"`:typeof t.underline=="string"?r+=` u="${String(t.underline)}"`:t.hyperlink&&(r+=' u="sng"'),t.baseline?r+=` baseline="${Math.round(t.baseline*50)}"`:t.subscript?r+=' baseline="-40000"':t.superscript&&(r+=' baseline="30000"'),r+=t.charSpacing?` spc="${Math.round(t.charSpacing*100)}" kern="0"`:"",r+=' dirty="0">',(t.color||t.fontFace||t.outline||typeof t.underline=="object"&&t.underline.color)&&(t.outline&&typeof t.outline=="object"&&(r+=`<a:ln w="${Ge(t.outline.size||.75)}">${Dr(t.outline.color||"FFFFFF")}</a:ln>`),t.color&&(r+=Dr({color:t.color,transparency:t.transparency})),t.highlight&&(r+=`<a:highlight>${wt(t.highlight)}</a:highlight>`),typeof t.underline=="object"&&t.underline.color&&(r+=`<a:uFill>${Dr(t.underline.color)}</a:uFill>`),t.glow&&(r+=`<a:effectLst>${y9(t.glow,g9)}</a:effectLst>`),t.fontFace&&(r+=`<a:latin typeface="${t.fontFace}" pitchFamily="34" charset="0"/><a:ea typeface="${t.fontFace}" pitchFamily="34" charset="-122"/><a:cs typeface="${t.fontFace}" pitchFamily="34" charset="-120"/>`)),t.hyperlink){if(typeof t.hyperlink!="object")throw new Error("ERROR: text `hyperlink` option should be an object. Ex: `hyperlink:{url:'https://github.com'}` ");if(!t.hyperlink.url&&!t.hyperlink.slide)throw new Error("ERROR: 'hyperlink requires either `url` or `slide`'");t.hyperlink.url?r+=`<a:hlinkClick r:id="rId${t.hyperlink._rId}" invalidUrl="" action="" tgtFrame="" tooltip="${t.hyperlink.tooltip?$e(t.hyperlink.tooltip):""}" history="1" highlightClick="0" endSnd="0"${t.color?">":"/>"}`:t.hyperlink.slide&&(r+=`<a:hlinkClick r:id="rId${t.hyperlink._rId}" action="ppaction://hlinksldjump" tooltip="${t.hyperlink.tooltip?$e(t.hyperlink.tooltip):""}"${t.color?">":"/>"}`),t.color&&(r+=" <a:extLst>",r+='  <a:ext uri="{A12FA001-AC4F-418D-AE19-62706E023703}">',r+='   <ahyp:hlinkClr xmlns:ahyp="http://schemas.microsoft.com/office/drawing/2018/hyperlinkcolor" val="tx"/>',r+="  </a:ext>",r+=" </a:extLst>",r+="</a:hlinkClick>")}return r+=`</${i}>`,r}function P9(t){return t.text?`<a:r>${bS(t.options,!1)}<a:t>${$e(t.text)}</a:t></a:r>`:""}function j9(t){let e="<a:bodyPr";return t&&t._type===He.text&&t.options._bodyProp?(e+=t.options._bodyProp.wrap?' wrap="square"':' wrap="none"',(t.options._bodyProp.lIns||t.options._bodyProp.lIns===0)&&(e+=` lIns="${t.options._bodyProp.lIns}"`),(t.options._bodyProp.tIns||t.options._bodyProp.tIns===0)&&(e+=` tIns="${t.options._bodyProp.tIns}"`),(t.options._bodyProp.rIns||t.options._bodyProp.rIns===0)&&(e+=` rIns="${t.options._bodyProp.rIns}"`),(t.options._bodyProp.bIns||t.options._bodyProp.bIns===0)&&(e+=` bIns="${t.options._bodyProp.bIns}"`),e+=' rtlCol="0"',t.options._bodyProp.anchor&&(e+=' anchor="'+t.options._bodyProp.anchor+'"'),t.options._bodyProp.vert&&(e+=' vert="'+t.options._bodyProp.vert+'"'),e+=">",t.options.fit&&(t.options.fit==="none"?e+="":t.options.fit==="shrink"?e+="<a:normAutofit/>":t.options.fit==="resize"&&(e+="<a:spAutoFit/>")),t.options.shrinkText&&(e+="<a:normAutofit/>"),e+=t.options._bodyProp.autoFit?"<a:spAutoFit/>":"",e+="</a:bodyPr>"):(e+=' wrap="square" rtlCol="0">',e+="</a:bodyPr>"),t._type===He.tablecell?"<a:bodyPr/>":e}function j_(t){const e=t.options||{};let n=[];const r=[];if(e&&t._type!==He.tablecell&&(typeof t.text>"u"||t.text===null))return"";let i=t._type===He.tablecell?"<a:txBody>":"<p:txBody>";i+=j9(t),e.h===0&&e.line&&e.align?i+='<a:lstStyle><a:lvl1pPr algn="l"/></a:lstStyle>':t._type==="placeholder"?i+=`<a:lstStyle>${P_(t,!0)}</a:lstStyle>`:i+="<a:lstStyle/>",typeof t.text=="string"||typeof t.text=="number"?n.push({text:t.text.toString(),options:e||{}}):t.text&&!Array.isArray(t.text)&&typeof t.text=="object"&&Object.keys(t.text).includes("text")?n.push({text:t.text||"",options:t.options||{}}):Array.isArray(t.text)&&(n=t.text.map(o=>({text:o.text,options:o.options}))),n.forEach((o,l)=>{o.text||(o.text=""),o.options=o.options||e||{},l===0&&o.options&&!o.options.bullet&&e.bullet&&(o.options.bullet=e.bullet),(typeof o.text=="string"||typeof o.text=="number")&&(o.text=o.text.toString().replace(/\r*\n/g,Mn)),o.text.includes(Mn)&&o.text.match(/\n$/g)===null?o.text.split(Mn).forEach(c=>{o.options.breakLine=!0,r.push({text:c,options:o.options})}):r.push(o)});const a=[];let s=[];return r.forEach((o,l)=>{s.length>0&&(o.options.align||e.align)?o.options.align!==r[l-1].options.align&&(a.push(s),s=[]):s.length>0&&o.options.bullet&&s.length>0&&(a.push(s),s=[],o.options.breakLine=!1),s.push(o),s.length>0&&o.options.breakLine&&l+1<r.length&&(a.push(s),s=[]),l+1===r.length&&a.push(s)}),a.forEach(o=>{var l;let c=!1;i+="<a:p>";let d=`<a:pPr ${!((l=o[0].options)===null||l===void 0)&&l.rtlMode?' rtl="1" ':""}`;o.forEach((h,p)=>{h.options._lineIdx=p,p>0&&h.options.softBreakBefore&&(i+="<a:br/>"),h.options.align=h.options.align||e.align,h.options.lineSpacing=h.options.lineSpacing||e.lineSpacing,h.options.lineSpacingMultiple=h.options.lineSpacingMultiple||e.lineSpacingMultiple,h.options.indentLevel=h.options.indentLevel||e.indentLevel,h.options.paraSpaceBefore=h.options.paraSpaceBefore||e.paraSpaceBefore,h.options.paraSpaceAfter=h.options.paraSpaceAfter||e.paraSpaceAfter,d=P_(h,!1),i+=d.replace("<a:pPr></a:pPr>",""),Object.entries(e).filter(([m])=>!(h.options.hyperlink&&m==="color")).forEach(([m,g])=>{m!=="bullet"&&!h.options[m]&&(h.options[m]=g)}),i+=P9(h),(!h.text&&e.fontSize||h.options.fontSize)&&(c=!0,e.fontSize=e.fontSize||h.options.fontSize)}),t._type===He.tablecell&&(e.fontSize||e.fontFace)?e.fontFace?(i+=`<a:endParaRPr lang="${e.lang||"en-US"}"`+(e.fontSize?` sz="${Math.round(e.fontSize*100)}"`:"")+' dirty="0">',i+=`<a:latin typeface="${e.fontFace}" charset="0"/>`,i+=`<a:ea typeface="${e.fontFace}" charset="0"/>`,i+=`<a:cs typeface="${e.fontFace}" charset="0"/>`,i+="</a:endParaRPr>"):i+=`<a:endParaRPr lang="${e.lang||"en-US"}"`+(e.fontSize?` sz="${Math.round(e.fontSize*100)}"`:"")+' dirty="0"/>':c?i+=`<a:endParaRPr lang="${e.lang||"en-US"}"`+(e.fontSize?` sz="${Math.round(e.fontSize*100)}"`:"")+' dirty="0"/>':i+=`<a:endParaRPr lang="${e.lang||"en-US"}" dirty="0"/>`,i+="</a:p>"}),i.indexOf("<a:p>")===-1&&(i+="<a:p><a:endParaRPr/></a:p>"),i+=t._type===He.tablecell?"</a:txBody>":"</p:txBody>",i}function Eh(t){var e,n;if(!t)return"";const r=!((e=t.options)===null||e===void 0)&&e._placeholderIdx?t.options._placeholderIdx:"",i=!((n=t.options)===null||n===void 0)&&n._placeholderType?t.options._placeholderType:"",a=i&&gu[i]?gu[i].toString():"";return`<p:ph
		${r?' idx="'+r.toString()+'"':""}
		${a&&gu[a]?` type="${a}"`:""}
		${t.text&&t.text.length>0?' hasCustomPrompt="1"':""}
		/>`}function L9(t,e,n){let r='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+Mn;return r+='<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">',r+='<Default Extension="xml" ContentType="application/xml"/>',r+='<Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>',r+='<Default Extension="jpeg" ContentType="image/jpeg"/>',r+='<Default Extension="jpg" ContentType="image/jpg"/>',r+='<Default Extension="svg" ContentType="image/svg+xml"/>',r+='<Default Extension="png" ContentType="image/png"/>',r+='<Default Extension="gif" ContentType="image/gif"/>',r+='<Default Extension="m4v" ContentType="video/mp4"/>',r+='<Default Extension="mp4" ContentType="video/mp4"/>',t.forEach(i=>{(i._relsMedia||[]).forEach(a=>{a.type!=="image"&&a.type!=="online"&&a.type!=="chart"&&a.extn!=="m4v"&&!r.includes(a.type)&&(r+='<Default Extension="'+a.extn+'" ContentType="'+a.type+'"/>')})}),r+='<Default Extension="vml" ContentType="application/vnd.openxmlformats-officedocument.vmlDrawing"/>',r+='<Default Extension="xlsx" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"/>',r+='<Override PartName="/ppt/presentation.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml"/>',r+='<Override PartName="/ppt/notesMasters/notesMaster1.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.notesMaster+xml"/>',t.forEach((i,a)=>{r+=`<Override PartName="/ppt/slideMasters/slideMaster${a+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.slideMaster+xml"/>`,r+=`<Override PartName="/ppt/slides/slide${a+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.slide+xml"/>`,i._relsChart.forEach(s=>{r+=`<Override PartName="${s.Target}" ContentType="application/vnd.openxmlformats-officedocument.drawingml.chart+xml"/>`})}),r+='<Override PartName="/ppt/presProps.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.presProps+xml"/>',r+='<Override PartName="/ppt/viewProps.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.viewProps+xml"/>',r+='<Override PartName="/ppt/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/>',r+='<Override PartName="/ppt/tableStyles.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.tableStyles+xml"/>',e.forEach((i,a)=>{r+=`<Override PartName="/ppt/slideLayouts/slideLayout${a+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.slideLayout+xml"/>`,(i._relsChart||[]).forEach(s=>{r+=' <Override PartName="'+s.Target+'" ContentType="application/vnd.openxmlformats-officedocument.drawingml.chart+xml"/>'})}),t.forEach((i,a)=>{r+=`<Override PartName="/ppt/notesSlides/notesSlide${a+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.notesSlide+xml"/>`}),n._relsChart.forEach(i=>{r+=' <Override PartName="'+i.Target+'" ContentType="application/vnd.openxmlformats-officedocument.drawingml.chart+xml"/>'}),n._relsMedia.forEach(i=>{i.type!=="image"&&i.type!=="online"&&i.type!=="chart"&&i.extn!=="m4v"&&!r.includes(i.type)&&(r+=' <Default Extension="'+i.extn+'" ContentType="'+i.type+'"/>')}),r+=' <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/>',r+=' <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/>',r+="</Types>",r}function M9(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Mn}<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
		<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/>
		<Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/>
		<Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="ppt/presentation.xml"/>
		</Relationships>`}function F9(t,e){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Mn}<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes">
	<TotalTime>0</TotalTime>
	<Words>0</Words>
	<Application>Microsoft Office PowerPoint</Application>
	<PresentationFormat>On-screen Show (16:9)</PresentationFormat>
	<Paragraphs>0</Paragraphs>
	<Slides>${t.length}</Slides>
	<Notes>${t.length}</Notes>
	<HiddenSlides>0</HiddenSlides>
	<MMClips>0</MMClips>
	<ScaleCrop>false</ScaleCrop>
	<HeadingPairs>
		<vt:vector size="6" baseType="variant">
			<vt:variant><vt:lpstr>Fonts Used</vt:lpstr></vt:variant>
			<vt:variant><vt:i4>2</vt:i4></vt:variant>
			<vt:variant><vt:lpstr>Theme</vt:lpstr></vt:variant>
			<vt:variant><vt:i4>1</vt:i4></vt:variant>
			<vt:variant><vt:lpstr>Slide Titles</vt:lpstr></vt:variant>
			<vt:variant><vt:i4>${t.length}</vt:i4></vt:variant>
		</vt:vector>
	</HeadingPairs>
	<TitlesOfParts>
		<vt:vector size="${t.length+1+2}" baseType="lpstr">
			<vt:lpstr>Arial</vt:lpstr>
			<vt:lpstr>Calibri</vt:lpstr>
			<vt:lpstr>Office Theme</vt:lpstr>
			${t.map((n,r)=>`<vt:lpstr>Slide ${r+1}</vt:lpstr>`).join("")}
		</vt:vector>
	</TitlesOfParts>
	<Company>${e}</Company>
	<LinksUpToDate>false</LinksUpToDate>
	<SharedDoc>false</SharedDoc>
	<HyperlinksChanged>false</HyperlinksChanged>
	<AppVersion>16.0000</AppVersion>
	</Properties>`}function O9(t,e,n,r){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
	<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<dc:title>${$e(t)}</dc:title>
		<dc:subject>${$e(e)}</dc:subject>
		<dc:creator>${$e(n)}</dc:creator>
		<cp:lastModifiedBy>${$e(n)}</cp:lastModifiedBy>
		<cp:revision>${r}</cp:revision>
		<dcterms:created xsi:type="dcterms:W3CDTF">${new Date().toISOString().replace(/\.\d\d\dZ/,"Z")}</dcterms:created>
		<dcterms:modified xsi:type="dcterms:W3CDTF">${new Date().toISOString().replace(/\.\d\d\dZ/,"Z")}</dcterms:modified>
	</cp:coreProperties>`}function B9(t){let e=1,n='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+Mn;n+='<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">',n+='<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideMaster" Target="slideMasters/slideMaster1.xml"/>';for(let r=1;r<=t.length;r++)n+=`<Relationship Id="rId${++e}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slide" Target="slides/slide${r}.xml"/>`;return e++,n+=`<Relationship Id="rId${e+0}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesMaster" Target="notesMasters/notesMaster1.xml"/><Relationship Id="rId${e+1}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/presProps" Target="presProps.xml"/><Relationship Id="rId${e+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/viewProps" Target="viewProps.xml"/><Relationship Id="rId${e+3}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId${e+4}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/tableStyles" Target="tableStyles.xml"/></Relationships>`,n}function z9(t){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Mn}<p:sld xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"${t!=null&&t.hidden?' show="0"':""}>${Ly(t)}<p:clrMapOvr><a:masterClrMapping/></p:clrMapOvr></p:sld>`}function V9(t){let e="";return t._slideObjects.forEach(n=>{n._type===He.notes&&(e+=n!=null&&n.text&&n.text[0]?n.text[0].text:"")}),e.replace(/\r*\n/g,Mn)}function U9(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Mn}<p:notesMaster xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"><p:cSld><p:bg><p:bgRef idx="1001"><a:schemeClr val="bg1"/></p:bgRef></p:bg><p:spTree><p:nvGrpSpPr><p:cNvPr id="1" name=""/><p:cNvGrpSpPr/><p:nvPr/></p:nvGrpSpPr><p:grpSpPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="0" cy="0"/><a:chOff x="0" y="0"/><a:chExt cx="0" cy="0"/></a:xfrm></p:grpSpPr><p:sp><p:nvSpPr><p:cNvPr id="2" name="Header Placeholder 1"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="hdr" sz="quarter"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="2971800" cy="458788"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0"/><a:lstStyle><a:lvl1pPr algn="l"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="3" name="Date Placeholder 2"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="dt" idx="1"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="3884613" y="0"/><a:ext cx="2971800" cy="458788"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0"/><a:lstStyle><a:lvl1pPr algn="r"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:fld id="{5282F153-3F37-0F45-9E97-73ACFA13230C}" type="datetimeFigureOut"><a:rPr lang="en-US"/><a:t>7/23/19</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="4" name="Slide Image Placeholder 3"/><p:cNvSpPr><a:spLocks noGrp="1" noRot="1" noChangeAspect="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldImg" idx="2"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="685800" y="1143000"/><a:ext cx="5486400" cy="3086100"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom><a:noFill/><a:ln w="12700"><a:solidFill><a:prstClr val="black"/></a:solidFill></a:ln></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0" anchor="ctr"/><a:lstStyle/><a:p><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="5" name="Notes Placeholder 4"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="body" sz="quarter" idx="3"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="685800" y="4400550"/><a:ext cx="5486400" cy="3600450"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0"/><a:lstStyle/><a:p><a:pPr lvl="0"/><a:r><a:rPr lang="en-US"/><a:t>Click to edit Master text styles</a:t></a:r></a:p><a:p><a:pPr lvl="1"/><a:r><a:rPr lang="en-US"/><a:t>Second level</a:t></a:r></a:p><a:p><a:pPr lvl="2"/><a:r><a:rPr lang="en-US"/><a:t>Third level</a:t></a:r></a:p><a:p><a:pPr lvl="3"/><a:r><a:rPr lang="en-US"/><a:t>Fourth level</a:t></a:r></a:p><a:p><a:pPr lvl="4"/><a:r><a:rPr lang="en-US"/><a:t>Fifth level</a:t></a:r></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="6" name="Footer Placeholder 5"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="ftr" sz="quarter" idx="4"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="0" y="8685213"/><a:ext cx="2971800" cy="458787"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0" anchor="b"/><a:lstStyle><a:lvl1pPr algn="l"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="7" name="Slide Number Placeholder 6"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldNum" sz="quarter" idx="5"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="3884613" y="8685213"/><a:ext cx="2971800" cy="458787"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0" anchor="b"/><a:lstStyle><a:lvl1pPr algn="r"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:fld id="{CE5E9CC1-C706-0F49-92D6-E571CC5EEA8F}" type="slidenum"><a:rPr lang="en-US"/><a:t>#</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp></p:spTree><p:extLst><p:ext uri="{BB962C8B-B14F-4D97-AF65-F5344CB8AC3E}"><p14:creationId xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" val="1024086991"/></p:ext></p:extLst></p:cSld><p:clrMap bg1="lt1" tx1="dk1" bg2="lt2" tx2="dk2" accent1="accent1" accent2="accent2" accent3="accent3" accent4="accent4" accent5="accent5" accent6="accent6" hlink="hlink" folHlink="folHlink"/><p:notesStyle><a:lvl1pPr marL="0" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl1pPr><a:lvl2pPr marL="457200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl2pPr><a:lvl3pPr marL="914400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl3pPr><a:lvl4pPr marL="1371600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl4pPr><a:lvl5pPr marL="1828800" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl5pPr><a:lvl6pPr marL="2286000" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl6pPr><a:lvl7pPr marL="2743200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl7pPr><a:lvl8pPr marL="3200400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl8pPr><a:lvl9pPr marL="3657600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl9pPr></p:notesStyle></p:notesMaster>`}function W9(t){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Mn}<p:notes xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"><p:cSld><p:spTree><p:nvGrpSpPr><p:cNvPr id="1" name=""/><p:cNvGrpSpPr/><p:nvPr/></p:nvGrpSpPr><p:grpSpPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="0" cy="0"/><a:chOff x="0" y="0"/><a:chExt cx="0" cy="0"/></a:xfrm></p:grpSpPr><p:sp><p:nvSpPr><p:cNvPr id="2" name="Slide Image Placeholder 1"/><p:cNvSpPr><a:spLocks noGrp="1" noRot="1" noChangeAspect="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldImg"/></p:nvPr></p:nvSpPr><p:spPr/></p:sp><p:sp><p:nvSpPr><p:cNvPr id="3" name="Notes Placeholder 2"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="body" idx="1"/></p:nvPr></p:nvSpPr><p:spPr/><p:txBody><a:bodyPr/><a:lstStyle/><a:p><a:r><a:rPr lang="en-US" dirty="0"/><a:t>${$e(V9(t))}</a:t></a:r><a:endParaRPr lang="en-US" dirty="0"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="4" name="Slide Number Placeholder 3"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldNum" sz="quarter" idx="10"/></p:nvPr></p:nvSpPr><p:spPr/><p:txBody><a:bodyPr/><a:lstStyle/><a:p><a:fld id="${gS}" type="slidenum"><a:rPr lang="en-US"/><a:t>${t._slideNum}</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp></p:spTree><p:extLst><p:ext uri="{BB962C8B-B14F-4D97-AF65-F5344CB8AC3E}"><p14:creationId xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" val="1024086991"/></p:ext></p:extLst></p:cSld><p:clrMapOvr><a:masterClrMapping/></p:clrMapOvr></p:notes>`}function G9(t){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
		<p:sldLayout xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main" preserve="1">
		${Ly(t)}
		<p:clrMapOvr><a:masterClrMapping/></p:clrMapOvr></p:sldLayout>`}function q9(t,e){const n=e.map((i,a)=>`<p:sldLayoutId id="${h9+a}" r:id="rId${t._rels.length+a+1}"/>`);let r='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+Mn;return r+='<p:sldMaster xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main">',r+=Ly(t),r+='<p:clrMap bg1="lt1" tx1="dk1" bg2="lt2" tx2="dk2" accent1="accent1" accent2="accent2" accent3="accent3" accent4="accent4" accent5="accent5" accent6="accent6" hlink="hlink" folHlink="folHlink"/>',r+="<p:sldLayoutIdLst>"+n.join("")+"</p:sldLayoutIdLst>",r+='<p:hf sldNum="0" hdr="0" ftr="0" dt="0"/>',r+='<p:txStyles> <p:titleStyle>  <a:lvl1pPr algn="ctr" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="0"/></a:spcBef><a:buNone/><a:defRPr sz="4400" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mj-lt"/><a:ea typeface="+mj-ea"/><a:cs typeface="+mj-cs"/></a:defRPr></a:lvl1pPr> </p:titleStyle> <p:bodyStyle>  <a:lvl1pPr marL="342900" indent="-342900" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="3200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl1pPr>  <a:lvl2pPr marL="742950" indent="-285750" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl2pPr>  <a:lvl3pPr marL="1143000" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2400" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl3pPr>  <a:lvl4pPr marL="1600200" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl4pPr>  <a:lvl5pPr marL="2057400" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl5pPr>  <a:lvl6pPr marL="2514600" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl6pPr>  <a:lvl7pPr marL="2971800" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl7pPr>  <a:lvl8pPr marL="3429000" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl8pPr>  <a:lvl9pPr marL="3886200" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl9pPr> </p:bodyStyle> <p:otherStyle>  <a:defPPr><a:defRPr lang="en-US"/></a:defPPr>  <a:lvl1pPr marL="0" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl1pPr>  <a:lvl2pPr marL="457200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl2pPr>  <a:lvl3pPr marL="914400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl3pPr>  <a:lvl4pPr marL="1371600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl4pPr>  <a:lvl5pPr marL="1828800" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl5pPr>  <a:lvl6pPr marL="2286000" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl6pPr>  <a:lvl7pPr marL="2743200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl7pPr>  <a:lvl8pPr marL="3200400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl8pPr>  <a:lvl9pPr marL="3657600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl9pPr> </p:otherStyle></p:txStyles>',r+="</p:sldMaster>",r}function $9(t,e){return My(e[t-1],[{target:"../slideMasters/slideMaster1.xml",type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideMaster"}])}function H9(t,e,n){return My(t[n-1],[{target:`../slideLayouts/slideLayout${Y9(t,e,n)}.xml`,type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideLayout"},{target:`../notesSlides/notesSlide${n}.xml`,type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesSlide"}])}function Q9(t){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
		<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
			<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesMaster" Target="../notesMasters/notesMaster1.xml"/>
			<Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slide" Target="../slides/slide${t}.xml"/>
		</Relationships>`}function X9(t,e){const n=e.map((r,i)=>({target:`../slideLayouts/slideLayout${i+1}.xml`,type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideLayout"}));return n.push({target:"../theme/theme1.xml",type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme"}),My(t,n)}function K9(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Mn}<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
		<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="../theme/theme1.xml"/>
		</Relationships>`}function Y9(t,e,n){for(let r=0;r<e.length;r++)if(e[r]._name===t[n-1]._slideLayout._name)return r+1;return 1}function J9(t){var e,n,r,i;const a=!((e=t.theme)===null||e===void 0)&&e.headFontFace?`<a:latin typeface="${(n=t.theme)===null||n===void 0?void 0:n.headFontFace}"/>`:'<a:latin typeface="Calibri Light" panose="020F0302020204030204"/>',s=!((r=t.theme)===null||r===void 0)&&r.bodyFontFace?`<a:latin typeface="${(i=t.theme)===null||i===void 0?void 0:i.bodyFontFace}"/>`:'<a:latin typeface="Calibri" panose="020F0502020204030204"/>';return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="44546A"/></a:dk2><a:lt2><a:srgbClr val="E7E6E6"/></a:lt2><a:accent1><a:srgbClr val="4472C4"/></a:accent1><a:accent2><a:srgbClr val="ED7D31"/></a:accent2><a:accent3><a:srgbClr val="A5A5A5"/></a:accent3><a:accent4><a:srgbClr val="FFC000"/></a:accent4><a:accent5><a:srgbClr val="5B9BD5"/></a:accent5><a:accent6><a:srgbClr val="70AD47"/></a:accent6><a:hlink><a:srgbClr val="0563C1"/></a:hlink><a:folHlink><a:srgbClr val="954F72"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont>${a}<a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=" Light"/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=" Light"/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Angsana New"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/><a:font script="Armn" typeface="Arial"/><a:font script="Bugi" typeface="Leelawadee UI"/><a:font script="Bopo" typeface="Microsoft JhengHei"/><a:font script="Java" typeface="Javanese Text"/><a:font script="Lisu" typeface="Segoe UI"/><a:font script="Mymr" typeface="Myanmar Text"/><a:font script="Nkoo" typeface="Ebrima"/><a:font script="Olck" typeface="Nirmala UI"/><a:font script="Osma" typeface="Ebrima"/><a:font script="Phag" typeface="Phagspa"/><a:font script="Syrn" typeface="Estrangelo Edessa"/><a:font script="Syrj" typeface="Estrangelo Edessa"/><a:font script="Syre" typeface="Estrangelo Edessa"/><a:font script="Sora" typeface="Nirmala UI"/><a:font script="Tale" typeface="Microsoft Tai Le"/><a:font script="Talu" typeface="Microsoft New Tai Lue"/><a:font script="Tfng" typeface="Ebrima"/></a:majorFont><a:minorFont>${s}<a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=""/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=""/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Cordia New"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/><a:font script="Armn" typeface="Arial"/><a:font script="Bugi" typeface="Leelawadee UI"/><a:font script="Bopo" typeface="Microsoft JhengHei"/><a:font script="Java" typeface="Javanese Text"/><a:font script="Lisu" typeface="Segoe UI"/><a:font script="Mymr" typeface="Myanmar Text"/><a:font script="Nkoo" typeface="Ebrima"/><a:font script="Olck" typeface="Nirmala UI"/><a:font script="Osma" typeface="Ebrima"/><a:font script="Phag" typeface="Phagspa"/><a:font script="Syrn" typeface="Estrangelo Edessa"/><a:font script="Syrj" typeface="Estrangelo Edessa"/><a:font script="Syre" typeface="Estrangelo Edessa"/><a:font script="Sora" typeface="Nirmala UI"/><a:font script="Tale" typeface="Microsoft Tai Le"/><a:font script="Talu" typeface="Microsoft New Tai Lue"/><a:font script="Tfng" typeface="Ebrima"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:lumMod val="110000"/><a:satMod val="105000"/><a:tint val="67000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="103000"/><a:tint val="73000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="109000"/><a:tint val="81000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:satMod val="103000"/><a:lumMod val="102000"/><a:tint val="94000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:satMod val="110000"/><a:lumMod val="100000"/><a:shade val="100000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="99000"/><a:satMod val="120000"/><a:shade val="78000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="6350" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="12700" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="19050" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="57150" dist="19050" dir="5400000" algn="ctr" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="63000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:solidFill><a:schemeClr val="phClr"><a:tint val="95000"/><a:satMod val="170000"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="93000"/><a:satMod val="150000"/><a:shade val="98000"/><a:lumMod val="102000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:tint val="98000"/><a:satMod val="130000"/><a:shade val="90000"/><a:lumMod val="103000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="63000"/><a:satMod val="120000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri="{05A4C25C-085E-4340-85A3-A5531E510DB2}"><thm15:themeFamily xmlns:thm15="http://schemas.microsoft.com/office/thememl/2012/main" name="Office Theme" id="{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}" vid="{4A3C46E8-61CC-4603-A589-7422A47A8E4A}"/></a:ext></a:extLst></a:theme>`}function Z9(t){let e=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Mn}<p:presentation xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main" ${t.rtlMode?'rtl="1"':""} saveSubsetFonts="1" autoCompressPictures="0">`;e+='<p:sldMasterIdLst><p:sldMasterId id="2147483648" r:id="rId1"/></p:sldMasterIdLst>',e+="<p:sldIdLst>",t.slides.forEach(n=>e+=`<p:sldId id="${n._slideId}" r:id="rId${n._rId}"/>`),e+="</p:sldIdLst>",e+=`<p:notesMasterIdLst><p:notesMasterId r:id="rId${t.slides.length+2}"/></p:notesMasterIdLst>`,e+=`<p:sldSz cx="${t.presLayout.width}" cy="${t.presLayout.height}"/>`,e+=`<p:notesSz cx="${t.presLayout.height}" cy="${t.presLayout.width}"/>`,e+="<p:defaultTextStyle>";for(let n=1;n<10;n++)e+=`<a:lvl${n}pPr marL="${(n-1)*457200}" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl${n}pPr>`;return e+="</p:defaultTextStyle>",t.sections&&t.sections.length>0&&(e+='<p:extLst><p:ext uri="{521415D9-36F7-43E2-AB2F-B90AF26B5E84}">',e+='<p14:sectionLst xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main">',t.sections.forEach(n=>{e+=`<p14:section name="${$e(n.title)}" id="{${rf("xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}}"><p14:sldIdLst>`,n._slides.forEach(r=>e+=`<p14:sldId id="${r._slideId}"/>`),e+="</p14:sldIdLst></p14:section>"}),e+="</p14:sectionLst></p:ext>",e+='<p:ext uri="{EFAFB233-063F-42B5-8137-9DF3F51BA10A}"><p15:sldGuideLst xmlns:p15="http://schemas.microsoft.com/office/powerpoint/2012/main"/></p:ext>',e+="</p:extLst>"),e+="</p:presentation>",e}function e8(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Mn}<p:presentationPr xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"/>`}function t8(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Mn}<a:tblStyleLst xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" def="{5C22544A-7EE6-4342-B048-85BDC9FD1C3A}"/>`}function n8(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Mn}<p:viewPr xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"><p:normalViewPr horzBarState="maximized"><p:restoredLeft sz="15611"/><p:restoredTop sz="94610"/></p:normalViewPr><p:slideViewPr><p:cSldViewPr snapToGrid="0" snapToObjects="1"><p:cViewPr varScale="1"><p:scale><a:sx n="136" d="100"/><a:sy n="136" d="100"/></p:scale><p:origin x="216" y="312"/></p:cViewPr><p:guideLst/></p:cSldViewPr></p:slideViewPr><p:notesTextViewPr><p:cViewPr><p:scale><a:sx n="1" d="1"/><a:sy n="1" d="1"/></p:scale><p:origin x="0" y="0"/></p:cViewPr></p:notesTextViewPr><p:gridSpacing cx="76200" cy="76200"/></p:viewPr>`}const r8="4.0.1";class i8{set layout(e){const n=this.LAYOUTS[e];if(n)this._layout=e,this._presLayout=n;else throw new Error("UNKNOWN-LAYOUT")}get layout(){return this._layout}get version(){return this._version}set author(e){this._author=e}get author(){return this._author}set company(e){this._company=e}get company(){return this._company}set revision(e){this._revision=e}get revision(){return this._revision}set subject(e){this._subject=e}get subject(){return this._subject}set theme(e){this._theme=e}get theme(){return this._theme}set title(e){this._title=e}get title(){return this._title}set rtlMode(e){this._rtlMode=e}get rtlMode(){return this._rtlMode}get masterSlide(){return this._masterSlide}get slides(){return this._slides}get sections(){return this._sections}get slideLayouts(){return this._slideLayouts}get AlignH(){return this._alignH}get AlignV(){return this._alignV}get ChartType(){return this._chartType}get OutputType(){return this._outputType}get presLayout(){return this._presLayout}get SchemeColor(){return this._schemeColor}get ShapeType(){return this._shapeType}get charts(){return this._charts}get colors(){return this._colors}get shapes(){return this._shapes}constructor(){this._version=r8,this._alignH=v0,this._alignV=y0,this._chartType=g0,this._outputType=m0,this._schemeColor=Nr,this._shapeType=A0,this._charts=_e,this._colors=mp,this._shapes=ss,this.addNewSlide=a=>{const s=this.sections.length>0&&this.sections[this.sections.length-1]._slides.filter(o=>o._slideNum===this.slides[this.slides.length-1]._slideNum).length>0;return a.sectionTitle=s?this.sections[this.sections.length-1].title:null,this.addSlide(a)},this.getSlide=a=>this.slides.filter(s=>s._slideNum===a)[0],this.setSlideNumber=a=>{this.masterSlide._slideNumberProps=a,this.slideLayouts.filter(s=>s._name===f0)[0]._slideNumberProps=a},this.createChartMediaRels=(a,s,o)=>{a._relsChart.forEach(l=>o.push(S9(l,s))),a._relsMedia.forEach(l=>{if(l.type!=="online"&&l.type!=="hyperlink"){let c=l.data&&typeof l.data=="string"?l.data:"";!c.includes(",")&&!c.includes(";")?c="image/png;base64,"+c:c.includes(",")?c.includes(";")||(c="image/png;"+c):c="image/png;base64,"+c,s.file(l.Target.replace("..","ppt"),c.split(",").pop(),{base64:!0})}})},this.writeFileToBrowser=(a,s)=>kr(this,void 0,void 0,function*(){const o=document.createElement("a");if(o.setAttribute("style","display:none;"),o.dataset.interception="off",document.body.appendChild(o),window.URL.createObjectURL){const l=window.URL.createObjectURL(new Blob([s],{type:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}));return o.href=l,o.download=a,o.click(),setTimeout(()=>{window.URL.revokeObjectURL(l),document.body.removeChild(o)},100),yield Promise.resolve(a)}}),this.exportPresentation=a=>kr(this,void 0,void 0,function*(){const s=[];let o=[];const l=new hS;return this.slides.forEach(c=>{o=o.concat(Tg(c))}),this.slideLayouts.forEach(c=>{o=o.concat(Tg(c))}),o=o.concat(Tg(this.masterSlide)),yield Promise.all(o).then(()=>kr(this,void 0,void 0,function*(){return this.slides.forEach(c=>{c._slideLayout&&I9(c)}),l.folder("_rels"),l.folder("docProps"),l.folder("ppt").folder("_rels"),l.folder("ppt/charts").folder("_rels"),l.folder("ppt/embeddings"),l.folder("ppt/media"),l.folder("ppt/slideLayouts").folder("_rels"),l.folder("ppt/slideMasters").folder("_rels"),l.folder("ppt/slides").folder("_rels"),l.folder("ppt/theme"),l.folder("ppt/notesMasters").folder("_rels"),l.folder("ppt/notesSlides").folder("_rels"),l.file("[Content_Types].xml",L9(this.slides,this.slideLayouts,this.masterSlide)),l.file("_rels/.rels",M9()),l.file("docProps/app.xml",F9(this.slides,this.company)),l.file("docProps/core.xml",O9(this.title,this.subject,this.author,this.revision)),l.file("ppt/_rels/presentation.xml.rels",B9(this.slides)),l.file("ppt/theme/theme1.xml",J9(this)),l.file("ppt/presentation.xml",Z9(this)),l.file("ppt/presProps.xml",e8()),l.file("ppt/tableStyles.xml",t8()),l.file("ppt/viewProps.xml",n8()),this.slideLayouts.forEach((c,d)=>{l.file(`ppt/slideLayouts/slideLayout${d+1}.xml`,G9(c)),l.file(`ppt/slideLayouts/_rels/slideLayout${d+1}.xml.rels`,$9(d+1,this.slideLayouts))}),this.slides.forEach((c,d)=>{l.file(`ppt/slides/slide${d+1}.xml`,z9(c)),l.file(`ppt/slides/_rels/slide${d+1}.xml.rels`,H9(this.slides,this.slideLayouts,d+1)),l.file(`ppt/notesSlides/notesSlide${d+1}.xml`,W9(c)),l.file(`ppt/notesSlides/_rels/notesSlide${d+1}.xml.rels`,Q9(d+1))}),l.file("ppt/slideMasters/slideMaster1.xml",q9(this.masterSlide,this.slideLayouts)),l.file("ppt/slideMasters/_rels/slideMaster1.xml.rels",X9(this.masterSlide,this.slideLayouts)),l.file("ppt/notesMasters/notesMaster1.xml",U9()),l.file("ppt/notesMasters/_rels/notesMaster1.xml.rels",K9()),this.slideLayouts.forEach(c=>{this.createChartMediaRels(c,l,s)}),this.slides.forEach(c=>{this.createChartMediaRels(c,l,s)}),this.createChartMediaRels(this.masterSlide,l,s),yield Promise.all(s).then(()=>kr(this,void 0,void 0,function*(){return a.outputType==="STREAM"?yield l.generateAsync({type:"nodebuffer",compression:a.compression?"DEFLATE":"STORE"}):a.outputType?yield l.generateAsync({type:a.outputType}):yield l.generateAsync({type:"blob",compression:a.compression?"DEFLATE":"STORE"})}))}))});const e={name:"screen4x3",width:9144e3,height:6858e3},n={name:"screen16x9",width:9144e3,height:5143500},r={name:"screen16x10",width:9144e3,height:5715e3},i={name:"custom",width:12192e3,height:6858e3};this.LAYOUTS={LAYOUT_4x3:e,LAYOUT_16x9:n,LAYOUT_16x10:r,LAYOUT_WIDE:i},this._author="PptxGenJS",this._company="PptxGenJS",this._revision="1",this._subject="PptxGenJS Presentation",this._title="PptxGenJS Presentation",this._presLayout={name:this.LAYOUTS[jo].name,_sizeW:this.LAYOUTS[jo].width,_sizeH:this.LAYOUTS[jo].height,width:this.LAYOUTS[jo].width,height:this.LAYOUTS[jo].height},this._rtlMode=!1,this._slideLayouts=[{_margin:ad,_name:f0,_presLayout:this._presLayout,_rels:[],_relsChart:[],_relsMedia:[],_slide:null,_slideNum:1e3,_slideNumberProps:null,_slideObjects:[]}],this._slides=[],this._sections=[],this._masterSlide={addChart:null,addImage:null,addMedia:null,addNotes:null,addShape:null,addTable:null,addText:null,_name:null,_presLayout:this._presLayout,_rId:null,_rels:[],_relsChart:[],_relsMedia:[],_slideId:null,_slideLayout:null,_slideNum:null,_slideNumberProps:null,_slideObjects:[]}}stream(e){return kr(this,void 0,void 0,function*(){return yield this.exportPresentation({compression:e==null?void 0:e.compression,outputType:"STREAM"})})}write(e){return kr(this,void 0,void 0,function*(){const n=typeof e=="object"&&(e!=null&&e.outputType)?e.outputType:e||null,r=typeof e=="object"&&(e!=null&&e.compression)?e.compression:!1;return yield this.exportPresentation({compression:r,outputType:n})})}writeFile(e){return kr(this,void 0,void 0,function*(){var n,r;const i=typeof process<"u"&&!!(!((n=process.versions)===null||n===void 0)&&n.node)&&((r=process.release)===null||r===void 0?void 0:r.name)==="node";typeof e=="string"&&(console.warn("[WARNING] writeFile(string) is deprecated - pass { fileName } instead."),e={fileName:e});const{fileName:a="Presentation.pptx",compression:s=!1}=e,o=a.toLowerCase().endsWith(".pptx")?a:`${a}.pptx`,l=i?"nodebuffer":null,c=yield this.exportPresentation({compression:s,outputType:l});if(i){const{promises:d}=yield dp(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),{writeFile:h}=d;return yield h(o,c),o}return yield this.writeFileToBrowser(o,c),o})}addSection(e){e?e.title||console.warn("addSection requires a title"):console.warn("addSection requires an argument");const n={_type:"user",_slides:[],title:e.title};e.order?this.sections.splice(e.order,0,n):this._sections.push(n)}addSlide(e){const n=typeof e=="string"?e:e!=null&&e.masterName?e.masterName:"";let r={_name:this.LAYOUTS[jo].name,_presLayout:this.presLayout,_rels:[],_relsChart:[],_relsMedia:[],_slideNum:this.slides.length+1};if(n){const a=this.slideLayouts.filter(s=>s._name===n)[0];a&&(r=a)}const i=new N9({addSlide:this.addNewSlide,getSlide:this.getSlide,presLayout:this.presLayout,setSlideNum:this.setSlideNumber,slideId:this.slides.length+256,slideRId:this.slides.length+2,slideNumber:this.slides.length+1,slideLayout:r});if(this._slides.push(i),e!=null&&e.sectionTitle){const a=this.sections.filter(s=>s.title===e.sectionTitle)[0];a?a._slides.push(i):console.warn(`addSlide: unable to find section with title: "${e.sectionTitle}"`)}else if(this.sections&&this.sections.length>0&&!(e!=null&&e.sectionTitle)){const a=this._sections[this.sections.length-1];a._type==="default"?a._slides.push(i):this._sections.push({title:`Default-${this.sections.filter(s=>s._type==="default").length+1}`,_type:"default",_slides:[i]})}return i}defineLayout(e){e?e.name?e.width?e.height?typeof e.height!="number"?console.warn("defineLayout `height` should be a number (inches)"):typeof e.width!="number"&&console.warn("defineLayout `width` should be a number (inches)"):console.warn("defineLayout requires `height`"):console.warn("defineLayout requires `width`"):console.warn("defineLayout requires `name`"):console.warn("defineLayout requires `{name, width, height}`"),this.LAYOUTS[e.name]={name:e.name,_sizeW:Math.round(Number(e.width)*Xe),_sizeH:Math.round(Number(e.height)*Xe),width:Math.round(Number(e.width)*Xe),height:Math.round(Number(e.height)*Xe)}}defineSlideMaster(e){const n=JSON.parse(JSON.stringify(e));if(!n.title)throw new Error("defineSlideMaster() object argument requires a `title` value. (https://gitbrent.github.io/PptxGenJS/docs/masters.html)");const r={_margin:n.margin||ad,_name:n.title,_presLayout:this.presLayout,_rels:[],_relsChart:[],_relsMedia:[],_slide:null,_slideNum:1e3+this.slideLayouts.length+1,_slideNumberProps:n.slideNumber||null,_slideObjects:[],background:n.background||null,bkgd:n.bkgd||null};_9(n,r),this.slideLayouts.push(r),(n.background||n.bkgd)&&xS(n.background,r),r._slideNumberProps&&!this.masterSlide._slideNumberProps&&(this.masterSlide._slideNumberProps=r._slideNumberProps)}tableToSlides(e,n={}){b9(this,e,n,n!=null&&n.masterSlideName?this.slideLayouts.filter(r=>r._name===n.masterSlideName)[0]:null)}}const L_=async(t,e={})=>{var p,m,g;const n=new i8;n.layout="LAYOUT_16x9";const r="00204A",i="0072BC",a="1F2937";let s={},o={};(p=e.templateConfig)!=null&&p.branding&&(console.log("Loading Branding Images for configuration:",e.templateConfig.branding),e.templateConfig.branding.logoId&&(s.logo=await zs(e.templateConfig.branding.logoId)||void 0,e.templateConfig.branding.logoWidth&&e.templateConfig.branding.logoHeight&&(o.logo={w:e.templateConfig.branding.logoWidth,h:e.templateConfig.branding.logoHeight}),console.log("Logo Loaded:",!!s.logo,o.logo)),e.templateConfig.branding.headerId&&(s.header=await zs(e.templateConfig.branding.headerId)||void 0),e.templateConfig.branding.footerId&&(s.footer=await zs(e.templateConfig.branding.footerId)||void 0));const l=A=>{var v,y,b,k,S,L,w;const x=n.addSlide();if(s.header&&x.addImage({data:s.header,x:0,y:0,w:"100%",h:1}),s.footer&&x.addImage({data:s.footer,x:0,y:5.625-.8,w:"100%",h:.8}),s.logo){const T=((v=o.logo)==null?void 0:v.w)||1.42,_=((y=o.logo)==null?void 0:y.h)||.29;let D=10-T-.18,j=.15;((k=(b=e.templateConfig)==null?void 0:b.branding)==null?void 0:k.logoX)!==void 0&&(D=e.templateConfig.branding.logoX),((L=(S=e.templateConfig)==null?void 0:S.branding)==null?void 0:L.logoY)!==void 0&&(j=e.templateConfig.branding.logoY),x.addImage({data:s.logo,x:D,y:j,w:T,h:_})}if(A){let T=.5,_=.5,D=.5,j=.9,N=9;if((w=e.templateConfig)!=null&&w.branding){const C=e.templateConfig.branding;C.titleX!==void 0&&(T=C.titleX),C.titleY!==void 0&&(_=C.titleY),C.lineX!==void 0&&(D=C.lineX),C.lineY!==void 0&&(j=C.lineY),C.lineWidth!==void 0&&(N=C.lineWidth)}const R=Math.max(4,9.8-T);x.addText(A,{x:T,y:_,w:R,h:.38,fontSize:20,color:r,bold:!0,align:"left",isTextBox:!0,autoFit:!1}),x.addShape(n.ShapeType.line,{x:D,y:j,w:N,h:0,line:{color:i,width:2}})}return x},c=(A,x)=>{const v=[],y=A.split(`
`);return y.forEach((b,k)=>{const S=b.trim();if(S.length===0){k<y.length-1&&v.push({text:"",options:{breakLine:!0,fontSize:x,paraSpaceBefore:0,paraSpaceAfter:0}});return}let L=!1,w=!1,T=0,_=b;if(S.startsWith("#")){const j=S.match(/^(#+)\s+(.*)/);if(j){const N=j[1].length;_=j[2]||"",w=!0,N===1?T=6:N===2?T=4:T=2}}else(S.startsWith("- ")||S.startsWith("* "))&&(L=!0,_=S.substring(2));const D=_.split(/(\*\*.*?\*\*)/g);D.forEach((j,N)=>{if(!j)return;let R=!1,C=j;j.startsWith("**")&&j.endsWith("**")&&(R=!0,C=j.substring(2,j.length-2));const B={fontSize:x+T,bold:R||w,paraSpaceBefore:0,paraSpaceAfter:0};N===D.length-1&&(B.breakLine=!0),L&&N===0&&(B.bullet={code:"2022"},B.indentLevel=0),v.push({text:C,options:B})})}),v},d=()=>{var A;if(t.documentation){const x=(A=e.templateConfig)==null?void 0:A.slides.some(w=>{var T;return w.type==="custom"&&((T=w.overlays)==null?void 0:T.some(_=>_.text.toLowerCase().includes("{contexto}")))}),v=["context_overview","technical_solution","implementation_steps","testing_strategy","scope","non_scope"],y=Object.keys(t.documentation),b=v.filter(w=>y.includes(w)),k=y.filter(w=>!v.includes(w)),S=[...b,...k],L=t.documentation;S.forEach(w=>{const T=L?L[w]:void 0;if(!T||T.trim().length===0||w==="context_overview"&&x)return;let _=w.split("_").map(R=>R.charAt(0).toUpperCase()+R.slice(1)).join(" ");const D={context_overview:"Contexto Estratgico",technical_solution:"Soluo Tcnica",implementation_steps:"Estratgia de Implementao",testing_strategy:"Plano de Testes",scope:"Detalhamento de Escopo (Quantitativo)",non_scope:"No Escopo (Fora do Permetro)"};D[w]&&(_=D[w]);const j=l(_),N=c(T,10);w==="context_overview"?(j.addText(N,{x:.5,y:1.2,w:"45%",h:4,color:a,align:"justify",valign:"top",paraSpaceBefore:0,paraSpaceAfter:0}),j.addText("Espao para Diagrama / Imagem",{x:5.5,y:1.2,w:"40%",h:3.5,fontSize:14,color:"AAAAAA",align:"center",shape:n.ShapeType.rect,fill:{color:"FFFFFF"},line:{color:"DDDDDD",dashType:"dash"}})):j.addText(N,{x:.5,y:1.2,w:"90%",h:4,color:a,valign:"top",paraSpaceBefore:0,paraSpaceAfter:0})})}if(t.technicalPremises&&t.technicalPremises.length>0){const x=l("Premissas Tcnicas e Restries"),v=t.technicalPremises.map(y=>({text:y,options:{fontSize:10,breakLine:!0,bullet:{code:"2022"},paraSpaceBefore:0,paraSpaceAfter:0}}));x.addText(v,{x:.5,y:1.2,w:"90%",color:a,valign:"top"})}if(t.raciMatrix&&t.raciMatrix.length>0){const x=l("Matriz de Responsabilidades (RACI)"),v=[[{text:"Atividade",options:{bold:!0,fill:i,color:"FFFFFF"}},{text:"Responsvel (R)",options:{bold:!0,fill:i,color:"FFFFFF"}},{text:"Aprovador (A)",options:{bold:!0,fill:i,color:"FFFFFF"}},{text:"Consultado (C)",options:{bold:!0,fill:i,color:"FFFFFF"}},{text:"Informado (I)",options:{bold:!0,fill:i,color:"FFFFFF"}}]];t.raciMatrix.forEach(y=>{v.push([{text:y.activity_group,options:{fontSize:10}},{text:y.responsible,options:{fontSize:10}},{text:y.accountable,options:{fontSize:10}},{text:y.consulted,options:{fontSize:10}},{text:y.informed,options:{fontSize:10}}])}),x.addTable(v,{x:.5,y:1.2,w:9,fontSize:10,border:{pt:1,color:"DDDDDD"},autoPage:!0,rowH:.4})}if(t.teamStructure&&t.teamStructure.length>0){const x=l("Estrutura de Equipe Sugerida"),v=[[{text:"Papel / Especialista",options:{bold:!0,fill:i,color:"FFFFFF"}},{text:"Qtd",options:{bold:!0,fill:i,color:"FFFFFF",align:"center"}},{text:"Responsabilidades Chave",options:{bold:!0,fill:i,color:"FFFFFF"}}]];t.teamStructure.forEach(y=>{v.push([{text:y.role,options:{fontSize:10,bold:!0,fill:"F3F4F6",color:r}},{text:y.quantity.toString(),options:{fontSize:10,align:"center"}},{text:y.responsibilities.join(", "),options:{fontSize:10}}])}),x.addTable(v,{x:.5,y:1.2,w:9,fontSize:10,border:{pt:1,color:"DDDDDD"},rowH:.5,autoPage:!0}),x.addText("Nota: A alocao considera dedicao varivel conforme a fase do projeto. O dimensionamento final pode ser ajustado na etapa de contrato.",{x:.5,y:5.2,w:9,h:.3,fontSize:9,color:"666666",italic:!0})}if(t.clientResponsibilities&&t.clientResponsibilities.length>0){const x=l("Responsabilidades do Cliente"),v=[[{text:"Ao Necessria",options:{bold:!0,fill:i,color:"FFFFFF"}},{text:"Prazo / Marco",options:{bold:!0,fill:i,color:"FFFFFF"}},{text:"Impacto no Projeto",options:{bold:!0,fill:i,color:"FFFFFF"}}]];t.clientResponsibilities.forEach(y=>{v.push([{text:y.action_item,options:{fontSize:10}},{text:y.deadline_description,options:{fontSize:10}},{text:y.impact,options:{fontSize:10,bold:!0,color:y.impact==="BLOCKER"?"DC2626":"000000"}}])}),x.addTable(v,{x:.5,y:1.2,w:9,fontSize:10,border:{pt:1,color:"DDDDDD"},rowH:.5})}if(e.tasks&&e.tasks.length>0){const x=l("Cronograma Macro (Editvel)"),v=e.tasks.filter(y=>y.type==="project"||!y.parent).sort((y,b)=>(y.order||0)-(b.order||0));if(v.length>0){const y=e.viewMode==="Week";let b=new Date(v[0].start),k=new Date(v[0].end);v.forEach(ce=>{const Ae=new Date(ce.start),xe=new Date(ce.end);Ae<b&&(b=Ae),xe>k&&(k=xe)}),k.setDate(k.getDate()+15),y?b.setDate(b.getDate()-b.getDay()):b.setDate(1);const S=.5,L=9.2,w=2,T=1,_=.69,D=T+_+.1,j=.45,N=y?.16/7:.21/30,R=["0072BC","003B5C","4B9CD3","2C5282","1A365D","5198D6"],C=Lu(b,k),B=C*8;x.addText(`Total Estimado:
${C} dias teis / ${B}h`,{x:S,y:T,w,h:_,fontSize:10,color:"1F2937",bold:!0,align:"center",valign:"middle",fill:{color:"F3F4F6"},line:{color:"FFFFFF",width:1}});let $=new Date(b),J=0;for(;;){const ce=new Date($);y?ce.setDate(ce.getDate()+7):ce.setMonth(ce.getMonth()+1);const xe=Math.max(0,$.getTime()-b.getTime())/(1e3*3600*24),ve=S+w+xe*N;if(ve>S+L-.05)break;const Ee=(ce.getTime()-$.getTime())/(1e3*3600*24)*N,pe=["D0E1F2","B4D5E6","E1EFF9","C8DEEF"],ge=pe[J%pe.length];x.addShape(n.ShapeType.rect,{x:ve,y:T,w:Ee,h:_,fill:{color:ge},line:{color:"FFFFFF",width:1}});let be=y?$.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}):`${$.toLocaleDateString("pt-BR",{month:"short"}).toUpperCase().replace(".","")}/${$.toLocaleDateString("pt-BR",{year:"2-digit"})}`;x.addText(be,{x:ve+Ee/2-.69/2,y:T+_/2-.21/2,w:.69,h:.21,fontSize:9,color:"374151",rotate:270,align:"center",valign:"middle"}),x.addShape(n.ShapeType.line,{x:ve,y:D,w:0,h:v.length*j+.1,line:{color:"E5E7EB",width:1}}),$=ce,J++}v.forEach((ce,Ae)=>{const xe=D+Ae*j,ve=R[Ae%R.length];Ae%2===0&&x.addShape(n.ShapeType.rect,{x:S,y:xe,w:L,h:j,fill:{color:"F9FAFB"}});const Ie=(Ae+1).toString();x.addShape(n.ShapeType.ellipse,{x:S+.05,y:xe+.05,w:.3,h:.3,fill:{color:ve}}),x.addText(Ie,{x:S+.05,y:xe+.05,w:.3,h:.3,fontSize:9,bold:!0,color:"FFFFFF",align:"center",valign:"middle"}),x.addText(ce.name,{x:S+.4,y:xe,w:w-.45,h:j,fontSize:10,bold:!0,color:"374151",valign:"middle"});let Ee=new Date(ce.start),pe=new Date(ce.end);Ee<b&&(Ee=b),pe>k&&(pe=k);const ge=(Ee.getTime()-b.getTime())/(1e3*3600*24),be=(pe.getTime()-Ee.getTime())/(1e3*3600*24),I=S+w+ge*N;let z=be*N;z<.1&&(z=.1),x.addShape(n.ShapeType.rect,{x:I,y:xe+j/2-.08,w:z,h:.16,fill:{color:ve}});const W=Lu(Ee,pe),O=W*8,M=`${W} dias / ${O}h`;x.addText(M,{x:I,y:xe-.05,w:Math.max(1.5,z),h:.2,fontSize:8,color:"6B7280",align:"left",bold:!0}),Ee>=b&&x.addShape(n.ShapeType.ellipse,{x:I-.08,y:xe+j/2-.08,w:.16,h:.16,line:{color:ve,width:2},fill:{color:"FFFFFF"}}),pe<=k&&x.addShape(n.ShapeType.ellipse,{x:I+z-.08,y:xe+j/2-.08,w:.16,h:.16,fill:{color:ve}})});const ee=D+v.length*j+.4;x.addText("Proposta de Faturamento (Marcos de Entrega)",{x:S,y:ee,w:5,h:.3,fontSize:12,bold:!0,color:"003B5C"});const Y=ee+.35;x.addShape(n.ShapeType.rect,{x:S,y:Y,w:4.8,h:.25,fill:{color:"E5E7EB"}}),x.addText("Marco",{x:S+.1,y:Y,w:2.3,h:.25,fontSize:8,bold:!0,color:"374151"}),x.addText("Data Estimada",{x:S+2.4,y:Y,w:1.5,h:.25,fontSize:8,bold:!0,color:"374151"}),x.addText("% Fat.",{x:S+3.9,y:Y,w:.9,h:.25,fontSize:8,bold:!0,color:"374151",align:"center"});let oe=Y+.25,H=[];if(v.length===4)H=[10,25,45,20];else{const ce=Math.floor(100/v.length);H=Array(v.length).fill(ce);const Ae=H.reduce((xe,ve)=>xe+ve,0);Ae<100&&(H[H.length-1]+=100-Ae)}v.forEach((ce,Ae)=>{const ve=new Date(ce.end).toLocaleDateString("pt-BR"),Ie=H[Ae]||0;x.addShape(n.ShapeType.line,{x:S,y:oe+.25,w:4.8,h:0,line:{color:"D1D5DB"}}),x.addText(`${Ae+1}. ${ce.name}`,{x:S+.1,y:oe,w:2.3,h:.25,fontSize:8,color:"4B5563"}),x.addText(ve,{x:S+2.4,y:oe,w:1.5,h:.25,fontSize:8,color:"4B5563"}),x.addText(`${Ie}%`,{x:S+3.9,y:oe,w:.9,h:.25,fontSize:8,color:"4B5563",align:"center"}),oe+=.25});const q=S+5.2,se=L-5.2;x.addText("Consideraes do Planejamento:",{x:q,y:ee,w:se,h:.3,fontSize:12,bold:!0,color:"003B5C"}),x.addText(`Este cronograma macro apresenta uma viso executiva e no exaustiva das atividades previstas. As datas e duraes so estimativas preliminares que podero sofrer ajustes conforme o aprofundamento tcnico realizado na fase de 'Planejamento e Anlise'.

A validao final deste plano depender do detalhamento dos requisitos e da confirmao de premissas junto  equipe do cliente, garantindo a conformidade com os objetivos de negcio.`,{x:q,y:Y,w:se,h:1.5,fontSize:8,color:"4B5563",align:"justify",valign:"top"})}}};console.log("Starting PPT Generation with options:",e);const h=((m=e.templateConfig)==null?void 0:m.slides)||[{id:"auto",type:"automatic",name:"Standard"}];console.log("Slides to generate:",h);for(const A of h)if(console.log(`Processing slide: ${A.name} (${A.type})`),A.type==="custom"&&A.imageId){console.log(`Attempting to retrieve image: ${A.imageId}`);try{const x=await zs(A.imageId);if(x){console.log("Image retrieved successfully. Adding slide.");const v=n.addSlide();if(v.background={data:x},A.overlays&&A.overlays.length>0)try{const y=t.clientName||"Cliente",b=t.name||"Projeto",k=new Date().toLocaleDateString("pt-BR"),S=((g=t.documentation)==null?void 0:g.context_overview)||"";A.overlays.forEach(L=>{let w=L.text||"";w=w.replace(/{cliente}/gi,y),w=w.replace(/{projeto}/gi,b),w=w.replace(/{data}/gi,k),w=w.replace(/{contexto}/gi,S);const T=c(w,L.fontSize);v.addText(T,{x:L.x,y:L.y,w:L.width&&L.width>0?L.width:void 0,h:L.height&&L.height>0?L.height:void 0,color:L.color,fontFace:"Arial",wrap:!!(L.width&&L.width>0)})})}catch(y){console.error("Error adding overlays:",y)}}else console.error(`Image not found in DB for key: ${A.imageId}`),n.addSlide().addText(`AVISO: Imagem no encontrada (ID: ${A.imageId})`,{x:.5,y:.5,fontSize:14,color:"FF0000"})}catch(x){console.error("Error retrieving image from DB:",x),n.addSlide().addText("ERRO: Falha ao carregar imagem",{x:.5,y:.5,fontSize:14,color:"FF0000"})}}else A.type==="automatic"&&(console.log("Generating automatic project content..."),d());console.log("Writing file..."),n.writeFile({fileName:`Proposta_${t.name}.pptx`})},Vo=(t,e)=>!t||!e?0:Lu(t,e),a8=(t,e)=>{if(t.length===0)return{totalCost:0,totalRealCost:0,progress:0,plannedProgress:0,totalDuration:0,totalRealDuration:0,spi:0,cpi:0};let n=new Date(864e13),r=new Date(-864e13),i=new Date(864e13),a=new Date(-864e13),s=0,o=0,l=0,c=0,d=0,h=0,p=0;const m=t.filter(S=>S.type!=="project");if(m.length===0)return{totalCost:0,totalRealCost:0,progress:0,plannedProgress:0,totalDuration:0,totalRealDuration:0,spi:0,cpi:0};const g=new Date;g.setHours(12,0,0,0),m.forEach(S=>{const L=S.start.getTime(),w=S.end.getTime();L<n.getTime()&&(n=S.start),w>r.getTime()&&(r=S.end),S.realStart&&S.realStart.getTime()<i.getTime()&&(i=S.realStart),S.realEnd&&S.realEnd.getTime()>a.getTime()&&(a=S.realEnd);const T=Math.max(1,Vo(S.start,S.end));let _=0;const D=new Date(S.start);D.setHours(12,0,0,0);const j=new Date(S.end);if(j.setHours(12,0,0,0),ju(D,g))_=0;else if(ju(g,j))_=1;else{const R=Vo(D,g);_=Math.min(1,Math.max(0,R/T))}d+=T,h+=T*((S.progress||0)/100),p+=T*_;let N=S.hourlyRate||0;if(!N&&S.resourceId&&e.length>0){const R=e.find(C=>C.id===S.resourceId);R&&(N=R.hourlyRate)}if(N>0){const R=T*8*N;if(s+=R,l+=R*((S.progress||0)/100),S.realStart&&S.realEnd){const C=Math.max(1,Vo(S.realStart,S.realEnd));o+=C*8*N}c+=R*_}});const A=Vo(n,r);let x=0;a.getTime()>-864e13&&i.getTime()<864e13&&(x=Vo(i,a));let v=0,y=0;s>0?(v=Math.round(l/s*100),y=Math.round(c/s*100)):d>0&&(v=Math.round(h/d*100),y=Math.round(p/d*100));const b=o>0?l/o:1;let k=1;return c>0?k=l/c:p>0&&(k=h/p),{totalCost:s,totalRealCost:o,progress:v,plannedProgress:y,totalDuration:Math.max(0,A),totalRealDuration:Math.max(0,x),spi:k,cpi:b,startDate:n.getTime()!==864e13?n:void 0,endDate:r.getTime()!==-864e13?r:void 0}},s8=[{id:"res-1",name:"Andre Senior",role:"Architect",hourlyRate:150,avatarUrl:""},{id:"res-2",name:"Beatriz Dev",role:"Frontend",hourlyRate:90,avatarUrl:""},{id:"res-3",name:"Carlos UX",role:"Designer",hourlyRate:85,avatarUrl:""}],M_=[{id:"project-1",type:"project",name:"Plataforma SaaS MVP",start:new Date,end:new Date,progress:0,isDisabled:!1,parent:null,dependencies:[],styles:{progressColor:"#ffbb54",backgroundColor:"#ffbb54"}},{id:"step-1",type:"task",name:"Requisitos e Planejamento",start:new Date(Date.now()),end:new Date(Date.now()+2*24*60*60*1e3),progress:100,parent:"project-1",dependencies:[],resourceId:"res-1"},{id:"step-2",type:"task",name:"Sistema de Design UI",start:new Date(Date.now()+2*24*60*60*1e3),end:new Date(Date.now()+6*24*60*60*1e3),progress:40,dependencies:["step-1"],parent:"project-1",resourceId:"res-3"},{id:"step-3",type:"task",name:"Ncleo Frontend",start:new Date(Date.now()+6*24*60*60*1e3),end:new Date(Date.now()+12*24*60*60*1e3),progress:10,dependencies:["step-2"],parent:"project-1",resourceId:"res-2"},{id:"milestone-alpha",type:"milestone",name:"Lanamento Alpha",start:new Date(Date.now()+13*24*60*60*1e3),end:new Date(Date.now()+13*24*60*60*1e3),progress:0,dependencies:["step-3"],parent:"project-1",styles:{backgroundColor:"#ef4444",backgroundSelectedColor:"#ef4444"}}];function o8(){var Cr,nr,mi,ji;const{user:t,loading:e,logout:n,isAdmin:r}=Ny(),[i,a]=F.useState([]),[s,o]=F.useState(s8),[l,c]=F.useState(!1),[d,h]=F.useState(null),[p,m]=F.useState(navigator.onLine),[g,A]=F.useState("clients_manage"),[x,v]=F.useState("schedule"),[y,b]=F.useState(qe.Year),[k,S]=F.useState(!1),[L,w]=F.useState(!1),[T,_]=F.useState(!1),[D,j]=F.useState(!1),[N,R]=F.useState("1"),[C,B]=F.useState([]),[$,J]=F.useState(null),[ee,Y]=F.useState(!1),oe=(K,re)=>{const fe=se.find(De=>De.id===N);if(fe&&fe.documentation){const De={...fe.documentation,[K]:re},ye={...fe,documentation:De};he(Pt=>Pt.map(Fe=>Fe.id===fe.id?ye:Fe)),gt.updateProject(fe.id,{documentation:De}),J(null)}},H=K=>{if(!confirm("Tem certeza que deseja remover este bloco de documentao?"))return;const re=se.find(fe=>fe.id===N);if(re&&re.documentation){const fe={...re.documentation};delete fe[K];const De={...re,documentation:fe};he(ye=>ye.map(Pt=>Pt.id===re.id?De:Pt)),gt.updateProject(re.id,{documentation:fe})}},q=K=>{const re=se.find(fe=>fe.id===N);if(re){const fe=K.split(`
`).map(ye=>ye.replace(/^-\s*/,"").trim()).filter(ye=>ye.length>0),De={...re,technicalPremises:fe};he(ye=>ye.map(Pt=>Pt.id===re.id?De:Pt)),gt.updateProject(re.id,{technicalPremises:fe}),Y(!1)}};F.useEffect(()=>{document.title="UERJ-FAF 2025"},[]),F.useEffect(()=>{const K=async()=>{if(!navigator.onLine){m(!1);return}try{await fetch("https://www.google.com/favicon.ico?"+Date.now(),{mode:"no-cors",cache:"no-store"}),m(!0)}catch{m(!1)}};K();const re=setInterval(K,5e3),fe=()=>K(),De=()=>m(!1);return window.addEventListener("online",fe),window.addEventListener("offline",De),()=>{clearInterval(re),window.removeEventListener("online",fe),window.removeEventListener("offline",De)}},[]);const[se,he]=F.useState([]);F.useEffect(()=>{if(!t){he([]),Me([]);return}const K=gt.subscribeProjects(fe=>{he(fe)},t.uid,t.role),re=gt.subscribeClients(fe=>{Me(fe)},t.uid,t.role);return()=>{K(),re()}},[t]);const ce=async K=>{if(t)try{await gt.createProject({...K,createdAt:new Date,ownerId:t.uid})}catch(re){console.error("Error creating project:",re)}},Ae=async K=>{try{await gt.deleteProject(K)}catch(re){console.error("Error deleting project:",re)}},xe=async K=>{try{const{id:re,...fe}=K;await gt.updateProject(re,fe)}catch(re){console.error("Error updating project:",re)}},{tasks:ve,addTask:Ie,updateTask:Ee,deleteTask:pe,handleMoveTask:ge,indentTask:be,outdentTask:I,reorderTasks:z}=a9(i),[W,O]=F.useState(!1),[M,U]=F.useState(!1),[Z,ne]=F.useState(void 0),[te,Q]=F.useState(void 0);F.useEffect(()=>{const K=N||"1";let re;try{re=gt.subscribeTasks(K,De=>{De.length>=0&&(a(De),c(!0),h(null))})}catch(De){console.error("Firebase connection error",De),a(M_.filter(ye=>ye.projectId===K))}const fe=gt.subscribeResources(De=>{De.length>0&&o(De)});return()=>{re&&re(),fe()}},[N]);const G=K=>{let re=new Date(K.start),fe=new Date(K.end);const De=up(re);if(De.getTime()!==re.getTime()){const Fe=De.getTime()-re.getTime();re=De,fe=new Date(fe.getTime()+Fe)}const ye={...K,start:re,end:fe},Pt=ve.find(Fe=>Fe.id===ye.id);Pt&&(Pt.start.getTime()!==ye.start.getTime()||Pt.end.getTime()!==ye.end.getTime())?ge(ye.id,ye.start,ye.end):Ee(ye),gt.updateTask(ye.id,{start:ye.start,end:ye.end,realStart:ye.realStart||null,realEnd:ye.realEnd||null,progress:ye.progress||0,name:ye.name||"",dependencies:ye.dependencies||[],resourceId:ye.resourceId||"",type:ye.type||"task",parent:ye.parent}).then(()=>{if(N){const Fe=i.filter(lt=>lt.projectId===N).map(lt=>lt.id===ye.id?ye:lt);gt.recalculateProjectSchedule(N,Fe).catch(lt=>console.error("Auto-schedule failed:",lt))}}).catch(Fe=>console.error("Failed to update task in DB:",Fe))},X=async(K,re)=>{const fe=re!==void 0?re||void 0:te;if(!l){Ie(K,fe);return}try{await gt.addTask(K)}catch(De){console.error("Failed to add task",De),Ie(K,fe)}},le=async K=>{if(pe(K),l)try{await gt.deleteTask(K)}catch(re){console.error("Failed to delete task in DB",re)}},we=K=>{typeof K=="object"&&(K=void 0),Q(K);let re;if(K){const fe=ve.find(De=>De.id===K);fe&&(re=fe.parent)}ne({parent:re}),O(!0)},Ne=K=>{if(K.id)G(K);else{const re=ve.length>0?Math.max(...ve.map(De=>De.order||0)):0,fe={...K,order:re+1,type:K.type||"task",projectId:N||"1",parent:K.parent||null};X(fe)}O(!1)},dt=(K,re)=>{if(z(K,re),l){const fe=K.map((De,ye)=>({id:De.id,data:{order:ye}}));gt.batchUpdateTasks(fe).catch(console.error)}},[Ze,je]=F.useState(new Date().getFullYear().toString()),[Ue,Me]=F.useState([]),[et,bt]=F.useState(null),[st,Oe]=F.useState([]);F.useEffect(()=>{if(!et){Oe([]);return}l?gt.getKnowledgeBase(et).then(Oe).catch(console.error):Oe([])},[et,l]),F.useEffect(()=>{if(g==="clients_manage"||g==="global_projects")bt(null),R(null);else if(g.startsWith("client_")){let K="";g.endsWith("_reports")?K=g.replace("client_","").replace("_reports",""):g.endsWith("_my_projects")&&(K=g.replace("client_","").replace("_my_projects","")),K&&(bt(K),R(null))}else if(g.startsWith("project_")){let K="";if(g.endsWith("_dashboard")?K=g.replace("project_","").replace("_dashboard",""):g.endsWith("_gantt")&&(K=g.replace("project_","").replace("_gantt","")),K){R(K);const re=se.find(fe=>fe.id===K);re&&re.clientId&&bt(re.clientId)}}},[g,se]);const ot=async K=>{if(t)try{await gt.createClient({...K,ownerId:t.uid})}catch(re){console.error("Error creating client:",re)}},Nt=async K=>{try{const re=await c9(K);if(console.log("Tarefas Importadas:",re),N){if(confirm(`Importar "${K.name}" substituir todas as tarefas do projeto atual. Deseja continuar?`)){const fe=se.find(De=>De.id===N);fe&&(await gt.replaceProjectTasks(fe.id,re),alert(`Sucesso! ${re.length} tarefas importadas.`))}}else alert("Por favor, abra um projeto antes de importar um arquivo .XML do MS Project.")}catch(re){console.error(re),alert("Erro ao importar projeto: "+re.message)}},ht=()=>{if(!N)return;const K=se.find(fe=>fe.id===N);if(!K)return;const re=i.filter(fe=>fe.projectId===N);u9(K,re)},Ut=async()=>{if(!N)return;const K=se.find(ye=>ye.id===N);if(!K)return;const re=i.filter(ye=>ye.projectId===N);let fe;try{const ye=localStorage.getItem("PPT_TEMPLATE_CONFIG");ye?(fe=JSON.parse(ye),console.log("Loaded Template Config:",fe)):console.warn("No Template Config found in localStorage")}catch(ye){console.error("Error parsing PPT template config",ye)}if(!document.getElementById("gantt-chart-area")){confirm("Visualizao do Cronograma no encontrada (Necessrio estar na aba 'Contronograma' para captura de imagem). Deseja gerar a proposta apenas com o Roadmap Macro nativo?")&&await L_(K,{includeGantt:!1,tasks:re,templateConfig:fe});return}try{await L_(K,{includeGantt:!0,ganttElementId:"gantt-chart-area",tasks:re,viewMode:y,templateConfig:fe})}catch(ye){console.error(ye),alert("Erro ao gerar proposta: "+ye.message)}},Qe=async K=>{try{const{id:re,...fe}=K;if(Object.keys(fe).forEach(De=>fe[De]===void 0&&delete fe[De]),!re){alert("Erro: ID do cliente no encontrado.");return}await gt.updateClient(re,fe)}catch(re){console.error("Error updating client:",re),alert("Erro ao salvar: "+(re.message||"Erro desconhecido"))}},rt=async K=>{try{await gt.deleteClient(K)}catch(re){console.error("Error deleting client:",re)}},Ye=(()=>{if(g==="clients_manage")return"clients_manage";if(g==="global_projects")return"my_projects";if(g==="team")return"team";if(g==="settings")return"settings";if(g.startsWith("client_")){if(g.endsWith("_reports"))return"reports";if(g.endsWith("_my_projects"))return"my_projects"}if(g.startsWith("project_")){if(g.endsWith("_dashboard"))return"dashboard";if(g.endsWith("_gantt"))return"gantt"}return"unknown"})();F.useEffect(()=>{if(Ye!=="reports"||!et)return;const K=se.filter(De=>De.clientId===et);if(K.length===0){B([]);return}const re=[],fe=new Map;return K.forEach(De=>{try{const ye=gt.subscribeTasks(De.id,Pt=>{fe.set(De.id,Pt);const Fe=Array.from(fe.values()).flat();B(Fe)});re.push(ye)}catch(ye){console.error("Error aggregating project",De.id,ye);const Pt=M_.filter(Fe=>Fe.projectId===De.id);Pt.length>0&&(fe.set(De.id,Pt),B(Array.from(fe.values()).flat()))}}),()=>{re.forEach(De=>De())}},[Ye,et,se]);const it=N?ve.filter(K=>K.projectId===N||K.projectId==="1"&&N==="1"):[],hn=F.useMemo(()=>a8(it,s),[it,s]),an=et?se.filter(K=>K.clientId!==et?!1:new Date(K.startDate).getFullYear().toString()===Ze):Ye==="my_projects"?se.filter(K=>new Date(K.startDate).getFullYear().toString()===Ze):[],_r=K=>{let re=new Date;const fe=parseInt(Ze);re.getFullYear()!==fe&&(re=new Date(fe,0,1)),ce({...K,clientId:et,startDate:re})},pt=K=>{const re=be(K.id);if(re&&l&&(gt.updateTask(re.id,{parent:re.parent,type:re.type}).catch(console.error),re.parent)){const fe=ve.find(De=>De.id===re.parent);fe&&fe.type!=="project"&&gt.updateTask(fe.id,{type:"project"}).catch(console.error)}},qn=K=>{const re=I(K.id);re&&l&&gt.updateTask(re.id,{parent:re.parent}).catch(console.error)},yn=async K=>{var hr,Er,Li;if(!N)return;let re=up(new Date);const fe=`ai-${Date.now()}-`,De={},ye={planning:`${fe}phase-plan`,development:`${fe}phase-dev`,testing:`${fe}phase-test`,rollout:`${fe}phase-rollout`},Pt=[{id:ye.planning,projectId:N,name:"Planejamento e Anlise",type:"project",start:re,end:Yn(re,5),progress:0,parent:null,dependencies:[],styles:{backgroundColor:"#60a5fa",progressColor:"#93c5fd"},order:0},{id:ye.development,projectId:N,name:"Desenvolvimento",type:"project",start:Yn(re,6),end:Yn(re,15),progress:0,parent:null,dependencies:[ye.planning],styles:{backgroundColor:"#f59e0b",progressColor:"#fcd34d"},order:100},{id:ye.testing,projectId:N,name:"Testes",type:"project",start:Yn(re,16),end:Yn(re,20),progress:0,parent:null,dependencies:[ye.development],styles:{backgroundColor:"#ef4444",progressColor:"#fca5a5"},order:200},{id:ye.rollout,projectId:N,name:"Preparao, Rollout e Acompanhamento",type:"project",start:Yn(re,21),end:Yn(re,25),progress:0,parent:null,dependencies:[ye.testing],styles:{backgroundColor:"#10b981",progressColor:"#6ee7b7"},order:300}];K.tasks.forEach(ze=>{De[ze.id]=fe+ze.id});const Fe=K.tasks.map((ze,Jt)=>{const Zt=Ym(re,ze.start_offset_days||0),ir=Math.max(1,ze.duration_days||1),Tr=Ym(Zt,ir);let Mi=null;return ze.category&&ye[ze.category]?Mi=ye[ze.category]:ze.parent_id&&De[ze.parent_id]&&(Mi=De[ze.parent_id]),{id:De[ze.id],projectId:N,name:ze.name,type:ze.type==="project"?"project":ze.type==="milestone"?"milestone":"task",start:Zt,end:Tr,progress:0,parent:Mi,dependencies:ze.dependencies?ze.dependencies.map(ms=>De[ms]||ms):[],assignedResource:ze.role||"",hourlyRate:ze.hourly_rate||0,styles:{progressColor:"#8b5cf6",backgroundColor:"#8b5cf6"},order:Jt+500}}),lt={};Fe.forEach(ze=>{ze.parent&&(lt[ze.parent]||(lt[ze.parent]=[]),lt[ze.parent].push(ze))});const jt=[];let mn=0;for(const ze of Pt){const Jt=lt[ze.id]||[];if(Jt.length>0){let Zt=Jt[0].start,ir=Jt[0].end;Jt.forEach(Tr=>{Tr.start<Zt&&(Zt=Tr.start),Tr.end>ir&&(ir=Tr.end)}),ze.start=Zt,ze.end=ir}jt.push({...ze,order:mn++}),Jt.forEach(Zt=>{jt.push({...Zt,order:mn++})})}Fe.filter(ze=>!ze.parent||!Object.values(ye).includes(ze.parent)).forEach(ze=>{jt.push({...ze,order:mn++})});for(const ze of jt)await X(ze);const Dn=new Map;jt.forEach(ze=>{if(ze.type==="task"&&ze.assignedResource){const Jt=ze.assignedResource.trim();if(!Jt)return;const Zt=ze.hourlyRate||0;if(!Dn.has(Jt))Dn.set(Jt,{role:Jt,quantity:1,hourlyRate:Zt,responsibilities:[]});else{const ir=Dn.get(Jt);ir.quantity+=1,Zt>0&&(!ir.hourlyRate||ir.hourlyRate===0)&&(ir.hourlyRate=Zt)}}}),K.team_structure&&K.team_structure.forEach(ze=>{const Jt=ze.role.trim();if(Dn.has(Jt)){const Zt=Dn.get(Jt);ze.responsibilities&&ze.responsibilities.length>0&&(Zt.responsibilities=ze.responsibilities)}});const xn=Array.from(Dn.values());if(N){const ze={aiConfidence:K.confidence_score,aiSummary:K.description,documentation:K.documentation,technicalPremises:(hr=K.strategic_planning)==null?void 0:hr.technical_premises,clientResponsibilities:(Er=K.strategic_planning)==null?void 0:Er.client_responsibilities,raciMatrix:(Li=K.strategic_planning)==null?void 0:Li.raci_matrix,teamStructure:xn,scopeDelta:K.scope_delta};l?await gt.updateProject(N,ze):he(Jt=>Jt.map(Zt=>Zt.id===N?{...Zt,...ze}:Zt))}_(!1)},fn=async()=>{if(it.length>0){if(window.confirm("J existem tarefas criadas para este projeto. Deseja excluir todo planejamento atual e gerar um novo?")){if(l)try{await gt.deleteAllTasksForProject(N)}catch(K){console.error("Error clearing tasks",K),alert("Erro ao limpar tarefas antigas. Verifique a conexo.");return}else a(K=>K.filter(re=>re.projectId!==N));_(!0)}}else _(!0)},Br=async()=>{if(!N||!et)return;const K=se.find(fe=>fe.id===N);if(!K)return;const re=`[MEMRIA DE PROJETO APROVADO]
Nome: ${K.name}
Descrio: ${K.aiSummary||K.description||"N/A"}
Total Tarefas: ${it.length}
Confiana da IA na poca: ${K.aiConfidence?(K.aiConfidence*100).toFixed(0)+"%":"N/A"}
Estrutura sugerida: ${it.slice(0,5).map(fe=>fe.name).join(", ")}... (e mais ${Math.max(0,it.length-5)} tarefas)`;window.confirm("Deseja aprovar este planejamento e ensinar o padro  IA?")&&(l?(await gt.addKnowledgeEntry(et,re),Oe(fe=>[...fe,re]),alert("Planejamento aprovado e memorizado!")):alert("Necessrio estar online para salvar aprendizado."))},pn=async(K,re)=>{if(re<2)return;const fe=Vo(K.start,K.end),De=Math.max(1,Math.floor(fe/re)),ye=Ym(K.start,De),Pt={...K,name:`${K.name} (Parte 1)`,end:ye};await G(Pt);let Fe=K.id;for(let lt=2;lt<=re;lt++){const jt={...K,id:self.crypto.randomUUID(),name:`${K.name} (Parte ${lt})`,start:K.start,end:ye,progress:0,order:(K.order||0)+.01*(lt-1),dependencies:K.dependencies?[...K.dependencies]:[],styles:{...K.styles,progressColor:"#f97316",backgroundColor:"#f97316"}};await X(jt,Fe),Fe=jt.id}O(!1)},sn=async K=>{if(!N)return;const re=se.find(fe=>fe.id===N);if(re){const fe={...re,teamStructure:K};he(Fe=>Fe.map(lt=>lt.id===N?fe:lt));const De=[],ye=new Map;K.forEach(Fe=>{Fe.hourlyRate!==void 0&&ye.set(Fe.role,Fe.hourlyRate)}),i.filter(Fe=>Fe.projectId===N).forEach(Fe=>{const lt=Fe.assignedResource;if(lt&&ye.has(lt)){const jt=ye.get(lt);jt!==void 0&&Fe.hourlyRate!==jt&&De.push({id:Fe.id,data:{hourlyRate:jt}})}}),l&&(await gt.updateProject(N,{teamStructure:K}),De.length>0&&await gt.batchUpdateTasks(De)),De.length>0&&a(Fe=>{const lt=new Map(De.map(jt=>[jt.id,jt.data]));return Fe.map(jt=>lt.has(jt.id)?{...jt,...lt.get(jt.id)}:jt)})}};return e?u.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-gray-50",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):t?!t.isApproved&&!r?u.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-md w-full text-center border border-yellow-200",children:[u.jsx("div",{className:"mx-auto w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mb-4",children:u.jsx(dE,{className:"text-yellow-600",size:32})}),u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Acesso Pendente"}),u.jsxs("p",{className:"text-gray-600 mb-6",children:["Sua conta (",t.email,") foi criada, mas aguarda aprovao do administrador Master."]}),u.jsxs("button",{onClick:n,className:"text-indigo-600 hover:text-indigo-800 font-medium text-sm hover:underline flex items-center justify-center gap-2",children:[u.jsx(Qb,{size:16}),"Sair e tentar outra conta"]})]})}):u.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden font-sans",children:[u.jsx(qE,{activeView:g,onNavigate:A,className:"hidden lg:flex",clients:Ue,projects:se,currentUser:t}),u.jsx(bM,{activeView:g,onNavigate:A,isOpen:k,onClose:()=>S(!1),currentUser:t}),u.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[u.jsx(l9,{onImport:Nt,onExport:N?ht:void 0,onExportProposal:N?Ut:void 0}),!p&&u.jsxs("div",{className:"bg-red-600 text-white px-4 py-3 text-center text-sm font-bold flex justify-center items-center gap-2 shadow-md animate-in slide-in-from-top-2 z-50 transition-all",children:[u.jsx(hh,{size:20}),u.jsx("span",{children:"MODO OFFLINE: Voc est trabalhando sem internet. Suas alteraes foram salvas localmente e sero enviadas ao servidor automaticamente assim que a conexo retornar."})]}),u.jsxs("header",{className:"bg-white border-b border-gray-200 h-12 px-4 flex items-center justify-between z-40",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{className:"lg:hidden p-2 -ml-2 text-gray-600",onClick:()=>S(!0),children:u.jsx(Sj,{size:24})}),u.jsx("h2",{className:"text-xl font-bold text-gray-800",children:et?(Cr=Ue.find(K=>K.id===et))==null?void 0:Cr.name:"Gesto de Projetos"}),p?d?u.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs font-semibold flex items-center gap-1",title:d,children:[u.jsx(hh,{size:12})," Erro"]}):l?u.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold flex items-center gap-1",children:[u.jsx($b,{size:12})," Live"]}):u.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-500 rounded-full text-xs font-semibold flex items-center gap-1",children:[u.jsx(hh,{size:12})," Demo"]}):u.jsxs("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-semibold flex items-center gap-1",title:"Sem conexo com a internet",children:[u.jsx(hh,{size:12})," Offline"]})]}),u.jsxs("div",{className:"flex items-center gap-6 relative",children:[u.jsxs("button",{onClick:()=>j(!D),className:"flex items-center gap-2 hover:bg-gray-100 p-1.5 rounded-lg transition-all outline-none focus:ring-2 focus:ring-indigo-500 group",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 text-white flex items-center justify-center font-bold shadow-sm group-hover:shadow-md transition-shadow",children:t!=null&&t.displayName?t.displayName.charAt(0).toUpperCase():"U"}),u.jsx("span",{className:"text-sm font-medium text-gray-700 hidden md:block max-w-[150px] truncate",children:(t==null?void 0:t.displayName)||"Usurio"}),u.jsx(ql,{size:14,className:`text-gray-400 transition-transform duration-200 ${D?"rotate-180":""}`})]}),D&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>j(!1)}),u.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white rounded-xl shadow-xl border border-gray-100 py-2 z-50 animate-in fade-in slide-in-from-top-2",children:[u.jsxs("div",{className:"px-4 py-3 border-b border-gray-50 bg-gray-50/50",children:[u.jsx("p",{className:"text-sm font-bold text-gray-900 truncate",children:(t==null?void 0:t.displayName)||"Usurio"}),u.jsx("p",{className:"text-xs text-gray-500 truncate",children:t==null?void 0:t.email})]}),u.jsx("div",{className:"p-2",children:u.jsxs("button",{onClick:()=>{n(),j(!1)},className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg flex items-center gap-2 transition-colors font-medium",children:[u.jsx(Qb,{size:16}),"Sair da conta"]})})]})]})]})]}),u.jsxs("main",{className:"flex-1 p-2 lg:p-8 overflow-y-auto",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-end mb-6 gap-4 md:gap-0",children:[u.jsxs("div",{className:"flex-1 md:mr-6 text-center md:text-left",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:Ye==="team"?"Gesto da Equipe":Ye==="settings"?"Configuraes do Sistema":Ye==="clients_manage"?"Gesto de Clientes":Ye==="my_projects"?"Portflio de Projetos":Ye==="dashboard"?"Relatrio Operacional (Execuo Diria)":Ye==="reports"?"Relatrio Estratgico (Viso Executiva)":Ye==="gantt"?"Relatrio Ttico-Gerencial":((nr=se.find(K=>K.id===N))==null?void 0:nr.name)||"Viso Geral"}),u.jsx("p",{className:"text-gray-500 mt-1",children:Ye==="dashboard"?"Foco em tarefas, eficincia e rotina do dia a dia.":Ye==="reports"?"Viso de longo prazo, KPIs de portflio e alinhamento de negcio.":""}),Ye==="gantt"&&N&&(()=>{const K=se.find(re=>re.id===N);return K?u.jsx("div",{className:"mt-3 w-full animate-in fade-in slide-in-from-top-2 hidden md:block",children:u.jsxs("div",{className:"relative group",children:[u.jsx("textarea",{value:K.aiSummary||"",onChange:re=>{const fe=re.target.value;he(De=>De.map(ye=>ye.id===N?{...ye,aiSummary:fe}:ye))},onBlur:re=>{l&&gt.updateProject(N,{aiSummary:re.target.value}).catch(console.error)},className:"w-full bg-transparent border-0 text-gray-600 text-sm p-0 focus:ring-0 resize-none hover:bg-gray-50 rounded px-2 -ml-2 transition-colors",rows:2,placeholder:"Adicione um resumo executivo..."}),u.jsx(Ei,{size:12,className:"absolute -left-5 top-1 text-purple-400 opacity-50"})]})}):null})()]}),u.jsx("div",{className:"flex items-center gap-3 shrink-0 mb-1",children:Ye==="gantt"&&N&&(()=>{const K=se.find(re=>re.id===N);return u.jsxs(u.Fragment,{children:[(K==null?void 0:K.aiConfidence)&&u.jsxs("div",{className:`hidden md:flex px-3 py-2 rounded-lg text-xs font-bold border items-center gap-2 ${K.aiConfidence>.8?"bg-green-50 text-green-700 border-green-200":"bg-orange-50 text-orange-700 border-orange-200"}`,children:[u.jsx(Ei,{size:14}),(K.aiConfidence*100).toFixed(0),"% Confiana"]}),u.jsxs("button",{onClick:()=>w(!0),className:"bg-amber-500 hover:bg-amber-600 text-white px-3 py-2.5 rounded-lg flex items-center gap-2 font-medium shadow-lg shadow-amber-100 transition-all hover:scale-105 active:scale-95 text-xs lg:text-sm",title:"Estabilizar Cronograma (Atrasos e Pendncias)",children:[u.jsx(xA,{size:16}),"Estabilizar"]}),u.jsxs("button",{onClick:Br,className:"bg-green-600 hover:bg-green-700 text-white px-3 py-2.5 rounded-lg flex items-center gap-2 font-medium shadow-lg shadow-green-100 transition-all hover:scale-105 active:scale-95 text-xs lg:text-sm",title:"Aprovar e Ensinar  IA",children:[u.jsx(Mf,{size:16}),"Aprovar"]}),(r||(t==null?void 0:t.canUseAI))&&u.jsxs("button",{onClick:fn,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-2.5 rounded-lg flex items-center gap-2 font-medium shadow-lg shadow-indigo-100 transition-all hover:scale-105 active:scale-95 text-xs lg:text-sm",title:"Estimar com IA",children:[u.jsx(Ei,{size:16}),"Estimar"]})]})})()})]}),Ye==="settings"&&u.jsx(t9,{}),Ye==="clients_manage"&&u.jsx(pz,{clients:Ue,onCreateClient:ot,onUpdateClient:Qe,onDeleteClient:rt,currentFiscalYear:Ze,onFiscalYearChange:je,onSelectClient:K=>{A(`client_${K}_my_projects`)}}),Ye==="gantt"&&u.jsxs(u.Fragment,{children:[u.jsx(wM,{stats:hn,project:se.find(K=>K.id===N),onUpdateProject:K=>{l?gt.updateProject(K.id,K).catch(console.error):he(re=>re.map(fe=>fe.id===K.id?K:fe))}}),u.jsxs("div",{className:"flex items-end mb-0 overflow-x-auto no-scrollbar pl-1",children:[u.jsx("button",{onClick:()=>v("schedule"),className:`flex items-center gap-2 px-4 py-2 lg:px-6 lg:py-3 text-xs lg:text-sm font-bold rounded-t-lg transition-all border border-b-0 relative ${x==="schedule"?"bg-white text-indigo-600 border-gray-200 shadow-[0_-2px_10px_rgba(0,0,0,0.02)] z-10 scale-105 origin-bottom":"bg-gray-50 text-gray-400 border-transparent hover:bg-gray-100 -mr-2 lg:-mr-0"}`,children:"Cronograma"}),u.jsx("button",{onClick:()=>v("tasks"),className:`flex items-center gap-2 px-4 py-2 lg:px-6 lg:py-3 text-xs lg:text-sm font-bold rounded-t-lg transition-all border border-b-0 relative ${x==="tasks"?"bg-white text-indigo-600 border-gray-200 shadow-[0_-2px_10px_rgba(0,0,0,0.02)] z-10 scale-105 origin-bottom":"bg-gray-50 text-gray-400 border-transparent hover:bg-gray-100 -mr-2 lg:-mr-0"}`,children:"Lista de Tarefas"}),u.jsxs("button",{onClick:()=>v("context"),className:`flex items-center gap-2 px-4 py-2 lg:px-6 lg:py-3 text-xs lg:text-sm font-bold rounded-t-lg transition-all border border-b-0 relative ${x==="context"?"bg-white text-indigo-600 border-gray-200 shadow-[0_-2px_10px_rgba(0,0,0,0.02)] z-10 scale-105 origin-bottom":"bg-gray-50 text-gray-400 border-transparent hover:bg-gray-100 -mr-2 lg:-mr-0"}`,children:[u.jsx(Ci,{size:16}),"Contexto"]}),u.jsxs("button",{onClick:()=>v("premises"),className:`flex items-center gap-2 px-4 py-2 lg:px-6 lg:py-3 text-xs lg:text-sm font-bold rounded-t-lg transition-all border border-b-0 relative ${x==="premises"?"bg-white text-indigo-600 border-gray-200 shadow-[0_-2px_10px_rgba(0,0,0,0.02)] z-10 scale-105 origin-bottom":"bg-gray-50 text-gray-400 border-transparent hover:bg-gray-100"}`,children:[u.jsx(Mu,{size:16}),"Premissas & RACI"]}),u.jsxs("button",{onClick:()=>v("team"),className:`flex items-center gap-2 px-4 py-2 lg:px-6 lg:py-3 text-xs lg:text-sm font-bold rounded-t-lg transition-all border border-b-0 relative ${x==="team"?"bg-white text-indigo-600 border-gray-200 shadow-[0_-2px_10px_rgba(0,0,0,0.02)] z-10 scale-105 origin-bottom":"bg-gray-50 text-gray-400 border-transparent hover:bg-gray-100"}`,children:[u.jsx(Za,{size:16}),"EQUIPE"]}),u.jsx("div",{className:"flex-1 border-b border-gray-200 h-px"})]}),x==="schedule"&&u.jsx("div",{className:"bg-white p-0 rounded-xl rounded-tl-none shadow-sm border border-gray-100 h-[650px] flex flex-col mt-0 gantt-landscape-container",children:u.jsx("div",{className:"flex-1 overflow-hidden relative",children:u.jsx(yM,{tasks:it,onTaskChange:G,onEditTask:K=>{ne(K),Q(void 0),O(!0)},onAddTask:we,onDeleteTask:le,onReorderTasks:dt,onIndent:pt,onOutdent:qn,onViewModeChange:b,isModalOpen:W||L||T,onLandscapeModeChange:U})})}),x==="tasks"&&u.jsx(dz,{tasks:it,resources:s,onEditTask:K=>{ne(K),Q(void 0),O(!0)},isConnected:l}),x==="context"&&(()=>{const K=se.find(re=>re.id===N);return u.jsx("div",{className:"bg-gray-50/50 p-6 rounded-xl border border-gray-100 animate-in fade-in slide-in-from-bottom-2 duration-300 h-[650px] overflow-y-auto custom-scrollbar",children:K!=null&&K.documentation?u.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[u.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-800 rounded-2xl p-6 text-white shadow-lg mb-8",children:[u.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-3",children:[u.jsx(Ci,{size:28}),"Documentao do Projeto"]}),u.jsx("p",{className:"text-indigo-100 mt-2 max-w-2xl",children:"Viso estratgica, arquitetura tcnica e plano de qualidade definidos pela Inteligncia Artificial."})]}),u.jsx("div",{className:"grid grid-cols-1 gap-6",children:(()=>{const re=["context_overview","technical_solution","implementation_steps","testing_strategy","scope","non_scope"],fe=Object.keys(K.documentation),De=re.filter(Fe=>fe.includes(Fe)),ye=fe.filter(Fe=>!re.includes(Fe));return[...De,...ye].map(Fe=>{const lt=K.documentation?K.documentation[Fe]:"",jt=Fe.split("_").map(xn=>xn.charAt(0).toUpperCase()+xn.slice(1)).join(" ");let mn="border-gray-100",rr="bg-gray-50 text-gray-600",Dn=Ci;return Fe==="context_overview"?(mn="border-indigo-100",rr="bg-indigo-50 text-indigo-600",Dn=to):Fe==="technical_solution"?(mn="border-blue-100",rr="bg-blue-50 text-blue-600",Dn=$b):Fe==="implementation_steps"?(mn="border-green-100",rr="bg-green-50 text-green-600",Dn=xA):Fe==="testing_strategy"&&(mn="border-teal-100",rr="bg-teal-50 text-teal-600",Dn=Mf),$===Fe?u.jsx("div",{className:"col-span-1",children:u.jsx(S_,{label:jt,initialValue:lt,onSave:xn=>oe(Fe,xn),onCancel:()=>J(null)})},Fe):u.jsxs("div",{className:`bg-white p-6 rounded-2xl border shadow-sm hover:shadow-md transition-shadow ${mn} group relative`,children:[u.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white/90 backdrop-blur-sm rounded-lg border border-gray-100 shadow-sm p-1",children:[u.jsx("button",{onClick:()=>J(Fe),className:"p-1.5 text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors",title:"Editar Bloco",children:u.jsx(Ou,{size:14})}),u.jsx("div",{className:"w-px h-4 bg-gray-200"}),u.jsx("button",{onClick:()=>H(Fe),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Remover Bloco",children:u.jsx(fi,{size:14})})]}),u.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-3 border-b border-gray-100",children:[u.jsx("div",{className:`p-2 rounded-lg ${rr}`,children:u.jsx(Dn,{size:24})}),u.jsx("h4",{className:"text-lg font-bold text-gray-900",children:jt})]}),u.jsx(Ry,{content:lt,className:"text-sm"})]},Fe)})})()}),K.teamStructure&&K.teamStructure.length>0&&u.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-indigo-100 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-3 border-b border-gray-100",children:[u.jsx("div",{className:"p-2 rounded-lg bg-indigo-50 text-indigo-600",children:u.jsx(Za,{size:24})}),u.jsx("h4",{className:"text-lg font-bold text-gray-900",children:"Estrutura de Equipe Sugerida"})]}),u.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Profissional / Papel"}),u.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Qtd"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Responsabilidades Chave"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:K.teamStructure.map((re,fe)=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-3 text-sm font-medium text-indigo-900",children:re.role}),u.jsx("td",{className:"px-4 py-3 text-sm text-center text-gray-600",children:u.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 bg-gray-100 rounded-full font-bold text-xs",children:re.quantity})}),u.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:u.jsx("div",{className:"flex flex-wrap gap-1",children:re.responsibilities.map((De,ye)=>u.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-indigo-50 text-indigo-700",children:De},ye))})})]},fe))})]})})]})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-500 space-y-4",children:[u.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center",children:u.jsx(Ci,{size:40,className:"text-gray-400"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xl font-bold text-gray-700",children:"Documentao no disponvel"}),u.jsx("p",{className:"text-sm mt-2 max-w-sm mx-auto text-gray-400",children:"Este projeto no possui dados de contexto gerados pela IA. Crie uma nova estimativa para gerar este contedo automaticamente."})]}),(r||(t==null?void 0:t.canUseAI))&&u.jsxs("button",{onClick:fn,className:"mt-4 px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium flex items-center gap-2",children:[u.jsx(Ei,{size:16}),"Gerar Documentao com IA"]})]})})})(),x==="premises"&&(()=>{const K=se.find(re=>re.id===N);return u.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 animate-in fade-in slide-in-from-bottom-2 duration-300",children:K!=null&&K.technicalPremises||K!=null&&K.clientResponsibilities||K!=null&&K.raciMatrix?u.jsxs("div",{className:"space-y-8 max-w-5xl mx-auto",children:[K.technicalPremises&&K.technicalPremises.length>0&&u.jsx("section",{className:"relative group -mx-2 p-2 rounded-xl transition-colors hover:bg-gray-50/80",children:ee?u.jsx("div",{className:"bg-white rounded-xl shadow-lg ring-1 ring-black/5 p-1",children:u.jsx(S_,{label:"Editando Premissas Tcnicas",initialValue:K.technicalPremises.map(re=>`- ${re}`).join(`
`),onSave:q,onCancel:()=>Y(!1)})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h4",{className:"font-bold text-gray-900 text-lg flex items-center gap-2",children:"Premissas Tcnicas"}),u.jsx("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx("button",{onClick:()=>Y(!0),className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Editar Premissas",children:u.jsx(Ou,{size:16})})})]}),u.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:K.technicalPremises.map((re,fe)=>u.jsxs("li",{className:"bg-amber-50 text-amber-900 p-3 rounded-lg border border-amber-100 flex items-start gap-2 text-sm",children:[u.jsx("div",{className:"mt-1 min-w-[6px] h-1.5 rounded-full bg-amber-400"}),re]},fe))})]})}),K.clientResponsibilities&&K.clientResponsibilities.length>0&&u.jsxs("section",{children:[u.jsx("h4",{className:"font-bold text-gray-900 mb-3 text-lg",children:"Responsabilidades do Cliente"}),u.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200",children:u.jsxs("table",{className:"w-full text-sm text-left",children:[u.jsx("thead",{className:"bg-gray-50 text-gray-700 font-semibold border-b border-gray-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3",children:"Ao Necessria"}),u.jsx("th",{className:"px-4 py-3",children:"Prazo Limite"}),u.jsx("th",{className:"px-4 py-3 text-center",children:"Impacto"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-100",children:K.clientResponsibilities.map((re,fe)=>u.jsxs("tr",{className:"hover:bg-gray-50/50",children:[u.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:re.action_item}),u.jsx("td",{className:"px-4 py-3 text-gray-600",children:re.deadline_description}),u.jsx("td",{className:"px-4 py-3 text-center",children:u.jsx("span",{className:`inline-flex px-2 py-1 rounded-md text-xs font-bold border ${re.impact==="BLOCKER"?"bg-red-50 text-red-700 border-red-200":re.impact==="HIGH"?"bg-orange-50 text-orange-700 border-orange-200":"bg-blue-50 text-blue-700 border-blue-200"}`,children:re.impact})})]},fe))})]})})]}),K.raciMatrix&&K.raciMatrix.length>0&&u.jsxs("section",{children:[u.jsx("h4",{className:"font-bold text-gray-900 mb-3 text-lg",children:"Matriz RACI Sugerida"}),u.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200",children:u.jsxs("table",{className:"w-full text-sm text-center",children:[u.jsx("thead",{className:"bg-gray-800 text-white font-medium",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left w-1/3",children:"Atividade / Entrega"}),u.jsx("th",{className:"px-2 py-3 w-[15%] bg-gray-700",title:"Responsible (Quem Executa)",children:"R"}),u.jsx("th",{className:"px-2 py-3 w-[15%] bg-gray-700",title:"Accountable (Quem Aprova)",children:"A"}),u.jsx("th",{className:"px-2 py-3 w-[15%] bg-gray-700",title:"Consulted (Quem  Consultado)",children:"C"}),u.jsx("th",{className:"px-2 py-3 w-[15%] bg-gray-700",title:"Informed (Quem  Informado)",children:"I"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200",children:K.raciMatrix.map((re,fe)=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-3 text-left font-medium text-gray-900",children:re.activity_group}),u.jsx("td",{className:"px-2 py-3 text-gray-600 bg-blue-50/30",children:re.responsible}),u.jsx("td",{className:"px-2 py-3 text-gray-600 font-semibold bg-indigo-50/30",children:re.accountable}),u.jsx("td",{className:"px-2 py-3 text-gray-500",children:re.consulted}),u.jsx("td",{className:"px-2 py-3 text-gray-400",children:re.informed})]},fe))})]})})]})]}):u.jsxs("div",{className:"text-center py-16 text-gray-500",children:[u.jsx(Mu,{size:48,className:"mx-auto mb-4 text-gray-300"}),u.jsx("p",{className:"text-lg font-medium",children:"Planejamento Estratgico no encontrado"}),u.jsx("p",{className:"text-sm mt-2",children:"Gere uma nova estimativa com IA para obter a Matriz RACI e Premissas."})]})})})(),x==="team"&&(()=>{const K=se.find(re=>re.id===N);return K?u.jsx(lz,{project:K,tasks:it,onUpdateTeam:sn}):null})()]}),Ye==="team"&&u.jsx(sz,{resources:s,isConnected:l}),Ye==="dashboard"&&u.jsx(cz,{tasks:it,resources:s}),Ye==="reports"&&u.jsx(hz,{tasks:C,resources:s,projects:an,client:Ue.find(K=>K.id===et),fiscalYear:Ze}),Ye==="my_projects"&&u.jsx(fz,{projects:an,onCreateProject:_r,onUpdateProject:xe,onDeleteProject:Ae,onSelectProject:K=>{R(K),A(`project_${K}_gantt`)}})]})]}),u.jsx(s9,{isOpen:L,onClose:()=>w(!1),tasks:it,onUpdateTasks:async K=>{const re=K.map(fe=>({id:fe.id,data:fe.changes}));if(l)try{await gt.batchUpdateTasks(re),a(fe=>{const De=new Map(K.map(ye=>[ye.id,ye.changes]));return fe.map(ye=>De.has(ye.id)?{...ye,...De.get(ye.id)}:ye)})}catch(fe){console.error("Batch update failed",fe),alert("Erro ao salvar correes.")}else a(fe=>{const De=new Map(K.map(ye=>[ye.id,ye.changes]));return fe.map(ye=>De.has(ye.id)?{...ye,...De.get(ye.id)}:ye)})}}),W&&u.jsx(ZM,{task:Z,forceLandscape:M,allTasks:ve,projectTeam:(mi=se.find(K=>K.id===N))==null?void 0:mi.teamStructure,resources:s,onSave:Ne,onCancel:()=>O(!1),onSplit:pn}),u.jsx(r9,{isOpen:T,onClose:()=>_(!1),onApplyEstimate:yn,clientContext:(ji=Ue.find(K=>K.id===et))==null?void 0:ji.context,knowledgeBase:st})]}):u.jsx(o9,{})}Ig.createRoot(document.getElementById("root")).render(u.jsx(de.StrictMode,{children:u.jsx(Az,{children:u.jsx(o8,{})})}));
