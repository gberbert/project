var KT=Object.defineProperty;var YT=(t,e,n)=>e in t?KT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var sh=(t,e,n)=>YT(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function RA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var X_={exports:{}},Rp={},K_={exports:{}},yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wu=Symbol.for("react.element"),JT=Symbol.for("react.portal"),ZT=Symbol.for("react.fragment"),ek=Symbol.for("react.strict_mode"),tk=Symbol.for("react.profiler"),nk=Symbol.for("react.provider"),rk=Symbol.for("react.context"),ak=Symbol.for("react.forward_ref"),ik=Symbol.for("react.suspense"),sk=Symbol.for("react.memo"),ok=Symbol.for("react.lazy"),bv=Symbol.iterator;function lk(t){return t===null||typeof t!="object"?null:(t=bv&&t[bv]||t["@@iterator"],typeof t=="function"?t:null)}var Y_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J_=Object.assign,Z_={};function dc(t,e,n){this.props=t,this.context=e,this.refs=Z_,this.updater=n||Y_}dc.prototype.isReactComponent={};dc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};dc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function eC(){}eC.prototype=dc.prototype;function PA(t,e,n){this.props=t,this.context=e,this.refs=Z_,this.updater=n||Y_}var jA=PA.prototype=new eC;jA.constructor=PA;J_(jA,dc.prototype);jA.isPureReactComponent=!0;var wv=Array.isArray,tC=Object.prototype.hasOwnProperty,MA={current:null},nC={key:!0,ref:!0,__self:!0,__source:!0};function rC(t,e,n){var r,a={},i=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)tC.call(e,r)&&!nC.hasOwnProperty(r)&&(a[r]=e[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:wu,type:t,key:i,ref:s,props:a,_owner:MA.current}}function ck(t,e){return{$$typeof:wu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function LA(t){return typeof t=="object"&&t!==null&&t.$$typeof===wu}function dk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _v=/\/+/g;function Rm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dk(""+t.key):e.toString(36)}function Uh(t,e,n,r,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case wu:case JT:s=!0}}if(s)return s=t,a=a(s),t=r===""?"."+Rm(s,0):r,wv(a)?(n="",t!=null&&(n=t.replace(_v,"$&/")+"/"),Uh(a,e,n,"",function(d){return d})):a!=null&&(LA(a)&&(a=ck(a,n+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(_v,"$&/")+"/")+t)),e.push(a)),1;if(s=0,r=r===""?".":r+":",wv(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Rm(i,l);s+=Uh(i,e,n,c,a)}else if(c=lk(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Rm(i,l++),s+=Uh(i,e,n,c,a);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function lh(t,e,n){if(t==null)return t;var r=[],a=0;return Uh(t,r,"","",function(i){return e.call(n,i,a++)}),r}function uk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hr={current:null},Gh={transition:null},hk={ReactCurrentDispatcher:hr,ReactCurrentBatchConfig:Gh,ReactCurrentOwner:MA};function aC(){throw Error("act(...) is not supported in production builds of React.")}yt.Children={map:lh,forEach:function(t,e,n){lh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return lh(t,function(){e++}),e},toArray:function(t){return lh(t,function(e){return e})||[]},only:function(t){if(!LA(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};yt.Component=dc;yt.Fragment=ZT;yt.Profiler=tk;yt.PureComponent=PA;yt.StrictMode=ek;yt.Suspense=ik;yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hk;yt.act=aC;yt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=J_({},t.props),a=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=MA.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)tC.call(e,c)&&!nC.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:wu,type:t.type,key:a,ref:i,props:r,_owner:s}};yt.createContext=function(t){return t={$$typeof:rk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nk,_context:t},t.Consumer=t};yt.createElement=rC;yt.createFactory=function(t){var e=rC.bind(null,t);return e.type=t,e};yt.createRef=function(){return{current:null}};yt.forwardRef=function(t){return{$$typeof:ak,render:t}};yt.isValidElement=LA;yt.lazy=function(t){return{$$typeof:ok,_payload:{_status:-1,_result:t},_init:uk}};yt.memo=function(t,e){return{$$typeof:sk,type:t,compare:e===void 0?null:e}};yt.startTransition=function(t){var e=Gh.transition;Gh.transition={};try{t()}finally{Gh.transition=e}};yt.unstable_act=aC;yt.useCallback=function(t,e){return hr.current.useCallback(t,e)};yt.useContext=function(t){return hr.current.useContext(t)};yt.useDebugValue=function(){};yt.useDeferredValue=function(t){return hr.current.useDeferredValue(t)};yt.useEffect=function(t,e){return hr.current.useEffect(t,e)};yt.useId=function(){return hr.current.useId()};yt.useImperativeHandle=function(t,e,n){return hr.current.useImperativeHandle(t,e,n)};yt.useInsertionEffect=function(t,e){return hr.current.useInsertionEffect(t,e)};yt.useLayoutEffect=function(t,e){return hr.current.useLayoutEffect(t,e)};yt.useMemo=function(t,e){return hr.current.useMemo(t,e)};yt.useReducer=function(t,e,n){return hr.current.useReducer(t,e,n)};yt.useRef=function(t){return hr.current.useRef(t)};yt.useState=function(t){return hr.current.useState(t)};yt.useSyncExternalStore=function(t,e,n){return hr.current.useSyncExternalStore(t,e,n)};yt.useTransition=function(){return hr.current.useTransition()};yt.version="18.3.1";K_.exports=yt;var L=K_.exports;const ue=RA(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fk=L,pk=Symbol.for("react.element"),mk=Symbol.for("react.fragment"),gk=Object.prototype.hasOwnProperty,Ak=fk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xk={key:!0,ref:!0,__self:!0,__source:!0};function iC(t,e,n){var r,a={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)gk.call(e,r)&&!xk.hasOwnProperty(r)&&(a[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)a[r]===void 0&&(a[r]=e[r]);return{$$typeof:pk,type:t,key:i,ref:s,props:a,_owner:Ak.current}}Rp.Fragment=mk;Rp.jsx=iC;Rp.jsxs=iC;X_.exports=Rp;var o=X_.exports,Fg={},sC={exports:{}},Br={},oC={exports:{}},lC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,q){var ne=Q.length;Q.push(q);e:for(;0<ne;){var Y=ne-1>>>1,K=Q[Y];if(0<a(K,q))Q[Y]=q,Q[ne]=K,ne=Y;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var q=Q[0],ne=Q.pop();if(ne!==q){Q[0]=ne;e:for(var Y=0,K=Q.length,ce=K>>>1;Y<ce;){var ie=2*(Y+1)-1,oe=Q[ie],ge=ie+1,je=Q[ge];if(0>a(oe,ne))ge<K&&0>a(je,oe)?(Q[Y]=je,Q[ge]=ne,Y=ge):(Q[Y]=oe,Q[ie]=ne,Y=ie);else if(ge<K&&0>a(je,ne))Q[Y]=je,Q[ge]=ne,Y=ge;else break e}}return q}function a(Q,q){var ne=Q.sortIndex-q.sortIndex;return ne!==0?ne:Q.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],d=[],u=1,h=null,p=3,m=!1,g=!1,A=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(Q){for(var q=n(d);q!==null;){if(q.callback===null)r(d);else if(q.startTime<=Q)r(d),q.sortIndex=q.expirationTime,e(c,q);else break;q=n(d)}}function T(Q){if(A=!1,w(Q),!g)if(n(c)!==null)g=!0,z(I);else{var q=n(d);q!==null&&G(T,q.startTime-Q)}}function I(Q,q){g=!1,A&&(A=!1,x(N),N=-1),m=!0;var ne=p;try{for(w(q),h=n(c);h!==null&&(!(h.expirationTime>q)||Q&&!P());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,p=h.priorityLevel;var K=Y(h.expirationTime<=q);q=t.unstable_now(),typeof K=="function"?h.callback=K:h===n(c)&&r(c),w(q)}else r(c);h=n(c)}if(h!==null)var ce=!0;else{var ie=n(d);ie!==null&&G(T,ie.startTime-q),ce=!1}return ce}finally{h=null,p=ne,m=!1}}var R=!1,_=null,N=-1,E=5,k=-1;function P(){return!(t.unstable_now()-k<E)}function C(){if(_!==null){var Q=t.unstable_now();k=Q;var q=!0;try{q=_(!0,Q)}finally{q?D():(R=!1,_=null)}}else R=!1}var D;if(typeof y=="function")D=function(){y(C)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,O=b.port2;b.port1.onmessage=C,D=function(){O.postMessage(null)}}else D=function(){v(C,0)};function z(Q){_=Q,R||(R=!0,D())}function G(Q,q){N=v(function(){Q(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,z(I))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(Q){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var ne=p;p=q;try{return Q()}finally{p=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,q){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ne=p;p=Q;try{return q()}finally{p=ne}},t.unstable_scheduleCallback=function(Q,q,ne){var Y=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Y+ne:Y):ne=Y,Q){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ne+K,Q={id:u++,callback:q,priorityLevel:Q,startTime:ne,expirationTime:K,sortIndex:-1},ne>Y?(Q.sortIndex=ne,e(d,Q),n(c)===null&&Q===n(d)&&(A?(x(N),N=-1):A=!0,G(T,ne-Y))):(Q.sortIndex=K,e(c,Q),g||m||(g=!0,z(I))),Q},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(Q){var q=p;return function(){var ne=p;p=q;try{return Q.apply(this,arguments)}finally{p=ne}}}})(lC);oC.exports=lC;var yk=oC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vk=L,Or=yk;function _e(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cC=new Set,Ld={};function Ro(t,e){Ul(t,e),Ul(t+"Capture",e)}function Ul(t,e){for(Ld[t]=e,t=0;t<e.length;t++)cC.add(e[t])}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bg=Object.prototype.hasOwnProperty,bk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cv={},Ev={};function wk(t){return Bg.call(Ev,t)?!0:Bg.call(Cv,t)?!1:bk.test(t)?Ev[t]=!0:(Cv[t]=!0,!1)}function _k(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ck(t,e,n,r){if(e===null||typeof e>"u"||_k(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fr(t,e,n,r,a,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var Wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wn[t]=new fr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wn[e]=new fr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wn[t]=new fr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wn[t]=new fr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wn[t]=new fr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wn[t]=new fr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wn[t]=new fr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wn[t]=new fr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wn[t]=new fr(t,5,!1,t.toLowerCase(),null,!1,!1)});var OA=/[\-:]([a-z])/g;function FA(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(OA,FA);Wn[e]=new fr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(OA,FA);Wn[e]=new fr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(OA,FA);Wn[e]=new fr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wn[t]=new fr(t,1,!1,t.toLowerCase(),null,!1,!1)});Wn.xlinkHref=new fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wn[t]=new fr(t,1,!1,t.toLowerCase(),null,!0,!0)});function BA(t,e,n,r){var a=Wn.hasOwnProperty(e)?Wn[e]:null;(a!==null?a.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ck(e,n,a,r)&&(n=null),r||a===null?wk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):a.mustUseProperty?t[a.propertyName]=n===null?a.type===3?!1:"":n:(e=a.attributeName,r=a.attributeNamespace,n===null?t.removeAttribute(e):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var hi=vk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ch=Symbol.for("react.element"),cl=Symbol.for("react.portal"),dl=Symbol.for("react.fragment"),zA=Symbol.for("react.strict_mode"),zg=Symbol.for("react.profiler"),dC=Symbol.for("react.provider"),uC=Symbol.for("react.context"),VA=Symbol.for("react.forward_ref"),Vg=Symbol.for("react.suspense"),Ug=Symbol.for("react.suspense_list"),UA=Symbol.for("react.memo"),Pi=Symbol.for("react.lazy"),hC=Symbol.for("react.offscreen"),Nv=Symbol.iterator;function Rc(t){return t===null||typeof t!="object"?null:(t=Nv&&t[Nv]||t["@@iterator"],typeof t=="function"?t:null)}var sn=Object.assign,Pm;function Xc(t){if(Pm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pm=e&&e[1]||""}return`
`+Pm+t}var jm=!1;function Mm(t,e){if(!t||jm)return"";jm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=r.stack.split(`
`),s=a.length-1,l=i.length-1;1<=s&&0<=l&&a[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(a[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||a[s]!==i[l]){var c=`
`+a[s].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=s&&0<=l);break}}}finally{jm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xc(t):""}function Ek(t){switch(t.tag){case 5:return Xc(t.type);case 16:return Xc("Lazy");case 13:return Xc("Suspense");case 19:return Xc("SuspenseList");case 0:case 2:case 15:return t=Mm(t.type,!1),t;case 11:return t=Mm(t.type.render,!1),t;case 1:return t=Mm(t.type,!0),t;default:return""}}function Gg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case dl:return"Fragment";case cl:return"Portal";case zg:return"Profiler";case zA:return"StrictMode";case Vg:return"Suspense";case Ug:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uC:return(t.displayName||"Context")+".Consumer";case dC:return(t._context.displayName||"Context")+".Provider";case VA:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case UA:return e=t.displayName||null,e!==null?e:Gg(t.type)||"Memo";case Pi:e=t._payload,t=t._init;try{return Gg(t(e))}catch{}}return null}function Nk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gg(e);case 8:return e===zA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ds(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ik(t){var e=fC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function dh(t){t._valueTracker||(t._valueTracker=Ik(t))}function pC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=fC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wg(t,e){var n=e.checked;return sn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Iv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ds(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mC(t,e){e=e.checked,e!=null&&BA(t,"checked",e,!1)}function $g(t,e){mC(t,e);var n=ds(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qg(t,e.type,n):e.hasOwnProperty("defaultValue")&&qg(t,e.type,ds(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qg(t,e,n){(e!=="number"||bf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Kc=Array.isArray;function Il(t,e,n,r){if(t=t.options,e){e={};for(var a=0;a<n.length;a++)e["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=e.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ds(n),e=null,a=0;a<t.length;a++){if(t[a].value===n){t[a].selected=!0,r&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function Hg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(_e(91));return sn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Tv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(_e(92));if(Kc(n)){if(1<n.length)throw Error(_e(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ds(n)}}function gC(t,e){var n=ds(e.value),r=ds(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function kv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function AC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?AC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uh,xC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,a){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uh=uh||document.createElement("div"),uh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Od(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sk=["Webkit","ms","Moz","O"];Object.keys(hd).forEach(function(t){Sk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hd[e]=hd[t]})});function yC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hd.hasOwnProperty(t)&&hd[t]?(""+e).trim():e+"px"}function vC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=yC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,a):t[n]=a}}var Tk=sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xg(t,e){if(e){if(Tk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(_e(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(_e(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(_e(61))}if(e.style!=null&&typeof e.style!="object")throw Error(_e(62))}}function Kg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yg=null;function GA(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jg=null,Sl=null,Tl=null;function Dv(t){if(t=Eu(t)){if(typeof Jg!="function")throw Error(_e(280));var e=t.stateNode;e&&(e=Op(e),Jg(t.stateNode,t.type,e))}}function bC(t){Sl?Tl?Tl.push(t):Tl=[t]:Sl=t}function wC(){if(Sl){var t=Sl,e=Tl;if(Tl=Sl=null,Dv(t),e)for(t=0;t<e.length;t++)Dv(e[t])}}function _C(t,e){return t(e)}function CC(){}var Lm=!1;function EC(t,e,n){if(Lm)return t(e,n);Lm=!0;try{return _C(t,e,n)}finally{Lm=!1,(Sl!==null||Tl!==null)&&(CC(),wC())}}function Fd(t,e){var n=t.stateNode;if(n===null)return null;var r=Op(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(_e(231,e,typeof n));return n}var Zg=!1;if(ii)try{var Pc={};Object.defineProperty(Pc,"passive",{get:function(){Zg=!0}}),window.addEventListener("test",Pc,Pc),window.removeEventListener("test",Pc,Pc)}catch{Zg=!1}function kk(t,e,n,r,a,i,s,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(u){this.onError(u)}}var fd=!1,wf=null,_f=!1,e0=null,Dk={onError:function(t){fd=!0,wf=t}};function Rk(t,e,n,r,a,i,s,l,c){fd=!1,wf=null,kk.apply(Dk,arguments)}function Pk(t,e,n,r,a,i,s,l,c){if(Rk.apply(this,arguments),fd){if(fd){var d=wf;fd=!1,wf=null}else throw Error(_e(198));_f||(_f=!0,e0=d)}}function Po(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function NC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Rv(t){if(Po(t)!==t)throw Error(_e(188))}function jk(t){var e=t.alternate;if(!e){if(e=Po(t),e===null)throw Error(_e(188));return e!==t?null:t}for(var n=t,r=e;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Rv(a),t;if(i===r)return Rv(a),e;i=i.sibling}throw Error(_e(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s)throw Error(_e(189))}}if(n.alternate!==r)throw Error(_e(190))}if(n.tag!==3)throw Error(_e(188));return n.stateNode.current===n?t:e}function IC(t){return t=jk(t),t!==null?SC(t):null}function SC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=SC(t);if(e!==null)return e;t=t.sibling}return null}var TC=Or.unstable_scheduleCallback,Pv=Or.unstable_cancelCallback,Mk=Or.unstable_shouldYield,Lk=Or.unstable_requestPaint,hn=Or.unstable_now,Ok=Or.unstable_getCurrentPriorityLevel,WA=Or.unstable_ImmediatePriority,kC=Or.unstable_UserBlockingPriority,Cf=Or.unstable_NormalPriority,Fk=Or.unstable_LowPriority,DC=Or.unstable_IdlePriority,Pp=null,Sa=null;function Bk(t){if(Sa&&typeof Sa.onCommitFiberRoot=="function")try{Sa.onCommitFiberRoot(Pp,t,void 0,(t.current.flags&128)===128)}catch{}}var fa=Math.clz32?Math.clz32:Uk,zk=Math.log,Vk=Math.LN2;function Uk(t){return t>>>=0,t===0?32:31-(zk(t)/Vk|0)|0}var hh=64,fh=4194304;function Yc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ef(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,a=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~a;l!==0?r=Yc(l):(i&=s,i!==0&&(r=Yc(i)))}else s=n&~a,s!==0?r=Yc(s):i!==0&&(r=Yc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&a)&&(a=r&-r,i=e&-e,a>=i||a===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fa(e),a=1<<n,r|=t[n],e&=~a;return r}function Gk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-fa(i),l=1<<s,c=a[s];c===-1?(!(l&n)||l&r)&&(a[s]=Gk(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function t0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function RC(){var t=hh;return hh<<=1,!(hh&4194240)&&(hh=64),t}function Om(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _u(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fa(e),t[e]=n}function $k(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var a=31-fa(n),i=1<<a;e[a]=0,r[a]=-1,t[a]=-1,n&=~i}}function $A(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fa(n),a=1<<r;a&e|t[r]&e&&(t[r]|=e),n&=~a}}var Ut=0;function PC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var jC,qA,MC,LC,OC,n0=!1,ph=[],Ki=null,Yi=null,Ji=null,Bd=new Map,zd=new Map,Bi=[],qk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jv(t,e){switch(t){case"focusin":case"focusout":Ki=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":Bd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zd.delete(e.pointerId)}}function jc(t,e,n,r,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},e!==null&&(e=Eu(e),e!==null&&qA(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function Hk(t,e,n,r,a){switch(e){case"focusin":return Ki=jc(Ki,t,e,n,r,a),!0;case"dragenter":return Yi=jc(Yi,t,e,n,r,a),!0;case"mouseover":return Ji=jc(Ji,t,e,n,r,a),!0;case"pointerover":var i=a.pointerId;return Bd.set(i,jc(Bd.get(i)||null,t,e,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,zd.set(i,jc(zd.get(i)||null,t,e,n,r,a)),!0}return!1}function FC(t){var e=Xs(t.target);if(e!==null){var n=Po(e);if(n!==null){if(e=n.tag,e===13){if(e=NC(n),e!==null){t.blockedOn=e,OC(t.priority,function(){MC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=r0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Yg=r,n.target.dispatchEvent(r),Yg=null}else return e=Eu(n),e!==null&&qA(e),t.blockedOn=n,!1;e.shift()}return!0}function Mv(t,e,n){Wh(t)&&n.delete(e)}function Qk(){n0=!1,Ki!==null&&Wh(Ki)&&(Ki=null),Yi!==null&&Wh(Yi)&&(Yi=null),Ji!==null&&Wh(Ji)&&(Ji=null),Bd.forEach(Mv),zd.forEach(Mv)}function Mc(t,e){t.blockedOn===e&&(t.blockedOn=null,n0||(n0=!0,Or.unstable_scheduleCallback(Or.unstable_NormalPriority,Qk)))}function Vd(t){function e(a){return Mc(a,t)}if(0<ph.length){Mc(ph[0],t);for(var n=1;n<ph.length;n++){var r=ph[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ki!==null&&Mc(Ki,t),Yi!==null&&Mc(Yi,t),Ji!==null&&Mc(Ji,t),Bd.forEach(e),zd.forEach(e),n=0;n<Bi.length;n++)r=Bi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Bi.length&&(n=Bi[0],n.blockedOn===null);)FC(n),n.blockedOn===null&&Bi.shift()}var kl=hi.ReactCurrentBatchConfig,Nf=!0;function Xk(t,e,n,r){var a=Ut,i=kl.transition;kl.transition=null;try{Ut=1,HA(t,e,n,r)}finally{Ut=a,kl.transition=i}}function Kk(t,e,n,r){var a=Ut,i=kl.transition;kl.transition=null;try{Ut=4,HA(t,e,n,r)}finally{Ut=a,kl.transition=i}}function HA(t,e,n,r){if(Nf){var a=r0(t,e,n,r);if(a===null)Hm(t,e,r,If,n),jv(t,r);else if(Hk(a,t,e,n,r))r.stopPropagation();else if(jv(t,r),e&4&&-1<qk.indexOf(t)){for(;a!==null;){var i=Eu(a);if(i!==null&&jC(i),i=r0(t,e,n,r),i===null&&Hm(t,e,r,If,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else Hm(t,e,r,null,n)}}var If=null;function r0(t,e,n,r){if(If=null,t=GA(r),t=Xs(t),t!==null)if(e=Po(t),e===null)t=null;else if(n=e.tag,n===13){if(t=NC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return If=t,null}function BC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ok()){case WA:return 1;case kC:return 4;case Cf:case Fk:return 16;case DC:return 536870912;default:return 16}default:return 16}}var qi=null,QA=null,$h=null;function zC(){if($h)return $h;var t,e=QA,n=e.length,r,a="value"in qi?qi.value:qi.textContent,i=a.length;for(t=0;t<n&&e[t]===a[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===a[i-r];r++);return $h=a.slice(t,1<r?1-r:void 0)}function qh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function mh(){return!0}function Lv(){return!1}function zr(t){function e(n,r,a,i,s){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?mh:Lv,this.isPropagationStopped=Lv,this}return sn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mh)},persist:function(){},isPersistent:mh}),e}var uc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},XA=zr(uc),Cu=sn({},uc,{view:0,detail:0}),Yk=zr(Cu),Fm,Bm,Lc,jp=sn({},Cu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:KA,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lc&&(Lc&&t.type==="mousemove"?(Fm=t.screenX-Lc.screenX,Bm=t.screenY-Lc.screenY):Bm=Fm=0,Lc=t),Fm)},movementY:function(t){return"movementY"in t?t.movementY:Bm}}),Ov=zr(jp),Jk=sn({},jp,{dataTransfer:0}),Zk=zr(Jk),eD=sn({},Cu,{relatedTarget:0}),zm=zr(eD),tD=sn({},uc,{animationName:0,elapsedTime:0,pseudoElement:0}),nD=zr(tD),rD=sn({},uc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aD=zr(rD),iD=sn({},uc,{data:0}),Fv=zr(iD),sD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lD[t])?!!e[t]:!1}function KA(){return cD}var dD=sn({},Cu,{key:function(t){if(t.key){var e=sD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:KA,charCode:function(t){return t.type==="keypress"?qh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uD=zr(dD),hD=sn({},jp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bv=zr(hD),fD=sn({},Cu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:KA}),pD=zr(fD),mD=sn({},uc,{propertyName:0,elapsedTime:0,pseudoElement:0}),gD=zr(mD),AD=sn({},jp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xD=zr(AD),yD=[9,13,27,32],YA=ii&&"CompositionEvent"in window,pd=null;ii&&"documentMode"in document&&(pd=document.documentMode);var vD=ii&&"TextEvent"in window&&!pd,VC=ii&&(!YA||pd&&8<pd&&11>=pd),zv=" ",Vv=!1;function UC(t,e){switch(t){case"keyup":return yD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ul=!1;function bD(t,e){switch(t){case"compositionend":return GC(e);case"keypress":return e.which!==32?null:(Vv=!0,zv);case"textInput":return t=e.data,t===zv&&Vv?null:t;default:return null}}function wD(t,e){if(ul)return t==="compositionend"||!YA&&UC(t,e)?(t=zC(),$h=QA=qi=null,ul=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return VC&&e.locale!=="ko"?null:e.data;default:return null}}var _D={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_D[t.type]:e==="textarea"}function WC(t,e,n,r){bC(r),e=Sf(e,"onChange"),0<e.length&&(n=new XA("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var md=null,Ud=null;function CD(t){t2(t,0)}function Mp(t){var e=pl(t);if(pC(e))return t}function ED(t,e){if(t==="change")return e}var $C=!1;if(ii){var Vm;if(ii){var Um="oninput"in document;if(!Um){var Gv=document.createElement("div");Gv.setAttribute("oninput","return;"),Um=typeof Gv.oninput=="function"}Vm=Um}else Vm=!1;$C=Vm&&(!document.documentMode||9<document.documentMode)}function Wv(){md&&(md.detachEvent("onpropertychange",qC),Ud=md=null)}function qC(t){if(t.propertyName==="value"&&Mp(Ud)){var e=[];WC(e,Ud,t,GA(t)),EC(CD,e)}}function ND(t,e,n){t==="focusin"?(Wv(),md=e,Ud=n,md.attachEvent("onpropertychange",qC)):t==="focusout"&&Wv()}function ID(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mp(Ud)}function SD(t,e){if(t==="click")return Mp(e)}function TD(t,e){if(t==="input"||t==="change")return Mp(e)}function kD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Aa=typeof Object.is=="function"?Object.is:kD;function Gd(t,e){if(Aa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Bg.call(e,a)||!Aa(t[a],e[a]))return!1}return!0}function $v(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qv(t,e){var n=$v(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$v(n)}}function HC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?HC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function QC(){for(var t=window,e=bf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bf(t.document)}return e}function JA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function DD(t){var e=QC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&HC(n.ownerDocument.documentElement,n)){if(r!==null&&JA(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!t.extend&&i>r&&(a=r,r=i,i=a),a=qv(n,i);var s=qv(n,r);a&&s&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var RD=ii&&"documentMode"in document&&11>=document.documentMode,hl=null,a0=null,gd=null,i0=!1;function Hv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;i0||hl==null||hl!==bf(r)||(r=hl,"selectionStart"in r&&JA(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gd&&Gd(gd,r)||(gd=r,r=Sf(a0,"onSelect"),0<r.length&&(e=new XA("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=hl)))}function gh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fl={animationend:gh("Animation","AnimationEnd"),animationiteration:gh("Animation","AnimationIteration"),animationstart:gh("Animation","AnimationStart"),transitionend:gh("Transition","TransitionEnd")},Gm={},XC={};ii&&(XC=document.createElement("div").style,"AnimationEvent"in window||(delete fl.animationend.animation,delete fl.animationiteration.animation,delete fl.animationstart.animation),"TransitionEvent"in window||delete fl.transitionend.transition);function Lp(t){if(Gm[t])return Gm[t];if(!fl[t])return t;var e=fl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in XC)return Gm[t]=e[n];return t}var KC=Lp("animationend"),YC=Lp("animationiteration"),JC=Lp("animationstart"),ZC=Lp("transitionend"),e2=new Map,Qv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(t,e){e2.set(t,e),Ro(e,[t])}for(var Wm=0;Wm<Qv.length;Wm++){var $m=Qv[Wm],PD=$m.toLowerCase(),jD=$m[0].toUpperCase()+$m.slice(1);vs(PD,"on"+jD)}vs(KC,"onAnimationEnd");vs(YC,"onAnimationIteration");vs(JC,"onAnimationStart");vs("dblclick","onDoubleClick");vs("focusin","onFocus");vs("focusout","onBlur");vs(ZC,"onTransitionEnd");Ul("onMouseEnter",["mouseout","mouseover"]);Ul("onMouseLeave",["mouseout","mouseover"]);Ul("onPointerEnter",["pointerout","pointerover"]);Ul("onPointerLeave",["pointerout","pointerover"]);Ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jc));function Xv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Pk(r,e,void 0,t),t.currentTarget=null}function t2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],a=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Xv(a,l,d),i=c}else for(s=0;s<r.length;s++){if(l=r[s],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Xv(a,l,d),i=c}}}if(_f)throw t=e0,_f=!1,e0=null,t}function Qt(t,e){var n=e[d0];n===void 0&&(n=e[d0]=new Set);var r=t+"__bubble";n.has(r)||(n2(e,t,2,!1),n.add(r))}function qm(t,e,n){var r=0;e&&(r|=4),n2(n,t,r,e)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function Wd(t){if(!t[Ah]){t[Ah]=!0,cC.forEach(function(n){n!=="selectionchange"&&(MD.has(n)||qm(n,!1,t),qm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ah]||(e[Ah]=!0,qm("selectionchange",!1,e))}}function n2(t,e,n,r){switch(BC(e)){case 1:var a=Xk;break;case 4:a=Kk;break;default:a=HA}n=a.bind(null,e,n,t),a=void 0,!Zg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),r?a!==void 0?t.addEventListener(e,n,{capture:!0,passive:a}):t.addEventListener(e,n,!0):a!==void 0?t.addEventListener(e,n,{passive:a}):t.addEventListener(e,n,!1)}function Hm(t,e,n,r,a){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;l!==null;){if(s=Xs(l),s===null)return;if(c=s.tag,c===5||c===6){r=i=s;continue e}l=l.parentNode}}r=r.return}EC(function(){var d=i,u=GA(n),h=[];e:{var p=e2.get(t);if(p!==void 0){var m=XA,g=t;switch(t){case"keypress":if(qh(n)===0)break e;case"keydown":case"keyup":m=uD;break;case"focusin":g="focus",m=zm;break;case"focusout":g="blur",m=zm;break;case"beforeblur":case"afterblur":m=zm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ov;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Zk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=pD;break;case KC:case YC:case JC:m=nD;break;case ZC:m=gD;break;case"scroll":m=Yk;break;case"wheel":m=xD;break;case"copy":case"cut":case"paste":m=aD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Bv}var A=(e&4)!==0,v=!A&&t==="scroll",x=A?p!==null?p+"Capture":null:p;A=[];for(var y=d,w;y!==null;){w=y;var T=w.stateNode;if(w.tag===5&&T!==null&&(w=T,x!==null&&(T=Fd(y,x),T!=null&&A.push($d(y,T,w)))),v)break;y=y.return}0<A.length&&(p=new m(p,g,null,n,u),h.push({event:p,listeners:A}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Yg&&(g=n.relatedTarget||n.fromElement)&&(Xs(g)||g[si]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=d,g=g?Xs(g):null,g!==null&&(v=Po(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=d),m!==g)){if(A=Ov,T="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(A=Bv,T="onPointerLeave",x="onPointerEnter",y="pointer"),v=m==null?p:pl(m),w=g==null?p:pl(g),p=new A(T,y+"leave",m,n,u),p.target=v,p.relatedTarget=w,T=null,Xs(u)===d&&(A=new A(x,y+"enter",g,n,u),A.target=w,A.relatedTarget=v,T=A),v=T,m&&g)t:{for(A=m,x=g,y=0,w=A;w;w=Wo(w))y++;for(w=0,T=x;T;T=Wo(T))w++;for(;0<y-w;)A=Wo(A),y--;for(;0<w-y;)x=Wo(x),w--;for(;y--;){if(A===x||x!==null&&A===x.alternate)break t;A=Wo(A),x=Wo(x)}A=null}else A=null;m!==null&&Kv(h,p,m,A,!1),g!==null&&v!==null&&Kv(h,v,g,A,!0)}}e:{if(p=d?pl(d):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var I=ED;else if(Uv(p))if($C)I=TD;else{I=ID;var R=ND}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(I=SD);if(I&&(I=I(t,d))){WC(h,I,n,u);break e}R&&R(t,p,d),t==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&qg(p,"number",p.value)}switch(R=d?pl(d):window,t){case"focusin":(Uv(R)||R.contentEditable==="true")&&(hl=R,a0=d,gd=null);break;case"focusout":gd=a0=hl=null;break;case"mousedown":i0=!0;break;case"contextmenu":case"mouseup":case"dragend":i0=!1,Hv(h,n,u);break;case"selectionchange":if(RD)break;case"keydown":case"keyup":Hv(h,n,u)}var _;if(YA)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ul?UC(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(VC&&n.locale!=="ko"&&(ul||N!=="onCompositionStart"?N==="onCompositionEnd"&&ul&&(_=zC()):(qi=u,QA="value"in qi?qi.value:qi.textContent,ul=!0)),R=Sf(d,N),0<R.length&&(N=new Fv(N,t,null,n,u),h.push({event:N,listeners:R}),_?N.data=_:(_=GC(n),_!==null&&(N.data=_)))),(_=vD?bD(t,n):wD(t,n))&&(d=Sf(d,"onBeforeInput"),0<d.length&&(u=new Fv("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:d}),u.data=_))}t2(h,e)})}function $d(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sf(t,e){for(var n=e+"Capture",r=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Fd(t,n),i!=null&&r.unshift($d(t,i,a)),i=Fd(t,e),i!=null&&r.push($d(t,i,a))),t=t.return}return r}function Wo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Kv(t,e,n,r,a){for(var i=e._reactName,s=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,a?(c=Fd(n,i),c!=null&&s.unshift($d(n,c,l))):a||(c=Fd(n,i),c!=null&&s.push($d(n,c,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var LD=/\r\n?/g,OD=/\u0000|\uFFFD/g;function Yv(t){return(typeof t=="string"?t:""+t).replace(LD,`
`).replace(OD,"")}function xh(t,e,n){if(e=Yv(e),Yv(t)!==e&&n)throw Error(_e(425))}function Tf(){}var s0=null,o0=null;function l0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var c0=typeof setTimeout=="function"?setTimeout:void 0,FD=typeof clearTimeout=="function"?clearTimeout:void 0,Jv=typeof Promise=="function"?Promise:void 0,BD=typeof queueMicrotask=="function"?queueMicrotask:typeof Jv<"u"?function(t){return Jv.resolve(null).then(t).catch(zD)}:c0;function zD(t){setTimeout(function(){throw t})}function Qm(t,e){var n=e,r=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){t.removeChild(a),Vd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);Vd(e)}function Zi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var hc=Math.random().toString(36).slice(2),_a="__reactFiber$"+hc,qd="__reactProps$"+hc,si="__reactContainer$"+hc,d0="__reactEvents$"+hc,VD="__reactListeners$"+hc,UD="__reactHandles$"+hc;function Xs(t){var e=t[_a];if(e)return e;for(var n=t.parentNode;n;){if(e=n[si]||n[_a]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Zv(t);t!==null;){if(n=t[_a])return n;t=Zv(t)}return e}t=n,n=t.parentNode}return null}function Eu(t){return t=t[_a]||t[si],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function pl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(_e(33))}function Op(t){return t[qd]||null}var u0=[],ml=-1;function bs(t){return{current:t}}function Xt(t){0>ml||(t.current=u0[ml],u0[ml]=null,ml--)}function Ht(t,e){ml++,u0[ml]=t.current,t.current=e}var us={},ar=bs(us),_r=bs(!1),ho=us;function Gl(t,e){var n=t.type.contextTypes;if(!n)return us;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function Cr(t){return t=t.childContextTypes,t!=null}function kf(){Xt(_r),Xt(ar)}function eb(t,e,n){if(ar.current!==us)throw Error(_e(168));Ht(ar,e),Ht(_r,n)}function r2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in e))throw Error(_e(108,Nk(t)||"Unknown",a));return sn({},n,r)}function Df(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||us,ho=ar.current,Ht(ar,t),Ht(_r,_r.current),!0}function tb(t,e,n){var r=t.stateNode;if(!r)throw Error(_e(169));n?(t=r2(t,e,ho),r.__reactInternalMemoizedMergedChildContext=t,Xt(_r),Xt(ar),Ht(ar,t)):Xt(_r),Ht(_r,n)}var $a=null,Fp=!1,Xm=!1;function a2(t){$a===null?$a=[t]:$a.push(t)}function GD(t){Fp=!0,a2(t)}function ws(){if(!Xm&&$a!==null){Xm=!0;var t=0,e=Ut;try{var n=$a;for(Ut=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$a=null,Fp=!1}catch(a){throw $a!==null&&($a=$a.slice(t+1)),TC(WA,ws),a}finally{Ut=e,Xm=!1}}return null}var gl=[],Al=0,Rf=null,Pf=0,qr=[],Hr=0,fo=null,Qa=1,Xa="";function Os(t,e){gl[Al++]=Pf,gl[Al++]=Rf,Rf=t,Pf=e}function i2(t,e,n){qr[Hr++]=Qa,qr[Hr++]=Xa,qr[Hr++]=fo,fo=t;var r=Qa;t=Xa;var a=32-fa(r)-1;r&=~(1<<a),n+=1;var i=32-fa(e)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Qa=1<<32-fa(e)+a|n<<a|r,Xa=i+t}else Qa=1<<i|n<<a|r,Xa=t}function ZA(t){t.return!==null&&(Os(t,1),i2(t,1,0))}function ex(t){for(;t===Rf;)Rf=gl[--Al],gl[Al]=null,Pf=gl[--Al],gl[Al]=null;for(;t===fo;)fo=qr[--Hr],qr[Hr]=null,Xa=qr[--Hr],qr[Hr]=null,Qa=qr[--Hr],qr[Hr]=null}var Lr=null,jr=null,Yt=!1,da=null;function s2(t,e){var n=Xr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function nb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Lr=t,jr=Zi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Lr=t,jr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fo!==null?{id:Qa,overflow:Xa}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Lr=t,jr=null,!0):!1;default:return!1}}function h0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function f0(t){if(Yt){var e=jr;if(e){var n=e;if(!nb(t,e)){if(h0(t))throw Error(_e(418));e=Zi(n.nextSibling);var r=Lr;e&&nb(t,e)?s2(r,n):(t.flags=t.flags&-4097|2,Yt=!1,Lr=t)}}else{if(h0(t))throw Error(_e(418));t.flags=t.flags&-4097|2,Yt=!1,Lr=t}}}function rb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Lr=t}function yh(t){if(t!==Lr)return!1;if(!Yt)return rb(t),Yt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!l0(t.type,t.memoizedProps)),e&&(e=jr)){if(h0(t))throw o2(),Error(_e(418));for(;e;)s2(t,e),e=Zi(e.nextSibling)}if(rb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(_e(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){jr=Zi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}jr=null}}else jr=Lr?Zi(t.stateNode.nextSibling):null;return!0}function o2(){for(var t=jr;t;)t=Zi(t.nextSibling)}function Wl(){jr=Lr=null,Yt=!1}function tx(t){da===null?da=[t]:da.push(t)}var WD=hi.ReactCurrentBatchConfig;function Oc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_e(309));var r=n.stateNode}if(!r)throw Error(_e(147,t));var a=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var l=a.refs;s===null?delete l[i]:l[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(_e(284));if(!n._owner)throw Error(_e(290,t))}return t}function vh(t,e){throw t=Object.prototype.toString.call(e),Error(_e(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ab(t){var e=t._init;return e(t._payload)}function l2(t){function e(x,y){if(t){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function a(x,y){return x=rs(x,y),x.index=0,x.sibling=null,x}function i(x,y,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,y,w,T){return y===null||y.tag!==6?(y=ng(w,x.mode,T),y.return=x,y):(y=a(y,w),y.return=x,y)}function c(x,y,w,T){var I=w.type;return I===dl?u(x,y,w.props.children,T,w.key):y!==null&&(y.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Pi&&ab(I)===y.type)?(T=a(y,w.props),T.ref=Oc(x,y,w),T.return=x,T):(T=Zh(w.type,w.key,w.props,null,x.mode,T),T.ref=Oc(x,y,w),T.return=x,T)}function d(x,y,w,T){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=rg(w,x.mode,T),y.return=x,y):(y=a(y,w.children||[]),y.return=x,y)}function u(x,y,w,T,I){return y===null||y.tag!==7?(y=so(w,x.mode,T,I),y.return=x,y):(y=a(y,w),y.return=x,y)}function h(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ng(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ch:return w=Zh(y.type,y.key,y.props,null,x.mode,w),w.ref=Oc(x,null,y),w.return=x,w;case cl:return y=rg(y,x.mode,w),y.return=x,y;case Pi:var T=y._init;return h(x,T(y._payload),w)}if(Kc(y)||Rc(y))return y=so(y,x.mode,w,null),y.return=x,y;vh(x,y)}return null}function p(x,y,w,T){var I=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return I!==null?null:l(x,y,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ch:return w.key===I?c(x,y,w,T):null;case cl:return w.key===I?d(x,y,w,T):null;case Pi:return I=w._init,p(x,y,I(w._payload),T)}if(Kc(w)||Rc(w))return I!==null?null:u(x,y,w,T,null);vh(x,w)}return null}function m(x,y,w,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return x=x.get(w)||null,l(y,x,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ch:return x=x.get(T.key===null?w:T.key)||null,c(y,x,T,I);case cl:return x=x.get(T.key===null?w:T.key)||null,d(y,x,T,I);case Pi:var R=T._init;return m(x,y,w,R(T._payload),I)}if(Kc(T)||Rc(T))return x=x.get(w)||null,u(y,x,T,I,null);vh(y,T)}return null}function g(x,y,w,T){for(var I=null,R=null,_=y,N=y=0,E=null;_!==null&&N<w.length;N++){_.index>N?(E=_,_=null):E=_.sibling;var k=p(x,_,w[N],T);if(k===null){_===null&&(_=E);break}t&&_&&k.alternate===null&&e(x,_),y=i(k,y,N),R===null?I=k:R.sibling=k,R=k,_=E}if(N===w.length)return n(x,_),Yt&&Os(x,N),I;if(_===null){for(;N<w.length;N++)_=h(x,w[N],T),_!==null&&(y=i(_,y,N),R===null?I=_:R.sibling=_,R=_);return Yt&&Os(x,N),I}for(_=r(x,_);N<w.length;N++)E=m(_,x,N,w[N],T),E!==null&&(t&&E.alternate!==null&&_.delete(E.key===null?N:E.key),y=i(E,y,N),R===null?I=E:R.sibling=E,R=E);return t&&_.forEach(function(P){return e(x,P)}),Yt&&Os(x,N),I}function A(x,y,w,T){var I=Rc(w);if(typeof I!="function")throw Error(_e(150));if(w=I.call(w),w==null)throw Error(_e(151));for(var R=I=null,_=y,N=y=0,E=null,k=w.next();_!==null&&!k.done;N++,k=w.next()){_.index>N?(E=_,_=null):E=_.sibling;var P=p(x,_,k.value,T);if(P===null){_===null&&(_=E);break}t&&_&&P.alternate===null&&e(x,_),y=i(P,y,N),R===null?I=P:R.sibling=P,R=P,_=E}if(k.done)return n(x,_),Yt&&Os(x,N),I;if(_===null){for(;!k.done;N++,k=w.next())k=h(x,k.value,T),k!==null&&(y=i(k,y,N),R===null?I=k:R.sibling=k,R=k);return Yt&&Os(x,N),I}for(_=r(x,_);!k.done;N++,k=w.next())k=m(_,x,N,k.value,T),k!==null&&(t&&k.alternate!==null&&_.delete(k.key===null?N:k.key),y=i(k,y,N),R===null?I=k:R.sibling=k,R=k);return t&&_.forEach(function(C){return e(x,C)}),Yt&&Os(x,N),I}function v(x,y,w,T){if(typeof w=="object"&&w!==null&&w.type===dl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ch:e:{for(var I=w.key,R=y;R!==null;){if(R.key===I){if(I=w.type,I===dl){if(R.tag===7){n(x,R.sibling),y=a(R,w.props.children),y.return=x,x=y;break e}}else if(R.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Pi&&ab(I)===R.type){n(x,R.sibling),y=a(R,w.props),y.ref=Oc(x,R,w),y.return=x,x=y;break e}n(x,R);break}else e(x,R);R=R.sibling}w.type===dl?(y=so(w.props.children,x.mode,T,w.key),y.return=x,x=y):(T=Zh(w.type,w.key,w.props,null,x.mode,T),T.ref=Oc(x,y,w),T.return=x,x=T)}return s(x);case cl:e:{for(R=w.key;y!==null;){if(y.key===R)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(x,y.sibling),y=a(y,w.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else e(x,y);y=y.sibling}y=rg(w,x.mode,T),y.return=x,x=y}return s(x);case Pi:return R=w._init,v(x,y,R(w._payload),T)}if(Kc(w))return g(x,y,w,T);if(Rc(w))return A(x,y,w,T);vh(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(x,y.sibling),y=a(y,w),y.return=x,x=y):(n(x,y),y=ng(w,x.mode,T),y.return=x,x=y),s(x)):n(x,y)}return v}var $l=l2(!0),c2=l2(!1),jf=bs(null),Mf=null,xl=null,nx=null;function rx(){nx=xl=Mf=null}function ax(t){var e=jf.current;Xt(jf),t._currentValue=e}function p0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Dl(t,e){Mf=t,nx=xl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(br=!0),t.firstContext=null)}function ea(t){var e=t._currentValue;if(nx!==t)if(t={context:t,memoizedValue:e,next:null},xl===null){if(Mf===null)throw Error(_e(308));xl=t,Mf.dependencies={lanes:0,firstContext:t}}else xl=xl.next=t;return e}var Ks=null;function ix(t){Ks===null?Ks=[t]:Ks.push(t)}function d2(t,e,n,r){var a=e.interleaved;return a===null?(n.next=n,ix(e)):(n.next=a.next,a.next=n),e.interleaved=n,oi(t,r)}function oi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ji=!1;function sx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function u2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ti(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function es(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,St&2){var a=r.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),r.pending=e,oi(t,n)}return a=r.interleaved,a===null?(e.next=e,ix(r)):(e.next=a.next,a.next=e),r.interleaved=e,oi(t,n)}function Hh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$A(t,n)}}function ib(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?a=i=e:i=i.next=e}else a=i=e;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Lf(t,e,n,r){var a=t.updateQueue;ji=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,s===null?i=d:s.next=d,s=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==s&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;s=0,u=d=c=null,l=i;do{var p=l.lane,m=l.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,A=l;switch(p=e,m=n,A.tag){case 1:if(g=A.payload,typeof g=="function"){h=g.call(m,h,p);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=A.payload,p=typeof g=="function"?g.call(m,h,p):g,p==null)break e;h=sn({},h,p);break e;case 2:ji=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=a.effects,p===null?a.effects=[l]:p.push(l))}else m={eventTime:m,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=h):u=u.next=m,s|=p;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;p=l,l=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,e=a.shared.interleaved,e!==null){a=e;do s|=a.lane,a=a.next;while(a!==e)}else i===null&&(a.shared.lanes=0);mo|=s,t.lanes=s,t.memoizedState=h}}function sb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(_e(191,a));a.call(r)}}}var Nu={},Ta=bs(Nu),Hd=bs(Nu),Qd=bs(Nu);function Ys(t){if(t===Nu)throw Error(_e(174));return t}function ox(t,e){switch(Ht(Qd,e),Ht(Hd,t),Ht(Ta,Nu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qg(e,t)}Xt(Ta),Ht(Ta,e)}function ql(){Xt(Ta),Xt(Hd),Xt(Qd)}function h2(t){Ys(Qd.current);var e=Ys(Ta.current),n=Qg(e,t.type);e!==n&&(Ht(Hd,t),Ht(Ta,n))}function lx(t){Hd.current===t&&(Xt(Ta),Xt(Hd))}var rn=bs(0);function Of(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Km=[];function cx(){for(var t=0;t<Km.length;t++)Km[t]._workInProgressVersionPrimary=null;Km.length=0}var Qh=hi.ReactCurrentDispatcher,Ym=hi.ReactCurrentBatchConfig,po=0,an=null,_n=null,Dn=null,Ff=!1,Ad=!1,Xd=0,$D=0;function Jn(){throw Error(_e(321))}function dx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Aa(t[n],e[n]))return!1;return!0}function ux(t,e,n,r,a,i){if(po=i,an=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qh.current=t===null||t.memoizedState===null?XD:KD,t=n(r,a),Ad){i=0;do{if(Ad=!1,Xd=0,25<=i)throw Error(_e(301));i+=1,Dn=_n=null,e.updateQueue=null,Qh.current=YD,t=n(r,a)}while(Ad)}if(Qh.current=Bf,e=_n!==null&&_n.next!==null,po=0,Dn=_n=an=null,Ff=!1,e)throw Error(_e(300));return t}function hx(){var t=Xd!==0;return Xd=0,t}function wa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?an.memoizedState=Dn=t:Dn=Dn.next=t,Dn}function ta(){if(_n===null){var t=an.alternate;t=t!==null?t.memoizedState:null}else t=_n.next;var e=Dn===null?an.memoizedState:Dn.next;if(e!==null)Dn=e,_n=t;else{if(t===null)throw Error(_e(310));_n=t,t={memoizedState:_n.memoizedState,baseState:_n.baseState,baseQueue:_n.baseQueue,queue:_n.queue,next:null},Dn===null?an.memoizedState=Dn=t:Dn=Dn.next=t}return Dn}function Kd(t,e){return typeof e=="function"?e(t):e}function Jm(t){var e=ta(),n=e.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=t;var r=_n,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=s=null,c=null,d=i;do{var u=d.lane;if((po&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,s=r):c=c.next=h,an.lanes|=u,mo|=u}d=d.next}while(d!==null&&d!==i);c===null?s=r:c.next=l,Aa(r,e.memoizedState)||(br=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){a=t;do i=a.lane,an.lanes|=i,mo|=i,a=a.next;while(a!==t)}else a===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zm(t){var e=ta(),n=e.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=t;var r=n.dispatch,a=n.pending,i=e.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do i=t(i,s.action),s=s.next;while(s!==a);Aa(i,e.memoizedState)||(br=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function f2(){}function p2(t,e){var n=an,r=ta(),a=e(),i=!Aa(r.memoizedState,a);if(i&&(r.memoizedState=a,br=!0),r=r.queue,fx(A2.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Dn!==null&&Dn.memoizedState.tag&1){if(n.flags|=2048,Yd(9,g2.bind(null,n,r,a,e),void 0,null),Pn===null)throw Error(_e(349));po&30||m2(n,e,a)}return a}function m2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=an.updateQueue,e===null?(e={lastEffect:null,stores:null},an.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function g2(t,e,n,r){e.value=n,e.getSnapshot=r,x2(e)&&y2(t)}function A2(t,e,n){return n(function(){x2(e)&&y2(t)})}function x2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Aa(t,n)}catch{return!0}}function y2(t){var e=oi(t,1);e!==null&&pa(e,t,1,-1)}function ob(t){var e=wa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kd,lastRenderedState:t},e.queue=t,t=t.dispatch=QD.bind(null,an,t),[e.memoizedState,t]}function Yd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=an.updateQueue,e===null?(e={lastEffect:null,stores:null},an.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function v2(){return ta().memoizedState}function Xh(t,e,n,r){var a=wa();an.flags|=t,a.memoizedState=Yd(1|e,n,void 0,r===void 0?null:r)}function Bp(t,e,n,r){var a=ta();r=r===void 0?null:r;var i=void 0;if(_n!==null){var s=_n.memoizedState;if(i=s.destroy,r!==null&&dx(r,s.deps)){a.memoizedState=Yd(e,n,i,r);return}}an.flags|=t,a.memoizedState=Yd(1|e,n,i,r)}function lb(t,e){return Xh(8390656,8,t,e)}function fx(t,e){return Bp(2048,8,t,e)}function b2(t,e){return Bp(4,2,t,e)}function w2(t,e){return Bp(4,4,t,e)}function _2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function C2(t,e,n){return n=n!=null?n.concat([t]):null,Bp(4,4,_2.bind(null,e,t),n)}function px(){}function E2(t,e){var n=ta();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function N2(t,e){var n=ta();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function I2(t,e,n){return po&21?(Aa(n,e)||(n=RC(),an.lanes|=n,mo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,br=!0),t.memoizedState=n)}function qD(t,e){var n=Ut;Ut=n!==0&&4>n?n:4,t(!0);var r=Ym.transition;Ym.transition={};try{t(!1),e()}finally{Ut=n,Ym.transition=r}}function S2(){return ta().memoizedState}function HD(t,e,n){var r=ns(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},T2(t))k2(e,n);else if(n=d2(t,e,n,r),n!==null){var a=cr();pa(n,t,r,a),D2(n,e,r)}}function QD(t,e,n){var r=ns(t),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(T2(t))k2(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,l=i(s,n);if(a.hasEagerState=!0,a.eagerState=l,Aa(l,s)){var c=e.interleaved;c===null?(a.next=a,ix(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}n=d2(t,e,a,r),n!==null&&(a=cr(),pa(n,t,r,a),D2(n,e,r))}}function T2(t){var e=t.alternate;return t===an||e!==null&&e===an}function k2(t,e){Ad=Ff=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function D2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$A(t,n)}}var Bf={readContext:ea,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useInsertionEffect:Jn,useLayoutEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useMutableSource:Jn,useSyncExternalStore:Jn,useId:Jn,unstable_isNewReconciler:!1},XD={readContext:ea,useCallback:function(t,e){return wa().memoizedState=[t,e===void 0?null:e],t},useContext:ea,useEffect:lb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xh(4194308,4,_2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xh(4,2,t,e)},useMemo:function(t,e){var n=wa();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wa();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=HD.bind(null,an,t),[r.memoizedState,t]},useRef:function(t){var e=wa();return t={current:t},e.memoizedState=t},useState:ob,useDebugValue:px,useDeferredValue:function(t){return wa().memoizedState=t},useTransition:function(){var t=ob(!1),e=t[0];return t=qD.bind(null,t[1]),wa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=an,a=wa();if(Yt){if(n===void 0)throw Error(_e(407));n=n()}else{if(n=e(),Pn===null)throw Error(_e(349));po&30||m2(r,e,n)}a.memoizedState=n;var i={value:n,getSnapshot:e};return a.queue=i,lb(A2.bind(null,r,i,t),[t]),r.flags|=2048,Yd(9,g2.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=wa(),e=Pn.identifierPrefix;if(Yt){var n=Xa,r=Qa;n=(r&~(1<<32-fa(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$D++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},KD={readContext:ea,useCallback:E2,useContext:ea,useEffect:fx,useImperativeHandle:C2,useInsertionEffect:b2,useLayoutEffect:w2,useMemo:N2,useReducer:Jm,useRef:v2,useState:function(){return Jm(Kd)},useDebugValue:px,useDeferredValue:function(t){var e=ta();return I2(e,_n.memoizedState,t)},useTransition:function(){var t=Jm(Kd)[0],e=ta().memoizedState;return[t,e]},useMutableSource:f2,useSyncExternalStore:p2,useId:S2,unstable_isNewReconciler:!1},YD={readContext:ea,useCallback:E2,useContext:ea,useEffect:fx,useImperativeHandle:C2,useInsertionEffect:b2,useLayoutEffect:w2,useMemo:N2,useReducer:Zm,useRef:v2,useState:function(){return Zm(Kd)},useDebugValue:px,useDeferredValue:function(t){var e=ta();return _n===null?e.memoizedState=t:I2(e,_n.memoizedState,t)},useTransition:function(){var t=Zm(Kd)[0],e=ta().memoizedState;return[t,e]},useMutableSource:f2,useSyncExternalStore:p2,useId:S2,unstable_isNewReconciler:!1};function la(t,e){if(t&&t.defaultProps){e=sn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function m0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:sn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zp={isMounted:function(t){return(t=t._reactInternals)?Po(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cr(),a=ns(t),i=ti(r,a);i.payload=e,n!=null&&(i.callback=n),e=es(t,i,a),e!==null&&(pa(e,t,a,r),Hh(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cr(),a=ns(t),i=ti(r,a);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=es(t,i,a),e!==null&&(pa(e,t,a,r),Hh(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cr(),r=ns(t),a=ti(n,r);a.tag=2,e!=null&&(a.callback=e),e=es(t,a,r),e!==null&&(pa(e,t,r,n),Hh(e,t,r))}};function cb(t,e,n,r,a,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!Gd(n,r)||!Gd(a,i):!0}function R2(t,e,n){var r=!1,a=us,i=e.contextType;return typeof i=="object"&&i!==null?i=ea(i):(a=Cr(e)?ho:ar.current,r=e.contextTypes,i=(r=r!=null)?Gl(t,a):us),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function db(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zp.enqueueReplaceState(e,e.state,null)}function g0(t,e,n,r){var a=t.stateNode;a.props=n,a.state=t.memoizedState,a.refs={},sx(t);var i=e.contextType;typeof i=="object"&&i!==null?a.context=ea(i):(i=Cr(e)?ho:ar.current,a.context=Gl(t,i)),a.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(m0(t,e,i,n),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&zp.enqueueReplaceState(a,a.state,null),Lf(t,n,a,r),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Hl(t,e){try{var n="",r=e;do n+=Ek(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:a,digest:null}}function eg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function A0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var JD=typeof WeakMap=="function"?WeakMap:Map;function P2(t,e,n){n=ti(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vf||(Vf=!0,I0=r),A0(t,e)},n}function j2(t,e,n){n=ti(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var a=e.value;n.payload=function(){return r(a)},n.callback=function(){A0(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){A0(t,e),typeof r!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function ub(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new JD;var a=new Set;r.set(e,a)}else a=r.get(e),a===void 0&&(a=new Set,r.set(e,a));a.has(n)||(a.add(n),t=hR.bind(null,t,e,n),e.then(t,t))}function hb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fb(t,e,n,r,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ti(-1,1),e.tag=2,es(n,e,1))),n.lanes|=1),t)}var ZD=hi.ReactCurrentOwner,br=!1;function sr(t,e,n,r){e.child=t===null?c2(e,null,n,r):$l(e,t.child,n,r)}function pb(t,e,n,r,a){n=n.render;var i=e.ref;return Dl(e,a),r=ux(t,e,n,r,i,a),n=hx(),t!==null&&!br?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,li(t,e,a)):(Yt&&n&&ZA(e),e.flags|=1,sr(t,e,r,a),e.child)}function mb(t,e,n,r,a){if(t===null){var i=n.type;return typeof i=="function"&&!wx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,M2(t,e,i,r,a)):(t=Zh(n.type,null,r,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&a)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Gd,n(s,r)&&t.ref===e.ref)return li(t,e,a)}return e.flags|=1,t=rs(i,r),t.ref=e.ref,t.return=e,e.child=t}function M2(t,e,n,r,a){if(t!==null){var i=t.memoizedProps;if(Gd(i,r)&&t.ref===e.ref)if(br=!1,e.pendingProps=r=i,(t.lanes&a)!==0)t.flags&131072&&(br=!0);else return e.lanes=t.lanes,li(t,e,a)}return x0(t,e,n,r,a)}function L2(t,e,n){var r=e.pendingProps,a=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(vl,Dr),Dr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ht(vl,Dr),Dr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ht(vl,Dr),Dr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ht(vl,Dr),Dr|=r;return sr(t,e,a,n),e.child}function O2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function x0(t,e,n,r,a){var i=Cr(n)?ho:ar.current;return i=Gl(e,i),Dl(e,a),n=ux(t,e,n,r,i,a),r=hx(),t!==null&&!br?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,li(t,e,a)):(Yt&&r&&ZA(e),e.flags|=1,sr(t,e,n,a),e.child)}function gb(t,e,n,r,a){if(Cr(n)){var i=!0;Df(e)}else i=!1;if(Dl(e,a),e.stateNode===null)Kh(t,e),R2(e,n,r),g0(e,n,r,a),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var c=s.context,d=n.contextType;typeof d=="object"&&d!==null?d=ea(d):(d=Cr(n)?ho:ar.current,d=Gl(e,d));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||c!==d)&&db(e,s,r,d),ji=!1;var p=e.memoizedState;s.state=p,Lf(e,r,s,a),c=e.memoizedState,l!==r||p!==c||_r.current||ji?(typeof u=="function"&&(m0(e,n,u,r),c=e.memoizedState),(l=ji||cb(e,n,l,r,p,c,d))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),s.props=r,s.state=c,s.context=d,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,u2(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:la(e.type,l),s.props=d,h=e.pendingProps,p=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=ea(c):(c=Cr(n)?ho:ar.current,c=Gl(e,c));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==h||p!==c)&&db(e,s,r,c),ji=!1,p=e.memoizedState,s.state=p,Lf(e,r,s,a);var g=e.memoizedState;l!==h||p!==g||_r.current||ji?(typeof m=="function"&&(m0(e,n,m,r),g=e.memoizedState),(d=ji||cb(e,n,d,r,p,g,c)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=c,r=d):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return y0(t,e,n,r,i,a)}function y0(t,e,n,r,a,i){O2(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return a&&tb(e,n,!1),li(t,e,i);r=e.stateNode,ZD.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=$l(e,t.child,null,i),e.child=$l(e,null,l,i)):sr(t,e,l,i),e.memoizedState=r.state,a&&tb(e,n,!0),e.child}function F2(t){var e=t.stateNode;e.pendingContext?eb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&eb(t,e.context,!1),ox(t,e.containerInfo)}function Ab(t,e,n,r,a){return Wl(),tx(a),e.flags|=256,sr(t,e,n,r),e.child}var v0={dehydrated:null,treeContext:null,retryLane:0};function b0(t){return{baseLanes:t,cachePool:null,transitions:null}}function B2(t,e,n){var r=e.pendingProps,a=rn.current,i=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Ht(rn,a&1),t===null)return f0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,i?(r=e.mode,i=e.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Gp(s,r,0,null),t=so(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=b0(n),e.memoizedState=v0,t):mx(e,s));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return eR(t,e,s,r,l,a,n);if(i){i=r.fallback,s=e.mode,a=t.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&e.child!==a?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=rs(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=rs(l,i):(i=so(i,s,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=t.child.memoizedState,s=s===null?b0(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~n,e.memoizedState=v0,r}return i=t.child,t=i.sibling,r=rs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function mx(t,e){return e=Gp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bh(t,e,n,r){return r!==null&&tx(r),$l(e,t.child,null,n),t=mx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function eR(t,e,n,r,a,i,s){if(n)return e.flags&256?(e.flags&=-257,r=eg(Error(_e(422))),bh(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,a=e.mode,r=Gp({mode:"visible",children:r.children},a,0,null),i=so(i,a,s,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&$l(e,t.child,null,s),e.child.memoizedState=b0(s),e.memoizedState=v0,i);if(!(e.mode&1))return bh(t,e,s,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(_e(419)),r=eg(i,r,void 0),bh(t,e,s,r)}if(l=(s&t.childLanes)!==0,br||l){if(r=Pn,r!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,oi(t,a),pa(r,t,a,-1))}return bx(),r=eg(Error(_e(421))),bh(t,e,s,r)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=fR.bind(null,t),a._reactRetry=e,null):(t=i.treeContext,jr=Zi(a.nextSibling),Lr=e,Yt=!0,da=null,t!==null&&(qr[Hr++]=Qa,qr[Hr++]=Xa,qr[Hr++]=fo,Qa=t.id,Xa=t.overflow,fo=e),e=mx(e,r.children),e.flags|=4096,e)}function xb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),p0(t.return,e,n)}function tg(t,e,n,r,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function z2(t,e,n){var r=e.pendingProps,a=r.revealOrder,i=r.tail;if(sr(t,e,r.children,n),r=rn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xb(t,n,e);else if(t.tag===19)xb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ht(rn,r),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(n=e.child,a=null;n!==null;)t=n.alternate,t!==null&&Of(t)===null&&(a=n),n=n.sibling;n=a,n===null?(a=e.child,e.child=null):(a=n.sibling,n.sibling=null),tg(e,!1,a,n,i);break;case"backwards":for(n=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Of(t)===null){e.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}tg(e,!0,n,null,i);break;case"together":tg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Kh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function li(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),mo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(_e(153));if(e.child!==null){for(t=e.child,n=rs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=rs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function tR(t,e,n){switch(e.tag){case 3:F2(e),Wl();break;case 5:h2(e);break;case 1:Cr(e.type)&&Df(e);break;case 4:ox(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,a=e.memoizedProps.value;Ht(jf,r._currentValue),r._currentValue=a;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ht(rn,rn.current&1),e.flags|=128,null):n&e.child.childLanes?B2(t,e,n):(Ht(rn,rn.current&1),t=li(t,e,n),t!==null?t.sibling:null);Ht(rn,rn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return z2(t,e,n);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ht(rn,rn.current),r)break;return null;case 22:case 23:return e.lanes=0,L2(t,e,n)}return li(t,e,n)}var V2,w0,U2,G2;V2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};w0=function(){};U2=function(t,e,n,r){var a=t.memoizedProps;if(a!==r){t=e.stateNode,Ys(Ta.current);var i=null;switch(n){case"input":a=Wg(t,a),r=Wg(t,r),i=[];break;case"select":a=sn({},a,{value:void 0}),r=sn({},r,{value:void 0}),i=[];break;case"textarea":a=Hg(t,a),r=Hg(t,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Tf)}Xg(n,r);var s;n=null;for(d in a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ld.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=a!=null?a[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ld.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Qt("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};G2=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fc(t,e){if(!Yt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function nR(t,e,n){var r=e.pendingProps;switch(ex(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(e),null;case 1:return Cr(e.type)&&kf(),Zn(e),null;case 3:return r=e.stateNode,ql(),Xt(_r),Xt(ar),cx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(yh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,da!==null&&(k0(da),da=null))),w0(t,e),Zn(e),null;case 5:lx(e);var a=Ys(Qd.current);if(n=e.type,t!==null&&e.stateNode!=null)U2(t,e,n,r,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(_e(166));return Zn(e),null}if(t=Ys(Ta.current),yh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[_a]=e,r[qd]=i,t=(e.mode&1)!==0,n){case"dialog":Qt("cancel",r),Qt("close",r);break;case"iframe":case"object":case"embed":Qt("load",r);break;case"video":case"audio":for(a=0;a<Jc.length;a++)Qt(Jc[a],r);break;case"source":Qt("error",r);break;case"img":case"image":case"link":Qt("error",r),Qt("load",r);break;case"details":Qt("toggle",r);break;case"input":Iv(r,i),Qt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Qt("invalid",r);break;case"textarea":Tv(r,i),Qt("invalid",r)}Xg(n,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&xh(r.textContent,l,t),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&xh(r.textContent,l,t),a=["children",""+l]):Ld.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Qt("scroll",r)}switch(n){case"input":dh(r),Sv(r,i,!0);break;case"textarea":dh(r),kv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Tf)}r=a,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=AC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[_a]=e,t[qd]=r,V2(t,e,!1,!1),e.stateNode=t;e:{switch(s=Kg(n,r),n){case"dialog":Qt("cancel",t),Qt("close",t),a=r;break;case"iframe":case"object":case"embed":Qt("load",t),a=r;break;case"video":case"audio":for(a=0;a<Jc.length;a++)Qt(Jc[a],t);a=r;break;case"source":Qt("error",t),a=r;break;case"img":case"image":case"link":Qt("error",t),Qt("load",t),a=r;break;case"details":Qt("toggle",t),a=r;break;case"input":Iv(t,r),a=Wg(t,r),Qt("invalid",t);break;case"option":a=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},a=sn({},r,{value:void 0}),Qt("invalid",t);break;case"textarea":Tv(t,r),a=Hg(t,r),Qt("invalid",t);break;default:a=r}Xg(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?vC(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&xC(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Od(t,c):typeof c=="number"&&Od(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ld.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Qt("scroll",t):c!=null&&BA(t,i,c,s))}switch(n){case"input":dh(t),Sv(t,r,!1);break;case"textarea":dh(t),kv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ds(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Il(t,!!r.multiple,i,!1):r.defaultValue!=null&&Il(t,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Tf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zn(e),null;case 6:if(t&&e.stateNode!=null)G2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(_e(166));if(n=Ys(Qd.current),Ys(Ta.current),yh(e)){if(r=e.stateNode,n=e.memoizedProps,r[_a]=e,(i=r.nodeValue!==n)&&(t=Lr,t!==null))switch(t.tag){case 3:xh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_a]=e,e.stateNode=r}return Zn(e),null;case 13:if(Xt(rn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Yt&&jr!==null&&e.mode&1&&!(e.flags&128))o2(),Wl(),e.flags|=98560,i=!1;else if(i=yh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(_e(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(_e(317));i[_a]=e}else Wl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zn(e),i=!1}else da!==null&&(k0(da),da=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rn.current&1?En===0&&(En=3):bx())),e.updateQueue!==null&&(e.flags|=4),Zn(e),null);case 4:return ql(),w0(t,e),t===null&&Wd(e.stateNode.containerInfo),Zn(e),null;case 10:return ax(e.type._context),Zn(e),null;case 17:return Cr(e.type)&&kf(),Zn(e),null;case 19:if(Xt(rn),i=e.memoizedState,i===null)return Zn(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Fc(i,!1);else{if(En!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Of(t),s!==null){for(e.flags|=128,Fc(i,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ht(rn,rn.current&1|2),e.child}t=t.sibling}i.tail!==null&&hn()>Ql&&(e.flags|=128,r=!0,Fc(i,!1),e.lanes=4194304)}else{if(!r)if(t=Of(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Yt)return Zn(e),null}else 2*hn()-i.renderingStartTime>Ql&&n!==1073741824&&(e.flags|=128,r=!0,Fc(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=hn(),e.sibling=null,n=rn.current,Ht(rn,r?n&1|2:n&1),e):(Zn(e),null);case 22:case 23:return vx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Dr&1073741824&&(Zn(e),e.subtreeFlags&6&&(e.flags|=8192)):Zn(e),null;case 24:return null;case 25:return null}throw Error(_e(156,e.tag))}function rR(t,e){switch(ex(e),e.tag){case 1:return Cr(e.type)&&kf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ql(),Xt(_r),Xt(ar),cx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return lx(e),null;case 13:if(Xt(rn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(_e(340));Wl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xt(rn),null;case 4:return ql(),null;case 10:return ax(e.type._context),null;case 22:case 23:return vx(),null;case 24:return null;default:return null}}var wh=!1,tr=!1,aR=typeof WeakSet=="function"?WeakSet:Set,Me=null;function yl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){cn(t,e,r)}else n.current=null}function _0(t,e,n){try{n()}catch(r){cn(t,e,r)}}var yb=!1;function iR(t,e){if(s0=Nf,t=QC(),JA(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,c=-1,d=0,u=0,h=t,p=null;t:for(;;){for(var m;h!==n||a!==0&&h.nodeType!==3||(l=s+a),h!==i||r!==0&&h.nodeType!==3||(c=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++d===a&&(l=s),p===i&&++u===r&&(c=s),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(o0={focusedElem:t,selectionRange:n},Nf=!1,Me=e;Me!==null;)if(e=Me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Me=t;else for(;Me!==null;){e=Me;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var A=g.memoizedProps,v=g.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?A:la(e.type,A),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(T){cn(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,Me=t;break}Me=e.return}return g=yb,yb=!1,g}function xd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&_0(e,n,i)}a=a.next}while(a!==r)}}function Vp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function C0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function W2(t){var e=t.alternate;e!==null&&(t.alternate=null,W2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_a],delete e[qd],delete e[d0],delete e[VD],delete e[UD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $2(t){return t.tag===5||t.tag===3||t.tag===4}function vb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function E0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Tf));else if(r!==4&&(t=t.child,t!==null))for(E0(t,e,n),t=t.sibling;t!==null;)E0(t,e,n),t=t.sibling}function N0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(N0(t,e,n),t=t.sibling;t!==null;)N0(t,e,n),t=t.sibling}var On=null,ca=!1;function wi(t,e,n){for(n=n.child;n!==null;)q2(t,e,n),n=n.sibling}function q2(t,e,n){if(Sa&&typeof Sa.onCommitFiberUnmount=="function")try{Sa.onCommitFiberUnmount(Pp,n)}catch{}switch(n.tag){case 5:tr||yl(n,e);case 6:var r=On,a=ca;On=null,wi(t,e,n),On=r,ca=a,On!==null&&(ca?(t=On,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):On.removeChild(n.stateNode));break;case 18:On!==null&&(ca?(t=On,n=n.stateNode,t.nodeType===8?Qm(t.parentNode,n):t.nodeType===1&&Qm(t,n),Vd(t)):Qm(On,n.stateNode));break;case 4:r=On,a=ca,On=n.stateNode.containerInfo,ca=!0,wi(t,e,n),On=r,ca=a;break;case 0:case 11:case 14:case 15:if(!tr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&_0(n,e,s),a=a.next}while(a!==r)}wi(t,e,n);break;case 1:if(!tr&&(yl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){cn(n,e,l)}wi(t,e,n);break;case 21:wi(t,e,n);break;case 22:n.mode&1?(tr=(r=tr)||n.memoizedState!==null,wi(t,e,n),tr=r):wi(t,e,n);break;default:wi(t,e,n)}}function bb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new aR),e.forEach(function(r){var a=pR.bind(null,t,r);n.has(r)||(n.add(r),r.then(a,a))})}}function oa(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:On=l.stateNode,ca=!1;break e;case 3:On=l.stateNode.containerInfo,ca=!0;break e;case 4:On=l.stateNode.containerInfo,ca=!0;break e}l=l.return}if(On===null)throw Error(_e(160));q2(i,s,a),On=null,ca=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){cn(a,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)H2(e,t),e=e.sibling}function H2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(oa(e,t),va(t),r&4){try{xd(3,t,t.return),Vp(3,t)}catch(A){cn(t,t.return,A)}try{xd(5,t,t.return)}catch(A){cn(t,t.return,A)}}break;case 1:oa(e,t),va(t),r&512&&n!==null&&yl(n,n.return);break;case 5:if(oa(e,t),va(t),r&512&&n!==null&&yl(n,n.return),t.flags&32){var a=t.stateNode;try{Od(a,"")}catch(A){cn(t,t.return,A)}}if(r&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&mC(a,i),Kg(l,s);var d=Kg(l,i);for(s=0;s<c.length;s+=2){var u=c[s],h=c[s+1];u==="style"?vC(a,h):u==="dangerouslySetInnerHTML"?xC(a,h):u==="children"?Od(a,h):BA(a,u,h,d)}switch(l){case"input":$g(a,i);break;case"textarea":gC(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Il(a,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?Il(a,!!i.multiple,i.defaultValue,!0):Il(a,!!i.multiple,i.multiple?[]:"",!1))}a[qd]=i}catch(A){cn(t,t.return,A)}}break;case 6:if(oa(e,t),va(t),r&4){if(t.stateNode===null)throw Error(_e(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(A){cn(t,t.return,A)}}break;case 3:if(oa(e,t),va(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vd(e.containerInfo)}catch(A){cn(t,t.return,A)}break;case 4:oa(e,t),va(t);break;case 13:oa(e,t),va(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(xx=hn())),r&4&&bb(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(tr=(d=tr)||u,oa(e,t),tr=d):oa(e,t),va(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(Me=t,u=t.child;u!==null;){for(h=Me=u;Me!==null;){switch(p=Me,m=p.child,p.tag){case 0:case 11:case 14:case 15:xd(4,p,p.return);break;case 1:yl(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(A){cn(r,n,A)}}break;case 5:yl(p,p.return);break;case 22:if(p.memoizedState!==null){_b(h);continue}}m!==null?(m.return=p,Me=m):_b(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=yC("display",s))}catch(A){cn(t,t.return,A)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(A){cn(t,t.return,A)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:oa(e,t),va(t),r&4&&bb(t);break;case 21:break;default:oa(e,t),va(t)}}function va(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($2(n)){var r=n;break e}n=n.return}throw Error(_e(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Od(a,""),r.flags&=-33);var i=vb(t);N0(t,i,a);break;case 3:case 4:var s=r.stateNode.containerInfo,l=vb(t);E0(t,l,s);break;default:throw Error(_e(161))}}catch(c){cn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sR(t,e,n){Me=t,Q2(t)}function Q2(t,e,n){for(var r=(t.mode&1)!==0;Me!==null;){var a=Me,i=a.child;if(a.tag===22&&r){var s=a.memoizedState!==null||wh;if(!s){var l=a.alternate,c=l!==null&&l.memoizedState!==null||tr;l=wh;var d=tr;if(wh=s,(tr=c)&&!d)for(Me=a;Me!==null;)s=Me,c=s.child,s.tag===22&&s.memoizedState!==null?Cb(a):c!==null?(c.return=s,Me=c):Cb(a);for(;i!==null;)Me=i,Q2(i),i=i.sibling;Me=a,wh=l,tr=d}wb(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Me=i):wb(t)}}function wb(t){for(;Me!==null;){var e=Me;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tr||Vp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tr)if(n===null)r.componentDidMount();else{var a=e.elementType===e.type?n.memoizedProps:la(e.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&sb(e,i,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}sb(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Vd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}tr||e.flags&512&&C0(e)}catch(p){cn(e,e.return,p)}}if(e===t){Me=null;break}if(n=e.sibling,n!==null){n.return=e.return,Me=n;break}Me=e.return}}function _b(t){for(;Me!==null;){var e=Me;if(e===t){Me=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Me=n;break}Me=e.return}}function Cb(t){for(;Me!==null;){var e=Me;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vp(4,e)}catch(c){cn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var a=e.return;try{r.componentDidMount()}catch(c){cn(e,a,c)}}var i=e.return;try{C0(e)}catch(c){cn(e,i,c)}break;case 5:var s=e.return;try{C0(e)}catch(c){cn(e,s,c)}}}catch(c){cn(e,e.return,c)}if(e===t){Me=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Me=l;break}Me=e.return}}var oR=Math.ceil,zf=hi.ReactCurrentDispatcher,gx=hi.ReactCurrentOwner,Yr=hi.ReactCurrentBatchConfig,St=0,Pn=null,yn=null,Vn=0,Dr=0,vl=bs(0),En=0,Jd=null,mo=0,Up=0,Ax=0,yd=null,xr=null,xx=0,Ql=1/0,Ua=null,Vf=!1,I0=null,ts=null,_h=!1,Hi=null,Uf=0,vd=0,S0=null,Yh=-1,Jh=0;function cr(){return St&6?hn():Yh!==-1?Yh:Yh=hn()}function ns(t){return t.mode&1?St&2&&Vn!==0?Vn&-Vn:WD.transition!==null?(Jh===0&&(Jh=RC()),Jh):(t=Ut,t!==0||(t=window.event,t=t===void 0?16:BC(t.type)),t):1}function pa(t,e,n,r){if(50<vd)throw vd=0,S0=null,Error(_e(185));_u(t,n,r),(!(St&2)||t!==Pn)&&(t===Pn&&(!(St&2)&&(Up|=n),En===4&&zi(t,Vn)),Er(t,r),n===1&&St===0&&!(e.mode&1)&&(Ql=hn()+500,Fp&&ws()))}function Er(t,e){var n=t.callbackNode;Wk(t,e);var r=Ef(t,t===Pn?Vn:0);if(r===0)n!==null&&Pv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Pv(n),e===1)t.tag===0?GD(Eb.bind(null,t)):a2(Eb.bind(null,t)),BD(function(){!(St&6)&&ws()}),n=null;else{switch(PC(r)){case 1:n=WA;break;case 4:n=kC;break;case 16:n=Cf;break;case 536870912:n=DC;break;default:n=Cf}n=nE(n,X2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function X2(t,e){if(Yh=-1,Jh=0,St&6)throw Error(_e(327));var n=t.callbackNode;if(Rl()&&t.callbackNode!==n)return null;var r=Ef(t,t===Pn?Vn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Gf(t,r);else{e=r;var a=St;St|=2;var i=Y2();(Pn!==t||Vn!==e)&&(Ua=null,Ql=hn()+500,io(t,e));do try{dR();break}catch(l){K2(t,l)}while(!0);rx(),zf.current=i,St=a,yn!==null?e=0:(Pn=null,Vn=0,e=En)}if(e!==0){if(e===2&&(a=t0(t),a!==0&&(r=a,e=T0(t,a))),e===1)throw n=Jd,io(t,0),zi(t,r),Er(t,hn()),n;if(e===6)zi(t,r);else{if(a=t.current.alternate,!(r&30)&&!lR(a)&&(e=Gf(t,r),e===2&&(i=t0(t),i!==0&&(r=i,e=T0(t,i))),e===1))throw n=Jd,io(t,0),zi(t,r),Er(t,hn()),n;switch(t.finishedWork=a,t.finishedLanes=r,e){case 0:case 1:throw Error(_e(345));case 2:Fs(t,xr,Ua);break;case 3:if(zi(t,r),(r&130023424)===r&&(e=xx+500-hn(),10<e)){if(Ef(t,0)!==0)break;if(a=t.suspendedLanes,(a&r)!==r){cr(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=c0(Fs.bind(null,t,xr,Ua),e);break}Fs(t,xr,Ua);break;case 4:if(zi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,a=-1;0<r;){var s=31-fa(r);i=1<<s,s=e[s],s>a&&(a=s),r&=~i}if(r=a,r=hn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oR(r/1960))-r,10<r){t.timeoutHandle=c0(Fs.bind(null,t,xr,Ua),r);break}Fs(t,xr,Ua);break;case 5:Fs(t,xr,Ua);break;default:throw Error(_e(329))}}}return Er(t,hn()),t.callbackNode===n?X2.bind(null,t):null}function T0(t,e){var n=yd;return t.current.memoizedState.isDehydrated&&(io(t,e).flags|=256),t=Gf(t,e),t!==2&&(e=xr,xr=n,e!==null&&k0(e)),t}function k0(t){xr===null?xr=t:xr.push.apply(xr,t)}function lR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Aa(i(),a))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zi(t,e){for(e&=~Ax,e&=~Up,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fa(e),r=1<<n;t[n]=-1,e&=~r}}function Eb(t){if(St&6)throw Error(_e(327));Rl();var e=Ef(t,0);if(!(e&1))return Er(t,hn()),null;var n=Gf(t,e);if(t.tag!==0&&n===2){var r=t0(t);r!==0&&(e=r,n=T0(t,r))}if(n===1)throw n=Jd,io(t,0),zi(t,e),Er(t,hn()),n;if(n===6)throw Error(_e(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fs(t,xr,Ua),Er(t,hn()),null}function yx(t,e){var n=St;St|=1;try{return t(e)}finally{St=n,St===0&&(Ql=hn()+500,Fp&&ws())}}function go(t){Hi!==null&&Hi.tag===0&&!(St&6)&&Rl();var e=St;St|=1;var n=Yr.transition,r=Ut;try{if(Yr.transition=null,Ut=1,t)return t()}finally{Ut=r,Yr.transition=n,St=e,!(St&6)&&ws()}}function vx(){Dr=vl.current,Xt(vl)}function io(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,FD(n)),yn!==null)for(n=yn.return;n!==null;){var r=n;switch(ex(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kf();break;case 3:ql(),Xt(_r),Xt(ar),cx();break;case 5:lx(r);break;case 4:ql();break;case 13:Xt(rn);break;case 19:Xt(rn);break;case 10:ax(r.type._context);break;case 22:case 23:vx()}n=n.return}if(Pn=t,yn=t=rs(t.current,null),Vn=Dr=e,En=0,Jd=null,Ax=Up=mo=0,xr=yd=null,Ks!==null){for(e=0;e<Ks.length;e++)if(n=Ks[e],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=a,r.next=s}n.pending=r}Ks=null}return t}function K2(t,e){do{var n=yn;try{if(rx(),Qh.current=Bf,Ff){for(var r=an.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Ff=!1}if(po=0,Dn=_n=an=null,Ad=!1,Xd=0,gx.current=null,n===null||n.return===null){En=1,Jd=e,yn=null;break}e:{var i=t,s=n.return,l=n,c=e;if(e=Vn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=hb(s);if(m!==null){m.flags&=-257,fb(m,s,l,i,e),m.mode&1&&ub(i,d,e),e=m,c=d;var g=e.updateQueue;if(g===null){var A=new Set;A.add(c),e.updateQueue=A}else g.add(c);break e}else{if(!(e&1)){ub(i,d,e),bx();break e}c=Error(_e(426))}}else if(Yt&&l.mode&1){var v=hb(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),fb(v,s,l,i,e),tx(Hl(c,l));break e}}i=c=Hl(c,l),En!==4&&(En=2),yd===null?yd=[i]:yd.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=P2(i,c,e);ib(i,x);break e;case 1:l=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ts===null||!ts.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var T=j2(i,l,e);ib(i,T);break e}}i=i.return}while(i!==null)}Z2(n)}catch(I){e=I,yn===n&&n!==null&&(yn=n=n.return);continue}break}while(!0)}function Y2(){var t=zf.current;return zf.current=Bf,t===null?Bf:t}function bx(){(En===0||En===3||En===2)&&(En=4),Pn===null||!(mo&268435455)&&!(Up&268435455)||zi(Pn,Vn)}function Gf(t,e){var n=St;St|=2;var r=Y2();(Pn!==t||Vn!==e)&&(Ua=null,io(t,e));do try{cR();break}catch(a){K2(t,a)}while(!0);if(rx(),St=n,zf.current=r,yn!==null)throw Error(_e(261));return Pn=null,Vn=0,En}function cR(){for(;yn!==null;)J2(yn)}function dR(){for(;yn!==null&&!Mk();)J2(yn)}function J2(t){var e=tE(t.alternate,t,Dr);t.memoizedProps=t.pendingProps,e===null?Z2(t):yn=e,gx.current=null}function Z2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=rR(n,e),n!==null){n.flags&=32767,yn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{En=6,yn=null;return}}else if(n=nR(n,e,Dr),n!==null){yn=n;return}if(e=e.sibling,e!==null){yn=e;return}yn=e=t}while(e!==null);En===0&&(En=5)}function Fs(t,e,n){var r=Ut,a=Yr.transition;try{Yr.transition=null,Ut=1,uR(t,e,n,r)}finally{Yr.transition=a,Ut=r}return null}function uR(t,e,n,r){do Rl();while(Hi!==null);if(St&6)throw Error(_e(327));n=t.finishedWork;var a=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(_e(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if($k(t,i),t===Pn&&(yn=Pn=null,Vn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_h||(_h=!0,nE(Cf,function(){return Rl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Yr.transition,Yr.transition=null;var s=Ut;Ut=1;var l=St;St|=4,gx.current=null,iR(t,n),H2(n,t),DD(o0),Nf=!!s0,o0=s0=null,t.current=n,sR(n),Lk(),St=l,Ut=s,Yr.transition=i}else t.current=n;if(_h&&(_h=!1,Hi=t,Uf=a),i=t.pendingLanes,i===0&&(ts=null),Bk(n.stateNode),Er(t,hn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)a=e[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Vf)throw Vf=!1,t=I0,I0=null,t;return Uf&1&&t.tag!==0&&Rl(),i=t.pendingLanes,i&1?t===S0?vd++:(vd=0,S0=t):vd=0,ws(),null}function Rl(){if(Hi!==null){var t=PC(Uf),e=Yr.transition,n=Ut;try{if(Yr.transition=null,Ut=16>t?16:t,Hi===null)var r=!1;else{if(t=Hi,Hi=null,Uf=0,St&6)throw Error(_e(331));var a=St;for(St|=4,Me=t.current;Me!==null;){var i=Me,s=i.child;if(Me.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Me=d;Me!==null;){var u=Me;switch(u.tag){case 0:case 11:case 15:xd(8,u,i)}var h=u.child;if(h!==null)h.return=u,Me=h;else for(;Me!==null;){u=Me;var p=u.sibling,m=u.return;if(W2(u),u===d){Me=null;break}if(p!==null){p.return=m,Me=p;break}Me=m}}}var g=i.alternate;if(g!==null){var A=g.child;if(A!==null){g.child=null;do{var v=A.sibling;A.sibling=null,A=v}while(A!==null)}}Me=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Me=s;else e:for(;Me!==null;){if(i=Me,i.flags&2048)switch(i.tag){case 0:case 11:case 15:xd(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Me=x;break e}Me=i.return}}var y=t.current;for(Me=y;Me!==null;){s=Me;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Me=w;else e:for(s=y;Me!==null;){if(l=Me,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Vp(9,l)}}catch(I){cn(l,l.return,I)}if(l===s){Me=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,Me=T;break e}Me=l.return}}if(St=a,ws(),Sa&&typeof Sa.onPostCommitFiberRoot=="function")try{Sa.onPostCommitFiberRoot(Pp,t)}catch{}r=!0}return r}finally{Ut=n,Yr.transition=e}}return!1}function Nb(t,e,n){e=Hl(n,e),e=P2(t,e,1),t=es(t,e,1),e=cr(),t!==null&&(_u(t,1,e),Er(t,e))}function cn(t,e,n){if(t.tag===3)Nb(t,t,n);else for(;e!==null;){if(e.tag===3){Nb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ts===null||!ts.has(r))){t=Hl(n,t),t=j2(e,t,1),e=es(e,t,1),t=cr(),e!==null&&(_u(e,1,t),Er(e,t));break}}e=e.return}}function hR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=cr(),t.pingedLanes|=t.suspendedLanes&n,Pn===t&&(Vn&n)===n&&(En===4||En===3&&(Vn&130023424)===Vn&&500>hn()-xx?io(t,0):Ax|=n),Er(t,e)}function eE(t,e){e===0&&(t.mode&1?(e=fh,fh<<=1,!(fh&130023424)&&(fh=4194304)):e=1);var n=cr();t=oi(t,e),t!==null&&(_u(t,e,n),Er(t,n))}function fR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),eE(t,n)}function pR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,a=t.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(_e(314))}r!==null&&r.delete(e),eE(t,n)}var tE;tE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_r.current)br=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return br=!1,tR(t,e,n);br=!!(t.flags&131072)}else br=!1,Yt&&e.flags&1048576&&i2(e,Pf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Kh(t,e),t=e.pendingProps;var a=Gl(e,ar.current);Dl(e,n),a=ux(null,e,r,t,a,n);var i=hx();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Cr(r)?(i=!0,Df(e)):i=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,sx(e),a.updater=zp,e.stateNode=a,a._reactInternals=e,g0(e,r,t,n),e=y0(null,e,r,!0,i,n)):(e.tag=0,Yt&&i&&ZA(e),sr(null,e,a,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Kh(t,e),t=e.pendingProps,a=r._init,r=a(r._payload),e.type=r,a=e.tag=gR(r),t=la(r,t),a){case 0:e=x0(null,e,r,t,n);break e;case 1:e=gb(null,e,r,t,n);break e;case 11:e=pb(null,e,r,t,n);break e;case 14:e=mb(null,e,r,la(r.type,t),n);break e}throw Error(_e(306,r,""))}return e;case 0:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:la(r,a),x0(t,e,r,a,n);case 1:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:la(r,a),gb(t,e,r,a,n);case 3:e:{if(F2(e),t===null)throw Error(_e(387));r=e.pendingProps,i=e.memoizedState,a=i.element,u2(t,e),Lf(e,r,null,n);var s=e.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){a=Hl(Error(_e(423)),e),e=Ab(t,e,r,n,a);break e}else if(r!==a){a=Hl(Error(_e(424)),e),e=Ab(t,e,r,n,a);break e}else for(jr=Zi(e.stateNode.containerInfo.firstChild),Lr=e,Yt=!0,da=null,n=c2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wl(),r===a){e=li(t,e,n);break e}sr(t,e,r,n)}e=e.child}return e;case 5:return h2(e),t===null&&f0(e),r=e.type,a=e.pendingProps,i=t!==null?t.memoizedProps:null,s=a.children,l0(r,a)?s=null:i!==null&&l0(r,i)&&(e.flags|=32),O2(t,e),sr(t,e,s,n),e.child;case 6:return t===null&&f0(e),null;case 13:return B2(t,e,n);case 4:return ox(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$l(e,null,r,n):sr(t,e,r,n),e.child;case 11:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:la(r,a),pb(t,e,r,a,n);case 7:return sr(t,e,e.pendingProps,n),e.child;case 8:return sr(t,e,e.pendingProps.children,n),e.child;case 12:return sr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,a=e.pendingProps,i=e.memoizedProps,s=a.value,Ht(jf,r._currentValue),r._currentValue=s,i!==null)if(Aa(i.value,s)){if(i.children===a.children&&!_r.current){e=li(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ti(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),p0(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(_e(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),p0(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}sr(t,e,a.children,n),e=e.child}return e;case 9:return a=e.type,r=e.pendingProps.children,Dl(e,n),a=ea(a),r=r(a),e.flags|=1,sr(t,e,r,n),e.child;case 14:return r=e.type,a=la(r,e.pendingProps),a=la(r.type,a),mb(t,e,r,a,n);case 15:return M2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:la(r,a),Kh(t,e),e.tag=1,Cr(r)?(t=!0,Df(e)):t=!1,Dl(e,n),R2(e,r,a),g0(e,r,a,n),y0(null,e,r,!0,t,n);case 19:return z2(t,e,n);case 22:return L2(t,e,n)}throw Error(_e(156,e.tag))};function nE(t,e){return TC(t,e)}function mR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(t,e,n,r){return new mR(t,e,n,r)}function wx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gR(t){if(typeof t=="function")return wx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===VA)return 11;if(t===UA)return 14}return 2}function rs(t,e){var n=t.alternate;return n===null?(n=Xr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zh(t,e,n,r,a,i){var s=2;if(r=t,typeof t=="function")wx(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case dl:return so(n.children,a,i,e);case zA:s=8,a|=8;break;case zg:return t=Xr(12,n,e,a|2),t.elementType=zg,t.lanes=i,t;case Vg:return t=Xr(13,n,e,a),t.elementType=Vg,t.lanes=i,t;case Ug:return t=Xr(19,n,e,a),t.elementType=Ug,t.lanes=i,t;case hC:return Gp(n,a,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dC:s=10;break e;case uC:s=9;break e;case VA:s=11;break e;case UA:s=14;break e;case Pi:s=16,r=null;break e}throw Error(_e(130,t==null?t:typeof t,""))}return e=Xr(s,n,e,a),e.elementType=t,e.type=r,e.lanes=i,e}function so(t,e,n,r){return t=Xr(7,t,r,e),t.lanes=n,t}function Gp(t,e,n,r){return t=Xr(22,t,r,e),t.elementType=hC,t.lanes=n,t.stateNode={isHidden:!1},t}function ng(t,e,n){return t=Xr(6,t,null,e),t.lanes=n,t}function rg(t,e,n){return e=Xr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function AR(t,e,n,r,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Om(0),this.expirationTimes=Om(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Om(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function _x(t,e,n,r,a,i,s,l,c){return t=new AR(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Xr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sx(i),t}function xR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function rE(t){if(!t)return us;t=t._reactInternals;e:{if(Po(t)!==t||t.tag!==1)throw Error(_e(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Cr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(_e(171))}if(t.tag===1){var n=t.type;if(Cr(n))return r2(t,n,e)}return e}function aE(t,e,n,r,a,i,s,l,c){return t=_x(n,r,!0,t,a,i,s,l,c),t.context=rE(null),n=t.current,r=cr(),a=ns(n),i=ti(r,a),i.callback=e??null,es(n,i,a),t.current.lanes=a,_u(t,a,r),Er(t,r),t}function Wp(t,e,n,r){var a=e.current,i=cr(),s=ns(a);return n=rE(n),e.context===null?e.context=n:e.pendingContext=n,e=ti(i,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=es(a,e,s),t!==null&&(pa(t,a,s,i),Hh(t,a,s)),s}function Wf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ib(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Cx(t,e){Ib(t,e),(t=t.alternate)&&Ib(t,e)}function yR(){return null}var iE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ex(t){this._internalRoot=t}$p.prototype.render=Ex.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(_e(409));Wp(t,e,null,null)};$p.prototype.unmount=Ex.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;go(function(){Wp(null,t,null,null)}),e[si]=null}};function $p(t){this._internalRoot=t}$p.prototype.unstable_scheduleHydration=function(t){if(t){var e=LC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Bi.length&&e!==0&&e<Bi[n].priority;n++);Bi.splice(n,0,t),n===0&&FC(t)}};function Nx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sb(){}function vR(t,e,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var d=Wf(s);i.call(d)}}var s=aE(e,r,t,0,null,!1,!1,"",Sb);return t._reactRootContainer=s,t[si]=s.current,Wd(t.nodeType===8?t.parentNode:t),go(),s}for(;a=t.lastChild;)t.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var d=Wf(c);l.call(d)}}var c=_x(t,0,!1,null,null,!1,!1,"",Sb);return t._reactRootContainer=c,t[si]=c.current,Wd(t.nodeType===8?t.parentNode:t),go(function(){Wp(e,c,n,r)}),c}function Hp(t,e,n,r,a){var i=n._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var l=a;a=function(){var c=Wf(s);l.call(c)}}Wp(e,s,t,a)}else s=vR(n,e,t,a,r);return Wf(s)}jC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yc(e.pendingLanes);n!==0&&($A(e,n|1),Er(e,hn()),!(St&6)&&(Ql=hn()+500,ws()))}break;case 13:go(function(){var r=oi(t,1);if(r!==null){var a=cr();pa(r,t,1,a)}}),Cx(t,1)}};qA=function(t){if(t.tag===13){var e=oi(t,134217728);if(e!==null){var n=cr();pa(e,t,134217728,n)}Cx(t,134217728)}};MC=function(t){if(t.tag===13){var e=ns(t),n=oi(t,e);if(n!==null){var r=cr();pa(n,t,e,r)}Cx(t,e)}};LC=function(){return Ut};OC=function(t,e){var n=Ut;try{return Ut=t,e()}finally{Ut=n}};Jg=function(t,e,n){switch(e){case"input":if($g(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var a=Op(r);if(!a)throw Error(_e(90));pC(r),$g(r,a)}}}break;case"textarea":gC(t,n);break;case"select":e=n.value,e!=null&&Il(t,!!n.multiple,e,!1)}};_C=yx;CC=go;var bR={usingClientEntryPoint:!1,Events:[Eu,pl,Op,bC,wC,yx]},Bc={findFiberByHostInstance:Xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wR={bundleType:Bc.bundleType,version:Bc.version,rendererPackageName:Bc.rendererPackageName,rendererConfig:Bc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=IC(t),t===null?null:t.stateNode},findFiberByHostInstance:Bc.findFiberByHostInstance||yR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ch.isDisabled&&Ch.supportsFiber)try{Pp=Ch.inject(wR),Sa=Ch}catch{}}Br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bR;Br.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nx(e))throw Error(_e(200));return xR(t,e,null,n)};Br.createRoot=function(t,e){if(!Nx(t))throw Error(_e(299));var n=!1,r="",a=iE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=_x(t,1,!1,null,null,n,!1,r,a),t[si]=e.current,Wd(t.nodeType===8?t.parentNode:t),new Ex(e)};Br.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(_e(188)):(t=Object.keys(t).join(","),Error(_e(268,t)));return t=IC(e),t=t===null?null:t.stateNode,t};Br.flushSync=function(t){return go(t)};Br.hydrate=function(t,e,n){if(!qp(e))throw Error(_e(200));return Hp(null,t,e,!0,n)};Br.hydrateRoot=function(t,e,n){if(!Nx(t))throw Error(_e(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",s=iE;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=aE(e,null,t,1,n??null,a,!1,i,s),t[si]=e.current,Wd(t),r)for(t=0;t<r.length;t++)n=r[t],a=n._getVersion,a=a(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,a]:e.mutableSourceEagerHydrationData.push(n,a);return new $p(e)};Br.render=function(t,e,n){if(!qp(e))throw Error(_e(200));return Hp(null,t,e,!1,n)};Br.unmountComponentAtNode=function(t){if(!qp(t))throw Error(_e(40));return t._reactRootContainer?(go(function(){Hp(null,null,t,!1,function(){t._reactRootContainer=null,t[si]=null})}),!0):!1};Br.unstable_batchedUpdates=yx;Br.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qp(n))throw Error(_e(200));if(t==null||t._reactInternals===void 0)throw Error(_e(38));return Hp(t,e,n,!1,r)};Br.version="18.3.1-next-f1338f8080-20240426";function sE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sE)}catch(t){console.error(t)}}sE(),sC.exports=Br;var Js=sC.exports,Tb=Js;Fg.createRoot=Tb.createRoot,Fg.hydrateRoot=Tb.hydrateRoot;function xa(){return xa=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xa.apply(this,arguments)}function _R(t,e){if(t){if(typeof t=="string")return kb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kb(t,e)}}function kb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oE(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=_R(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Qe;(function(t){t.Hour="Hour",t.QuarterDay="Quarter Day",t.HalfDay="Half Day",t.Day="Day",t.Week="Week",t.Month="Month",t.Year="Year"})(Qe||(Qe={}));var Db={},$f=function(e,n){n===void 0&&(n={});var r=JSON.stringify([e,n]),a=Db[r];return a||(a=new Intl.DateTimeFormat(e,n),Db[r]=a),a},ln=function(e,n,r){var a=new Date(e.getFullYear()+(r==="year"?n:0),e.getMonth()+(r==="month"?n:0),e.getDate()+(r==="day"?n:0),e.getHours()+(r==="hour"?n:0),e.getMinutes()+(r==="minute"?n:0),e.getSeconds()+(r==="second"?n:0),e.getMilliseconds()+(r==="millisecond"?n:0));return a},gr=function(e,n){var r=["millisecond","second","minute","hour","day","month","year"],a=function(l){var c=r.indexOf(n);return r.indexOf(l)<=c},i=new Date(e.getFullYear(),a("year")?0:e.getMonth(),a("month")?1:e.getDate(),a("day")?0:e.getHours(),a("hour")?0:e.getMinutes(),a("minute")?0:e.getSeconds(),a("second")?0:e.getMilliseconds());return i},Rb=function(e,n,r){for(var a=e[0].start,i=e[0].start,s=oE(e),l;!(l=s()).done;){var c=l.value;c.start<a&&(a=c.start),c.end>i&&(i=c.end)}switch(n){case Qe.Year:a=ln(a,-1,"year"),a=gr(a,"year"),i=ln(i,1,"year"),i=gr(i,"year");break;case Qe.Month:a=ln(a,-1*r,"month"),a=gr(a,"month"),i=ln(i,1,"year"),i=gr(i,"year");break;case Qe.Week:a=gr(a,"day"),a=ln(CR(a),-7*r,"day"),i=gr(i,"day"),i=ln(i,1.5,"month");break;case Qe.Day:a=gr(a,"day"),a=ln(a,-1*r,"day"),i=gr(i,"day"),i=ln(i,19,"day");break;case Qe.QuarterDay:a=gr(a,"day"),a=ln(a,-1*r,"day"),i=gr(i,"day"),i=ln(i,66,"hour");break;case Qe.HalfDay:a=gr(a,"day"),a=ln(a,-1*r,"day"),i=gr(i,"day"),i=ln(i,108,"hour");break;case Qe.Hour:a=gr(a,"hour"),a=ln(a,-1*r,"hour"),i=gr(i,"day"),i=ln(i,1,"day");break}return[a,i]},Pb=function(e,n,r){for(var a=new Date(e),i=[a];a<n;){switch(r){case Qe.Year:a=ln(a,1,"year");break;case Qe.Month:a=ln(a,1,"month");break;case Qe.Week:a=ln(a,7,"day");break;case Qe.Day:a=ln(a,1,"day");break;case Qe.HalfDay:a=ln(a,12,"hour");break;case Qe.QuarterDay:a=ln(a,6,"hour");break;case Qe.Hour:a=ln(a,1,"hour");break}i.push(a)}return i},zc=function(e,n){var r=$f(n,{month:"long"}).format(e);return r=r.replace(r[0],r[0].toLocaleUpperCase()),r},ag=function(e,n,r){var a=$f(n,{weekday:r}).format(e);return a=a.replace(a[0],a[0].toLocaleUpperCase()),a},CR=function(e){var n=e.getDay(),r=e.getDate()-n+(n===0?-6:1);return new Date(e.setDate(r))},ER=function(e){var n=new Date(e.valueOf()),r=(n.getDay()+6)%7;n.setDate(n.getDate()-r+3);var a=n.valueOf();n.setMonth(0,1),n.getDay()!==4&&n.setMonth(0,1+(4-n.getDay()+7)%7);var i=(1+Math.ceil((a-n.valueOf())/6048e5)).toString();return i.length===1?"0"+i:i},NR=function(e,n){return new Date(n,e+1,0).getDate()},Ds={ganttTable:"_3_ygE",ganttTable_Header:"_1nBOt",ganttTable_HeaderSeparator:"_2eZzQ",ganttTable_HeaderItem:"_WuQ0f"},IR=function(e){var n=e.headerHeight,r=e.fontFamily,a=e.fontSize,i=e.rowWidth;return ue.createElement("div",{className:Ds.ganttTable,style:{fontFamily:r,fontSize:a}},ue.createElement("div",{className:Ds.ganttTable_Header,style:{height:n-2}},ue.createElement("div",{className:Ds.ganttTable_HeaderItem,style:{minWidth:i}},"Name"),ue.createElement("div",{className:Ds.ganttTable_HeaderSeparator,style:{height:n*.5,marginTop:n*.2}}),ue.createElement("div",{className:Ds.ganttTable_HeaderItem,style:{minWidth:i}},"From"),ue.createElement("div",{className:Ds.ganttTable_HeaderSeparator,style:{height:n*.5,marginTop:n*.25}}),ue.createElement("div",{className:Ds.ganttTable_HeaderItem,style:{minWidth:i}},"To")))},_i={taskListWrapper:"_3ZbQT",taskListTableRow:"_34SS0",taskListCell:"_3lLk3",taskListNameWrapper:"_nI1Xw",taskListExpander:"_2QjE6",taskListEmptyExpander:"_2TfEi"},jb={},SR=function(e){return function(n,r){var a=n.toString(),i=jb[a];return i||(i=n.toLocaleDateString(e,r),jb[a]=i),i}},Mb={weekday:"short",year:"numeric",month:"long",day:"numeric"},TR=function(e){var n=e.rowHeight,r=e.rowWidth,a=e.tasks,i=e.fontFamily,s=e.fontSize,l=e.locale,c=e.onExpanderClick,d=L.useMemo(function(){return SR(l)},[l]);return ue.createElement("div",{className:_i.taskListWrapper,style:{fontFamily:i,fontSize:s}},a.map(function(u){var h="";return u.hideChildren===!1?h="":u.hideChildren===!0&&(h=""),ue.createElement("div",{className:_i.taskListTableRow,style:{height:n},key:u.id+"row"},ue.createElement("div",{className:_i.taskListCell,style:{minWidth:r,maxWidth:r},title:u.name},ue.createElement("div",{className:_i.taskListNameWrapper},ue.createElement("div",{className:h?_i.taskListExpander:_i.taskListEmptyExpander,onClick:function(){return c(u)}},h),ue.createElement("div",null,u.name))),ue.createElement("div",{className:_i.taskListCell,style:{minWidth:r,maxWidth:r}},"",d(u.start,Mb)),ue.createElement("div",{className:_i.taskListCell,style:{minWidth:r,maxWidth:r}},"",d(u.end,Mb)))}))},bd={tooltipDefaultContainer:"_3T42e",tooltipDefaultContainerParagraph:"_29NTg",tooltipDetailsContainer:"_25P-K",tooltipDetailsContainerHidden:"_3gVAq"},kR=function(e){var n=e.task,r=e.rowHeight,a=e.rtl,i=e.svgContainerHeight,s=e.svgContainerWidth,l=e.scrollX,c=e.scrollY,d=e.arrowIndent,u=e.fontSize,h=e.fontFamily,p=e.headerHeight,m=e.taskListWidth,g=e.TooltipContent,A=L.useRef(null),v=L.useState(0),x=v[0],y=v[1],w=L.useState(0),T=w[0],I=w[1];return L.useEffect(function(){if(A.current){var R=A.current.offsetHeight*1.1,_=A.current.offsetWidth*1.1,N=n.index*r-c+p,E;if(a){E=n.x1-d*1.5-_-l,E<0&&(E=n.x2+d*1.5-l);var k=_+E;k>s&&(E=s-_,N+=r)}else{E=n.x2+d*1.5+m-l;var P=_+E,C=m+s;P>C&&(E=n.x1+m-d*1.5-l-_),E<m&&(E=s+m-_,N+=r)}var D=R+N-c;D>i-c&&(N=i-R),y(N),I(E)}},[A,n,d,l,c,p,m,r,i,s,a]),ue.createElement("div",{ref:A,className:T?bd.tooltipDetailsContainer:bd.tooltipDetailsContainerHidden,style:{left:T,top:x}},ue.createElement(g,{task:n,fontSize:u,fontFamily:h}))},DR=function(e){var n=e.task,r=e.fontSize,a=e.fontFamily,i={fontSize:r,fontFamily:a};return ue.createElement("div",{className:bd.tooltipDefaultContainer,style:i},ue.createElement("b",{style:{fontSize:r+6}},n.name+": "+n.start.getDate()+"-"+(n.start.getMonth()+1)+"-"+n.start.getFullYear()+" - "+n.end.getDate()+"-"+(n.end.getMonth()+1)+"-"+n.end.getFullYear()),n.end.getTime()-n.start.getTime()!==0&&ue.createElement("p",{className:bd.tooltipDefaultContainerParagraph},"Duration: "+~~((n.end.getTime()-n.start.getTime())/(1e3*60*60*24))+" day(s)"),ue.createElement("p",{className:bd.tooltipDefaultContainerParagraph},!!n.progress&&"Progress: "+n.progress+" %"))},RR={scroll:"_1eT-t"},PR=function(e){var n=e.scroll,r=e.ganttHeight,a=e.ganttFullHeight,i=e.headerHeight,s=e.rtl,l=e.onScroll,c=L.useRef(null);return L.useEffect(function(){c.current&&(c.current.scrollTop=n)},[n]),ue.createElement("div",{style:{height:r,marginTop:i,marginLeft:s?"":"-1rem"},className:RR.scroll,onScroll:l,ref:c},ue.createElement("div",{style:{height:a,width:1}}))},jR=function(e){var n=e.headerHeight,r=e.fontFamily,a=e.fontSize,i=e.rowWidth,s=e.rowHeight,l=e.scrollY,c=e.tasks,d=e.selectedTask,u=e.setSelectedTask,h=e.onExpanderClick,p=e.locale,m=e.ganttHeight,g=e.taskListRef,A=e.horizontalContainerClass,v=e.TaskListHeader,x=e.TaskListTable,y=L.useRef(null);L.useEffect(function(){y.current&&(y.current.scrollTop=l)},[l]);var w={headerHeight:n,fontFamily:r,fontSize:a,rowWidth:i},T=d?d.id:"",I={rowHeight:s,rowWidth:i,fontFamily:r,fontSize:a,tasks:c,locale:p,selectedTaskId:T,setSelectedTask:u,onExpanderClick:h};return ue.createElement("div",{ref:g},ue.createElement(v,Object.assign({},w)),ue.createElement("div",{ref:y,className:A,style:m?{height:m}:{}},ue.createElement(x,Object.assign({},I))))},Eh={gridRow:"_2dZTy",gridRowLine:"_3rUKi",gridTick:"_RuwuK"},MR=function(e){for(var n=e.tasks,r=e.dates,a=e.rowHeight,i=e.svgWidth,s=e.columnWidth,l=e.todayColor,c=e.rtl,d=0,u=[],h=[ue.createElement("line",{key:"RowLineFirst",x:"0",y1:0,x2:i,y2:0,className:Eh.gridRowLine})],p=oE(n),m;!(m=p()).done;){var g=m.value;u.push(ue.createElement("rect",{key:"Row"+g.id,x:"0",y:d,width:i,height:a,className:Eh.gridRow})),h.push(ue.createElement("line",{key:"RowLine"+g.id,x:"0",y1:d+a,x2:i,y2:d+a,className:Eh.gridRowLine})),d+=a}for(var A=new Date,v=0,x=[],y=ue.createElement("rect",null),w=0;w<r.length;w++){var T=r[w];x.push(ue.createElement("line",{key:T.getTime(),x1:v,y1:0,x2:v,y2:d,className:Eh.gridTick})),(w+1!==r.length&&T.getTime()<A.getTime()&&r[w+1].getTime()>=A.getTime()||w!==0&&w+1===r.length&&T.getTime()<A.getTime()&&ln(T,T.getTime()-r[w-1].getTime(),"millisecond").getTime()>=A.getTime())&&(y=ue.createElement("rect",{x:v,y:0,width:s,height:d,fill:l})),c&&w+1!==r.length&&T.getTime()>=A.getTime()&&r[w+1].getTime()<A.getTime()&&(y=ue.createElement("rect",{x:v+s,y:0,width:s,height:d,fill:l})),v+=s}return ue.createElement("g",{className:"gridBody"},ue.createElement("g",{className:"rows"},u),ue.createElement("g",{className:"rowLines"},h),ue.createElement("g",{className:"ticks"},x),ue.createElement("g",{className:"today"},y))},LR=function(e){return ue.createElement("g",{className:"grid"},ue.createElement(MR,Object.assign({},e)))},Ga={calendarBottomText:"_9w8d5",calendarTopTick:"_1rLuZ",calendarTopText:"_2q1Kt",calendarHeader:"_35nLX"},$o=function(e){var n=e.value,r=e.x1Line,a=e.y1Line,i=e.y2Line,s=e.xText,l=e.yText;return ue.createElement("g",{className:"calendarTop"},ue.createElement("line",{x1:r,y1:a,x2:r,y2:i,className:Ga.calendarTopTick,key:n+"line"}),ue.createElement("text",{key:n+"text",y:l,x:s,className:Ga.calendarTopText},n))},OR=function(e){var n=e.dateSetup,r=e.locale,a=e.viewMode,i=e.rtl,s=e.headerHeight,l=e.columnWidth,c=e.fontFamily,d=e.fontSize,u=function(){for(var E=[],k=[],P=s*.5,C=0;C<n.dates.length;C++){var D=n.dates[C],b=D.getFullYear();if(k.push(ue.createElement("text",{key:D.getFullYear(),y:s*.8,x:l*C+l*.5,className:Ga.calendarBottomText},b)),C===0||D.getFullYear()!==n.dates[C-1].getFullYear()){var O=D.getFullYear().toString(),z=void 0;i?z=(6+C+D.getFullYear()+1)*l:z=(6+C-D.getFullYear())*l,E.push(ue.createElement($o,{key:O,value:O,x1Line:l*C,y1Line:0,y2Line:s,xText:z,yText:P*.9}))}}return[E,k]},h=function(){for(var E=[],k=[],P=s*.5,C=0;C<n.dates.length;C++){var D=n.dates[C],b=zc(D,r);if(k.push(ue.createElement("text",{key:b+D.getFullYear(),y:s*.8,x:l*C+l*.5,className:Ga.calendarBottomText},b)),C===0||D.getFullYear()!==n.dates[C-1].getFullYear()){var O=D.getFullYear().toString(),z=void 0;i?z=(6+C+D.getMonth()+1)*l:z=(6+C-D.getMonth())*l,E.push(ue.createElement($o,{key:O,value:O,x1Line:l*C,y1Line:0,y2Line:P,xText:z,yText:P*.9}))}}return[E,k]},p=function(){for(var E=[],k=[],P=1,C=s*.5,D=n.dates,b=D.length-1;b>=0;b--){var O=D[b],z="";(b===0||O.getMonth()!==D[b-1].getMonth())&&(z=zc(O,r)+", "+O.getFullYear());var G="W"+ER(O);k.push(ue.createElement("text",{key:O.getTime(),y:s*.8,x:l*(b+ +i),className:Ga.calendarBottomText},G)),z&&(b!==D.length-1&&E.push(ue.createElement($o,{key:z,value:z,x1Line:l*b+P*l,y1Line:0,y2Line:C,xText:l*b+l*P*.5,yText:C*.9})),P=0),P++}return[E,k]},m=function(){for(var E=[],k=[],P=s*.5,C=n.dates,D=0;D<C.length;D++){var b=C[D],O=ag(b,r,"short")+", "+b.getDate().toString();if(k.push(ue.createElement("text",{key:b.getTime(),y:s*.8,x:l*D+l*.5,className:Ga.calendarBottomText},O)),D+1!==C.length&&b.getMonth()!==C[D+1].getMonth()){var z=zc(b,r);E.push(ue.createElement($o,{key:z+b.getFullYear(),value:z,x1Line:l*(D+1),y1Line:0,y2Line:P,xText:l*(D+1)-NR(b.getMonth(),b.getFullYear())*l*.5,yText:P*.9}))}}return[E,k]},g=function(){for(var E=[],k=[],P=a===Qe.HalfDay?2:4,C=s*.5,D=n.dates,b=0;b<D.length;b++){var O=D[b],z=$f(r,{hour:"numeric"}).format(O);if(k.push(ue.createElement("text",{key:O.getTime(),y:s*.8,x:l*(b+ +i),className:Ga.calendarBottomText,fontFamily:c},z)),b===0||O.getDate()!==D[b-1].getDate()){var G=ag(O,r,"short")+", "+O.getDate()+" "+zc(O,r);E.push(ue.createElement($o,{key:G+O.getFullYear(),value:G,x1Line:l*b+P*l,y1Line:0,y2Line:C,xText:l*b+P*l*.5,yText:C*.9}))}}return[E,k]},A=function(){for(var E=[],k=[],P=s*.5,C=n.dates,D=0;D<C.length;D++){var b=C[D],O=$f(r,{hour:"numeric"}).format(b);if(k.push(ue.createElement("text",{key:b.getTime(),y:s*.8,x:l*(D+ +i),className:Ga.calendarBottomText,fontFamily:c},O)),D!==0&&b.getDate()!==C[D-1].getDate()){var z=C[D-1],G=ag(z,r,"long")+", "+z.getDate()+" "+zc(z,r),Q=(b.getHours()-24)/2;E.push(ue.createElement($o,{key:G+z.getFullYear(),value:G,x1Line:l*D,y1Line:0,y2Line:P,xText:l*(D+Q),yText:P*.9}))}}return[E,k]},v=[],x=[];switch(n.viewMode){case Qe.Year:var y=u();v=y[0],x=y[1];break;case Qe.Month:var w=h();v=w[0],x=w[1];break;case Qe.Week:var T=p();v=T[0],x=T[1];break;case Qe.Day:var I=m();v=I[0],x=I[1];break;case Qe.QuarterDay:case Qe.HalfDay:var R=g();v=R[0],x=R[1];break;case Qe.Hour:var _=A();v=_[0],x=_[1]}return ue.createElement("g",{className:"calendar",fontSize:d,fontFamily:c},ue.createElement("rect",{x:0,y:0,width:l*n.dates.length,height:s,className:Ga.calendarHeader}),x," ",v)};typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function ig(t,e){try{var n=t()}catch(r){return e(r)}return n&&n.then?n.then(void 0,e):n}var FR=function(e){var n=e.taskFrom,r=e.taskTo,a=e.rowHeight,i=e.taskHeight,s=e.arrowIndent,l=e.rtl,c,d;if(l){var u=zR(n,r,a,i,s);c=u[0],d=u[1]}else{var h=BR(n,r,a,i,s);c=h[0],d=h[1]}return ue.createElement("g",{className:"arrow"},ue.createElement("path",{strokeWidth:"1.5",d:c,fill:"none"}),ue.createElement("polygon",{points:d}))},BR=function(e,n,r,a,i){var s=e.index>n.index?-1:1,l=n.y+a/2,c=e.x2+i*2,d=c<n.x1?"":"H "+(n.x1-i),u=c>n.x1?i:n.x1-e.x2-i,h="M "+e.x2+" "+(e.y+a/2)+` 
  h `+i+` 
  v `+s*r/2+` 
  `+d+`
  V `+l+` 
  h `+u,p=n.x1+","+l+` 
  `+(n.x1-5)+","+(l-5)+` 
  `+(n.x1-5)+","+(l+5);return[h,p]},zR=function(e,n,r,a,i){var s=e.index>n.index?-1:1,l=n.y+a/2,c=e.x1-i*2,d=c>n.x2?"":"H "+(n.x2+i),u=c<n.x2?-i:n.x2-e.x1+i,h="M "+e.x1+" "+(e.y+a/2)+` 
  h `+-i+` 
  v `+s*r/2+` 
  `+d+`
  V `+l+` 
  h `+u,p=n.x2+","+l+` 
  `+(n.x2+5)+","+(l+5)+` 
  `+(n.x2+5)+","+(l-5);return[h,p]},VR=function(e,n,r,a,i,s,l,c,d,u,h,p,m,g,A,v,x,y){var w=e.map(function(T,I){return UR(T,I,n,r,a,i,s,l,c,d,u,h,p,m,g,A,v,x,y)});return w=w.map(function(T){for(var I=T.dependencies||[],R=function(E){var k=w.findIndex(function(P){return P.id===I[E]});k!==-1&&w[k].barChildren.push(T)},_=0;_<I.length;_++)R(_);return T}),w},UR=function(e,n,r,a,i,s,l,c,d,u,h,p,m,g,A,v,x,y,w){var T;switch(e.type){case"milestone":T=GR(e,n,r,a,i,s,l,c,y,w);break;case"project":T=Lb(e,n,r,a,i,s,l,c,d,g,A,v,x);break;default:T=Lb(e,n,r,a,i,s,l,c,d,u,h,p,m);break}return T},Lb=function(e,n,r,a,i,s,l,c,d,u,h,p,m){var g,A;d?(A=Ob(e.start,r,a),g=Ob(e.end,r,a)):(g=qf(e.start,r,a),A=qf(e.end,r,a));var v=e.type;v==="task"&&A-g<c*2&&(v="smalltask",A=g+c*2);var x=Zc(g,A,e.progress,d),y=x[0],w=x[1],T=lE(n,i,s),I=e.type==="project"?e.hideChildren:void 0,R=xa({backgroundColor:p,backgroundSelectedColor:m,progressColor:u,progressSelectedColor:h},e.styles);return xa({},e,{typeInternal:v,x1:g,x2:A,y:T,index:n,progressX:w,progressWidth:y,barCornerRadius:l,handleWidth:c,hideChildren:I,height:s,barChildren:[],styles:R})},GR=function(e,n,r,a,i,s,l,c,d,u){var h=qf(e.start,r,a),p=lE(n,i,s),m=h-s*.5,g=h+s*.5,A=s/1.414,v=xa({backgroundColor:d,backgroundSelectedColor:u,progressColor:"",progressSelectedColor:""},e.styles);return xa({},e,{end:e.start,x1:m,x2:g,y:p,index:n,progressX:0,progressWidth:0,barCornerRadius:l,handleWidth:c,typeInternal:e.type,progress:0,height:A,hideChildren:void 0,barChildren:[],styles:v})},qf=function(e,n,r){var a=n.findIndex(function(c){return c.getTime()>=e.getTime()})-1,i=e.getTime()-n[a].getTime(),s=i/(n[a+1].getTime()-n[a].getTime()),l=a*r+s*r;return l},Ob=function(e,n,r){var a=qf(e,n,r);return a+=r,a},lE=function(e,n,r){var a=e*n+(n-r)/2;return a},Zc=function(e,n,r,a){var i=(n-e)*r*.01,s;return a?s=n-i:s=e,[i,s]},WR=function(e,n){if(e>=n.x2)return 100;if(e<=n.x1)return 0;var r=n.x2-n.x1,a=Math.round((e-n.x1)*100/r);return a},$R=function(e,n){if(e>=n.x2)return 0;if(e<=n.x1)return 100;var r=n.x2-n.x1,a=Math.round((n.x2-e)*100/r);return a},cE=function(e,n,r){var a=[e-5,n+r,e+5,n+r,e,n+r-8.66];return a.join(",")},qR=function(e,n,r){e>=r.x2-r.handleWidth*2&&(e=r.x2-r.handleWidth*2);var a=Math.round((e-r.x1)/n),i=a*n,s=r.x1+i;return s},HR=function(e,n,r){e<=r.x1+r.handleWidth*2&&(e=r.x1+r.handleWidth*2);var a=Math.round((e-r.x2)/n),i=a*n,s=r.x2+i;return s},dE=function(e,n,r){var a=Math.round((e-r.x1)/n),i=a*n,s=r.x1+i,l=s+r.x2-r.x1;return[s,l]},Bs=function(e,n,r,a,i){var s=new Date((e-n)/a*i+r.getTime());return s=new Date(s.getTime()+(s.getTimezoneOffset()-r.getTimezoneOffset())*6e4),s},Fb=function(e,n,r,a,i,s,l){var c;switch(r.type){case"milestone":c=XR(e,n,r,a,i,s);break;default:c=QR(e,n,r,a,i,s,l);break}return c},QR=function(e,n,r,a,i,s,l){var c=xa({},r),d=!1;switch(n){case"progress":if(l?c.progress=$R(e,r):c.progress=WR(e,r),d=c.progress!==r.progress,d){var u=Zc(c.x1,c.x2,c.progress,l),h=u[0],p=u[1];c.progressWidth=h,c.progressX=p}break;case"start":{var m=qR(e,a,r);if(c.x1=m,d=c.x1!==r.x1,d){l?c.end=Bs(m,r.x1,r.end,a,i):c.start=Bs(m,r.x1,r.start,a,i);var g=Zc(c.x1,c.x2,c.progress,l),A=g[0],v=g[1];c.progressWidth=A,c.progressX=v}break}case"end":{var x=HR(e,a,r);if(c.x2=x,d=c.x2!==r.x2,d){l?c.start=Bs(x,r.x2,r.start,a,i):c.end=Bs(x,r.x2,r.end,a,i);var y=Zc(c.x1,c.x2,c.progress,l),w=y[0],T=y[1];c.progressWidth=w,c.progressX=T}break}case"move":{var I=dE(e-s,a,r),R=I[0],_=I[1];if(d=R!==r.x1,d){c.start=Bs(R,r.x1,r.start,a,i),c.end=Bs(_,r.x2,r.end,a,i),c.x1=R,c.x2=_;var N=Zc(c.x1,c.x2,c.progress,l),E=N[0],k=N[1];c.progressWidth=E,c.progressX=k}break}}return{isChanged:d,changedTask:c}},XR=function(e,n,r,a,i,s){var l=xa({},r),c=!1;switch(n){case"move":{var d=dE(e-s,a,r),u=d[0],h=d[1];c=u!==r.x1,c&&(l.start=Bs(u,r.x1,r.start,a,i),l.end=l.start,l.x1=u,l.x2=h);break}}return{isChanged:c,changedTask:l}};function KR(t){return t.key!==void 0}function YR(t){var e=t.filter(function(a){return a.hideChildren&&a.type==="project"});if(e.length>0)for(var n=function(i){var s=e[i],l=uE(t,s);t=t.filter(function(c){return l.indexOf(c)===-1})},r=0;e.length>r;r++)n(r);return t}function uE(t,e){var n=[];e.type!=="project"?n=t.filter(function(a){return a.dependencies&&a.dependencies.indexOf(e.id)!==-1}):n=t.filter(function(a){return a.project&&a.project===e.id});var r=[];return n.forEach(function(a){r.push.apply(r,uE(t,a))}),n=n.concat(n,r),n}var JR=function(e,n){var r=e.displayOrder||Number.MAX_VALUE,a=n.displayOrder||Number.MAX_VALUE;return r>a?1:r<a?-1:0},Iu={barWrapper:"_KxSXS",barHandle:"_3w_5u",barBackground:"_31ERP"},hE=function(e){var n=e.x,r=e.y,a=e.width,i=e.height,s=e.isSelected,l=e.progressX,c=e.progressWidth,d=e.barCornerRadius,u=e.styles,h=e.onMouseDown,p=function(){return s?u.progressSelectedColor:u.progressColor},m=function(){return s?u.backgroundSelectedColor:u.backgroundColor};return ue.createElement("g",{onMouseDown:h},ue.createElement("rect",{x:n,width:a,y:r,height:i,ry:d,rx:d,fill:m(),className:Iu.barBackground}),ue.createElement("rect",{x:l,width:c,y:r,height:i,ry:d,rx:d,fill:p()}))},Bb=function(e){var n=e.x,r=e.y,a=e.width,i=e.height,s=e.barCornerRadius,l=e.onMouseDown;return ue.createElement("rect",{x:n,y:r,width:a,height:i,className:Iu.barHandle,ry:s,rx:s,onMouseDown:l})},fE=function(e){var n=e.progressPoint,r=e.onMouseDown;return ue.createElement("polygon",{className:Iu.barHandle,points:n,onMouseDown:r})},ZR=function(e){var n=e.task,r=e.isProgressChangeable,a=e.isDateChangeable,i=e.rtl,s=e.onEventStart,l=e.isSelected,c=cE(+!i*n.progressWidth+n.progressX,n.y,n.height),d=n.height-2;return ue.createElement("g",{className:Iu.barWrapper,tabIndex:0},ue.createElement(hE,{x:n.x1,y:n.y,width:n.x2-n.x1,height:n.height,progressX:n.progressX,progressWidth:n.progressWidth,barCornerRadius:n.barCornerRadius,styles:n.styles,isSelected:l,onMouseDown:function(h){a&&s("move",n,h)}}),ue.createElement("g",{className:"handleGroup"},a&&ue.createElement("g",null,ue.createElement(Bb,{x:n.x1+1,y:n.y+1,width:n.handleWidth,height:d,barCornerRadius:n.barCornerRadius,onMouseDown:function(h){s("start",n,h)}}),ue.createElement(Bb,{x:n.x2-n.handleWidth-1,y:n.y+1,width:n.handleWidth,height:d,barCornerRadius:n.barCornerRadius,onMouseDown:function(h){s("end",n,h)}})),r&&ue.createElement(fE,{progressPoint:c,onMouseDown:function(h){s("progress",n,h)}})))},eP=function(e){var n=e.task,r=e.isProgressChangeable,a=e.isDateChangeable,i=e.onEventStart,s=e.isSelected,l=cE(n.progressWidth+n.x1,n.y,n.height);return ue.createElement("g",{className:Iu.barWrapper,tabIndex:0},ue.createElement(hE,{x:n.x1,y:n.y,width:n.x2-n.x1,height:n.height,progressX:n.progressX,progressWidth:n.progressWidth,barCornerRadius:n.barCornerRadius,styles:n.styles,isSelected:s,onMouseDown:function(d){a&&i("move",n,d)}}),ue.createElement("g",{className:"handleGroup"},r&&ue.createElement(fE,{progressPoint:l,onMouseDown:function(d){i("progress",n,d)}})))},zb={milestoneWrapper:"_RRr13",milestoneBackground:"_2P2B1"},tP=function(e){var n=e.task,r=e.isDateChangeable,a=e.onEventStart,i=e.isSelected,s="rotate(45 "+(n.x1+n.height*.356)+` 
    `+(n.y+n.height*.85)+")",l=function(){return i?n.styles.backgroundSelectedColor:n.styles.backgroundColor};return ue.createElement("g",{tabIndex:0,className:zb.milestoneWrapper},ue.createElement("rect",{fill:l(),x:n.x1,width:n.height,y:n.y,height:n.height,rx:n.barCornerRadius,ry:n.barCornerRadius,transform:s,className:zb.milestoneBackground,onMouseDown:function(d){r&&a("move",n,d)}}))},Vc={projectWrapper:"_1KJ6x",projectBackground:"_2RbVy",projectTop:"_2pZMF"},nP=function(e){var n=e.task,r=e.isSelected,a=r?n.styles.backgroundSelectedColor:n.styles.backgroundColor,i=r?n.styles.progressSelectedColor:n.styles.progressColor,s=n.x2-n.x1,l=[n.x1,n.y+n.height/2-1,n.x1,n.y+n.height,n.x1+15,n.y+n.height/2-1].join(","),c=[n.x2,n.y+n.height/2-1,n.x2,n.y+n.height,n.x2-15,n.y+n.height/2-1].join(",");return ue.createElement("g",{tabIndex:0,className:Vc.projectWrapper},ue.createElement("rect",{fill:a,x:n.x1,width:s,y:n.y,height:n.height,rx:n.barCornerRadius,ry:n.barCornerRadius,className:Vc.projectBackground}),ue.createElement("rect",{x:n.progressX,width:n.progressWidth,y:n.y,height:n.height,ry:n.barCornerRadius,rx:n.barCornerRadius,fill:i}),ue.createElement("rect",{fill:a,x:n.x1,width:s,y:n.y,height:n.height/2,rx:n.barCornerRadius,ry:n.barCornerRadius,className:Vc.projectTop}),ue.createElement("polygon",{className:Vc.projectTop,points:l,fill:a}),ue.createElement("polygon",{className:Vc.projectTop,points:c,fill:a}))},Vb={barLabel:"_3zRJQ",barLabelOutside:"_3KcaM"},rP=function(e){var n=xa({},e),r=n.task,a=n.arrowIndent,i=n.isDelete,s=n.taskHeight,l=n.isSelected,c=n.rtl,d=n.onEventStart,u=L.useRef(null),h=L.useState(ue.createElement("div",null)),p=h[0],m=h[1],g=L.useState(!0),A=g[0],v=g[1];L.useEffect(function(){switch(r.typeInternal){case"milestone":m(ue.createElement(tP,Object.assign({},e)));break;case"project":m(ue.createElement(nP,Object.assign({},e)));break;case"smalltask":m(ue.createElement(eP,Object.assign({},e)));break;default:m(ue.createElement(ZR,Object.assign({},e)));break}},[r,l]),L.useEffect(function(){u.current&&v(u.current.getBBox().width<r.x2-r.x1)},[u,r]);var x=function(){var w=r.x2-r.x1,T=r.barChildren.length>0;return A?r.x1+w*.5:c&&u.current?r.x1-u.current.getBBox().width-a*+T-a*.2:r.x1+w+a*+T+a*.2};return ue.createElement("g",{onKeyDown:function(w){switch(w.key){case"Delete":{i&&d("delete",r,w);break}}w.stopPropagation()},onMouseEnter:function(w){d("mouseenter",r,w)},onMouseLeave:function(w){d("mouseleave",r,w)},onDoubleClick:function(w){d("dblclick",r,w)},onClick:function(w){d("click",r,w)},onFocus:function(){d("select",r)}},p,ue.createElement("text",{x:x(),y:r.y+s*.5,className:A?Vb.barLabel:Vb.barLabelOutside,ref:u},r.name))},aP=function(e){var n,r=e.tasks,a=e.dates,i=e.ganttEvent,s=e.selectedTask,l=e.rowHeight,c=e.columnWidth,d=e.timeStep,u=e.svg,h=e.taskHeight,p=e.arrowColor,m=e.arrowIndent,g=e.fontFamily,A=e.fontSize,v=e.rtl,x=e.setGanttEvent,y=e.setFailedTask,w=e.setSelectedTask,T=e.onDateChange,I=e.onProgressChange,R=e.onDoubleClick,_=e.onClick,N=e.onDelete,E=u==null||(n=u.current)===null||n===void 0?void 0:n.createSVGPoint(),k=L.useState(0),P=k[0],C=k[1],D=L.useState(0),b=D[0],O=D[1],z=L.useState(!1),G=z[0],Q=z[1];L.useEffect(function(){var ne=a[1].getTime()-a[0].getTime()-a[1].getTimezoneOffset()*60*1e3+a[0].getTimezoneOffset()*60*1e3,Y=d*c/ne;C(Y)},[c,a,d]),L.useEffect(function(){var ne=function(ce){try{var ie;if(!i.changedTask||!E||!(u!=null&&u.current))return Promise.resolve();ce.preventDefault(),E.x=ce.clientX;var oe=E.matrixTransform(u==null||(ie=u.current.getScreenCTM())===null||ie===void 0?void 0:ie.inverse()),ge=Fb(oe.x,i.action,i.changedTask,P,d,b,v),je=ge.isChanged,ye=ge.changedTask;return je&&x({action:i.action,changedTask:ye}),Promise.resolve()}catch(me){return Promise.reject(me)}},Y=function K(ce){try{var ie,oe=function(){Ce||y(je)},ge=i.action,je=i.originalSelectedTask,ye=i.changedTask;if(!ye||!E||!(u!=null&&u.current)||!je)return Promise.resolve();ce.preventDefault(),E.x=ce.clientX;var me=E.matrixTransform(u==null||(ie=u.current.getScreenCTM())===null||ie===void 0?void 0:ie.inverse()),Te=Fb(me.x,ge,ye,P,d,b,v),xe=Te.changedTask,Ne=je.start!==xe.start||je.end!==xe.end||je.progress!==xe.progress;u.current.removeEventListener("mousemove",ne),u.current.removeEventListener("mouseup",K),x({action:""}),Q(!1);var Ce=!0,j=function(){if((ge==="move"||ge==="end"||ge==="start")&&T&&Ne){var H=ig(function(){return Promise.resolve(T(xe,xe.barChildren)).then(function(F){F!==void 0&&(Ce=F)})},function(){Ce=!1});if(H&&H.then)return H.then(function(){})}else{var X=function(){if(I&&Ne){var F=ig(function(){return Promise.resolve(I(xe,xe.barChildren)).then(function(B){B!==void 0&&(Ce=B)})},function(){Ce=!1});if(F&&F.then)return F.then(function(){})}}();if(X&&X.then)return X.then(function(){})}}();return Promise.resolve(j&&j.then?j.then(oe):oe(j))}catch(H){return Promise.reject(H)}};!G&&(i.action==="move"||i.action==="end"||i.action==="start"||i.action==="progress")&&u!==null&&u!==void 0&&u.current&&(u.current.addEventListener("mousemove",ne),u.current.addEventListener("mouseup",Y),Q(!0))},[i,P,b,I,d,T,u,G,E,v,y,x]);var q=function(Y,K,ce){try{return Promise.resolve(function(){if(!ce)Y==="select"&&w(K.id);else return function(){if(KR(ce)){var ie=function(){if(Y==="delete"){var je=function(){if(N){var ye=ig(function(){return Promise.resolve(N(K)).then(function(me){me!==void 0&&me&&x({action:Y,changedTask:K})})},function(me){console.error("Error on Delete. "+me)});if(ye&&ye.then)return ye.then(function(){})}}();if(je&&je.then)return je.then(function(){})}}();if(ie&&ie.then)return ie.then(function(){})}else if(Y==="mouseenter")i.action||x({action:Y,changedTask:K,originalSelectedTask:K});else if(Y==="mouseleave")i.action==="mouseenter"&&x({action:""});else if(Y==="dblclick")R&&R(K);else if(Y==="click")_&&_(K);else if(Y==="move"){var oe;if(!(u!=null&&u.current)||!E)return;E.x=ce.clientX;var ge=E.matrixTransform((oe=u.current.getScreenCTM())===null||oe===void 0?void 0:oe.inverse());O(ge.x-K.x1),x({action:Y,changedTask:K,originalSelectedTask:K})}else x({action:Y,changedTask:K,originalSelectedTask:K})}()}())}catch(ie){return Promise.reject(ie)}};return ue.createElement("g",{className:"content"},ue.createElement("g",{className:"arrows",fill:p,stroke:p},r.map(function(ne){return ne.barChildren.map(function(Y){return ue.createElement(FR,{key:"Arrow from "+ne.id+" to "+r[Y.index].id,taskFrom:ne,taskTo:r[Y.index],rowHeight:l,taskHeight:h,arrowIndent:m,rtl:v})})})),ue.createElement("g",{className:"bar",fontFamily:g,fontSize:A},r.map(function(ne){return ue.createElement(rP,{task:ne,arrowIndent:m,taskHeight:h,isProgressChangeable:!!I&&!ne.isDisabled,isDateChangeable:!!T&&!ne.isDisabled,isDelete:!ne.isDisabled,onEventStart:q,key:ne.id,isSelected:!!s&&ne.id===s.id,rtl:v})})))},Hf={ganttVerticalContainer:"_CZjuD",horizontalContainer:"_2B2zv",wrapper:"_3eULf"},iP=function(e){var n=e.gridProps,r=e.calendarProps,a=e.barProps,i=e.ganttHeight,s=e.scrollY,l=e.scrollX,c=L.useRef(null),d=L.useRef(null),u=L.useRef(null),h=xa({},a,{svg:c});return L.useEffect(function(){d.current&&(d.current.scrollTop=s)},[s]),L.useEffect(function(){u.current&&(u.current.scrollLeft=l)},[l]),ue.createElement("div",{className:Hf.ganttVerticalContainer,ref:u,dir:"ltr"},ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n.svgWidth,height:r.headerHeight,fontFamily:a.fontFamily},ue.createElement(OR,Object.assign({},r))),ue.createElement("div",{ref:d,className:Hf.horizontalContainer,style:i?{height:i,width:n.svgWidth}:{width:n.svgWidth}},ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n.svgWidth,height:a.rowHeight*a.tasks.length,fontFamily:a.fontFamily,ref:c},ue.createElement(LR,Object.assign({},n)),ue.createElement(aP,Object.assign({},h)))))},Ub={scrollWrapper:"_2k9Ys",scroll:"_19jgW"},sP=function(e){var n=e.scroll,r=e.svgWidth,a=e.taskListWidth,i=e.rtl,s=e.onScroll,l=L.useRef(null);return L.useEffect(function(){l.current&&(l.current.scrollLeft=n)},[n]),ue.createElement("div",{dir:"ltr",style:{margin:i?"0px "+a+"px 0px 0px":"0px 0px 0px "+a+"px"},className:Ub.scrollWrapper,onScroll:s,ref:l},ue.createElement("div",{style:{width:r},className:Ub.scroll}))},sg=function(e){var n=e.tasks,r=e.headerHeight,a=r===void 0?50:r,i=e.columnWidth,s=i===void 0?60:i,l=e.listCellWidth,c=l===void 0?"155px":l,d=e.rowHeight,u=d===void 0?50:d,h=e.ganttHeight,p=h===void 0?0:h,m=e.viewMode,g=m===void 0?Qe.Day:m,A=e.preStepsCount,v=A===void 0?1:A,x=e.locale,y=x===void 0?"en-GB":x,w=e.barFill,T=w===void 0?60:w,I=e.barCornerRadius,R=I===void 0?3:I,_=e.barProgressColor,N=_===void 0?"#a3a3ff":_,E=e.barProgressSelectedColor,k=E===void 0?"#8282f5":E,P=e.barBackgroundColor,C=P===void 0?"#b8c2cc":P,D=e.barBackgroundSelectedColor,b=D===void 0?"#aeb8c2":D,O=e.projectProgressColor,z=O===void 0?"#7db59a":O,G=e.projectProgressSelectedColor,Q=G===void 0?"#59a985":G,q=e.projectBackgroundColor,ne=q===void 0?"#fac465":q,Y=e.projectBackgroundSelectedColor,K=Y===void 0?"#f7bb53":Y,ce=e.milestoneBackgroundColor,ie=ce===void 0?"#f1c453":ce,oe=e.milestoneBackgroundSelectedColor,ge=oe===void 0?"#f29e4c":oe,je=e.rtl,ye=je===void 0?!1:je,me=e.handleWidth,Te=me===void 0?8:me,xe=e.timeStep,Ne=xe===void 0?3e5:xe,Ce=e.arrowColor,j=Ce===void 0?"grey":Ce,H=e.fontFamily,X=H===void 0?"Arial, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue":H,F=e.fontSize,B=F===void 0?"14px":F,U=e.arrowIndent,Z=U===void 0?20:U,W=e.todayColor,V=W===void 0?"rgba(252, 248, 227, 0.5)":W,te=e.viewDate,J=e.TooltipContent,re=J===void 0?DR:J,he=e.TaskListHeader,Ie=he===void 0?IR:he,Ee=e.TaskListTable,We=Ee===void 0?TR:Ee,pt=e.onDateChange,ct=e.onProgressChange,Be=e.onDoubleClick,Ue=e.onClick,at=e.onDelete,Tt=e.onSelect,mt=e.onExpanderClick,Nt=L.useRef(null),ze=L.useRef(null),gt=L.useState(function(){var ut=Rb(n,g,v),Re=ut[0],Ze=ut[1];return{viewMode:g,dates:Pb(Re,Ze,g)}}),vt=gt[0],ht=gt[1],rt=L.useState(void 0),Fe=rt[0],dt=rt[1],Ft=L.useState(0),_t=Ft[0],Bt=Ft[1],un=L.useState(0),Ir=un[0],At=un[1],qn=L.useState(p),mn=qn[0],vn=qn[1],kt=L.useState([]),jt=kt[0],tn=kt[1],Vr=L.useState({action:""}),ir=Vr[0],ja=Vr[1],gi=L.useMemo(function(){return u*T/100},[u,T]),Ai=L.useState(),ia=Ai[0],Sr=Ai[1],Ts=L.useState(null),Ma=Ts[0],La=Ts[1],Hn=vt.dates.length*s,Ur=jt.length*u,xi=L.useState(0),pr=xi[0],ee=xi[1],ae=L.useState(-1),de=ae[0],ve=ae[1],Ae=L.useState(!1),$e=Ae[0],Le=Ae[1];L.useEffect(function(){var ut;mt?ut=YR(n):ut=n,ut=ut.sort(JR);var Re=Rb(ut,g,v),Ze=Re[0],qe=Re[1],tt=Pb(Ze,qe,g);ye&&(tt=tt.reverse(),de===-1&&ve(tt.length*s)),ht({dates:tt,viewMode:g}),tn(VR(ut,tt,s,u,gi,R,Te,ye,N,k,C,b,z,Q,ne,K,ie,ge))},[n,g,v,u,R,s,gi,Te,N,k,C,b,z,Q,ne,K,ie,ge,ye,de,mt]),L.useEffect(function(){if(g===vt.viewMode&&(te&&!Fe||te&&(Fe==null?void 0:Fe.valueOf())!==te.valueOf())){var ut=vt.dates,Re=ut.findIndex(function(Ze,qe){return te.valueOf()>=Ze.valueOf()&&qe+1!==ut.length&&te.valueOf()<ut[qe+1].valueOf()});if(Re===-1)return;dt(te),ve(s*Re)}},[te,s,vt.dates,vt.viewMode,g,Fe,dt]),L.useEffect(function(){var ut=ir.changedTask,Re=ir.action;if(ut){if(Re==="delete")ja({action:""}),tn(jt.filter(function(tt){return tt.id!==ut.id}));else if(Re==="move"||Re==="end"||Re==="start"||Re==="progress"){var Ze=jt.find(function(tt){return tt.id===ut.id});if(Ze&&(Ze.start.getTime()!==ut.start.getTime()||Ze.end.getTime()!==ut.end.getTime()||Ze.progress!==ut.progress)){var qe=jt.map(function(tt){return tt.id===ut.id?ut:tt});tn(qe)}}}},[ir,jt]),L.useEffect(function(){Ma&&(tn(jt.map(function(ut){return ut.id!==Ma.id?ut:Ma})),La(null))},[Ma,jt]),L.useEffect(function(){c||Bt(0),ze.current&&Bt(ze.current.offsetWidth)},[ze,c]),L.useEffect(function(){Nt.current&&At(Nt.current.offsetWidth-_t)},[Nt,_t]),L.useEffect(function(){vn(p?p+a:n.length*u+a)},[p,n,a,u]),L.useEffect(function(){var ut,Re=function(qe){if(qe.shiftKey||qe.deltaX){var tt=qe.deltaX?qe.deltaX:qe.deltaY,gn=de+tt;gn<0?gn=0:gn>Hn&&(gn=Hn),ve(gn),qe.preventDefault()}else if(p){var Tn=pr+qe.deltaY;Tn<0?Tn=0:Tn>Ur-p&&(Tn=Ur-p),Tn!==pr&&(ee(Tn),qe.preventDefault())}Le(!0)};return(ut=Nt.current)===null||ut===void 0||ut.addEventListener("wheel",Re,{passive:!1}),function(){var Ze;(Ze=Nt.current)===null||Ze===void 0||Ze.removeEventListener("wheel",Re)}},[Nt,pr,de,p,Hn,ye,Ur]);var Dt=function(Re){pr!==Re.currentTarget.scrollTop&&!$e?(ee(Re.currentTarget.scrollTop),Le(!0)):Le(!1)},Wt=function(Re){de!==Re.currentTarget.scrollLeft&&!$e?(ve(Re.currentTarget.scrollLeft),Le(!0)):Le(!1)},Qn=function(Re){Re.preventDefault();var Ze=pr,qe=de,tt=!0;switch(Re.key){case"Down":case"ArrowDown":Ze+=u,tt=!1;break;case"Up":case"ArrowUp":Ze-=u,tt=!1;break;case"Left":case"ArrowLeft":qe-=s;break;case"Right":case"ArrowRight":qe+=s;break}tt?(qe<0?qe=0:qe>Hn&&(qe=Hn),ve(qe)):(Ze<0?Ze=0:Ze>Ur-p&&(Ze=Ur-p),ee(Ze)),Le(!0)},Xn=function(Re){var Ze=jt.find(function(tt){return tt.id===Re}),qe=jt.find(function(tt){return!!ia&&tt.id===ia.id});Tt&&(qe&&Tt(qe,!1),Ze&&Tt(Ze,!0)),Sr(Ze)},Gr=function(Re){mt&&Re.hideChildren!==void 0&&mt(xa({},Re,{hideChildren:!Re.hideChildren}))},mr={columnWidth:s,svgWidth:Hn,tasks:n,rowHeight:u,dates:vt.dates,todayColor:V,rtl:ye},Fo={dateSetup:vt,locale:y,viewMode:g,headerHeight:a,columnWidth:s,fontFamily:X,fontSize:B,rtl:ye},Bo={tasks:jt,dates:vt.dates,ganttEvent:ir,selectedTask:ia,rowHeight:u,taskHeight:gi,columnWidth:s,arrowColor:j,timeStep:Ne,fontFamily:X,fontSize:B,arrowIndent:Z,svgWidth:Hn,rtl:ye,setGanttEvent:ja,setFailedTask:La,setSelectedTask:Xn,onDateChange:pt,onProgressChange:ct,onDoubleClick:Be,onClick:Ue,onDelete:at},zo={rowHeight:u,rowWidth:c,fontFamily:X,fontSize:B,tasks:jt,locale:y,headerHeight:a,scrollY:pr,ganttHeight:p,horizontalContainerClass:Hf.horizontalContainer,selectedTask:ia,taskListRef:ze,setSelectedTask:Xn,onExpanderClick:Gr,TaskListHeader:Ie,TaskListTable:We};return ue.createElement("div",null,ue.createElement("div",{className:Hf.wrapper,onKeyDown:Qn,tabIndex:0,ref:Nt},c&&ue.createElement(jR,Object.assign({},zo)),ue.createElement(iP,{gridProps:mr,calendarProps:Fo,barProps:Bo,ganttHeight:p,scrollY:pr,scrollX:de}),ir.changedTask&&ue.createElement(kR,{arrowIndent:Z,rowHeight:u,svgContainerHeight:mn,svgContainerWidth:Ir,fontFamily:X,fontSize:B,scrollX:de,scrollY:pr,task:ir.changedTask,headerHeight:a,taskListWidth:_t,TooltipContent:re,rtl:ye,svgWidth:Hn}),ue.createElement(PR,{ganttFullHeight:Ur,ganttHeight:p,headerHeight:a,scroll:pr,onScroll:Dt,rtl:ye})),ue.createElement(sP,{svgWidth:Hn,taskListWidth:_t,scroll:de,rtl:ye,onScroll:Wt}))};function et(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function na(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function xn(t,e){const n=et(t);return isNaN(e)?na(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function as(t,e){const n=et(t);if(isNaN(e))return na(t,NaN);if(!e)return n;const r=n.getDate(),a=na(t,n.getTime());a.setMonth(n.getMonth()+e+1,0);const i=a.getDate();return r>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),r),n)}function oP(t){return et(t).getDay()===6}function lP(t){return et(t).getDay()===0}function oo(t){const e=et(t).getDay();return e===0||e===6}function og(t,e){const n=et(t),r=oo(n);if(isNaN(e))return na(t,NaN);const a=n.getHours(),i=e<0?-1:1,s=Math.trunc(e/5);n.setDate(n.getDate()+s*7);let l=Math.abs(e%5);for(;l>0;)n.setDate(n.getDate()+i),oo(n)||(l-=1);return r&&oo(n)&&e!==0&&(oP(n)&&n.setDate(n.getDate()+(i<0?2:-1)),lP(n)&&n.setDate(n.getDate()+(i<0?1:-2))),n.setHours(a),n}function cP(t,e){const n=+et(t);return na(t,n+e)}const pE=6048e5,dP=864e5,mE=6e4;let uP={};function Su(){return uP}function Ao(t,e){var l,c,d,u;const n=Su(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=et(t),i=a.getDay(),s=(i<r?7:0)+i-r;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function Qf(t){return Ao(t,{weekStartsOn:1})}function gE(t){const e=et(t),n=e.getFullYear(),r=na(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=Qf(r),i=na(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const s=Qf(i);return e.getTime()>=a.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function lo(t){const e=et(t);return e.setHours(0,0,0,0),e}function Gb(t){const e=et(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Ix(t,e){const n=lo(t),r=lo(e),a=+n-Gb(n),i=+r-Gb(r);return Math.round((a-i)/dP)}function hP(t){const e=gE(t),n=na(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Qf(n)}function fP(t,e){return cP(t,e*mE)}function Wb(t,e,n){const[r,a]=[+et(t.start),+et(t.end)].sort((l,c)=>l-c),[i,s]=[+et(e.start),+et(e.end)].sort((l,c)=>l-c);return r<s&&i<a}function pP(t){let e;return t.forEach(function(n){const r=et(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function mP(t){let e;return t.forEach(n=>{const r=et(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function zs(t,e){const n=lo(t),r=lo(e);return+n==+r}function gP(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Zs(t){if(!gP(t)&&typeof t!="number")return!1;const e=et(t);return!isNaN(Number(e))}function Nh(t,e){const n=et(t);let r=et(e);if(!Zs(n)||!Zs(r))return NaN;const a=Ix(n,r),i=a<0?-1:1,s=Math.trunc(a/7);let l=s*5;for(r=xn(r,s*7);!zs(n,r);)l+=oo(r)?0:i,r=xn(r,i);return l===0?0:l}function Sx(t,e){const n=et(t),r=et(e),a=$b(n,r),i=Math.abs(Ix(n,r));n.setDate(n.getDate()-a*i);const s=+($b(n,r)===-a),l=a*(i-s);return l===0?0:l}function $b(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function AP(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function xP(t,e){return+et(t)-+et(e)}function AE(t,e,n){const r=xP(t,e)/mE;return AP(n==null?void 0:n.roundingMethod)(r)}function qb(t){const e=et(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Hb(t,e){const n=et(t.start),r=et(t.end);let a=+n>+r;const i=a?+n:+r,s=a?r:n;s.setHours(0,0,0,0);let l=1;const c=[];for(;+s<=i;)c.push(et(s)),s.setDate(s.getDate()+l),s.setHours(0,0,0,0);return a?c.reverse():c}function Xl(t){const e=et(t);return e.setDate(1),e.setHours(0,0,0,0),e}function yP(t){const e=et(t),n=na(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Qb(t,e){var l,c;const n=Su(),r=n.weekStartsOn??((c=(l=n.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,a=et(t),i=a.getDay(),s=(i<r?-7:0)+6-(i-r);return a.setDate(a.getDate()+s),a.setHours(23,59,59,999),a}const vP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bP=(t,e,n)=>{let r;const a=vP[t];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Pl(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const wP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_P={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},CP={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},EP={date:Pl({formats:wP,defaultWidth:"full"}),time:Pl({formats:_P,defaultWidth:"full"}),dateTime:Pl({formats:CP,defaultWidth:"full"})},NP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},IP=(t,e,n,r)=>NP[t];function Ca(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):s;a=t.formattingValues[l]||t.formattingValues[s]}else{const s=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;a=t.values[l]||t.values[s]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const SP={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},TP={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kP={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},DP={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},RP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},PP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jP=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},MP={ordinalNumber:jP,era:Ca({values:SP,defaultWidth:"wide"}),quarter:Ca({values:TP,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ca({values:kP,defaultWidth:"wide"}),day:Ca({values:DP,defaultWidth:"wide"}),dayPeriod:Ca({values:RP,defaultWidth:"wide",formattingValues:PP,defaultFormattingWidth:"wide"})};function Ea(t){return(e,n={})=>{const r=n.width,a=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const s=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?OP(l,h=>h.test(s)):LP(l,h=>h.test(s));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=e.slice(s.length);return{value:d,rest:u}}}function LP(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function OP(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function xE(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const a=r[0],i=e.match(t.parsePattern);if(!i)return null;let s=t.valueCallback?t.valueCallback(i[0]):i[0];s=n.valueCallback?n.valueCallback(s):s;const l=e.slice(a.length);return{value:s,rest:l}}}const FP=/^(\d+)(th|st|nd|rd)?/i,BP=/\d+/i,zP={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},VP={any:[/^b/i,/^(a|c)/i]},UP={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},GP={any:[/1/i,/2/i,/3/i,/4/i]},WP={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$P={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qP={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},HP={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},QP={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},XP={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},KP={ordinalNumber:xE({matchPattern:FP,parsePattern:BP,valueCallback:t=>parseInt(t,10)}),era:Ea({matchPatterns:zP,defaultMatchWidth:"wide",parsePatterns:VP,defaultParseWidth:"any"}),quarter:Ea({matchPatterns:UP,defaultMatchWidth:"wide",parsePatterns:GP,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ea({matchPatterns:WP,defaultMatchWidth:"wide",parsePatterns:$P,defaultParseWidth:"any"}),day:Ea({matchPatterns:qP,defaultMatchWidth:"wide",parsePatterns:HP,defaultParseWidth:"any"}),dayPeriod:Ea({matchPatterns:QP,defaultMatchWidth:"any",parsePatterns:XP,defaultParseWidth:"any"})},YP={code:"en-US",formatDistance:bP,formatLong:EP,formatRelative:IP,localize:MP,match:KP,options:{weekStartsOn:0,firstWeekContainsDate:1}};function JP(t){const e=et(t);return Ix(e,yP(e))+1}function ZP(t){const e=et(t),n=+Qf(e)-+hP(e);return Math.round(n/pE)+1}function yE(t,e){var u,h,p,m;const n=et(t),r=n.getFullYear(),a=Su(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(p=a.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,s=na(t,0);s.setFullYear(r+1,0,i),s.setHours(0,0,0,0);const l=Ao(s,e),c=na(t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=Ao(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function ej(t,e){var l,c,d,u;const n=Su(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=yE(t,e),i=na(t,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),Ao(i,e)}function tj(t,e){const n=et(t),r=+Ao(n,e)-+ej(n,e);return Math.round(r/pE)+1}function zt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ci={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return zt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):zt(n+1,2)},d(t,e){return zt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return zt(t.getHours()%12||12,e.length)},H(t,e){return zt(t.getHours(),e.length)},m(t,e){return zt(t.getMinutes(),e.length)},s(t,e){return zt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return zt(a,e.length)}},qo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Xb={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Ci.y(t,e)},Y:function(t,e,n,r){const a=yE(t,r),i=a>0?a:1-a;if(e==="YY"){const s=i%100;return zt(s,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):zt(i,e.length)},R:function(t,e){const n=gE(t);return zt(n,e.length)},u:function(t,e){const n=t.getFullYear();return zt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return zt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return zt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ci.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return zt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const a=tj(t,r);return e==="wo"?n.ordinalNumber(a,{unit:"week"}):zt(a,e.length)},I:function(t,e,n){const r=ZP(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):zt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ci.d(t,e)},D:function(t,e,n){const r=JP(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):zt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const a=t.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return zt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const a=t.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return zt(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return zt(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let a;switch(r===12?a=qo.noon:r===0?a=qo.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let a;switch(r>=17?a=qo.evening:r>=12?a=qo.afternoon:r>=4?a=qo.morning:a=qo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ci.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ci.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):zt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):zt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ci.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ci.s(t,e)},S:function(t,e){return Ci.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Yb(r);case"XXXX":case"XX":return Vs(r);case"XXXXX":case"XXX":default:return Vs(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Yb(r);case"xxxx":case"xx":return Vs(r);case"xxxxx":case"xxx":default:return Vs(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Kb(r,":");case"OOOO":default:return"GMT"+Vs(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Kb(r,":");case"zzzz":default:return"GMT"+Vs(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return zt(r,e.length)},T:function(t,e,n){const r=t.getTime();return zt(r,e.length)}};function Kb(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+e+zt(i,2)}function Yb(t,e){return t%60===0?(t>0?"-":"+")+zt(Math.abs(t)/60,2):Vs(t,e)}function Vs(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),a=zt(Math.trunc(r/60),2),i=zt(r%60,2);return n+a+e+i}const Jb=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},vE=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},nj=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return Jb(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Jb(r,e)).replace("{{time}}",vE(a,e))},rj={p:vE,P:nj},aj=/^D+$/,ij=/^Y+$/,sj=["D","DD","YY","YYYY"];function oj(t){return aj.test(t)}function lj(t){return ij.test(t)}function cj(t,e,n){const r=dj(t,e,n);if(console.warn(r),sj.includes(t))throw new RangeError(r)}function dj(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const uj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fj=/^'([^]*?)'?$/,pj=/''/g,mj=/[a-zA-Z]/;function Lt(t,e,n){var u,h,p,m,g,A,v,x;const r=Su(),a=(n==null?void 0:n.locale)??r.locale??YP,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((A=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:A.weekStartsOn)??r.weekStartsOn??((x=(v=r.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??0,l=et(t);if(!Zs(l))throw new RangeError("Invalid time value");let c=e.match(hj).map(y=>{const w=y[0];if(w==="p"||w==="P"){const T=rj[w];return T(y,a.formatLong)}return y}).join("").match(uj).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:gj(y)};if(Xb[w])return{isToken:!0,value:y};if(w.match(mj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&lj(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&oj(w))&&cj(w,e,String(t));const T=Xb[w[0]];return T(l,w,a.localize,d)}).join("")}function gj(t){const e=t.match(fj);return e?e[1].replace(pj,"'"):t}function jl(t,e){const n=et(t),r=et(e);return n.getTime()>r.getTime()}function eo(t,e){const n=et(t),r=et(e);return+n<+r}function Zb(t){return+et(t)<Date.now()}function Aj(t,e){const n=et(t),r=et(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function xj(t,e){const n=+et(t),[r,a]=[+et(e.start),+et(e.end)].sort((i,s)=>i-s);return n>=r&&n<=a}const yj=["01-01","04-21","05-01","09-07","10-12","11-02","11-15","11-20","12-25"];function vj(t){const e=t%19,n=Math.floor(t/100),r=t%100,a=Math.floor(n/4),i=n%4,s=Math.floor((n+8)/25),l=Math.floor((n-s+1)/3),c=(19*e+n-a-l+15)%30,d=Math.floor(r/4),u=r%4,h=(32+2*i+2*d-c-u)%7,p=Math.floor((e+11*c+22*h)/451),m=Math.floor((c+h-7*p+114)/31),g=(c+h-7*p+114)%31+1;return new Date(t,m-1,g)}function bj(t){const e=vj(t),n=xn(e,-48),r=xn(e,-47),a=xn(e,-2),i=xn(e,60),s=l=>{const c=String(l.getMonth()+1).padStart(2,"0"),d=String(l.getDate()).padStart(2,"0");return`${c}-${d}`};return[s(n),s(r),s(a),s(i)]}const lg={};function fc(t){const e=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),r=`${e}-${n}`,a=t.getFullYear();return yj.includes(r)?!0:(lg[a]||(lg[a]=bj(a)),lg[a].includes(r))}function Jr(t,e){if(t>e)return 0;let n=0,r=new Date(t);r.setHours(0,0,0,0);const a=new Date(e);for(a.setHours(0,0,0,0);r<=a;)!oo(r)&&!fc(r)&&n++,r=xn(r,1);return n}const nl=9,D0=17;function Tx(t,e){if(t>e)return 0;let n=0,r=new Date(t);r.setHours(0,0,0,0);const a=new Date(e);for(a.setHours(0,0,0,0);r<=a;){if(!oo(r)&&!fc(r)){const i=new Date(r);i.setHours(nl,0,0,0);const s=new Date(r);s.setHours(D0,0,0,0);const l=jl(t,i)?t:i,c=eo(e,s)?e:s;l<c&&(n+=AE(c,l))}r=xn(r,1)}return Number((n/60).toFixed(1))}function wj(t,e){if(e<=0)return t;let n=e*60,r=new Date(t);for(;n>0;){if(r.getHours()<nl&&r.setHours(nl,0,0,0),r.getHours()>=D0){r=xn(r,1),r.setHours(nl,0,0,0);continue}if(oo(r)||fc(r)){r=xn(r,1),r.setHours(nl,0,0,0);continue}const a=new Date(r);a.setHours(D0,0,0,0);const i=AE(a,r);i>n?(r=fP(r,n),n=0):(r=xn(r,1),r.setHours(nl,0,0,0),n-=i)}return r}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _j={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Se=(t,e)=>{const n=L.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,...d},u)=>L.createElement("svg",{ref:u,..._j,width:a,height:a,stroke:r,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${Cj(t)}`,l].join(" "),...d},[...e.map(([h,p])=>L.createElement(h,p)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=Se("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=Se("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=Se("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=Se("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=Se("ArrowLeftCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=Se("ArrowRightCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=Se("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=Se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=Se("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=Se("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=Se("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=Se("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=Se("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=Se("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=Se("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=Se("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=Se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=Se("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=Se("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=Se("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=Se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=Se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=Se("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=Se("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=Se("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=Se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=Se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=Se("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=Se("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=Se("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=Se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=Se("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=Se("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=Se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=Se("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=Se("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=Se("FileQuestion",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M10 10.3c.2-.4.5-.8.9-1a2.1 2.1 0 0 1 2.6.4c.3.4.5.8.5 1.3 0 1.3-2 2-2 2",key:"1umxtm"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=Se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=Se("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=Se("FolderInput",[["path",{d:"M2 9V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-1",key:"fm4g5t"}],["path",{d:"M2 13h10",key:"pgb2dq"}],["path",{d:"m9 16 3-3-3-3",key:"6m91ic"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=Se("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=Se("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=Se("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=Se("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=Se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=Se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=Se("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=Se("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=Se("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=Se("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=Se("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=Se("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=Se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=Se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=Se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=Se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=Se("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=Se("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=Se("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=Se("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=Se("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=Se("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=Se("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=Se("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=Se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=Se("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=Se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=Se("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=Se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=Se("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=Se("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=Se("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=Se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=Se("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=Se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=Se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=Se("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=Se("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=Se("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=Se("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=Se("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function iM(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return L.useMemo(()=>r=>{e.forEach(a=>a(r))},e)}const Qp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function mc(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function Px(t){return"nodeType"in t}function Nr(t){var e,n;return t?mc(t)?t:Px(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function jx(t){const{Document:e}=Nr(t);return t instanceof e}function ku(t){return mc(t)?!1:t instanceof Nr(t).HTMLElement}function SE(t){return t instanceof Nr(t).SVGElement}function gc(t){return t?mc(t)?t.document:Px(t)?jx(t)?t:ku(t)||SE(t)?t.ownerDocument:document:document:document}const Ra=Qp?L.useLayoutEffect:L.useEffect;function Mx(t){const e=L.useRef(t);return Ra(()=>{e.current=t}),L.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.current==null?void 0:e.current(...r)},[])}function sM(){const t=L.useRef(null),e=L.useCallback((r,a)=>{t.current=setInterval(r,a)},[]),n=L.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function tu(t,e){e===void 0&&(e=[t]);const n=L.useRef(t);return Ra(()=>{n.current!==t&&(n.current=t)},e),n}function Du(t,e){const n=L.useRef();return L.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Jf(t){const e=Mx(t),n=L.useRef(null),r=L.useCallback(a=>{a!==n.current&&(e==null||e(a,n.current)),n.current=a},[]);return[n,r]}function O0(t){const e=L.useRef();return L.useEffect(()=>{e.current=t},[t]),e.current}let hg={};function Ru(t,e){return L.useMemo(()=>{if(e)return e;const n=hg[t]==null?0:hg[t]+1;return hg[t]=n,t+"-"+n},[t,e])}function TE(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((i,s)=>{const l=Object.entries(s);for(const[c,d]of l){const u=i[c];u!=null&&(i[c]=u+t*d)}return i},{...e})}}const Ol=TE(1),nu=TE(-1);function oM(t){return"clientX"in t&&"clientY"in t}function Lx(t){if(!t)return!1;const{KeyboardEvent:e}=Nr(t.target);return e&&t instanceof e}function lM(t){if(!t)return!1;const{TouchEvent:e}=Nr(t.target);return e&&t instanceof e}function F0(t){if(lM(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return oM(t)?{x:t.clientX,y:t.clientY}:null}const Jl=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Jl.Translate.toString(t),Jl.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),lw="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function cM(t){return t.matches(lw)?t:t.querySelector(lw)}const dM={display:"none"};function uM(t){let{id:e,value:n}=t;return ue.createElement("div",{id:e,style:dM},n)}function hM(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ue.createElement("div",{id:e,style:a,role:"status","aria-live":r,"aria-atomic":!0},n)}function fM(){const[t,e]=L.useState("");return{announce:L.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const kE=L.createContext(null);function pM(t){const e=L.useContext(kE);L.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function mM(){const[t]=L.useState(()=>new Set),e=L.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[L.useCallback(r=>{let{type:a,event:i}=r;t.forEach(s=>{var l;return(l=s[a])==null?void 0:l.call(s,i)})},[t]),e]}const gM={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},AM={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function xM(t){let{announcements:e=AM,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=gM}=t;const{announce:i,announcement:s}=fM(),l=Ru("DndLiveRegion"),[c,d]=L.useState(!1);if(L.useEffect(()=>{d(!0)},[]),pM(L.useMemo(()=>({onDragStart(h){let{active:p}=h;i(e.onDragStart({active:p}))},onDragMove(h){let{active:p,over:m}=h;e.onDragMove&&i(e.onDragMove({active:p,over:m}))},onDragOver(h){let{active:p,over:m}=h;i(e.onDragOver({active:p,over:m}))},onDragEnd(h){let{active:p,over:m}=h;i(e.onDragEnd({active:p,over:m}))},onDragCancel(h){let{active:p,over:m}=h;i(e.onDragCancel({active:p,over:m}))}}),[i,e])),!c)return null;const u=ue.createElement(ue.Fragment,null,ue.createElement(uM,{id:r,value:a.draggable}),ue.createElement(hM,{id:l,announcement:s}));return n?Js.createPortal(u,n):u}var Cn;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Cn||(Cn={}));function Zf(){}function ep(t,e){return L.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function DE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return L.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const ya=Object.freeze({x:0,y:0});function RE(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function PE(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function yM(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function cw(t){let{left:e,top:n,height:r,width:a}=t;return[{x:e,y:n},{x:e+a,y:n},{x:e,y:n+r},{x:e+a,y:n+r}]}function jE(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function dw(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const ME=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const a=dw(e,e.left,e.top),i=[];for(const s of r){const{id:l}=s,c=n.get(l);if(c){const d=RE(dw(c),a);i.push({id:l,data:{droppableContainer:s,value:d}})}}return i.sort(PE)},vM=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const a=cw(e),i=[];for(const s of r){const{id:l}=s,c=n.get(l);if(c){const d=cw(c),u=a.reduce((p,m,g)=>p+RE(d[g],m),0),h=Number((u/4).toFixed(4));i.push({id:l,data:{droppableContainer:s,value:h}})}}return i.sort(PE)};function bM(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),a=Math.min(e.left+e.width,t.left+t.width),i=Math.min(e.top+e.height,t.top+t.height),s=a-r,l=i-n;if(r<a&&n<i){const c=e.width*e.height,d=t.width*t.height,u=s*l,h=u/(c+d-u);return Number(h.toFixed(4))}return 0}const wM=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const a=[];for(const i of r){const{id:s}=i,l=n.get(s);if(l){const c=bM(l,e);c>0&&a.push({id:s,data:{droppableContainer:i,value:c}})}}return a.sort(yM)};function _M(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function LE(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:ya}function CM(t){return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return a.reduce((s,l)=>({...s,top:s.top+t*l.y,bottom:s.bottom+t*l.y,left:s.left+t*l.x,right:s.right+t*l.x}),{...n})}}const EM=CM(1);function NM(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function IM(t,e,n){const r=NM(e);if(!r)return t;const{scaleX:a,scaleY:i,x:s,y:l}=r,c=t.left-s-(1-a)*parseFloat(n),d=t.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=a?t.width/a:t.width,h=i?t.height/i:t.height;return{width:u,height:h,top:d,right:c+u,bottom:d+h,left:c}}const SM={ignoreTransform:!1};function Ac(t,e){e===void 0&&(e=SM);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:u}=Nr(t).getComputedStyle(t);d&&(n=IM(n,d,u))}const{top:r,left:a,width:i,height:s,bottom:l,right:c}=n;return{top:r,left:a,width:i,height:s,bottom:l,right:c}}function uw(t){return Ac(t,{ignoreTransform:!0})}function TM(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function kM(t,e){return e===void 0&&(e=Nr(t).getComputedStyle(t)),e.position==="fixed"}function DM(t,e){e===void 0&&(e=Nr(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=e[a];return typeof i=="string"?n.test(i):!1})}function Xp(t,e){const n=[];function r(a){if(e!=null&&n.length>=e||!a)return n;if(jx(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!ku(a)||SE(a)||n.includes(a))return n;const i=Nr(t).getComputedStyle(a);return a!==t&&DM(a,i)&&n.push(a),kM(a,i)?n:r(a.parentNode)}return t?r(t):n}function OE(t){const[e]=Xp(t,1);return e??null}function fg(t){return!Qp||!t?null:mc(t)?t:Px(t)?jx(t)||t===gc(t).scrollingElement?window:ku(t)?t:null:null}function FE(t){return mc(t)?t.scrollX:t.scrollLeft}function BE(t){return mc(t)?t.scrollY:t.scrollTop}function B0(t){return{x:FE(t),y:BE(t)}}var Rn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Rn||(Rn={}));function zE(t){return!Qp||!t?!1:t===document.scrollingElement}function VE(t){const e={x:0,y:0},n=zE(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},a=t.scrollTop<=e.y,i=t.scrollLeft<=e.x,s=t.scrollTop>=r.y,l=t.scrollLeft>=r.x;return{isTop:a,isLeft:i,isBottom:s,isRight:l,maxScroll:r,minScroll:e}}const RM={x:.2,y:.2};function PM(t,e,n,r,a){let{top:i,left:s,right:l,bottom:c}=n;r===void 0&&(r=10),a===void 0&&(a=RM);const{isTop:d,isBottom:u,isLeft:h,isRight:p}=VE(t),m={x:0,y:0},g={x:0,y:0},A={height:e.height*a.y,width:e.width*a.x};return!d&&i<=e.top+A.height?(m.y=Rn.Backward,g.y=r*Math.abs((e.top+A.height-i)/A.height)):!u&&c>=e.bottom-A.height&&(m.y=Rn.Forward,g.y=r*Math.abs((e.bottom-A.height-c)/A.height)),!p&&l>=e.right-A.width?(m.x=Rn.Forward,g.x=r*Math.abs((e.right-A.width-l)/A.width)):!h&&s<=e.left+A.width&&(m.x=Rn.Backward,g.x=r*Math.abs((e.left+A.width-s)/A.width)),{direction:m,speed:g}}function jM(t){if(t===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:e,left:n,right:r,bottom:a}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:a,width:t.clientWidth,height:t.clientHeight}}function UE(t){return t.reduce((e,n)=>Ol(e,B0(n)),ya)}function MM(t){return t.reduce((e,n)=>e+FE(n),0)}function LM(t){return t.reduce((e,n)=>e+BE(n),0)}function OM(t,e){if(e===void 0&&(e=Ac),!t)return;const{top:n,left:r,bottom:a,right:i}=e(t);OE(t)&&(a<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const FM=[["x",["left","right"],MM],["y",["top","bottom"],LM]];class Ox{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Xp(n),a=UE(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,s,l]of FM)for(const c of s)Object.defineProperty(this,c,{get:()=>{const d=l(r),u=a[i]-d;return this.rect[c]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Cd{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var a;(a=this.target)==null||a.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function BM(t){const{EventTarget:e}=Nr(t);return t instanceof e?t:gc(t)}function pg(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var $r;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})($r||($r={}));function hw(t){t.preventDefault()}function zM(t){t.stopPropagation()}var Et;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Et||(Et={}));const GE={start:[Et.Space,Et.Enter],cancel:[Et.Esc],end:[Et.Space,Et.Enter,Et.Tab]},VM=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Et.Right:return{...n,x:n.x+25};case Et.Left:return{...n,x:n.x-25};case Et.Down:return{...n,y:n.y+25};case Et.Up:return{...n,y:n.y-25}}};class Kp{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Cd(gc(n)),this.windowListeners=new Cd(Nr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add($r.Resize,this.handleCancel),this.windowListeners.add($r.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add($r.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&OM(r),n(ya)}handleKeyDown(e){if(Lx(e)){const{active:n,context:r,options:a}=this.props,{keyboardCodes:i=GE,coordinateGetter:s=VM,scrollBehavior:l="smooth"}=a,{code:c}=e;if(i.end.includes(c)){this.handleEnd(e);return}if(i.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:d}=r.current,u=d?{x:d.left,y:d.top}:ya;this.referenceCoordinates||(this.referenceCoordinates=u);const h=s(e,{active:n,context:r.current,currentCoordinates:u});if(h){const p=nu(h,u),m={x:0,y:0},{scrollableAncestors:g}=r.current;for(const A of g){const v=e.code,{isTop:x,isRight:y,isLeft:w,isBottom:T,maxScroll:I,minScroll:R}=VE(A),_=jM(A),N={x:Math.min(v===Et.Right?_.right-_.width/2:_.right,Math.max(v===Et.Right?_.left:_.left+_.width/2,h.x)),y:Math.min(v===Et.Down?_.bottom-_.height/2:_.bottom,Math.max(v===Et.Down?_.top:_.top+_.height/2,h.y))},E=v===Et.Right&&!y||v===Et.Left&&!w,k=v===Et.Down&&!T||v===Et.Up&&!x;if(E&&N.x!==h.x){const P=A.scrollLeft+p.x,C=v===Et.Right&&P<=I.x||v===Et.Left&&P>=R.x;if(C&&!p.y){A.scrollTo({left:P,behavior:l});return}C?m.x=A.scrollLeft-P:m.x=v===Et.Right?A.scrollLeft-I.x:A.scrollLeft-R.x,m.x&&A.scrollBy({left:-m.x,behavior:l});break}else if(k&&N.y!==h.y){const P=A.scrollTop+p.y,C=v===Et.Down&&P<=I.y||v===Et.Up&&P>=R.y;if(C&&!p.x){A.scrollTo({top:P,behavior:l});return}C?m.y=A.scrollTop-P:m.y=v===Et.Down?A.scrollTop-I.y:A.scrollTop-R.y,m.y&&A.scrollBy({top:-m.y,behavior:l});break}}this.handleMove(e,Ol(nu(h,this.referenceCoordinates),m))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Kp.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=GE,onActivation:a}=e,{active:i}=n;const{code:s}=t.nativeEvent;if(r.start.includes(s)){const l=i.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),a==null||a({event:t.nativeEvent}),!0)}return!1}}];function fw(t){return!!(t&&"distance"in t)}function pw(t){return!!(t&&"delay"in t)}class Fx{constructor(e,n,r){var a;r===void 0&&(r=BM(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:i}=e,{target:s}=i;this.props=e,this.events=n,this.document=gc(s),this.documentListeners=new Cd(this.document),this.listeners=new Cd(r),this.windowListeners=new Cd(Nr(s)),this.initialCoordinates=(a=F0(i))!=null?a:ya,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add($r.Resize,this.handleCancel),this.windowListeners.add($r.DragStart,hw),this.windowListeners.add($r.VisibilityChange,this.handleCancel),this.windowListeners.add($r.ContextMenu,hw),this.documentListeners.add($r.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(pw(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(fw(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:a}=this.props;a(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add($r.Click,zM,{capture:!0}),this.removeTextSelection(),this.documentListeners.add($r.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:a,props:i}=this,{onMove:s,options:{activationConstraint:l}}=i;if(!a)return;const c=(n=F0(e))!=null?n:ya,d=nu(a,c);if(!r&&l){if(fw(l)){if(l.tolerance!=null&&pg(d,l.tolerance))return this.handleCancel();if(pg(d,l.distance))return this.handleStart()}if(pw(l)&&pg(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}e.cancelable&&e.preventDefault(),s(c)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Et.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const UM={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Yp extends Fx{constructor(e){const{event:n}=e,r=gc(n.target);super(e,UM,r)}}Yp.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const GM={move:{name:"mousemove"},end:{name:"mouseup"}};var z0;(function(t){t[t.RightClick=2]="RightClick"})(z0||(z0={}));class WM extends Fx{constructor(e){super(e,GM,gc(e.event.target))}}WM.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===z0.RightClick?!1:(r==null||r({event:n}),!0)}}];const mg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class $M extends Fx{constructor(e){super(e,mg)}static setup(){return window.addEventListener(mg.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(mg.move.name,e)};function e(){}}}$M.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:a}=n;return a.length>1?!1:(r==null||r({event:n}),!0)}}];var Ed;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Ed||(Ed={}));var tp;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(tp||(tp={}));function qM(t){let{acceleration:e,activator:n=Ed.Pointer,canScroll:r,draggingRect:a,enabled:i,interval:s=5,order:l=tp.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:h,threshold:p}=t;const m=QM({delta:h,disabled:!i}),[g,A]=sM(),v=L.useRef({x:0,y:0}),x=L.useRef({x:0,y:0}),y=L.useMemo(()=>{switch(n){case Ed.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Ed.DraggableRect:return a}},[n,a,c]),w=L.useRef(null),T=L.useCallback(()=>{const R=w.current;if(!R)return;const _=v.current.x*x.current.x,N=v.current.y*x.current.y;R.scrollBy(_,N)},[]),I=L.useMemo(()=>l===tp.TreeOrder?[...d].reverse():d,[l,d]);L.useEffect(()=>{if(!i||!d.length||!y){A();return}for(const R of I){if((r==null?void 0:r(R))===!1)continue;const _=d.indexOf(R),N=u[_];if(!N)continue;const{direction:E,speed:k}=PM(R,N,y,e,p);for(const P of["x","y"])m[P][E[P]]||(k[P]=0,E[P]=0);if(k.x>0||k.y>0){A(),w.current=R,g(T,s),v.current=k,x.current=E;return}}v.current={x:0,y:0},x.current={x:0,y:0},A()},[e,T,r,A,i,s,JSON.stringify(y),JSON.stringify(m),g,d,I,u,JSON.stringify(p)])}const HM={x:{[Rn.Backward]:!1,[Rn.Forward]:!1},y:{[Rn.Backward]:!1,[Rn.Forward]:!1}};function QM(t){let{delta:e,disabled:n}=t;const r=O0(e);return Du(a=>{if(n||!r||!a)return HM;const i={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Rn.Backward]:a.x[Rn.Backward]||i.x===-1,[Rn.Forward]:a.x[Rn.Forward]||i.x===1},y:{[Rn.Backward]:a.y[Rn.Backward]||i.y===-1,[Rn.Forward]:a.y[Rn.Forward]||i.y===1}}},[n,e,r])}function XM(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Du(a=>{var i;return e==null?null:(i=r??a)!=null?i:null},[r,e])}function KM(t,e){return L.useMemo(()=>t.reduce((n,r)=>{const{sensor:a}=r,i=a.activators.map(s=>({eventName:s.eventName,handler:e(s.handler,r)}));return[...n,...i]},[]),[t,e])}var ru;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(ru||(ru={}));var V0;(function(t){t.Optimized="optimized"})(V0||(V0={}));const mw=new Map;function YM(t,e){let{dragging:n,dependencies:r,config:a}=e;const[i,s]=L.useState(null),{frequency:l,measure:c,strategy:d}=a,u=L.useRef(t),h=v(),p=tu(h),m=L.useCallback(function(x){x===void 0&&(x=[]),!p.current&&s(y=>y===null?x:y.concat(x.filter(w=>!y.includes(w))))},[p]),g=L.useRef(null),A=Du(x=>{if(h&&!n)return mw;if(!x||x===mw||u.current!==t||i!=null){const y=new Map;for(let w of t){if(!w)continue;if(i&&i.length>0&&!i.includes(w.id)&&w.rect.current){y.set(w.id,w.rect.current);continue}const T=w.node.current,I=T?new Ox(c(T),T):null;w.rect.current=I,I&&y.set(w.id,I)}return y}return x},[t,i,n,h,c]);return L.useEffect(()=>{u.current=t},[t]),L.useEffect(()=>{h||m()},[n,h]),L.useEffect(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),L.useEffect(()=>{h||typeof l!="number"||g.current!==null||(g.current=setTimeout(()=>{m(),g.current=null},l))},[l,h,m,...r]),{droppableRects:A,measureDroppableContainers:m,measuringScheduled:i!=null};function v(){switch(d){case ru.Always:return!1;case ru.BeforeDragging:return n;default:return!n}}}function WE(t,e){return Du(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function JM(t,e){return WE(t,e)}function ZM(t){let{callback:e,disabled:n}=t;const r=Mx(e),a=L.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return L.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function Jp(t){let{callback:e,disabled:n}=t;const r=Mx(e),a=L.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return L.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function eL(t){return new Ox(Ac(t),t)}function gw(t,e,n){e===void 0&&(e=eL);const[r,a]=L.useState(null);function i(){a(c=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=c??n)!=null?d:null}const u=e(t);return JSON.stringify(c)===JSON.stringify(u)?c:u})}const s=ZM({callback(c){if(t)for(const d of c){const{type:u,target:h}=d;if(u==="childList"&&h instanceof HTMLElement&&h.contains(t)){i();break}}}}),l=Jp({callback:i});return Ra(()=>{i(),t?(l==null||l.observe(t),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),s==null||s.disconnect())},[t]),r}function tL(t){const e=WE(t);return LE(t,e)}const Aw=[];function nL(t){const e=L.useRef(t),n=Du(r=>t?r&&r!==Aw&&t&&e.current&&t.parentNode===e.current.parentNode?r:Xp(t):Aw,[t]);return L.useEffect(()=>{e.current=t},[t]),n}function rL(t){const[e,n]=L.useState(null),r=L.useRef(t),a=L.useCallback(i=>{const s=fg(i.target);s&&n(l=>l?(l.set(s,B0(s)),new Map(l)):null)},[]);return L.useEffect(()=>{const i=r.current;if(t!==i){s(i);const l=t.map(c=>{const d=fg(c);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,B0(d)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=t}return()=>{s(t),s(i)};function s(l){l.forEach(c=>{const d=fg(c);d==null||d.removeEventListener("scroll",a)})}},[a,t]),L.useMemo(()=>t.length?e?Array.from(e.values()).reduce((i,s)=>Ol(i,s),ya):UE(t):ya,[t,e])}function xw(t,e){e===void 0&&(e=[]);const n=L.useRef(null);return L.useEffect(()=>{n.current=null},e),L.useEffect(()=>{const r=t!==ya;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?nu(t,n.current):ya}function aL(t){L.useEffect(()=>{if(!Qp)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function iL(t,e){return L.useMemo(()=>t.reduce((n,r)=>{let{eventName:a,handler:i}=r;return n[a]=s=>{i(s,e)},n},{}),[t,e])}function $E(t){return L.useMemo(()=>t?TM(t):null,[t])}const yw=[];function sL(t,e){e===void 0&&(e=Ac);const[n]=t,r=$E(n?Nr(n):null),[a,i]=L.useState(yw);function s(){i(()=>t.length?t.map(c=>zE(c)?r:new Ox(e(c),c)):yw)}const l=Jp({callback:s});return Ra(()=>{l==null||l.disconnect(),s(),t.forEach(c=>l==null?void 0:l.observe(c))},[t]),a}function oL(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return ku(e)?e:t}function lL(t){let{measure:e}=t;const[n,r]=L.useState(null),a=L.useCallback(d=>{for(const{target:u}of d)if(ku(u)){r(h=>{const p=e(u);return h?{...h,width:p.width,height:p.height}:p});break}},[e]),i=Jp({callback:a}),s=L.useCallback(d=>{const u=oL(d);i==null||i.disconnect(),u&&(i==null||i.observe(u)),r(u?e(u):null)},[e,i]),[l,c]=Jf(s);return L.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const cL=[{sensor:Yp,options:{}},{sensor:Kp,options:{}}],dL={current:{}},ef={draggable:{measure:uw},droppable:{measure:uw,strategy:ru.WhileDragging,frequency:V0.Optimized},dragOverlay:{measure:Ac}};class Nd extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const uL={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Nd,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Zf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ef,measureDroppableContainers:Zf,windowRect:null,measuringScheduled:!1},hL={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Zf,draggableNodes:new Map,over:null,measureDroppableContainers:Zf},Zp=L.createContext(hL),qE=L.createContext(uL);function fL(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Nd}}}function pL(t,e){switch(e.type){case Cn.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Cn.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Cn.DragEnd:case Cn.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Cn.RegisterDroppable:{const{element:n}=e,{id:r}=n,a=new Nd(t.droppable.containers);return a.set(r,n),{...t,droppable:{...t.droppable,containers:a}}}case Cn.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new Nd(t.droppable.containers);return s.set(n,{...i,disabled:a}),{...t,droppable:{...t.droppable,containers:s}}}case Cn.UnregisterDroppable:{const{id:n,key:r}=e,a=t.droppable.containers.get(n);if(!a||r!==a.key)return t;const i=new Nd(t.droppable.containers);return i.delete(n),{...t,droppable:{...t.droppable,containers:i}}}default:return t}}function mL(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:a}=L.useContext(Zp),i=O0(r),s=O0(n==null?void 0:n.id);return L.useEffect(()=>{if(!e&&!r&&i&&s!=null){if(!Lx(i)||document.activeElement===i.target)return;const l=a.get(s);if(!l)return;const{activatorNode:c,node:d}=l;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const u of[c.current,d.current]){if(!u)continue;const h=cM(u);if(h){h.focus();break}}})}},[r,e,a,s,i]),null}function gL(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((a,i)=>i({transform:a,...r}),n):n}function AL(t){return L.useMemo(()=>({draggable:{...ef.draggable,...t==null?void 0:t.draggable},droppable:{...ef.droppable,...t==null?void 0:t.droppable},dragOverlay:{...ef.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function xL(t){let{activeNode:e,measure:n,initialRect:r,config:a=!0}=t;const i=L.useRef(!1),{x:s,y:l}=typeof a=="boolean"?{x:a,y:a}:a;Ra(()=>{if(!s&&!l||!e){i.current=!1;return}if(i.current||!r)return;const d=e==null?void 0:e.node.current;if(!d||d.isConnected===!1)return;const u=n(d),h=LE(u,r);if(s||(h.x=0),l||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const p=OE(d);p&&p.scrollBy({top:h.y,left:h.x})}},[e,s,l,r,n])}const HE=L.createContext({...ya,scaleX:1,scaleY:1});var Mi;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Mi||(Mi={}));const QE=L.memo(function(e){var n,r,a,i;let{id:s,accessibility:l,autoScroll:c=!0,children:d,sensors:u=cL,collisionDetection:h=wM,measuring:p,modifiers:m,...g}=e;const A=L.useReducer(pL,void 0,fL),[v,x]=A,[y,w]=mM(),[T,I]=L.useState(Mi.Uninitialized),R=T===Mi.Initialized,{draggable:{active:_,nodes:N,translate:E},droppable:{containers:k}}=v,P=_!=null?N.get(_):null,C=L.useRef({initial:null,translated:null}),D=L.useMemo(()=>{var rt;return _!=null?{id:_,data:(rt=P==null?void 0:P.data)!=null?rt:dL,rect:C}:null},[_,P]),b=L.useRef(null),[O,z]=L.useState(null),[G,Q]=L.useState(null),q=tu(g,Object.values(g)),ne=Ru("DndDescribedBy",s),Y=L.useMemo(()=>k.getEnabled(),[k]),K=AL(p),{droppableRects:ce,measureDroppableContainers:ie,measuringScheduled:oe}=YM(Y,{dragging:R,dependencies:[E.x,E.y],config:K.droppable}),ge=XM(N,_),je=L.useMemo(()=>G?F0(G):null,[G]),ye=ht(),me=JM(ge,K.draggable.measure);xL({activeNode:_!=null?N.get(_):null,config:ye.layoutShiftCompensation,initialRect:me,measure:K.draggable.measure});const Te=gw(ge,K.draggable.measure,me),xe=gw(ge?ge.parentElement:null),Ne=L.useRef({activatorEvent:null,active:null,activeNode:ge,collisionRect:null,collisions:null,droppableRects:ce,draggableNodes:N,draggingNode:null,draggingNodeRect:null,droppableContainers:k,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ce=k.getNodeFor((n=Ne.current.over)==null?void 0:n.id),j=lL({measure:K.dragOverlay.measure}),H=(r=j.nodeRef.current)!=null?r:ge,X=R?(a=j.rect)!=null?a:Te:null,F=!!(j.nodeRef.current&&j.rect),B=tL(F?null:Te),U=$E(H?Nr(H):null),Z=nL(R?Ce??ge:null),W=sL(Z),V=gL(m,{transform:{x:E.x-B.x,y:E.y-B.y,scaleX:1,scaleY:1},activatorEvent:G,active:D,activeNodeRect:Te,containerNodeRect:xe,draggingNodeRect:X,over:Ne.current.over,overlayNodeRect:j.rect,scrollableAncestors:Z,scrollableAncestorRects:W,windowRect:U}),te=je?Ol(je,E):null,J=rL(Z),re=xw(J),he=xw(J,[Te]),Ie=Ol(V,re),Ee=X?EM(X,V):null,We=D&&Ee?h({active:D,collisionRect:Ee,droppableRects:ce,droppableContainers:Y,pointerCoordinates:te}):null,pt=jE(We,"id"),[ct,Be]=L.useState(null),Ue=F?V:Ol(V,he),at=_M(Ue,(i=ct==null?void 0:ct.rect)!=null?i:null,Te),Tt=L.useRef(null),mt=L.useCallback((rt,Fe)=>{let{sensor:dt,options:Ft}=Fe;if(b.current==null)return;const _t=N.get(b.current);if(!_t)return;const Bt=rt.nativeEvent,un=new dt({active:b.current,activeNode:_t,event:Bt,options:Ft,context:Ne,onAbort(At){if(!N.get(At))return;const{onDragAbort:mn}=q.current,vn={id:At};mn==null||mn(vn),y({type:"onDragAbort",event:vn})},onPending(At,qn,mn,vn){if(!N.get(At))return;const{onDragPending:jt}=q.current,tn={id:At,constraint:qn,initialCoordinates:mn,offset:vn};jt==null||jt(tn),y({type:"onDragPending",event:tn})},onStart(At){const qn=b.current;if(qn==null)return;const mn=N.get(qn);if(!mn)return;const{onDragStart:vn}=q.current,kt={activatorEvent:Bt,active:{id:qn,data:mn.data,rect:C}};Js.unstable_batchedUpdates(()=>{vn==null||vn(kt),I(Mi.Initializing),x({type:Cn.DragStart,initialCoordinates:At,active:qn}),y({type:"onDragStart",event:kt}),z(Tt.current),Q(Bt)})},onMove(At){x({type:Cn.DragMove,coordinates:At})},onEnd:Ir(Cn.DragEnd),onCancel:Ir(Cn.DragCancel)});Tt.current=un;function Ir(At){return async function(){const{active:mn,collisions:vn,over:kt,scrollAdjustedTranslate:jt}=Ne.current;let tn=null;if(mn&&jt){const{cancelDrop:Vr}=q.current;tn={activatorEvent:Bt,active:mn,collisions:vn,delta:jt,over:kt},At===Cn.DragEnd&&typeof Vr=="function"&&await Promise.resolve(Vr(tn))&&(At=Cn.DragCancel)}b.current=null,Js.unstable_batchedUpdates(()=>{x({type:At}),I(Mi.Uninitialized),Be(null),z(null),Q(null),Tt.current=null;const Vr=At===Cn.DragEnd?"onDragEnd":"onDragCancel";if(tn){const ir=q.current[Vr];ir==null||ir(tn),y({type:Vr,event:tn})}})}}},[N]),Nt=L.useCallback((rt,Fe)=>(dt,Ft)=>{const _t=dt.nativeEvent,Bt=N.get(Ft);if(b.current!==null||!Bt||_t.dndKit||_t.defaultPrevented)return;const un={active:Bt};rt(dt,Fe.options,un)===!0&&(_t.dndKit={capturedBy:Fe.sensor},b.current=Ft,mt(dt,Fe))},[N,mt]),ze=KM(u,Nt);aL(u),Ra(()=>{Te&&T===Mi.Initializing&&I(Mi.Initialized)},[Te,T]),L.useEffect(()=>{const{onDragMove:rt}=q.current,{active:Fe,activatorEvent:dt,collisions:Ft,over:_t}=Ne.current;if(!Fe||!dt)return;const Bt={active:Fe,activatorEvent:dt,collisions:Ft,delta:{x:Ie.x,y:Ie.y},over:_t};Js.unstable_batchedUpdates(()=>{rt==null||rt(Bt),y({type:"onDragMove",event:Bt})})},[Ie.x,Ie.y]),L.useEffect(()=>{const{active:rt,activatorEvent:Fe,collisions:dt,droppableContainers:Ft,scrollAdjustedTranslate:_t}=Ne.current;if(!rt||b.current==null||!Fe||!_t)return;const{onDragOver:Bt}=q.current,un=Ft.get(pt),Ir=un&&un.rect.current?{id:un.id,rect:un.rect.current,data:un.data,disabled:un.disabled}:null,At={active:rt,activatorEvent:Fe,collisions:dt,delta:{x:_t.x,y:_t.y},over:Ir};Js.unstable_batchedUpdates(()=>{Be(Ir),Bt==null||Bt(At),y({type:"onDragOver",event:At})})},[pt]),Ra(()=>{Ne.current={activatorEvent:G,active:D,activeNode:ge,collisionRect:Ee,collisions:We,droppableRects:ce,draggableNodes:N,draggingNode:H,draggingNodeRect:X,droppableContainers:k,over:ct,scrollableAncestors:Z,scrollAdjustedTranslate:Ie},C.current={initial:X,translated:Ee}},[D,ge,We,Ee,N,H,X,ce,k,ct,Z,Ie]),qM({...ye,delta:E,draggingRect:Ee,pointerCoordinates:te,scrollableAncestors:Z,scrollableAncestorRects:W});const gt=L.useMemo(()=>({active:D,activeNode:ge,activeNodeRect:Te,activatorEvent:G,collisions:We,containerNodeRect:xe,dragOverlay:j,draggableNodes:N,droppableContainers:k,droppableRects:ce,over:ct,measureDroppableContainers:ie,scrollableAncestors:Z,scrollableAncestorRects:W,measuringConfiguration:K,measuringScheduled:oe,windowRect:U}),[D,ge,Te,G,We,xe,j,N,k,ce,ct,ie,Z,W,K,oe,U]),vt=L.useMemo(()=>({activatorEvent:G,activators:ze,active:D,activeNodeRect:Te,ariaDescribedById:{draggable:ne},dispatch:x,draggableNodes:N,over:ct,measureDroppableContainers:ie}),[G,ze,D,Te,x,ne,N,ct,ie]);return ue.createElement(kE.Provider,{value:w},ue.createElement(Zp.Provider,{value:vt},ue.createElement(qE.Provider,{value:gt},ue.createElement(HE.Provider,{value:at},d)),ue.createElement(mL,{disabled:(l==null?void 0:l.restoreFocus)===!1})),ue.createElement(xM,{...l,hiddenTextDescribedById:ne}));function ht(){const rt=(O==null?void 0:O.autoScrollEnabled)===!1,Fe=typeof c=="object"?c.enabled===!1:c===!1,dt=R&&!rt&&!Fe;return typeof c=="object"?{...c,enabled:dt}:{enabled:dt}}}),yL=L.createContext(null),vw="button",vL="Draggable";function bL(t){let{id:e,data:n,disabled:r=!1,attributes:a}=t;const i=Ru(vL),{activators:s,activatorEvent:l,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:h,over:p}=L.useContext(Zp),{role:m=vw,roleDescription:g="draggable",tabIndex:A=0}=a??{},v=(c==null?void 0:c.id)===e,x=L.useContext(v?HE:yL),[y,w]=Jf(),[T,I]=Jf(),R=iL(s,e),_=tu(n);Ra(()=>(h.set(e,{id:e,key:i,node:y,activatorNode:T,data:_}),()=>{const E=h.get(e);E&&E.key===i&&h.delete(e)}),[h,e]);const N=L.useMemo(()=>({role:m,tabIndex:A,"aria-disabled":r,"aria-pressed":v&&m===vw?!0:void 0,"aria-roledescription":g,"aria-describedby":u.draggable}),[r,m,A,v,g,u.draggable]);return{active:c,activatorEvent:l,activeNodeRect:d,attributes:N,isDragging:v,listeners:r?void 0:R,node:y,over:p,setNodeRef:w,setActivatorNodeRef:I,transform:x}}function wL(){return L.useContext(qE)}const _L="Droppable",CL={timeout:25};function EL(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:a}=t;const i=Ru(_L),{active:s,dispatch:l,over:c,measureDroppableContainers:d}=L.useContext(Zp),u=L.useRef({disabled:n}),h=L.useRef(!1),p=L.useRef(null),m=L.useRef(null),{disabled:g,updateMeasurementsFor:A,timeout:v}={...CL,...a},x=tu(A??r),y=L.useCallback(()=>{if(!h.current){h.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{d(Array.isArray(x.current)?x.current:[x.current]),m.current=null},v)},[v]),w=Jp({callback:y,disabled:g||!s}),T=L.useCallback((N,E)=>{w&&(E&&(w.unobserve(E),h.current=!1),N&&w.observe(N))},[w]),[I,R]=Jf(T),_=tu(e);return L.useEffect(()=>{!w||!I.current||(w.disconnect(),h.current=!1,w.observe(I.current))},[I,w]),L.useEffect(()=>(l({type:Cn.RegisterDroppable,element:{id:r,key:i,disabled:n,node:I,rect:p,data:_}}),()=>l({type:Cn.UnregisterDroppable,key:i,id:r})),[r]),L.useEffect(()=>{n!==u.current.disabled&&(l({type:Cn.SetDroppableDisabled,id:r,key:i,disabled:n}),u.current.disabled=n)},[r,i,n,l]),{active:s,rect:p,isOver:(c==null?void 0:c.id)===r,node:I,over:c,setNodeRef:R}}function em(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function NL(t,e){return t.reduce((n,r,a)=>{const i=e.get(r);return i&&(n[a]=i),n},Array(t.length))}function Sh(t){return t!==null&&t>=0}function IL(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function SL(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const XE=t=>{let{rects:e,activeIndex:n,overIndex:r,index:a}=t;const i=em(e,r,n),s=e[a],l=i[a];return!l||!s?null:{x:l.left-s.left,y:l.top-s.top,scaleX:l.width/s.width,scaleY:l.height/s.height}},Th={scaleX:1,scaleY:1},KE=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:a,rects:i,overIndex:s}=t;const l=(e=i[n])!=null?e:r;if(!l)return null;if(a===n){const d=i[s];return d?{x:0,y:n<s?d.top+d.height-(l.top+l.height):d.top-l.top,...Th}:null}const c=TL(i,a,n);return a>n&&a<=s?{x:0,y:-l.height-c,...Th}:a<n&&a>=s?{x:0,y:l.height+c,...Th}:{x:0,y:0,...Th}};function TL(t,e,n){const r=t[e],a=t[e-1],i=t[e+1];return r?n<e?a?r.top-(a.top+a.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):a?r.top-(a.top+a.height):0:0}const YE="Sortable",JE=ue.createContext({activeIndex:-1,containerId:YE,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:XE,disabled:{draggable:!1,droppable:!1}});function ZE(t){let{children:e,id:n,items:r,strategy:a=XE,disabled:i=!1}=t;const{active:s,dragOverlay:l,droppableRects:c,over:d,measureDroppableContainers:u}=wL(),h=Ru(YE,n),p=l.rect!==null,m=L.useMemo(()=>r.map(R=>typeof R=="object"&&"id"in R?R.id:R),[r]),g=s!=null,A=s?m.indexOf(s.id):-1,v=d?m.indexOf(d.id):-1,x=L.useRef(m),y=!IL(m,x.current),w=v!==-1&&A===-1||y,T=SL(i);Ra(()=>{y&&g&&u(m)},[y,m,g,u]),L.useEffect(()=>{x.current=m},[m]);const I=L.useMemo(()=>({activeIndex:A,containerId:h,disabled:T,disableTransforms:w,items:m,overIndex:v,useDragOverlay:p,sortedRects:NL(m,c),strategy:a}),[A,h,T.draggable,T.droppable,w,m,v,c,p,a]);return ue.createElement(JE.Provider,{value:I},e)}const kL=t=>{let{id:e,items:n,activeIndex:r,overIndex:a}=t;return em(n,r,a).indexOf(e)},DL=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:a,items:i,newIndex:s,previousItems:l,previousContainerId:c,transition:d}=t;return!d||!r||l!==i&&a===s?!1:n?!0:s!==a&&e===c},RL={duration:200,easing:"ease"},eN="transform",PL=Jl.Transition.toString({property:eN,duration:0,easing:"linear"}),jL={roleDescription:"sortable"};function ML(t){let{disabled:e,index:n,node:r,rect:a}=t;const[i,s]=L.useState(null),l=L.useRef(n);return Ra(()=>{if(!e&&n!==l.current&&r.current){const c=a.current;if(c){const d=Ac(r.current,{ignoreTransform:!0}),u={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(u.x||u.y)&&s(u)}}n!==l.current&&(l.current=n)},[e,n,r,a]),L.useEffect(()=>{i&&s(null)},[i]),i}function tN(t){let{animateLayoutChanges:e=DL,attributes:n,disabled:r,data:a,getNewIndex:i=kL,id:s,strategy:l,resizeObserverConfig:c,transition:d=RL}=t;const{items:u,containerId:h,activeIndex:p,disabled:m,disableTransforms:g,sortedRects:A,overIndex:v,useDragOverlay:x,strategy:y}=L.useContext(JE),w=LL(r,m),T=u.indexOf(s),I=L.useMemo(()=>({sortable:{containerId:h,index:T,items:u},...a}),[h,a,T,u]),R=L.useMemo(()=>u.slice(u.indexOf(s)),[u,s]),{rect:_,node:N,isOver:E,setNodeRef:k}=EL({id:s,data:I,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:R,...c}}),{active:P,activatorEvent:C,activeNodeRect:D,attributes:b,setNodeRef:O,listeners:z,isDragging:G,over:Q,setActivatorNodeRef:q,transform:ne}=bL({id:s,data:I,attributes:{...jL,...n},disabled:w.draggable}),Y=iM(k,O),K=!!P,ce=K&&!g&&Sh(p)&&Sh(v),ie=!x&&G,oe=ie&&ce?ne:null,je=ce?oe??(l??y)({rects:A,activeNodeRect:D,activeIndex:p,overIndex:v,index:T}):null,ye=Sh(p)&&Sh(v)?i({id:s,items:u,activeIndex:p,overIndex:v}):T,me=P==null?void 0:P.id,Te=L.useRef({activeId:me,items:u,newIndex:ye,containerId:h}),xe=u!==Te.current.items,Ne=e({active:P,containerId:h,isDragging:G,isSorting:K,id:s,index:T,items:u,newIndex:Te.current.newIndex,previousItems:Te.current.items,previousContainerId:Te.current.containerId,transition:d,wasDragging:Te.current.activeId!=null}),Ce=ML({disabled:!Ne,index:T,node:N,rect:_});return L.useEffect(()=>{K&&Te.current.newIndex!==ye&&(Te.current.newIndex=ye),h!==Te.current.containerId&&(Te.current.containerId=h),u!==Te.current.items&&(Te.current.items=u)},[K,ye,h,u]),L.useEffect(()=>{if(me===Te.current.activeId)return;if(me!=null&&Te.current.activeId==null){Te.current.activeId=me;return}const H=setTimeout(()=>{Te.current.activeId=me},50);return()=>clearTimeout(H)},[me]),{active:P,activeIndex:p,attributes:b,data:I,rect:_,index:T,newIndex:ye,items:u,isOver:E,isSorting:K,isDragging:G,listeners:z,node:N,overIndex:v,over:Q,setNodeRef:Y,setActivatorNodeRef:q,setDroppableNodeRef:k,setDraggableNodeRef:O,transform:Ce??je,transition:j()};function j(){if(Ce||xe&&Te.current.newIndex===T)return PL;if(!(ie&&!Lx(C)||!d)&&(K||Ne))return Jl.Transition.toString({...d,property:eN})}}function LL(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}function np(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const OL=[Et.Down,Et.Right,Et.Up,Et.Left],nN=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:a,droppableContainers:i,over:s,scrollableAncestors:l}}=e;if(OL.includes(t.code)){if(t.preventDefault(),!n||!r)return;const c=[];i.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const p=a.get(h.id);if(p)switch(t.code){case Et.Down:r.top<p.top&&c.push(h);break;case Et.Up:r.top>p.top&&c.push(h);break;case Et.Left:r.left>p.left&&c.push(h);break;case Et.Right:r.left<p.left&&c.push(h);break}});const d=vM({collisionRect:r,droppableRects:a,droppableContainers:c});let u=jE(d,"id");if(u===(s==null?void 0:s.id)&&d.length>1&&(u=d[1].id),u!=null){const h=i.get(n.id),p=i.get(u),m=p?a.get(p.id):null,g=p==null?void 0:p.node.current;if(g&&m&&h&&p){const v=Xp(g).some((R,_)=>l[_]!==R),x=rN(h,p),y=FL(h,p),w=v||!x?{x:0,y:0}:{x:y?r.width-m.width:0,y:y?r.height-m.height:0},T={x:m.left,y:m.top};return w.x&&w.y?T:nu(T,w)}}}};function rN(t,e){return!np(t)||!np(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function FL(t,e){return!np(t)||!np(e)||!rN(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const bw=({task:t,originalTask:e,allTasks:n,rowHeight:r,isSelected:a,onSelect:i,onEdit:s,onIndent:l,onOutdent:c,onDeleteTask:d,isCompact:u,onToggleCollapse:h,isCollapsed:p,hasChildren:m})=>{const{attributes:g,listeners:A,setNodeRef:v,transform:x,transition:y,isDragging:w}=tN({id:t.id,disabled:u}),T={transform:Jl.Transform.toString(x),transition:y,height:r,zIndex:w?2:1,position:"relative",touchAction:"pan-x pan-y"};let I=0;if(e&&e.parent){I=1;let _=e,N=0;const E=10;for(;_.parent&&N<E;){const k=n.find(P=>P.id===_.parent);if(!k)break;N++,_=k}N>0&&(I=N)}const R=(u?8:20)+I*(u?12:24);return o.jsxs("div",{ref:v,style:T,onClick:()=>i(t.id),className:`flex items-center border-b border-gray-100 transition-colors group ${a?"bg-indigo-50 border-indigo-100":"hover:bg-gray-50 bg-white"} ${w?"shadow-lg ring-1 ring-indigo-500 opacity-90":""}`,children:[o.jsxs("div",{className:`px-2 truncate font-medium text-gray-700 flex-1 border-r border-gray-100 h-full flex items-center gap-2 ${u?"text-[11px]":""}`,style:{width:u?"180px":"280px",minWidth:u?"180px":"280px"},children:[!u&&o.jsx("div",{...g,...A,className:"cursor-grab hover:text-indigo-600 text-gray-400 p-1 flex-shrink-0",children:o.jsx(EE,{size:14})}),o.jsx("div",{style:{paddingLeft:`${R}px`},className:"flex items-center",children:t.type==="project"||m?o.jsx("button",{onClick:_=>{_.stopPropagation(),h&&h(t.id)},className:"mr-2 p-0.5 rounded-sm flex items-center justify-center transition-colors shadow-sm bg-white hover:bg-indigo-50 text-indigo-600 ring-1 ring-indigo-600",style:{width:u?14:18,height:u?14:18},title:p?"Expandir":"Recolher",children:p?o.jsx(Mn,{size:u?10:12,strokeWidth:3}):o.jsx(NE,{size:u?10:12,strokeWidth:3})}):null}),o.jsx("div",{className:`flex-1 cursor-pointer truncate ${t.type==="project"||m?"font-bold text-blue-600":""} text-[11px] flex items-center h-full`,onClick:_=>{_.stopPropagation(),e&&s(e)},title:e?e.name:t.name,children:e?e.name:t.name}),o.jsxs("div",{className:"flex items-center gap-0.5 mr-1",children:[o.jsx("button",{onClick:_=>{_.stopPropagation(),e&&c(e)},className:"p-0.5 hover:bg-gray-200 rounded text-gray-400 hover:text-indigo-600",title:"Diminuir Recuo",children:o.jsx(Zd,{size:12})}),o.jsx("button",{onClick:_=>{_.stopPropagation(),e&&l(e)},className:"p-0.5 hover:bg-gray-200 rounded text-gray-400 hover:text-indigo-600",title:"Aumentar Recuo",children:o.jsx(xo,{size:12})}),o.jsx("button",{onClick:_=>{_.stopPropagation(),e&&d&&confirm("Tem certeza que deseja excluir esta tarefa?")&&d(e.id)},className:"p-0.5 hover:bg-red-50 rounded text-gray-400 hover:text-red-500",title:"Excluir",children:o.jsx($n,{size:12})})]})]}),o.jsx("div",{className:"px-4 truncate text-gray-500 border-r border-gray-100 h-full flex items-center justify-center cursor-pointer text-[11px]",style:{width:u?"80px":"100px",minWidth:u?"80px":"100px"},onClick:_=>{_.stopPropagation(),e&&s(e)},children:t.start.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}),o.jsx("div",{className:"px-4 truncate text-gray-500 h-full flex items-center justify-center cursor-pointer text-[11px]",style:{width:u?"80px":"100px",minWidth:u?"80px":"100px"},onClick:_=>{_.stopPropagation(),e&&s(e)},children:t.end.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})}),o.jsxs("div",{className:"px-4 truncate text-gray-500 h-full flex items-center justify-center cursor-pointer text-[11px] bg-gray-50/50",style:{width:u?"60px":"80px",minWidth:u?"60px":"80px"},title:"Durao em Dias teis",children:[Jr(t.start,t.end),"d"]})]})},BL=({tasks:t,onTaskChange:e,onEditTask:n,onAddTask:r,onDeleteTask:a,onIndent:i,onOutdent:s,onReorderTasks:l,isModalOpen:c=!1,onLandscapeModeChange:d,onViewModeChange:u,aiConfidence:h})=>{const[p,m]=L.useState(null),g=ue.useRef(null),A=ue.useRef(null),v=H=>{const X=window.innerWidth*.05,F=window.innerWidth*.05,B=H==="left"||H==="right",U=H==="up"||H==="down";if(g.current){const Z=g.current.querySelectorAll("div");let W=!1;if(Z.forEach(V=>{const te=window.getComputedStyle(V);B&&(te.overflowX==="auto"||te.overflowX==="scroll")&&V.scrollWidth>V.clientWidth&&(V.scrollBy({left:H==="right"?X:-X,behavior:"auto"}),W=!0),U&&(te.overflowY==="auto"||te.overflowY==="scroll")&&V.scrollHeight>V.clientHeight&&(V.scrollBy({top:H==="down"?F:-F,behavior:"auto"}),W=!0)}),W)return}A.current&&(B?A.current.scrollBy({left:H==="right"?X:-X,behavior:"auto"}):A.current.scrollBy({top:H==="down"?F:-F,behavior:"auto"}))},x=ue.useRef(null),y=()=>{x.current&&(cancelAnimationFrame(x.current),x.current=null)},w=H=>{y();const X=()=>{v(H),x.current=requestAnimationFrame(X)};X()},[T,I]=L.useState(!1);L.useEffect(()=>{d==null||d(T)},[T,d]);const[R,_]=L.useState(!1),[N,E]=L.useState(Qe.Year);L.useEffect(()=>{u==null||u(N)},[N,u]);const[k,P]=L.useState([]),[C,D]=L.useState(!0),[b,O]=L.useState(!1),[z,G]=L.useState(typeof window<"u"?window.innerWidth<1024:!1),[Q,q]=L.useState(!1),ne=ue.useRef(!1),Y=ue.useRef(!1);L.useEffect(()=>{if(t.length>0&&!Y.current){const H=Array.from(new Set(t.filter(X=>t.some(F=>F.parent===X.id)).map(X=>X.id)));P(H),Y.current=!0}},[t]),L.useEffect(()=>{if(N===Qe.Year){const H=setTimeout(()=>{g.current&&g.current.querySelectorAll("div").forEach(F=>{const B=window.getComputedStyle(F);(B.overflowX==="auto"||B.overflowX==="scroll")&&(F.scrollLeft=0)})},100);return()=>clearTimeout(H)}},[N]);const K=H=>{P(X=>X.includes(H)?X.filter(F=>F!==H):[...X,H])};L.useEffect(()=>{_(!!T)},[T]);const ce=DE(ep(Yp,{activationConstraint:{distance:15}}),ep(Kp,{coordinateGetter:nN}));L.useEffect(()=>{const H=()=>{G(window.innerWidth<1024),window.innerWidth>=1024&&T&&I(!1)};return window.addEventListener("resize",H),()=>window.removeEventListener("resize",H)},[T]),L.useEffect(()=>{ne.current=!1;const H=g.current;if(!H)return;let X;const F=()=>{var ct;X&&X.disconnect();const Z=Array.from(H.querySelectorAll("svg")).filter(Be=>!Be.closest("button")&&!Be.closest(".icon-wrapper"));let W=null,V=new Date;if(V.setHours(0,0,0,0),t.length>0){const Be=t.reduce((Ue,at)=>new Date(at.start)<Ue?new Date(at.start):Ue,new Date(864e13));Be<V&&(V=Be)}const te={janeiro:0,fevereiro:1,maro:2,abril:3,maio:4,junho:5,julho:6,agosto:7,setembro:8,outubro:9,novembro:10,dezembro:11,jan:0,fev:1,mar:2,abr:3,mai:4,jun:5,jul:6,ago:7,set:8,out:9,nov:10,dez:11},J={"Seg.,":"S","Ter.,":"T","Qua.,":"Q","Qui.,":"Q","Sex.,":"S","Sb.,":"S","Dom.,":"D","seg.,":"s","ter.,":"t","qua.,":"q","qui.,":"q","sex.,":"s","sb.,":"s","dom.,":"d"},re=new Date;re.setHours(0,0,0,0);const he=[],Ie=new Set;let Ee=null,We=0;for(const Be of Z){const Ue=Array.from(Be.querySelectorAll("text"));let at=V.getMonth(),Tt=V.getFullYear();const mt=Ue.find(ze=>{var vt;const gt=((vt=ze.textContent)==null?void 0:vt.toLowerCase())||"";return Object.keys(te).some(ht=>gt.includes(ht))});if(mt){const ze=((ct=mt.textContent)==null?void 0:ct.toLowerCase())||"",gt=Object.keys(te).find(vt=>ze.includes(vt));if(gt!==void 0){at=te[gt];const vt=ze.match(/\d{4}/);vt&&(Tt=parseInt(vt[0]))}}let Nt=-1;Ue.forEach(ze=>{let gt=ze.textContent||"";if(gt==="!")return;const vt=parseFloat(ze.getAttribute("x")||"0");if(vt<=0||Ie.has(vt))return;if(N===Qe.Month){const Fe=gt.toLowerCase(),dt={janeiro:"Jan",fevereiro:"Fev",maro:"Mar",abril:"Abr",maio:"Mai",junho:"Jun",julho:"Jul",agosto:"Ago",setembro:"Set",outubro:"Out",novembro:"Nov",dezembro:"Dez"};for(const[Ft,_t]of Object.entries(dt))if(Fe.includes(Ft)){const Bt=gt.replace(new RegExp(Ft,"i"),_t);ze.textContent!==Bt&&(ze.textContent=Bt,gt=Bt)}}const ht=gt.match(/^[WS](\d+)$/);if(ht&&N===Qe.Week){const Fe=`S${ht[1]}`;ze.textContent!==Fe&&(ze.textContent=Fe,gt=Fe),ze.style.fill="#6b7280",ze.style.fontWeight="600",ze.getAttribute("text-anchor")!=="middle"&&(ze.setAttribute("x",(vt+Te/2).toString()),ze.setAttribute("text-anchor","middle"));return}if(T){const Fe=gt.match(/([a-zA-Z]+\.,)\s*(\d+)/);if(Fe){const[dt,Ft,_t]=Fe;if(J[Ft]){const Bt=`${J[Ft]}-${_t.padStart(2,"0")}`;ze.textContent!==Bt&&(ze.textContent=Bt,gt=Bt)}}}if(R||b?ze.style.fontSize="8px":ze.style.fontSize="",Object.keys(te).some(Fe=>gt.toLowerCase().includes(Fe))&&gt.length>8)return;const rt=gt.match(/(\d+)/);if(rt){const Fe=parseInt(rt[0]);if(Nt>20&&Fe<10&&(at++,at>11&&(at=0,Tt++)),Nt=Fe,Fe>=1&&Fe<=31){const dt=new Date(Tt,at,Fe);Ee||(Ee=dt,We=vt);let Ft=null,_t=!1;dt.getDate()===re.getDate()&&dt.getMonth()===re.getMonth()&&dt.getFullYear()===re.getFullYear()?(Ft="today",ze.style.fill="#2563eb",ze.style.fontWeight="bold",_t=!0):fc(dt)?(Ft="holiday",ze.style.fill="#dc2626",ze.style.fontWeight="bold",_t=!0):dt.getDay()===0||dt.getDay()===6?(Ft="weekend",ze.style.fill="#d97706",ze.style.fontWeight="bold",_t=!0):(ze.style.fill="",ze.style.fontWeight=""),Ft&&_t&&(he.push({x:vt,type:Ft,sourceSvg:Be}),Ie.add(vt),Ft==="today"&&!W&&(W={x:vt,element:Be}))}}})}for(const Be of Z){const Ue=Be.querySelector("#custom-backgrounds");Ue&&Ue.remove();const at=Be.querySelector("#custom-ruler");if(at&&at.remove(),he.length===0)return;const Tt=document.createElementNS("http://www.w3.org/2000/svg","g");Tt.id="custom-backgrounds";const mt=document.createElementNS("http://www.w3.org/2000/svg","g");mt.id="custom-ruler",Be.firstChild?Be.insertBefore(Tt,Be.firstChild):Be.appendChild(Tt),Be.appendChild(mt),he.forEach(Nt=>{const ze=document.createElementNS("http://www.w3.org/2000/svg","rect");if(ze.setAttribute("x",Math.max(0,Nt.x-Te/2).toString()),ze.setAttribute("y","0"),ze.setAttribute("width",Te.toString()),ze.setAttribute("height","100%"),Nt.type==="today"){ze.setAttribute("fill","#eff6ff"),ze.setAttribute("fill-opacity","0.5"),Tt.appendChild(ze);const gt=Z.indexOf(Nt.sourceSvg),vt=Z.indexOf(Be);if(vt>gt){const ht=document.createElementNS("http://www.w3.org/2000/svg","line");ht.setAttribute("x1",Nt.x.toString()),ht.setAttribute("x2",Nt.x.toString()),ht.setAttribute("y1","0"),ht.setAttribute("y2","100%"),ht.setAttribute("stroke","#ef4444"),ht.setAttribute("stroke-width","1"),mt.appendChild(ht)}if(vt===gt+1){const ht=document.createElementNS("http://www.w3.org/2000/svg","rect");ht.setAttribute("x",(Nt.x-15).toString()),ht.setAttribute("y","2"),ht.setAttribute("width","30"),ht.setAttribute("height","14"),ht.setAttribute("fill","white"),ht.setAttribute("rx","4"),mt.appendChild(ht);const rt=document.createElementNS("http://www.w3.org/2000/svg","text");rt.textContent="Hoje",rt.setAttribute("x",Nt.x.toString()),rt.setAttribute("y","12"),rt.setAttribute("text-anchor","middle"),rt.setAttribute("fill","#ef4444"),rt.setAttribute("font-weight","bold"),rt.setAttribute("font-size","10px"),mt.appendChild(rt)}}else ze.setAttribute("fill",Nt.type==="holiday"?"#fef2f2":"#f3f4f6"),Tt.appendChild(ze)})}if(H.querySelectorAll(".barLabel").forEach(Be=>{Be instanceof SVGTextElement&&Be.setAttribute("dy","0")}),!ne.current){let Be=null;for(const Ue of Z){const at=Ue.parentElement;if(at&&(at.scrollWidth>at.clientWidth||getComputedStyle(at).overflowX==="auto"||getComputedStyle(at).overflowX==="scroll")){Be=at;break}}if(!Be&&Z.length>0&&(Be=Z[Z.length-1].parentElement),Be){if(N===Qe.Week)Be.scrollTo({left:0,behavior:"smooth"}),ne.current=!0;else if(W){const Ue=W.x-Be.clientWidth/2;Math.abs(Be.scrollLeft-Ue)>10&&Be.scrollTo({left:Math.max(0,Ue),behavior:"smooth"}),ne.current=!0}else if(Ee&&N!==Qe.Week){let Ue=0;const at=Ee;N===Qe.Month?Ue=((re.getFullYear()-at.getFullYear())*12+(re.getMonth()-at.getMonth()))*Te:Ue=Math.floor((re.getTime()-at.getTime())/864e5)*Te;const mt=We+Ue-Be.clientWidth/2;Math.abs(Be.scrollLeft-mt)>10&&Be.scrollTo({left:Math.max(0,mt),behavior:"smooth"}),ne.current=!0}}}X&&X.observe(H,{childList:!0,subtree:!0,attributes:!0})};let B;X=new MutationObserver(Z=>{Z.some(V=>V.type==="childList"||V.type==="attributes"&&V.attributeName!=="style"&&V.attributeName!=="class")&&(clearTimeout(B),B=setTimeout(F,100))});const U=setTimeout(F,200);return X.observe(H,{childList:!0,subtree:!0,attributes:!0}),()=>{clearTimeout(U),X.disconnect()}},[t,p,R,T,N,b]);const ie=L.useMemo(()=>{const H=new Date;H.setHours(0,0,0,0);const X=t.map(W=>{const V=(new Date(W.end).getTime()-new Date(W.start).getTime())/864e5;let te=W.type;W.type!=="project"&&(te=V<=1?"milestone":"task");const J=new Date(W.end);J.setHours(0,0,0,0);const re=J<=H&&W.progress<100&&W.type!=="project";let he=W.styles;return he||(re?he={progressColor:"#dc2626",backgroundColor:"#fca5a5",backgroundSelectedColor:"#fecaca"}:W.progress===100?he={progressColor:"#10b981",backgroundColor:"#dcfce7",backgroundSelectedColor:"#bbf7d0"}:W.type==="project"?he={progressColor:"#4f46e5",backgroundColor:"#e0e7ff",backgroundSelectedColor:"#c7d2fe"}:he={progressColor:"#3b82f6",backgroundColor:"#eef2ff",backgroundSelectedColor:"#dbeafe"}),{start:new Date(W.start),end:new Date(W.end),name:W.name,id:W.id,type:te,progress:W.progress,isDisabled:!1,styles:he,project:W.parent||void 0,dependencies:W.dependencies||[],hideChildren:k.includes(W.id)}}),F=H.getFullYear()+5;let B=new Date(`${F}-12-31`);if(N===Qe.Day){const W=t.length>0?t.reduce((V,te)=>te.end>V?te.end:V,new Date):new Date;B=new Date(W),B.setDate(B.getDate()+60)}X.push({start:B,end:B,name:"",id:`dummy-extender-${B.getTime()}`,type:"task",progress:0,isDisabled:!0,styles:{backgroundColor:"transparent",backgroundSelectedColor:"transparent",progressColor:"transparent"},hideChildren:!1,project:void 0,dependencies:[]});const U=new Map;return t.forEach(W=>{W.parent&&U.set(W.id,W.parent)}),X.filter(W=>{let V=W.id,te=0;for(;te<20;){const J=U.get(V);if(!J)break;if(k.includes(J))return!1;V=J,te++}return!0})},[t,k,N]),oe=H=>{if(H.type==="project")return;const X=t.find(F=>F.id===H.id);X&&e({...X,start:H.start,end:H.end})},ge=H=>{if(H.type==="project")return;const X=t.find(F=>F.id===H.id);X&&e({...X,progress:H.progress})},je=H=>{const{active:X,over:F}=H;if(F&&X.id!==F.id){const B=t.findIndex(Z=>Z.id===X.id),U=t.findIndex(Z=>Z.id===F.id);if(B!==-1&&U!==-1){const Z=em(t,B,U);l(Z,X.id)}}},ye=R||b,me=b?24:R?28:34,Te=N===Qe.Year?130:b?30:R?40:65,xe=ye?"180px":"280px",Ne=`
        .gantt-landscape-container svg text {
            font-size: 10px !important;
        }
        .gantt-landscape-container .grid-header {
            height: 26px !important; 
        }
        /* Landscape Container Overrides */
        .gantt-landscape-container .grid-header > text {
             font-size: 9px !important; 
             transform: translateY(-14px); /* Pull text up to center it visually */
             dominant-baseline: auto; /* Reset to let transform handle it */
        }
        /* Vertical Align Text and Reduce Task List Font */
        .gantt-landscape-container .taskListWrapper svg text {
             dominant-baseline: middle;
             alignment-baseline: middle;
             font-size: 9px !important;
             transform: translateY(1px); /* Fine-tune optical center */
        }
        
        /* Ensure the gantt internal container allows scrolling */
        .gantt-landscape-container > div {
            overflow: auto !important;
            -webkit-overflow-scrolling: touch !important;
        }
    `,Ce=T?{position:"fixed",top:0,left:"100vw",width:"100vh",height:"100vw",transform:"rotate(90deg)",transformOrigin:"top left",zIndex:9999,background:"white",touchAction:"manipulation"}:{},j=T?"flex flex-col gantt-landscape-container":"w-full flex flex-col h-full bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden relative";return o.jsxs("div",{ref:g,className:j,style:Ce,children:[T&&o.jsx("style",{children:Ne}),o.jsxs("div",{className:`flex items-center justify-between p-2 border-b border-gray-100 bg-gray-50 flex-shrink-0 ${T?"px-8 py-2 h-14":""}`,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:`font-bold text-gray-700 whitespace-nowrap ${R||b?"text-sm":""}`,children:"Cronograma"}),o.jsx("button",{onClick:()=>D(!C),className:`hidden lg:flex items-center gap-1 px-3 py-1.5 rounded-full text-xs font-bold transition-colors ml-2 shadow-sm
                            ${C?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-indigo-600 text-white hover:bg-indigo-700"}`,title:C?"Ocultar Lista":"Mostrar Lista",children:o.jsx(tw,{size:16,className:C?"text-indigo-600":"text-current"})}),o.jsxs("button",{onClick:()=>O(!b),className:`hidden lg:flex items-center gap-1 px-3 py-1.5 rounded-full text-xs font-bold transition-colors ml-2 shadow-sm
                            ${b?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:b?"Modo Normal":"Modo Super Compacto",children:[b?o.jsx(sw,{size:14}):o.jsx(ow,{size:14}),o.jsx("span",{className:"hidden xl:inline",children:b?"Normal":"Compacto"})]}),o.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1 ml-2",children:[o.jsx("button",{onClick:()=>P([]),className:"p-1 hover:bg-white rounded transition-colors shadow-sm",title:"Expandir Tudo",children:o.jsx(Mn,{size:16,className:"text-green-600"})}),o.jsx("button",{onClick:()=>{const H=Array.from(new Set(t.filter(X=>t.some(F=>F.parent===X.id)).map(X=>X.id)));P(H)},className:"p-1 hover:bg-white rounded transition-colors shadow-sm ml-1",title:"Recolher Tudo",children:o.jsx(NE,{size:16,className:"text-red-600"})})]}),h!==void 0&&o.jsxs("div",{className:`hidden md:flex px-3 py-1.5 rounded-lg text-xs font-bold border items-center gap-2 ml-2 ${h>.8?"bg-green-50 text-green-700 border-green-200":"bg-orange-50 text-orange-700 border-orange-200"}`,children:[o.jsx(or,{size:14}),(h*100).toFixed(0),"% Confiana"]}),o.jsx("button",{onClick:()=>I(!T),className:`lg:hidden flex items-center gap-1 px-3 py-1.5 rounded-full text-xs font-bold transition-colors ml-2 shadow-sm
                            ${T?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:o.jsx(tw,{size:16,className:T?"text-white":"text-indigo-600"})}),T&&o.jsx("button",{onClick:()=>_(!R),className:"flex items-center justify-center p-1.5 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200 ml-2",title:R?"Aumentar Zoom":"Diminuir Zoom",children:R?o.jsx(sw,{size:14}):o.jsx(ow,{size:14})})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:`${T?"flex":"hidden"} lg:flex gap-2`,children:[o.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1 mr-2",children:[o.jsx("button",{onClick:()=>E(Qe.Day),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${N===Qe.Day?"bg-white shadow text-indigo-600":"text-gray-500 hover:text-gray-900"}`,children:"Dia"}),o.jsx("button",{onClick:()=>E(Qe.Week),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${N===Qe.Week?"bg-white shadow text-indigo-600":"text-gray-500 hover:text-gray-900"}`,children:"Semana"}),o.jsx("button",{onClick:()=>E(Qe.Month),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${N===Qe.Month?"bg-white shadow text-indigo-600":"text-gray-500 hover:text-gray-900"}`,children:"Ms"}),o.jsx("button",{onClick:()=>E(Qe.Year),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${N===Qe.Year?"bg-white shadow text-indigo-600":"text-gray-500 hover:text-gray-900"}`,children:"Ano"})]}),o.jsxs("button",{onClick:()=>r(p||void 0),className:`hidden lg:flex items-center gap-2 bg-indigo-600 text-white px-3 py-1.5 rounded-md text-sm hover:bg-indigo-700 transition ml-2 whitespace-nowrap ${R?"text-xs px-2 py-1":""}`,children:[o.jsx("span",{className:"text-lg font-bold leading-none",style:{marginTop:"-2px"},children:"+"}),o.jsx("span",{className:"hidden sm:inline",children:"Nova Tarefa"})]})]}),o.jsxs("div",{className:`${T?"hidden":""} lg:hidden relative`,children:[o.jsxs("button",{onClick:()=>q(!Q),className:"bg-indigo-600 text-white px-3 py-1.5 rounded-md text-sm font-medium shadow hover:bg-indigo-700 transition flex items-center gap-2",children:[o.jsx("span",{children:"Aes"}),o.jsx(Kj,{size:16})]}),Q&&o.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-100 z-50 p-2 flex flex-col gap-2 animate-in fade-in zoom-in duration-200",children:[o.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase px-2 mb-1",children:"Visualizao"}),o.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>{E(Qe.Day),q(!1)},className:`flex-1 px-2 py-1 text-xs font-medium rounded-md transition-all ${N===Qe.Day?"bg-white shadow text-indigo-600":"text-gray-500"}`,children:"Dia"}),o.jsx("button",{onClick:()=>{E(Qe.Week),q(!1)},className:`flex-1 px-2 py-1 text-xs font-medium rounded-md transition-all ${N===Qe.Week?"bg-white shadow text-indigo-600":"text-gray-500"}`,children:"Sem"}),o.jsx("button",{onClick:()=>{E(Qe.Month),q(!1)},className:`flex-1 px-2 py-1 text-xs font-medium rounded-md transition-all ${N===Qe.Month?"bg-white shadow text-indigo-600":"text-gray-500"}`,children:"Ms"}),o.jsx("button",{onClick:()=>{E(Qe.Year),q(!1)},className:`flex-1 px-2 py-1 text-xs font-medium rounded-md transition-all ${N===Qe.Year?"bg-white shadow text-indigo-600":"text-gray-500"}`,children:"Ano"})]}),o.jsx("div",{className:"h-px bg-gray-100 my-1"}),o.jsxs("button",{onClick:()=>{r(p||void 0),q(!1)},className:"flex items-center gap-2 bg-indigo-600 text-white px-3 py-2 rounded-md text-sm font-medium hover:bg-indigo-700 transition justify-center",children:[o.jsx(Mn,{size:16}),o.jsx("span",{children:"Nova Tarefa"})]})]})]})]})]}),o.jsx("div",{id:"gantt-chart-area",ref:A,className:`flex-1 overflow-x-auto overflow-y-auto bg-white w-full touch-pan-x touch-pan-y ${z?"mobile-gantt-fix":""}`,style:{WebkitOverflowScrolling:"touch"},children:!t||t.length===0?o.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center text-gray-400 min-h-[200px]",children:o.jsx("p",{children:'No tasks to display. Click "Nova Tarefa" to start.'})}):T?o.jsx(sg,{tasks:ie,viewMode:N,locale:"pt-BR",onDateChange:oe,onProgressChange:ge,listCellWidth:C?xe:"",columnWidth:Te,rowHeight:me,barFill:55,ganttHeight:window.innerWidth-(ye?56:65),TaskListTable:C?H=>o.jsx("div",{className:"font-sans text-sm border-r border-gray-200 bg-white",children:H.tasks.filter(X=>X.id!=="gantt-spacer").map(X=>{const F=t.find(B=>B.id===X.id);return o.jsx(bw,{task:X,originalTask:F,allTasks:t,rowHeight:H.rowHeight,isSelected:p===X.id,onSelect:B=>m(U=>U===B?null:B),onEdit:n,onIndent:i,onOutdent:s,onDeleteTask:a,isCompact:ye,onToggleCollapse:K,isCollapsed:k.includes(X.id)},X.id)})}):()=>o.jsx(o.Fragment,{}),TaskListHeader:C?({headerHeight:H})=>o.jsxs("div",{className:"flex items-center bg-gray-50 border-b border-r border-gray-200 font-bold text-gray-500 uppercase tracking-wider",style:{height:H,fontSize:ye?"10px":"12px"},children:[o.jsx("div",{className:"px-4 flex-1 border-r border-gray-200 h-full flex items-center",style:{width:xe,minWidth:xe},children:"Tarefa"}),o.jsx("div",{className:"px-4 border-r border-gray-200 h-full flex items-center justify-center",style:{width:ye?"80px":"100px",minWidth:ye?"80px":"100px"},children:"Incio"}),o.jsx("div",{className:"px-4 h-full flex items-center justify-center",style:{width:ye?"80px":"100px",minWidth:ye?"80px":"100px"},children:"Fim"}),o.jsx("div",{className:"px-4 h-full flex items-center justify-center text-gray-400",style:{width:ye?"60px":"80px",minWidth:ye?"60px":"80px"},children:"Dias"})]}):()=>o.jsx(o.Fragment,{})}):o.jsx("div",{className:"w-full h-full",children:z?o.jsx(sg,{tasks:ie,viewMode:N,locale:"pt-BR",onDateChange:void 0,onProgressChange:void 0,onDoubleClick:void 0,onSelect:H=>{const X=t.find(F=>F.id===H.id);X&&n(X)},listCellWidth:C&&!z?xe:"",columnWidth:Te,rowHeight:me,barFill:55,ganttHeight:500,TaskListTable:()=>o.jsx(o.Fragment,{}),TaskListHeader:()=>o.jsx(o.Fragment,{})}):o.jsx(QE,{sensors:ce,collisionDetection:ME,onDragEnd:je,children:o.jsx(sg,{tasks:ie,viewMode:N,locale:"pt-BR",onDateChange:oe,onProgressChange:ge,listCellWidth:C&&!z?xe:"",columnWidth:Te,rowHeight:me,barFill:55,ganttHeight:500,TaskListTable:!C||z?()=>o.jsx(o.Fragment,{}):H=>o.jsx("div",{className:"font-sans text-sm border-r border-gray-200 bg-white touch-pan-x touch-pan-y",children:o.jsx(ZE,{items:H.tasks.filter(X=>X.id!=="gantt-spacer").map(X=>X.id),strategy:KE,children:H.tasks.filter(X=>X.id!=="gantt-spacer").map(X=>{const F=t.find(U=>U.id===X.id),B=t.some(U=>U.parent===X.id);return o.jsx(bw,{task:X,originalTask:F,allTasks:t,rowHeight:H.rowHeight,isSelected:p===X.id,onSelect:U=>m(Z=>Z===U?null:U),onEdit:n,onIndent:i,onOutdent:s,onDeleteTask:a,isCompact:ye,onToggleCollapse:K,isCollapsed:k.includes(X.id),hasChildren:B},X.id)})})}),TaskListHeader:!C||z?()=>o.jsx(o.Fragment,{}):({headerHeight:H})=>o.jsxs("div",{className:"flex items-center bg-gray-50 border-b border-r border-gray-200 font-bold text-gray-500 uppercase tracking-wider",style:{height:H,fontSize:ye?"10px":"12px"},children:[o.jsx("div",{className:"px-4 flex-1 border-r border-gray-200 h-full flex items-center",style:{width:xe,minWidth:xe},children:"Tarefa"}),o.jsx("div",{className:"px-4 border-r border-gray-200 h-full flex items-center justify-center",style:{width:ye?"80px":"100px",minWidth:ye?"80px":"100px"},children:"Incio"}),o.jsx("div",{className:"px-4 border-r border-gray-200 h-full flex items-center justify-center",style:{width:ye?"80px":"100px",minWidth:ye?"80px":"100px"},children:"Fim"}),o.jsx("div",{className:"px-4 h-full flex items-center justify-center text-gray-400",style:{width:ye?"60px":"80px",minWidth:ye?"60px":"80px"},children:"Dias"})]})})})})}),z&&!c&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed bottom-20 left-4 z-30",children:o.jsx("button",{onClick:()=>D(!C),className:"p-3 bg-white shadow-xl rounded-full text-indigo-600 active:scale-90 transition-all border border-indigo-100",children:C?o.jsx(Zd,{size:24}):o.jsx(xo,{size:24})})}),o.jsxs("div",{className:"fixed bottom-20 right-4 z-30 flex flex-col items-center gap-0",children:[o.jsx("button",{onTouchStart:()=>w("up"),onTouchEnd:y,onMouseDown:()=>w("up"),onMouseUp:y,onMouseLeave:y,onContextMenu:H=>H.preventDefault(),className:"p-3 bg-indigo-600 shadow-xl rounded-full text-white active:scale-90 transition-all border-2 border-white/20",children:o.jsx(_E,{size:24})}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("button",{onTouchStart:()=>w("left"),onTouchEnd:y,onMouseDown:()=>w("left"),onMouseUp:y,onMouseLeave:y,onContextMenu:H=>H.preventDefault(),className:"p-3 bg-indigo-600 shadow-xl rounded-full text-white active:scale-90 transition-all border-2 border-white/20",children:o.jsx(Zd,{size:24})}),o.jsx("button",{onTouchStart:()=>w("right"),onTouchEnd:y,onMouseDown:()=>w("right"),onMouseUp:y,onMouseLeave:y,onContextMenu:H=>H.preventDefault(),className:"p-3 bg-indigo-600 shadow-xl rounded-full text-white active:scale-90 transition-all border-2 border-white/20",children:o.jsx(xo,{size:24})})]}),o.jsx("button",{onTouchStart:()=>w("down"),onTouchEnd:y,onMouseDown:()=>w("down"),onMouseUp:y,onMouseLeave:y,onContextMenu:H=>H.preventDefault(),className:"p-3 bg-indigo-600 shadow-xl rounded-full text-white active:scale-90 transition-all border-2 border-white/20",children:o.jsx(_s,{size:24})})]})]})]})},zL="0.1.54",aN=({item:t,activeView:e,onNavigate:n,level:r=0,isCollapsed:a=!1})=>{const[i,s]=L.useState(t.isOpen||!1),l=t.id===e,c=L.useMemo(()=>{const m=g=>g.id===e?!0:g.children?g.children.some(m):!1;return t.children?t.children.some(m):!1},[t,e]),d="flex items-center w-full p-3 transition-colors duration-200 outline-none",u=l?"bg-indigo-600/10 text-indigo-400 border-r-2 border-indigo-600":c?"text-slate-200":"text-slate-400 hover:text-white hover:bg-slate-800",h=a?12:r*12+12,p=()=>{t.children?s(!i):t.id&&n(t.id)};return L.useMemo(()=>{c&&s(!0)},[c]),o.jsxs("div",{className:"w-full",children:[o.jsxs("button",{onClick:p,className:`${d} ${u} ${a?"justify-center":""}`,style:{paddingLeft:`${h}px`},title:a?t.label:void 0,children:[o.jsx(t.icon,{size:20,className:`shrink-0 ${l?"text-indigo-400":""}`}),!a&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"ml-3 font-medium text-sm truncate flex-1 text-left animate-in fade-in zoom-in-95 duration-200",children:t.label}),t.children&&o.jsx("span",{className:"ml-2",children:i?o.jsx(_s,{size:14}):o.jsx(xo,{size:14})})]})]}),t.children&&i&&!a&&o.jsx("div",{className:"overflow-hidden transition-all duration-300",children:t.children.map((m,g)=>o.jsx(aN,{item:m,activeView:e,onNavigate:n,level:r+1,isCollapsed:a},m.id||g))})]})},iN=({activeView:t,onNavigate:e,className:n="",clients:r=[],projects:a=[],currentUser:i})=>{const[s,l]=L.useState(!1),c=L.useMemo(()=>[{label:"Clientes",icon:Pj,children:[{label:"Viso Geral / Gerenciar",id:"clients_manage",icon:_d}]}],[r,a]);return o.jsxs("aside",{className:`h-full bg-slate-900 text-white flex flex-col transition-all duration-300 flex-shrink-0 border-r border-slate-800 ${s?"w-20":"w-20 lg:w-64"} ${n}`,children:[o.jsxs("div",{className:`h-16 flex items-center ${s?"justify-center":"justify-center lg:justify-between lg:px-6"} border-b border-slate-800 bg-slate-950/50 shrink-0 relative group`,children:[o.jsxs("div",{className:`flex items-center ${s?"justify-center":""}`,children:[o.jsx("img",{src:"/logo.png",alt:"Logo",className:`object-contain transition-all duration-300 ${s?"h-8 w-8":"h-8 w-auto"}`}),!s&&o.jsx("span",{className:"ml-3 font-bold text-lg tracking-tight text-white animate-in fade-in slide-in-from-left-2 whitespace-nowrap",children:"UERJ-FAF 2025"})]}),o.jsx("button",{onClick:()=>l(!s),className:`absolute -right-3 top-1/2 -translate-y-1/2 bg-slate-800 text-slate-400 p-1 rounded-full border border-slate-700 hover:text-white hover:bg-slate-700 transition-all z-10 hidden lg:flex ${s?"-right-3":"opacity-0 group-hover:opacity-100"}`,title:s?"Expandir Menu":"Recolher Menu",children:s?o.jsx(Rj,{size:14}):o.jsx(Dj,{size:14})})]}),i&&o.jsxs("div",{className:`p-4 border-b border-slate-800 flex items-center gap-3 ${s?"justify-center":""}`,children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold border border-slate-600 shrink-0",children:i.displayName?i.displayName.charAt(0).toUpperCase():"U"}),!s&&o.jsxs("div",{className:"flex-1 overflow-hidden animate-in fade-in slide-in-from-left-2",children:[o.jsx("p",{className:"text-sm font-medium truncate text-slate-200",children:i.displayName}),o.jsx("p",{className:"text-xs text-slate-500 truncate",children:i.email})]})]}),o.jsx("nav",{className:"flex-1 py-4 pb-20 overflow-y-auto scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent",children:o.jsx("div",{className:"space-y-1",children:c.map((d,u)=>o.jsx(aN,{item:d,activeView:t,onNavigate:e,isCollapsed:s},d.id||u))})}),o.jsxs("div",{className:`p-4 border-t border-slate-800 bg-slate-950/30 shrink-0 ${s?"flex justify-center":""}`,children:[(i==null?void 0:i.role)==="master"&&o.jsxs("button",{onClick:()=>e("settings"),className:`flex items-center text-slate-400 hover:text-white transition-colors w-full ${s?"justify-center":"justify-center lg:justify-start"} group p-2 rounded-lg hover:bg-slate-800`,title:s?"Configuraes":void 0,children:[o.jsx(_d,{size:20,className:"group-hover:rotate-90 transition-transform duration-500"}),!s&&o.jsx("span",{className:"ml-3 font-medium",children:"Configuraes"})]}),o.jsx("div",{className:"text-xs text-slate-600 text-center mt-2 font-mono",children:!s&&`v${zL}`})]})]})},VL=t=>{const{isOpen:e,onClose:n,...r}=t;return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:`fixed inset-0 bg-black/60 backdrop-blur-sm z-40 transition-opacity duration-300 lg:hidden ${e?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:n}),o.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-72 bg-slate-900 transform transition-transform duration-300 lg:hidden ${e?"translate-x-0":"-translate-x-full"} shadow-2xl border-r border-slate-700 h-[100dvh]`,children:o.jsx(iN,{...r,className:"w-full h-full border-none",onNavigate:a=>{r.onNavigate(a),n()}})})]})},UL=({stats:t,project:e,onUpdateProject:n,onShowClientBlockages:r})=>{var O,z;const a=!!(e!=null&&e.fixedSnapshot),s=(()=>{if(!e)return 0;if(e.fixedSnapshot)return e.fixedSnapshot.price;const G=t.totalCost,Q=(e.margin||0)/100,q=(e.deliveryDeviation||0)/100,ne=(e.taxRate||0)/100,K=(1-Q>.001?G/(1-Q):G)-G,ie=(1-q>.001?G/(1-q):G)-G,oe=G+K+ie,ge=1-ne;return ge<=.001?0:oe/ge})(),l=(G,Q)=>{if(!e||!n)return;const q=parseFloat(Q);n({...e,[G]:isNaN(q)?0:q})},c=G=>{if(!e||!n||!e.fixedSnapshot)return;const Q=parseFloat(G);n({...e,fixedSnapshot:{...e.fixedSnapshot,price:isNaN(Q)?0:Q}})},d=()=>{!e||!n||a||n({...e,fixedSnapshot:{cost:t.totalCost,duration:t.totalDuration,startDate:t.startDate,endDate:t.endDate,margin:e.margin||0,taxRate:e.taxRate||0,deliveryDeviation:e.deliveryDeviation||0,price:s}})},u=({label:G,value:Q,subValue:q,icon:ne,colorClass:Y,subColorClass:K})=>o.jsxs("div",{className:"flex flex-col min-w-[80px]",children:[o.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[o.jsx("div",{className:`p-1 rounded bg-opacity-10 ${Y.replace("text-","bg-")}`,children:o.jsx(ne,{size:12,className:Y})}),o.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 tracking-wider",children:G})]}),o.jsxs("div",{className:"flex items-baseline gap-2",children:[o.jsx("span",{className:"text-sm font-bold text-gray-900",children:Q}),q&&o.jsx("span",{className:`text-xs font-medium ${K}`,children:q})]})]}),h=(G,Q)=>G===void 0?{label:"-",color:"text-gray-400",subColor:"text-gray-400"}:G<.95?{label:Q?"Estourado":"Atrasado",color:"text-red-600",subColor:"text-red-500"}:G>1.05?{label:"Analisar",color:"text-orange-600",subColor:"text-orange-500"}:{label:"Ok",color:"text-emerald-600",subColor:"text-emerald-600"},p=h(t.spi,!1),m=h(t.cpi,!0),g=G=>{if(!G)return"-";const Q=new Date(G.seconds?G.seconds*1e3:G);return isNaN(Q.getTime())?"-":Q.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"})},A=(e==null?void 0:e.fixedSnapshot)||{cost:t.totalCost,duration:t.totalDuration,startDate:t.startDate,endDate:t.endDate,margin:(e==null?void 0:e.margin)||0,taxRate:(e==null?void 0:e.taxRate)||0,deliveryDeviation:(e==null?void 0:e.deliveryDeviation)||0,price:s},v=(A.margin||0)/100,x=(A.deliveryDeviation||0)/100,y=1-v>.001?A.cost/(1-v)-A.cost:0,w=1-x>.001?A.cost/(1-x)-A.cost:0,T=(()=>{if(!e)return t.totalCost;let G=0;return e.monthlyCosts&&(G+=e.monthlyCosts.reduce((Q,q)=>Q+(q.cost||0),0)),e.otherCosts&&e.otherCosts.forEach(Q=>{Q.values&&(G+=Object.values(Q.values).reduce((q,ne)=>q+(ne||0),0))}),G>0?G:t.totalCost})(),I=t.totalDuration;e!=null&&e.deliveryDeviation;const R=A.price*(1-A.taxRate/100),_=A.deliveryDeviation||1,E=((e==null?void 0:e.deliveryDeviation)||0)*(w/_),k=R-w,P=R-E-T,C=k>.001?P/k*100:0,[D,b]=L.useState(!1);return o.jsx("div",{className:"-mt-8 -mx-8 bg-white border-b border-gray-200 px-8 py-6 mb-6 shadow-sm z-20 relative",children:o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsxs("div",{className:`relative p-5 rounded-xl border transition-all ${a?"bg-indigo-50/30 border-indigo-200":"bg-white border-gray-200"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-gray-100 pb-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`p-1.5 rounded-lg ${a?"bg-indigo-100 text-indigo-600":"bg-emerald-100 text-emerald-600"}`,children:o.jsx(or,{size:16})}),o.jsxs("div",{children:[o.jsx("h3",{className:`text-sm font-bold uppercase tracking-wider ${a?"text-indigo-900":"text-emerald-900"}`,children:"Indicadores de Venda"}),o.jsx("p",{className:"text-xs text-gray-500",children:a?"Valores congelados conforme contrato vendido.":"Estimativas baseadas no planejamento atual."})]})]}),e&&o.jsxs("button",{onClick:d,className:`text-[10px] uppercase font-bold px-3 py-1.5 rounded-full flex items-center gap-1.5 transition-colors border ${a?"bg-indigo-100 text-indigo-700 border-indigo-200 hover:bg-indigo-200":"bg-emerald-50 text-emerald-700 border-emerald-200 hover:bg-emerald-100"}`,children:[a?o.jsx(Dx,{size:10}):o.jsx(nM,{size:10}),a?"Editar (Vendido)":"Marcar como Vendido"]})]}),o.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 xl:grid-cols-8 gap-6",children:[o.jsx(u,{label:"Estimado",value:`R$ ${A.cost.toLocaleString("pt-BR",{notation:"compact"})}`,icon:ma,colorClass:"text-gray-600"}),o.jsx(u,{label:"Prazo",value:`${A.duration}d`,icon:yo,colorClass:"text-gray-600"}),o.jsx(u,{label:"Incio",value:g(A.startDate),icon:Qi,colorClass:"text-gray-600"}),o.jsx(u,{label:"Fim",value:g(A.endDate),icon:Qi,colorClass:"text-gray-600"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-[10px] text-gray-400 font-bold block mb-0.5 uppercase",children:"MARGEM"}),o.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[A.margin,"%"]}),o.jsxs("span",{className:"text-[10px] text-gray-400 font-medium block",children:["R$ ",y.toLocaleString("pt-BR",{notation:"compact"})]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-[10px] text-gray-400 font-bold block mb-0.5 uppercase",children:"DESVIO"}),o.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[A.deliveryDeviation,"%"]}),o.jsxs("span",{className:"text-[10px] text-gray-400 font-medium block",children:["R$ ",w.toLocaleString("pt-BR",{notation:"compact"})]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-[10px] text-gray-400 font-bold block mb-0.5 uppercase",children:"IMPOSTO"}),o.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[A.taxRate,"%"]})]}),o.jsxs("div",{className:`border-l pl-4 ${a?"border-indigo-200":"border-gray-200"}`,children:[o.jsx("span",{className:`text-[10px] font-bold block mb-0.5 uppercase ${a?"text-indigo-600":"text-emerald-600"}`,children:"Investimento"}),a?D?o.jsxs("div",{className:"flex items-center gap-1 border-b border-indigo-300 border-dashed",children:[o.jsx("span",{className:"text-sm font-bold text-indigo-700 leading-none",children:"R$"}),o.jsx("input",{type:"number",autoFocus:!0,value:A.price,onChange:G=>c(G.target.value),onBlur:()=>b(!1),onKeyDown:G=>G.key==="Enter"&&b(!1),className:"w-full bg-transparent text-sm font-bold text-indigo-700 leading-none focus:outline-none"})]}):o.jsx("div",{onClick:()=>b(!0),className:"cursor-pointer hover:bg-indigo-50 rounded px-1 -ml-1 transition-colors group",title:"Clique para editar",children:o.jsxs("span",{className:"text-sm font-bold text-indigo-700 leading-none group-hover:underline decoration-dashed underline-offset-4",children:["R$ ",A.price.toLocaleString("pt-BR",{notation:"compact"})]})}):o.jsxs("span",{className:"text-sm font-bold text-emerald-700 leading-none",children:["R$ ",A.price.toLocaleString("pt-BR",{notation:"compact"})]})]})]})]}),a&&o.jsxs("div",{className:"bg-white p-5 rounded-xl border border-blue-100 shadow-sm animate-in fade-in slide-in-from-top-4 duration-300 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-blue-500"}),o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx("div",{className:"p-1.5 rounded-lg bg-blue-100 text-blue-600",children:o.jsx(Xf,{size:16})}),o.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-blue-900",children:"Indicadores da Operao"})]}),o.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 xl:grid-cols-8 gap-6",children:[o.jsx(u,{label:"Custo Real",value:`R$ ${T.toLocaleString("pt-BR",{notation:"compact"})}`,subValue:T>A.cost?"Estourado":void 0,subColorClass:"text-red-500",icon:ma,colorClass:"text-blue-600"}),o.jsx(u,{label:"Prazo Real",value:`${I}d`,subValue:I>A.duration?"Atrasado":void 0,subColorClass:"text-red-500",icon:yo,colorClass:"text-blue-600"}),o.jsx(u,{label:"Incio Atual",value:g(t.startDate),icon:Qi,colorClass:"text-blue-600"}),o.jsx(u,{label:"Fim Atual",value:g(t.endDate),icon:Qi,colorClass:"text-blue-600"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-[10px] text-blue-400 font-bold block mb-0.5 uppercase",children:"MARGEM REAL"}),o.jsxs("span",{className:`text-sm font-bold ${C<A.margin?"text-red-600":"text-blue-900"}`,children:[C.toFixed(1),"%"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-[10px] text-blue-400 font-bold block mb-0.5 uppercase",children:"DESVIO REAL"}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("input",{type:"number",value:(e==null?void 0:e.deliveryDeviation)||0,onChange:G=>l("deliveryDeviation",G.target.value),className:"w-12 bg-transparent text-sm font-bold text-blue-900 border-b border-blue-200 focus:outline-none focus:border-blue-500 transition-colors"}),o.jsx("span",{className:"text-xs text-blue-400 font-bold",children:"%"})]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-[10px] text-gray-300 font-bold block mb-0.5 uppercase",children:"IMPOSTO"}),o.jsxs("span",{className:"text-sm font-bold text-gray-400",children:[A.taxRate,"%"]})]}),o.jsxs("div",{className:"border-l border-blue-100 pl-4",children:[o.jsx("span",{className:"text-[10px] font-bold block mb-0.5 uppercase text-blue-600",children:"Receita NET"}),o.jsx("span",{className:"text-base font-black leading-none text-blue-700",children:R.toLocaleString("pt-BR",{notation:"compact"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6 pt-6 border-t border-blue-100/50",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider flex items-center gap-1",children:[o.jsx(Xf,{size:12,className:"text-blue-500"})," Execuo (Prazo)"]}),o.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border border-gray-100 shadow-sm h-full",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-[10px] text-gray-400 block uppercase font-semibold",children:"% Planejado"}),o.jsxs("span",{className:"text-lg font-bold text-gray-800",children:[(t.plannedProgress||0).toFixed(1),o.jsx("span",{className:"text-xs text-gray-500 ml-0.5",children:"%"})]})]}),o.jsx("div",{className:"w-px h-8 bg-gray-100"}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:"text-[10px] text-gray-400 block uppercase font-semibold",children:"% Executado"}),o.jsxs("span",{className:`text-lg font-bold ${(t.progress||0)<(t.plannedProgress||0)?"text-red-600":"text-emerald-600"}`,children:[(t.progress||0).toFixed(1),o.jsx("span",{className:"text-xs ml-0.5",children:"%"})]})]})]})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider flex items-center gap-1",children:[o.jsx(ma,{size:12,className:"text-emerald-500"})," Execuo (Custo)"]}),o.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border border-gray-100 shadow-sm h-full",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-[10px] text-gray-400 block uppercase font-semibold",children:"PV (Plan)"}),o.jsx("span",{className:"text-lg font-bold text-gray-800",children:(t.plannedCostToDate||0).toLocaleString("pt-BR",{notation:"compact"})})]}),o.jsx("div",{className:"w-px h-8 bg-gray-100"}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:"text-[10px] text-gray-400 block uppercase font-semibold",children:"AC (Real)"}),o.jsx("span",{className:`text-lg font-bold ${(t.realCostToDate||0)>(t.plannedCostToDate||0)?"text-red-600":"text-emerald-600"}`,children:(t.realCostToDate||0).toLocaleString("pt-BR",{notation:"compact"})})]})]})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider flex items-center gap-1",children:[o.jsx(Kf,{size:12,className:"text-purple-500"})," Performance"]}),o.jsxs("div",{className:"flex items-center justify-around gap-4 bg-white p-3 rounded-lg border border-gray-100 shadow-sm h-full",children:[o.jsx(u,{label:"SPI (Prazo)",value:((O=t.spi)==null?void 0:O.toFixed(2))||"0.00",subValue:p.label,subColorClass:p.subColor,icon:Kf,colorClass:p.color}),o.jsx("div",{className:"w-px h-8 bg-gray-100"}),o.jsx(u,{label:"CPI (Custo)",value:((z=t.cpi)==null?void 0:z.toFixed(2))||"1.00",subValue:m.label,subColorClass:m.subColor,icon:hs,colorClass:m.color})]})]}),e&&n&&o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("span",{className:"text-[10px] font-bold text-red-500 uppercase tracking-wider flex items-center gap-1",children:[o.jsx(Kl,{size:12})," Impacto & Alertas"]}),o.jsxs("div",{onClick:r,className:"flex items-center justify-between px-4 py-3 bg-red-50 rounded-lg border border-red-100 shadow-sm h-full cursor-pointer hover:bg-red-100 transition-all group",title:"Clique para ver detalhes do bloqueio",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-[10px] font-bold text-red-400 uppercase block mb-1 group-hover:text-red-500",children:"Bloqueio Cliente"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"p-1 bg-red-200 rounded text-red-700",children:o.jsx(Kl,{size:12})}),o.jsx("span",{className:"text-xs text-red-400 italic",children:"Ver detalhes"})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("span",{className:"text-lg font-black text-red-700 block leading-none",children:[Math.round(t.totalClientBlockageHours||0),o.jsx("span",{className:"text-xs font-medium ml-0.5",children:"h"})]}),o.jsxs("span",{className:"text-xs font-bold text-red-400 block mt-1",children:["R$ ",(t.totalClientBlockageCost||0).toLocaleString("pt-BR",{notation:"compact"})]})]})]})]})]})]})]})})},GL={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},WL=(t,e,n)=>{let r;const a=GL[t];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+r:"h "+r:r},$L={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},qL={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},HL={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QL={date:Pl({formats:$L,defaultWidth:"full"}),time:Pl({formats:qL,defaultWidth:"full"}),dateTime:Pl({formats:HL,defaultWidth:"full"})},XL={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},KL=(t,e,n,r)=>{const a=XL[t];return typeof a=="function"?a(e):a},YL={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},JL={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},ZL={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},e4={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},t4={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},n4={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},r4=(t,e)=>{const n=Number(t);return(e==null?void 0:e.unit)==="week"?n+"":n+""},a4={ordinalNumber:r4,era:Ca({values:YL,defaultWidth:"wide"}),quarter:Ca({values:JL,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ca({values:ZL,defaultWidth:"wide"}),day:Ca({values:e4,defaultWidth:"wide"}),dayPeriod:Ca({values:t4,defaultWidth:"wide",formattingValues:n4,defaultFormattingWidth:"wide"})},i4=/^(\d+)[o]?/i,s4=/\d+/i,o4={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},l4={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},c4={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},d4={any:[/1/i,/2/i,/3/i,/4/i]},u4={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},h4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},f4={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},p4={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},m4={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},g4={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},A4={ordinalNumber:xE({matchPattern:i4,parsePattern:s4,valueCallback:t=>parseInt(t,10)}),era:Ea({matchPatterns:o4,defaultMatchWidth:"wide",parsePatterns:l4,defaultParseWidth:"any"}),quarter:Ea({matchPatterns:c4,defaultMatchWidth:"wide",parsePatterns:d4,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ea({matchPatterns:u4,defaultMatchWidth:"wide",parsePatterns:h4,defaultParseWidth:"any"}),day:Ea({matchPatterns:f4,defaultMatchWidth:"wide",parsePatterns:p4,defaultParseWidth:"any"}),dayPeriod:Ea({matchPatterns:m4,defaultMatchWidth:"any",parsePatterns:g4,defaultParseWidth:"any"})},Ka={code:"pt-BR",formatDistance:WL,formatLong:QL,formatRelative:KL,localize:a4,match:A4,options:{weekStartsOn:0,firstWeekContainsDate:1}},x4=({options:t,value:e,onChange:n,placeholder:r="Selecione...",className:a="",disabled:i=!1})=>{const[s,l]=L.useState(!1),[c,d]=L.useState(""),u=L.useRef(null),h=L.useRef(null);L.useEffect(()=>{const A=v=>{u.current&&!u.current.contains(v.target)&&l(!1)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]),L.useEffect(()=>{s&&h.current?setTimeout(()=>{var A;return(A=h.current)==null?void 0:A.focus()},50):d("")},[s]);const p=L.useMemo(()=>{if(!c)return t;const A=c.toLowerCase();return t.filter(v=>v.label.toLowerCase().includes(A)||v.subLabel&&v.subLabel.toLowerCase().includes(A))},[t,c]),m=t.find(A=>A.value===e),g=A=>{n(A),l(!1)};return o.jsxs("div",{className:`relative ${a}`,ref:u,children:[o.jsxs("button",{type:"button",onClick:()=>!i&&l(!s),disabled:i,className:`
                    w-full flex items-center justify-between
                    bg-white border text-left cursor-pointer
                    rounded-lg shadow-sm
                    py-2.5 px-3 text-sm
                    focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500
                    ${s?"border-indigo-500 ring-2 ring-indigo-500":"border-gray-300"}
                    ${i?"opacity-50 cursor-not-allowed bg-gray-50":"hover:bg-gray-50"}
                `,children:[o.jsx("span",{className:`block truncate ${m?"text-gray-900":"text-gray-400"}`,children:m?`${m.label}${m.subLabel?` (${m.subLabel})`:""}`:r}),o.jsx(_s,{size:16,className:`text-gray-400 transition-transform ${s?"rotate-180":""}`})]}),s&&o.jsxs("div",{className:"absolute z-50 mt-1 w-full bg-white rounded-lg shadow-xl border border-gray-200 animate-in fade-in zoom-in-95 duration-100 min-w-[250px]",children:[o.jsx("div",{className:"p-2 border-b border-gray-100",children:o.jsxs("div",{className:"relative",children:[o.jsx(pc,{size:14,className:"absolute left-2.5 top-2.5 text-gray-400"}),o.jsx("input",{ref:h,type:"text",className:"w-full pl-8 pr-3 py-1.5 text-sm border border-gray-200 rounded-md focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 placeholder-gray-400",placeholder:"Pesquisar...",value:c,onChange:A=>d(A.target.value)})]})}),o.jsx("ul",{className:"max-h-60 overflow-auto py-1",children:p.length===0?o.jsx("li",{className:"px-4 py-3 text-sm text-gray-500 text-center italic",children:"Nenhum resultado encontrado."}):p.map(A=>o.jsxs("li",{onClick:()=>g(A.value),className:`
                                        cursor-pointer select-none relative py-2 pl-3 pr-9 hover:bg-indigo-50
                                        ${A.value===e?"bg-indigo-50 text-indigo-700 font-medium":"text-gray-900"}
                                    `,children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"block truncate text-sm",children:A.label}),A.subLabel&&o.jsx("span",{className:`block truncate text-xs ${A.value===e?"text-indigo-500":"text-gray-400"}`,children:A.subLabel})]}),A.value===e&&o.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-3 text-indigo-600",children:o.jsx(Ll,{size:16})})]},A.value))})]})]})},y4=({task:t,resources:e,projectTeam:n,allTasks:r,onSave:a,onCancel:i,onSplit:s,forceLandscape:l=!1})=>{const[c,d]=L.useState({progress:0,dependencies:[],type:"task",...t}),[u,h]=L.useState(!1),[p,m]=L.useState("start"),[g,A]=L.useState(""),[v,x]=L.useState(new Date),[y,w]=L.useState(2),T=L.useRef(null);L.useEffect(()=>{t&&d({...t,dependencies:t.dependencies||[]})},[t]);const[I,R]=L.useState(!1),[_,N]=L.useState(new Date),E=L.useRef(null),[k,P]=L.useState("start");L.useEffect(()=>{t&&(c.start&&x(c.start),c.realStart&&N(c.realStart))},[t]),L.useEffect(()=>{function W(V){T.current&&!T.current.contains(V.target)&&h(!1),E.current&&!E.current.contains(V.target)&&R(!1)}return document.addEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)}},[]);const C=W=>{const V=new Date(W);if(V.setHours(12,0,0,0),p==="start")d(te=>({...te,start:V,end:V})),m("end");else{const te=c.start||V;eo(V,te)?d(J=>({...J,start:V,end:te})):d(J=>({...J,end:V})),m("start"),h(!1)}},D=W=>{const V=new Date(W);if(V.setHours(12,0,0,0),k==="start")d(te=>({...te,realStart:V,realEnd:V})),P("end");else{const te=c.realStart||V;eo(V,te)?d(J=>({...J,realStart:V,realEnd:te})):d(J=>({...J,realEnd:V})),P("start"),R(!1)}},b=(W,V=!1)=>{V?N(te=>as(te,W)):x(te=>as(te,W))},O=Xl(v),z=qb(O),G=Hb({start:Ao(O),end:Qb(z)}),Q=Xl(_),q=qb(Q),ne=Hb({start:Ao(Q),end:Qb(q)}),Y=t!=null&&t.id?r.filter(W=>{var V;return(V=W.dependencies)==null?void 0:V.includes(t.id)}):[],K=r.filter(W=>{var V;return W.id!==(t==null?void 0:t.id)&&!((V=c.dependencies)!=null&&V.includes(W.id))&&W.type!=="project"}),ce=()=>{if(!g)return;const W=c.dependencies||[];d(V=>({...V,dependencies:[...W,g]})),A("")},ie=W=>{const V=c.dependencies||[];d(te=>({...te,dependencies:V.filter(J=>J!==W)}))},oe=(W,V)=>!W||!V?0:Jr(W,V),ge=L.useMemo(()=>{const W=te=>{let J=0,re=0,he=0,Ie=0;for(const Ee of te)if(Ee.type==="project"){const We=r.filter(ct=>ct.parent===Ee.id),pt=W(We);J+=pt.hours,re+=pt.cost,he+=pt.realHours,Ie+=pt.realCost}else{const We=oe(Ee.start,Ee.end)*8,pt=Ee.hourlyRate||0;J+=We,re+=We*pt;const ct=Ee.realStart&&Ee.realEnd?oe(Ee.realStart,Ee.realEnd)*8:0;he+=ct,Ie+=ct*pt}return{hours:J,cost:re,realHours:he,realCost:Ie}};let V={hours:0,cost:0,realHours:0,realCost:0};if(c.type==="project"){if(c.id){const te=r.filter(J=>J.parent===c.id);V=W(te)}}else{const te=oe(c.start,c.end)*8,J=c.hourlyRate||0,re=c.realStart&&c.realEnd?oe(c.realStart,c.realEnd)*8:0;V={hours:te,cost:te*J,realHours:re,realCost:re*J}}return{hours:V.hours,ftes:V.hours/168,avgRate:V.hours>0?V.cost/V.hours:0,totalCost:V.cost,totalRealCost:V.realCost,realHours:V.realHours}},[c,r]),[je,ye]=L.useState(!1);L.useEffect(()=>{const W=()=>{const J=window.matchMedia("(orientation: landscape) and (max-height: 900px) and (max-width: 1024px)");ye(J.matches)};W();const V=window.matchMedia("(orientation: landscape) and (max-height: 900px) and (max-width: 1024px)"),te=J=>ye(J.matches);return V.addEventListener?V.addEventListener("change",te):V.addListener(te),window.addEventListener("resize",W),()=>{V.removeEventListener?V.removeEventListener("change",te):V.removeListener(te),window.removeEventListener("resize",W)}},[]);const me=je||l,Te=l&&!je,xe=W=>{if(W&&W.preventDefault(),!c.name||!c.start||!c.end){alert("Por favor preencha todos os campos obrigatrios (Nome, Incio, Fim).");return}const te=[...new Set(c.dependencies||[])].filter(J=>J!==(t==null?void 0:t.id)&&r.some(re=>re.id===J));a({...c,dependencies:te})},Ne=W=>{const V=W?ne:G,te=W?_:v,J=W?"realStart":"start",re=W?"realEnd":"end";return V.map((he,Ie)=>{const Ee=c[J]?zs(he,c[J]):!1,We=c[re]?zs(he,c[re]):!1,pt=c[J]&&c[re]?xj(he,{start:c[J],end:c[re]}):!1,ct=Aj(he,te);return o.jsx("button",{type:"button",onClick:()=>W?D(he):C(he),className:`
                         h-9 w-9 flex items-center justify-center text-sm transition-all relative rounded-full
                         ${ct?"text-gray-700 hover:bg-indigo-50":"text-gray-300"}
                         ${pt&&!Ee&&!We?"bg-indigo-50 text-indigo-700 rounded-none":""}
                         ${Ee||We?"bg-indigo-600 text-white shadow-md z-10 font-bold":""}
                         ${Ee&&c[re]&&c[J]&&!zs(c[J],c[re])?"rounded-r-none":""}
                         ${We&&c[J]&&c[re]&&!zs(c[J],c[re])?"rounded-l-none":""}
                     `,children:Lt(he,"d")},Ie)})},Ce=me?"fixed inset-0 z-[99999] flex justify-start pointer-events-auto":"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999] p-4",j=me?"w-2/5 h-full bg-white shadow-2xl flex flex-col rounded-r-xl border-r border-gray-200":"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",H=me?"px-4 py-2 border-b border-gray-100 flex justify-between items-center bg-gray-50 flex-shrink-0":"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50 flex-shrink-0",X=me?"flex-1 p-4 space-y-4 overflow-y-auto":"flex-1 overflow-y-auto p-6 space-y-6",F=me?"w-full rounded border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 border py-1 px-2 text-xs":"w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 border p-2.5",B=me?"block text-[10px] font-bold text-gray-700 mb-0.5":"block text-sm font-medium text-gray-700 mb-1",U=me?"font-bold text-gray-900 border-b pb-1 mb-2 text-xs flex items-center gap-2":"font-semibold text-gray-900 border-b pb-2 mb-4 flex items-center gap-2",Z=Te?{position:"fixed",top:0,left:"100vw",width:"100vh",height:"100vw",transform:"rotate(90deg)",transformOrigin:"top left",zIndex:99999}:{zIndex:me?99999:9999};return o.jsx("div",{className:Ce,style:Z,children:o.jsxs("div",{className:j,children:[o.jsxs("div",{className:H,children:[o.jsxs("h2",{className:`font-bold text-gray-800 ${me?"text-sm flex items-center gap-2":"text-xl"}`,children:[t?"Editar Tarefa":"Nova Tarefa",me&&o.jsx("span",{className:"text-[10px] font-normal text-gray-400 bg-gray-50 px-1 rounded border",children:"Modo Horizontal"})]}),o.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600",children:o.jsx(yr,{size:me?20:24})})]}),o.jsxs("form",{onSubmit:xe,className:X,children:[o.jsxs("div",{className:me?"space-y-2":"space-y-4",children:[o.jsx("h3",{className:U,children:"Informaes Gerais"}),o.jsxs("div",{className:`grid gap-4 ${me?"grid-cols-2 gap-2":"grid-cols-1 md:grid-cols-2"}`,children:[o.jsxs("div",{className:me?"col-span-1":"md:col-span-2",children:[o.jsx("label",{className:B,children:"Nome da Tarefa"}),o.jsx("input",{type:"text",value:c.name||"",onChange:W=>d(V=>({...V,name:W.target.value})),className:F,required:!0,placeholder:"ex: Design da Homepage"})]}),o.jsxs("div",{className:"relative",ref:T,children:[o.jsx("label",{className:B,children:"Estimativa (Planejado)"}),o.jsxs("div",{onClick:()=>h(!u),className:`${F} flex items-center justify-between cursor-pointer hover:bg-gray-50 bg-white`,children:[o.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[o.jsx(Qi,{size:me?14:18,className:"text-gray-400"}),o.jsxs("span",{className:"font-medium",children:[c.start?Lt(c.start,"dd/MM/yyyy"):"__/__/____","  -  ",c.end?Lt(c.end,"dd/MM/yyyy"):"__/__/____"]})]}),o.jsx("div",{className:`text-gray-400 bg-gray-100 rounded ${me?"text-[10px] px-1":"text-xs px-2 py-1"}`,children:c.start&&c.end?`${oe(c.start,c.end)} dias teis`:"Selecione"})]}),u&&o.jsxs("div",{className:"absolute top-full left-0 z-50 mt-1 bg-white rounded-lg shadow-xl border border-gray-200 p-4 w-[320px] animate-in fade-in zoom-in-95 duration-150",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("button",{type:"button",onClick:()=>b(-1,!1),className:"p-1 hover:bg-gray-100 rounded-full text-gray-600",children:o.jsx(Zd,{size:20})}),o.jsx("span",{className:"font-bold text-gray-900 capitalize",children:Lt(v,"MMMM yyyy",{locale:Ka})}),o.jsx("button",{type:"button",onClick:()=>b(1,!1),className:"p-1 hover:bg-gray-100 rounded-full text-gray-600",children:o.jsx(xo,{size:20})})]}),o.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-2 text-center text-xs font-bold text-gray-400",children:[o.jsx("div",{children:"D"}),o.jsx("div",{children:"S"}),o.jsx("div",{children:"T"}),o.jsx("div",{children:"Q"}),o.jsx("div",{children:"Q"}),o.jsx("div",{children:"S"}),o.jsx("div",{children:"S"})]}),o.jsx("div",{className:"grid grid-cols-7 gap-1",children:Ne(!1)}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex justify-between items-center text-xs",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-600"})," Incio"]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-900"})," Fim"]})]}),o.jsx("div",{className:"font-medium text-gray-500",children:p==="start"?"Selecione o Incio":"Selecione o Fim"})]})]})]}),o.jsxs("div",{className:`grid ${me?"grid-cols-2 gap-2":"grid-cols-2 gap-4"}`,children:[o.jsxs("div",{children:[o.jsx("label",{className:B,children:"Status (Progresso)"}),o.jsxs("select",{value:(c.progress||0)===0?"todo":(c.progress||0)>=100?c.start&&c.realStart&&zs(c.start,c.realStart)&&c.end&&c.realEnd&&zs(c.end,c.realEnd)?"done_on_time":"done":"doing",onChange:W=>{const V=W.target.value;if(V==="todo"&&d(te=>({...te,progress:0})),V==="done"){const te=new Date;te.setHours(12,0,0,0),d(J=>({...J,progress:100,realStart:J.start,realEnd:te})),R(!0),E.current&&E.current.scrollIntoView({behavior:"smooth",block:"center"})}V==="done_on_time"&&d(te=>({...te,progress:100,realStart:te.start,realEnd:te.end})),V==="doing"&&(c.progress===0||c.progress===100)&&d(te=>({...te,progress:50}))},className:F,children:[o.jsx("option",{value:"todo",children:"A Fazer"}),o.jsx("option",{value:"doing",children:"Em Andamento"}),o.jsx("option",{value:"done",children:"Concludo em Atraso/Antecipado"}),o.jsx("option",{value:"done_on_time",children:"Concludo no Prazo"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:B,children:"Percentual"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"number",min:"0",max:"99",value:c.progress||0,onChange:W=>{const V=W.target.value;if(V===""){d(J=>({...J,progress:0}));return}let te=parseInt(V);isNaN(te)&&(te=0),te<0&&(te=0),te>=100&&(te=99),d(J=>({...J,progress:te}))},className:`${F} text-center`}),o.jsx("span",{className:"text-gray-500 font-medium text-xs",children:"%"})]})]}),(t==null?void 0:t.type)==="project"&&o.jsx("p",{className:"text-[10px] text-amber-600 mt-1 col-span-2",children:"* Progresso de projetos  calculado automaticamente."})]}),o.jsxs("div",{className:me?"col-span-1":"md:col-span-2",children:[o.jsx("label",{className:B,children:"Tarefa Pai (Hierarquia)"}),o.jsxs("select",{value:c.parent||"",onChange:W=>d(V=>({...V,parent:W.target.value})),className:F,children:[o.jsx("option",{value:"auto-id-1",children:"-- Nenhuma (Raiz) --"}),r.filter(W=>W.id!==(t==null?void 0:t.id)).map(W=>o.jsx("option",{value:W.id,children:W.name},W.id))]})]})]})]}),o.jsxs("div",{className:me?"space-y-2 opacity-90 scale-95 origin-top-left w-[105%]":"space-y-4",children:[o.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-2 border-b border-gray-100 pb-2 mb-4",children:o.jsx("h3",{className:U,children:"Execuo e Financeiro"})}),n&&n.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:B,children:"Profissional / Papel Sugerido"}),o.jsxs("select",{value:c.assignedResource||"",onChange:W=>{const V=W.target.value,te=n.find(J=>J.role.trim()===V.trim());d(J=>({...J,assignedResource:V,hourlyRate:te&&te.hourlyRate!==void 0&&te.hourlyRate!==null?te.hourlyRate:J.hourlyRate}))},className:`${F} bg-indigo-50 border-indigo-200 text-indigo-900 font-medium`,children:[o.jsx("option",{value:"",children:"-- Selecionar Papel da Equipe --"}),n.map((W,V)=>o.jsxs("option",{value:W.role,children:[W.role," (",W.hourlyRate?`R$ ${W.hourlyRate}/h`:"Sem Taxa definida",")"]},V))]}),o.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"Ao selecionar um papel, a taxa/hora ser atualizada automaticamente (se definida na aba Equipe)."})]}),o.jsxs("div",{className:`grid gap-4 ${me?"grid-cols-2 gap-2 text-xs":"grid-cols-1 md:grid-cols-2"}`,children:[o.jsxs("div",{className:"relative",ref:E,children:[o.jsx("label",{className:B,children:"Execuo Real"}),o.jsx("div",{onClick:()=>R(!I),className:`${F} flex items-center justify-between cursor-pointer hover:bg-gray-50 bg-white`,children:o.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[o.jsx(Qi,{size:me?14:18,className:"text-emerald-500"}),o.jsxs("span",{className:"font-medium",children:[c.realStart?Lt(c.realStart,"dd/MM/yyyy"):"__/__/____","  -  ",c.realEnd?Lt(c.realEnd,"dd/MM/yyyy"):"__/__/____"]})]})}),I&&o.jsxs("div",{className:"absolute top-full left-0 z-50 mt-1 bg-white rounded-lg shadow-xl border border-gray-200 p-4 w-[320px] animate-in fade-in zoom-in-95 duration-150",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("button",{type:"button",onClick:()=>b(-1,!0),className:"p-1 hover:bg-gray-100 rounded-full text-gray-600",children:o.jsx(Zd,{size:20})}),o.jsx("span",{className:"font-bold text-gray-900 capitalize",children:Lt(_,"MMMM yyyy",{locale:Ka})}),o.jsx("button",{type:"button",onClick:()=>b(1,!0),className:"p-1 hover:bg-gray-100 rounded-full text-gray-600",children:o.jsx(xo,{size:20})})]}),o.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-2 text-center text-xs font-bold text-gray-400",children:[o.jsx("div",{children:"D"}),o.jsx("div",{children:"S"}),o.jsx("div",{children:"T"}),o.jsx("div",{children:"Q"}),o.jsx("div",{children:"Q"}),o.jsx("div",{children:"S"}),o.jsx("div",{children:"S"})]}),o.jsx("div",{className:"grid grid-cols-7 gap-1",children:Ne(!0)})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:B,children:"Valor Hora (R$)"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 font-bold text-xs pointer-events-none",children:"R$"}),o.jsx("input",{type:"number",value:c.hourlyRate||"",onChange:W=>d(V=>({...V,hourlyRate:parseFloat(W.target.value)})),className:`${F} pl-8`,placeholder:"0,00"})]})]})]}),o.jsxs("div",{className:`bg-gray-50 rounded-lg border border-gray-200 ${me?"p-2":"p-4"}`,children:[o.jsx("h4",{className:`font-bold text-gray-700 mb-2 ${me?"text-[10px]":"text-xs uppercase tracking-wider"}`,children:"Totais Calculados"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] text-gray-500",children:"Horas Plan."}),o.jsxs("p",{className:`font-bold text-gray-900 ${me?"text-xs":"text-lg"}`,children:[Math.round(ge.hours),"h"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] text-gray-500",children:"Custo Plan."}),o.jsxs("p",{className:`font-bold text-gray-900 ${me?"text-xs":"text-lg"}`,children:["R$ ",ge.totalCost.toLocaleString("pt-BR",{notation:"compact"})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] text-emerald-600",children:"Horas Reais"}),o.jsxs("p",{className:`font-bold text-emerald-700 ${me?"text-xs":"text-lg"}`,children:[Math.round(ge.realHours),"h"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] text-emerald-600",children:"Custo Real"}),o.jsxs("p",{className:`font-bold text-emerald-700 ${me?"text-xs":"text-lg"}`,children:["R$ ",ge.totalRealCost.toLocaleString("pt-BR",{notation:"compact"})]})]})]})]})]}),o.jsxs("div",{className:me?"space-y-2":"space-y-4",children:[o.jsxs("h3",{className:U,children:[o.jsx(qj,{size:me?14:18}),"Dependncias"]}),o.jsxs("div",{className:`grid ${me?"grid-cols-2 gap-2":"grid-cols-1 md:grid-cols-2 gap-6"}`,children:[o.jsxs("div",{className:`bg-gray-50 p-2 rounded-lg border border-gray-200 ${me?"text-xs":""}`,children:[o.jsxs("h4",{className:`font-bold text-gray-700 mb-2 flex items-center gap-2 ${me?"text-[10px]":"text-sm"}`,children:[o.jsx(Ej,{size:14,className:"text-amber-600"}),"Predecessoras"]}),o.jsxs("div",{className:"space-y-2 mb-2 max-h-20 overflow-y-auto",children:[(c.dependencies||[]).length===0&&o.jsx("p",{className:"text-[10px] text-gray-400 italic",children:"Nenhuma."}),(c.dependencies||[]).map(W=>{const V=r.find(te=>te.id===W);return o.jsxs("div",{className:"flex justify-between items-center bg-white p-1 rounded shadow-sm border border-gray-100",children:[o.jsx("span",{className:"truncate flex-1",title:V?V.name:W,children:V?V.name:W}),o.jsx("button",{type:"button",onClick:()=>ie(W),className:"text-red-400 hover:text-red-600 p-1",children:o.jsx(yr,{size:12})})]},W)})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:"flex-1 w-0 min-w-0",children:o.jsx(x4,{value:g,onChange:W=>A(W),options:K.map(W=>({value:W.id,label:W.name})),placeholder:"Add Dep..."})}),o.jsx("button",{type:"button",onClick:ce,disabled:!g,className:"bg-indigo-600 text-white px-2 py-1 rounded text-xs hover:bg-indigo-700 disabled:opacity-50",children:o.jsx(Mn,{size:14})})]})]}),o.jsxs("div",{className:`bg-gray-50 p-2 rounded-lg border border-gray-200 opacity-80 ${me?"text-xs":""}`,children:[o.jsxs("h4",{className:`font-bold text-gray-700 mb-2 flex items-center gap-2 ${me?"text-[10px]":"text-sm"}`,children:[o.jsx(Nj,{size:14,className:"text-blue-600"}),"Sucessoras"]}),o.jsxs("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:[Y.length===0&&o.jsx("p",{className:"text-[10px] text-gray-400 italic",children:"Nenhuma."}),Y.map(W=>o.jsx("div",{className:"bg-white p-1 rounded shadow-sm border border-gray-100 text-gray-600 truncate",children:W.name},W.id))]})]})]})]}),t&&s&&o.jsxs("div",{className:`pt-2 border-t border-gray-100 ${me?"mt-3":"mt-6"}`,children:[o.jsxs("h3",{className:U,children:[o.jsx(Lj,{size:me?14:16,className:"text-orange-600"}),"Ferramentas Avanadas"]}),o.jsx("div",{className:`bg-orange-50 rounded-lg border border-orange-100 ${me?"p-2":"p-4"}`,children:o.jsxs("div",{className:"flex items-end gap-3",children:[o.jsxs("div",{className:"w-24",children:[o.jsx("label",{className:B,children:"Fator de Quebra"}),o.jsx("input",{type:"number",min:"2",max:"10",value:y,onChange:W=>w(Math.max(2,parseInt(W.target.value)||2)),className:F})]}),o.jsxs("button",{type:"button",onClick:()=>{y<2||window.confirm(`Confirmar paralelismo em ${y}?`)&&s(c,y)},className:`flex-1 flex items-center justify-center gap-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg font-medium transition-colors shadow-sm ${me?"px-3 py-1 text-xs":"px-4 py-2 text-sm"}`,children:[o.jsx(Oj,{size:16}),"Aplicar"]})]})})]})]}),o.jsxs("div",{className:`border-t border-gray-100 flex justify-end gap-3 bg-gray-50 flex-shrink-0 ${me?"p-2":"p-4"}`,children:[o.jsx("button",{type:"button",onClick:i,className:`font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 shadow-sm ${me?"px-4 py-1.5 text-xs":"px-5 py-2.5 text-sm"}`,children:"Cancelar"}),o.jsx("button",{type:"button",onClick:xe,className:`font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 shadow-md ${me?"px-4 py-1.5 text-xs":"px-5 py-2.5 text-sm"}`,children:"Salvar Alteraes"})]})]})})};var ww={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},v4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const i=t[n++];e[r++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=t[n++],s=t[n++],l=t[n++],c=((a&7)<<18|(i&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],s=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return e.join("")},oN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const i=t[a],s=a+1<t.length,l=s?t[a+1]:0,c=a+2<t.length,d=c?t[a+2]:0,u=i>>2,h=(i&3)<<4|l>>4;let p=(l&15)<<2|d>>6,m=d&63;c||(m=64,s||(p=64)),r.push(n[u],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):v4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const i=n[t.charAt(a++)],l=a<t.length?n[t.charAt(a)]:0;++a;const d=a<t.length?n[t.charAt(a)]:64;++a;const h=a<t.length?n[t.charAt(a)]:64;if(++a,i==null||l==null||d==null||h==null)throw new b4;const p=i<<2|l>>4;if(r.push(p),d!==64){const m=l<<4&240|d>>2;if(r.push(m),h!==64){const g=d<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class b4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const w4=function(t){const e=sN(t);return oN.encodeByteArray(e,!0)},rp=function(t){return w4(t).replace(/\./g,"")},lN=function(t){try{return oN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=()=>_4().__FIREBASE_DEFAULTS__,E4=()=>{if(typeof process>"u"||typeof ww>"u")return;const t=ww.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},N4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lN(t[1]);return e&&JSON.parse(e)},tm=()=>{try{return C4()||E4()||N4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cN=t=>{var e,n;return(n=(e=tm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},I4=t=>{const e=cN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dN=()=>{var t;return(t=tm())===null||t===void 0?void 0:t.config},uN=t=>{var e;return(e=tm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[rp(JSON.stringify(n)),rp(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function k4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function D4(){var t;const e=(t=tm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function R4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function P4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function j4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function M4(){const t=In();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hN(){return!D4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fN(){try{return typeof indexedDB=="object"}catch{return!1}}function L4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var i;e(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="FirebaseError";class fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=O4,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pu.prototype.create)}}class Pu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,i=this.errors[e],s=i?F4(i,r):"Error",l=`${this.serviceName}: ${s} (${a}).`;return new fi(a,l,r)}}function F4(t,e){return t.replace(B4,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const B4=/\{\$([^}]+)}/g;function z4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ap(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const i=t[a],s=e[a];if(_w(i)&&_w(s)){if(!ap(i,s))return!1}else if(i!==s)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function _w(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ed(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,i]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(i)}}),e}function td(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function V4(t,e){const n=new U4(t,e);return n.subscribe.bind(n)}class U4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");G4(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=gg),a.error===void 0&&(a.error=gg),a.complete===void 0&&(a.complete=gg);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function G4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t){return t&&t._delegate?t._delegate:t}class bo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new S4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q4(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:a});r.resolve(i)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&s.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(a,i);const s=this.instances.get(a);return s&&e(s,a),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $4(t){return t===Us?void 0:t}function q4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new W4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(bt||(bt={}));const Q4={debug:bt.DEBUG,verbose:bt.VERBOSE,info:bt.INFO,warn:bt.WARN,error:bt.ERROR,silent:bt.SILENT},X4=bt.INFO,K4={[bt.DEBUG]:"log",[bt.VERBOSE]:"log",[bt.INFO]:"info",[bt.WARN]:"warn",[bt.ERROR]:"error"},Y4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=K4[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bx{constructor(e){this.name=e,this._logLevel=X4,this._logHandler=Y4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Q4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,bt.DEBUG,...e),this._logHandler(this,bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,bt.VERBOSE,...e),this._logHandler(this,bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,bt.INFO,...e),this._logHandler(this,bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,bt.WARN,...e),this._logHandler(this,bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,bt.ERROR,...e),this._logHandler(this,bt.ERROR,...e)}}const J4=(t,e)=>e.some(n=>t instanceof n);let Cw,Ew;function Z4(){return Cw||(Cw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function e5(){return Ew||(Ew=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pN=new WeakMap,U0=new WeakMap,mN=new WeakMap,Ag=new WeakMap,zx=new WeakMap;function t5(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(is(t.result)),a()},s=()=>{r(t.error),a()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&pN.set(n,t)}).catch(()=>{}),zx.set(e,t),e}function n5(t){if(U0.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),a()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});U0.set(t,e)}let G0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return U0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return is(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function r5(t){G0=t(G0)}function a5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xg(this),e,...n);return mN.set(r,e.sort?e.sort():[e]),is(r)}:e5().includes(t)?function(...e){return t.apply(xg(this),e),is(pN.get(this))}:function(...e){return is(t.apply(xg(this),e))}}function i5(t){return typeof t=="function"?a5(t):(t instanceof IDBTransaction&&n5(t),J4(t,Z4())?new Proxy(t,G0):t)}function is(t){if(t instanceof IDBRequest)return t5(t);if(Ag.has(t))return Ag.get(t);const e=i5(t);return e!==t&&(Ag.set(t,e),zx.set(e,t)),e}const xg=t=>zx.get(t);function s5(t,e,{blocked:n,upgrade:r,blocking:a,terminated:i}={}){const s=indexedDB.open(t,e),l=is(s);return r&&s.addEventListener("upgradeneeded",c=>{r(is(s.result),c.oldVersion,c.newVersion,is(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),a&&c.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const o5=["get","getKey","getAll","getAllKeys","count"],l5=["put","add","delete","clear"],yg=new Map;function Nw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yg.get(e))return yg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=l5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||o5.includes(n)))return;const i=async function(s,...l){const c=this.transaction(s,a?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),a&&c.done]))[0]};return yg.set(e,i),i}r5(t=>({...t,get:(e,n,r)=>Nw(e,n)||t.get(e,n,r),has:(e,n)=>!!Nw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(d5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function d5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const W0="@firebase/app",Iw="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new Bx("@firebase/app"),u5="@firebase/app-compat",h5="@firebase/analytics-compat",f5="@firebase/analytics",p5="@firebase/app-check-compat",m5="@firebase/app-check",g5="@firebase/auth",A5="@firebase/auth-compat",x5="@firebase/database",y5="@firebase/data-connect",v5="@firebase/database-compat",b5="@firebase/functions",w5="@firebase/functions-compat",_5="@firebase/installations",C5="@firebase/installations-compat",E5="@firebase/messaging",N5="@firebase/messaging-compat",I5="@firebase/performance",S5="@firebase/performance-compat",T5="@firebase/remote-config",k5="@firebase/remote-config-compat",D5="@firebase/storage",R5="@firebase/storage-compat",P5="@firebase/firestore",j5="@firebase/vertexai-preview",M5="@firebase/firestore-compat",L5="firebase",O5="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="[DEFAULT]",F5={[W0]:"fire-core",[u5]:"fire-core-compat",[f5]:"fire-analytics",[h5]:"fire-analytics-compat",[m5]:"fire-app-check",[p5]:"fire-app-check-compat",[g5]:"fire-auth",[A5]:"fire-auth-compat",[x5]:"fire-rtdb",[y5]:"fire-data-connect",[v5]:"fire-rtdb-compat",[b5]:"fire-fn",[w5]:"fire-fn-compat",[_5]:"fire-iid",[C5]:"fire-iid-compat",[E5]:"fire-fcm",[N5]:"fire-fcm-compat",[I5]:"fire-perf",[S5]:"fire-perf-compat",[T5]:"fire-rc",[k5]:"fire-rc-compat",[D5]:"fire-gcs",[R5]:"fire-gcs-compat",[P5]:"fire-fst",[M5]:"fire-fst-compat",[j5]:"fire-vertex","fire-js":"fire-js",[L5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip=new Map,B5=new Map,q0=new Map;function Sw(t,e){try{t.container.addComponent(e)}catch(n){ci.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zl(t){const e=t.name;if(q0.has(e))return ci.debug(`There were multiple attempts to register component ${e}.`),!1;q0.set(e,t);for(const n of ip.values())Sw(n,t);for(const n of B5.values())Sw(n,t);return!0}function Vx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ha(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new Pu("app","Firebase",z5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=O5;function gN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$0,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw ss.create("bad-app-name",{appName:String(a)});if(n||(n=dN()),!n)throw ss.create("no-options");const i=ip.get(a);if(i){if(ap(n,i.options)&&ap(r,i.config))return i;throw ss.create("duplicate-app",{appName:a})}const s=new H4(a);for(const c of q0.values())s.addComponent(c);const l=new V5(n,r,s);return ip.set(a,l),l}function AN(t=$0){const e=ip.get(t);if(!e&&t===$0&&dN())return gN();if(!e)throw ss.create("no-app",{appName:t});return e}function os(t,e,n){var r;let a=(r=F5[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const i=a.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${a}" with version "${e}":`];i&&l.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ci.warn(l.join(" "));return}Zl(new bo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5="firebase-heartbeat-database",G5=1,au="firebase-heartbeat-store";let vg=null;function xN(){return vg||(vg=s5(U5,G5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(au)}catch(n){console.warn(n)}}}}).catch(t=>{throw ss.create("idb-open",{originalErrorMessage:t.message})})),vg}async function W5(t){try{const n=(await xN()).transaction(au),r=await n.objectStore(au).get(yN(t));return await n.done,r}catch(e){if(e instanceof fi)ci.warn(e.message);else{const n=ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ci.warn(n.message)}}}async function Tw(t,e){try{const r=(await xN()).transaction(au,"readwrite");await r.objectStore(au).put(e,yN(t)),await r.done}catch(n){if(n instanceof fi)ci.warn(n.message);else{const r=ss.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ci.warn(r.message)}}}function yN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5=1024,q5=30*24*60*60*1e3;class H5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new X5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=kw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=q5}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ci.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kw(),{heartbeatsToSend:r,unsentEntries:a}=Q5(this._heartbeatsCache.heartbeats),i=rp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ci.warn(n),""}}}function kw(){return new Date().toISOString().substring(0,10)}function Q5(t,e=$5){const n=[];let r=t.slice();for(const a of t){const i=n.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),Dw(n)>e){i.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Dw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class X5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fN()?L4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await W5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Tw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Tw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Dw(t){return rp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(t){Zl(new bo("platform-logger",e=>new c5(e),"PRIVATE")),Zl(new bo("heartbeat",e=>new H5(e),"PRIVATE")),os(W0,Iw,t),os(W0,Iw,"esm2017"),os("fire-js","")}K5("");var Rw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var co,vN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,N){function E(){}E.prototype=N.prototype,_.D=N.prototype,_.prototype=new E,_.prototype.constructor=_,_.C=function(k,P,C){for(var D=Array(arguments.length-2),b=2;b<arguments.length;b++)D[b-2]=arguments[b];return N.prototype[P].apply(k,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(_,N,E){E||(E=0);var k=Array(16);if(typeof N=="string")for(var P=0;16>P;++P)k[P]=N.charCodeAt(E++)|N.charCodeAt(E++)<<8|N.charCodeAt(E++)<<16|N.charCodeAt(E++)<<24;else for(P=0;16>P;++P)k[P]=N[E++]|N[E++]<<8|N[E++]<<16|N[E++]<<24;N=_.g[0],E=_.g[1],P=_.g[2];var C=_.g[3],D=N+(C^E&(P^C))+k[0]+3614090360&4294967295;N=E+(D<<7&4294967295|D>>>25),D=C+(P^N&(E^P))+k[1]+3905402710&4294967295,C=N+(D<<12&4294967295|D>>>20),D=P+(E^C&(N^E))+k[2]+606105819&4294967295,P=C+(D<<17&4294967295|D>>>15),D=E+(N^P&(C^N))+k[3]+3250441966&4294967295,E=P+(D<<22&4294967295|D>>>10),D=N+(C^E&(P^C))+k[4]+4118548399&4294967295,N=E+(D<<7&4294967295|D>>>25),D=C+(P^N&(E^P))+k[5]+1200080426&4294967295,C=N+(D<<12&4294967295|D>>>20),D=P+(E^C&(N^E))+k[6]+2821735955&4294967295,P=C+(D<<17&4294967295|D>>>15),D=E+(N^P&(C^N))+k[7]+4249261313&4294967295,E=P+(D<<22&4294967295|D>>>10),D=N+(C^E&(P^C))+k[8]+1770035416&4294967295,N=E+(D<<7&4294967295|D>>>25),D=C+(P^N&(E^P))+k[9]+2336552879&4294967295,C=N+(D<<12&4294967295|D>>>20),D=P+(E^C&(N^E))+k[10]+4294925233&4294967295,P=C+(D<<17&4294967295|D>>>15),D=E+(N^P&(C^N))+k[11]+2304563134&4294967295,E=P+(D<<22&4294967295|D>>>10),D=N+(C^E&(P^C))+k[12]+1804603682&4294967295,N=E+(D<<7&4294967295|D>>>25),D=C+(P^N&(E^P))+k[13]+4254626195&4294967295,C=N+(D<<12&4294967295|D>>>20),D=P+(E^C&(N^E))+k[14]+2792965006&4294967295,P=C+(D<<17&4294967295|D>>>15),D=E+(N^P&(C^N))+k[15]+1236535329&4294967295,E=P+(D<<22&4294967295|D>>>10),D=N+(P^C&(E^P))+k[1]+4129170786&4294967295,N=E+(D<<5&4294967295|D>>>27),D=C+(E^P&(N^E))+k[6]+3225465664&4294967295,C=N+(D<<9&4294967295|D>>>23),D=P+(N^E&(C^N))+k[11]+643717713&4294967295,P=C+(D<<14&4294967295|D>>>18),D=E+(C^N&(P^C))+k[0]+3921069994&4294967295,E=P+(D<<20&4294967295|D>>>12),D=N+(P^C&(E^P))+k[5]+3593408605&4294967295,N=E+(D<<5&4294967295|D>>>27),D=C+(E^P&(N^E))+k[10]+38016083&4294967295,C=N+(D<<9&4294967295|D>>>23),D=P+(N^E&(C^N))+k[15]+3634488961&4294967295,P=C+(D<<14&4294967295|D>>>18),D=E+(C^N&(P^C))+k[4]+3889429448&4294967295,E=P+(D<<20&4294967295|D>>>12),D=N+(P^C&(E^P))+k[9]+568446438&4294967295,N=E+(D<<5&4294967295|D>>>27),D=C+(E^P&(N^E))+k[14]+3275163606&4294967295,C=N+(D<<9&4294967295|D>>>23),D=P+(N^E&(C^N))+k[3]+4107603335&4294967295,P=C+(D<<14&4294967295|D>>>18),D=E+(C^N&(P^C))+k[8]+1163531501&4294967295,E=P+(D<<20&4294967295|D>>>12),D=N+(P^C&(E^P))+k[13]+2850285829&4294967295,N=E+(D<<5&4294967295|D>>>27),D=C+(E^P&(N^E))+k[2]+4243563512&4294967295,C=N+(D<<9&4294967295|D>>>23),D=P+(N^E&(C^N))+k[7]+1735328473&4294967295,P=C+(D<<14&4294967295|D>>>18),D=E+(C^N&(P^C))+k[12]+2368359562&4294967295,E=P+(D<<20&4294967295|D>>>12),D=N+(E^P^C)+k[5]+4294588738&4294967295,N=E+(D<<4&4294967295|D>>>28),D=C+(N^E^P)+k[8]+2272392833&4294967295,C=N+(D<<11&4294967295|D>>>21),D=P+(C^N^E)+k[11]+1839030562&4294967295,P=C+(D<<16&4294967295|D>>>16),D=E+(P^C^N)+k[14]+4259657740&4294967295,E=P+(D<<23&4294967295|D>>>9),D=N+(E^P^C)+k[1]+2763975236&4294967295,N=E+(D<<4&4294967295|D>>>28),D=C+(N^E^P)+k[4]+1272893353&4294967295,C=N+(D<<11&4294967295|D>>>21),D=P+(C^N^E)+k[7]+4139469664&4294967295,P=C+(D<<16&4294967295|D>>>16),D=E+(P^C^N)+k[10]+3200236656&4294967295,E=P+(D<<23&4294967295|D>>>9),D=N+(E^P^C)+k[13]+681279174&4294967295,N=E+(D<<4&4294967295|D>>>28),D=C+(N^E^P)+k[0]+3936430074&4294967295,C=N+(D<<11&4294967295|D>>>21),D=P+(C^N^E)+k[3]+3572445317&4294967295,P=C+(D<<16&4294967295|D>>>16),D=E+(P^C^N)+k[6]+76029189&4294967295,E=P+(D<<23&4294967295|D>>>9),D=N+(E^P^C)+k[9]+3654602809&4294967295,N=E+(D<<4&4294967295|D>>>28),D=C+(N^E^P)+k[12]+3873151461&4294967295,C=N+(D<<11&4294967295|D>>>21),D=P+(C^N^E)+k[15]+530742520&4294967295,P=C+(D<<16&4294967295|D>>>16),D=E+(P^C^N)+k[2]+3299628645&4294967295,E=P+(D<<23&4294967295|D>>>9),D=N+(P^(E|~C))+k[0]+4096336452&4294967295,N=E+(D<<6&4294967295|D>>>26),D=C+(E^(N|~P))+k[7]+1126891415&4294967295,C=N+(D<<10&4294967295|D>>>22),D=P+(N^(C|~E))+k[14]+2878612391&4294967295,P=C+(D<<15&4294967295|D>>>17),D=E+(C^(P|~N))+k[5]+4237533241&4294967295,E=P+(D<<21&4294967295|D>>>11),D=N+(P^(E|~C))+k[12]+1700485571&4294967295,N=E+(D<<6&4294967295|D>>>26),D=C+(E^(N|~P))+k[3]+2399980690&4294967295,C=N+(D<<10&4294967295|D>>>22),D=P+(N^(C|~E))+k[10]+4293915773&4294967295,P=C+(D<<15&4294967295|D>>>17),D=E+(C^(P|~N))+k[1]+2240044497&4294967295,E=P+(D<<21&4294967295|D>>>11),D=N+(P^(E|~C))+k[8]+1873313359&4294967295,N=E+(D<<6&4294967295|D>>>26),D=C+(E^(N|~P))+k[15]+4264355552&4294967295,C=N+(D<<10&4294967295|D>>>22),D=P+(N^(C|~E))+k[6]+2734768916&4294967295,P=C+(D<<15&4294967295|D>>>17),D=E+(C^(P|~N))+k[13]+1309151649&4294967295,E=P+(D<<21&4294967295|D>>>11),D=N+(P^(E|~C))+k[4]+4149444226&4294967295,N=E+(D<<6&4294967295|D>>>26),D=C+(E^(N|~P))+k[11]+3174756917&4294967295,C=N+(D<<10&4294967295|D>>>22),D=P+(N^(C|~E))+k[2]+718787259&4294967295,P=C+(D<<15&4294967295|D>>>17),D=E+(C^(P|~N))+k[9]+3951481745&4294967295,_.g[0]=_.g[0]+N&4294967295,_.g[1]=_.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,_.g[2]=_.g[2]+P&4294967295,_.g[3]=_.g[3]+C&4294967295}r.prototype.u=function(_,N){N===void 0&&(N=_.length);for(var E=N-this.blockSize,k=this.B,P=this.h,C=0;C<N;){if(P==0)for(;C<=E;)a(this,_,C),C+=this.blockSize;if(typeof _=="string"){for(;C<N;)if(k[P++]=_.charCodeAt(C++),P==this.blockSize){a(this,k),P=0;break}}else for(;C<N;)if(k[P++]=_[C++],P==this.blockSize){a(this,k),P=0;break}}this.h=P,this.o+=N},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var N=1;N<_.length-8;++N)_[N]=0;var E=8*this.o;for(N=_.length-8;N<_.length;++N)_[N]=E&255,E/=256;for(this.u(_),_=Array(16),N=E=0;4>N;++N)for(var k=0;32>k;k+=8)_[E++]=this.g[N]>>>k&255;return _};function i(_,N){var E=l;return Object.prototype.hasOwnProperty.call(E,_)?E[_]:E[_]=N(_)}function s(_,N){this.h=N;for(var E=[],k=!0,P=_.length-1;0<=P;P--){var C=_[P]|0;k&&C==N||(E[P]=C,k=!1)}this.g=E}var l={};function c(_){return-128<=_&&128>_?i(_,function(N){return new s([N|0],0>N?-1:0)}):new s([_|0],0>_?-1:0)}function d(_){if(isNaN(_)||!isFinite(_))return h;if(0>_)return v(d(-_));for(var N=[],E=1,k=0;_>=E;k++)N[k]=_/E|0,E*=4294967296;return new s(N,0)}function u(_,N){if(_.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(_.charAt(0)=="-")return v(u(_.substring(1),N));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=d(Math.pow(N,8)),k=h,P=0;P<_.length;P+=8){var C=Math.min(8,_.length-P),D=parseInt(_.substring(P,P+C),N);8>C?(C=d(Math.pow(N,C)),k=k.j(C).add(d(D))):(k=k.j(E),k=k.add(d(D)))}return k}var h=c(0),p=c(1),m=c(16777216);t=s.prototype,t.m=function(){if(A(this))return-v(this).m();for(var _=0,N=1,E=0;E<this.g.length;E++){var k=this.i(E);_+=(0<=k?k:4294967296+k)*N,N*=4294967296}return _},t.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(g(this))return"0";if(A(this))return"-"+v(this).toString(_);for(var N=d(Math.pow(_,6)),E=this,k="";;){var P=T(E,N).g;E=x(E,P.j(N));var C=((0<E.g.length?E.g[0]:E.h)>>>0).toString(_);if(E=P,g(E))return C+k;for(;6>C.length;)C="0"+C;k=C+k}},t.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function g(_){if(_.h!=0)return!1;for(var N=0;N<_.g.length;N++)if(_.g[N]!=0)return!1;return!0}function A(_){return _.h==-1}t.l=function(_){return _=x(this,_),A(_)?-1:g(_)?0:1};function v(_){for(var N=_.g.length,E=[],k=0;k<N;k++)E[k]=~_.g[k];return new s(E,~_.h).add(p)}t.abs=function(){return A(this)?v(this):this},t.add=function(_){for(var N=Math.max(this.g.length,_.g.length),E=[],k=0,P=0;P<=N;P++){var C=k+(this.i(P)&65535)+(_.i(P)&65535),D=(C>>>16)+(this.i(P)>>>16)+(_.i(P)>>>16);k=D>>>16,C&=65535,D&=65535,E[P]=D<<16|C}return new s(E,E[E.length-1]&-2147483648?-1:0)};function x(_,N){return _.add(v(N))}t.j=function(_){if(g(this)||g(_))return h;if(A(this))return A(_)?v(this).j(v(_)):v(v(this).j(_));if(A(_))return v(this.j(v(_)));if(0>this.l(m)&&0>_.l(m))return d(this.m()*_.m());for(var N=this.g.length+_.g.length,E=[],k=0;k<2*N;k++)E[k]=0;for(k=0;k<this.g.length;k++)for(var P=0;P<_.g.length;P++){var C=this.i(k)>>>16,D=this.i(k)&65535,b=_.i(P)>>>16,O=_.i(P)&65535;E[2*k+2*P]+=D*O,y(E,2*k+2*P),E[2*k+2*P+1]+=C*O,y(E,2*k+2*P+1),E[2*k+2*P+1]+=D*b,y(E,2*k+2*P+1),E[2*k+2*P+2]+=C*b,y(E,2*k+2*P+2)}for(k=0;k<N;k++)E[k]=E[2*k+1]<<16|E[2*k];for(k=N;k<2*N;k++)E[k]=0;return new s(E,0)};function y(_,N){for(;(_[N]&65535)!=_[N];)_[N+1]+=_[N]>>>16,_[N]&=65535,N++}function w(_,N){this.g=_,this.h=N}function T(_,N){if(g(N))throw Error("division by zero");if(g(_))return new w(h,h);if(A(_))return N=T(v(_),N),new w(v(N.g),v(N.h));if(A(N))return N=T(_,v(N)),new w(v(N.g),N.h);if(30<_.g.length){if(A(_)||A(N))throw Error("slowDivide_ only works with positive integers.");for(var E=p,k=N;0>=k.l(_);)E=I(E),k=I(k);var P=R(E,1),C=R(k,1);for(k=R(k,2),E=R(E,2);!g(k);){var D=C.add(k);0>=D.l(_)&&(P=P.add(E),C=D),k=R(k,1),E=R(E,1)}return N=x(_,P.j(N)),new w(P,N)}for(P=h;0<=_.l(N);){for(E=Math.max(1,Math.floor(_.m()/N.m())),k=Math.ceil(Math.log(E)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),C=d(E),D=C.j(N);A(D)||0<D.l(_);)E-=k,C=d(E),D=C.j(N);g(C)&&(C=p),P=P.add(C),_=x(_,D)}return new w(P,_)}t.A=function(_){return T(this,_).h},t.and=function(_){for(var N=Math.max(this.g.length,_.g.length),E=[],k=0;k<N;k++)E[k]=this.i(k)&_.i(k);return new s(E,this.h&_.h)},t.or=function(_){for(var N=Math.max(this.g.length,_.g.length),E=[],k=0;k<N;k++)E[k]=this.i(k)|_.i(k);return new s(E,this.h|_.h)},t.xor=function(_){for(var N=Math.max(this.g.length,_.g.length),E=[],k=0;k<N;k++)E[k]=this.i(k)^_.i(k);return new s(E,this.h^_.h)};function I(_){for(var N=_.g.length+1,E=[],k=0;k<N;k++)E[k]=_.i(k)<<1|_.i(k-1)>>>31;return new s(E,_.h)}function R(_,N){var E=N>>5;N%=32;for(var k=_.g.length-E,P=[],C=0;C<k;C++)P[C]=0<N?_.i(C+E)>>>N|_.i(C+E+1)<<32-N:_.i(C+E);return new s(P,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vN=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=u,co=s}).apply(typeof Rw<"u"?Rw:typeof self<"u"?self:typeof window<"u"?window:{});var kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bN,nd,wN,tf,H0,_N,CN,EN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,S,M){return f==Array.prototype||f==Object.prototype||(f[S]=M.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof kh=="object"&&kh];for(var S=0;S<f.length;++S){var M=f[S];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var r=n(this);function a(f,S){if(S)e:{var M=r;f=f.split(".");for(var $=0;$<f.length-1;$++){var se=f[$];if(!(se in M))break e;M=M[se]}f=f[f.length-1],$=M[f],S=S($),S!=$&&S!=null&&e(M,f,{configurable:!0,writable:!0,value:S})}}function i(f,S){f instanceof String&&(f+="");var M=0,$=!1,se={next:function(){if(!$&&M<f.length){var fe=M++;return{value:S(fe,f[fe]),done:!1}}return $=!0,{done:!0,value:void 0}}};return se[Symbol.iterator]=function(){return se},se}a("Array.prototype.values",function(f){return f||function(){return i(this,function(S,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(f){var S=typeof f;return S=S!="object"?S:f?Array.isArray(f)?"array":S:"null",S=="array"||S=="object"&&typeof f.length=="number"}function d(f){var S=typeof f;return S=="object"&&f!=null||S=="function"}function u(f,S,M){return f.call.apply(f.bind,arguments)}function h(f,S,M){if(!f)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(se,$),f.apply(S,se)}}return function(){return f.apply(S,arguments)}}function p(f,S,M){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,p.apply(null,arguments)}function m(f,S){var M=Array.prototype.slice.call(arguments,1);return function(){var $=M.slice();return $.push.apply($,arguments),f.apply(this,$)}}function g(f,S){function M(){}M.prototype=S.prototype,f.aa=S.prototype,f.prototype=new M,f.prototype.constructor=f,f.Qb=function($,se,fe){for(var De=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)De[$t-2]=arguments[$t];return S.prototype[se].apply($,De)}}function A(f){const S=f.length;if(0<S){const M=Array(S);for(let $=0;$<S;$++)M[$]=f[$];return M}return[]}function v(f,S){for(let M=1;M<arguments.length;M++){const $=arguments[M];if(c($)){const se=f.length||0,fe=$.length||0;f.length=se+fe;for(let De=0;De<fe;De++)f[se+De]=$[De]}else f.push($)}}class x{constructor(S,M){this.i=S,this.j=M,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function y(f){return/^[\s\xa0]*$/.test(f)}function w(){var f=l.navigator;return f&&(f=f.userAgent)?f:""}function T(f){return T[" "](f),f}T[" "]=function(){};var I=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function R(f,S,M){for(const $ in f)S.call(M,f[$],$,f)}function _(f,S){for(const M in f)S.call(void 0,f[M],M,f)}function N(f){const S={};for(const M in f)S[M]=f[M];return S}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(f,S){let M,$;for(let se=1;se<arguments.length;se++){$=arguments[se];for(M in $)f[M]=$[M];for(let fe=0;fe<E.length;fe++)M=E[fe],Object.prototype.hasOwnProperty.call($,M)&&(f[M]=$[M])}}function P(f){var S=1;f=f.split(":");const M=[];for(;0<S&&f.length;)M.push(f.shift()),S--;return f.length&&M.push(f.join(":")),M}function C(f){l.setTimeout(()=>{throw f},0)}function D(){var f=q;let S=null;return f.g&&(S=f.g,f.g=f.g.next,f.g||(f.h=null),S.next=null),S}class b{constructor(){this.h=this.g=null}add(S,M){const $=O.get();$.set(S,M),this.h?this.h.next=$:this.g=$,this.h=$}}var O=new x(()=>new z,f=>f.reset());class z{constructor(){this.next=this.g=this.h=null}set(S,M){this.h=S,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let G,Q=!1,q=new b,ne=()=>{const f=l.Promise.resolve(void 0);G=()=>{f.then(Y)}};var Y=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(M){C(M)}var S=O;S.j(f),100>S.h&&(S.h++,f.next=S.g,S.g=f)}Q=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(f,S){this.type=f,this.g=this.target=S,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var f=!1,S=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const M=()=>{};l.addEventListener("test",M,S),l.removeEventListener("test",M,S)}catch{}return f}();function oe(f,S){if(ce.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var M=this.type=f.type,$=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=S,S=f.relatedTarget){if(I){e:{try{T(S.nodeName);var se=!0;break e}catch{}se=!1}se||(S=null)}}else M=="mouseover"?S=f.fromElement:M=="mouseout"&&(S=f.toElement);this.relatedTarget=S,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ge[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&oe.aa.h.call(this)}}g(oe,ce);var ge={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),ye=0;function me(f,S,M,$,se){this.listener=f,this.proxy=null,this.src=S,this.type=M,this.capture=!!$,this.ha=se,this.key=++ye,this.da=this.fa=!1}function Te(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function xe(f){this.src=f,this.g={},this.h=0}xe.prototype.add=function(f,S,M,$,se){var fe=f.toString();f=this.g[fe],f||(f=this.g[fe]=[],this.h++);var De=Ce(f,S,$,se);return-1<De?(S=f[De],M||(S.fa=!1)):(S=new me(S,this.src,fe,!!$,se),S.fa=M,f.push(S)),S};function Ne(f,S){var M=S.type;if(M in f.g){var $=f.g[M],se=Array.prototype.indexOf.call($,S,void 0),fe;(fe=0<=se)&&Array.prototype.splice.call($,se,1),fe&&(Te(S),f.g[M].length==0&&(delete f.g[M],f.h--))}}function Ce(f,S,M,$){for(var se=0;se<f.length;++se){var fe=f[se];if(!fe.da&&fe.listener==S&&fe.capture==!!M&&fe.ha==$)return se}return-1}var j="closure_lm_"+(1e6*Math.random()|0),H={};function X(f,S,M,$,se){if(Array.isArray(S)){for(var fe=0;fe<S.length;fe++)X(f,S[fe],M,$,se);return null}return M=re(M),f&&f[je]?f.K(S,M,d($)?!!$.capture:!1,se):F(f,S,M,!1,$,se)}function F(f,S,M,$,se,fe){if(!S)throw Error("Invalid event type");var De=d(se)?!!se.capture:!!se,$t=te(f);if($t||(f[j]=$t=new xe(f)),M=$t.add(S,M,$,De,fe),M.proxy)return M;if($=B(),M.proxy=$,$.src=f,$.listener=M,f.addEventListener)ie||(se=De),se===void 0&&(se=!1),f.addEventListener(S.toString(),$,se);else if(f.attachEvent)f.attachEvent(W(S.toString()),$);else if(f.addListener&&f.removeListener)f.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return M}function B(){function f(M){return S.call(f.src,f.listener,M)}const S=V;return f}function U(f,S,M,$,se){if(Array.isArray(S))for(var fe=0;fe<S.length;fe++)U(f,S[fe],M,$,se);else $=d($)?!!$.capture:!!$,M=re(M),f&&f[je]?(f=f.i,S=String(S).toString(),S in f.g&&(fe=f.g[S],M=Ce(fe,M,$,se),-1<M&&(Te(fe[M]),Array.prototype.splice.call(fe,M,1),fe.length==0&&(delete f.g[S],f.h--)))):f&&(f=te(f))&&(S=f.g[S.toString()],f=-1,S&&(f=Ce(S,M,$,se)),(M=-1<f?S[f]:null)&&Z(M))}function Z(f){if(typeof f!="number"&&f&&!f.da){var S=f.src;if(S&&S[je])Ne(S.i,f);else{var M=f.type,$=f.proxy;S.removeEventListener?S.removeEventListener(M,$,f.capture):S.detachEvent?S.detachEvent(W(M),$):S.addListener&&S.removeListener&&S.removeListener($),(M=te(S))?(Ne(M,f),M.h==0&&(M.src=null,S[j]=null)):Te(f)}}}function W(f){return f in H?H[f]:H[f]="on"+f}function V(f,S){if(f.da)f=!0;else{S=new oe(S,this);var M=f.listener,$=f.ha||f.src;f.fa&&Z(f),f=M.call($,S)}return f}function te(f){return f=f[j],f instanceof xe?f:null}var J="__closure_events_fn_"+(1e9*Math.random()>>>0);function re(f){return typeof f=="function"?f:(f[J]||(f[J]=function(S){return f.handleEvent(S)}),f[J])}function he(){K.call(this),this.i=new xe(this),this.M=this,this.F=null}g(he,K),he.prototype[je]=!0,he.prototype.removeEventListener=function(f,S,M,$){U(this,f,S,M,$)};function Ie(f,S){var M,$=f.F;if($)for(M=[];$;$=$.F)M.push($);if(f=f.M,$=S.type||S,typeof S=="string")S=new ce(S,f);else if(S instanceof ce)S.target=S.target||f;else{var se=S;S=new ce($,f),k(S,se)}if(se=!0,M)for(var fe=M.length-1;0<=fe;fe--){var De=S.g=M[fe];se=Ee(De,$,!0,S)&&se}if(De=S.g=f,se=Ee(De,$,!0,S)&&se,se=Ee(De,$,!1,S)&&se,M)for(fe=0;fe<M.length;fe++)De=S.g=M[fe],se=Ee(De,$,!1,S)&&se}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var f=this.i,S;for(S in f.g){for(var M=f.g[S],$=0;$<M.length;$++)Te(M[$]);delete f.g[S],f.h--}}this.F=null},he.prototype.K=function(f,S,M,$){return this.i.add(String(f),S,!1,M,$)},he.prototype.L=function(f,S,M,$){return this.i.add(String(f),S,!0,M,$)};function Ee(f,S,M,$){if(S=f.i.g[String(S)],!S)return!0;S=S.concat();for(var se=!0,fe=0;fe<S.length;++fe){var De=S[fe];if(De&&!De.da&&De.capture==M){var $t=De.listener,Ln=De.ha||De.src;De.fa&&Ne(f.i,De),se=$t.call(Ln,$)!==!1&&se}}return se&&!$.defaultPrevented}function We(f,S,M){if(typeof f=="function")M&&(f=p(f,M));else if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:l.setTimeout(f,S||0)}function pt(f){f.g=We(()=>{f.g=null,f.i&&(f.i=!1,pt(f))},f.l);const S=f.h;f.h=null,f.m.apply(null,S)}class ct extends K{constructor(S,M){super(),this.m=S,this.l=M,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:pt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Be(f){K.call(this),this.h=f,this.g={}}g(Be,K);var Ue=[];function at(f){R(f.g,function(S,M){this.g.hasOwnProperty(M)&&Z(S)},f),f.g={}}Be.prototype.N=function(){Be.aa.N.call(this),at(this)},Be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tt=l.JSON.stringify,mt=l.JSON.parse,Nt=class{stringify(f){return l.JSON.stringify(f,void 0)}parse(f){return l.JSON.parse(f,void 0)}};function ze(){}ze.prototype.h=null;function gt(f){return f.h||(f.h=f.i())}function vt(){}var ht={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rt(){ce.call(this,"d")}g(rt,ce);function Fe(){ce.call(this,"c")}g(Fe,ce);var dt={},Ft=null;function _t(){return Ft=Ft||new he}dt.La="serverreachability";function Bt(f){ce.call(this,dt.La,f)}g(Bt,ce);function un(f){const S=_t();Ie(S,new Bt(S))}dt.STAT_EVENT="statevent";function Ir(f,S){ce.call(this,dt.STAT_EVENT,f),this.stat=S}g(Ir,ce);function At(f){const S=_t();Ie(S,new Ir(S,f))}dt.Ma="timingevent";function qn(f,S){ce.call(this,dt.Ma,f),this.size=S}g(qn,ce);function mn(f,S){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){f()},S)}function vn(){this.g=!0}vn.prototype.xa=function(){this.g=!1};function kt(f,S,M,$,se,fe){f.info(function(){if(f.g)if(fe)for(var De="",$t=fe.split("&"),Ln=0;Ln<$t.length;Ln++){var Rt=$t[Ln].split("=");if(1<Rt.length){var Kn=Rt[0];Rt=Rt[1];var Yn=Kn.split("_");De=2<=Yn.length&&Yn[1]=="type"?De+(Kn+"="+Rt+"&"):De+(Kn+"=redacted&")}}else De=null;else De=fe;return"XMLHTTP REQ ("+$+") [attempt "+se+"]: "+S+`
`+M+`
`+De})}function jt(f,S,M,$,se,fe,De){f.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+se+"]: "+S+`
`+M+`
`+fe+" "+De})}function tn(f,S,M,$){f.info(function(){return"XMLHTTP TEXT ("+S+"): "+ir(f,M)+($?" "+$:"")})}function Vr(f,S){f.info(function(){return"TIMEOUT: "+S})}vn.prototype.info=function(){};function ir(f,S){if(!f.g)return S;if(!S)return null;try{var M=JSON.parse(S);if(M){for(f=0;f<M.length;f++)if(Array.isArray(M[f])){var $=M[f];if(!(2>$.length)){var se=$[1];if(Array.isArray(se)&&!(1>se.length)){var fe=se[0];if(fe!="noop"&&fe!="stop"&&fe!="close")for(var De=1;De<se.length;De++)se[De]=""}}}}return Tt(M)}catch{return S}}var ja={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ai;function ia(){}g(ia,ze),ia.prototype.g=function(){return new XMLHttpRequest},ia.prototype.i=function(){return{}},Ai=new ia;function Sr(f,S,M,$){this.j=f,this.i=S,this.l=M,this.R=$||1,this.U=new Be(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ts}function Ts(){this.i=null,this.g="",this.h=!1}var Ma={},La={};function Hn(f,S,M){f.L=1,f.v=Oa(tt(S)),f.m=M,f.P=!0,Ur(f,null)}function Ur(f,S){f.F=Date.now(),ee(f),f.A=tt(f.v);var M=f.A,$=f.R;Array.isArray($)||($=[String($)]),Zy(M.i,"t",$),f.C=0,M=f.j.J,f.h=new Ts,f.g=Av(f.j,M?S:null,!f.m),0<f.O&&(f.M=new ct(p(f.Y,f,f.g),f.O)),S=f.U,M=f.g,$=f.ca;var se="readystatechange";Array.isArray(se)||(se&&(Ue[0]=se.toString()),se=Ue);for(var fe=0;fe<se.length;fe++){var De=X(M,se[fe],$||S.handleEvent,!1,S.h||S);if(!De)break;S.g[De.key]=De}S=f.H?N(f.H):{},f.m?(f.u||(f.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,S)):(f.u="GET",f.g.ea(f.A,f.u,null,S)),un(),kt(f.i,f.u,f.A,f.l,f.R,f.m)}Sr.prototype.ca=function(f){f=f.target;const S=this.M;S&&za(f)==3?S.j():this.Y(f)},Sr.prototype.Y=function(f){try{if(f==this.g)e:{const Yn=za(this.g);var S=this.g.Ba();const Go=this.g.Z();if(!(3>Yn)&&(Yn!=3||this.g&&(this.h.h||this.g.oa()||sv(this.g)))){this.J||Yn!=4||S==7||(S==8||0>=Go?un(3):un(2)),de(this);var M=this.g.Z();this.X=M;t:if(xi(this)){var $=sv(this.g);f="";var se=$.length,fe=za(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ae(this),ve(this);var De="";break t}this.h.i=new l.TextDecoder}for(S=0;S<se;S++)this.h.h=!0,f+=this.h.i.decode($[S],{stream:!(fe&&S==se-1)});$.length=0,this.h.g+=f,this.C=0,De=this.h.g}else De=this.g.oa();if(this.o=M==200,jt(this.i,this.u,this.A,this.l,this.R,Yn,M),this.o){if(this.T&&!this.K){t:{if(this.g){var $t,Ln=this.g;if(($t=Ln.g?Ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y($t)){var Rt=$t;break t}}Rt=null}if(M=Rt)tn(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$e(this,M);else{this.o=!1,this.s=3,At(12),Ae(this),ve(this);break e}}if(this.P){M=!0;let sa;for(;!this.J&&this.C<De.length;)if(sa=pr(this,De),sa==La){Yn==4&&(this.s=4,At(14),M=!1),tn(this.i,this.l,null,"[Incomplete Response]");break}else if(sa==Ma){this.s=4,At(15),tn(this.i,this.l,De,"[Invalid Chunk]"),M=!1;break}else tn(this.i,this.l,sa,null),$e(this,sa);if(xi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yn!=4||De.length!=0||this.h.h||(this.s=1,At(16),M=!1),this.o=this.o&&M,!M)tn(this.i,this.l,De,"[Invalid Chunked Response]"),Ae(this),ve(this);else if(0<De.length&&!this.W){this.W=!0;var Kn=this.j;Kn.g==this&&Kn.ba&&!Kn.M&&(Kn.j.info("Great, no buffering proxy detected. Bytes received: "+De.length),km(Kn),Kn.M=!0,At(11))}}else tn(this.i,this.l,De,null),$e(this,De);Yn==4&&Ae(this),this.o&&!this.J&&(Yn==4?fv(this.j,this):(this.o=!1,ee(this)))}else QT(this.g),M==400&&0<De.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),Ae(this),ve(this)}}}catch{}finally{}};function xi(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function pr(f,S){var M=f.C,$=S.indexOf(`
`,M);return $==-1?La:(M=Number(S.substring(M,$)),isNaN(M)?Ma:($+=1,$+M>S.length?La:(S=S.slice($,$+M),f.C=$+M,S)))}Sr.prototype.cancel=function(){this.J=!0,Ae(this)};function ee(f){f.S=Date.now()+f.I,ae(f,f.I)}function ae(f,S){if(f.B!=null)throw Error("WatchDog timer not null");f.B=mn(p(f.ba,f),S)}function de(f){f.B&&(l.clearTimeout(f.B),f.B=null)}Sr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Vr(this.i,this.A),this.L!=2&&(un(),At(17)),Ae(this),this.s=2,ve(this)):ae(this,this.S-f)};function ve(f){f.j.G==0||f.J||fv(f.j,f)}function Ae(f){de(f);var S=f.M;S&&typeof S.ma=="function"&&S.ma(),f.M=null,at(f.U),f.g&&(S=f.g,f.g=null,S.abort(),S.ma())}function $e(f,S){try{var M=f.j;if(M.G!=0&&(M.g==f||Xn(M.h,f))){if(!f.K&&Xn(M.h,f)&&M.G==3){try{var $=M.Da.g.parse(S)}catch{$=null}if(Array.isArray($)&&$.length==3){var se=$;if(se[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<f.F)rh(M),th(M);else break e;Tm(M),At(18)}}else M.za=se[1],0<M.za-M.T&&37500>se[2]&&M.F&&M.v==0&&!M.C&&(M.C=mn(p(M.Za,M),6e3));if(1>=Qn(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else ks(M,11)}else if((f.K||M.g==f)&&rh(M),!y(S))for(se=M.Da.g.parse(S),S=0;S<se.length;S++){let Rt=se[S];if(M.T=Rt[0],Rt=Rt[1],M.G==2)if(Rt[0]=="c"){M.K=Rt[1],M.ia=Rt[2];const Kn=Rt[3];Kn!=null&&(M.la=Kn,M.j.info("VER="+M.la));const Yn=Rt[4];Yn!=null&&(M.Aa=Yn,M.j.info("SVER="+M.Aa));const Go=Rt[5];Go!=null&&typeof Go=="number"&&0<Go&&($=1.5*Go,M.L=$,M.j.info("backChannelRequestTimeoutMs_="+$)),$=M;const sa=f.g;if(sa){const ih=sa.g?sa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ih){var fe=$.h;fe.g||ih.indexOf("spdy")==-1&&ih.indexOf("quic")==-1&&ih.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(Gr(fe,fe.h),fe.h=null))}if($.D){const Dm=sa.g?sa.g.getResponseHeader("X-HTTP-Session-Id"):null;Dm&&($.ya=Dm,Mt($.I,$.D,Dm))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-f.F,M.j.info("Handshake RTT: "+M.R+"ms")),$=M;var De=f;if($.qa=gv($,$.J?$.ia:null,$.W),De.K){mr($.h,De);var $t=De,Ln=$.L;Ln&&($t.I=Ln),$t.B&&(de($t),ee($t)),$.g=De}else uv($);0<M.i.length&&nh(M)}else Rt[0]!="stop"&&Rt[0]!="close"||ks(M,7);else M.G==3&&(Rt[0]=="stop"||Rt[0]=="close"?Rt[0]=="stop"?ks(M,7):Sm(M):Rt[0]!="noop"&&M.l&&M.l.ta(Rt),M.v=0)}}un(4)}catch{}}var Le=class{constructor(f,S){this.g=f,this.map=S}};function Dt(f){this.l=f||10,l.PerformanceNavigationTiming?(f=l.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wt(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Qn(f){return f.h?1:f.g?f.g.size:0}function Xn(f,S){return f.h?f.h==S:f.g?f.g.has(S):!1}function Gr(f,S){f.g?f.g.add(S):f.h=S}function mr(f,S){f.h&&f.h==S?f.h=null:f.g&&f.g.has(S)&&f.g.delete(S)}Dt.prototype.cancel=function(){if(this.i=Fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Fo(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let S=f.i;for(const M of f.g.values())S=S.concat(M.D);return S}return A(f.i)}function Bo(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(c(f)){for(var S=[],M=f.length,$=0;$<M;$++)S.push(f[$]);return S}S=[],M=0;for($ in f)S[M++]=f[$];return S}function zo(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(c(f)||typeof f=="string"){var S=[];f=f.length;for(var M=0;M<f;M++)S.push(M);return S}S=[],M=0;for(const $ in f)S[M++]=$;return S}}}function ut(f,S){if(f.forEach&&typeof f.forEach=="function")f.forEach(S,void 0);else if(c(f)||typeof f=="string")Array.prototype.forEach.call(f,S,void 0);else for(var M=zo(f),$=Bo(f),se=$.length,fe=0;fe<se;fe++)S.call(void 0,$[fe],M&&M[fe],f)}var Re=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(f,S){if(f){f=f.split("&");for(var M=0;M<f.length;M++){var $=f[M].indexOf("="),se=null;if(0<=$){var fe=f[M].substring(0,$);se=f[M].substring($+1)}else fe=f[M];S(fe,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function qe(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof qe){this.h=f.h,gn(this,f.j),this.o=f.o,this.g=f.g,Tn(this,f.s),this.l=f.l;var S=f.i,M=new Ic;M.i=S.i,S.g&&(M.g=new Map(S.g),M.h=S.h),yi(this,M),this.m=f.m}else f&&(S=String(f).match(Re))?(this.h=!1,gn(this,S[1]||"",!0),this.o=Fa(S[2]||""),this.g=Fa(S[3]||"",!0),Tn(this,S[4]),this.l=Fa(S[5]||"",!0),yi(this,S[6]||"",!0),this.m=Fa(S[7]||"")):(this.h=!1,this.i=new Ic(null,this.h))}qe.prototype.toString=function(){var f=[],S=this.j;S&&f.push(Ba(S,Ky,!0),":");var M=this.g;return(M||S=="file")&&(f.push("//"),(S=this.o)&&f.push(Ba(S,Ky,!0),"@"),f.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&f.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&f.push("/"),f.push(Ba(M,M.charAt(0)=="/"?FT:OT,!0))),(M=this.i.toString())&&f.push("?",M),(M=this.m)&&f.push("#",Ba(M,zT)),f.join("")};function tt(f){return new qe(f)}function gn(f,S,M){f.j=M?Fa(S,!0):S,f.j&&(f.j=f.j.replace(/:$/,""))}function Tn(f,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);f.s=S}else f.s=null}function yi(f,S,M){S instanceof Ic?(f.i=S,VT(f.i,f.h)):(M||(S=Ba(S,BT)),f.i=new Ic(S,f.h))}function Mt(f,S,M){f.i.set(S,M)}function Oa(f){return Mt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Fa(f,S){return f?S?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ba(f,S,M){return typeof f=="string"?(f=encodeURI(f).replace(S,Xy),M&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Xy(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ky=/[#\/\?@]/g,OT=/[#\?:]/g,FT=/[#\?]/g,BT=/[#\?@]/g,zT=/#/g;function Ic(f,S){this.h=this.g=null,this.i=f||null,this.j=!!S}function vi(f){f.g||(f.g=new Map,f.h=0,f.i&&Ze(f.i,function(S,M){f.add(decodeURIComponent(S.replace(/\+/g," ")),M)}))}t=Ic.prototype,t.add=function(f,S){vi(this),this.i=null,f=Vo(this,f);var M=this.g.get(f);return M||this.g.set(f,M=[]),M.push(S),this.h+=1,this};function Yy(f,S){vi(f),S=Vo(f,S),f.g.has(S)&&(f.i=null,f.h-=f.g.get(S).length,f.g.delete(S))}function Jy(f,S){return vi(f),S=Vo(f,S),f.g.has(S)}t.forEach=function(f,S){vi(this),this.g.forEach(function(M,$){M.forEach(function(se){f.call(S,se,$,this)},this)},this)},t.na=function(){vi(this);const f=Array.from(this.g.values()),S=Array.from(this.g.keys()),M=[];for(let $=0;$<S.length;$++){const se=f[$];for(let fe=0;fe<se.length;fe++)M.push(S[$])}return M},t.V=function(f){vi(this);let S=[];if(typeof f=="string")Jy(this,f)&&(S=S.concat(this.g.get(Vo(this,f))));else{f=Array.from(this.g.values());for(let M=0;M<f.length;M++)S=S.concat(f[M])}return S},t.set=function(f,S){return vi(this),this.i=null,f=Vo(this,f),Jy(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[S]),this.h+=1,this},t.get=function(f,S){return f?(f=this.V(f),0<f.length?String(f[0]):S):S};function Zy(f,S,M){Yy(f,S),0<M.length&&(f.i=null,f.g.set(Vo(f,S),A(M)),f.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],S=Array.from(this.g.keys());for(var M=0;M<S.length;M++){var $=S[M];const fe=encodeURIComponent(String($)),De=this.V($);for($=0;$<De.length;$++){var se=fe;De[$]!==""&&(se+="="+encodeURIComponent(String(De[$]))),f.push(se)}}return this.i=f.join("&")};function Vo(f,S){return S=String(S),f.j&&(S=S.toLowerCase()),S}function VT(f,S){S&&!f.j&&(vi(f),f.i=null,f.g.forEach(function(M,$){var se=$.toLowerCase();$!=se&&(Yy(this,$),Zy(this,se,M))},f)),f.j=S}function UT(f,S){const M=new vn;if(l.Image){const $=new Image;$.onload=m(bi,M,"TestLoadImage: loaded",!0,S,$),$.onerror=m(bi,M,"TestLoadImage: error",!1,S,$),$.onabort=m(bi,M,"TestLoadImage: abort",!1,S,$),$.ontimeout=m(bi,M,"TestLoadImage: timeout",!1,S,$),l.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=f}else S(!1)}function GT(f,S){const M=new vn,$=new AbortController,se=setTimeout(()=>{$.abort(),bi(M,"TestPingServer: timeout",!1,S)},1e4);fetch(f,{signal:$.signal}).then(fe=>{clearTimeout(se),fe.ok?bi(M,"TestPingServer: ok",!0,S):bi(M,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(se),bi(M,"TestPingServer: error",!1,S)})}function bi(f,S,M,$,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),$(M)}catch{}}function WT(){this.g=new Nt}function $T(f,S,M){const $=M||"";try{ut(f,function(se,fe){let De=se;d(se)&&(De=Tt(se)),S.push($+fe+"="+encodeURIComponent(De))})}catch(se){throw S.push($+"type="+encodeURIComponent("_badmap")),se}}function Ju(f){this.l=f.Ub||null,this.j=f.eb||!1}g(Ju,ze),Ju.prototype.g=function(){return new Zu(this.l,this.j)},Ju.prototype.i=function(f){return function(){return f}}({});function Zu(f,S){he.call(this),this.D=f,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Zu,he),t=Zu.prototype,t.open=function(f,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=S,this.readyState=1,Tc(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(S.body=f),(this.D||l).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sc(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Tc(this)),this.g&&(this.readyState=3,Tc(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ev(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function ev(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var S=f.value?f.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!f.done}))&&(this.response=this.responseText+=S)}f.done?Sc(this):Tc(this),this.readyState==3&&ev(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Sc(this))},t.Qa=function(f){this.g&&(this.response=f,Sc(this))},t.ga=function(){this.g&&Sc(this)};function Sc(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Tc(f)}t.setRequestHeader=function(f,S){this.u.append(f,S)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],S=this.h.entries();for(var M=S.next();!M.done;)M=M.value,f.push(M[0]+": "+M[1]),M=S.next();return f.join(`\r
`)};function Tc(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Zu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function tv(f){let S="";return R(f,function(M,$){S+=$,S+=":",S+=M,S+=`\r
`}),S}function Im(f,S,M){e:{for($ in M){var $=!1;break e}$=!0}$||(M=tv(M),typeof f=="string"?M!=null&&encodeURIComponent(String(M)):Mt(f,S,M))}function on(f){he.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(on,he);var qT=/^https?$/i,HT=["POST","PUT"];t=on.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,S,M,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);S=S?S.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ai.g(),this.v=this.o?gt(this.o):gt(Ai),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(S,String(f),!0),this.B=!1}catch(fe){nv(this,fe);return}if(f=M||"",M=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var se in $)M.set(se,$[se]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const fe of $.keys())M.set(fe,$.get(fe));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(M.keys()).find(fe=>fe.toLowerCase()=="content-type"),se=l.FormData&&f instanceof l.FormData,!(0<=Array.prototype.indexOf.call(HT,S,void 0))||$||se||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,De]of M)this.g.setRequestHeader(fe,De);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{iv(this),this.u=!0,this.g.send(f),this.u=!1}catch(fe){nv(this,fe)}};function nv(f,S){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=S,f.m=5,rv(f),eh(f)}function rv(f){f.A||(f.A=!0,Ie(f,"complete"),Ie(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ie(this,"complete"),Ie(this,"abort"),eh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),eh(this,!0)),on.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?av(this):this.bb())},t.bb=function(){av(this)};function av(f){if(f.h&&typeof s<"u"&&(!f.v[1]||za(f)!=4||f.Z()!=2)){if(f.u&&za(f)==4)We(f.Ea,0,f);else if(Ie(f,"readystatechange"),za(f)==4){f.h=!1;try{const De=f.Z();e:switch(De){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var M;if(!(M=S)){var $;if($=De===0){var se=String(f.D).match(Re)[1]||null;!se&&l.self&&l.self.location&&(se=l.self.location.protocol.slice(0,-1)),$=!qT.test(se?se.toLowerCase():"")}M=$}if(M)Ie(f,"complete"),Ie(f,"success");else{f.m=6;try{var fe=2<za(f)?f.g.statusText:""}catch{fe=""}f.l=fe+" ["+f.Z()+"]",rv(f)}}finally{eh(f)}}}}function eh(f,S){if(f.g){iv(f);const M=f.g,$=f.v[0]?()=>{}:null;f.g=null,f.v=null,S||Ie(f,"ready");try{M.onreadystatechange=$}catch{}}}function iv(f){f.I&&(l.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function za(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<za(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var S=this.g.responseText;return f&&S.indexOf(f)==0&&(S=S.substring(f.length)),mt(S)}};function sv(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function QT(f){const S={};f=(f.g&&2<=za(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<f.length;$++){if(y(f[$]))continue;var M=P(f[$]);const se=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const fe=S[se]||[];S[se]=fe,fe.push(M)}_(S,function($){return $.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function kc(f,S,M){return M&&M.internalChannelParams&&M.internalChannelParams[f]||S}function ov(f){this.Aa=0,this.i=[],this.j=new vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=kc("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=kc("baseRetryDelayMs",5e3,f),this.cb=kc("retryDelaySeedMs",1e4,f),this.Wa=kc("forwardChannelMaxRetries",2,f),this.wa=kc("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Dt(f&&f.concurrentRequestLimit),this.Da=new WT,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ov.prototype,t.la=8,t.G=1,t.connect=function(f,S,M,$){At(0),this.W=f,this.H=S||{},M&&$!==void 0&&(this.H.OSID=M,this.H.OAID=$),this.F=this.X,this.I=gv(this,null,this.W),nh(this)};function Sm(f){if(lv(f),f.G==3){var S=f.U++,M=tt(f.I);if(Mt(M,"SID",f.K),Mt(M,"RID",S),Mt(M,"TYPE","terminate"),Dc(f,M),S=new Sr(f,f.j,S),S.L=2,S.v=Oa(tt(M)),M=!1,l.navigator&&l.navigator.sendBeacon)try{M=l.navigator.sendBeacon(S.v.toString(),"")}catch{}!M&&l.Image&&(new Image().src=S.v,M=!0),M||(S.g=Av(S.j,null),S.g.ea(S.v)),S.F=Date.now(),ee(S)}mv(f)}function th(f){f.g&&(km(f),f.g.cancel(),f.g=null)}function lv(f){th(f),f.u&&(l.clearTimeout(f.u),f.u=null),rh(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&l.clearTimeout(f.s),f.s=null)}function nh(f){if(!Wt(f.h)&&!f.s){f.s=!0;var S=f.Ga;G||ne(),Q||(G(),Q=!0),q.add(S,f),f.B=0}}function XT(f,S){return Qn(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=S.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=mn(p(f.Ga,f,S),pv(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const se=new Sr(this,this.j,f);let fe=this.o;if(this.S&&(fe?(fe=N(fe),k(fe,this.S)):fe=this.S),this.m!==null||this.O||(se.H=fe,fe=null),this.P)e:{for(var S=0,M=0;M<this.i.length;M++){t:{var $=this.i[M];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(S+=$,4096<S){S=M;break e}if(S===4096||M===this.i.length-1){S=M+1;break e}}S=1e3}else S=1e3;S=dv(this,se,S),M=tt(this.I),Mt(M,"RID",f),Mt(M,"CVER",22),this.D&&Mt(M,"X-HTTP-Session-Id",this.D),Dc(this,M),fe&&(this.O?S="headers="+encodeURIComponent(String(tv(fe)))+"&"+S:this.m&&Im(M,this.m,fe)),Gr(this.h,se),this.Ua&&Mt(M,"TYPE","init"),this.P?(Mt(M,"$req",S),Mt(M,"SID","null"),se.T=!0,Hn(se,M,null)):Hn(se,M,S),this.G=2}}else this.G==3&&(f?cv(this,f):this.i.length==0||Wt(this.h)||cv(this))};function cv(f,S){var M;S?M=S.l:M=f.U++;const $=tt(f.I);Mt($,"SID",f.K),Mt($,"RID",M),Mt($,"AID",f.T),Dc(f,$),f.m&&f.o&&Im($,f.m,f.o),M=new Sr(f,f.j,M,f.B+1),f.m===null&&(M.H=f.o),S&&(f.i=S.D.concat(f.i)),S=dv(f,M,1e3),M.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Gr(f.h,M),Hn(M,$,S)}function Dc(f,S){f.H&&R(f.H,function(M,$){Mt(S,$,M)}),f.l&&ut({},function(M,$){Mt(S,$,M)})}function dv(f,S,M){M=Math.min(f.i.length,M);var $=f.l?p(f.l.Na,f.l,f):null;e:{var se=f.i;let fe=-1;for(;;){const De=["count="+M];fe==-1?0<M?(fe=se[0].g,De.push("ofs="+fe)):fe=0:De.push("ofs="+fe);let $t=!0;for(let Ln=0;Ln<M;Ln++){let Rt=se[Ln].g;const Kn=se[Ln].map;if(Rt-=fe,0>Rt)fe=Math.max(0,se[Ln].g-100),$t=!1;else try{$T(Kn,De,"req"+Rt+"_")}catch{$&&$(Kn)}}if($t){$=De.join("&");break e}}}return f=f.i.splice(0,M),S.D=f,$}function uv(f){if(!f.g&&!f.u){f.Y=1;var S=f.Fa;G||ne(),Q||(G(),Q=!0),q.add(S,f),f.v=0}}function Tm(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=mn(p(f.Fa,f),pv(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,hv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=mn(p(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),th(this),hv(this))};function km(f){f.A!=null&&(l.clearTimeout(f.A),f.A=null)}function hv(f){f.g=new Sr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var S=tt(f.qa);Mt(S,"RID","rpc"),Mt(S,"SID",f.K),Mt(S,"AID",f.T),Mt(S,"CI",f.F?"0":"1"),!f.F&&f.ja&&Mt(S,"TO",f.ja),Mt(S,"TYPE","xmlhttp"),Dc(f,S),f.m&&f.o&&Im(S,f.m,f.o),f.L&&(f.g.I=f.L);var M=f.g;f=f.ia,M.L=1,M.v=Oa(tt(S)),M.m=null,M.P=!0,Ur(M,f)}t.Za=function(){this.C!=null&&(this.C=null,th(this),Tm(this),At(19))};function rh(f){f.C!=null&&(l.clearTimeout(f.C),f.C=null)}function fv(f,S){var M=null;if(f.g==S){rh(f),km(f),f.g=null;var $=2}else if(Xn(f.h,S))M=S.D,mr(f.h,S),$=1;else return;if(f.G!=0){if(S.o)if($==1){M=S.m?S.m.length:0,S=Date.now()-S.F;var se=f.B;$=_t(),Ie($,new qn($,M)),nh(f)}else uv(f);else if(se=S.s,se==3||se==0&&0<S.X||!($==1&&XT(f,S)||$==2&&Tm(f)))switch(M&&0<M.length&&(S=f.h,S.i=S.i.concat(M)),se){case 1:ks(f,5);break;case 4:ks(f,10);break;case 3:ks(f,6);break;default:ks(f,2)}}}function pv(f,S){let M=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(M*=2),M*S}function ks(f,S){if(f.j.info("Error code "+S),S==2){var M=p(f.fb,f),$=f.Xa;const se=!$;$=new qe($||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||gn($,"https"),Oa($),se?UT($.toString(),M):GT($.toString(),M)}else At(2);f.G=0,f.l&&f.l.sa(S),mv(f),lv(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function mv(f){if(f.G=0,f.ka=[],f.l){const S=Fo(f.h);(S.length!=0||f.i.length!=0)&&(v(f.ka,S),v(f.ka,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.ra()}}function gv(f,S,M){var $=M instanceof qe?tt(M):new qe(M);if($.g!="")S&&($.g=S+"."+$.g),Tn($,$.s);else{var se=l.location;$=se.protocol,S=S?S+"."+se.hostname:se.hostname,se=+se.port;var fe=new qe(null);$&&gn(fe,$),S&&(fe.g=S),se&&Tn(fe,se),M&&(fe.l=M),$=fe}return M=f.D,S=f.ya,M&&S&&Mt($,M,S),Mt($,"VER",f.la),Dc(f,$),$}function Av(f,S,M){if(S&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=f.Ca&&!f.pa?new on(new Ju({eb:M})):new on(f.pa),S.Ha(f.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xv(){}t=xv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ah(){}ah.prototype.g=function(f,S){return new Tr(f,S)};function Tr(f,S){he.call(this),this.g=new ov(S),this.l=f,this.h=S&&S.messageUrlParams||null,f=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(f?f["X-WebChannel-Content-Type"]=S.messageContentType:f={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(f?f["X-WebChannel-Client-Profile"]=S.va:f={"X-WebChannel-Client-Profile":S.va}),this.g.S=f,(f=S&&S.Sb)&&!y(f)&&(this.g.m=f),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!y(S)&&(this.g.D=S,f=this.h,f!==null&&S in f&&(f=this.h,S in f&&delete f[S])),this.j=new Uo(this)}g(Tr,he),Tr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tr.prototype.close=function(){Sm(this.g)},Tr.prototype.o=function(f){var S=this.g;if(typeof f=="string"){var M={};M.__data__=f,f=M}else this.u&&(M={},M.__data__=Tt(f),f=M);S.i.push(new Le(S.Ya++,f)),S.G==3&&nh(S)},Tr.prototype.N=function(){this.g.l=null,delete this.j,Sm(this.g),delete this.g,Tr.aa.N.call(this)};function yv(f){rt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var S=f.__sm__;if(S){e:{for(const M in S){f=M;break e}f=void 0}(this.i=f)&&(f=this.i,S=S!==null&&f in S?S[f]:void 0),this.data=S}else this.data=f}g(yv,rt);function vv(){Fe.call(this),this.status=1}g(vv,Fe);function Uo(f){this.g=f}g(Uo,xv),Uo.prototype.ua=function(){Ie(this.g,"a")},Uo.prototype.ta=function(f){Ie(this.g,new yv(f))},Uo.prototype.sa=function(f){Ie(this.g,new vv)},Uo.prototype.ra=function(){Ie(this.g,"b")},ah.prototype.createWebChannel=ah.prototype.g,Tr.prototype.send=Tr.prototype.o,Tr.prototype.open=Tr.prototype.m,Tr.prototype.close=Tr.prototype.close,EN=function(){return new ah},CN=function(){return _t()},_N=dt,H0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ja.NO_ERROR=0,ja.TIMEOUT=8,ja.HTTP_ERROR=6,tf=ja,gi.COMPLETE="complete",wN=gi,vt.EventType=ht,ht.OPEN="a",ht.CLOSE="b",ht.ERROR="c",ht.MESSAGE="d",he.prototype.listen=he.prototype.K,nd=vt,on.prototype.listenOnce=on.prototype.L,on.prototype.getLastError=on.prototype.Ka,on.prototype.getLastErrorCode=on.prototype.Ba,on.prototype.getStatus=on.prototype.Z,on.prototype.getResponseJson=on.prototype.Oa,on.prototype.getResponseText=on.prototype.oa,on.prototype.send=on.prototype.ea,on.prototype.setWithCredentials=on.prototype.Ha,bN=on}).apply(typeof kh<"u"?kh:typeof self<"u"?self:typeof window<"u"?window:{});const Pw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fn.UNAUTHENTICATED=new Fn(null),Fn.GOOGLE_CREDENTIALS=new Fn("google-credentials-uid"),Fn.FIRST_PARTY=new Fn("first-party-uid"),Fn.MOCK_USER=new Fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=new Bx("@firebase/firestore");function rl(){return wo.logLevel}function we(t,...e){if(wo.logLevel<=bt.DEBUG){const n=e.map(Ux);wo.debug(`Firestore (${yc}): ${t}`,...n)}}function lr(t,...e){if(wo.logLevel<=bt.ERROR){const n=e.map(Ux);wo.error(`Firestore (${yc}): ${t}`,...n)}}function fs(t,...e){if(wo.logLevel<=bt.WARN){const n=e.map(Ux);wo.warn(`Firestore (${yc}): ${t}`,...n)}}function Ux(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t="Unexpected state"){const e=`FIRESTORE (${yc}) INTERNAL ASSERTION FAILED: `+t;throw lr(e),new Error(e)}function Ve(t,e){t||Oe()}function nt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fn.UNAUTHENTICATED))}shutdown(){}}class Y5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class J5{constructor(e){this.t=e,this.currentUser=Fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ve(this.o===void 0);let r=this.i;const a=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new ka;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ka,e.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await a(this.currentUser)})},l=c=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ka)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string"),new NN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string"),new Fn(e)}}class Z5{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Fn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class e3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Z5(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class t3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ve(this.o===void 0);const r=i=>{i.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.R;return this.R=i.token,we("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const a=i=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?a(i):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string"),this.R=n.token,new t3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const a=r3(40);for(let i=0;i<a.length;++i)r.length<20&&a[i]<n&&(r+=e.charAt(a[i]%e.length))}return r}}function st(t,e){return t<e?-1:t>e?1:0}function ec(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}function SN(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ke(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ke(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ke(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Zt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new Zt(0,0))}static max(){return new Ge(new Zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Oe(),r===void 0?r=e.length-n:r>e.length-n&&Oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return iu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof iu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const i=e.get(a),s=n.get(a);if(i<s)return-1;if(i>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ot extends iu{construct(e,n,r){return new Ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ke(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new Ot(n)}static emptyPath(){return new Ot([])}}const a3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends iu{construct(e,n,r){return new Jt(e,n,r)}static isValidIdentifier(e){return a3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Jt(["__name__"])}static fromServerFormat(e){const n=[];let r="",a=0;const i=()=>{if(r.length===0)throw new ke(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;a<e.length;){const l=e[a];if(l==="\\"){if(a+1===e.length)throw new ke(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[a+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ke(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,a+=2}else l==="`"?(s=!s,a++):l!=="."||s?(r+=l,a++):(i(),a++)}if(i(),s)throw new ke(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Ot.fromString(e))}static fromName(e){return new Pe(Ot.fromString(e).popFirst(5))}static empty(){return new Pe(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n,r,a){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=a}}function Q0(t){return t.fields.find(e=>e.kind===2)}function Gs(t){return t.fields.filter(e=>e.kind!==2)}sp.UNKNOWN_ID=-1;class nf{constructor(e,n){this.fieldPath=e,this.kind=n}}class su{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new su(0,Fr.min())}}function i3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Ge.fromTimestamp(r===1e9?new Zt(n+1,0):new Zt(n,r));return new Fr(a,Pe.empty(),e)}function TN(t){return new Fr(t.readTime,t.key,-1)}class Fr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fr(Ge.min(),Pe.empty(),-1)}static max(){return new Fr(Ge.max(),Pe.empty(),-1)}}function Wx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:st(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(t){if(t.code!==pe.FAILED_PRECONDITION||t.message!==kN)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((r,a)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,a)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,r)=>{n(e)})}static reject(e){return new le((n,r)=>{r(e)})}static waitFor(e){return new le((n,r)=>{let a=0,i=0,s=!1;e.forEach(l=>{++a,l.next(()=>{++i,s&&i===a&&n()},c=>r(c))}),s=!0,i===a&&n()})}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next(a=>a?le.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,i)=>{r.push(n.call(this,a,i))}),this.waitFor(r)}static mapArray(e,n){return new le((r,a)=>{const i=e.length,s=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(u=>{s[d]=u,++l,l===i&&r(s)},u=>a(u))}})}static doWhile(e,n){return new le((r,a)=>{const i=()=>{e()===!0?n().next(()=>{i()},a):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new ka,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Id(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const a=$x(r.target.error);this.V.reject(new Id(e,a))}}static open(e,n,r,a){try{return new nm(n,e.transaction(a,r))}catch(i){throw new Id(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(we("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new o3(n)}}class ls{constructor(e,n,r){this.name=e,this.version=n,this.p=r,ls.S(In())===12.2&&lr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return we("SimpleDb","Removing database:",e),Ws(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!fN())return!1;if(ls.v())return!0;const e=In(),n=ls.S(e),r=0<n&&n<10,a=RN(e),i=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(we("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=i=>{const s=i.target.result;n(s)},a.onblocked=()=>{r(new Id(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=i=>{const s=i.target.error;s.name==="VersionError"?r(new ke(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new ke(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Id(e,s))},a.onupgradeneeded=i=>{we("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const s=i.target.result;this.p.O(s,a.transaction,i.oldVersion,this.version).next(()=>{we("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,a){const i=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.M(e);const l=nm.open(this.db,e,i?"readonly":"readwrite",r),c=a(l).next(d=>(l.g(),d)).catch(d=>(l.abort(d),le.reject(d))).toPromise();return c.catch(()=>{}),await l.m,c}catch(l){const c=l,d=c.name!=="FirebaseError"&&s<3;if(we("SimpleDb","Transaction failed with error:",c.message,"Retrying:",d),this.close(),!d)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function RN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class s3{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Ws(this.B.delete())}}class Id extends ke{constructor(e,n){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Cs(t){return t.name==="IndexedDbTransactionError"}class o3{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(we("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(we("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ws(r)}add(e){return we("SimpleDb","ADD",this.store.name,e,e),Ws(this.store.add(e))}get(e){return Ws(this.store.get(e)).next(n=>(n===void 0&&(n=null),we("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return we("SimpleDb","DELETE",this.store.name,e),Ws(this.store.delete(e))}count(){return we("SimpleDb","COUNT",this.store.name),Ws(this.store.count())}U(e,n){const r=this.options(e,n),a=r.index?this.store.index(r.index):this.store;if(typeof a.getAll=="function"){const i=a.getAll(r.range);return new le((s,l)=>{i.onerror=c=>{l(c.target.error)},i.onsuccess=c=>{s(c.target.result)}})}{const i=this.cursor(r),s=[];return this.W(i,(l,c)=>{s.push(c)}).next(()=>s)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new le((a,i)=>{r.onerror=s=>{i(s.target.error)},r.onsuccess=s=>{a(s.target.result)}})}j(e,n){we("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const a=this.cursor(r);return this.W(a,(i,s,l)=>l.delete())}J(e,n){let r;n?r=e:(r={},n=e);const a=this.cursor(r);return this.W(a,n)}Y(e){const n=this.cursor({});return new le((r,a)=>{n.onerror=i=>{const s=$x(i.target.error);a(s)},n.onsuccess=i=>{const s=i.target.result;s?e(s.primaryKey,s.value).next(l=>{l?s.continue():r()}):r()}})}W(e,n){const r=[];return new le((a,i)=>{e.onerror=s=>{i(s.target.error)},e.onsuccess=s=>{const l=s.target.result;if(!l)return void a();const c=new s3(l),d=n(l.primaryKey,l.value,c);if(d instanceof le){const u=d.catch(h=>(c.done(),le.reject(h)));r.push(u)}c.isDone?a():c.K===null?l.continue():l.continue(c.K)}}).next(()=>le.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ws(t){return new le((e,n)=>{t.onsuccess=r=>{const a=r.target.result;e(a)},t.onerror=r=>{const a=$x(r.target.error);n(a)}})}let jw=!1;function $x(t){const e=ls.S(In());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return jw||(jw=!0,setTimeout(()=>{throw r},0)),r}}return t}class l3{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){we("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{we("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){Cs(n)?we("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await jo(n)}await this.X(6e4)})}}class c3{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let a=n,i=!0;return le.doWhile(()=>i===!0&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return we("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,a).next(l=>{a-=l,r.add(s)});i=!1})).next(()=>n-a)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(a=>this.localStore.localDocuments.getNextDocuments(e,n,a,r).next(i=>{const s=i.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(a,i)).next(l=>(we("IndexBackfiller",`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,n,l))).next(()=>s.size)}))}re(e,n){let r=e;return n.changes.forEach((a,i)=>{const s=TN(i);Wx(s,r)>0&&(r=s)}),new Fr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Kr.oe=-1;function rm(t){return t==null}function ou(t){return t===0&&1/t==-1/0}function d3(t){return typeof t=="number"&&Number.isInteger(t)&&!ou(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Mw(e)),e=u3(t.get(n),e);return Mw(e)}function u3(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const i=t.charAt(a);switch(i){case"\0":n+="";break;case"":n+="";break;default:n+=i}}return n}function Mw(t){return t+""}function Na(t){const e=t.length;if(Ve(e>=2),e===2)return Ve(t.charAt(0)===""&&t.charAt(1)===""),Ot.emptyPath();const n=e-2,r=[];let a="";for(let i=0;i<e;){const s=t.indexOf("",i);switch((s<0||s>n)&&Oe(),t.charAt(s+1)){case"":const l=t.substring(i,s);let c;a.length===0?c=l:(a+=l,c=a,a=""),r.push(c);break;case"":a+=t.substring(i,s),a+="\0";break;case"":a+=t.substring(i,s+1);break;default:Oe()}i=s+2}return new Ot(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(t,e){return[t,dr(e)]}function PN(t,e,n){return[t,dr(e),n]}const h3={},f3=["prefixPath","collectionGroup","readTime","documentId"],p3=["prefixPath","collectionGroup","documentId"],m3=["collectionGroup","readTime","prefixPath","documentId"],g3=["canonicalId","targetId"],A3=["targetId","path"],x3=["path","targetId"],y3=["collectionId","parent"],v3=["indexId","uid"],b3=["uid","sequenceNumber"],w3=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],_3=["indexId","uid","orderedDocumentKey"],C3=["userId","collectionPath","documentId"],E3=["userId","collectionPath","largestBatchId"],N3=["userId","collectionGroup","largestBatchId"],jN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],I3=[...jN,"documentOverlays"],MN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],LN=MN,qx=[...LN,"indexConfiguration","indexState","indexEntries"],S3=qx,T3=[...qx,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0 extends DN{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Sn(t,e){const n=nt(t);return ls.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ON(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n){this.comparator=e,this.root=n||Bn.EMPTY}insert(e,n){return new en(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bn.BLACK,null,null))}remove(e){return new en(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dh(this.root,e,this.comparator,!0)}}class Dh{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&a&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bn{constructor(e,n,r,a,i){this.key=e,this.value=n,this.color=r??Bn.RED,this.left=a??Bn.EMPTY,this.right=i??Bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,i){return new Bn(e??this.key,n??this.value,r??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const i=r(e,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(e,n,r),null):i===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Bn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Oe();const e=this.left.check();if(e!==this.right.check())throw Oe();return e+(this.isRed()?0:1)}}Bn.EMPTY=null,Bn.RED=!0,Bn.BLACK=!1;Bn.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe()}get value(){throw Oe()}get color(){throw Oe()}get left(){throw Oe()}get right(){throw Oe()}copy(e,n,r,a,i){return this}insert(e,n,r){return new Bn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new en(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fw(this.data.getIterator())}getIteratorFrom(e){return new Fw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,i=r.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Gt(this.comparator);return n.data=e,n}}class Fw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ho(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new wr([])}unionWith(e){let n=new Gt(Jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ec(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new FN("Invalid base64 string: "+i):i}}(e);return new pn(n)}static fromUint8Array(e){const n=function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i}(e);return new pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const k3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function di(t){if(Ve(!!t),typeof t=="string"){let e=0;const n=k3.exec(t);if(Ve(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kt(t.seconds),nanos:Kt(t.nanos)}}function Kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ps(t){return typeof t=="string"?pn.fromBase64String(t):pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Qx(t){const e=t.mapValue.fields.__previous_value__;return Hx(e)?Qx(e):e}function lu(t){const e=di(t.mapValue.fields.__local_write_time__.timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n,r,a,i,s,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d}}class ms{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ms("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ms&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},af={nullValue:"NULL_VALUE"};function _o(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hx(t)?4:BN(t)?9007199254740991:am(t)?10:11:Oe()}function Pa(t,e){if(t===e)return!0;const n=_o(t);if(n!==_o(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return lu(t).isEqual(lu(e));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=di(a.timestampValue),l=di(i.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,i){return ps(a.bytesValue).isEqual(ps(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,i){return Kt(a.geoPointValue.latitude)===Kt(i.geoPointValue.latitude)&&Kt(a.geoPointValue.longitude)===Kt(i.geoPointValue.longitude)}(t,e);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return Kt(a.integerValue)===Kt(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=Kt(a.doubleValue),l=Kt(i.doubleValue);return s===l?ou(s)===ou(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return ec(t.arrayValue.values||[],e.arrayValue.values||[],Pa);case 10:case 11:return function(a,i){const s=a.mapValue.fields||{},l=i.mapValue.fields||{};if(Ow(s)!==Ow(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!Pa(s[c],l[c])))return!1;return!0}(t,e);default:return Oe()}}function cu(t,e){return(t.values||[]).find(n=>Pa(n,e))!==void 0}function gs(t,e){if(t===e)return 0;const n=_o(t),r=_o(e);if(n!==r)return st(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return st(t.booleanValue,e.booleanValue);case 2:return function(i,s){const l=Kt(i.integerValue||i.doubleValue),c=Kt(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Bw(t.timestampValue,e.timestampValue);case 4:return Bw(lu(t),lu(e));case 5:return st(t.stringValue,e.stringValue);case 6:return function(i,s){const l=ps(i),c=ps(s);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const l=i.split("/"),c=s.split("/");for(let d=0;d<l.length&&d<c.length;d++){const u=st(l[d],c[d]);if(u!==0)return u}return st(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const l=st(Kt(i.latitude),Kt(s.latitude));return l!==0?l:st(Kt(i.longitude),Kt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return zw(t.arrayValue,e.arrayValue);case 10:return function(i,s){var l,c,d,u;const h=i.fields||{},p=s.fields||{},m=(l=h.value)===null||l===void 0?void 0:l.arrayValue,g=(c=p.value)===null||c===void 0?void 0:c.arrayValue,A=st(((d=m==null?void 0:m.values)===null||d===void 0?void 0:d.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return A!==0?A:zw(m,g)}(t.mapValue,e.mapValue);case 11:return function(i,s){if(i===Xi.mapValue&&s===Xi.mapValue)return 0;if(i===Xi.mapValue)return 1;if(s===Xi.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=s.fields||{},u=Object.keys(d);c.sort(),u.sort();for(let h=0;h<c.length&&h<u.length;++h){const p=st(c[h],u[h]);if(p!==0)return p;const m=gs(l[c[h]],d[u[h]]);if(m!==0)return m}return st(c.length,u.length)}(t.mapValue,e.mapValue);default:throw Oe()}}function Bw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return st(t,e);const n=di(t),r=di(e),a=st(n.seconds,r.seconds);return a!==0?a:st(n.nanos,r.nanos)}function zw(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const i=gs(n[a],r[a]);if(i)return i}return st(n.length,r.length)}function tc(t){return K0(t)}function K0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=di(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ps(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",a=!0;for(const i of n.values||[])a?a=!1:r+=",",r+=K0(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",i=!0;for(const s of r)i?i=!1:a+=",",a+=`${s}:${K0(n.fields[s])}`;return a+"}"}(t.mapValue):Oe()}function du(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Y0(t){return!!t&&"integerValue"in t}function uu(t){return!!t&&"arrayValue"in t}function Vw(t){return!!t&&"nullValue"in t}function Uw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sf(t){return!!t&&"mapValue"in t}function am(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Sd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Mo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function BN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const zN={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function R3(t){return"nullValue"in t?af:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?du(ms.empty(),Pe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?am(t)?zN:{mapValue:{}}:Oe()}function P3(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?du(ms.empty(),Pe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?zN:"mapValue"in t?am(t)?{mapValue:{}}:Xi:Oe()}function Gw(t,e){const n=gs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Ww(t,e){const n=gs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.value=e}static empty(){return new nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sd(n)}setAll(e){let n=Jt.emptyPath(),r={},a=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,a),r={},a=[],n=l.popLast()}s?r[l.lastSegment()]=Sd(s):a.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,a)}delete(e){const n=this.field(e.popLast());sf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];sf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Mo(n,(a,i)=>e[a]=i);for(const a of r)delete e[a]}clone(){return new nr(Sd(this.value))}}function VN(t){const e=[];return Mo(t.fields,(n,r)=>{const a=new Jt([n]);if(sf(r)){const i=VN(r.mapValue).fields;if(i.length===0)e.push(a);else for(const s of i)e.push(a.child(s))}else e.push(a)}),new wr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,r,a,i,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=i,this.data=s,this.documentState=l}static newInvalidDocument(e){return new dn(e,0,Ge.min(),Ge.min(),Ge.min(),nr.empty(),0)}static newFoundDocument(e,n,r,a){return new dn(e,1,n,Ge.min(),r,a,0)}static newNoDocument(e,n){return new dn(e,2,n,Ge.min(),Ge.min(),nr.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,Ge.min(),Ge.min(),nr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n){this.position=e,this.inclusive=n}}function $w(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const i=e[a],s=t.position[a];if(i.field.isKeyField()?r=Pe.comparator(Pe.fromName(s.referenceValue),n.key):r=gs(s,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function qw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Pa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n="asc"){this.field=e,this.dir=n}}function j3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{}class wt extends UN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new M3(e,n,r):n==="array-contains"?new F3(e,r):n==="in"?new QN(e,r):n==="not-in"?new B3(e,r):n==="array-contains-any"?new z3(e,r):new wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new L3(e,r):new O3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(gs(n,this.value)):n!==null&&_o(this.value)===_o(n)&&this.matchesComparison(gs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vt extends UN{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Vt(e,n)}matches(e){return rc(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function rc(t){return t.op==="and"}function J0(t){return t.op==="or"}function Xx(t){return GN(t)&&rc(t)}function GN(t){for(const e of t.filters)if(e instanceof Vt)return!1;return!0}function Z0(t){if(t instanceof wt)return t.field.canonicalString()+t.op.toString()+tc(t.value);if(Xx(t))return t.filters.map(e=>Z0(e)).join(",");{const e=t.filters.map(n=>Z0(n)).join(",");return`${t.op}(${e})`}}function WN(t,e){return t instanceof wt?function(r,a){return a instanceof wt&&r.op===a.op&&r.field.isEqual(a.field)&&Pa(r.value,a.value)}(t,e):t instanceof Vt?function(r,a){return a instanceof Vt&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((i,s,l)=>i&&WN(s,a.filters[l]),!0):!1}(t,e):void Oe()}function $N(t,e){const n=t.filters.concat(e);return Vt.create(n,t.op)}function qN(t){return t instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${tc(n.value)}`}(t):t instanceof Vt?function(n){return n.op.toString()+" {"+n.getFilters().map(qN).join(" ,")+"}"}(t):"Filter"}class M3 extends wt{constructor(e,n,r){super(e,n,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class L3 extends wt{constructor(e,n){super(e,"in",n),this.keys=HN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class O3 extends wt{constructor(e,n){super(e,"not-in",n),this.keys=HN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function HN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class F3 extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uu(n)&&cu(n.arrayValue,this.value)}}class QN extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cu(this.value.arrayValue,n)}}class B3 extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!cu(this.value.arrayValue,n)}}class z3 extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>cu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n=null,r=[],a=[],i=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=i,this.startAt=s,this.endAt=l,this.ue=null}}function eA(t,e=null,n=[],r=[],a=null,i=null,s=null){return new V3(t,e,n,r,a,i,s)}function Co(t){const e=nt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Z0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),rm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>tc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>tc(r)).join(",")),e.ue=n}return e.ue}function Mu(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!j3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qw(t.startAt,e.startAt)&&qw(t.endAt,e.endAt)}function op(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function lp(t,e){return t.filters.filter(n=>n instanceof wt&&n.field.isEqual(e))}function Hw(t,e,n){let r=af,a=!0;for(const i of lp(t,e)){let s=af,l=!0;switch(i.op){case"<":case"<=":s=R3(i.value);break;case"==":case"in":case">=":s=i.value;break;case">":s=i.value,l=!1;break;case"!=":case"not-in":s=af}Gw({value:r,inclusive:a},{value:s,inclusive:l})<0&&(r=s,a=l)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const s=n.position[i];Gw({value:r,inclusive:a},{value:s,inclusive:n.inclusive})<0&&(r=s,a=n.inclusive);break}}return{value:r,inclusive:a}}function Qw(t,e,n){let r=Xi,a=!0;for(const i of lp(t,e)){let s=Xi,l=!0;switch(i.op){case">=":case">":s=P3(i.value),l=!1;break;case"==":case"in":case"<=":s=i.value;break;case"<":s=i.value,l=!1;break;case"!=":case"not-in":s=Xi}Ww({value:r,inclusive:a},{value:s,inclusive:l})>0&&(r=s,a=l)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const s=n.position[i];Ww({value:r,inclusive:a},{value:s,inclusive:n.inclusive})>0&&(r=s,a=n.inclusive);break}}return{value:r,inclusive:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n=null,r=[],a=[],i=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=i,this.limitType=s,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function U3(t,e,n,r,a,i,s,l){return new vc(t,e,n,r,a,i,s,l)}function Lu(t){return new vc(t)}function Xw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function XN(t){return t.collectionGroup!==null}function Td(t){const e=nt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new Gt(Jt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new hu(i,r))}),n.has(Jt.keyField().canonicalString())||e.ce.push(new hu(Jt.keyField(),r))}return e.ce}function Zr(t){const e=nt(t);return e.le||(e.le=G3(e,Td(t))),e.le}function G3(t,e){if(t.limitType==="F")return eA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new hu(a.field,i)});const n=t.endAt?new nc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new nc(t.startAt.position,t.startAt.inclusive):null;return eA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tA(t,e){const n=t.filters.concat([e]);return new vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function nA(t,e,n){return new vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function im(t,e){return Mu(Zr(t),Zr(e))&&t.limitType===e.limitType}function KN(t){return`${Co(Zr(t))}|lt:${t.limitType}`}function al(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>qN(a)).join(", ")}]`),rm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>tc(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>tc(a)).join(",")),`Target(${r})`}(Zr(t))}; limitType=${t.limitType})`}function Ou(t,e){return e.isFoundDocument()&&function(r,a){const i=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Pe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,a){for(const i of Td(r))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,a){for(const i of r.filters)if(!i.matches(a))return!1;return!0}(t,e)&&function(r,a){return!(r.startAt&&!function(s,l,c){const d=$w(s,l,c);return s.inclusive?d<=0:d<0}(r.startAt,Td(r),a)||r.endAt&&!function(s,l,c){const d=$w(s,l,c);return s.inclusive?d>=0:d>0}(r.endAt,Td(r),a))}(t,e)}function W3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YN(t){return(e,n)=>{let r=!1;for(const a of Td(t)){const i=$3(a,e,n);if(i!==0)return i;r=r||a.field.isKeyField()}return 0}}function $3(t,e,n){const r=t.field.isKeyField()?Pe.comparator(e.key,n.key):function(i,s,l){const c=s.data.field(i),d=l.data.field(i);return c!==null&&d!==null?gs(c,d):Oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,i]of r)if(this.equalsFn(a,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],e))return void(a[i]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Mo(this.inner,(n,r)=>{for(const[a,i]of r)e(a,i)})}isEmpty(){return ON(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=new en(Pe.comparator);function Mr(){return q3}const JN=new en(Pe.comparator);function rd(...t){let e=JN;for(const n of t)e=e.insert(n.key,n);return e}function ZN(t){let e=JN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ia(){return kd()}function eI(){return kd()}function kd(){return new Es(t=>t.toString(),(t,e)=>t.isEqual(e))}const H3=new en(Pe.comparator),Q3=new Gt(Pe.comparator);function ft(...t){let e=Q3;for(const n of t)e=e.add(n);return e}const X3=new Gt(st);function K3(){return X3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ou(e)?"-0":e}}function tI(t){return{integerValue:""+t}}function Y3(t,e){return d3(e)?tI(e):Kx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this._=void 0}}function J3(t,e,n){return t instanceof fu?function(a,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&Hx(i)&&(i=Qx(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ac?rI(t,e):t instanceof ic?aI(t,e):function(a,i){const s=nI(a,i),l=Kw(s)+Kw(a.Pe);return Y0(s)&&Y0(a.Pe)?tI(l):Kx(a.serializer,l)}(t,e)}function Z3(t,e,n){return t instanceof ac?rI(t,e):t instanceof ic?aI(t,e):n}function nI(t,e){return t instanceof pu?function(r){return Y0(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class fu extends sm{}class ac extends sm{constructor(e){super(),this.elements=e}}function rI(t,e){const n=iI(e);for(const r of t.elements)n.some(a=>Pa(a,r))||n.push(r);return{arrayValue:{values:n}}}class ic extends sm{constructor(e){super(),this.elements=e}}function aI(t,e){let n=iI(e);for(const r of t.elements)n=n.filter(a=>!Pa(a,r));return{arrayValue:{values:n}}}class pu extends sm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Kw(t){return Kt(t.integerValue||t.doubleValue)}function iI(t){return uu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n){this.field=e,this.transform=n}}function tO(t,e){return t.field.isEqual(e.field)&&function(r,a){return r instanceof ac&&a instanceof ac||r instanceof ic&&a instanceof ic?ec(r.elements,a.elements,Pa):r instanceof pu&&a instanceof pu?Pa(r.Pe,a.Pe):r instanceof fu&&a instanceof fu}(t.transform,e.transform)}class nO{constructor(e,n){this.version=e,this.transformResults=n}}class Nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nn}static exists(e){return new Nn(void 0,e)}static updateTime(e){return new Nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function of(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class om{}function sI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fu(t.key,Nn.none()):new bc(t.key,t.data,Nn.none());{const n=t.data,r=nr.empty();let a=new Gt(Jt.comparator);for(let i of e.fields)if(!a.has(i)){let s=n.field(i);s===null&&i.length>1&&(i=i.popLast(),s=n.field(i)),s===null?r.delete(i):r.set(i,s),a=a.add(i)}return new pi(t.key,r,new wr(a.toArray()),Nn.none())}}function rO(t,e,n){t instanceof bc?function(a,i,s){const l=a.value.clone(),c=Jw(a.fieldTransforms,i,s.transformResults);l.setAll(c),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof pi?function(a,i,s){if(!of(a.precondition,i))return void i.convertToUnknownDocument(s.version);const l=Jw(a.fieldTransforms,i,s.transformResults),c=i.data;c.setAll(oI(a)),c.setAll(l),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Dd(t,e,n,r){return t instanceof bc?function(i,s,l,c){if(!of(i.precondition,s))return l;const d=i.value.clone(),u=Zw(i.fieldTransforms,c,s);return d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof pi?function(i,s,l,c){if(!of(i.precondition,s))return l;const d=Zw(i.fieldTransforms,c,s),u=s.data;return u.setAll(oI(i)),u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,s,l){return of(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function aO(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),i=nI(r.transform,a||null);i!=null&&(n===null&&(n=nr.empty()),n.set(r.field,i))}return n||null}function Yw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&ec(r,a,(i,s)=>tO(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bc extends om{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class pi extends om{constructor(e,n,r,a,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function oI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Jw(t,e,n){const r=new Map;Ve(t.length===n.length);for(let a=0;a<n.length;a++){const i=t[a],s=i.transform,l=e.data.field(i.field);r.set(i.field,Z3(s,l,n[a]))}return r}function Zw(t,e,n){const r=new Map;for(const a of t){const i=a.transform,s=n.data.field(a.field);r.set(a.field,J3(i,s,e))}return r}class Fu extends om{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lI extends om{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(e.key)&&rO(i,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Dd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Dd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=eI();return this.mutations.forEach(a=>{const i=e.get(a.key),s=i.overlayedDocument;let l=this.applyToLocalView(s,i.mutatedFields);l=n.has(a.key)?null:l;const c=sI(s,l);c!==null&&r.set(a.key,c),s.isValidDocument()||s.convertToNoDocument(Ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ft())}isEqual(e){return this.batchId===e.batchId&&ec(this.mutations,e.mutations,(n,r)=>Yw(n,r))&&ec(this.baseMutations,e.baseMutations,(n,r)=>Yw(n,r))}}class Jx{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){Ve(e.mutations.length===r.length);let a=function(){return H3}();const i=e.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,r[s].version);return new Jx(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An,It;function sO(t){switch(t){default:return Oe();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function cI(t){if(t===void 0)return lr("GRPC error has no .code"),pe.UNKNOWN;switch(t){case An.OK:return pe.OK;case An.CANCELLED:return pe.CANCELLED;case An.UNKNOWN:return pe.UNKNOWN;case An.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case An.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case An.INTERNAL:return pe.INTERNAL;case An.UNAVAILABLE:return pe.UNAVAILABLE;case An.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case An.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case An.NOT_FOUND:return pe.NOT_FOUND;case An.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case An.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case An.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case An.ABORTED:return pe.ABORTED;case An.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case An.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case An.DATA_LOSS:return pe.DATA_LOSS;default:return Oe()}}(It=An||(An={}))[It.OK=0]="OK",It[It.CANCELLED=1]="CANCELLED",It[It.UNKNOWN=2]="UNKNOWN",It[It.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",It[It.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",It[It.NOT_FOUND=5]="NOT_FOUND",It[It.ALREADY_EXISTS=6]="ALREADY_EXISTS",It[It.PERMISSION_DENIED=7]="PERMISSION_DENIED",It[It.UNAUTHENTICATED=16]="UNAUTHENTICATED",It[It.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",It[It.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",It[It.ABORTED=10]="ABORTED",It[It.OUT_OF_RANGE=11]="OUT_OF_RANGE",It[It.UNIMPLEMENTED=12]="UNIMPLEMENTED",It[It.INTERNAL=13]="INTERNAL",It[It.UNAVAILABLE=14]="UNAVAILABLE",It[It.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=new co([4294967295,4294967295],0);function e1(t){const e=oO().encode(t),n=new vN;return n.update(e),new Uint8Array(n.digest())}function t1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new co([n,r],0),new co([a,i],0)]}class ey{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ad(`Invalid padding: ${n}`);if(r<0)throw new ad(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ad(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ad(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=co.fromNumber(this.Ie)}Ee(e,n,r){let a=e.add(n.multiply(co.fromNumber(r)));return a.compare(lO)===1&&(a=new co([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=e1(e),[r,a]=t1(n);for(let i=0;i<this.hashCount;i++){const s=this.Ee(r,a,i);if(!this.de(s))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new ey(i,a,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.Ie===0)return;const n=e1(e),[r,a]=t1(n);for(let i=0;i<this.hashCount;i++){const s=this.Ee(r,a,i);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ad extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n,r,a,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Bu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new lm(Ge.min(),a,new en(st),Mr(),ft())}}class Bu{constructor(e,n,r,a,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bu(r,n,ft(),ft(),ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n,r,a){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=a}}class dI{constructor(e,n){this.targetId=e,this.me=n}}class uI{constructor(e,n,r=pn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class n1{constructor(){this.fe=0,this.ge=a1(),this.pe=pn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ft(),n=ft(),r=ft();return this.ge.forEach((a,i)=>{switch(i){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Oe()}}),new Bu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=a1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class cO{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mr(),this.qe=r1(),this.Qe=new en(st)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,a)=>{this.ze(a)&&n(a)})}He(e){const n=e.targetId,r=e.me.count,a=this.Je(n);if(a){const i=a.target;if(op(i))if(r===0){const s=new Pe(i.path);this.Ue(n,s,dn.newNoDocument(s,Ge.min()))}else Ve(r===1);else{const s=this.Ye(n);if(s!==r){const l=this.Ze(e),c=l?this.Xe(l,e,s):1;if(c!==0){this.je(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:i=0}=n;let s,l;try{s=ps(r).toUint8Array()}catch(c){if(c instanceof FN)return fs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new ey(s,a,i)}catch(c){return fs(c instanceof ad?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let a=0;return r.forEach(i=>{const s=this.Le.tt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,i,null),a++)}),a}rt(e){const n=new Map;this.Be.forEach((i,s)=>{const l=this.Je(s);if(l){if(i.current&&op(l.target)){const c=new Pe(l.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,dn.newNoDocument(c,e))}i.be&&(n.set(s,i.ve()),i.Ce())}});let r=ft();this.qe.forEach((i,s)=>{let l=!0;s.forEachWhile(c=>{const d=this.Je(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ke.forEach((i,s)=>s.setReadTime(e));const a=new lm(e,n,this.Qe,this.ke,r);return this.ke=Mr(),this.qe=r1(),this.Qe=new en(st),a}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const a=this.Ge(e);this.it(e,n)?a.Fe(n,1):a.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new n1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Gt(st),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new n1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function r1(){return new en(Pe.comparator)}function a1(){return new en(Pe.comparator)}const dO={asc:"ASCENDING",desc:"DESCENDING"},uO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hO={and:"AND",or:"OR"};class fO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rA(t,e){return t.useProto3Json||rm(e)?e:{value:e}}function sc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pO(t,e){return sc(t,e.toTimestamp())}function ur(t){return Ve(!!t),Ge.fromTimestamp(function(n){const r=di(n);return new Zt(r.seconds,r.nanos)}(t))}function ty(t,e){return aA(t,e).canonicalString()}function aA(t,e){const n=function(a){return new Ot(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fI(t){const e=Ot.fromString(t);return Ve(wI(e)),e}function cp(t,e){return ty(t.databaseId,e.path)}function uo(t,e){const n=fI(e);if(n.get(1)!==t.databaseId.projectId)throw new ke(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ke(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(gI(n))}function pI(t,e){return ty(t.databaseId,e)}function mI(t){const e=fI(t);return e.length===4?Ot.emptyPath():gI(e)}function iA(t){return new Ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gI(t){return Ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function i1(t,e,n){return{name:cp(t,e),fields:n.value.mapValue.fields}}function mO(t,e,n){const r=uo(t,e.name),a=ur(e.updateTime),i=e.createTime?ur(e.createTime):Ge.min(),s=new nr({mapValue:{fields:e.fields}}),l=dn.newFoundDocument(r,a,i,s);return n&&l.setHasCommittedMutations(),n?l.setHasCommittedMutations():l}function gO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],i=function(d,u){return d.useProto3Json?(Ve(u===void 0||typeof u=="string"),pn.fromBase64String(u||"")):(Ve(u===void 0||u instanceof Buffer||u instanceof Uint8Array),pn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(d){const u=d.code===void 0?pe.UNKNOWN:cI(d.code);return new ke(u,d.message||"")}(s);n=new uI(r,a,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=uo(t,r.document.name),i=ur(r.document.updateTime),s=r.document.createTime?ur(r.document.createTime):Ge.min(),l=new nr({mapValue:{fields:r.document.fields}}),c=dn.newFoundDocument(a,i,s,l),d=r.targetIds||[],u=r.removedTargetIds||[];n=new lf(d,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=uo(t,r.document),i=r.readTime?ur(r.readTime):Ge.min(),s=dn.newNoDocument(a,i),l=r.removedTargetIds||[];n=new lf([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=uo(t,r.document),i=r.removedTargetIds||[];n=new lf([],i,a,null)}else{if(!("filter"in e))return Oe();{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:i}=r,s=new iO(a,i),l=r.targetId;n=new dI(l,s)}}return n}function dp(t,e){let n;if(e instanceof bc)n={update:i1(t,e.key,e.value)};else if(e instanceof Fu)n={delete:cp(t,e.key)};else if(e instanceof pi)n={update:i1(t,e.key,e.data),updateMask:wO(e.fieldMask)};else{if(!(e instanceof lI))return Oe();n={verify:cp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const l=s.transform;if(l instanceof fu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ac)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ic)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof pu)return{fieldPath:s.field.canonicalString(),increment:l.Pe};throw Oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:pO(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Oe()}(t,e.precondition)),n}function sA(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?Nn.updateTime(ur(i.updateTime)):i.exists!==void 0?Nn.exists(i.exists):Nn.none()}(e.currentDocument):Nn.none(),r=e.updateTransforms?e.updateTransforms.map(a=>function(s,l){let c=null;if("setToServerValue"in l)Ve(l.setToServerValue==="REQUEST_TIME"),c=new fu;else if("appendMissingElements"in l){const u=l.appendMissingElements.values||[];c=new ac(u)}else if("removeAllFromArray"in l){const u=l.removeAllFromArray.values||[];c=new ic(u)}else"increment"in l?c=new pu(s,l.increment):Oe();const d=Jt.fromServerFormat(l.fieldPath);return new eO(d,c)}(t,a)):[];if(e.update){e.update.name;const a=uo(t,e.update.name),i=new nr({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=function(c){const d=c.fieldPaths||[];return new wr(d.map(u=>Jt.fromServerFormat(u)))}(e.updateMask);return new pi(a,i,s,n,r)}return new bc(a,i,n,r)}if(e.delete){const a=uo(t,e.delete);return new Fu(a,n)}if(e.verify){const a=uo(t,e.verify);return new lI(a,n)}return Oe()}function AO(t,e){return t&&t.length>0?(Ve(e!==void 0),t.map(n=>function(a,i){let s=a.updateTime?ur(a.updateTime):ur(i);return s.isEqual(Ge.min())&&(s=ur(i)),new nO(s,a.transformResults||[])}(n,e))):[]}function AI(t,e){return{documents:[pI(t,e.path)]}}function xI(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pI(t,a);const i=function(d){if(d.length!==0)return bI(Vt.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(d){if(d.length!==0)return d.map(u=>function(p){return{field:il(p.field),direction:yO(p.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=rA(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:a}}function yI(t){let e=mI(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Ve(r===1);const u=n.from[0];u.allDescendants?a=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const p=vI(h);return p instanceof Vt&&Xx(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(p=>function(g){return new hu(sl(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(h){let p;return p=typeof h=="object"?h.value:h,rm(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(h){const p=!!h.before,m=h.values||[];return new nc(m,p)}(n.startAt));let d=null;return n.endAt&&(d=function(h){const p=!h.before,m=h.values||[];return new nc(m,p)}(n.endAt)),U3(e,a,s,i,l,"F",c,d)}function xO(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=sl(n.unaryFilter.field);return wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=sl(n.unaryFilter.field);return wt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=sl(n.unaryFilter.field);return wt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=sl(n.unaryFilter.field);return wt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Oe()}}(t):t.fieldFilter!==void 0?function(n){return wt.create(sl(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vt.create(n.compositeFilter.filters.map(r=>vI(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Oe()}}(n.compositeFilter.op))}(t):Oe()}function yO(t){return dO[t]}function vO(t){return uO[t]}function bO(t){return hO[t]}function il(t){return{fieldPath:t.canonicalString()}}function sl(t){return Jt.fromServerFormat(t.fieldPath)}function bI(t){return t instanceof wt?function(n){if(n.op==="=="){if(Uw(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NAN"}};if(Vw(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Uw(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NAN"}};if(Vw(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(n.field),op:vO(n.op),value:n.value}}}(t):t instanceof Vt?function(n){const r=n.getFilters().map(a=>bI(a));return r.length===1?r[0]:{compositeFilter:{op:bO(n.op),filters:r}}}(t):Oe()}function wO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n,r,a,i=Ge.min(),s=Ge.min(),l=pn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Ya(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.ct=e}}function _O(t,e){let n;if(e.document)n=mO(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Pe.fromSegments(e.noDocument.path),a=No(e.noDocument.readTime);n=dn.newNoDocument(r,a),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Oe();{const r=Pe.fromSegments(e.unknownDocument.path),a=No(e.unknownDocument.version);n=dn.newUnknownDocument(r,a)}}return e.readTime&&n.setReadTime(function(a){const i=new Zt(a[0],a[1]);return Ge.fromTimestamp(i)}(e.readTime)),n}function s1(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:up(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,s){return{name:cp(i,s.key),fields:s.data.value.mapValue.fields,updateTime:sc(i,s.version.toTimestamp()),createTime:sc(i,s.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Eo(e.version)};else{if(!e.isUnknownDocument())return Oe();r.unknownDocument={path:n.path.toArray(),version:Eo(e.version)}}return r}function up(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Eo(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function No(t){const e=new Zt(t.seconds,t.nanoseconds);return Ge.fromTimestamp(e)}function $s(t,e){const n=(e.baseMutations||[]).map(i=>sA(t.ct,i));for(let i=0;i<e.mutations.length-1;++i){const s=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const l=e.mutations[i+1];s.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map(i=>sA(t.ct,i)),a=Zt.fromMillis(e.localWriteTimeMs);return new Yx(e.batchId,a,n,r)}function id(t){const e=No(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?No(t.lastLimboFreeSnapshotVersion):Ge.min();let r;return r=function(i){return i.documents!==void 0}(t.query)?function(i){return Ve(i.documents.length===1),Zr(Lu(mI(i.documents[0])))}(t.query):function(i){return Zr(yI(i))}(t.query),new Ya(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,pn.fromBase64String(t.resumeToken))}function CI(t,e){const n=Eo(e.snapshotVersion),r=Eo(e.lastLimboFreeSnapshotVersion);let a;a=op(e.target)?AI(t.ct,e.target):xI(t.ct,e.target)._t;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Co(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function EI(t){const e=yI({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nA(e,e.limit,"L"):e}function bg(t,e){return new Zx(e.largestBatchId,sA(t.ct,e.overlayMutation))}function o1(t,e){const n=e.path.lastSegment();return[t,dr(e.path.popLast()),n]}function l1(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Eo(r.readTime),documentKey:dr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{getBundleMetadata(e,n){return c1(e).get(n).next(r=>{if(r)return function(i){return{id:i.bundleId,createTime:No(i.createTime),version:i.version}}(r)})}saveBundleMetadata(e,n){return c1(e).put(function(a){return{bundleId:a.id,createTime:Eo(ur(a.createTime)),version:a.version}}(n))}getNamedQuery(e,n){return d1(e).get(n).next(r=>{if(r)return function(i){return{name:i.name,query:EI(i.bundledQuery),readTime:No(i.readTime)}}(r)})}saveNamedQuery(e,n){return d1(e).put(function(a){return{name:a.name,readTime:Eo(ur(a.readTime)),bundledQuery:a.bundledQuery}}(n))}}function c1(t){return Sn(t,"bundles")}function d1(t){return Sn(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new cm(e,r)}getOverlay(e,n){return Uc(e).get(o1(this.userId,n)).next(r=>r?bg(this.serializer,r):null)}getOverlays(e,n){const r=Ia();return le.forEach(n,a=>this.getOverlay(e,a).next(i=>{i!==null&&r.set(a,i)})).next(()=>r)}saveOverlays(e,n,r){const a=[];return r.forEach((i,s)=>{const l=new Zx(n,s);a.push(this.ht(e,l))}),le.waitFor(a)}removeOverlaysForBatchId(e,n,r){const a=new Set;n.forEach(s=>a.add(dr(s.getCollectionPath())));const i=[];return a.forEach(s=>{const l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);i.push(Uc(e).j("collectionPathOverlayIndex",l))}),le.waitFor(i)}getOverlaysForCollection(e,n,r){const a=Ia(),i=dr(n),s=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Uc(e).U("collectionPathOverlayIndex",s).next(l=>{for(const c of l){const d=bg(this.serializer,c);a.set(d.getKey(),d)}return a})}getOverlaysForCollectionGroup(e,n,r,a){const i=Ia();let s;const l=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Uc(e).J({index:"collectionGroupOverlayIndex",range:l},(c,d,u)=>{const h=bg(this.serializer,d);i.size()<a||h.largestBatchId===s?(i.set(h.getKey(),h),s=h.largestBatchId):u.done()}).next(()=>i)}ht(e,n){return Uc(e).put(function(a,i,s){const[l,c,d]=o1(i,s.mutation.key);return{userId:i,collectionPath:c,documentId:d,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:dp(a.ct,s.mutation)}}(this.serializer,this.userId,n))}}function Uc(t){return Sn(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{Pt(e){return Sn(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?pn.fromUint8Array(r):pn.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Kt(e.integerValue));else if("doubleValue"in e){const r=Kt(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),ou(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=di(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(ps(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?BN(e)?this.dt(n,Number.MAX_SAFE_INTEGER):am(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Oe()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const a of Object.keys(r))this.Vt(a,n),this.Tt(r[a],n)}wt(e,n){var r,a;const i=e.fields||{};this.dt(n,53);const s="value",l=((a=(r=i[s].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.length)||0;this.dt(n,15),n.At(Kt(l)),this.Vt(s,n),this.Tt(i[s],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const a of r)this.Tt(a,n)}yt(e,n){this.dt(n,37),Pe.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}qs.vt=new qs;function NO(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function u1(t){const e=64-function(r){let a=0;for(let i=0;i<8;++i){const s=NO(255&r[i]);if(a+=s,s!==8)break}return a}(t);return Math.ceil(e/8)}class IO{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const a=n.codePointAt(0);this.Ft(240|a>>>18),this.Ft(128|63&a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const a=n.codePointAt(0);this.Ot(240|a>>>18),this.Ot(128|63&a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a)}}this.Nt()}kt(e){const n=this.qt(e),r=u1(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=255&n[a]}Kt(e){const n=this.qt(e),r=u1(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let a=n.length-r;a<n.length;++a)this.buffer[this.position++]=~(255&n[a])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let a=1;a<n.length;++a)n[a]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class SO{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class TO{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Gc{constructor(){this.jt=new IO,this.Ht=new SO(this.jt),this.Jt=new TO(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n,r,a){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=a}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Hs(this.indexId,this.documentKey,this.arrayValue,r)}}function Ei(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=h1(t.arrayValue,e.arrayValue),n!==0?n:(n=h1(t.directionalValue,e.directionalValue),n!==0?n:Pe.comparator(t.documentKey,e.documentKey)))}function h1(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e){this.Xt=new Gt((n,r)=>Jt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(Ve(e.collectionGroup===this.collectionId),this.nn)return!1;const n=Q0(e);if(n!==void 0&&!this.sn(n))return!1;const r=Gs(e);let a=new Set,i=0,s=0;for(;i<r.length&&this.sn(r[i]);++i)a=a.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.Xt.size>0){const l=this.Xt.getIterator().getNext();if(!a.has(l.field.canonicalString())){const c=r[i];if(!this.on(l,c)||!this._n(this.en[s++],c))return!1}++i}for(;i<r.length;++i){const l=r[i];if(s>=this.en.length||!this._n(this.en[s++],l))return!1}return!0}an(){if(this.nn)return null;let e=new Gt(Jt.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new nf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new nf(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new nf(r.field,r.dir==="asc"?0:1)));return new sp(sp.UNKNOWN_ID,this.collectionId,n,su.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t){var e,n;if(Ve(t instanceof wt||t instanceof Vt),t instanceof wt){if(t instanceof QN){const a=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(i=>wt.create(t.field,"==",i)))||[];return Vt.create(a,"or")}return t}const r=t.filters.map(a=>NI(a));return Vt.create(r,t.op)}function kO(t){if(t.getFilters().length===0)return[];const e=cA(NI(t));return Ve(II(e)),oA(e)||lA(e)?[e]:e.getFilters()}function oA(t){return t instanceof wt}function lA(t){return t instanceof Vt&&Xx(t)}function II(t){return oA(t)||lA(t)||function(n){if(n instanceof Vt&&J0(n)){for(const r of n.getFilters())if(!oA(r)&&!lA(r))return!1;return!0}return!1}(t)}function cA(t){if(Ve(t instanceof wt||t instanceof Vt),t instanceof wt)return t;if(t.filters.length===1)return cA(t.filters[0]);const e=t.filters.map(r=>cA(r));let n=Vt.create(e,t.op);return n=hp(n),II(n)?n:(Ve(n instanceof Vt),Ve(rc(n)),Ve(n.filters.length>1),n.filters.reduce((r,a)=>ny(r,a)))}function ny(t,e){let n;return Ve(t instanceof wt||t instanceof Vt),Ve(e instanceof wt||e instanceof Vt),n=t instanceof wt?e instanceof wt?function(a,i){return Vt.create([a,i],"and")}(t,e):p1(t,e):e instanceof wt?p1(e,t):function(a,i){if(Ve(a.filters.length>0&&i.filters.length>0),rc(a)&&rc(i))return $N(a,i.getFilters());const s=J0(a)?a:i,l=J0(a)?i:a,c=s.filters.map(d=>ny(d,l));return Vt.create(c,"or")}(t,e),hp(n)}function p1(t,e){if(rc(e))return $N(e,t.getFilters());{const n=e.filters.map(r=>ny(t,r));return Vt.create(n,"or")}}function hp(t){if(Ve(t instanceof wt||t instanceof Vt),t instanceof wt)return t;const e=t.getFilters();if(e.length===1)return hp(e[0]);if(GN(t))return t;const n=e.map(a=>hp(a)),r=[];return n.forEach(a=>{a instanceof wt?r.push(a):a instanceof Vt&&(a.op===t.op?r.push(...a.filters):r.push(a))}),r.length===1?r[0]:Vt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(){this.un=new ry}addToCollectionParentIndex(e,n){return this.un.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Fr.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Fr.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class ry{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Gt(Ot.comparator),i=!a.has(r);return this.index[n]=a.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Gt(Ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Uint8Array(0);class RO{constructor(e,n){this.databaseId=n,this.cn=new ry,this.ln=new Es(r=>Co(r),(r,a)=>Mu(r,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),a=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const i={collectionId:r,parent:dr(a)};return m1(e).put(i)}return le.resolve()}getCollectionParents(e,n){const r=[],a=IDBKeyRange.bound([n,""],[SN(n),""],!1,!0);return m1(e).U(a).next(i=>{for(const s of i){if(s.collectionId!==n)break;r.push(Na(s.parent))}return r})}addFieldIndex(e,n){const r=Wc(e),a=function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete a.indexId;const i=r.add(a);if(n.indexState){const s=Xo(e);return i.next(l=>{s.put(l1(l,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return i.next()}deleteFieldIndex(e,n){const r=Wc(e),a=Xo(e),i=Qo(e);return r.delete(n.indexId).next(()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Wc(e),r=Qo(e),a=Xo(e);return n.j().next(()=>r.j()).next(()=>a.j())}createTargetIndexes(e,n){return le.forEach(this.hn(n),r=>this.getIndexType(e,r).next(a=>{if(a===0||a===1){const i=new f1(r).an();if(i!=null)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,n){const r=Qo(e);let a=!0;const i=new Map;return le.forEach(this.hn(n),s=>this.Pn(e,s).next(l=>{a&&(a=!!l),i.set(s,l)})).next(()=>{if(a){let s=ft();const l=[];return le.forEach(i,(c,d)=>{we("IndexedDbIndexManager",`Using index ${function(w){return`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(T=>`${T.fieldPath}:${T.kind}`).join(",")}`}(c)} to execute ${Co(n)}`);const u=function(w,T){const I=Q0(T);if(I===void 0)return null;for(const R of lp(w,I.fieldPath))switch(R.op){case"array-contains-any":return R.value.arrayValue.values||[];case"array-contains":return[R.value]}return null}(d,c),h=function(w,T){const I=new Map;for(const R of Gs(T))for(const _ of lp(w,R.fieldPath))switch(_.op){case"==":case"in":I.set(R.fieldPath.canonicalString(),_.value);break;case"not-in":case"!=":return I.set(R.fieldPath.canonicalString(),_.value),Array.from(I.values())}return null}(d,c),p=function(w,T){const I=[];let R=!0;for(const _ of Gs(T)){const N=_.kind===0?Hw(w,_.fieldPath,w.startAt):Qw(w,_.fieldPath,w.startAt);I.push(N.value),R&&(R=N.inclusive)}return new nc(I,R)}(d,c),m=function(w,T){const I=[];let R=!0;for(const _ of Gs(T)){const N=_.kind===0?Qw(w,_.fieldPath,w.endAt):Hw(w,_.fieldPath,w.endAt);I.push(N.value),R&&(R=N.inclusive)}return new nc(I,R)}(d,c),g=this.In(c,d,p),A=this.In(c,d,m),v=this.Tn(c,d,h),x=this.En(c.indexId,u,g,p.inclusive,A,m.inclusive,v);return le.forEach(x,y=>r.G(y,n.limit).next(w=>{w.forEach(T=>{const I=Pe.fromSegments(T.documentKey);s.has(I)||(s=s.add(I),l.push(I))})}))}).next(()=>l)}return le.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=kO(Vt.create(e.filters,"and")).map(r=>eA(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,a,i,s,l){const c=(n!=null?n.length:1)*Math.max(r.length,i.length),d=c/(n!=null?n.length:1),u=[];for(let h=0;h<c;++h){const p=n?this.dn(n[h/d]):Rh,m=this.An(e,p,r[h%d],a),g=this.Rn(e,p,i[h%d],s),A=l.map(v=>this.An(e,p,v,!0));u.push(...this.createRange(m,g,A))}return u}An(e,n,r,a){const i=new Hs(e,Pe.empty(),n,r);return a?i:i.Zt()}Rn(e,n,r,a){const i=new Hs(e,Pe.empty(),n,r);return a?i.Zt():i}Pn(e,n){const r=new f1(n),a=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,a).next(i=>{let s=null;for(const l of i)r.rn(l)&&(!s||l.fields.length>s.fields.length)&&(s=l);return s})}getIndexType(e,n){let r=2;const a=this.hn(n);return le.forEach(a,i=>this.Pn(e,i).next(s=>{s?r!==0&&s.fields.length<function(c){let d=new Gt(Jt.comparator),u=!1;for(const h of c.filters)for(const p of h.getFlattenedFilters())p.field.isKeyField()||(p.op==="array-contains"||p.op==="array-contains-any"?u=!0:d=d.add(p.field));for(const h of c.orderBy)h.field.isKeyField()||(d=d.add(h.field));return d.size+(u?1:0)}(i)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&a.length>1&&r===2?1:r)}Vn(e,n){const r=new Gc;for(const a of Gs(e)){const i=n.data.field(a.fieldPath);if(i==null)return null;const s=r.Yt(a.kind);qs.vt.It(i,s)}return r.zt()}dn(e){const n=new Gc;return qs.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new Gc;return qs.vt.It(du(this.databaseId,n),r.Yt(function(i){const s=Gs(i);return s.length===0?0:s[s.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let a=[];a.push(new Gc);let i=0;for(const s of Gs(e)){const l=r[i++];for(const c of a)if(this.fn(n,s.fieldPath)&&uu(l))a=this.gn(a,s,l);else{const d=c.Yt(s.kind);qs.vt.It(l,d)}}return this.pn(a)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const a=[...e],i=[];for(const s of r.arrayValue.values||[])for(const l of a){const c=new Gc;c.seed(l.zt()),qs.vt.It(s,c.Yt(n.kind)),i.push(c)}return i}fn(e,n){return!!e.filters.find(r=>r instanceof wt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Wc(e),a=Xo(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(i=>{const s=[];return le.forEach(i,l=>a.get([l.indexId,this.uid]).next(c=>{s.push(function(u,h){const p=h?new su(h.sequenceNumber,new Fr(No(h.readTime),new Pe(Na(h.documentKey)),h.largestBatchId)):su.empty(),m=u.fields.map(([g,A])=>new nf(Jt.fromServerFormat(g),A));return new sp(u.indexId,u.collectionGroup,m,p)}(l,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,a)=>{const i=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return i!==0?i:st(r.collectionGroup,a.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const a=Wc(e),i=Xo(e);return this.yn(e).next(s=>a.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(l=>le.forEach(l,c=>i.put(l1(c.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){const r=new Map;return le.forEach(n,(a,i)=>{const s=r.get(a.collectionGroup);return(s?le.resolve(s):this.getFieldIndexes(e,a.collectionGroup)).next(l=>(r.set(a.collectionGroup,l),le.forEach(l,c=>this.wn(e,a,c).next(d=>{const u=this.Sn(i,c);return d.isEqual(u)?le.resolve():this.bn(e,i,c,d,u)}))))})}Dn(e,n,r,a){return Qo(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,a){return Qo(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const a=Qo(e);let i=new Gt(Ei);return a.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(s,l)=>{i=i.add(new Hs(r.indexId,n,l.arrayValue,l.directionalValue))}).next(()=>i)}Sn(e,n){let r=new Gt(Ei);const a=this.Vn(n,e);if(a==null)return r;const i=Q0(n);if(i!=null){const s=e.data.field(i.fieldPath);if(uu(s))for(const l of s.arrayValue.values||[])r=r.add(new Hs(n.indexId,e.key,this.dn(l),a))}else r=r.add(new Hs(n.indexId,e.key,Rh,a));return r}bn(e,n,r,a,i){we("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(c,d,u,h,p){const m=c.getIterator(),g=d.getIterator();let A=Ho(m),v=Ho(g);for(;A||v;){let x=!1,y=!1;if(A&&v){const w=u(A,v);w<0?y=!0:w>0&&(x=!0)}else A!=null?y=!0:x=!0;x?(h(v),v=Ho(g)):y?(p(A),A=Ho(m)):(A=Ho(m),v=Ho(g))}}(a,i,Ei,l=>{s.push(this.Dn(e,n,r,l))},l=>{s.push(this.vn(e,n,r,l))}),le.waitFor(s)}yn(e){let n=1;return Xo(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,a,i)=>{i.done(),n=a.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,l)=>Ei(s,l)).filter((s,l,c)=>!l||Ei(s,c[l-1])!==0);const a=[];a.push(e);for(const s of r){const l=Ei(s,e),c=Ei(s,n);if(l===0)a[0]=e.Zt();else if(l>0&&c<0)a.push(s),a.push(s.Zt());else if(c>0)break}a.push(n);const i=[];for(let s=0;s<a.length;s+=2){if(this.Cn(a[s],a[s+1]))return[];const l=[a[s].indexId,this.uid,a[s].arrayValue,a[s].directionalValue,Rh,[]],c=[a[s+1].indexId,this.uid,a[s+1].arrayValue,a[s+1].directionalValue,Rh,[]];i.push(IDBKeyRange.bound(l,c))}return i}Cn(e,n){return Ei(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(g1)}getMinOffset(e,n){return le.mapArray(this.hn(n),r=>this.Pn(e,r).next(a=>a||Oe())).next(g1)}}function m1(t){return Sn(t,"collectionParents")}function Qo(t){return Sn(t,"indexEntries")}function Wc(t){return Sn(t,"indexConfiguration")}function Xo(t){return Sn(t,"indexState")}function g1(t){Ve(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const a=t[r].indexState.offset;Wx(a,e)<0&&(e=a),n<a.largestBatchId&&(n=a.largestBatchId)}return new Fr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ar{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ar(e,Ar.DEFAULT_COLLECTION_PERCENTILE,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t,e,n){const r=t.store("mutations"),a=t.store("documentMutations"),i=[],s=IDBKeyRange.only(n.batchId);let l=0;const c=r.J({range:s},(u,h,p)=>(l++,p.delete()));i.push(c.next(()=>{Ve(l===1)}));const d=[];for(const u of n.mutations){const h=PN(e,u.key.path,n.batchId);i.push(a.delete(h)),d.push(u.key)}return le.waitFor(i).next(()=>d)}function fp(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Oe();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar.DEFAULT_COLLECTION_PERCENTILE=10,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ar.DEFAULT=new Ar(41943040,Ar.DEFAULT_COLLECTION_PERCENTILE,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ar.DISABLED=new Ar(-1,0,0);class dm{constructor(e,n,r,a){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=a,this.Fn={}}static lt(e,n,r,a){Ve(e.uid!=="");const i=e.isAuthenticated()?e.uid:"";return new dm(i,n,r,a)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ni(e).J({index:"userMutationsIndex",range:r},(a,i,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,a){const i=ol(e),s=Ni(e);return s.add({}).next(l=>{Ve(typeof l=="number");const c=new Yx(l,n,r,a),d=function(m,g,A){const v=A.baseMutations.map(y=>dp(m.ct,y)),x=A.mutations.map(y=>dp(m.ct,y));return{userId:g,batchId:A.batchId,localWriteTimeMs:A.localWriteTime.toMillis(),baseMutations:v,mutations:x}}(this.serializer,this.userId,c),u=[];let h=new Gt((p,m)=>st(p.canonicalString(),m.canonicalString()));for(const p of a){const m=PN(this.userId,p.key.path,l);h=h.add(p.key.path.popLast()),u.push(s.put(d)),u.push(i.put(m,h3))}return h.forEach(p=>{u.push(this.indexManager.addToCollectionParentIndex(e,p))}),e.addOnCommittedListener(()=>{this.Fn[l]=c.keys()}),le.waitFor(u).next(()=>c)})}lookupMutationBatch(e,n){return Ni(e).get(n).next(r=>r?(Ve(r.userId===this.userId),$s(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?le.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const a=r.keys();return this.Fn[n]=a,a}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Ni(e).J({index:"userMutationsIndex",range:a},(s,l,c)=>{l.userId===this.userId&&(Ve(l.batchId>=r),i=$s(this.serializer,l)),c.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ni(e).J({index:"userMutationsIndex",range:n,reverse:!0},(a,i,s)=>{r=i.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ni(e).U("userMutationsIndex",n).next(r=>r.map(a=>$s(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=rf(this.userId,n.path),a=IDBKeyRange.lowerBound(r),i=[];return ol(e).J({range:a},(s,l,c)=>{const[d,u,h]=s,p=Na(u);if(d===this.userId&&n.path.isEqual(p))return Ni(e).get(h).next(m=>{if(!m)throw Oe();Ve(m.userId===this.userId),i.push($s(this.serializer,m))});c.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Gt(st);const a=[];return n.forEach(i=>{const s=rf(this.userId,i.path),l=IDBKeyRange.lowerBound(s),c=ol(e).J({range:l},(d,u,h)=>{const[p,m,g]=d,A=Na(m);p===this.userId&&i.path.isEqual(A)?r=r.add(g):h.done()});a.push(c)}),le.waitFor(a).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1,i=rf(this.userId,r),s=IDBKeyRange.lowerBound(i);let l=new Gt(st);return ol(e).J({range:s},(c,d,u)=>{const[h,p,m]=c,g=Na(p);h===this.userId&&r.isPrefixOf(g)?g.length===a&&(l=l.add(m)):u.done()}).next(()=>this.xn(e,l))}xn(e,n){const r=[],a=[];return n.forEach(i=>{a.push(Ni(e).get(i).next(s=>{if(s===null)throw Oe();Ve(s.userId===this.userId),r.push($s(this.serializer,s))}))}),le.waitFor(a).next(()=>r)}removeMutationBatch(e,n){return SI(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),le.forEach(r,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return le.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),a=[];return ol(e).J({range:r},(i,s,l)=>{if(i[0]===this.userId){const c=Na(i[1]);a.push(c)}else l.done()}).next(()=>{Ve(a.length===0)})})}containsKey(e,n){return TI(e,this.userId,n)}Nn(e){return kI(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function TI(t,e,n){const r=rf(e,n.path),a=r[1],i=IDBKeyRange.lowerBound(r);let s=!1;return ol(t).J({range:i,H:!0},(l,c,d)=>{const[u,h,p]=l;u===e&&h===a&&(s=!0),d.done()}).next(()=>s)}function Ni(t){return Sn(t,"mutations")}function ol(t){return Sn(t,"documentMutations")}function kI(t){return Sn(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Io(0)}static kn(){return new Io(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new Io(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>Ge.fromTimestamp(new Zt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(a=>(a.highestListenSequenceNumber=n,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),n>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=n),this.Qn(e,a)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ko(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(Ve(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let a=0;const i=[];return Ko(e).J((s,l)=>{const c=id(l);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(a++,i.push(this.removeTargetData(e,c)))}).next(()=>le.waitFor(i)).next(()=>a)}forEachTarget(e,n){return Ko(e).J((r,a)=>{const i=id(a);n(i)})}qn(e){return x1(e).get("targetGlobalKey").next(n=>(Ve(n!==null),n))}Qn(e,n){return x1(e).put("targetGlobalKey",n)}Kn(e,n){return Ko(e).put(CI(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Co(n),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Ko(e).J({range:a,index:"queryTargetsIndex"},(s,l,c)=>{const d=id(l);Mu(n,d.target)&&(i=d,c.done())}).next(()=>i)}addMatchingKeys(e,n,r){const a=[],i=Vi(e);return n.forEach(s=>{const l=dr(s.path);a.push(i.put({targetId:r,path:l})),a.push(this.referenceDelegate.addReference(e,r,s))}),le.waitFor(a)}removeMatchingKeys(e,n,r){const a=Vi(e);return le.forEach(n,i=>{const s=dr(i.path);return le.waitFor([a.delete([r,s]),this.referenceDelegate.removeReference(e,r,i)])})}removeMatchingKeysForTargetId(e,n){const r=Vi(e),a=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),a=Vi(e);let i=ft();return a.J({range:r,H:!0},(s,l,c)=>{const d=Na(s[1]),u=new Pe(d);i=i.add(u)}).next(()=>i)}containsKey(e,n){const r=dr(n.path),a=IDBKeyRange.bound([r],[SN(r)],!1,!0);let i=0;return Vi(e).J({index:"documentTargetsIndex",H:!0,range:a},([s,l],c,d)=>{s!==0&&(i++,d.done())}).next(()=>i>0)}ot(e,n){return Ko(e).get(n).next(r=>r?id(r):null)}}function Ko(t){return Sn(t,"targets")}function x1(t){return Sn(t,"targetGlobal")}function Vi(t){return Sn(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1([t,e],[n,r]){const a=st(t,n);return a===0?st(e,r):a}class jO{constructor(e){this.Un=e,this.buffer=new Gt(y1),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();y1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class MO{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){we("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cs(n)?we("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await jo(n)}await this.Hn(3e5)})}}class LO{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Kr.oe);const r=new jO(n);return this.Jn.forEachTarget(e,a=>r.zn(a.sequenceNumber)).next(()=>this.Jn.Zn(e,a=>r.zn(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(A1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A1):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,a,i,s,l,c,d;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),a=this.params.maximumSequenceNumbersToCollect):a=h,s=Date.now(),this.nthSequenceNumber(e,a))).next(h=>(r=h,l=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(d=Date.now(),rl()<=bt.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${a} in `+(l-s)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${h} documents in `+(d-c)+`ms
Total Duration: ${d-u}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:h})))}}function OO(t,e){return new LO(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n){this.db=e,this.garbageCollector=OO(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,a)=>n(a))}addReference(e,n,r){return Ph(e,r)}removeReference(e,n,r){return Ph(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Ph(e,n)}nr(e,n){return function(a,i){let s=!1;return kI(a).Y(l=>TI(a,l,i).next(c=>(c&&(s=!0),le.resolve(!c)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let i=0;return this.tr(e,(s,l)=>{if(l<=n){const c=this.nr(e,s).next(d=>{if(!d)return i++,r.getEntry(e,s).next(()=>(r.removeEntry(s,Ge.min()),Vi(e).delete(function(h){return[0,dr(h.path)]}(s))))});a.push(c)}}).next(()=>le.waitFor(a)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Ph(e,n)}tr(e,n){const r=Vi(e);let a,i=Kr.oe;return r.J({index:"documentTargetsIndex"},([s,l],{path:c,sequenceNumber:d})=>{s===0?(i!==Kr.oe&&n(new Pe(Na(a)),i),i=d,a=c):i=Kr.oe}).next(()=>{i!==Kr.oe&&n(new Pe(Na(a)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ph(t,e){return Vi(t).put(function(r,a){return{targetId:0,path:dr(r.path),sequenceNumber:a}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.changes=new Es(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Rs(e).put(r)}removeEntry(e,n,r){return Rs(e).delete(function(i,s){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],up(s),l[l.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=dn.newInvalidDocument(n);return Rs(e).J({index:"documentKeyIndex",range:IDBKeyRange.only($c(n))},(a,i)=>{r=this.ir(n,i)}).next(()=>r)}sr(e,n){let r={size:0,document:dn.newInvalidDocument(n)};return Rs(e).J({index:"documentKeyIndex",range:IDBKeyRange.only($c(n))},(a,i)=>{r={document:this.ir(n,i),size:fp(i)}}).next(()=>r)}getEntries(e,n){let r=Mr();return this._r(e,n,(a,i)=>{const s=this.ir(a,i);r=r.insert(a,s)}).next(()=>r)}ar(e,n){let r=Mr(),a=new en(Pe.comparator);return this._r(e,n,(i,s)=>{const l=this.ir(i,s);r=r.insert(i,l),a=a.insert(i,fp(s))}).next(()=>({documents:r,ur:a}))}_r(e,n,r){if(n.isEmpty())return le.resolve();let a=new Gt(w1);n.forEach(c=>a=a.add(c));const i=IDBKeyRange.bound($c(a.first()),$c(a.last())),s=a.getIterator();let l=s.getNext();return Rs(e).J({index:"documentKeyIndex",range:i},(c,d,u)=>{const h=Pe.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;l&&w1(l,h)<0;)r(l,null),l=s.getNext();l&&l.isEqual(h)&&(r(l,d),l=s.hasNext()?s.getNext():null),l?u.$($c(l)):u.done()}).next(()=>{for(;l;)r(l,null),l=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,a,i){const s=n.path,l=[s.popLast().toArray(),s.lastSegment(),up(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Rs(e).U(IDBKeyRange.bound(l,c,!0)).next(d=>{i==null||i.incrementDocumentReadCount(d.length);let u=Mr();for(const h of d){const p=this.ir(Pe.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);p.isFoundDocument()&&(Ou(n,p)||a.has(p.key))&&(u=u.insert(p.key,p))}return u})}getAllFromCollectionGroup(e,n,r,a){let i=Mr();const s=b1(n,r),l=b1(n,Fr.max());return Rs(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,l,!0)},(c,d,u)=>{const h=this.ir(Pe.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);i=i.insert(h.key,h),i.size===a&&u.done()}).next(()=>i)}newChangeBuffer(e){return new zO(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return v1(e).get("remoteDocumentGlobalKey").next(n=>(Ve(!!n),n))}rr(e,n){return v1(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=_O(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ge.min())))return r}return dn.newInvalidDocument(e)}}function RI(t){return new BO(t)}class zO extends DI{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new Es(r=>r.toString(),(r,a)=>r.isEqual(a))}applyChanges(e){const n=[];let r=0,a=new Gt((i,s)=>st(i.canonicalString(),s.canonicalString()));return this.changes.forEach((i,s)=>{const l=this.lr.get(i);if(n.push(this.cr.removeEntry(e,i,l.readTime)),s.isValidDocument()){const c=s1(this.cr.serializer,s);a=a.add(i.path.popLast());const d=fp(c);r+=d-l.size,n.push(this.cr.addEntry(e,i,c))}else if(r-=l.size,this.trackRemovals){const c=s1(this.cr.serializer,s.convertToNoDocument(Ge.min()));n.push(this.cr.addEntry(e,i,c))}}),a.forEach(i=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,i))}),n.push(this.cr.updateMetadata(e,r)),le.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:a})=>(a.forEach((i,s)=>{this.lr.set(i,{size:s,readTime:r.get(i).readTime})}),r))}}function v1(t){return Sn(t,"remoteDocumentGlobal")}function Rs(t){return Sn(t,"remoteDocumentsV14")}function $c(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function b1(t,e){const n=e.documentKey.path.toArray();return[t,up(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function w1(t,e){const n=t.path.toArray(),r=e.path.toArray();let a=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(a=st(n[i],r[i]),a)return a;return a=st(n.length,r.length),a||(a=st(n[n.length-2],r[r.length-2]),a||st(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(r!==null&&Dd(r.mutation,a,wr.empty(),Zt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ft()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ft()){const a=Ia();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(i=>{let s=rd();return i.forEach((l,c)=>{s=s.insert(l,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Ia();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ft()))}populateOverlays(e,n,r){const a=[];return r.forEach(i=>{n.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(e,a).next(i=>{i.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,a){let i=Mr();const s=kd(),l=function(){return kd()}();return n.forEach((c,d)=>{const u=r.get(d.key);a.has(d.key)&&(u===void 0||u.mutation instanceof pi)?i=i.insert(d.key,d):u!==void 0?(s.set(d.key,u.mutation.getFieldMask()),Dd(u.mutation,d,u.mutation.getFieldMask(),Zt.now())):s.set(d.key,wr.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,u)=>s.set(d,u)),n.forEach((d,u)=>{var h;return l.set(d,new VO(u,(h=s.get(d))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const r=kd();let a=new en((s,l)=>s-l),i=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let u=r.get(c)||wr.empty();u=l.applyToLocalView(d,u),r.set(c,u);const h=(a.get(l.batchId)||ft()).add(c);a=a.insert(l.batchId,h)})}).next(()=>{const s=[],l=a.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,u=c.value,h=eI();u.forEach(p=>{if(!i.has(p)){const m=sI(n.get(p),r.get(p));m!==null&&h.set(p,m),i=i.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,h))}return le.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,a){return function(s){return Pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-i.size):le.resolve(Ia());let l=-1,c=i;return s.next(d=>le.forEach(d,(u,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),i.get(u)?le.resolve():this.remoteDocumentCache.getEntry(e,u).next(p=>{c=c.insert(u,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,ft())).next(u=>({batchId:l,changes:ZN(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next(r=>{let a=rd();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const i=n.collectionGroup;let s=rd();return this.indexManager.getCollectionParents(e,i).next(l=>le.forEach(l,c=>{const d=function(h,p){return new vc(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,a).next(u=>{u.forEach((h,p)=>{s=s.insert(h,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,a){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,a))).next(s=>{i.forEach((c,d)=>{const u=d.getKey();s.get(u)===null&&(s=s.insert(u,dn.newInvalidDocument(u)))});let l=rd();return s.forEach((c,d)=>{const u=i.get(c);u!==void 0&&Dd(u.mutation,d,wr.empty(),Zt.now()),Ou(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return le.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:ur(a.createTime)}}(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(a){return{name:a.name,query:EI(a.bundledQuery),readTime:ur(a.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.overlays=new en(Pe.comparator),this.Ir=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ia();return le.forEach(n,a=>this.getOverlay(e,a).next(i=>{i!==null&&r.set(a,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,i)=>{this.ht(e,n,i)}),le.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.Ir.get(r);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const a=Ia(),i=n.length+1,s=new Pe(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&a.set(c.getKey(),c)}return le.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let i=new en((d,u)=>d-u);const s=this.overlays.getIterator();for(;s.hasNext();){const d=s.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let u=i.get(d.largestBatchId);u===null&&(u=Ia(),i=i.insert(d.largestBatchId,u)),u.set(d.getKey(),d)}}const l=Ia(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,u)=>l.set(d,u)),!(l.size()>=a)););return le.resolve(l)}ht(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const s=this.Ir.get(a.largestBatchId).delete(r.key);this.Ir.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Zx(n,r));let i=this.Ir.get(n);i===void 0&&(i=ft(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(){this.Tr=new Gt(kn.Er),this.dr=new Gt(kn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new kn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new kn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Pe(new Ot([])),r=new kn(n,e),a=new kn(n,e+1),i=[];return this.dr.forEachInRange([r,a],s=>{this.Vr(s),i.push(s.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Pe(new Ot([])),r=new kn(n,e),a=new kn(n,e+1);let i=ft();return this.dr.forEachInRange([r,a],s=>{i=i.add(s.key)}),i}containsKey(e){const n=new kn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class kn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Pe.comparator(e.key,n.key)||st(e.wr,n.wr)}static Ar(e,n){return st(e.wr,n.wr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Gt(kn.Er)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Yx(i,n,r,a);this.mutationQueue.push(s);for(const l of a)this.br=this.br.add(new kn(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return le.resolve(s)}lookupMutationBatch(e,n){return le.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.vr(r),i=a<0?0:a;return le.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new kn(n,0),a=new kn(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,a],s=>{const l=this.Dr(s.wr);i.push(l)}),le.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Gt(st);return n.forEach(a=>{const i=new kn(a,0),s=new kn(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,s],l=>{r=r.add(l.wr)})}),le.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let i=r;Pe.isDocumentKey(i)||(i=i.child(""));const s=new kn(new Pe(i),0);let l=new Gt(st);return this.br.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===a&&(l=l.add(c.wr)),!0)},s),le.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const a=this.Dr(r);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Ve(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return le.forEach(n.mutations,a=>{const i=new kn(a.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new kn(n,0),a=this.br.firstAfterOrEqual(r);return le.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.Mr=e,this.docs=function(){return new en(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),i=a?a.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let r=Mr();return n.forEach(a=>{const i=this.docs.get(a);r=r.insert(a,i?i.document.mutableCopy():dn.newInvalidDocument(a))}),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let i=Mr();const s=n.path,l=new Pe(s.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:u}}=c.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||Wx(TN(u),r)<=0||(a.has(u.key)||Ou(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return le.resolve(i)}getAllFromCollectionGroup(e,n,r,a){Oe()}Or(e,n){return le.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new HO(this)}getSize(e){return le.resolve(this.size)}}class HO extends DI{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.cr.addEntry(e,a)):this.cr.removeEntry(r)}),le.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.persistence=e,this.Nr=new Es(n=>Co(n),Mu),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ay,this.targetCount=0,this.kr=Io.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,a)=>n(a)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),le.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Io(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Kn(n),le.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let a=0;const i=[];return this.Nr.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),a++)}),le.waitFor(i).next(()=>a)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const a=this.persistence.referenceDelegate,i=[];return a&&n.forEach(s=>{i.push(a.markPotentiallyOrphaned(e,s))}),le.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Kr(0),this.Kr=!1,this.Kr=!0,this.$r=new WO,this.referenceDelegate=e(this),this.Ur=new QO(this),this.indexManager=new DO,this.remoteDocumentCache=function(a){return new qO(a)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new _I(n),this.Gr=new UO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new $O(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const a=new XO(this.Qr.next());return this.referenceDelegate.zr(),r(a).next(i=>this.referenceDelegate.jr(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Hr(e,n){return le.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class XO extends DN{constructor(e){super(),this.currentSequenceNumber=e}}class um{constructor(e){this.persistence=e,this.Jr=new ay,this.Yr=null}static Zr(e){return new um(e)}get Xr(){if(this.Yr)return this.Yr;throw Oe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),le.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(a=>this.Xr.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Xr,r=>{const a=Pe.fromPath(r);return this.ei(e,a).next(i=>{i||n.removeEntry(a,Ge.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return le.or([()=>le.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.serializer=e}O(e,n,r,a){const i=new nm("createOrUpgrade",n);r<1&&a>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Lw,{unique:!0}),c.createObjectStore("documentMutations")}(e),_1(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=le.resolve();return r<3&&a>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),_1(e)),s=s.next(()=>function(c){const d=c.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ge.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",u)}(i))),r<4&&a>=4&&(r!==0&&(s=s.next(()=>function(c,d){return d.store("mutations").U().next(u=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Lw,{unique:!0});const h=d.store("mutations"),p=u.map(m=>h.put(m));return le.waitFor(p)})}(e,i))),s=s.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&a>=5&&(s=s.next(()=>this.ni(i))),r<6&&a>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ri(i)))),r<7&&a>=7&&(s=s.next(()=>this.ii(i))),r<8&&a>=8&&(s=s.next(()=>this.si(e,i))),r<9&&a>=9&&(s=s.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&a>=10&&(s=s.next(()=>this.oi(i))),r<11&&a>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&a>=12&&(s=s.next(()=>{(function(c){const d=c.createObjectStore("documentOverlays",{keyPath:C3});d.createIndex("collectionPathOverlayIndex",E3,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",N3,{unique:!1})})(e)})),r<13&&a>=13&&(s=s.next(()=>function(c){const d=c.createObjectStore("remoteDocumentsV14",{keyPath:f3});d.createIndex("documentKeyIndex",p3),d.createIndex("collectionGroupIndex",m3)}(e)).next(()=>this._i(e,i)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&a>=14&&(s=s.next(()=>this.ai(e,i))),r<15&&a>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:v3}).createIndex("sequenceNumberIndex",b3,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:w3}).createIndex("documentKeyIndex",_3,{unique:!1})}(e))),r<16&&a>=16&&(s=s.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&a>=17&&(s=s.next(()=>{(function(c){c.createObjectStore("globals",{keyPath:"name"})})(e)})),s}ri(e){let n=0;return e.store("remoteDocuments").J((r,a)=>{n+=fp(a)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(a=>le.forEach(a,i=>{const s=IDBKeyRange.bound([i.userId,-1],[i.userId,i.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(l=>le.forEach(l,c=>{Ve(c.userId===i.userId);const d=$s(this.serializer,c);return SI(e,i.userId,d).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const i=[];return r.J((s,l)=>{const c=new Ot(s),d=function(h){return[0,dr(h)]}(c);i.push(n.get(d).next(u=>u?le.resolve():(h=>n.put({targetId:0,path:dr(h),sequenceNumber:a.highestListenSequenceNumber}))(c)))}).next(()=>le.waitFor(i))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:y3});const r=n.store("collectionParents"),a=new ry,i=s=>{if(a.add(s)){const l=s.lastSegment(),c=s.popLast();return r.put({collectionId:l,parent:dr(c)})}};return n.store("remoteDocuments").J({H:!0},(s,l)=>{const c=new Ot(s);return i(c.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([s,l,c],d)=>{const u=Na(l);return i(u.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,a)=>{const i=id(a),s=CI(this.serializer,i);return n.put(s)})}_i(e,n){const r=n.store("remoteDocuments"),a=[];return r.J((i,s)=>{const l=n.store("remoteDocumentsV14"),c=function(h){return h.document?new Pe(Ot.fromString(h.document.name).popFirst(5)):h.noDocument?Pe.fromSegments(h.noDocument.path):h.unknownDocument?Pe.fromSegments(h.unknownDocument.path):Oe()}(s).path.toArray(),d={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};a.push(l.put(d))}).next(()=>le.waitFor(a))}ai(e,n){const r=n.store("mutations"),a=RI(this.serializer),i=new jI(um.Zr,this.serializer.ct);return r.U().next(s=>{const l=new Map;return s.forEach(c=>{var d;let u=(d=l.get(c.userId))!==null&&d!==void 0?d:ft();$s(this.serializer,c).keys().forEach(h=>u=u.add(h)),l.set(c.userId,u)}),le.forEach(l,(c,d)=>{const u=new Fn(d),h=cm.lt(this.serializer,u),p=i.getIndexManager(u),m=dm.lt(u,this.serializer,p,i.referenceDelegate);return new PI(a,m,h,p).recalculateAndSaveOverlaysForDocumentKeys(new X0(n,Kr.oe),c).next()})})}}function _1(t){t.createObjectStore("targetDocuments",{keyPath:A3}).createIndex("documentTargetsIndex",x3,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",g3,{unique:!0}),t.createObjectStore("targetGlobal")}const wg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class iy{constructor(e,n,r,a,i,s,l,c,d,u,h=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=i,this.window=s,this.document=l,this.ci=d,this.li=u,this.hi=h,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=p=>Promise.resolve(),!iy.D())throw new ke(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new FO(this,a),this.Ai=n+"main",this.serializer=new _I(c),this.Ri=new ls(this.Ai,this.hi,new KO(this.serializer)),this.$r=new EO,this.Ur=new PO(this.referenceDelegate,this.serializer),this.remoteDocumentCache=RI(this.serializer),this.Gr=new CO,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,u===!1&&lr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(pe.FAILED_PRECONDITION,wg);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Kr(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>jh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(Cs(e))return we("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return we("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return qc(e).get("owner").next(n=>le.resolve(this.vi(n)))}Ci(e){return jh(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Sn(n,"clientMetadata");return r.U().next(a=>{const i=this.xi(a,18e5),s=a.filter(l=>i.indexOf(l)===-1);return le.forEach(s,l=>r.delete(l.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?le.resolve(!0):qc(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new ke(pe.FAILED_PRECONDITION,wg);return!1}}return!(!this.networkEnabled||!this.inForeground)||jh(e).U().next(r=>this.xi(r,5e3).find(a=>{if(this.clientId!==a.clientId){const i=!this.networkEnabled&&a.networkEnabled,s=!this.inForeground&&a.inForeground,l=this.networkEnabled===a.networkEnabled;if(i||s&&l)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&we("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new X0(e,Kr.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>jh(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return dm.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new RO(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return cm.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){we("IndexedDbPersistence","Starting transaction:",e);const a=n==="readonly"?"readonly":"readwrite",i=function(c){return c===17?T3:c===16?S3:c===15?qx:c===14?LN:c===13?MN:c===12?I3:c===11?jN:void Oe()}(this.hi);let s;return this.Ri.runTransaction(e,a,i,l=>(s=new X0(l,this.Qr?this.Qr.next():Kr.oe),n==="readwrite-primary"?this.wi(s).next(c=>!!c||this.Si(s)).next(c=>{if(!c)throw lr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new ke(pe.FAILED_PRECONDITION,kN);return r(s)}).next(c=>this.Di(s).next(()=>c)):this.Ki(s).next(()=>r(s)))).then(l=>(s.raiseOnCommittedEvent(),l))}Ki(e){return qc(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ke(pe.FAILED_PRECONDITION,wg)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qc(e).put("owner",n)}static D(){return ls.D()}bi(e){const n=qc(e);return n.get("owner").next(r=>this.vi(r)?(we("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):le.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(lr(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;hN()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return we("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return lr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){lr("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function qc(t){return Sn(t,"owner")}function jh(t){return Sn(t,"clientMetadata")}function YO(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=a}static Wi(e,n){let r=ft(),a=ft();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new sy(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return hN()?8:RN(In())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,a){const i={result:null};return this.Yi(e,n).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.Zi(e,n,a,r).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new JO;return this.Xi(e,n,s).next(l=>{if(i.result=l,this.zi)return this.es(e,n,s,l.size)})}).next(()=>i.result)}es(e,n,r,a){return r.documentReadCount<this.ji?(rl()<=bt.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",al(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),le.resolve()):(rl()<=bt.DEBUG&&we("QueryEngine","Query:",al(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.Hi*a?(rl()<=bt.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",al(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zr(n))):le.resolve())}Yi(e,n){if(Xw(n))return le.resolve(null);let r=Zr(n);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=nA(n,null,"F"),r=Zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const s=ft(...i);return this.Ji.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.ts(n,l);return this.ns(n,d,s,c.readTime)?this.Yi(e,nA(n,null,"F")):this.rs(e,d,n,c)}))})))}Zi(e,n,r,a){return Xw(n)||a.isEqual(Ge.min())?le.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const s=this.ts(n,i);return this.ns(n,s,r,a)?le.resolve(null):(rl()<=bt.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),al(n)),this.rs(e,s,n,i3(a,-1)).next(l=>l))})}ts(e,n){let r=new Gt(YN(e));return n.forEach((a,i)=>{Ou(e,i)&&(r=r.add(i))}),r}ns(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}Xi(e,n,r){return rl()<=bt.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",al(n)),this.Ji.getDocumentsMatchingQuery(e,n,Fr.min(),r)}rs(e,n,r,a){return this.Ji.getDocumentsMatchingQuery(e,r,a).next(i=>(n.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n,r,a){this.persistence=e,this.ss=n,this.serializer=a,this.os=new en(st),this._s=new Es(i=>Co(i),Mu),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function LI(t,e,n,r){return new ZO(t,e,n,r)}async function OI(t,e){const n=nt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(i=>(a=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const s=[],l=[];let c=ft();for(const d of a){s.push(d.batchId);for(const u of d.mutations)c=c.add(u.key)}for(const d of i){l.push(d.batchId);for(const u of d.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(d=>({hs:d,removedBatchIds:s,addedBatchIds:l}))})})}function eF(t,e){const n=nt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,d,u){const h=d.batch,p=h.keys();let m=le.resolve();return p.forEach(g=>{m=m.next(()=>u.getEntry(c,g)).next(A=>{const v=d.docVersions.get(g);Ve(v!==null),A.version.compareTo(v)<0&&(h.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),u.addEntry(A)))})}),m.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ft();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}function FI(t){const e=nt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function tF(t,e){const n=nt(t),r=e.snapshotVersion;let a=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});a=n.os;const l=[];e.targetChanges.forEach((u,h)=>{const p=a.get(h);if(!p)return;l.push(n.Ur.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(i,u.addedDocuments,h)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(pn.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),a=a.insert(h,m),function(A,v,x){return A.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,m,u)&&l.push(n.Ur.updateTargetData(i,m))});let c=Mr(),d=ft();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),l.push(nF(i,s,e.documentUpdates).next(u=>{c=u.Ps,d=u.Is})),!r.isEqual(Ge.min())){const u=n.Ur.getLastRemoteSnapshotVersion(i).next(h=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(u)}return le.waitFor(l).next(()=>s.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.os=a,i))}function nF(t,e,n){let r=ft(),a=ft();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=Mr();return n.forEach((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(l)),c.isNoDocument()&&c.version.isEqual(Ge.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):we("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{Ps:s,Is:a}})}function rF(t,e){const n=nt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function aF(t,e){const n=nt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Ur.getTargetData(r,e).next(i=>i?(a=i,le.resolve(a)):n.Ur.allocateTargetId(r).next(s=>(a=new Ya(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.os.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function dA(t,e,n){const r=nt(t),a=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,s=>r.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!Cs(s))throw s;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(a.target)}function C1(t,e,n){const r=nt(t);let a=Ge.min(),i=ft();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,d,u){const h=nt(c),p=h._s.get(u);return p!==void 0?le.resolve(h.os.get(p)):h.Ur.getTargetData(d,u)}(r,s,Zr(e)).next(l=>{if(l)return a=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,l.targetId).next(c=>{i=c})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?a:Ge.min(),n?i:ft())).next(l=>(iF(r,W3(e),l),{documents:l,Ts:i})))}function iF(t,e,n){let r=t.us.get(e)||Ge.min();n.forEach((a,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class E1{constructor(){this.activeTargetIds=K3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BI{constructor(){this.so=new E1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new E1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mh=null;function _g(){return Mh===null?Mh=function(){return 268435456+Math.round(2147483648*Math.random())}():Mh++,"0x"+Mh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="WebChannelConnection";class cF extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${a}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${i}`}get Fo(){return!1}Mo(n,r,a,i,s){const l=_g(),c=this.xo(n,r.toUriEncodedString());we("RestConnection",`Sending RPC '${n}' ${l}:`,c,a);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,s),this.No(n,c,d,a).then(u=>(we("RestConnection",`Received RPC '${n}' ${l}: `,u),u),u=>{throw fs("RestConnection",`RPC '${n}' ${l} failed with error: `,u,"url: ",c,"request:",a),u})}Lo(n,r,a,i,s,l){return this.Mo(n,r,a,i,s)}Oo(n,r,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,s)=>n[s]=i),a&&a.headers.forEach((i,s)=>n[s]=i)}xo(n,r){const a=oF[n];return`${this.Do}/v1/${r}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,a){const i=_g();return new Promise((s,l)=>{const c=new bN;c.setWithCredentials(!0),c.listenOnce(wN.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case tf.NO_ERROR:const u=c.getResponseJson();we(er,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),s(u);break;case tf.TIMEOUT:we(er,`RPC '${e}' ${i} timed out`),l(new ke(pe.DEADLINE_EXCEEDED,"Request time out"));break;case tf.HTTP_ERROR:const h=c.getStatus();if(we(er,`RPC '${e}' ${i} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const g=function(v){const x=v.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(x)>=0?x:pe.UNKNOWN}(m.status);l(new ke(g,m.message))}else l(new ke(pe.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ke(pe.UNAVAILABLE,"Connection failed."));break;default:Oe()}}finally{we(er,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(a);we(er,`RPC '${e}' ${i} sending request:`,a),c.send(n,"POST",d,r,15)})}Bo(e,n,r){const a=_g(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=EN(),l=CN(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=i.join("");we(er,`Creating RPC '${e}' stream ${a}: ${u}`,c);const h=s.createWebChannel(u,c);let p=!1,m=!1;const g=new lF({Io:v=>{m?we(er,`Not sending because RPC '${e}' stream ${a} is closed:`,v):(p||(we(er,`Opening RPC '${e}' stream ${a} transport.`),h.open(),p=!0),we(er,`RPC '${e}' stream ${a} sending:`,v),h.send(v))},To:()=>h.close()}),A=(v,x,y)=>{v.listen(x,w=>{try{y(w)}catch(T){setTimeout(()=>{throw T},0)}})};return A(h,nd.EventType.OPEN,()=>{m||(we(er,`RPC '${e}' stream ${a} transport opened.`),g.yo())}),A(h,nd.EventType.CLOSE,()=>{m||(m=!0,we(er,`RPC '${e}' stream ${a} transport closed`),g.So())}),A(h,nd.EventType.ERROR,v=>{m||(m=!0,fs(er,`RPC '${e}' stream ${a} transport errored:`,v),g.So(new ke(pe.UNAVAILABLE,"The operation could not be completed")))}),A(h,nd.EventType.MESSAGE,v=>{var x;if(!m){const y=v.data[0];Ve(!!y);const w=y,T=w.error||((x=w[0])===null||x===void 0?void 0:x.error);if(T){we(er,`RPC '${e}' stream ${a} received error:`,T);const I=T.status;let R=function(E){const k=An[E];if(k!==void 0)return cI(k)}(I),_=T.message;R===void 0&&(R=pe.INTERNAL,_="Unknown error status: "+I+" with message "+T.message),m=!0,g.So(new ke(R,_)),h.close()}else we(er,`RPC '${e}' stream ${a} received:`,y),g.bo(y)}}),A(l,_N.STAT_EVENT,v=>{v.stat===H0.PROXY?we(er,`RPC '${e}' stream ${a} detected buffering proxy`):v.stat===H0.NOPROXY&&we(er,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(){return typeof window<"u"?window:null}function cf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(t){return new fO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n,r=1e3,a=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=a,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),a=Math.max(0,n-r);a>0&&we("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n,r,a,i,s,l,c){this.ui=e,this.Ho=r,this.Jo=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new zI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===pe.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.Yo===n&&this.P_(r,a)},r=>{e(()=>{const a=new ke(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(a)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(a=>{r(()=>this.I_(a))}),this.stream.onMessage(a=>{r(()=>++this.e_==1?this.E_(a):this.onNext(a))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uF extends VI{constructor(e,n,r,a,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,s),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=gO(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ge.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Ge.min():s.readTime?ur(s.readTime):Ge.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=iA(this.serializer),n.addTarget=function(i,s){let l;const c=s.target;if(l=op(c)?{documents:AI(i,c)}:{query:xI(i,c)._t},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=hI(i,s.resumeToken);const d=rA(i,s.expectedCount);d!==null&&(l.expectedCount=d)}else if(s.snapshotVersion.compareTo(Ge.min())>0){l.readTime=sc(i,s.snapshotVersion.toTimestamp());const d=rA(i,s.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=xO(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=iA(this.serializer),n.removeTarget=e,this.a_(n)}}class hF extends VI{constructor(e,n,r,a,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=AO(e.writeResults,e.commitTime),r=ur(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=iA(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>dp(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF extends class{}{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new ke(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Mo(e,aA(n,r),a,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ke(pe.UNKNOWN,i.toString())})}Lo(e,n,r,a,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Lo(e,aA(n,r),a,s,l,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ke(pe.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class pF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(lr(n),this.D_=!1):we("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e,n,r,a,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(s=>{r.enqueueAndForget(async()=>{Lo(this)&&(we("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=nt(c);d.L_.add(4),await zu(d),d.q_.set("Unknown"),d.L_.delete(4),await fm(d)}(this))})}),this.q_=new pF(r,a)}}async function fm(t){if(Lo(t))for(const e of t.B_)await e(!0)}async function zu(t){for(const e of t.B_)await e(!1)}function UI(t,e){const n=nt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),dy(n)?cy(n):wc(n).r_()&&ly(n,e))}function oy(t,e){const n=nt(t),r=wc(n);n.N_.delete(e),r.r_()&&GI(n,e),n.N_.size===0&&(r.r_()?r.o_():Lo(n)&&n.q_.set("Unknown"))}function ly(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wc(t).A_(e)}function GI(t,e){t.Q_.xe(e),wc(t).R_(e)}function cy(t){t.Q_=new cO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),wc(t).start(),t.q_.v_()}function dy(t){return Lo(t)&&!wc(t).n_()&&t.N_.size>0}function Lo(t){return nt(t).L_.size===0}function WI(t){t.Q_=void 0}async function gF(t){t.q_.set("Online")}async function AF(t){t.N_.forEach((e,n)=>{ly(t,e)})}async function xF(t,e){WI(t),dy(t)?(t.q_.M_(e),cy(t)):t.q_.set("Unknown")}async function yF(t,e,n){if(t.q_.set("Online"),e instanceof uI&&e.state===2&&e.cause)try{await async function(a,i){const s=i.cause;for(const l of i.targetIds)a.N_.has(l)&&(await a.remoteSyncer.rejectListen(l,s),a.N_.delete(l),a.Q_.removeTarget(l))}(t,e)}catch(r){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pp(t,r)}else if(e instanceof lf?t.Q_.Ke(e):e instanceof dI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ge.min()))try{const r=await FI(t.localStore);n.compareTo(r)>=0&&await function(i,s){const l=i.Q_.rt(s);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const u=i.N_.get(d);u&&i.N_.set(d,u.withResumeToken(c.resumeToken,s))}}),l.targetMismatches.forEach((c,d)=>{const u=i.N_.get(c);if(!u)return;i.N_.set(c,u.withResumeToken(pn.EMPTY_BYTE_STRING,u.snapshotVersion)),GI(i,c);const h=new Ya(u.target,c,d,u.sequenceNumber);ly(i,h)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){we("RemoteStore","Failed to raise snapshot:",r),await pp(t,r)}}async function pp(t,e,n){if(!Cs(e))throw e;t.L_.add(1),await zu(t),t.q_.set("Offline"),n||(n=()=>FI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await fm(t)})}function $I(t,e){return e().catch(n=>pp(t,n,e))}async function Vu(t){const e=nt(t),n=As(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;vF(e);)try{const a=await rF(e.localStore,r);if(a===null){e.O_.length===0&&n.o_();break}r=a.batchId,bF(e,a)}catch(a){await pp(e,a)}qI(e)&&HI(e)}function vF(t){return Lo(t)&&t.O_.length<10}function bF(t,e){t.O_.push(e);const n=As(t);n.r_()&&n.V_&&n.m_(e.mutations)}function qI(t){return Lo(t)&&!As(t).n_()&&t.O_.length>0}function HI(t){As(t).start()}async function wF(t){As(t).p_()}async function _F(t){const e=As(t);for(const n of t.O_)e.m_(n.mutations)}async function CF(t,e,n){const r=t.O_.shift(),a=Jx.from(r,e,n);await $I(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Vu(t)}async function EF(t,e){e&&As(t).V_&&await async function(r,a){if(function(s){return sO(s)&&s!==pe.ABORTED}(a.code)){const i=r.O_.shift();As(r).s_(),await $I(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,a)),await Vu(r)}}(t,e),qI(t)&&HI(t)}async function I1(t,e){const n=nt(t);n.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const r=Lo(n);n.L_.add(3),await zu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await fm(n)}async function NF(t,e){const n=nt(t);e?(n.L_.delete(2),await fm(n)):e||(n.L_.add(2),await zu(n),n.q_.set("Unknown"))}function wc(t){return t.K_||(t.K_=function(n,r,a){const i=nt(n);return i.w_(),new uF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(t.datastore,t.asyncQueue,{Eo:gF.bind(null,t),Ro:AF.bind(null,t),mo:xF.bind(null,t),d_:yF.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),dy(t)?cy(t):t.q_.set("Unknown")):(await t.K_.stop(),WI(t))})),t.K_}function As(t){return t.U_||(t.U_=function(n,r,a){const i=nt(n);return i.w_(),new hF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:wF.bind(null,t),mo:EF.bind(null,t),f_:_F.bind(null,t),g_:CF.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Vu(t)):(await t.U_.stop(),t.O_.length>0&&(we("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n,r,a,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=i,this.deferred=new ka,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,i){const s=Date.now()+r,l=new uy(e,n,s,a,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hy(t,e){if(lr("AsyncQueue",`${e}: ${t}`),Cs(t))return new ke(pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Pe.comparator(n.key,r.key):(n,r)=>Pe.comparator(n.key,r.key),this.keyedMap=rd(),this.sortedSet=new en(this.comparator)}static emptySet(e){return new Fl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,i=r.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(){this.W_=new en(Pe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Oe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class oc{constructor(e,n,r,a,i,s,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,a,i){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new oc(e,n,Fl.emptySet(n),s,r,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&im(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class SF{constructor(){this.queries=T1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const a=nt(n),i=a.queries;a.queries=T1(),i.forEach((s,l)=>{for(const c of l.j_)c.onError(r)})})(this,new ke(pe.ABORTED,"Firestore shutting down"))}}function T1(){return new Es(t=>KN(t),im)}async function fy(t,e){const n=nt(t);let r=3;const a=e.query;let i=n.queries.get(a);i?!i.H_()&&e.J_()&&(r=2):(i=new IF,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(a,!0);break;case 1:i.z_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(s){const l=hy(s,`Initialization of query '${al(e.query)}' failed`);return void e.onError(l)}n.queries.set(a,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&my(n)}async function py(t,e){const n=nt(t),r=e.query;let a=3;const i=n.queries.get(r);if(i){const s=i.j_.indexOf(e);s>=0&&(i.j_.splice(s,1),i.j_.length===0?a=e.J_()?0:1:!i.H_()&&e.J_()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function TF(t,e){const n=nt(t);let r=!1;for(const a of e){const i=a.query,s=n.queries.get(i);if(s){for(const l of s.j_)l.X_(a)&&(r=!0);s.z_=a}}r&&my(n)}function kF(t,e,n){const r=nt(t),a=r.queries.get(e);if(a)for(const i of a.j_)i.onError(n);r.queries.delete(e)}function my(t){t.Y_.forEach(e=>{e.next()})}var uA,k1;(k1=uA||(uA={})).ea="default",k1.Cache="cache";class gy{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new oc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=oc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==uA.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.key=e}}class XI{constructor(e){this.key=e}}class DF{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ft(),this.mutatedKeys=ft(),this.Aa=YN(e),this.Ra=new Fl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new S1,a=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,s=a,l=!1;const c=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((u,h)=>{const p=a.get(u),m=Ou(this.query,h)?h:null,g=!!p&&this.mutatedKeys.has(p.key),A=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;p&&m?p.data.isEqual(m.data)?g!==A&&(r.track({type:3,doc:m}),v=!0):this.ga(p,m)||(r.track({type:2,doc:m}),v=!0,(c&&this.Aa(m,c)>0||d&&this.Aa(m,d)<0)&&(l=!0)):!p&&m?(r.track({type:0,doc:m}),v=!0):p&&!m&&(r.track({type:1,doc:p}),v=!0,(c||d)&&(l=!0)),v&&(m?(s=s.add(m),i=A?i.add(u):i.delete(u)):(s=s.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ra:s,fa:r,ns:l,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((u,h)=>function(m,g){const A=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe()}};return A(m)-A(g)}(u.type,h.type)||this.Aa(u.doc,h.doc)),this.pa(r),a=a!=null&&a;const l=n&&!a?this.ya():[],c=this.da.size===0&&this.current&&!a?1:0,d=c!==this.Ea;return this.Ea=c,s.length!==0||d?{snapshot:new oc(this.query,e.Ra,i,s,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new S1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ft(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new XI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new QI(r))}),n}ba(e){this.Ta=e.Ts,this.da=ft();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return oc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class RF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class PF{constructor(e){this.key=e,this.va=!1}}class jF{constructor(e,n,r,a,i,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Es(l=>KN(l),im),this.Ma=new Map,this.xa=new Set,this.Oa=new en(Pe.comparator),this.Na=new Map,this.La=new ay,this.Ba={},this.ka=new Map,this.qa=Io.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function MF(t,e,n=!0){const r=tS(t);let a;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.Da()):a=await KI(r,e,n,!0),a}async function LF(t,e){const n=tS(t);await KI(n,e,!0,!1)}async function KI(t,e,n,r){const a=await aF(t.localStore,Zr(e)),i=a.targetId,s=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await OF(t,e,i,s==="current",a.resumeToken)),t.isPrimaryClient&&n&&UI(t.remoteStore,a),l}async function OF(t,e,n,r,a){t.Ka=(h,p,m)=>async function(A,v,x,y){let w=v.view.ma(x);w.ns&&(w=await C1(A.localStore,v.query,!1).then(({documents:_})=>v.view.ma(_,w)));const T=y&&y.targetChanges.get(v.targetId),I=y&&y.targetMismatches.get(v.targetId)!=null,R=v.view.applyChanges(w,A.isPrimaryClient,T,I);return R1(A,v.targetId,R.wa),R.snapshot}(t,h,p,m);const i=await C1(t.localStore,e,!0),s=new DF(e,i.Ts),l=s.ma(i.documents),c=Bu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),d=s.applyChanges(l,t.isPrimaryClient,c);R1(t,n,d.wa);const u=new RF(e,n,s);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function FF(t,e,n){const r=nt(t),a=r.Fa.get(e),i=r.Ma.get(a.targetId);if(i.length>1)return r.Ma.set(a.targetId,i.filter(s=>!im(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await dA(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&oy(r.remoteStore,a.targetId),hA(r,a.targetId)}).catch(jo)):(hA(r,a.targetId),await dA(r.localStore,a.targetId,!0))}async function BF(t,e){const n=nt(t),r=n.Fa.get(e),a=n.Ma.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),oy(n.remoteStore,r.targetId))}async function zF(t,e,n){const r=nS(t);try{const a=await function(s,l){const c=nt(s),d=Zt.now(),u=l.reduce((m,g)=>m.add(g.key),ft());let h,p;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=Mr(),A=ft();return c.cs.getEntries(m,u).next(v=>{g=v,g.forEach((x,y)=>{y.isValidDocument()||(A=A.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,g)).next(v=>{h=v;const x=[];for(const y of l){const w=aO(y,h.get(y.key).overlayedDocument);w!=null&&x.push(new pi(y.key,w,VN(w.value.mapValue),Nn.exists(!0)))}return c.mutationQueue.addMutationBatch(m,d,x,l)}).next(v=>{p=v;const x=v.applyToLocalDocumentSet(h,A);return c.documentOverlayCache.saveOverlays(m,v.batchId,x)})}).then(()=>({batchId:p.batchId,changes:ZN(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(s,l,c){let d=s.Ba[s.currentUser.toKey()];d||(d=new en(st)),d=d.insert(l,c),s.Ba[s.currentUser.toKey()]=d}(r,a.batchId,n),await Uu(r,a.changes),await Vu(r.remoteStore)}catch(a){const i=hy(a,"Failed to persist write");n.reject(i)}}async function YI(t,e){const n=nt(t);try{const r=await tF(n.localStore,e);e.targetChanges.forEach((a,i)=>{const s=n.Na.get(i);s&&(Ve(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?s.va=!0:a.modifiedDocuments.size>0?Ve(s.va):a.removedDocuments.size>0&&(Ve(s.va),s.va=!1))}),await Uu(n,r,e)}catch(r){await jo(r)}}function D1(t,e,n){const r=nt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Fa.forEach((i,s)=>{const l=s.view.Z_(e);l.snapshot&&a.push(l.snapshot)}),function(s,l){const c=nt(s);c.onlineState=l;let d=!1;c.queries.forEach((u,h)=>{for(const p of h.j_)p.Z_(l)&&(d=!0)}),d&&my(c)}(r.eventManager,e),a.length&&r.Ca.d_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VF(t,e,n){const r=nt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Na.get(e),i=a&&a.key;if(i){let s=new en(Pe.comparator);s=s.insert(i,dn.newNoDocument(i,Ge.min()));const l=ft().add(i),c=new lm(Ge.min(),new Map,new en(st),s,l);await YI(r,c),r.Oa=r.Oa.remove(i),r.Na.delete(e),Ay(r)}else await dA(r.localStore,e,!1).then(()=>hA(r,e,n)).catch(jo)}async function UF(t,e){const n=nt(t),r=e.batch.batchId;try{const a=await eF(n.localStore,e);ZI(n,r,null),JI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Uu(n,a)}catch(a){await jo(a)}}async function GF(t,e,n){const r=nt(t);try{const a=await function(s,l){const c=nt(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let u;return c.mutationQueue.lookupMutationBatch(d,l).next(h=>(Ve(h!==null),u=h.keys(),c.mutationQueue.removeMutationBatch(d,h))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,u,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,u)).next(()=>c.localDocuments.getDocuments(d,u))})}(r.localStore,e);ZI(r,e,n),JI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Uu(r,a)}catch(a){await jo(a)}}function JI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function ZI(t,e,n){const r=nt(t);let a=r.Ba[r.currentUser.toKey()];if(a){const i=a.get(e);i&&(n?i.reject(n):i.resolve(),a=a.remove(e)),r.Ba[r.currentUser.toKey()]=a}}function hA(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||eS(t,r)})}function eS(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(oy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Ay(t))}function R1(t,e,n){for(const r of n)r instanceof QI?(t.La.addReference(r.key,e),WF(t,r)):r instanceof XI?(we("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||eS(t,r.key)):Oe()}function WF(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(we("SyncEngine","New document in limbo: "+n),t.xa.add(r),Ay(t))}function Ay(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Pe(Ot.fromString(e)),r=t.qa.next();t.Na.set(r,new PF(n)),t.Oa=t.Oa.insert(n,r),UI(t.remoteStore,new Ya(Zr(Lu(n.path)),r,"TargetPurposeLimboResolution",Kr.oe))}}async function Uu(t,e,n){const r=nt(t),a=[],i=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{s.push(r.Ka(c,e,n).then(d=>{var u;if((d||n)&&r.isPrimaryClient){const h=d?!d.fromCache:(u=n==null?void 0:n.targetChanges.get(c.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(d){a.push(d);const h=sy.Wi(c.targetId,d);i.push(h)}}))}),await Promise.all(s),r.Ca.d_(a),await async function(c,d){const u=nt(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>le.forEach(d,p=>le.forEach(p.$i,m=>u.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>le.forEach(p.Ui,m=>u.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!Cs(h))throw h;we("LocalStore","Failed to update sequence numbers: "+h)}for(const h of d){const p=h.targetId;if(!h.fromCache){const m=u.os.get(p),g=m.snapshotVersion,A=m.withLastLimboFreeSnapshotVersion(g);u.os=u.os.insert(p,A)}}}(r.localStore,i))}async function $F(t,e){const n=nt(t);if(!n.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const r=await OI(n.localStore,e);n.currentUser=e,function(i,s){i.ka.forEach(l=>{l.forEach(c=>{c.reject(new ke(pe.CANCELLED,s))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Uu(n,r.hs)}}function qF(t,e){const n=nt(t),r=n.Na.get(e);if(r&&r.va)return ft().add(r.key);{let a=ft();const i=n.Ma.get(e);if(!i)return a;for(const s of i){const l=n.Fa.get(s);a=a.unionWith(l.view.Va)}return a}}function tS(t){const e=nt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VF.bind(null,e),e.Ca.d_=TF.bind(null,e.eventManager),e.Ca.$a=kF.bind(null,e.eventManager),e}function nS(t){const e=nt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GF.bind(null,e),e}class mu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return LI(this.persistence,new MI,e.initialUser,this.serializer)}Ga(e){return new jI(um.Zr,this.serializer)}Wa(e){return new BI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mu.provider={build:()=>new mu};class HF extends mu{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await nS(this.Ja.syncEngine),await Vu(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return LI(this.persistence,new MI,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new MO(r,e.asyncQueue,n)}Ha(e,n){const r=new c3(n,this.persistence);return new l3(e.asyncQueue,r)}Ga(e){const n=YO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Ar.withCacheSize(this.cacheSizeBytes):Ar.DEFAULT;return new iy(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,dF(),cf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new BI}}class mp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>D1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$F.bind(null,this.syncEngine),await NF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new SF}()}createDatastore(e){const n=hm(e.databaseInfo.databaseId),r=function(i){return new cF(i)}(e.databaseInfo);return function(i,s,l,c){return new fF(i,s,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,a,i,s,l){return new mF(r,a,i,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>D1(this.syncEngine,n,0),function(){return N1.D()?new N1:new sF}())}createSyncEngine(e,n){return function(a,i,s,l,c,d,u){const h=new jF(a,i,s,l,c,d);return u&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const i=nt(a);we("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await zu(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}mp.provider={build:()=>new mp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e,n,r,a,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=Fn.UNAUTHENTICATED,this.clientId=Gx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async s=>{we("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(we("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ka;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cg(t,e){t.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async a=>{r.isEqual(a)||(await OI(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function P1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XF(t);we("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>I1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>I1(e.remoteStore,a)),t._onlineComponents=e}async function XF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===pe.FAILED_PRECONDITION||a.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;fs("Error using user provided cache. Falling back to memory cache: "+n),await Cg(t,new mu)}}else we("FirestoreClient","Using default OfflineComponentProvider"),await Cg(t,new mu);return t._offlineComponents}async function rS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),await P1(t,t._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),await P1(t,new mp))),t._onlineComponents}function KF(t){return rS(t).then(e=>e.syncEngine)}async function gp(t){const e=await rS(t),n=e.eventManager;return n.onListen=MF.bind(null,e.syncEngine),n.onUnlisten=FF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=LF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BF.bind(null,e.syncEngine),n}function YF(t,e,n={}){const r=new ka;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,l,c,d){const u=new xy({next:p=>{u.Za(),s.enqueueAndForget(()=>py(i,h));const m=p.docs.has(l);!m&&p.fromCache?d.reject(new ke(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&c&&c.source==="server"?d.reject(new ke(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),h=new gy(Lu(l.path),u,{includeMetadataChanges:!0,_a:!0});return fy(i,h)}(await gp(t),t.asyncQueue,e,n,r)),r.promise}function JF(t,e,n={}){const r=new ka;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,l,c,d){const u=new xy({next:p=>{u.Za(),s.enqueueAndForget(()=>py(i,h)),p.fromCache&&c.source==="server"?d.reject(new ke(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),h=new gy(l,u,{includeMetadataChanges:!0,_a:!0});return fy(i,h)}(await gp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(t,e,n){if(!n)throw new ke(pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sS(t,e,n,r){if(e===!0&&r===!0)throw new ke(pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function M1(t){if(!Pe.isDocumentKey(t))throw new ke(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function L1(t){if(Pe.isDocumentKey(t))throw new ke(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe()}function Un(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ke(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pm(t);throw new ke(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ke(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ke(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ke(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ke(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ke(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mm{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ke(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ke(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new IN;switch(r.type){case"firstParty":return new e3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ke(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=j1.get(n);r&&(we("ComponentProvider","Removing Datastore"),j1.delete(n),r.terminate())}(this),Promise.resolve()}}function oS(t,e,n,r={}){var a;const i=(t=Un(t,mm))._getSettings(),s=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==s&&fs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:s,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Fn.MOCK_USER;else{l=T4(r.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new ke(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Fn(d)}t._authCredentials=new Y5(new NN(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mi(this.firestore,e,this._query)}}class Gn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gn(this.firestore,e,this._key)}}class ri extends mi{constructor(e,n,r){super(e,n,Lu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gn(this.firestore,null,new Pe(e))}withConverter(e){return new ri(this.firestore,e,this._path)}}function bn(t,e,...n){if(t=fn(t),iS("collection","path",e),t instanceof mm){const r=Ot.fromString(e,...n);return L1(r),new ri(t,null,r)}{if(!(t instanceof Gn||t instanceof ri))throw new ke(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ot.fromString(e,...n));return L1(r),new ri(t.firestore,null,r)}}function wn(t,e,...n){if(t=fn(t),arguments.length===1&&(e=Gx.newId()),iS("doc","path",e),t instanceof mm){const r=Ot.fromString(e,...n);return M1(r),new Gn(t,null,new Pe(r))}{if(!(t instanceof Gn||t instanceof ri))throw new ke(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ot.fromString(e,...n));return M1(r),new Gn(t.firestore,t instanceof ri?t.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new zI(this,"async_queue_retry"),this.Vu=()=>{const r=cf();r&&we("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=cf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=cf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ka;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Cs(e))throw e;we("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const a=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(r);throw lr("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const a=uy.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(a),a}fu(){this.Eu&&Oe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function B1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const i of r)if(i in a&&typeof a[i]=="function")return!0;return!1}(t,["next","error","complete"])}class ra extends mm{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new F1,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new F1(e),this._firestoreClient=void 0,await e}}}function lS(t,e){const n=typeof t=="object"?t:AN(),r=typeof t=="string"?t:"(default)",a=Vx(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const i=I4("firestore");i&&oS(a,...i)}return a}function _c(t){if(t._terminated)throw new ke(pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||cS(t),t._firestoreClient}function cS(t){var e,n,r;const a=t._freezeSettings(),i=function(l,c,d,u){return new D3(l,c,d,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,aS(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new QF(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}function dS(t,e){fs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return ZF(t,mp.provider,{build:r=>new HF(r,n.cacheSizeBytes,void 0)}),Promise.resolve()}function ZF(t,e,n){if((t=Un(t,ra))._firestoreClient||t._terminated)throw new ke(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ke(pe.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},cS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this._byteString=e}static fromBase64String(e){try{return new So(pn.fromBase64String(e))}catch(n){throw new ke(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new So(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ke(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ke(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ke(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==a[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=/^__.*__$/;class t6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pi(e,this.data,this.fieldMask,n,this.fieldTransforms):new bc(e,this.data,n,this.fieldTransforms)}}class uS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new pi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe()}}class yy{constructor(e,n,r,a,i,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new yy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Fu({path:r,xu:!1});return a.Ou(e),a}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Fu({path:r,xu:!1});return a.vu(),a}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ap(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(hS(this.Cu)&&e6.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class n6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hm(e)}Qu(e,n,r,a=!1){return new yy({Cu:e,methodName:n,qu:r,path:Jt.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gu(t){const e=t._freezeSettings(),n=hm(t._databaseId);return new n6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vy(t,e,n,r,a,i={}){const s=t.Qu(i.merge||i.mergeFields?2:0,e,n,a);by("Data must be an object, but it was:",s,r);const l=mS(r,s);let c,d;if(i.merge)c=new wr(s.fieldMask),d=s.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const p=fA(e,h,n);if(!s.contains(p))throw new ke(pe.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);AS(u,p)||u.push(p)}c=new wr(u),d=s.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,d=s.fieldTransforms;return new t6(new nr(l),c,d)}class ym extends gm{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ym}}function fS(t,e,n,r){const a=t.Qu(1,e,n);by("Data must be an object, but it was:",a,r);const i=[],s=nr.empty();Mo(r,(c,d)=>{const u=wy(e,c,n);d=fn(d);const h=a.Nu(u);if(d instanceof ym)i.push(u);else{const p=Wu(d,h);p!=null&&(i.push(u),s.set(u,p))}});const l=new wr(i);return new uS(s,l,a.fieldTransforms)}function pS(t,e,n,r,a,i){const s=t.Qu(1,e,n),l=[fA(e,r,n)],c=[a];if(i.length%2!=0)throw new ke(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)l.push(fA(e,i[p])),c.push(i[p+1]);const d=[],u=nr.empty();for(let p=l.length-1;p>=0;--p)if(!AS(d,l[p])){const m=l[p];let g=c[p];g=fn(g);const A=s.Nu(m);if(g instanceof ym)d.push(m);else{const v=Wu(g,A);v!=null&&(d.push(m),u.set(m,v))}}const h=new wr(d);return new uS(u,h,s.fieldTransforms)}function r6(t,e,n,r=!1){return Wu(n,t.Qu(r?4:3,e))}function Wu(t,e){if(gS(t=fn(t)))return by("Unsupported field value:",e,t),mS(t,e);if(t instanceof gm)return function(r,a){if(!hS(a.Cu))throw a.Bu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,a){const i=[];let s=0;for(const l of r){let c=Wu(l,a.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(t,e)}return function(r,a){if((r=fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Y3(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Zt.fromDate(r);return{timestampValue:sc(a.serializer,i)}}if(r instanceof Zt){const i=new Zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sc(a.serializer,i)}}if(r instanceof Am)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof So)return{bytesValue:hI(a.serializer,r._byteString)};if(r instanceof Gn){const i=a.databaseId,s=r.firestore._databaseId;if(!s.isEqual(i))throw a.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ty(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof xm)return function(s,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return Kx(l.serializer,c)})}}}}}}(r,a);throw a.Bu(`Unsupported field value: ${pm(r)}`)}(t,e)}function mS(t,e){const n={};return ON(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mo(t,(r,a)=>{const i=Wu(a,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function gS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Zt||t instanceof Am||t instanceof So||t instanceof Gn||t instanceof gm||t instanceof xm)}function by(t,e,n){if(!gS(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=pm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function fA(t,e,n){if((e=fn(e))instanceof Cc)return e._internalPath;if(typeof e=="string")return wy(t,e);throw Ap("Field path arguments must be of type string or ",t,!1,void 0,n)}const a6=new RegExp("[~\\*/\\[\\]]");function wy(t,e,n){if(e.search(a6)>=0)throw Ap(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cc(...e.split("."))._internalPath}catch{throw Ap(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ap(t,e,n,r,a){const i=r&&!r.isEmpty(),s=a!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||s)&&(c+=" (found",i&&(c+=` in field ${r}`),s&&(c+=` in document ${a}`),c+=")"),new ke(pe.INVALID_ARGUMENT,l+t+c)}function AS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,n,r,a,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new i6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class i6 extends xS{data(){return super.data()}}function vm(t,e){return typeof e=="string"?wy(t,e):e instanceof Cc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ke(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _y{}class Cy extends _y{}function Li(t,e,...n){let r=[];e instanceof _y&&r.push(e),r=r.concat(n),function(i){const s=i.filter(c=>c instanceof bm).length,l=i.filter(c=>c instanceof $u).length;if(s>1||s>0&&l>0)throw new ke(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)t=a._apply(t);return t}class $u extends Cy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $u(e,n,r)}_apply(e){const n=this._parse(e);return bS(e._query,n),new mi(e.firestore,e.converter,tA(e._query,n))}_parse(e){const n=Gu(e.firestore);return function(i,s,l,c,d,u,h){let p;if(d.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ke(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){V1(h,u);const m=[];for(const g of h)m.push(z1(c,i,g));p={arrayValue:{values:m}}}else p=z1(c,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||V1(h,u),p=r6(l,s,h,u==="in"||u==="not-in");return wt.create(d,u,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ll(t,e,n){const r=e,a=vm("where",t);return $u._create(a,r,n)}class bm extends _y{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Vt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,i){let s=a;const l=i.getFlattenedFilters();for(const c of l)bS(s,c),s=tA(s,c)}(e._query,n),new mi(e.firestore,e.converter,tA(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wm extends Cy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new wm(e,n)}_apply(e){const n=function(a,i,s){if(a.startAt!==null)throw new ke(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ke(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hu(i,s)}(e._query,this._field,this._direction);return new mi(e.firestore,e.converter,function(a,i){const s=a.explicitOrderBy.concat([i]);return new vc(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function vS(t,e="asc"){const n=e,r=vm("orderBy",t);return wm._create(r,n)}function z1(t,e,n){if(typeof(n=fn(n))=="string"){if(n==="")throw new ke(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XN(e)&&n.indexOf("/")!==-1)throw new ke(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ot.fromString(n));if(!Pe.isDocumentKey(r))throw new ke(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return du(t,new Pe(r))}if(n instanceof Gn)return du(t,n._key);throw new ke(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pm(n)}.`)}function V1(t,e){if(!Array.isArray(t)||t.length===0)throw new ke(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bS(t,e){const n=function(a,i){for(const s of a)for(const l of s.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ke(pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ke(pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class wS{convertValue(e,n="none"){switch(_o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Mo(e,(a,i)=>{r[a]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,a;const i=(a=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(s=>Kt(s.doubleValue));return new xm(i)}convertGeoPoint(e){return new Am(Kt(e.latitude),Kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Qx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const n=di(e);return new Zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ot.fromString(e);Ve(wI(r));const a=new ms(r.get(1),r.get(3)),i=new Pe(r.popFirst(5));return a.isEqual(n)||lr(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ny extends xS{constructor(e,n,r,a,i,s){super(e,n,r,a,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Rd extends Ny{data(e={}){return super.data(e)}}class Iy{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new bl(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Rd(this._firestore,this._userDataWriter,r.key,r,new bl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ke(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(l=>{const c=new Rd(a._firestore,a._userDataWriter,l.doc.key,l.doc,new bl(a._snapshot.mutatedKeys.has(l.doc.key),a._snapshot.fromCache),a.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Rd(a._firestore,a._userDataWriter,l.doc.key,l.doc,new bl(a._snapshot.mutatedKeys.has(l.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,u=-1;return l.type!==0&&(d=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),u=s.indexOf(l.doc.key)),{type:s6(l.type),doc:c,oldIndex:d,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function s6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t){t=Un(t,Gn);const e=Un(t.firestore,ra);return YF(_c(e),t._key).then(n=>_S(e,t,n))}class Sy extends wS{constructor(e){super(),this.firestore=e}convertBytes(e){return new So(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gn(this.firestore,null,n)}}function sd(t){t=Un(t,mi);const e=Un(t.firestore,ra),n=_c(e),r=new Sy(e);return yS(t._query),JF(n,t._query).then(a=>new Iy(e,r,t,a))}function xp(t,e,n){t=Un(t,Gn);const r=Un(t.firestore,ra),a=Ey(t.converter,e,n);return Ec(r,[vy(Gu(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Nn.none())])}function Ui(t,e,n,...r){t=Un(t,Gn);const a=Un(t.firestore,ra),i=Gu(a);let s;return s=typeof(e=fn(e))=="string"||e instanceof Cc?pS(i,"updateDoc",t._key,e,n,r):fS(i,"updateDoc",t._key,e),Ec(a,[s.toMutation(t._key,Nn.exists(!0))])}function od(t){return Ec(Un(t.firestore,ra),[new Fu(t._key,Nn.none())])}function ki(t,e){const n=Un(t.firestore,ra),r=wn(t),a=Ey(t.converter,e);return Ec(n,[vy(Gu(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Nn.exists(!1))]).then(()=>r)}function wl(t,...e){var n,r,a;t=fn(t);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||B1(e[s])||(i=e[s],s++);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(B1(e[s])){const h=e[s];e[s]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[s+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[s+2]=(a=h.complete)===null||a===void 0?void 0:a.bind(h)}let c,d,u;if(t instanceof Gn)d=Un(t.firestore,ra),u=Lu(t._key.path),c={next:h=>{e[s]&&e[s](_S(d,t,h))},error:e[s+1],complete:e[s+2]};else{const h=Un(t,mi);d=Un(h.firestore,ra),u=h._query;const p=new Sy(d);c={next:m=>{e[s]&&e[s](new Iy(d,p,h,m))},error:e[s+1],complete:e[s+2]},yS(t._query)}return function(p,m,g,A){const v=new xy(A),x=new gy(m,v,g);return p.asyncQueue.enqueueAndForget(async()=>fy(await gp(p),x)),()=>{v.Za(),p.asyncQueue.enqueueAndForget(async()=>py(await gp(p),x))}}(_c(d),u,l,c)}function Ec(t,e){return function(r,a){const i=new ka;return r.asyncQueue.enqueueAndForget(async()=>zF(await KF(r),a,i)),i.promise}(_c(t),e)}function _S(t,e,n){const r=n.docs.get(e._key),a=new Sy(t);return new Ny(t,a,e._key,r,new bl(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Gu(e)}set(e,n,r){this._verifyNotCommitted();const a=Eg(e,this._firestore),i=Ey(a.converter,n,r),s=vy(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,r);return this._mutations.push(s.toMutation(a._key,Nn.none())),this}update(e,n,r,...a){this._verifyNotCommitted();const i=Eg(e,this._firestore);let s;return s=typeof(n=fn(n))=="string"||n instanceof Cc?pS(this._dataReader,"WriteBatch.update",i._key,n,r,a):fS(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(s.toMutation(i._key,Nn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Eg(e,this._firestore);return this._mutations=this._mutations.concat(new Fu(n._key,Nn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Eg(t,e){if((t=fn(t)).firestore!==e)throw new ke(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t){return _c(t=Un(t,ra)),new CS(t,e=>Ec(t,e))}(function(e,n=!0){(function(a){yc=a})(xc),Zl(new bo("firestore",(r,{instanceIdentifier:a,options:i})=>{const s=r.getProvider("app").getImmediate(),l=new ra(new J5(r.getProvider("auth-internal")),new n3(r.getProvider("app-check-internal")),function(d,u){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ke(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ms(d.options.projectId,u)}(s,a),s);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),os(Pw,"4.7.3",e),os(Pw,"4.7.3","esm2017")})();const o6=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:wS,Bytes:So,CollectionReference:ri,DocumentReference:Gn,DocumentSnapshot:Ny,FieldPath:Cc,FieldValue:gm,Firestore:ra,FirestoreError:ke,GeoPoint:Am,Query:mi,QueryCompositeFilterConstraint:bm,QueryConstraint:Cy,QueryDocumentSnapshot:Rd,QueryFieldFilterConstraint:$u,QueryOrderByConstraint:wm,QuerySnapshot:Iy,SnapshotMetadata:bl,Timestamp:Zt,VectorValue:xm,WriteBatch:CS,_AutoId:Gx,_ByteString:pn,_DatabaseId:ms,_DocumentKey:Pe,_EmptyAuthCredentialsProvider:IN,_FieldPath:Jt,_cast:Un,_logWarn:fs,_validateIsNotUsedTogether:sS,addDoc:ki,collection:bn,connectFirestoreEmulator:oS,deleteDoc:od,doc:wn,enableIndexedDbPersistence:dS,ensureFirestoreConfigured:_c,executeWrite:Ec,getDoc:pA,getDocs:sd,getFirestore:lS,onSnapshot:wl,orderBy:vS,query:Li,setDoc:xp,updateDoc:Ui,where:ll,writeBatch:ld},Symbol.toStringTag,{value:"Module"}));var l6="firebase",c6="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os(l6,c6,"app");function Ty(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function Oo(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{d(r.next(u))}catch(h){s(h)}}function c(u){try{d(r.throw(u))}catch(h){s(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((r=r.apply(t,e||[])).next())})}function ES(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const d6=ES,NS=new Pu("auth","Firebase",ES());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp=new Bx("@firebase/auth");function u6(t,...e){yp.logLevel<=bt.WARN&&yp.warn(`Auth (${xc}): ${t}`,...e)}function df(t,...e){yp.logLevel<=bt.ERROR&&yp.error(`Auth (${xc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t,...e){throw Dy(t,...e)}function ga(t,...e){return Dy(t,...e)}function ky(t,e,n){const r=Object.assign(Object.assign({},d6()),{[e]:n});return new Pu("auth","Firebase",r).create(e,{appName:t.name})}function ai(t){return ky(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function h6(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&aa(t,"argument-error"),ky(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return NS.create(t,...e)}function Je(t,e,...n){if(!t)throw Dy(e,...n)}function Ja(t){const e="INTERNAL ASSERTION FAILED: "+t;throw df(e),new Error(e)}function ui(t,e){t||Ja(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function f6(){return U1()==="http:"||U1()==="https:"}function U1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(f6()||P4()||"connection"in navigator)?navigator.onLine:!0}function m6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ui(n>e,"Short delay should be less than long delay!"),this.isMobile=k4()||j4()}get(){return p6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t,e){ui(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ja("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ja("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ja("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=new qu(3e4,6e4);function Ns(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Is(t,e,n,r,a={}){return SS(t,a,async()=>{let i={},s={};r&&(e==="GET"?s=r:i={body:JSON.stringify(r)});const l=ju(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},i);return R4()||(d.referrerPolicy="no-referrer"),IS.fetch()(TS(t,t.config.apiHost,n,l),d)})}async function SS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},g6),e);try{const a=new y6(t),i=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Lh(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const l=i.ok?s.errorMessage:s.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lh(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Lh(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Lh(t,"user-disabled",s);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw ky(t,u,d);aa(t,u)}}catch(a){if(a instanceof fi)throw a;aa(t,"network-request-failed",{message:String(a)})}}async function Hu(t,e,n,r,a={}){const i=await Is(t,e,n,r,a);return"mfaPendingCredential"in i&&aa(t,"multi-factor-auth-required",{_serverResponse:i}),i}function TS(t,e,n,r){const a=`${e}${n}?${r}`;return t.config.emulator?Ry(t.config,a):`${t.config.apiScheme}://${a}`}function x6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class y6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ga(this.auth,"network-request-failed")),A6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Lh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=ga(t,e,r);return a.customData._tokenResponse=n,a}function G1(t){return t!==void 0&&t.enterprise!==void 0}class v6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return x6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function b6(t,e){return Is(t,"GET","/v2/recaptchaConfig",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w6(t,e){return Is(t,"POST","/v1/accounts:delete",e)}async function kS(t,e){return Is(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _6(t,e=!1){const n=fn(t),r=await n.getIdToken(e),a=Py(r);Je(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const i=typeof a.firebase=="object"?a.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:a,token:r,authTime:Pd(Ng(a.auth_time)),issuedAtTime:Pd(Ng(a.iat)),expirationTime:Pd(Ng(a.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ng(t){return Number(t)*1e3}function Py(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return df("JWT malformed, contained fewer than 3 sections"),null;try{const a=lN(n);return a?JSON.parse(a):(df("Failed to decode base64 JWT payload"),null)}catch(a){return df("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function W1(t){const e=Py(t);return Je(e,"internal-error"),Je(typeof e.exp<"u","internal-error"),Je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof fi&&C6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function C6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pd(this.lastLoginAt),this.creationTime=Pd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vp(t){var e;const n=t.auth,r=await t.getIdToken(),a=await gu(t,kS(n,{idToken:r}));Je(a==null?void 0:a.users.length,n,"internal-error");const i=a.users[0];t._notifyReloadListener(i);const s=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?DS(i.providerUserInfo):[],l=I6(t.providerData,s),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),u=c?d:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new gA(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function N6(t){const e=fn(t);await vp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function I6(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function DS(t){return t.map(e=>{var{providerId:n}=e,r=Ty(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6(t,e){const n=await SS(t,{},async()=>{const r=ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:i}=t.config,s=TS(t,a,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",IS.fetch()(s,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function T6(t,e){return Is(t,"POST","/v2/accounts:revokeToken",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Je(e.idToken,"internal-error"),Je(typeof e.idToken<"u","internal-error"),Je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Je(e.length!==0,"internal-error");const n=W1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:i}=await S6(e,n);this.updateTokensAndExpiration(r,a,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:i}=n,s=new Bl;return r&&(Je(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),a&&(Je(typeof a=="string","internal-error",{appName:e}),s.accessToken=a),i&&(Je(typeof i=="number","internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bl,this.toJSON())}_performRefresh(){return Ja("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(t,e){Je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Za{constructor(e){var{uid:n,auth:r,stsTokenManager:a}=e,i=Ty(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new E6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new gA(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await gu(this,this.stsTokenManager.getToken(this.auth,e));return Je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _6(this,e)}reload(){return N6(this)}_assign(e){this!==e&&(Je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Za(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ha(this.auth.app))return Promise.reject(ai(this.auth));const e=await this.getIdToken();return await gu(this,w6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,a,i,s,l,c,d,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(a=n.email)!==null&&a!==void 0?a:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,A=(l=n.tenantId)!==null&&l!==void 0?l:void 0,v=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,x=(d=n.createdAt)!==null&&d!==void 0?d:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:T,isAnonymous:I,providerData:R,stsTokenManager:_}=n;Je(w&&_,e,"internal-error");const N=Bl.fromJSON(this.name,_);Je(typeof w=="string",e,"internal-error"),Ii(h,e.name),Ii(p,e.name),Je(typeof T=="boolean",e,"internal-error"),Je(typeof I=="boolean",e,"internal-error"),Ii(m,e.name),Ii(g,e.name),Ii(A,e.name),Ii(v,e.name),Ii(x,e.name),Ii(y,e.name);const E=new Za({uid:w,auth:e,email:p,emailVerified:T,displayName:h,isAnonymous:I,photoURL:g,phoneNumber:m,tenantId:A,stsTokenManager:N,createdAt:x,lastLoginAt:y});return R&&Array.isArray(R)&&(E.providerData=R.map(k=>Object.assign({},k))),v&&(E._redirectEventId=v),E}static async _fromIdTokenResponse(e,n,r=!1){const a=new Bl;a.updateFromServerResponse(n);const i=new Za({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await vp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Je(a.localId!==void 0,"internal-error");const i=a.providerUserInfo!==void 0?DS(a.providerUserInfo):[],s=!(a.email&&a.passwordHash)&&!(i!=null&&i.length),l=new Bl;l.updateFromIdToken(r);const c=new Za({uid:a.localId,auth:e,stsTokenManager:l,isAnonymous:s}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new gA(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=new Map;function ei(t){ui(t instanceof Function,"Expected a class definition");let e=$1.get(t);return e?(ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RS.type="NONE";const q1=RS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t,e,n){return`firebase:${t}:${e}:${n}`}class zl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:i}=this.auth;this.fullUserKey=uf(this.userKey,a.apiKey,i),this.fullPersistenceKey=uf("persistence",a.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Za._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new zl(ei(q1),e,r);const a=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=a[0]||ei(q1);const s=uf(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const u=await d._get(s);if(u){const h=Za._fromJSON(e,u);d!==i&&(l=h),i=d;break}}catch{}const c=a.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new zl(i,e,r):(i=c[0],l&&await i._set(s,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(s)}catch{}})),new zl(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FS(e))return"Blackberry";if(BS(e))return"Webos";if(jS(e))return"Safari";if((e.includes("chrome/")||MS(e))&&!e.includes("edge/"))return"Chrome";if(OS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function PS(t=In()){return/firefox\//i.test(t)}function jS(t=In()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MS(t=In()){return/crios\//i.test(t)}function LS(t=In()){return/iemobile/i.test(t)}function OS(t=In()){return/android/i.test(t)}function FS(t=In()){return/blackberry/i.test(t)}function BS(t=In()){return/webos/i.test(t)}function jy(t=In()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function k6(t=In()){var e;return jy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function D6(){return M4()&&document.documentMode===10}function zS(t=In()){return jy(t)||OS(t)||BS(t)||FS(t)||/windows phone/i.test(t)||LS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(t,e=[]){let n;switch(t){case"Browser":n=H1(In());break;case"Worker":n=`${H1(In())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((s,l)=>{try{const c=e(i);s(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6(t,e={}){return Is(t,"GET","/v2/passwordPolicy",Ns(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6=6;class M6{constructor(e){var n,r,a,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:j6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,a,i,s,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(a=c.containsLowercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q1(this),this.idTokenSubscription=new Q1(this),this.beforeStateQueue=new R6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ei(n)),this._initializationPromise=this.queue(async()=>{var r,a;if(!this._deleted&&(this.persistenceManager=await zl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kS(this,{idToken:e}),r=await Za._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ha(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=a==null?void 0:a._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&(c!=null&&c.user)&&(a=c.user,i=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(a)}catch(s){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=m6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ha(this.app))return Promise.reject(ai(this));const n=e?fn(e):null;return n&&Je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ha(this.app)?Promise.reject(ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ha(this.app)?Promise.reject(ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await P6(this),n=new M6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await T6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ei(e)||this._popupRedirectResolver;Je(n,this,"argument-error"),this.redirectPersistenceManager=await zl.create(this,[ei(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Je(l,this,"internal-error"),l.then(()=>{s||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,a);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&u6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ss(t){return fn(t)}class Q1{constructor(e){this.auth=e,this.observer=null,this.addObserver=V4(n=>this.observer=n)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function O6(t){_m=t}function US(t){return _m.loadJS(t)}function F6(){return _m.recaptchaEnterpriseScript}function B6(){return _m.gapiScript}function z6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const V6="recaptcha-enterprise",U6="NO_RECAPTCHA";class G6{constructor(e){this.type=V6,this.auth=Ss(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(s,l)=>{b6(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new v6(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,s(d.siteKey)}}).catch(c=>{l(c)})})}function a(i,s,l){const c=window.grecaptcha;G1(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{s(d)}).catch(()=>{s(U6)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,s)=>{r(this.auth).then(l=>{if(!n&&G1(window.grecaptcha))a(l,i,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=F6();c.length!==0&&(c+=l),US(c).then(()=>{a(l,i,s)}).catch(d=>{s(d)})}}).catch(l=>{s(l)})})}}async function X1(t,e,n,r=!1){const a=new G6(t);let i;try{i=await a.verify(n)}catch{i=await a.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:i}):Object.assign(s,{captchaResponse:i}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function AA(t,e,n,r){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await X1(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await X1(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(t,e){const n=Vx(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),i=n.getOptions();if(ap(i,e??{}))return a;aa(a,"already-initialized")}return n.initialize({options:e})}function $6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ei);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function q6(t,e,n){const r=Ss(t);Je(r._canInitEmulator,r,"emulator-config-failed"),Je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,i=GS(e),{host:s,port:l}=H6(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})}),Q6()}function GS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function H6(t){const e=GS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const i=a[1];return{host:i,port:K1(r.substr(i.length+1))}}else{const[i,s]=r.split(":");return{host:i,port:K1(s)}}}function K1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Q6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ja("not implemented")}_getIdTokenResponse(e){return Ja("not implemented")}_linkToIdToken(e,n){return Ja("not implemented")}_getReauthenticationResolver(e){return Ja("not implemented")}}async function X6(t,e){return Is(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K6(t,e){return Hu(t,"POST","/v1/accounts:signInWithPassword",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y6(t,e){return Hu(t,"POST","/v1/accounts:signInWithEmailLink",Ns(t,e))}async function J6(t,e){return Hu(t,"POST","/v1/accounts:signInWithEmailLink",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends My{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Au(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Au(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return AA(e,n,"signInWithPassword",K6);case"emailLink":return Y6(e,{email:this._email,oobCode:this._password});default:aa(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return AA(e,r,"signUpPassword",X6);case"emailLink":return J6(e,{idToken:n,email:this._email,oobCode:this._password});default:aa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(t,e){return Hu(t,"POST","/v1/accounts:signInWithIdp",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6="http://localhost";class To extends My{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new To(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):aa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=n,i=Ty(n,["providerId","signInMethod"]);if(!r||!a)return null;const s=new To(r,a);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Vl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vl(e,n)}buildRequest(){const e={requestUri:Z6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ju(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tB(t){const e=ed(td(t)).link,n=e?ed(td(e)).deep_link_id:null,r=ed(td(t)).deep_link_id;return(r?ed(td(r)).link:null)||r||n||e||t}class Ly{constructor(e){var n,r,a,i,s,l;const c=ed(td(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,h=eB((a=c.mode)!==null&&a!==void 0?a:null);Je(d&&u&&h,"argument-error"),this.apiKey=d,this.operation=h,this.code=u,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=tB(e);try{return new Ly(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this.providerId=Nc.PROVIDER_ID}static credential(e,n){return Au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ly.parseLink(n);return Je(r,"argument-error"),Au._fromEmailAndCode(e,r.code,r.tenantId)}}Nc.PROVIDER_ID="password";Nc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends Oy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Qu{constructor(){super("facebook.com")}static credential(e){return To._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends Qu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return To._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qa.credentialFromTaggedObject(e)}static credentialFromError(e){return qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qa.credential(n,r)}catch{return null}}}qa.GOOGLE_SIGN_IN_METHOD="google.com";qa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Qu{constructor(){super("github.com")}static credential(e){return To._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.GITHUB_SIGN_IN_METHOD="github.com";Wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Qu{constructor(){super("twitter.com")}static credential(e,n){return To._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $i.credential(n,r)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nB(t,e){return Hu(t,"POST","/v1/accounts:signUp",Ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const i=await Za._fromIdTokenResponse(e,r,a),s=Y1(r);return new ko({user:i,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=Y1(r);return new ko({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function Y1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp extends fi{constructor(e,n,r,a){var i;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,bp.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new bp(e,n,r,a)}}function WS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?bp._fromErrorAndOperation(t,i,e,r):i})}async function rB(t,e,n=!1){const r=await gu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ko._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aB(t,e,n=!1){const{auth:r}=t;if(ha(r.app))return Promise.reject(ai(r));const a="reauthenticate";try{const i=await gu(t,WS(r,a,e,t),n);Je(i.idToken,r,"internal-error");const s=Py(i.idToken);Je(s,r,"internal-error");const{sub:l}=s;return Je(t.uid===l,r,"user-mismatch"),ko._forOperation(t,a,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&aa(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $S(t,e,n=!1){if(ha(t.app))return Promise.reject(ai(t));const r="signIn",a=await WS(t,r,e),i=await ko._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(i.user),i}async function iB(t,e){return $S(Ss(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qS(t){const e=Ss(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sB(t,e,n){if(ha(t.app))return Promise.reject(ai(t));const r=Ss(t),s=await AA(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nB).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&qS(t),c}),l=await ko._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(l.user),l}function oB(t,e,n){return ha(t.app)?Promise.reject(ai(t)):iB(fn(t),Nc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&qS(t),r})}function lB(t,e,n,r){return fn(t).onIdTokenChanged(e,n,r)}function cB(t,e,n){return fn(t).beforeAuthStateChanged(e,n)}function dB(t,e,n,r){return fn(t).onAuthStateChanged(e,n,r)}function uB(t){return fn(t).signOut()}const wp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wp,"1"),this.storage.removeItem(wp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB=1e3,fB=10;class QS extends HS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},i=this.storage.getItem(r);D6()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,fB):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},hB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}QS.type="LOCAL";const pB=QS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS extends HS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}XS.type="SESSION";const KS=XS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Cm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:i}=n.data,s=this.handlersMap[a];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const l=Array.from(s).map(async d=>d(n.origin,i)),c=await mB(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let i,s;return new Promise((l,c)=>{const d=Fy("",20);a.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:a,onMessage(h){const p=h;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(p.data.response);break;default:clearTimeout(u),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(s),a.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[a.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(){return window}function AB(t){Da().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(){return typeof Da().WorkerGlobalScope<"u"&&typeof Da().importScripts=="function"}async function xB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function vB(){return YS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="firebaseLocalStorageDb",bB=1,_p="firebaseLocalStorage",ZS="fbase_key";class Xu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Em(t,e){return t.transaction([_p],e?"readwrite":"readonly").objectStore(_p)}function wB(){const t=indexedDB.deleteDatabase(JS);return new Xu(t).toPromise()}function xA(){const t=indexedDB.open(JS,bB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_p,{keyPath:ZS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_p)?e(r):(r.close(),await wB(),e(await xA()))})})}async function J1(t,e,n){const r=Em(t,!0).put({[ZS]:e,value:n});return new Xu(r).toPromise()}async function _B(t,e){const n=Em(t,!1).get(e),r=await new Xu(n).toPromise();return r===void 0?null:r.value}function Z1(t,e){const n=Em(t,!0).delete(e);return new Xu(n).toPromise()}const CB=800,EB=3;class eT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xA(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>EB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cm._getInstance(vB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await xB(),!this.activeServiceWorker)return;this.sender=new gB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xA();return await J1(e,wp,"1"),await Z1(e,wp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>J1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_B(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Z1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const i=Em(a,!1).getAll();return new Xu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:i}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(i)&&(this.notifyListeners(a,i),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eT.type="LOCAL";const NB=eT;new qu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t,e){return e?ei(e):(Je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By extends My{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IB(t){return $S(t.auth,new By(t),t.bypassAuthState)}function SB(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),aB(n,new By(t),t.bypassAuthState)}async function TB(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),rB(n,new By(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n,r,a,i=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:i,error:s,type:l}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IB;case"linkViaPopup":case"linkViaRedirect":return TB;case"reauthViaPopup":case"reauthViaRedirect":return SB;default:aa(this.auth,"internal-error")}}resolve(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=new qu(2e3,1e4);async function DB(t,e,n){if(ha(t.app))return Promise.reject(ga(t,"operation-not-supported-in-this-environment"));const r=Ss(t);h6(t,e,Oy);const a=tT(r,n);return new to(r,"signInViaPopup",e,a).executeNotNull()}class to extends nT{constructor(e,n,r,a,i){super(e,n,a,i),this.provider=r,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Je(e,this.auth,"internal-error"),e}async onExecution(){ui(this.filter.length===1,"Popup operations only handle one event");const e=Fy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ga(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ga(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ga(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kB.get())};e()}}to.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB="pendingRedirect",hf=new Map;class PB extends nT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=hf.get(this.auth._key());if(!e){try{const r=await jB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}hf.set(this.auth._key(),e)}return this.bypassAuthState||hf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jB(t,e){const n=OB(e),r=LB(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function MB(t,e){hf.set(t._key(),e)}function LB(t){return ei(t._redirectPersistence)}function OB(t){return uf(RB,t.config.apiKey,t.name)}async function FB(t,e,n=!1){if(ha(t.app))return Promise.reject(ai(t));const r=Ss(t),a=tT(r,e),s=await new PB(r,a,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB=10*60*1e3;class zB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!rT(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ga(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BB&&this.cachedEventUids.clear(),this.cachedEventUids.has(e_(e))}saveEventToCache(e){this.cachedEventUids.add(e_(e)),this.lastProcessedEventTime=Date.now()}}function e_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function VB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UB(t,e={}){return Is(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WB=/^https?/;async function $B(t){if(t.config.emulator)return;const{authorizedDomains:e}=await UB(t);for(const n of e)try{if(qB(n))return}catch{}aa(t,"unauthorized-domain")}function qB(t){const e=mA(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!WB.test(n))return!1;if(GB.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB=new qu(3e4,6e4);function t_(){const t=Da().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QB(t){return new Promise((e,n)=>{var r,a,i;function s(){t_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{t_(),n(ga(t,"network-request-failed"))},timeout:HB.get()})}if(!((a=(r=Da().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((i=Da().gapi)===null||i===void 0)&&i.load)s();else{const l=z6("iframefcb");return Da()[l]=()=>{gapi.load?s():n(ga(t,"network-request-failed"))},US(`${B6()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw ff=null,e})}let ff=null;function XB(t){return ff=ff||QB(t),ff}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB=new qu(5e3,15e3),YB="__/auth/iframe",JB="emulator/auth/iframe",ZB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ez=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tz(t){const e=t.config;Je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ry(e,JB):`https://${t.config.authDomain}/${YB}`,r={apiKey:e.apiKey,appName:t.name,v:xc},a=ez.get(t.config.apiHost);a&&(r.eid=a);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ju(r).slice(1)}`}async function nz(t){const e=await XB(t),n=Da().gapi;return Je(n,t,"internal-error"),e.open({where:document.body,url:tz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZB,dontclear:!0},r=>new Promise(async(a,i)=>{await r.restyle({setHideOnLeave:!1});const s=ga(t,"network-request-failed"),l=Da().setTimeout(()=>{i(s)},KB.get());function c(){Da().clearTimeout(l),a(r)}r.ping(c).then(c,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},az=500,iz=600,sz="_blank",oz="http://localhost";class n_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lz(t,e,n,r=az,a=iz){const i=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},rz),{width:r.toString(),height:a.toString(),top:i,left:s}),d=In().toLowerCase();n&&(l=MS(d)?sz:n),PS(d)&&(e=e||oz,c.scrollbars="yes");const u=Object.entries(c).reduce((p,[m,g])=>`${p}${m}=${g},`,"");if(k6(d)&&l!=="_self")return cz(e||"",l),new n_(null);const h=window.open(e||"",l,u);Je(h,t,"popup-blocked");try{h.focus()}catch{}return new n_(h)}function cz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz="__/auth/handler",uz="emulator/auth/handler",hz=encodeURIComponent("fac");async function r_(t,e,n,r,a,i){Je(t.config.authDomain,t,"auth-domain-config-required"),Je(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xc,eventId:a};if(e instanceof Oy){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",z4(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))s[u]=h}if(e instanceof Qu){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const c=await t._getAppCheckToken(),d=c?`#${hz}=${encodeURIComponent(c)}`:"";return`${fz(t)}?${ju(l).slice(1)}${d}`}function fz({config:t}){return t.emulator?Ry(t,uz):`https://${t.authDomain}/${dz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="webStorageSupport";class pz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KS,this._completeRedirectFn=FB,this._overrideRedirectResult=MB}async _openPopup(e,n,r,a){var i;ui((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const s=await r_(e,n,r,mA(),a);return lz(e,s,Fy())}async _openRedirect(e,n,r,a){await this._originValidation(e);const i=await r_(e,n,r,mA(),a);return AB(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:i}=this.eventManagers[n];return a?Promise.resolve(a):(ui(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nz(e),r=new zB(e);return n.register("authEvent",a=>(Je(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ig,{type:Ig},a=>{var i;const s=(i=a==null?void 0:a[0])===null||i===void 0?void 0:i[Ig];s!==void 0&&n(!!s),aa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$B(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zS()||jS()||jy()}}const mz=pz;var a_="@firebase/auth",i_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Az(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xz(t){Zl(new bo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=r.options;Je(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VS(t)},d=new L6(r,a,i,c);return $6(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Zl(new bo("auth-internal",e=>{const n=Ss(e.getProvider("auth").getImmediate());return(r=>new gz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),os(a_,i_,Az(t)),os(a_,i_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz=5*60,vz=uN("authIdTokenMaxAge")||yz;let s_=null;const bz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vz)return;const a=n==null?void 0:n.token;s_!==a&&(s_=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function wz(t=AN()){const e=Vx(t,"auth");if(e.isInitialized())return e.getImmediate();const n=W6(t,{popupRedirectResolver:mz,persistence:[NB,pB,KS]}),r=uN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const s=bz(i.toString());cB(n,s,()=>s(n.currentUser)),lB(n,l=>s(l))}}const a=cN("auth");return a&&q6(n,`http://${a}`),n}function _z(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}O6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const i=ga("internal-error");i.customData=a,n(i)},r.type="text/javascript",r.charset="UTF-8",_z().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xz("Browser");const Cz={apiKey:"AIzaSyDbqP5rpbIHRRghF3GgzgWXaKz3Scjo2fs",authDomain:"project-9d27e.firebaseapp.com",projectId:"project-9d27e",storageBucket:"project-9d27e.firebasestorage.app",messagingSenderId:"597870661336",appId:"1:597870661336:web:8b01fca47052e0d0a491ad"},aT=gN(Cz),ot=lS(aT),Hc=wz(aT);dS(ot).catch(t=>{console.warn("Firestore persistence error:",t.code)});const Ps="projects",Va="tasks",Yo="resources",js="clients",Wr=t=>{if(t==null||t instanceof Date)return t;if(Array.isArray(t))return t.map(e=>Wr(e)).filter(e=>e!==void 0);if(typeof t=="object"){const e={};return Object.keys(t).forEach(n=>{const r=t[n];r!==void 0&&(e[n]=Wr(r))}),e}return t},Cp=t=>{const e=new Date(t);for(;;){const n=e.getDay();if(!(n===6||n===0)&&!fc(e))break;e.setDate(e.getDate()+1)}return e},Ez=(t,e)=>{const n=Math.ceil(e/864e5);let r=new Date(t),a=0;for(;a<n;){r.setDate(r.getDate()+1);const i=r.getDay();!(i===0||i===6)&&!fc(r)&&a++}return n===0&&e>0,r},lt={subscribeClients:(t,e,n)=>{let r=bn(ot,js);return n!=="master"&&e&&(r=Li(bn(ot,js),ll("ownerId","==",e))),wl(r,a=>{const i=a.docs.map(s=>{var c;const l=s.data();return{...l,id:s.id,createdAt:(c=l.createdAt)!=null&&c.toDate?l.createdAt.toDate():l.createdAt?new Date(l.createdAt):void 0}});t(i)})},createClient:async t=>ki(bn(ot,js),Wr(t)),updateClient:async(t,e)=>{const n=wn(ot,js,t);return Ui(n,Wr(e))},deleteClient:async t=>od(wn(ot,js,t)),subscribeProjects:(t,e,n)=>{let r=bn(ot,Ps);return n!=="master"&&e&&(r=Li(bn(ot,Ps),ll("ownerId","==",e))),wl(r,a=>{const i=a.docs.map(s=>{var c,d;const l=s.data();return{...l,id:s.id,startDate:(c=l.startDate)!=null&&c.toDate?l.startDate.toDate():l.startDate?new Date(l.startDate):new Date,createdAt:(d=l.createdAt)!=null&&d.toDate?l.createdAt.toDate():l.createdAt?new Date(l.createdAt):new Date}});t(i)})},createProject:async t=>ki(bn(ot,Ps),Wr(t)),updateProject:async(t,e)=>{const n=wn(ot,Ps,t);return Ui(n,Wr(e))},deleteProject:async t=>od(wn(ot,Ps,t)),subscribeTasks:(t,e)=>{const n=Li(bn(ot,Va),ll("projectId","==",t));return wl(n,r=>{const a=r.docs.map(i=>{var l,c;const s=i.data();return{id:i.id,...s,start:(l=s.start)!=null&&l.toDate?s.start.toDate():new Date(s.start),end:(c=s.end)!=null&&c.toDate?s.end.toDate():new Date(s.end),realStart:s.realStart?s.realStart.toDate?s.realStart.toDate():new Date(s.realStart):void 0,realEnd:s.realEnd?s.realEnd.toDate?s.realEnd.toDate():new Date(s.realEnd):void 0}});a.sort((i,s)=>(i.order??0)-(s.order??0)),e(a)})},addTask:async t=>{const e=Wr(t);if(e.id){const n=wn(ot,Va,e.id);return await xp(n,e),n}else return ki(bn(ot,Va),e)},updateTask:async(t,e)=>{const n=wn(ot,Va,t);return Ui(n,Wr(e))},deleteTask:async t=>od(wn(ot,Va,t)),deleteAllTasksForProject:async t=>{const e=Li(bn(ot,Va),ll("projectId","==",t)),n=await sd(e),r=ld(ot);return n.docs.forEach(a=>{r.delete(a.ref)}),r.commit()},batchUpdateTasks:async t=>{const e=ld(ot);return t.forEach(({id:n,data:r})=>{const a=wn(ot,Va,n);e.set(a,Wr(r),{merge:!0})}),e.commit()},replaceProjectTasks:async(t,e)=>{const n=Li(bn(ot,Va),ll("projectId","==",t)),r=await sd(n),a=[];for(let c=0;c<r.docs.length;c+=400){const d=ld(ot);r.docs.slice(c,c+400).forEach(u=>d.delete(u.ref)),a.push(d.commit())}await Promise.all(a);const i=[];for(let c=0;c<e.length;c+=400)i.push(e.slice(c,c+400));let s=null,l=null;for(const c of i){const d=ld(ot);c.forEach(u=>{const h=wn(ot,Va,u.id),p={...u,projectId:t};if(d.set(h,Wr(p)),u.type!=="project"&&u.start&&u.end){const m=new Date(u.start),g=new Date(u.end);(!s||m<s)&&(s=m),(!l||g>l)&&(l=g)}}),await d.commit()}if(s&&l){const c=wn(ot,Ps,t);await Ui(c,{startDate:s,endDate:l})}},recalculateProjectSchedule:async(t,e)=>{const n=new Map;e.forEach(i=>n.set(i.id,{...i}));let r=!1;const a=[];for(let i=0;i<e.length+2;i++){let s=!1;for(const l of e){const c=n.get(l.id);if(!c.dependencies||c.dependencies.length===0)continue;let d=0;if(c.dependencies.forEach(u=>{const h=n.get(u);if(h&&h.end){const p=new Date(h.end).getTime();p>d&&(d=p)}}),d>0){const u=new Date(c.start).getTime(),h=new Date(c.end).getTime(),p=new Date(d),m=Cp(p),g=new Date(u),A=g.getDay()===0||g.getDay()===6;if(u<m.getTime()||A){const v=u<m.getTime()?m:Cp(g),x=h-u,y=Ez(v,x);c.start=v,c.end=y,n.set(c.id,c),s=!0,r=!0}}}if(!s)break}return r&&(e.forEach(i=>{const s=n.get(i.id);(new Date(s.start).getTime()!==new Date(i.start).getTime()||new Date(s.end).getTime()!==new Date(i.end).getTime())&&a.push({id:s.id,data:{start:s.start,end:s.end}})}),a.length>0)?(console.log(`Rescheduling (WorkDays): Updating ${a.length} tasks.`),await lt.batchUpdateTasks(a),a):[]},subscribeResources:t=>wl(bn(ot,Yo),e=>{const n=e.docs.map(r=>({id:r.id,...r.data()}));t(n)}),addResource:async t=>ki(bn(ot,Yo),Wr(t)),updateResource:async(t,e)=>{const n=wn(ot,Yo,t);return Ui(n,Wr(e))},deleteResource:async t=>od(wn(ot,Yo,t)),seedInitialData:async()=>{if(!(await sd(bn(ot,Yo))).empty)return;const e=[{name:"Ana Silva",role:"Product Owner",hourlyRate:150,avatarUrl:""},{name:"Carlos Dev",role:"FullStack Dev",hourlyRate:100,avatarUrl:""},{name:"Marina UI",role:"Designer",hourlyRate:110,avatarUrl:""}],n=[];for(const a of e){const i=await ki(bn(ot,Yo),a);n.push({...a,id:i.id})}const r=await ki(bn(ot,Ps),{name:"Plataforma SaaS v1",description:"Desenvolvimento do MVP",startDate:new Date,createdAt:new Date});r.id,new Date(Date.now()+864e5*2),r.id,new Date(Date.now()+864e5*5),n[2].id},addKnowledgeEntry:async(t,e)=>{const n=bn(ot,js,t,"knowledgeBase");return ki(n,{content:e,createdAt:new Date})},getKnowledgeBase:async t=>{const e=bn(ot,js,t,"knowledgeBase"),n=Li(e);return(await sd(n)).docs.map(a=>a.data().content)}},Nz=({resources:t,isConnected:e})=>{const[n,r]=L.useState({name:"",role:"",hourlyRate:0}),[a,i]=L.useState(!1),[s,l]=L.useState(null),[c,d]=L.useState({name:"",role:"",hourlyRate:0}),u=A=>{l(A.id),d({name:A.name,role:A.role,hourlyRate:A.hourlyRate})},h=()=>{l(null),d({name:"",role:"",hourlyRate:0})},p=async()=>{if(s)try{await lt.updateResource(s,c),l(null)}catch(A){console.error("Error updating resource:",A)}},m=async A=>{if(A.preventDefault(),!e){alert("Conecte-se ao Firebase para gerenciar membros da equipe.");return}if(n.name)try{await lt.addResource(n),r({name:"",role:"",hourlyRate:0}),i(!1)}catch(v){console.error("Error adding resource:",v)}},g=async A=>{e&&confirm("Excluir este membro da equipe? As tarefas atribudas a ele permanecero, mas perdero o vnculo de atribuio.")&&await lt.deleteResource(A)};return o.jsxs("div",{className:"w-full max-w-5xl mx-auto animate-in fade-in duration-300",children:[o.jsx("div",{className:"flex items-center justify-between mb-8",children:o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[o.jsx(vo,{className:"text-indigo-600",size:28}),"Gesto da Equipe"]}),o.jsx("p",{className:"text-gray-500 mt-1",children:"Adicione ou remova membros do projeto e gerencie seus custos."})]})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsxs("div",{className:"grid grid-cols-12 gap-4 p-4 bg-gray-50 border-b border-gray-200 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:[o.jsx("div",{className:"col-span-5 pl-2",children:"Membro"}),o.jsx("div",{className:"col-span-4",children:"Funo"}),o.jsx("div",{className:"col-span-2",children:"Taxa/Hora"}),o.jsx("div",{className:"col-span-1 text-right",children:"Aes"})]}),o.jsxs("div",{className:"divide-y divide-gray-100",children:[t.map(A=>o.jsx("div",{className:"grid grid-cols-12 gap-4 p-4 items-center hover:bg-gray-50 transition-colors group",children:s===A.id?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center shrink-0",children:o.jsx(Yf,{size:20,className:"text-gray-400"})}),o.jsx("input",{autoFocus:!0,className:"w-full px-2 py-1 border border-indigo-300 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500",value:c.name,onChange:v=>d({...c,name:v.target.value})})]}),o.jsx("div",{className:"col-span-4",children:o.jsx("input",{className:"w-full px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm",value:c.role,onChange:v=>d({...c,role:v.target.value}),placeholder:"Funo"})}),o.jsxs("div",{className:"col-span-2 relative",children:[o.jsx(ma,{size:14,className:"absolute left-2 top-2 text-gray-400"}),o.jsx("input",{type:"number",className:"w-full pl-6 pr-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm",value:c.hourlyRate,onChange:v=>d({...c,hourlyRate:parseFloat(v.target.value)})})]}),o.jsxs("div",{className:"col-span-1 text-right flex items-center justify-end gap-1",children:[o.jsx("button",{onClick:p,className:"p-1 text-green-600 hover:bg-green-50 rounded",children:o.jsx(Tu,{size:18})}),o.jsx("button",{onClick:h,className:"p-1 text-red-500 hover:bg-red-50 rounded",children:o.jsx(yr,{size:18})})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"col-span-5 flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-bold shrink-0",children:A.name.charAt(0).toUpperCase()}),o.jsx("span",{className:"font-medium text-gray-900",children:A.name})]}),o.jsxs("div",{className:"col-span-4 text-gray-600 flex items-center gap-2",children:[o.jsx(nw,{size:14,className:"text-gray-400"}),A.role]}),o.jsxs("div",{className:"col-span-2 text-green-600 font-medium flex items-center gap-1",children:[o.jsx(ma,{size:14}),A.hourlyRate,"/h"]}),o.jsxs("div",{className:"col-span-1 text-right flex items-center justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:()=>u(A),className:"text-gray-400 hover:text-indigo-600 p-2 transition-colors",title:"Editar",disabled:!e,children:o.jsx(eu,{size:18})}),o.jsx("button",{onClick:()=>g(A.id),className:"text-gray-400 hover:text-red-500 p-2 transition-colors",title:"Remover",disabled:!e,children:o.jsx($n,{size:18})})]})]})},A.id)),t.length===0&&o.jsx("div",{className:"text-center py-12 text-gray-400",children:"Nenhum membro da equipe encontrado."})]})]}),o.jsx("div",{className:"mt-8",children:a?o.jsxs("form",{onSubmit:m,className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm animate-in slide-in-from-top-2",children:[o.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2",children:[o.jsx(Mn,{className:"text-indigo-600",size:20}),"Adicionar Novo Membro"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Nome"}),o.jsxs("div",{className:"relative",children:[o.jsx(Yf,{className:"absolute left-3 top-2.5 text-gray-400",size:16}),o.jsx("input",{type:"text",placeholder:"Nome do Membro",className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:outline-none",value:n.name,onChange:A=>r({...n,name:A.target.value}),required:!0})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Funo"}),o.jsxs("div",{className:"relative",children:[o.jsx(nw,{className:"absolute left-3 top-2.5 text-gray-400",size:16}),o.jsx("input",{type:"text",placeholder:"ex: Desenvolvedor Snior",className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:border-indigo-500",value:n.role,onChange:A=>r({...n,role:A.target.value})})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Taxa/Hora"}),o.jsxs("div",{className:"relative",children:[o.jsx(ma,{className:"absolute left-3 top-2.5 text-gray-400",size:16}),o.jsx("input",{type:"number",placeholder:"0.00",className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:border-indigo-500",value:n.hourlyRate,onChange:A=>r({...n,hourlyRate:parseFloat(A.target.value)})})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6 border-t border-gray-100 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 font-medium",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"px-6 py-2 text-sm bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 shadow-md transform hover:scale-105 transition-all font-medium",children:"Adicionar Membro"})]})]}):o.jsxs("button",{onClick:()=>i(!0),disabled:!e,className:"group w-full py-4 border-2 border-dashed border-gray-300 rounded-xl text-gray-500 hover:border-indigo-500 hover:text-indigo-600 hover:bg-indigo-50 transition-all flex items-center justify-center gap-2 font-medium disabled:opacity-50 disabled:cursor-not-allowed bg-white",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 group-hover:bg-indigo-100 flex items-center justify-center transition-colors",children:o.jsx(Mn,{size:18})}),e?"Adicionar Novo Membro da Equipe":"Conecte ao Banco para Adicionar"]})})]})},Iz=({project:t,tasks:e,onUpdateTeam:n})=>{const[r,a]=L.useState([]),[i,s]=L.useState([250,100,400,150,150,60]),[l,c]=L.useState(null),d=ue.useRef(0),u=ue.useRef(0);L.useEffect(()=>{const I=_=>{if(l!==null){const N=_.clientX-d.current;s(E=>{const k=[...E];return k[l]=Math.max(50,u.current+N),k})}},R=()=>{c(null),document.body.style.cursor="default"};return l!==null&&(document.addEventListener("mousemove",I),document.addEventListener("mouseup",R),document.body.style.cursor="col-resize"),()=>{document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",R),document.body.style.cursor="default"}},[l]);const h=(I,R)=>{R.preventDefault(),c(I),d.current=R.clientX,u.current=i[I]};L.useEffect(()=>{t.teamStructure?a(t.teamStructure):a([])},[t.teamStructure]);const p=(I,R)=>{const _=parseFloat(R),N=[...r];N[I]={...N[I],hourlyRate:isNaN(_)?0:_},a(N)},m=(I,R)=>{const _=[...r];_[I]={..._[I],role:R},a(_)},g=(I,R)=>{const _=[...r];_[I]={..._[I],responsibilities:R.split(",")},a(_)},A=()=>{a([...r,{role:"Novo Papel",responsibilities:[],hourlyRate:0,quantity:1}])},v=I=>{if(confirm("Remover este papel da equipe?")){const R=[...r];R.splice(I,1),a(R)}},x=()=>{const I=r.map(R=>({...R,responsibilities:R.responsibilities.map(_=>_.trim()).filter(Boolean)}));a(I),n(I),alert(`Dados salvos! (${I.length} papis). Agora os valores sero aplicados ao selecionar o papel na tarefa.`)},y=I=>{const R=e.filter(N=>N.assignedResource===I);let _=0;return R.forEach(N=>{const E=Jr(N.start,N.end);_+=E*8}),{totalHours:_,count:R.length}},w=r.length>0?r.reduce((I,R)=>{const{totalHours:_}=y(R.role);return I+_*(R.hourlyRate||0)},0):0,T=r.length>0?r.reduce((I,R)=>I+y(R.role).totalHours,0):0;return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden animate-in fade-in duration-300",children:[o.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(vo,{className:"text-indigo-600",size:20}),"Estrutura de Equipe & Custos"]}),o.jsxs("p",{className:"text-sm text-gray-500 flex gap-4 mt-1",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(yo,{size:12})," ",T,"h Totais"]}),o.jsxs("span",{className:"flex items-center gap-1 font-semibold text-indigo-700 bg-indigo-50 px-2 py-0.5 rounded",children:[o.jsx(ma,{size:12})," Custo Estimado: R$ ",w.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),o.jsxs("button",{onClick:x,className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg font-medium transition-colors shadow-sm",children:[o.jsx(Tu,{size:16}),"Salvar Alteraes"]})]}),r.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-gray-500",children:[o.jsx(vo,{size:48,className:"mb-4 text-gray-300"}),o.jsx("p",{children:"Nenhuma estrutura de equipe definida."}),o.jsxs("button",{onClick:A,className:"mt-4 flex items-center gap-2 text-indigo-600 font-medium hover:bg-indigo-50 px-3 py-2 rounded-lg transition-colors",children:[o.jsx(Mn,{size:16})," Adicionar Primeiro Papel manualmente"]})]}):o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full text-left border-collapse table-fixed",children:[o.jsx("thead",{children:o.jsx("tr",{className:"bg-gray-50 text-gray-500 text-xs uppercase tracking-wider border-b border-gray-200",children:["Profissional / Papel","Horas Totais","Responsabilidades (separar por vrgula)","Taxa / Hora","Custo Total",""].map((I,R)=>o.jsx("th",{className:"p-4 font-semibold relative group select-none",style:{width:i[R]},children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{children:I}),R<5&&o.jsx("div",{className:"w-1 h-4 bg-gray-300 cursor-col-resize hover:bg-indigo-500 rounded opacity-0 group-hover:opacity-100 transition-opacity absolute right-0",onMouseDown:_=>h(R,_)})]})},R))})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:r.map((I,R)=>{const{totalHours:_}=y(I.role),N=_*(I.hourlyRate||0);return o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[o.jsx("td",{className:"p-4 font-medium text-indigo-900",children:o.jsx("input",{type:"text",value:I.role,onChange:E=>m(R,E.target.value),className:"w-full border-none bg-transparent hover:bg-white focus:bg-white focus:ring-2 focus:ring-indigo-500 rounded px-2 py-1 transition-all outline-none"})}),o.jsx("td",{className:"p-4 text-center text-gray-700 font-mono text-sm",children:o.jsxs("div",{className:"bg-gray-100 py-1 px-2 rounded",children:[_,"h"]})}),o.jsx("td",{className:"p-4 border-r border-transparent hover:border-gray-100 overflow-hidden",children:o.jsx("input",{type:"text",value:I.responsibilities.join(","),onChange:E=>g(R,E.target.value),className:"w-full border-none bg-transparent hover:bg-white focus:bg-white focus:ring-2 focus:ring-indigo-500 rounded px-2 py-1 transition-all outline-none text-xs text-gray-600 truncate focus:overflow-visible focus:z-10 focus:absolute focus:w-auto focus:min-w-full focus:shadow-md",placeholder:"Adicionar responsabilidades (separar por vrgula)..."})}),o.jsx("td",{className:"p-4",children:o.jsxs("div",{className:"relative group min-w-[120px]",children:[o.jsx(ma,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-indigo-500 transition-colors pointer-events-none"}),o.jsx("input",{type:"number",value:I.hourlyRate||"",onChange:E=>p(R,E.target.value),placeholder:"0.00",className:"w-full pl-8 pr-3 py-2 border border-gray-200 rounded-lg text-sm text-gray-900 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all outline-none bg-white hover:border-gray-300"})]})}),o.jsxs("td",{className:"p-4 text-right font-medium text-gray-900",children:["R$ ",N.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),o.jsx("td",{className:"p-4 text-center",children:o.jsx("button",{onClick:()=>v(R),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded transition-colors opacity-0 group-hover:opacity-100",title:"Remover Papel",children:o.jsx($n,{size:16})})})]},R)})})]}),o.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50/50",children:o.jsxs("button",{onClick:A,className:"flex items-center gap-2 text-indigo-600 font-medium hover:bg-indigo-100 px-4 py-2 rounded-lg transition-colors text-sm",children:[o.jsx(Mn,{size:16}),"Adicionar Novo Papel"]})})]}),o.jsxs("div",{className:"p-4 bg-gray-50 border-t border-gray-100 text-xs text-center text-gray-500 flex items-center justify-center gap-2",children:[o.jsx(wE,{size:12}),"Clculo baseado em: (Dias teis das Tarefas x 8h) x Taxa Horria."]})]})},Sz=["Licenas","Aereo","Hotel","Alimentao","Gasolina","Horas Extras","Aluguel Notebook"],Si=t=>t?t instanceof Date?t:typeof(t==null?void 0:t.toDate)=="function"?t.toDate():t!=null&&t.seconds?new Date(t.seconds*1e3):new Date(t):new Date,Tz=({project:t,tasks:e})=>{var O;const{startMonth:n,months:r}=L.useMemo(()=>{const z=e.filter(ie=>ie.start&&ie.end);if(!z.length&&!t.start){const ie=Xl(new Date);return{startMonth:ie,months:[ie]}}const G=z.map(ie=>[Si(ie.start),Si(ie.end)]).flat();t.start&&G.push(Si(t.start)),t.end&&G.push(Si(t.end));const Q=G.reduce((ie,oe)=>oe<ie?oe:ie,G[0]||new Date),q=G.reduce((ie,oe)=>oe>ie?oe:ie,G[0]||new Date),ne=Xl(Q),Y=as(q,12),K=[];let ce=ne;for(;ce<=Y;)K.push(ce),ce=as(ce,1);return{startMonth:ne,months:K}},[e,t.start,t.end]),[a,i]=L.useState(t.monthlyCosts||[]),[s,l]=L.useState(t.otherCosts||[]),[c,d]=L.useState(t.revenueDistribution||[]),[u,h]=L.useState(!1),p=()=>{var me,Te;const z=new Map;(me=t.teamStructure)==null||me.forEach(xe=>{xe.hourlyRate&&z.set(xe.role.trim(),xe.hourlyRate)});const G=[],Q=new Set;e.forEach(xe=>{xe.assignedResource&&Q.add(xe.assignedResource.trim())}),(Te=t.teamStructure)==null||Te.forEach(xe=>Q.add(xe.role.trim())),Q.forEach(xe=>{const Ne=e.filter(Ce=>(Ce.assignedResource||"").trim()===xe);r.forEach(Ce=>{let j=0,H=0;Ne.forEach(X=>{if(!X.start||!X.end)return;let F,B;X.progress===100&&X.realStart&&X.realEnd?(F=Si(X.realStart),B=Si(X.realEnd)):(F=Si(X.start),B=Si(X.end));const U=Ce,Z=new Date(as(Ce,1).getTime()-1);if(F<=Z&&B>=U){const W=F>U?F:U,V=B<Z?B:Z,te=Jr(W,V);if(te>0){const J=te*8,re=X.hourlyRate||z.get(xe)||0;j+=J,H+=J*re}}}),j>0&&G.push({id:crypto.randomUUID(),month:Ce.toISOString().slice(0,7),role:xe,hours:j,cost:H})})}),i(G);const q=new Map;let ne=0;r.forEach(xe=>{const Ne=xe.toISOString().slice(0,7),Ce=G.filter(X=>X.month===Ne).reduce((X,F)=>X+F.cost,0),j=s.reduce((X,F)=>X+(F.values[Ne]||0),0),H=Ce+j;q.set(Ne,H),ne+=H});let Y=t.margin||0,K="Margem Planejada";if(t.fixedSnapshot){K="Margem Real";const xe=t.fixedSnapshot,Ce=xe.price*(1-(xe.taxRate||0)/100),j=(xe.deliveryDeviation||0)/100,H=1-j>.001?xe.cost/(1-j)-xe.cost:0,X=t.deliveryDeviation||0,F=xe.deliveryDeviation||1,B=F!==0?X*(H/F):0,U=Ce-H,Z=Ce-B-ne;U>.001?Y=Z/U*100:Y=0}const ce=Y/100,ie=(t.taxRate||0)/100,oe=1-ce,ge=1-ie,je={};r.forEach(xe=>{const Ne=xe.toISOString().slice(0,7),Ce=q.get(Ne)||0;if(Ce>0&&oe>.001){const j=Ce/oe,H=ge>.001?j/ge:j;je[Ne]=H}});const ye={id:crypto.randomUUID(),description:`Receita Sugerida (${K} ${Y.toFixed(1)}%)`,values:je};d([ye]),h(!0)},m=(z,G,Q,q)=>{i(ne=>{var K,ce;const Y=ne.findIndex(ie=>ie.role===z&&ie.month===G);if(Y>=0){const ie=[...ne];if(ie[Y]={...ie[Y],[Q]:q},Q==="hours"){const oe=(K=t.teamStructure)==null?void 0:K.find(ge=>ge.role===z);oe!=null&&oe.hourlyRate&&(ie[Y].cost=q*oe.hourlyRate)}return ie}else{const ie=(ce=t.teamStructure)==null?void 0:ce.find(ge=>ge.role===z),oe={id:crypto.randomUUID(),role:z,month:G,hours:Q==="hours"?q:0,cost:Q==="cost"?q:0};return Q==="hours"&&(ie!=null&&ie.hourlyRate)&&(oe.cost=q*ie.hourlyRate),[...ne,oe]}}),h(!0)},g=()=>{const z={id:crypto.randomUUID(),description:"Novo Custo",type:"",values:{}};l([...s,z]),h(!0)},A=z=>{l(G=>G.filter(Q=>Q.id!==z)),h(!0)},v=(z,G,Q)=>{l(q=>q.map(ne=>ne.id===z?{...ne,[G]:Q}:ne)),h(!0)},x=(z,G,Q)=>{l(q=>q.map(ne=>ne.id===z?{...ne,values:{...ne.values,[G]:Q}}:ne)),h(!0)},y=()=>{const z={id:crypto.randomUUID(),description:"Nova Receita",values:{}};d([...c,z]),h(!0)},w=z=>{d(G=>G.filter(Q=>Q.id!==z)),h(!0)},T=(z,G)=>{d(Q=>Q.map(q=>q.id===z?{...q,description:G}:q)),h(!0)},I=(z,G,Q)=>{d(q=>q.map(ne=>ne.id===z?{...ne,values:{...ne.values,[G]:Q}}:ne)),h(!0)},R=async()=>{await lt.updateProject(t.id,{monthlyCosts:a,otherCosts:s,revenueDistribution:c}),h(!1),alert("Custos e Receita salvos!")},_=Array.from(new Set([...((O=t.teamStructure)==null?void 0:O.map(z=>z.role))||[],...a.map(z=>z.role)])).sort(),N=r.map(z=>{const G=z.toISOString().slice(0,7),Q=a.filter(q=>q.month===G);return{cost:Q.reduce((q,ne)=>q+(ne.cost||0),0),hours:Q.reduce((q,ne)=>q+(ne.hours||0),0)}}),E=N.reduce((z,G)=>z+G.cost,0),k=r.map(z=>{const G=z.toISOString().slice(0,7);return s.reduce((Q,q)=>Q+(q.values[G]||0),0)}),P=k.reduce((z,G)=>z+G,0),C=r.map(z=>{const G=z.toISOString().slice(0,7);return c.reduce((Q,q)=>Q+(q.values[G]||0),0)}),D=C.reduce((z,G)=>z+G,0);r.map((z,G)=>({month:z,total:N[G].cost+k[G]}));const b=E+P;return o.jsxs("div",{className:"flex flex-col h-full bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100 bg-gray-50 flex-shrink-0",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(ma,{className:"text-indigo-600"}),"Declarao Mensal"]}),o.jsx("p",{className:"text-xs text-gray-500",children:"Consolidado de Custos e Distribuio de Receita."})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"text-right mr-4 border-r border-gray-200 pr-6",children:[o.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:"Custo Previsto"}),o.jsx("p",{className:"text-xl font-bold text-red-600",children:b.toLocaleString("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:0})})]}),o.jsxs("div",{className:"text-right mr-4 border-r border-gray-200 pr-6",children:[o.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:"Receita Prevista"}),o.jsx("p",{className:"text-xl font-bold text-emerald-600",children:D.toLocaleString("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:0})})]}),o.jsxs("button",{onClick:p,className:"flex items-center gap-2 text-indigo-600 hover:bg-indigo-50 px-3 py-2 rounded-lg text-sm font-medium transition-colors border border-transparent hover:border-indigo-100",title:"Recalcular Custos e Receita Base",children:[o.jsx(wE,{size:16}),"Calcular Base"]}),u&&o.jsxs("button",{onClick:R,className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm font-bold shadow-sm hover:bg-indigo-700 transition-colors",children:[o.jsx(Tu,{size:16}),"Salvar"]})]})]}),o.jsxs("div",{className:"flex-1 overflow-auto bg-white p-4 space-y-8",children:[o.jsxs("div",{className:"rounded-xl border border-gray-200 overflow-hidden",children:[o.jsxs("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200 flex justify-between items-center",children:[o.jsxs("h4",{className:"text-sm font-bold text-gray-700 uppercase tracking-wider flex items-center gap-2",children:[o.jsx(ma,{size:14})," Custos de Pessoal"]}),o.jsxs("span",{className:"text-xs font-bold text-gray-500",children:["Total: ",(E/1e3).toFixed(1),"k"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border-separate border-spacing-0",children:[o.jsxs("thead",{className:"bg-gray-50",children:[o.jsxs("tr",{children:[o.jsx("th",{rowSpan:2,className:"sticky left-0 bg-gray-50 px-4 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-r w-48 align-bottom",children:"Papel / Recurso"}),r.map(z=>o.jsx("th",{colSpan:3,className:"px-2 py-2 text-center text-xs font-bold text-gray-700 uppercase border-b border-r min-w-[200px] bg-gray-100",children:z.toLocaleDateString("pt-BR",{month:"short",year:"2-digit"})},z.toISOString())),o.jsx("th",{rowSpan:2,className:"px-4 py-3 text-right text-xs font-bold text-gray-900 uppercase border-b border-l bg-gray-50 align-bottom",children:"Total"})]}),o.jsx("tr",{children:r.map(z=>o.jsx(kz,{},z.toISOString()))})]}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-100",children:[_.map(z=>{const G=a.filter(Q=>Q.role===z).reduce((Q,q)=>Q+q.cost,0);return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"sticky left-0 bg-white px-4 py-2 text-sm font-medium text-gray-900 border-r border-gray-100 whitespace-nowrap",children:z}),r.map(Q=>{const q=Q.toISOString().slice(0,7),ne=a.find(ie=>ie.role===z&&ie.month===q),Y=(ne==null?void 0:ne.hours)||0,K=(ne==null?void 0:ne.cost)||0,ce=Y/168;return o.jsx(Dz,{hours:Y,cost:K,fte:ce,onUpdateHours:ie=>m(z,q,"hours",ie),onUpdateCost:ie=>m(z,q,"cost",ie)},q)}),o.jsx("td",{className:"px-4 py-2 text-right text-sm font-bold text-indigo-700 bg-gray-50 border-l border-gray-200",children:G>0?(G/1e3).toFixed(1)+"k":"-"})]},z)}),o.jsxs("tr",{className:"bg-gray-100 font-bold border-t border-gray-300",children:[o.jsx("td",{className:"sticky left-0 bg-gray-100 px-4 py-2 text-xs text-gray-800 border-r border-gray-300 text-right uppercase",children:"Subtotal Pessoal"}),N.map((z,G)=>o.jsx("td",{colSpan:3,className:"px-2 py-2 text-right text-xs text-indigo-800 border-r border-gray-200 bg-indigo-50/30",children:z.cost>0?(z.cost/1e3).toFixed(1)+"k":"-"},G)),o.jsx("td",{className:"px-4 py-2 text-right text-xs text-indigo-800 border-l border-gray-300 bg-indigo-100",children:(E/1e3).toFixed(1)+"k"})]})]})]})})]}),o.jsxs("div",{className:"rounded-xl border border-gray-200 overflow-hidden",children:[o.jsxs("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200 flex justify-between items-center",children:[o.jsxs("h4",{className:"text-sm font-bold text-gray-700 uppercase tracking-wider flex items-center gap-2",children:[o.jsx(tM,{size:14,className:"text-pink-600"})," Outros Custos"]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("span",{className:"text-xs font-bold text-gray-500",children:["Total: ",(P/1e3).toFixed(1),"k"]}),o.jsxs("button",{onClick:g,className:"flex items-center gap-1 text-pink-600 hover:bg-pink-50 px-2 py-1 rounded text-xs font-bold transition-colors border border-transparent hover:border-pink-100",children:[o.jsx(Mn,{size:12})," Add Item"]})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border-separate border-spacing-0",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"sticky left-0 bg-gray-50 px-4 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-r w-48",children:"Descrio"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-r w-32",children:"Tipo"}),r.map(z=>o.jsx("th",{className:"px-2 py-3 text-center text-xs font-bold text-gray-700 uppercase border-b border-r min-w-[100px] bg-gray-100",children:z.toLocaleDateString("pt-BR",{month:"short",year:"2-digit"})},z.toISOString())),o.jsx("th",{className:"px-4 py-3 text-right text-xs font-bold text-gray-900 uppercase border-b border-l bg-gray-50 min-w-[100px]",children:"Total"}),o.jsx("th",{className:"px-2 py-3 border-b bg-gray-50 w-8"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-100",children:[s.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:r.length+4,className:"text-center py-6 text-gray-400 text-xs italic",children:"Nenhum custo adicional."})}),s.map(z=>{const G=Object.values(z.values).reduce((Q,q)=>Q+q,0);return o.jsxs("tr",{className:"hover:bg-gray-50 group",children:[o.jsx("td",{className:"sticky left-0 bg-white group-hover:bg-gray-50 px-2 py-1 border-r border-gray-100 z-10 align-middle",children:o.jsx("input",{type:"text",value:z.description,onChange:Q=>v(z.id,"description",Q.target.value),className:"w-full border-none bg-transparent focus:ring-0 text-xs font-medium text-gray-900 placeholder-gray-400",placeholder:"Descrio..."})}),o.jsx("td",{className:"px-2 py-1 border-r border-gray-100 align-middle bg-white relative",children:o.jsx(Rz,{value:z.type,onChange:Q=>v(z.id,"type",Q)})}),r.map(Q=>{const q=Q.toISOString().slice(0,7),ne=z.values[q]||0;return o.jsx("td",{className:"px-1 py-1 border-r border-gray-100 text-right align-middle",children:o.jsx("input",{type:"number",value:ne>0?ne:"",onChange:Y=>x(z.id,q,parseFloat(Y.target.value)||0),className:"w-full text-right bg-transparent border-none p-1 text-xs focus:ring-1 focus:ring-pink-300 rounded font-mono text-gray-700",placeholder:"-"})},q)}),o.jsx("td",{className:"px-4 py-2 text-right text-xs font-bold text-pink-700 bg-gray-50 border-l border-gray-200 align-middle",children:G>0?(G/1e3).toFixed(1)+"k":"-"}),o.jsx("td",{className:"px-1 text-center align-middle",children:o.jsx("button",{onClick:()=>A(z.id),className:"text-gray-300 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",title:"Remover",children:o.jsx($n,{size:12})})})]},z.id)}),o.jsxs("tr",{className:"bg-gray-100 font-bold border-t border-gray-300",children:[o.jsx("td",{colSpan:2,className:"sticky left-0 bg-gray-100 px-4 py-2 text-xs text-gray-800 border-r border-gray-300 text-right uppercase",children:"Subtotal Outros"}),k.map((z,G)=>o.jsx("td",{className:"px-2 py-2 text-right text-xs text-pink-800 border-r border-gray-200 bg-pink-50/30",children:z>0?(z/1e3).toFixed(1)+"k":"-"},G)),o.jsx("td",{className:"px-4 py-2 text-right text-xs text-pink-800 border-l border-gray-300 bg-pink-100",children:(P/1e3).toFixed(1)+"k"}),o.jsx("td",{})]})]})]})})]}),o.jsxs("div",{className:"rounded-xl border border-gray-200 overflow-hidden",children:[o.jsxs("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200 flex justify-between items-center",children:[o.jsxs("h4",{className:"text-sm font-bold text-gray-700 uppercase tracking-wider flex items-center gap-2",children:[o.jsx(Rx,{size:14,className:"text-emerald-600"})," Distribuio de Receita"]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("span",{className:"text-xs font-bold text-gray-500",children:["Total: ",(D/1e3).toFixed(1),"k"]}),o.jsxs("button",{onClick:y,className:"flex items-center gap-1 text-emerald-600 hover:bg-emerald-50 px-2 py-1 rounded text-xs font-bold transition-colors border border-transparent hover:border-emerald-100",children:[o.jsx(Mn,{size:12})," Add Item"]})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border-separate border-spacing-0",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{colSpan:2,className:"sticky left-0 bg-gray-50 px-4 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-r w-80",children:"Descrio / Referncia"}),r.map(z=>o.jsx("th",{className:"px-2 py-3 text-center text-xs font-bold text-gray-700 uppercase border-b border-r min-w-[100px] bg-gray-100",children:z.toLocaleDateString("pt-BR",{month:"short",year:"2-digit"})},z.toISOString())),o.jsx("th",{className:"px-4 py-3 text-right text-xs font-bold text-gray-900 uppercase border-b border-l bg-gray-50 min-w-[100px]",children:"Total"}),o.jsx("th",{className:"px-2 py-3 border-b bg-gray-50 w-8"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-100",children:[c.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:r.length+4,className:"text-center py-6 text-gray-400 text-xs italic",children:'Nenhuma previso de receita. Clique "Calcular Base" para gerar automaticamente.'})}),c.map(z=>{const G=Object.values(z.values).reduce((Q,q)=>Q+q,0);return o.jsxs("tr",{className:"hover:bg-gray-50 group",children:[o.jsx("td",{colSpan:2,className:"sticky left-0 bg-white group-hover:bg-gray-50 px-2 py-1 border-r border-gray-100 z-10 align-middle",children:o.jsx("input",{type:"text",value:z.description,onChange:Q=>T(z.id,Q.target.value),className:"w-full border-none bg-transparent focus:ring-0 text-xs font-medium text-gray-900 placeholder-gray-400",placeholder:"Descrio..."})}),r.map(Q=>{const q=Q.toISOString().slice(0,7),ne=z.values[q]||0;return o.jsx("td",{className:"px-1 py-1 border-r border-gray-100 text-right align-middle",children:o.jsx("input",{type:"number",value:ne>0?ne:"",onChange:Y=>I(z.id,q,parseFloat(Y.target.value)||0),className:"w-full text-right bg-transparent border-none p-1 text-xs focus:ring-1 focus:ring-emerald-300 rounded font-mono text-gray-700",placeholder:"-"})},q)}),o.jsx("td",{className:"px-4 py-2 text-right text-xs font-bold text-emerald-700 bg-gray-50 border-l border-gray-200 align-middle",children:G>0?(G/1e3).toFixed(1)+"k":"-"}),o.jsx("td",{className:"px-1 text-center align-middle",children:o.jsx("button",{onClick:()=>w(z.id),className:"text-gray-300 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",title:"Remover",children:o.jsx($n,{size:12})})})]},z.id)}),o.jsxs("tr",{className:"bg-gray-100 font-bold border-t border-gray-300",children:[o.jsx("td",{colSpan:2,className:"sticky left-0 bg-gray-100 px-4 py-2 text-xs text-gray-800 border-r border-gray-300 text-right uppercase",children:"Total Receita"}),C.map((z,G)=>o.jsx("td",{className:"px-2 py-2 text-right text-xs text-emerald-800 border-r border-gray-200 bg-emerald-50/30",children:z>0?(z/1e3).toFixed(1)+"k":"-"},G)),o.jsx("td",{className:"px-4 py-2 text-right text-xs text-emerald-800 border-l border-gray-300 bg-emerald-100",children:(D/1e3).toFixed(1)+"k"}),o.jsx("td",{})]})]})]})})]})]})]})},kz=()=>o.jsxs(o.Fragment,{children:[o.jsx("th",{className:"px-1 py-1 text-center text-[10px] font-medium text-gray-500 bg-gray-50 border-b border-r border-t w-16",children:"Horas"}),o.jsx("th",{className:"px-1 py-1 text-center text-[10px] font-medium text-gray-500 bg-gray-50 border-b border-r border-t w-24",children:"Valor"}),o.jsx("th",{className:"px-1 py-1 text-center text-[10px] font-medium text-gray-500 bg-gray-50 border-b border-r border-t w-14",children:"FTE"})]}),Dz=({hours:t,cost:e,fte:n,onUpdateHours:r,onUpdateCost:a})=>o.jsxs(o.Fragment,{children:[o.jsx("td",{className:"px-1 py-1 border-r border-gray-100 text-center text-[11px] font-mono text-gray-600 bg-inherit",children:r.name!==""?o.jsx("input",{type:"number",readOnly:r.name==="",className:"w-full text-center bg-transparent border-none p-0 focus:ring-1 focus:ring-indigo-300 rounded",value:t>0?Math.round(t):"",placeholder:"-",onChange:i=>r(parseFloat(i.target.value)||0)}):o.jsx("span",{children:t>0?Math.round(t):"-"})}),o.jsx("td",{className:"px-1 py-1 border-r border-gray-100 text-right text-[11px] font-mono text-gray-700 bg-inherit",children:a.name!==""?o.jsx("input",{type:"number",className:"w-full text-right bg-transparent border-none p-0 focus:ring-1 focus:ring-indigo-300 rounded",value:e>0?Math.round(e):"",placeholder:"-",onChange:i=>a(parseFloat(i.target.value)||0)}):o.jsx("span",{children:e>0?(e/1e3).toFixed(1)+"k":"-"})}),o.jsx("td",{className:"px-1 py-1 border-r border-gray-200 text-center text-[10px] text-gray-400 bg-inherit font-mono",children:n>0?n.toFixed(1):"-"})]}),Rz=({value:t,onChange:e})=>{const[n,r]=L.useState(!1),[a,i]=L.useState(""),[s,l]=L.useState({top:0,left:0,width:0}),c=L.useRef(null),d=L.useRef(null),u=m=>{if(m.stopPropagation(),c.current){const g=c.current.getBoundingClientRect();l({top:g.bottom+window.scrollY,left:g.left+window.scrollX,width:g.width})}r(!n),i("")},h=m=>{e(m),r(!1)};L.useEffect(()=>{n&&d.current&&d.current.focus()},[n]);const p=Sz.filter(m=>m.toLowerCase().includes(a.toLowerCase()));return o.jsxs(o.Fragment,{children:[o.jsxs("div",{ref:c,onClick:u,className:`flex items-center justify-between w-full px-2 py-1.5 text-xs text-gray-700 bg-white border border-transparent hover:border-gray-300 rounded cursor-pointer transition-all ${!t&&"text-gray-400"}`,children:[o.jsx("span",{className:"truncate",children:t||"Selecione..."}),o.jsx(_s,{size:14,className:"text-gray-400 flex-shrink-0 ml-1"})]}),n&&Js.createPortal(o.jsx("div",{className:"fixed inset-0 z-[9999] flex items-start justify-start",onClick:()=>r(!1),children:o.jsxs("div",{className:"fixed bg-white rounded-lg shadow-xl border border-gray-200 overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-100",style:{top:s.top+4,left:s.left,width:Math.max(s.width,200),maxHeight:"300px"},onClick:m=>m.stopPropagation(),children:[o.jsxs("div",{className:"p-2 border-b border-gray-100 bg-gray-50 flex items-center gap-2",children:[o.jsx(pc,{size:14,className:"text-gray-400"}),o.jsx("input",{ref:d,type:"text",value:a,onChange:m=>i(m.target.value),placeholder:"Buscar tipo...",className:"w-full bg-transparent border-none p-0 text-xs focus:ring-0 text-gray-700 placeholder-gray-400",onKeyDown:m=>{m.key==="Enter"&&p.length>0&&h(p[0])}})]}),o.jsxs("div",{className:"overflow-y-auto max-h-[200px] p-1",children:[p.length===0?o.jsx("div",{className:"px-3 py-2 text-xs text-gray-400 text-center italic",children:"Nenhuma opo encontrada."}):p.map(m=>o.jsx("button",{onClick:()=>h(m),className:`w-full text-left px-3 py-2 text-xs rounded hover:bg-pink-50 hover:text-pink-700 transition-colors ${t===m?"bg-pink-50 text-pink-700 font-medium":"text-gray-700"}`,children:m},m)),a&&!p.includes(a)&&o.jsxs("button",{onClick:()=>h(a),className:"w-full text-left px-3 py-2 text-xs rounded hover:bg-gray-50 text-indigo-600 border-t border-gray-100 mt-1 font-medium italic",children:['Usar "',a,'"']})]})]})}),document.body)]})},iT=({id:t,initialValue:e,placeholder:n,isRich:r=!1,label:a,className:i=""})=>{const[s,l]=L.useState(!1),[c,d]=L.useState(e),[u,h]=L.useState(e);L.useEffect(()=>{const g=localStorage.getItem(`antigravity_text_${t}`);g&&(d(g),h(g))},[t]);const p=()=>{h(c),localStorage.setItem(`antigravity_text_${t}`,c),l(!1)},m=()=>{d(u),l(!1)};return s?o.jsxs("div",{className:`relative bg-white border border-indigo-200 rounded-lg shadow-sm p-4 animate-in fade-in zoom-in-95 duration-200 ${i}`,children:[a&&o.jsx("label",{className:"block text-xs font-bold text-indigo-600 uppercase tracking-wider mb-2",children:a}),r?o.jsx("textarea",{className:"w-full text-gray-800 text-sm p-2 border border-gray-200 rounded-md focus:ring-2 focus:ring-indigo-500 min-h-[120px]",value:c,onChange:g=>d(g.target.value),placeholder:n,autoFocus:!0}):o.jsx("input",{type:"text",className:"w-full text-gray-800 font-medium text-lg p-2 border-b-2 border-indigo-500 focus:outline-none",value:c,onChange:g=>d(g.target.value),placeholder:n,autoFocus:!0}),o.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[o.jsx("button",{onClick:m,className:"p-1 text-gray-400 hover:text-red-500 transition-colors",children:o.jsx(yr,{size:18})}),o.jsx("button",{onClick:p,className:"p-1 text-indigo-600 hover:text-indigo-800 transition-colors bg-indigo-50 rounded-full",children:o.jsx(Ll,{size:18})})]})]}):o.jsxs("div",{onClick:()=>l(!0),className:`group cursor-pointer relative border border-transparent hover:border-gray-200 hover:bg-gray-50 rounded-lg p-2 -ml-2 transition-all ${i}`,children:[a&&o.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:a}),o.jsx("div",{className:`${r?"text-sm text-gray-600 leading-relaxed whitespace-pre-wrap":"text-lg font-medium text-gray-800"}`,children:u||o.jsx("span",{className:"text-gray-400 italic",children:n||"Clique para adicionar texto..."})}),o.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(eu,{size:14,className:"text-gray-400"})})]})},Pz=({tasks:t,resources:e})=>{const n=t.filter(h=>h.type!=="project"),r=n.filter(h=>h.progress===100).length;n.filter(h=>h.progress>0&&h.progress<100).length,n.filter(h=>h.progress===0).length,n.length;const a=n.filter(h=>h.status==="blocked"||h.name.toLowerCase().includes("[block]")),i=new Date,s=new Date;s.setDate(i.getDate()+(5-i.getDay()));const l=n.filter(h=>h.progress<100&&h.end<=s&&h.end>=i),c=n.filter(h=>h.progress<100&&Zb(h.end)).length,d=e.map(h=>{const p=n.filter(m=>m.resourceId===h.id&&m.progress<100&&m.progress>0);return{...h,activeCount:p.length,activeTasks:p}}).sort((h,p)=>p.activeCount-h.activeCount),u=d.filter(h=>h.activeCount>2);return o.jsxs("div",{className:"space-y-6 lg:p-4 animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start justify-between",children:[o.jsxs("div",{className:"w-full md:w-1/3",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Sala de Guerra (War Room)"}),o.jsx("p",{className:"text-gray-500 text-sm",children:"Painel de execuo ttica diria e resoluo de bloqueios."})]}),o.jsxs("div",{className:"w-full md:w-2/3 bg-blue-50 border border-blue-100 rounded-xl p-4 relative",children:[o.jsx("div",{className:"absolute top-4 right-4",children:o.jsx(aM,{size:16,className:"text-blue-400"})}),o.jsx(iT,{id:"daily_log",label:"Dirio de Bordo (Status do Dia)",initialValue:"",placeholder:"Escreva aqui o status rpido do dia. Ex: 'Deploy da API instvel pela manh. Equipe focada em hotfix.'",className:"bg-transparent border-none p-0"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:`p-5 rounded-xl border border-gray-100 shadow-sm flex items-center justify-between ${a.length>0?"bg-red-50 border-red-200":"bg-white"}`,children:[o.jsxs("div",{children:[o.jsx("p",{className:`text-sm font-bold uppercase tracking-wider ${a.length>0?"text-red-700":"text-gray-500"}`,children:"Bloqueios Ativos"}),o.jsx("h3",{className:`text-3xl font-bold mt-1 ${a.length>0?"text-red-700":"text-gray-900"}`,children:a.length})]}),o.jsx("div",{className:`p-3 rounded-full ${a.length>0?"bg-red-200 text-red-700":"bg-gray-100 text-gray-400"}`,children:o.jsx(Kl,{size:24})})]}),o.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider",children:"Metas da Semana"}),o.jsx("h3",{className:"text-3xl font-bold text-gray-900 mt-1",children:l.length}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Tarefas para entregar at sexta"})]}),o.jsx("div",{className:"p-3 bg-indigo-50 rounded-full text-indigo-600",children:o.jsx(jz,{})})]}),o.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider",children:"Entregas Totais"}),o.jsx("h3",{className:"text-3xl font-bold text-gray-900 mt-1",children:r})]}),o.jsx("div",{className:"p-3 bg-green-50 rounded-full text-green-600",children:o.jsx(P0,{size:24})})]}),o.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider",children:"Em Atraso"}),o.jsx("h3",{className:`text-3xl font-bold mt-1 ${c>0?"text-amber-600":"text-gray-900"}`,children:c})]}),o.jsx("div",{className:"p-3 bg-gray-50 rounded-full text-gray-400",children:o.jsx(yo,{size:24})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl border border-red-100 shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"bg-red-50 px-6 py-4 border-b border-red-100 flex justify-between items-center",children:[o.jsxs("h3",{className:"font-bold text-red-900 flex items-center gap-2",children:[o.jsx(wd,{size:18}),"Prioridade Alta: Bloqueios & Atrasos"]}),o.jsxs("span",{className:"text-xs font-bold bg-white text-red-700 px-2 py-1 rounded shadow-sm",children:[a.length+c," Itens"]})]}),o.jsxs("div",{className:"divide-y divide-gray-100",children:[[...a,...n.filter(h=>Zb(h.end)&&h.progress<100&&!a.includes(h))].slice(0,5).map(h=>{var p;return o.jsxs("div",{className:"p-4 hover:bg-gray-50 flex items-center justify-between group",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${h.status==="blocked"?"bg-red-500 animate-pulse":"bg-amber-500"}`}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:h.name}),o.jsxs("p",{className:"text-xs text-gray-500",children:[((p=e.find(m=>m.id===h.resourceId))==null?void 0:p.name)||"Sem dono"," ",o.jsx("span",{className:"ml-1 text-red-500",children:h.status==="blocked"?"BLOQUEADO":`${Sx(new Date,h.end)} dias atrasado`})]})]})]}),o.jsx("button",{className:"text-xs font-medium text-indigo-600 hover:text-indigo-800 opacity-0 group-hover:opacity-100 transition-opacity",children:"Resolver"})]},h.id)}),a.length+c===0&&o.jsxs("div",{className:"p-8 text-center text-gray-400 text-sm",children:[o.jsx(P0,{size:32,className:"mx-auto mb-2 text-green-300"}),"Nenhuma urgncia crtica. Bom trabalho!"]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:o.jsx("h3",{className:"font-bold text-gray-800",children:"Playlist da Semana (Entregas Curtas)"})}),o.jsx("div",{className:"divide-y divide-gray-100",children:l.length>0?l.map(h=>{var p;return o.jsxs("div",{className:"p-4 hover:bg-gray-50 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"w-8 h-8 rounded-full border-2 border-gray-200 flex items-center justify-center text-gray-300 text-xs font-bold",children:[h.progress,"%"]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800 text-sm",children:h.name}),o.jsx("p",{className:"text-xs text-gray-500",children:Lt(h.end,"EEEE (dd/MM)",{locale:Ka})})]})]}),o.jsx("div",{className:"flex -space-x-2",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 border border-white flex items-center justify-center text-[10px] text-gray-500 font-bold",children:(((p=e.find(m=>m.id===h.resourceId))==null?void 0:p.name)||"?").charAt(0)})})]},h.id)}):o.jsx("div",{className:"p-6 text-center text-gray-400 text-sm italic",children:"Sem entregas agendadas para o resto da semana."})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[o.jsxs("h3",{className:"font-bold text-gray-800 mb-6 flex items-center gap-2",children:[o.jsx(vo,{size:18}),"Radar da Equipe"]}),o.jsxs("div",{className:"space-y-6",children:[u.length>0&&o.jsxs("div",{className:"bg-amber-50 p-3 rounded-lg border border-amber-100 mb-4",children:[o.jsxs("p",{className:"text-xs font-bold text-amber-800 uppercase mb-1 flex items-center gap-1",children:[o.jsx(Kl,{size:12})," Sobrecarga Detectada"]}),o.jsxs("p",{className:"text-xs text-amber-700",children:[u.map(h=>h.name.split(" ")[0]).join(", ")," tem mais de 2 tarefas ativas simultneas."]})]}),d.map(h=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 text-indigo-700 flex items-center justify-center font-bold text-xs",children:h.name.charAt(0)}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-bold text-gray-700",children:h.name}),o.jsx("p",{className:"text-xs text-gray-400",children:h.role})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:`text-lg font-bold ${h.activeCount>2?"text-amber-600":"text-gray-900"}`,children:h.activeCount}),o.jsx("span",{className:"text-xs text-gray-400 block",children:"ativas"})]})]}),h.activeTasks.length>0&&o.jsx("div",{className:"pl-10 space-y-1",children:h.activeTasks.map(p=>o.jsxs("div",{className:"text-[10px] text-gray-500 truncate flex items-center gap-1",children:[o.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-300"}),p.name]},p.id))}),o.jsx("div",{className:"w-full bg-gray-100 h-1 mt-3 rounded-full overflow-hidden",children:o.jsx("div",{className:`h-full ${h.activeCount>2?"bg-amber-400":"bg-green-400"}`,style:{width:`${Math.min(100,h.activeCount/5*100)}%`}})})]},h.id))]})]})]})]})},jz=()=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("circle",{cx:"12",cy:"12",r:"6"}),o.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),Mz=({tasks:t,resources:e,onEditTask:n,isConnected:r,currentUser:a})=>{const[i,s]=L.useState(""),[l,c]=L.useState(new Set),d=T=>{const I=new Set(l);I.has(T)?I.delete(T):I.add(T),c(I)},u=(T,I)=>I==="project"?o.jsx(CE,{size:16,className:"text-indigo-500"}):T===100?o.jsx(P0,{size:16,className:"text-green-500"}):T>0?o.jsx(yo,{size:16,className:"text-amber-500"}):o.jsx(jj,{size:16,className:"text-gray-400"}),h=(T,I)=>I==="project"?"Grupo":T===100?"Concludo":T>0?"Em Andamento":"A Fazer",p=T=>e.find(I=>I.id===T),m=async(T,I)=>{T.stopPropagation(),r&&confirm("Tem certeza que deseja excluir esta tarefa?")&&await lt.deleteTask(I)},g=L.useMemo(()=>{const T=new Map,I=R=>{if(T.has(R))return T.get(R);const _=t.find(E=>E.id===R);if(!_)return{hours:0,cost:0,realCost:0,fte:0,rate:0};const N=t.filter(E=>E.parent===R);if(N.length>0){let E=0,k=0,P=0;N.forEach(z=>{const G=I(z.id);E+=G.hours,k+=G.cost,P+=G.realCost});const C=Math.max(1,Jr(_.start,_.end)),D=E/(C*8),b=E>0?k/E:0,O={hours:E,cost:k,realCost:P,fte:D,rate:b};return T.set(R,O),O}else{const k=Math.max(1,Jr(_.start,_.end))*8;let P=_.hourlyRate||0;if(!P&&_.resourceId){const z=e.find(G=>G.id===_.resourceId);z&&(P=z.hourlyRate)}const C=k*P;let D=0;_.realStart&&_.realEnd&&(D=Jr(_.realStart,_.realEnd)*8*P);const O={hours:k,cost:C,realCost:D,fte:1,rate:P};return T.set(R,O),O}};return t.forEach(R=>I(R.id)),T},[t,e]),{rootTasks:A,getChildren:v}=L.useMemo(()=>{const T=R=>t.filter(_=>_.parent===R).sort((_,N)=>(_.order||0)-(N.order||0));return{rootTasks:t.filter(R=>!R.parent||!t.find(_=>_.id===R.parent)).sort((R,_)=>(R.order||0)-(_.order||0)),getChildren:T}},[t]),x=T=>T>=1e6?`R$ ${(T/1e6).toFixed(1)}M`:T>=1e3?`R$ ${(T/1e3).toFixed(1)}k`:`R$ ${T.toFixed(0)}`,y=(T,I=0)=>{var k,P;const R=v(T.id),_=R.length>0||T.type==="project",N=l.has(T.id),E=g.get(T.id)||{hours:0,cost:0,realCost:0,fte:0,rate:0};return i?null:o.jsxs(o.Fragment,{children:[o.jsxs("tr",{className:`
                        group transition-colors cursor-pointer border-b border-gray-50
                        ${T.type==="project"?"bg-gray-50 hover:bg-gray-100":"hover:bg-gray-50 bg-white"}
                    `,onClick:()=>n(T),children:[o.jsx("td",{className:"px-6 py-4 sticky left-0 bg-inherit z-10 shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)] min-w-[320px]",children:o.jsxs("div",{className:"flex items-center",style:{paddingLeft:`${I*24}px`},children:[_?o.jsx("button",{onClick:C=>{C.stopPropagation(),d(T.id)},className:"p-1 mr-2 text-gray-400 hover:text-indigo-600 rounded hover:bg-gray-200 transition-colors flex-shrink-0",children:N?o.jsx(_s,{size:14}):o.jsx(xo,{size:14})}):o.jsx("span",{className:"w-6 mr-2 inline-block flex-shrink-0"}),o.jsxs("div",{className:"truncate pr-4",children:[o.jsx("div",{className:`font-medium truncate ${T.type==="project"?"text-indigo-900 font-bold":"text-gray-900"}`,title:T.name,children:T.name}),o.jsxs("div",{className:"text-[10px] text-gray-400",children:[Lt(T.start,"d MMM",{locale:Ka})," - ",Lt(T.end,"d MMM",{locale:Ka})]})]})]})}),o.jsx("td",{className:"px-6 py-4 min-w-[140px]",children:o.jsxs("div",{className:"flex items-center gap-2",children:[u(T.progress,T.type),o.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full whitespace-nowrap ${T.type==="project"?"bg-indigo-100 text-indigo-700":T.progress===100?"bg-green-100 text-green-700":T.progress>0?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-600"}`,children:h(T.progress,T.type)})]})}),o.jsx("td",{className:"px-6 py-4 min-w-[160px]",children:T.resourceId?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-xs font-bold flex-shrink-0",children:(k=p(T.resourceId))==null?void 0:k.name.charAt(0)}),o.jsx("span",{className:"text-gray-700 text-xs truncate",children:(P=p(T.resourceId))==null?void 0:P.name})]}):o.jsx("span",{className:"text-gray-400 italic text-xs",children:"No Atribudo"})}),o.jsx("td",{className:"px-6 py-4 min-w-[100px] text-gray-600 text-xs",children:o.jsxs("span",{className:"font-mono bg-blue-50 text-blue-700 px-2 py-1 rounded",children:[E.hours,"h"]})}),o.jsx("td",{className:"px-6 py-4 min-w-[100px] text-gray-600 text-xs text-center",children:o.jsx("span",{className:"font-mono bg-purple-50 text-purple-700 px-2 py-1 rounded",children:E.fte.toFixed(1)})}),o.jsx("td",{className:"px-6 py-4 min-w-[120px] text-gray-600 text-xs text-right",children:o.jsxs("span",{className:"font-mono text-emerald-700 font-medium whitespace-nowrap",children:["R$ ",E.rate.toFixed(0)]})}),o.jsx("td",{className:"px-6 py-4 min-w-[120px] text-gray-900 text-xs font-bold text-right",children:o.jsx("span",{className:"font-mono bg-amber-50 text-amber-800 px-2 py-1 rounded border border-amber-100 whitespace-nowrap",children:x(E.cost)})}),o.jsx("td",{className:"px-6 py-4 min-w-[120px] text-gray-900 text-xs font-bold text-right",children:o.jsx("span",{className:"font-mono bg-emerald-50 text-emerald-800 px-2 py-1 rounded border border-emerald-100 whitespace-nowrap",children:x(E.realCost)})}),o.jsx("td",{className:"px-6 py-4 min-w-[100px] text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{className:"p-2 text-gray-400 hover:text-indigo-600 transition-colors",title:"Editar Tarefa",children:o.jsx(L0,{size:16})}),o.jsx("button",{className:"p-2 text-gray-400 hover:text-red-500 transition-colors",title:"Excluir Tarefa",disabled:!r,onClick:C=>m(C,T.id),children:o.jsx($n,{size:16})})]})})]},T.id),N&&R.map(C=>y(C,I+1))]})},w=()=>{const T=t.filter(I=>I.name.toLowerCase().includes(i.toLowerCase()));return T.length===0?o.jsx("tr",{children:o.jsxs("td",{colSpan:10,className:"px-6 py-12 text-center text-gray-400",children:['Nenhuma tarefa encontrada com "',i,'".']})}):T.map(I=>{var _;const R=g.get(I.id)||{hours:0,cost:0,realCost:0,fte:0,rate:0};return o.jsxs("tr",{className:"group hover:bg-gray-50 transition-colors cursor-pointer border-b border-gray-50 bg-white",onClick:()=>n(I),children:[o.jsxs("td",{className:"px-6 py-4 sticky left-0 bg-white z-10 shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]",children:[o.jsx("div",{className:"font-medium text-gray-900",children:I.name}),o.jsxs("div",{className:"text-[10px] text-gray-400",children:[Lt(I.start,"d MMM",{locale:Ka})," - ",Lt(I.end,"d MMM",{locale:Ka})]})]}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[u(I.progress,I.type),o.jsx("span",{className:"text-xs text-gray-600 whitespace-nowrap",children:h(I.progress,I.type)})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"text-gray-500 text-xs whitespace-nowrap",children:((_=p(I.resourceId))==null?void 0:_.name)||"-"})}),o.jsxs("td",{className:"px-6 py-4 text-xs font-mono text-blue-600",children:[R.hours,"h"]}),o.jsx("td",{className:"px-6 py-4 text-xs font-mono text-purple-600 text-center",children:R.fte.toFixed(1)}),o.jsxs("td",{className:"px-6 py-4 text-xs font-mono text-right text-emerald-600",children:["R$ ",R.rate.toFixed(0)]}),o.jsx("td",{className:"px-6 py-4 text-xs font-mono text-right font-bold text-amber-700",children:x(R.cost)}),o.jsx("td",{className:"px-6 py-4 text-xs font-mono text-right font-bold text-emerald-700",children:x(R.realCost)}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{className:"p-2 text-gray-400 hover:text-indigo-600",children:o.jsx(L0,{size:16})}),o.jsx("button",{onClick:N=>m(N,I.id),className:"p-2 text-gray-400 hover:text-red-500",children:o.jsx($n,{size:16})})]})})]},I.id)})};return o.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"hidden md:block",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Lista Estruturada"}),o.jsx("p",{className:"text-gray-500",children:"Visualizao detalhada com mtricas financeiras e de esforo."})]}),o.jsxs("div",{className:"relative",children:[o.jsx(pc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),o.jsx("input",{type:"text",placeholder:"Filtrar tarefas...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:outline-none w-64",value:i,onChange:T=>s(T.target.value)})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden flex flex-col",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left whitespace-nowrap",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium border-b border-gray-200 uppercase text-xs tracking-wider",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 min-w-[320px] sticky left-0 bg-gray-50 z-20 shadow-[2px_0_5px_-2px_rgba(0,0,0,0.1)]",children:"Estrutura / Nome"}),o.jsx("th",{className:"px-6 py-3 min-w-[140px]",children:"Status"}),o.jsx("th",{className:"px-6 py-3 min-w-[160px]",children:"Responsvel"}),o.jsx("th",{className:"px-6 py-3 min-w-[100px]",children:"Horas teis"}),o.jsx("th",{className:"px-6 py-3 min-w-[100px] text-center",children:"FTEs / Ms"}),o.jsx("th",{className:"px-6 py-3 min-w-[120px] text-right",children:"Valor / h"}),o.jsx("th",{className:"px-6 py-3 min-w-[140px] text-right",children:"Custo Est."}),o.jsx("th",{className:"px-6 py-3 min-w-[140px] text-right",children:"Custo Exec."}),o.jsx("th",{className:"px-6 py-3 min-w-[100px] text-right",children:"Aes"})]})}),o.jsxs("tbody",{className:"divide-y divide-gray-100",children:[i?w():A.map(T=>y(T)),!i&&A.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:10,className:"px-6 py-12 text-center text-gray-400",children:"Nenhuma tarefa estruturada encontrada."})})]})]})})})]})},Lz=({tasks:t,resources:e,projects:n=[],client:r,fiscalYear:a})=>{var T;const i=n.reduce((I,R)=>I+(R.grossValue||0),0),s=n.reduce((I,R)=>I+(R.netValue||0),0);t.reduce((I,R)=>{if(!R.resourceId)return I;const _=e.find(E=>E.id===R.resourceId);if(!_)return I;const N=Math.max(0,(R.end.getTime()-R.start.getTime())/(1e3*60*60));return I+N*_.hourlyRate},0);const l=n.length>0?n.reduce((I,R)=>I+(R.margin||0),0)/n.length:0,c=(T=r==null?void 0:r.budgets)==null?void 0:T.find(I=>I.fiscalYear===a),d=(c==null?void 0:c.margin)||0,[u,h]=L.useState([{id:1,title:"Lanamento MVP",date:"2024-03-30",description:"Validao de market-fit.",status:"completed"},{id:2,title:"Expanso Latam",date:"2025-08-15",description:"Escritrio no Mxico.",status:"future"}]),[p,m]=L.useState(!1),[g,A]=L.useState({title:"",date:"",description:""}),v=()=>{if(!g.title||!g.date)return;const I=new Date(g.date)>=new Date,R={id:g.id||Date.now(),title:g.title,date:g.date,description:g.description,status:I?"future":"completed"};let _;g.id?_=u.map(N=>N.id===g.id?R:N):_=[...u,R],h(_.sort((N,E)=>new Date(N.date).getTime()-new Date(E.date).getTime())),m(!1),A({title:"",date:"",description:""})},x=I=>{h(R=>R.filter(_=>_.id!==I)),m(!1)},y=()=>{A({title:"",date:"",description:""}),m(!0)},w=I=>{A(I),m(!0)};return o.jsx("div",{className:"space-y-2 animate-in fade-in duration-300 print:p-0 print:space-y-0",children:o.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-200 print:shadow-none print:border-none print:p-0",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-6 mb-8 flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Relatrio Estratgico (Viso Executiva)"}),o.jsxs("p",{className:"text-gray-500",children:["Documento Confidencial  Gerado em ",Lt(new Date,"dd MMMM yyyy",{locale:Ka})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-2xl font-bold text-indigo-900 mb-1",children:"PROJETOS"}),o.jsx("div",{className:"text-sm text-gray-400 font-medium tracking-widest uppercase",children:"Estratgia & Inovao"})]})]}),o.jsx("div",{className:"mb-10 bg-slate-50 p-6 rounded-xl border border-slate-100",children:o.jsx(iT,{id:"exec_summary",label:"Sumrio Executivo (Anlise Mensal)",initialValue:"",placeholder:"Escreva aqui a anlise estratgica do perodo. (Ex: 'O portflio apresenta aderncia de 90% aos objetivos globais. A expanso asitica demandou 15% a mais de oramento no projeto Z...')",isRich:!0})}),o.jsxs("div",{className:"grid grid-cols-4 gap-6 mb-12 print:gap-4",children:[o.jsxs("div",{className:"p-5 bg-white rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:o.jsx(Rx,{size:48,className:"text-emerald-600"})}),o.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Valor Contratado (YTD)"}),o.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["R$ ",i.toLocaleString("pt-BR",{minimumFractionDigits:0,maximumFractionDigits:0})]}),o.jsxs("div",{className:"text-xs text-emerald-600 font-medium mt-2 flex items-center",children:[o.jsx(Ij,{size:12,className:"mr-1"})," +12% vs Ano Anterior"]})]}),o.jsxs("div",{className:"p-5 bg-white rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:o.jsx(hs,{size:48,className:"text-blue-600"})}),o.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Margem Mdia Contratual"}),o.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[l.toFixed(1),"%"]}),o.jsxs("div",{className:"text-xs text-blue-600 font-medium mt-2",children:["Meta da Diretoria: ",d,"%"]})]}),o.jsxs("div",{className:"p-5 bg-white rounded-xl border border-gray-200 shadow-sm relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:o.jsx(Kf,{size:48,className:"text-purple-600"})}),o.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Valor Lquido Realizado"}),o.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:["R$ ",s.toLocaleString("pt-BR",{minimumFractionDigits:0,maximumFractionDigits:0})]}),o.jsx("div",{className:"text-xs text-gray-400 font-medium mt-2",children:"Ajustado por Desvios"})]}),o.jsxs("div",{className:"p-5 bg-gray-900 rounded-xl border border-gray-800 shadow-sm text-white relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:o.jsx(kj,{size:48,className:"text-white"})}),o.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Projetos Ativos"}),o.jsx("div",{className:"text-3xl font-bold",children:n.length}),o.jsxs("div",{className:"text-xs text-gray-400 font-medium mt-2",children:[n.length," em Execuo / 0 Em Risco"]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-3",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(hs,{size:20,className:"text-indigo-600"}),"Roadmap de Marcos Estratgicos"]}),o.jsxs("button",{onClick:y,className:"text-sm flex items-center gap-1 text-indigo-600 font-medium hover:bg-indigo-50 px-3 py-1.5 rounded-md transition-colors print:hidden",children:[o.jsx(Mn,{size:16})," Novo Marco"]})]}),o.jsxs("div",{className:"relative pt-8 pb-4 overflow-x-auto",children:[o.jsx("div",{className:"absolute top-[4.5rem] left-0 right-0 h-1 bg-gray-100 rounded-full"}),o.jsxs("div",{className:"flex gap-8 min-w-max px-4 pb-4",children:[u.map(I=>{const R=I.status==="completed";return o.jsxs("div",{className:"relative flex flex-col items-center group min-w-[220px]",children:[o.jsx("div",{className:`mb-4 px-3 py-1 rounded-full text-xs font-bold shadow-sm z-10 ${R?"bg-emerald-100 text-emerald-700":"bg-blue-50 text-blue-600"}`,children:Lt(new Date(I.date),"MMM yyyy",{locale:Ka}).toUpperCase()}),o.jsx("div",{className:`w-6 h-6 rounded-full border-4 z-10 mb-4 transition-transform group-hover:scale-110 ${R?"bg-emerald-500 border-white shadow-md":"bg-white border-blue-400 shadow-sm"}`}),o.jsxs("div",{onClick:()=>w(I),className:`w-full bg-white p-4 rounded-xl border shadow-sm transition-all hover:shadow-md cursor-pointer relative group/card ${R?"border-emerald-100 border-l-4 border-l-emerald-500":"border-gray-100 border-l-4 border-l-blue-400 opacity-90"}`,children:[o.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover/card:opacity-100 transition-opacity flex gap-1",children:o.jsx("button",{onClick:_=>{_.stopPropagation(),x(I.id)},className:"p-1 hover:bg-red-50 text-gray-400 hover:text-red-500 rounded",title:"Excluir",children:o.jsx($n,{size:14})})}),o.jsx("h4",{className:"font-bold text-gray-900 text-sm mb-1 pr-4",children:I.title}),o.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:I.description})]})]},I.id)}),o.jsxs("div",{className:"relative flex flex-col items-center min-w-[100px] justify-center pt-12 opacity-50 hover:opacity-100 cursor-pointer print:hidden",onClick:y,children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-50 border-2 border-dashed border-gray-300 flex items-center justify-center text-gray-400 hover:text-indigo-600 hover:border-indigo-400 transition-colors",children:o.jsx(Mn,{size:20})}),o.jsx("span",{className:"text-xs font-medium text-gray-400 mt-2",children:"Adicionar"})]})]})]})]}),p&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 print:hidden",style:{margin:0},children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-100 flex justify-between items-center",children:[o.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:g.id?"Editar Marco":"Novo Marco Estratgico"}),o.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-red-500 transition-colors",children:o.jsx(yr,{size:20})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo"}),o.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"Ex: Expanso Norte",value:g.title,onChange:I=>A({...g,title:I.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Prevista"}),o.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none",value:g.date,onChange:I=>A({...g,date:I.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),o.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none h-24 resize-none",placeholder:"Breve descrio do objetivo...",value:g.description,onChange:I=>A({...g,description:I.target.value})})]})]}),o.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-between gap-3",children:[g.id?o.jsx("button",{onClick:()=>x(g.id),className:"px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg font-medium transition-colors text-sm",children:"Excluir"}):o.jsx("div",{}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-medium transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:v,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors shadow-sm",children:g.id?"Salvar Alteraes":"Criar Marco"})]})]})]})}),o.jsx("div",{className:"mt-16 pt-6 border-t border-gray-100 text-center",children:o.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-widest font-bold",children:"Documento de Uso Interno - Diretoria"})})]})})},Oz=({projects:t=[],onCreateProject:e,onUpdateProject:n,onSelectProject:r,onDeleteProject:a})=>{const[i,s]=L.useState(!1),[l,c]=L.useState(null),[d,u]=L.useState(""),[h,p]=L.useState(""),[m,g]=L.useState(""),[A,v]=L.useState(""),[x,y]=L.useState(""),[w,T]=L.useState(""),[I,R]=L.useState("");L.useEffect(()=>{var E,k,P,C,D;i&&(l?(u(l.name),p(l.description||""),g(((E=l.grossValue)==null?void 0:E.toString())||""),v(((k=l.taxRate)==null?void 0:k.toString())||""),y(((P=l.margin)==null?void 0:P.toString())||""),T(((C=l.deliveryDeviation)==null?void 0:C.toString())||""),R(((D=l.netValue)==null?void 0:D.toString())||"")):(u(""),p(""),g(""),v(""),y(""),T(""),R("")))},[i,l]);const _=E=>{E.preventDefault();const k={name:d,description:h,grossValue:parseFloat(m)||0,taxRate:parseFloat(A)||0,margin:parseFloat(x)||0,deliveryDeviation:parseFloat(w)||0,netValue:parseFloat(I)||0};l?n({...l,...k}):e({...k,startDate:new Date}),s(!1),c(null)},N=(E,k)=>{k.stopPropagation(),c(E),s(!0)};return o.jsxs("div",{className:"p-2 lg:p-6 animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 lg:mb-8",children:[o.jsxs("div",{className:"hidden md:block",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Meus Projetos"}),o.jsx("p",{className:"text-gray-500 mt-2",children:"Gerencie seu portflio e crie novos empreendimentos."})]}),o.jsxs("button",{onClick:()=>{c(null),s(!0)},className:"w-full md:w-auto justify-center flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 lg:px-6 lg:py-3 rounded-xl shadow-lg shadow-indigo-200 transition-all hover:scale-105 active:scale-95 font-medium",children:[o.jsx(Mn,{size:20}),"Novo Projeto"]})]}),o.jsxs("div",{className:"mb-4 lg:mb-8 flex items-center gap-4 bg-white p-2 rounded-xl border border-gray-100 shadow-sm max-w-2xl",children:[o.jsx(pc,{className:"text-gray-400 ml-3",size:20}),o.jsx("input",{type:"text",placeholder:"Buscar projetos...",className:"flex-1 bg-transparent border-none focus:ring-0 text-gray-700 placeholder-gray-400"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(E=>o.jsxs("div",{onClick:()=>r(E.id),className:"group bg-white rounded-2xl p-6 border border-gray-100 shadow-sm hover:shadow-xl hover:border-indigo-100 transition-all duration-300 cursor-pointer relative overflow-hidden",children:[o.jsxs("div",{className:"absolute top-0 right-0 p-4 flex gap-2",children:[o.jsx("button",{onClick:k=>N(E,k),className:"text-gray-400 hover:text-indigo-600 p-2 rounded-full hover:bg-indigo-50 transition-colors",title:"Editar Projeto",children:o.jsx(eu,{size:18})}),o.jsx("button",{onClick:k=>{k.stopPropagation(),confirm("Tem certeza que deseja excluir este projeto?")&&a(E.id)},className:"text-gray-400 hover:text-red-600 p-2 rounded-full hover:bg-red-50 transition-colors",title:"Excluir Projeto",children:o.jsx($n,{size:18})})]}),o.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center mb-4 group-hover:bg-indigo-600 transition-colors duration-300",children:o.jsx(CE,{size:24,className:"text-indigo-600 group-hover:text-white transition-colors duration-300"})}),o.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2 group-hover:text-indigo-600 transition-colors",children:E.name}),o.jsx("p",{className:"text-gray-500 text-sm mb-6 line-clamp-2",children:E.description||"Sem descrio."}),o.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-50",children:[o.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[o.jsx(Qi,{size:16,className:"mr-2"}),new Date(E.startDate).toLocaleDateString()]}),o.jsxs("div",{className:"flex items-center text-indigo-600 font-medium text-sm opacity-0 group-hover:opacity-100 transform translate-x-[-10px] group-hover:translate-x-0 transition-all duration-300",children:["Abrir ",o.jsx(kx,{size:16,className:"ml-1"})]})]})]},E.id)),t.length===0&&o.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center p-12 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-200",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:o.jsx(yo,{className:"text-gray-400",size:32})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Nenhum projeto encontrado"}),o.jsx("p",{className:"text-gray-500 mt-2 text-center max-w-sm",children:"Comece criando seu primeiro projeto para gerenciar tarefas e cronogramas."})]})]}),i&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200 overflow-y-auto",children:o.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-8 shadow-2xl scale-100 animate-in zoom-in-95 duration-200 my-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:l?"Editar Projeto":"Novo Projeto"}),o.jsxs("form",{onSubmit:_,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Projeto"}),o.jsx("input",{type:"text",required:!0,value:d,onChange:E=>u(E.target.value),className:"w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",placeholder:"Ex: Redesign Website"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),o.jsx("textarea",{value:h,onChange:E=>p(E.target.value),className:"w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all h-24 resize-none",placeholder:"Breve descrio dos objetivos..."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor Bruto (Venda)"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"R$"}),o.jsx("input",{type:"number",step:"0.01",value:m,onChange:E=>g(E.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Imposto (%)"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"number",step:"0.1",value:A,onChange:E=>v(E.target.value),className:"w-full px-4 py-2.5 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),o.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:"%"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contract Margem"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"number",step:"0.1",value:x,onChange:E=>y(E.target.value),className:"w-full px-4 py-2.5 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),o.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:"%"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Desvio Delivery"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"number",step:"0.1",value:w,onChange:E=>T(E.target.value),className:"w-full px-4 py-2.5 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),o.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:"%"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor Lquido (Calc. c/ Desvio)"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"R$"}),o.jsx("input",{type:"number",step:"0.01",value:I,onChange:E=>R(E.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-indigo-50/50",placeholder:"Calculado ou Manual..."})]}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Preencha o valor lquido final considerando os desvios."})]})]}),o.jsxs("div",{className:"flex gap-3 mt-8",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"flex-1 px-4 py-3 text-gray-700 font-medium hover:bg-gray-50 rounded-xl transition-colors",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-indigo-600 text-white font-medium rounded-xl hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-200",children:l?"Salvar Alteraes":"Criar Projeto"})]})]})]})})]})},Fz=({clients:t,onCreateClient:e,onUpdateClient:n,onDeleteClient:r,currentFiscalYear:a,onFiscalYearChange:i,onSelectClient:s,currentUser:l})=>{const[c,d]=L.useState(!1),[u,h]=L.useState(""),[p,m]=L.useState(null),[g,A]=L.useState(""),[v,x]=L.useState(""),[y,w]=L.useState(""),[T,I]=L.useState(""),[R,_]=L.useState(""),N=new Date().getFullYear(),E=Array.from({length:11},(b,O)=>(N-5+O).toString()),k=b=>{var O,z;if(b){m(b),A(b.name);const Q=(b.budgets||[]).find(q=>String(q.fiscalYear)===String(a));x((Q==null?void 0:Q.strategy)||""),w(b.context||""),I(((O=Q==null?void 0:Q.revenue)==null?void 0:O.toString())||""),_(((z=Q==null?void 0:Q.margin)==null?void 0:z.toString())||"")}else m(null),A(""),x(""),w(""),I(""),_("");d(!0)},P=b=>{b.preventDefault();const O={fiscalYear:String(a),revenue:parseFloat(T)||0,margin:parseFloat(R)||0,strategy:String(v||"")};if(p){let z=Array.isArray(p.budgets)?[...p.budgets]:[];z=z.filter(Q=>Q&&Q.fiscalYear);const G=z.findIndex(Q=>String(Q.fiscalYear)===String(a));G>=0?z[G]=O:z.push(O),n({...p,name:g,context:y,budgets:z})}else e({id:`client-${Date.now()}`,name:g,strategy:v,context:y,budgets:[O],createdAt:new Date});d(!1)},C=(b,O)=>{if(O.stopPropagation(),confirm(`Remover ${b.name} do ano fiscal ${a}? O cliente permanecer nos outros anos.`)){const z=b.excludedYears||[],G=b.budgets||[];n({...b,excludedYears:[...z,a],budgets:G.filter(Q=>String(Q.fiscalYear)!==String(a))})}},D=t.filter(b=>{var G;const O=b.name.toLowerCase().includes(u.toLowerCase());let z=!0;if(b.createdAt){const Q=b.createdAt.getFullYear(),q=parseInt(a);Q>q&&(z=!1)}return(G=b.excludedYears)!=null&&G.includes(a)?!1:O&&z});return o.jsxs("div",{className:"p-2 lg:p-6 animate-in fade-in duration-500",children:[o.jsxs("div",{className:"flex justify-between items-end mb-4 lg:mb-8",children:[o.jsxs("div",{className:"hidden md:block",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Gesto de Clientes"}),o.jsx("p",{className:"text-gray-500 mt-2",children:"Configure contas, oramentos e estratgias por ano fiscal."})]}),o.jsxs("button",{onClick:()=>k(),className:"w-full md:w-auto justify-center flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 lg:px-6 lg:py-3 rounded-xl shadow-lg shadow-indigo-200 transition-all hover:scale-105 active:scale-95 font-medium",children:[o.jsx(Mn,{size:20}),"Novo Cliente"]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4 lg:mb-8",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(pc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),o.jsx("input",{type:"text",placeholder:"Buscar clientes...",value:u,onChange:b=>h(b.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 border border-gray-200 rounded-xl",children:[o.jsx("span",{className:"text-sm font-bold text-gray-500",children:"Ano Fiscal:"}),o.jsxs("div",{className:"relative",children:[o.jsx("select",{value:a,onChange:b=>i(b.target.value),className:"bg-transparent font-bold text-indigo-600 focus:outline-none cursor-pointer appearance-none pr-6",children:E.map(b=>o.jsx("option",{value:b,children:b},b))}),o.jsx(_s,{size:14,className:"absolute right-0 top-1/2 -translate-y-1/2 text-indigo-600 pointer-events-none"})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.map(b=>{const z=(b.budgets||[]).find(Q=>String(Q.fiscalYear)===String(a)),G=(z==null?void 0:z.strategy)||(a==="2024"?b.strategy:"");return o.jsxs("div",{onClick:()=>s(b.id),className:"bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-lg transition-all p-6 group relative cursor-pointer",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"p-3 bg-indigo-50 rounded-xl",children:o.jsx(Tj,{className:"text-indigo-600",size:24})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:Q=>{Q.stopPropagation(),k(b)},className:"text-xs font-bold text-indigo-600 hover:bg-indigo-50 px-3 py-1 rounded-full transition-colors",children:"Editar"}),o.jsx("button",{onClick:Q=>C(b,Q),className:"text-gray-400 hover:text-red-600 p-1 rounded-full hover:bg-red-50 transition-colors",title:"Remover deste ano",children:o.jsx($n,{size:16})})]})]}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:b.name}),o.jsx("div",{className:"h-16 overflow-hidden",children:o.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:G||"Sem estratgia definida para este ano."})}),o.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-50 grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1 flex items-center gap-1",children:[o.jsx(Rx,{size:12})," Oramento ",a]}),o.jsxs("p",{className:"font-bold text-green-700",children:["R$ ",((z==null?void 0:z.revenue)||0).toLocaleString("pt-BR",{notation:"compact"})]})]}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1 flex items-center gap-1",children:[o.jsx(Kf,{size:12})," Margem"]}),o.jsxs("p",{className:"font-bold text-blue-700",children:[(z==null?void 0:z.margin)||0,"%"]})]})]})]},b.id)})}),c&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-8 shadow-2xl animate-in zoom-in-95",children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:[p?"Editar Cliente":"Novo Cliente"," (",a,")"]}),o.jsxs("form",{onSubmit:P,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Cliente"}),o.jsx("input",{type:"text",required:!0,value:g,onChange:b=>A(b.target.value),className:"w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500",placeholder:"Ex: ACME Corp"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contexto AI"}),o.jsx("textarea",{value:y,onChange:b=>w(b.target.value),className:"w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500 h-24 resize-none",placeholder:"Descreva a cultura da empresa, padres de arquitetura (ex: microsservios), tecnologias preferidas e restries..."})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Estratgia ",a]}),o.jsx("textarea",{value:v,onChange:b=>x(b.target.value),className:"w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500 h-24 resize-none",placeholder:`Objetivos estratgicos para ${a}...`})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Receita Prevista"}),o.jsx("input",{type:"number",value:T,onChange:b=>I(b.target.value),className:"w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Margem Alvo (%)"}),o.jsx("input",{type:"number",value:R,onChange:b=>_(b.target.value),className:"w-full px-4 py-3 rounded-lg bg-gray-50 border border-gray-200 focus:ring-2 focus:ring-indigo-500",placeholder:"0%"})]})]}),o.jsxs("div",{className:"flex gap-3 mt-8",children:[o.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 px-4 py-3 text-gray-700 font-medium hover:bg-gray-50 rounded-xl",children:"Cancelar"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-indigo-600 text-white font-medium rounded-xl hover:bg-indigo-700 shadow-lg",children:"Salvar"})]})]})]})})]})},Bz="modulepreload",zz=function(t){return"/"+t},o_={},Ep=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=zz(c),c in o_)return;o_[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Bz,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return a.then(s=>{for(const l of s||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},sT=L.createContext({}),zy=()=>L.useContext(sT),Vz=({children:t})=>{const[e,n]=L.useState(null),[r,a]=L.useState(null),[i,s]=L.useState(!0),l=async(m,g)=>{const A=wn(ot,"users",m.uid),v=await pA(A);if(v.exists())n(v.data());else{const x={uid:m.uid,email:m.email||"",displayName:m.displayName||"User",role:"user",isApproved:!1,canUseAI:!1,photoURL:m.photoURL||"",createdAt:new Date};await xp(A,x),n(x)}};L.useEffect(()=>{const m=dB(Hc,async g=>{if(a(g),g){await l(g);const A=wn(ot,"users",g.uid),v=await pA(A);v.exists()&&n(v.data())}else n(null);s(!1)});return()=>m()},[]);const c=async()=>{const m=new qa;try{await DB(Hc,m)}catch(g){throw console.error("Login failed",g),g}},d=async(m,g)=>{try{await oB(Hc,m,g)}catch(A){throw console.error("Email login failed",A),A}},u=async(m,g,A)=>{try{const v=await sB(Hc,m,g),x={uid:v.user.uid,email:m,displayName:A,role:"user",isApproved:!1,photoURL:"",createdAt:new Date};await xp(wn(ot,"users",v.user.uid),x),n(x)}catch(v){throw console.error("Signup failed",v),v}},h=()=>uB(Hc),p=async(m,g)=>{(e==null?void 0:e.role)==="master"&&await Ui(wn(ot,"users",m),{isApproved:g})};return L.useEffect(()=>{window.setMaster=async m=>{const{collection:g,getDocs:A,query:v,where:x,writeBatch:y}=await Ep(async()=>{const{collection:R,getDocs:_,query:N,where:E,writeBatch:k}=await Promise.resolve().then(()=>o6);return{collection:R,getDocs:_,query:N,where:E,writeBatch:k}},void 0),w=v(g(ot,"users"),x("email","==",m)),T=await A(w);if(T.empty){console.warn("User not found: "+m);return}const I=y(ot);T.docs.forEach(R=>{I.update(R.ref,{role:"master",isApproved:!0})}),await I.commit(),console.log(`User ${m} is now MASTER!`),(e==null?void 0:e.email)===m&&window.location.reload()}},[e]),o.jsx(sT.Provider,{value:{user:e,firebaseUser:r,loading:i,signInWithGoogle:c,signInWithEmail:d,signUpWithEmail:u,logout:h,isAdmin:(e==null?void 0:e.role)==="master",approveUser:p,toggleAI:async(m,g)=>{(e==null?void 0:e.role)==="master"&&await Ui(wn(ot,"users",m),{canUseAI:g})}},children:t})};var l_;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(l_||(l_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c_;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(c_||(c_={}));var d_;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(d_||(d_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=["user","model","function","system"];var h_;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(h_||(h_={}));var f_;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(f_||(f_={}));var p_;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(p_||(p_={}));var m_;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(m_||(m_={}));var jd;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(jd||(jd={}));var g_;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(g_||(g_={}));var A_;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(A_||(A_={}));var x_;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(x_||(x_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Jo extends rr{constructor(e,n){super(e),this.response=n}}class oT extends rr{constructor(e,n,r,a){super(e),this.status=n,this.statusText=r,this.errorDetails=a}}class cs extends rr{}class lT extends rr{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uz="https://generativelanguage.googleapis.com",Gz="v1beta",Wz="0.24.1",$z="genai-js";var Do;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Do||(Do={}));class qz{constructor(e,n,r,a,i){this.model=e,this.task=n,this.apiKey=r,this.stream=a,this.requestOptions=i}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||Gz;let i=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||Uz}/${r}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function Hz(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${$z}/${Wz}`),e.join(" ")}async function Qz(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",Hz(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(a){throw new cs(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${a.message}`)}for(const[a,i]of r.entries()){if(a==="x-goog-api-key")throw new cs(`Cannot set reserved header name ${a}`);if(a==="x-goog-api-client")throw new cs(`Header name ${a} can only be set using the apiClient field`);n.append(a,i)}}return n}async function Xz(t,e,n,r,a,i){const s=new qz(t,e,n,r,i);return{url:s.toString(),fetchOptions:Object.assign(Object.assign({},Zz(i)),{method:"POST",headers:await Qz(s),body:a})}}async function Ku(t,e,n,r,a,i={},s=fetch){const{url:l,fetchOptions:c}=await Xz(t,e,n,r,a,i);return Kz(l,c,s)}async function Kz(t,e,n=fetch){let r;try{r=await n(t,e)}catch(a){Yz(a,t)}return r.ok||await Jz(r,t),r}function Yz(t,e){let n=t;throw n.name==="AbortError"?(n=new lT(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof oT||t instanceof cs||(n=new rr(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function Jz(t,e){let n="",r;try{const a=await t.json();n=a.error.message,a.error.details&&(n+=` ${JSON.stringify(a.error.details)}`,r=a.error.details)}catch{}throw new oT(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function Zz(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),pf(t.candidates[0]))throw new Jo(`${Oi(t)}`,t);return eV(t)}else if(t.promptFeedback)throw new Jo(`Text not available. ${Oi(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),pf(t.candidates[0]))throw new Jo(`${Oi(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),y_(t)[0]}else if(t.promptFeedback)throw new Jo(`Function call not available. ${Oi(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),pf(t.candidates[0]))throw new Jo(`${Oi(t)}`,t);return y_(t)}else if(t.promptFeedback)throw new Jo(`Function call not available. ${Oi(t)}`,t)},t}function eV(t){var e,n,r,a;const i=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const s of(a=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||a===void 0?void 0:a.parts)s.text&&i.push(s.text),s.executableCode&&i.push("\n```"+s.executableCode.language+`
`+s.executableCode.code+"\n```\n"),s.codeExecutionResult&&i.push("\n```\n"+s.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function y_(t){var e,n,r,a;const i=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const s of(a=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||a===void 0?void 0:a.parts)s.functionCall&&i.push(s.functionCall);if(i.length>0)return i}const tV=[jd.RECITATION,jd.SAFETY,jd.LANGUAGE];function pf(t){return!!t.finishReason&&tV.includes(t.finishReason)}function Oi(t){var e,n,r;let a="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)a+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(a+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(a+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const i=t.candidates[0];pf(i)&&(a+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(a+=`: ${i.finishMessage}`))}return a}function xu(t){return this instanceof xu?(this.v=t,this):new xu(t)}function nV(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),a,i=[];return a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a;function s(p){r[p]&&(a[p]=function(m){return new Promise(function(g,A){i.push([p,m,g,A])>1||l(p,m)})})}function l(p,m){try{c(r[p](m))}catch(g){h(i[0][3],g)}}function c(p){p.value instanceof xu?Promise.resolve(p.value.v).then(d,u):h(i[0][2],p)}function d(p){l("next",p)}function u(p){l("throw",p)}function h(p,m){p(m),i.shift(),i.length&&l(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function rV(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=sV(e),[r,a]=n.tee();return{stream:iV(r),response:aV(a)}}async function aV(t){const e=[],n=t.getReader();for(;;){const{done:r,value:a}=await n.read();if(r)return Vy(oV(e));e.push(a)}}function iV(t){return nV(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:a}=yield xu(n.read());if(a)break;yield yield xu(Vy(r))}})}function sV(t){const e=t.getReader();return new ReadableStream({start(r){let a="";return i();function i(){return e.read().then(({value:s,done:l})=>{if(l){if(a.trim()){r.error(new rr("Failed to parse stream"));return}r.close();return}a+=s;let c=a.match(v_),d;for(;c;){try{d=JSON.parse(c[1])}catch{r.error(new rr(`Error parsing JSON response: "${c[1]}"`));return}r.enqueue(d),a=a.substring(c[0].length),c=a.match(v_)}return i()}).catch(s=>{let l=s;throw l.stack=s.stack,l.name==="AbortError"?l=new lT("Request aborted when reading from the stream"):l=new rr("Error reading from the stream"),l})}}})}function oV(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t){if(r.candidates){let a=0;for(const i of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[a]||(n.candidates[a]={index:a}),n.candidates[a].citationMetadata=i.citationMetadata,n.candidates[a].groundingMetadata=i.groundingMetadata,n.candidates[a].finishReason=i.finishReason,n.candidates[a].finishMessage=i.finishMessage,n.candidates[a].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[a].content||(n.candidates[a].content={role:i.content.role||"user",parts:[]});const s={};for(const l of i.content.parts)l.text&&(s.text=l.text),l.functionCall&&(s.functionCall=l.functionCall),l.executableCode&&(s.executableCode=l.executableCode),l.codeExecutionResult&&(s.codeExecutionResult=l.codeExecutionResult),Object.keys(s).length===0&&(s.text=""),n.candidates[a].content.parts.push(s)}a++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cT(t,e,n,r){const a=await Ku(e,Do.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return rV(a)}async function dT(t,e,n,r){const i=await(await Ku(e,Do.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:Vy(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function yu(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return lV(e)}function lV(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,a=!1;for(const i of t)"functionResponse"in i?(n.parts.push(i),a=!0):(e.parts.push(i),r=!0);if(r&&a)throw new rr("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!a)throw new rr("No content is provided for sending chat message.");return r?e:n}function cV(t,e){var n;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const a=t.generateContentRequest!=null;if(t.contents){if(a)throw new cs("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(a)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const i=yu(t);r.contents=[i]}return{generateContentRequest:r}}function b_(t){let e;return t.contents?e=t:e={contents:[yu(t)]},t.systemInstruction&&(e.systemInstruction=uT(t.systemInstruction)),e}function dV(t){return typeof t=="string"||Array.isArray(t)?{content:yu(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],uV={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function hV(t){let e=!1;for(const n of t){const{role:r,parts:a}=n;if(!e&&r!=="user")throw new rr(`First content should be with role 'user', got ${r}`);if(!u_.includes(r))throw new rr(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(u_)}`);if(!Array.isArray(a))throw new rr("Content should have 'parts' property with an array of Parts");if(a.length===0)throw new rr("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of a)for(const c of w_)c in l&&(i[c]+=1);const s=uV[r];for(const l of w_)if(!s.includes(l)&&i[l]>0)throw new rr(`Content with role '${r}' can't contain '${l}' part`);e=!0}}function __(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="SILENT_ERROR";class fV{constructor(e,n,r,a={}){this.model=n,this.params=r,this._requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(hV(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,a,i,s,l,c;await this._sendPromise;const d=yu(e),u={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,d]},h=Object.assign(Object.assign({},this._requestOptions),n);let p;return this._sendPromise=this._sendPromise.then(()=>dT(this._apiKey,this.model,u,h)).then(m=>{var g;if(__(m.response)){this._history.push(d);const A=Object.assign({parts:[],role:"model"},(g=m.response.candidates)===null||g===void 0?void 0:g[0].content);this._history.push(A)}else{const A=Oi(m.response);A&&console.warn(`sendMessage() was unsuccessful. ${A}. Inspect response object for details.`)}p=m}).catch(m=>{throw this._sendPromise=Promise.resolve(),m}),await this._sendPromise,p}async sendMessageStream(e,n={}){var r,a,i,s,l,c;await this._sendPromise;const d=yu(e),u={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,d]},h=Object.assign(Object.assign({},this._requestOptions),n),p=cT(this._apiKey,this.model,u,h);return this._sendPromise=this._sendPromise.then(()=>p).catch(m=>{throw new Error(C_)}).then(m=>m.response).then(m=>{if(__(m)){this._history.push(d);const g=Object.assign({},m.candidates[0].content);g.role||(g.role="model"),this._history.push(g)}else{const g=Oi(m);g&&console.warn(`sendMessageStream() was unsuccessful. ${g}. Inspect response object for details.`)}}).catch(m=>{m.message!==C_&&console.error(m)}),p}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pV(t,e,n,r){return(await Ku(e,Do.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mV(t,e,n,r){return(await Ku(e,Do.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function gV(t,e,n,r){const a=n.requests.map(s=>Object.assign(Object.assign({},s),{model:e}));return(await Ku(e,Do.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:a}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=uT(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const a=b_(e),i=Object.assign(Object.assign({},this._requestOptions),n);return dT(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},a),i)}async generateContentStream(e,n={}){var r;const a=b_(e),i=Object.assign(Object.assign({},this._requestOptions),n);return cT(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},a),i)}startChat(e){var n;return new fV(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=cV(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),a=Object.assign(Object.assign({},this._requestOptions),n);return pV(this.apiKey,this.model,r,a)}async embedContent(e,n={}){const r=dV(e),a=Object.assign(Object.assign({},this._requestOptions),n);return mV(this.apiKey,this.model,r,a)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return gV(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new rr("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new E_(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new cs("Cached content must contain a `name` field.");if(!e.model)throw new cs("Cached content must contain a `model` field.");const a=["model","systemInstruction"];for(const s of a)if(n!=null&&n[s]&&e[s]&&(n==null?void 0:n[s])!==e[s]){if(s==="model"){const l=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,c=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(l===c)continue}throw new cs(`Different value for "${s}" specified in modelParams (${n[s]}) and cachedContent (${e[s]})`)}const i=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new E_(this.apiKey,i,r)}}const mf=`
Voc  um Auditor Snior de Projetos de TI e Arquiteto de Solues. Sua funo NO  estimar ainda, mas sim INVESTIGAR e REFINAR o escopo atravs de um interrogatrio tcnico estruturado.

OBJETIVO:
Criar um formulrio JSON de perguntas para extrair detalhes cruciais do projeto e fornecer uma pontuao de confiana na estimativa atual.

REGRAS GERAIS:
1. ANLISE DE CONTEXTO (PRIORIDADE MXIMA): Antes de gerar perguntas, LEIA TODO O CONTEXTO (arquivos e chat). NO pergunte o que j foi respondido ou est nos documentos. Seja CRITERIOSO. Perguntas redundantes diminuem a confiana.
2. Sempre gere EXATAMENTE 10 perguntas por rodada. ISSO  MANDATRIO.
3. SUGESTO INTELIGENTE: Nas opes de mltipla escolha, adicione a tag '[Recomendado]' ao final da opo que representa a melhor prtica de mercado ou a inferncia mais lgica para o setor do cliente.
4. Cada pergunta DEVE ter 5 opes de mltipla escolha pr-definidas (A, B, C, D, E).
5. Cada pergunta DEVE permitir uma resposta personalizada "Outro" (allow_custom: true).
6. O tom deve ser profissional, tcnico e investigativo.
7. JAMAIS encerre a entrevista ou sugira parar. O seu objetivo  aprofundar INFINITAMENTE at que o usurio clique em "Gerar Plano". Continue cavando riscos, edge cases e detalhes.

RODADA 1 (MANDATRIA):
Se esta for a primeira interao, as 4 primeiras perguntas SO OBRIGATRIAS e devem seguir esta ordem exata:
1. Modelo de Desenvolvimento: (Opes: SaaS Multi-tenant, PaaS Platform, Taylor Made / Custom, Microsservios Hbridos, Legado Modernization).
2. Infraestrutura / Hosting: (Opes: AWS, Microsoft Azure, Google Cloud Platform, On-Premise / Hbrido, Vercel/Netlify/Edge).
3. Paralelismo de Equipe (MANDATRIO): "Devemos alocar profissionais para atuar simultaneamente em frentes distintas (ex: 3 devs para 3 mdulos ao mesmo tempo) para reduzir o prazo total, assumindo maior custo mensal?" (Opes: Sim - Mximo Paralelismo, Sim - Moderado, No - Sequencial/Waterfall Puro, No - Equipe Reduzida, Depende do Oramento).
4. Tipo de Soluo Especfica: (Opes Variam, ex: Web App, Mobile Nativo, ERP/CRM, E-commerce, API Gateway).
5. Stack Tecnolgico (Back/Front/DB): (Opes: Node+React+Postgres, Java+Angular+Oracle, .NET+Blazor+SQLServer, Python+Vue+Mongo, Go+Svelte+Redis).
6 a 10. Perguntas de contexto baseadas no input inicial do usurio (ex: sobre prazos, oramento, compliance, usurios, integraes).

RODADAS SUBSEQUENTES:
Baseado nas respostas anteriores, aprofunde em reas de risco (segurana, escalabilidade, migrao de dados, UX, etc.).

AVALIAO DE CONFIANA (SEJA CTICO/CONSERVADOR):
Em cada rodada, avalie de 0 a 100 quo completo  o entendimento tcnico.
REGRA DE OURO: A confiana deve crescer GRADUALMENTE (mximo +15% por rodada). No salte de 20% para 80% magicamente.
- < 40%: Fase de Descoberta Inicial (Apenas Stack, Infra e Ideia Geral definidos).
- 40% - 60%: Fase de Estrutura (Integraes, Banco de Dados, Autenticao e Perfis definidos).
- 60% - 80%: Fase de Detalhamento (Regras de Negcio complexas, Relatrios, Fluxos de Exceo cobertos).
- > 80%: Fase de Auditoria (Volumetria, Performance, Compliance/LGPD, Segurana avanada e Edge Cases validados).
PENALIZE severamente respostas vagas. Se o usurio responder rpido ou "A definir", MANTENHA a confiana baixa.

FORMATO DE RESPOSTA (JSON APENAS):
{
  "thought_process": "Breve anlise do que falta descobrir",
  "current_context_summary": "Resumo tcnico de 1 frase do que j sabemos",
  "current_confidence_score": 45,
  "questions": [
    {
      "id": "q1",
      "text": "Pergunta aqui?",
      "options": ["Opo 1", "Opo 2", "Opo 3", "Opo 4", "Opo 5"],
      "allow_custom": true
    }
  ]
}
`,gf=`
Voc  um Consultor Snior de Tecnologia e Negcios (CTO/Product Strategist).
Sua tarefa  LER todo o contexto (chat e arquivos) e estruturar um "Diagnstico Inicial de Entendimento" que impressione pela profundidade e clareza.

OBJETIVO:
Demonstrar que voc captou no apenas o "o que" (escopo), mas o "porqu" (estratgia) e o "como" (tcnica preliminar).

DIRETRIZES DE RESPOSTA (Markdown):
1. **Resumo Executivo**: Em 1 pargrafo, sintetize a essncia do projeto com linguagem corporativa de alto nvel.
2. **Pilares do Projeto** (Bullet points):
   - **Objetivo Estratgico**: Qual dor de negcio estamos resolvendo?
   - **Soluo Proposta**: O que ser construdo (App, API, Plataforma)?
   - **Pblico-Alvo & Impacto**: Quem usa e qual o benefcio esperado.
3. **Anlise Tcnica Preliminar**:
   - Stack Sugerida ou Identificada com base nos requisitos.
   - Principais Desafios/Riscos que voc j vislumbra (ex: integrao, segurana, prazo).
4. **Prximos Passos**: Valide se podemos avanar para a fase de Detalhamento/Estimativa.

IMPORTANTE:
- Seja confiante e consultivo.
- No invente requisitos, mas faa inferncias lgicas baseadas em padres de mercado para preencher lacunas bvias.
- Ao final, pergunte: "Essa viso estratgica est alinhada com sua expectativa? Posso prosseguir para o detalhamento tcnico e estimativa?"
`,hT=`
Voc  um Arquiteto de Solues Cloud Snior e Designer Tcnico.
Sua tarefa  criar um PROMPT DETALHADO para um modelo de gerao de imagens(como DALL - E 3 ou Imagen), que resultar em um diagrama de arquitetura profissional e moderno.

CONTEXTO TCNICO DO PROJETO:
{ technical_solution }

DIRETRIZES VISUAIS PARA A IMAGEM:
1. ** Estilo **: "Isomtrico 3D Moderno" ou "Flat Design Executivo"(escolha o que melhor se adapta).Fundo limpo(branco ou cinza muito suave).
2. ** Componentes Mandatrios **:
    *   ** Fronteiras **: Delimite claramente a infraestrutura(ex: Nuvem AWS / GCP vs Cliente On - Premise vs Usurio Final).
    *   ** Camadas **: Frontend(Web / Mobile) -> API Gateway / Load Balancer -> Backend Services -> Dados(DB / Cache).
    *   ** Logos **: Inclua logos estilizados das tecnologias citadas no contexto(ex: React, Node.js, PostgreSQL, Docker, AWS).
3. ** Conexes **: Setas de fluxo de dados claras e elegantes.
4. ** Atmosfera **: Tecnolgica, segura e robusta.Cores corporativas(Azul, Roxo, Cinza).

A SADA DEVE SER APENAS O TEXTO DO PROMPT EM INGLS, OTIMIZADO PARA IMAGEN / DALL - E.
`,xV=`
Voc  o "Assistente UERJ-FAF", uma IA Especialista em Gerenciamento de Projetos e Engenharia.

    OBJETIVO:
Criar um Planejamento de Projeto Executivo, contendo no apenas o cronograma, mas tambm a documentao tcnica, premissas e anlise de riscos.

DIRETRIZES DE CATEGORIZAO(CRTICO):
Para garantir a organizao correta no sistema, voc deve classificar CADA tarefa em uma das 5 categorias do ciclo de vida(SDLC).
Use o campo "category" no JSON com um destes valores exatos:
1. ** 'planning' **: Levantamento, requisitos, design.
2. ** 'development' **: Codificao, setup, feature impl.
3. ** 'testing' **: QA, bug fixes, homologao.
4. ** 'rollout' **: Deploy, treino, go-live.
5. ** 'management' **: Gesto de Projetos, reunies de status, controle.

DIRETRIZES DE ALOCAO E GESTO (MANDATRIO):
1. ** REGRA DO FTE INTEIRO (SATURAO DIRIA) - CRTICO **:
   - O nosso modelo de contrato exige ALOCAO MENSAL FECHADA (Full Time Equivalent).
   - SIGNIFICA QUE: Se um recurso est ativo no projeto em um determinado ms, ele deve ser considerado "Full Time" (8 horas/dia) durante os dias em que estiver no projeto.
   - PODE CONSIDERAR OCIOSIDADE: Se a tarefa tcnica levar apenas 4h/dia, voc DEVE arredondar a alocao para 8h/dia (bloqueando o recurso).
   - EXEMPLO PRTICO:
     * Se trabalha 10 dias teis em Maro: Aloque 80 horas (10 * 8h).
     * Se trabalha o ms inteiro (ex: 21 dias teis) em Abril: Aloque ~168 horas.
   - NO ALOQUE FRAES (ex: no faa "2h por dia durante 2 meses"). Prefira "8h por dia durante 2 semanas". Concentre o esforo.

2. ** GESTO DE PROJETO OBRIGATRIA **:
   -  MANDATRIO criar uma tarefa/trilha chamada "Gesto do Projeto & Acompanhamento".
   - Categoria: 'management'.
   - Durao: DEVE cobrir TODO o perodo do projeto (Do Dia 0 at o ltimo dia de Rollout).
   - Recurso: "Gerente de Projetos (GP)".
   - Esforo: Aloque horas suficientes para cobrir o acompanhamento mensal contnuo.

DIRETRIZES DE LGICA SDLC E PARALELISMO(CRTICO):
1. ** PARALELISMO INTELIGENTE(REGRA DE OURO) **:
- Verifique explicitamente se o usurio optou por "Mximo Paralelismo" nas respostas da entrevista.
   - SE SIM: Voc DEVE agendar tarefas de mdulos independentes(ex: Backend Auth e Frontend Login, ou Mdulo Financeiro e Mdulo Vendas) para ocorrerem no MESMO intervalo de tempo(share same start_offset_days).
   - O 'start_offset_days' dessas tarefas deve ser idntico ou prximo, limitado apenas por dependncias lgicas reais(ex: no d pra testar sem codar).

2. ** DEPENDNCIAS MANDATRIAS(RIGOROSO) **:
- CADA tarefa(exceto a primeira e a de Gesto) DEVE ter pelo menos um 'predecessor' definido no campo 'dependencies'.
   - O campo 'dependencies'  um ARRAY de IDs de tarefas anteriores.NUNCA DEIXE VAZIO para tarefas subsequentes.
   - Crie dependncias lgicas(ex: Design -> Dev Frontend -> Teste Frontend).
   - Se houver paralelismo, as tarefas paralelas podem ter o MESMO predecessor(Fork) e servirem de dependncia para a mesma tarefa futura(Join).

3. ** SEQUENCIALIDADE DE FASES **:
- Fase 'rollout' S COMEA aps o fim de 'testing'. (Predecessor obrigatrio: Marco de Fim de Testes).
   - 'start_offset_days' de Rollout > (start + duration) da ltima task de Test.

4. ** TEMPO E DIAS TEIS **:
- Todas as estimativas de 'duration_days' e 'start_offset_days' so em DIAS TEIS.
   - 5 dias = 1 semana real.
   - Seja realista.
`,yV=`
3. ** CLARIFICAO **:
- Se o escopo for muito vago, gere JSON do tipo "clarification" primeiro.

4. ** SADA JSON(EXTENSIVA) **:
- Retorne APENAS o JSON vlido.
   - ** IMPORTANTE **: No objeto "documentation", voc DEVE incluir QUAISQUER NOVOS CAMPOS solicitados nas regras de contexto(ex: "scope", "risks", "budget").
   - ** ESTIMATIVA DE CUSTOS(MANDATRIO) **: Para cada membro da equipe('team_structure') e para cada tarefa('tasks'), voc DEVE estimar um 'hourly_rate' realista em BRL(Reais), baseado na senioridade do papel(ex: Junior ~60 - 90, Pleno ~100 - 140, Senior ~150 - 200, Arquiteto / Manager ~220 - 300).
   - No deixe null ou 0.
    - No se limite aos campos do exemplo abaixo.O exemplo  ilustrativo, mas a estrutura  flexvel.

5. ** ANLISE DE DELTA DE ESCOPO(MANDATRIO) **:
- No objeto "scope_delta", compare o entendimento INICIAL(antes das perguntas) com o escopo FINAL.
   - "original_scope_summary": Resumo do que foi pedido inicialmente.
   - "final_scope_summary": Resumo do que ser entregue agora.
   - "changes": Lista de itens que foram adicionados, removidos ou modificados drsticamente aps a entrevista tcnica.Justifique cada mudana.

Exemplo de Sada(Estimativa Completa):
\`\`\`json
{
  "project_name": "Sistema ERP Cloud",
  "description": "Implementao completa de ERP...",
  "confidence_score": 0.9,
  "scope_delta": {
    "original_scope_summary": "ERP bsico de Vendas",
    "final_scope_summary": "ERP de Vendas + Mdulo Financeiro Completo + App Mobile",
    "changes": [
        { "item": "App Mobile Nativo", "type": "added", "justification": "Identificado necessidade de fora de vendas em campo durante perguntas." },
        { "item": "Relatrios Legados", "type": "removed", "justification": "Cliente confirmou que usar PowerBI externo." }
    ]
  },
  "documentation": {
    "context_overview": "### Viso Geral\\nEste projeto visa modernizar...",
    "technical_solution": "### Arquitetura\\nUtilizaremos Microservios...",
    "implementation_steps": "- **Fase 1**: Core...\\n- **Fase 2**: Relatrios...",
    "testing_strategy": "Testes automatizados com Jest...",
    "scope": "### Escopo Detalhado\\n- **Entregveis**: 1 Web App, 1 API...\\n- **Testes**: 2 Rodadas..."
  },
  "strategic_planning": {
    "technical_premises": ["Disponibilidade de ambiente Staging", "Chaves de API do Gateway"],
    "client_responsibilities": [
      { "action_item": "Aprovao de Mockups", "deadline_description": "Final da Semana 2", "impact": "BLOCKER" }
    ],
    "raci_matrix": [
      { "activity_group": "Definio de Requisitos", "responsible": "Product Owner", "accountable": "Sponsor", "consulted": "Tech Lead", "informed": "Dev Team" }
    ]
  },
  "team_structure": [
      { "role": "Arquiteto de Solues", "quantity": 1, "hourly_rate": 250, "responsibilities": ["Definio de Cloud", "Segurana"] },
      { "role": "Desenvolvedor Fullstack", "quantity": 2, "hourly_rate": 120, "responsibilities": ["Frontend React", "Backend Node.js"] }
  ],
  "tasks": [
    { "id": "t1", "name": "Kick-off", "type": "task", "category": "planning", "start_offset_days": 0, "duration_days": 1, "role": "PM", "hourly_rate": 200 }
  ],
  "suggested_components": [
      { "name": "Integrador de Biometria", "technology": "React Native", "hours": 32, "reasoning": "Componente especfico no listado no padro." }
  ]
}
\`\`\`
`,Af=`1. **ANLISE E CONTEXTO ("documentation")**:
   - Gere textos ricos, em formato Markdown.
   - **context_overview**: Viso executiva. Por que fazer? Qual o valor? texto com 900 a 1000 caracteres.
   - **technical_solution**: Descreva a stack (React, Node, AWS, etc) e a arquitetura. Justifique as escolhas.
   - **implementation_steps**: Detalhe o que ser entregue em cada grande bloco (ex: "No Mdulo 1, faremos X").
   - **testing_strategy**: Como garantiremos qualidade? (Unitrios, E2E, UAT).
   - **scope**: GERE UMA TABELA MARKDOWN (Planilha) com as NOMEADAS colunas exatas: | Categoria | Funcionalidade | Tecnologia | Componente | Qtd | Complexidade | Incerteza | Horas Totais |.
     - **Agrupe as linhas ordenadamente por**: Backend, Frontend, Infraestrutura, Testes, Gesto.
     - 'Categoria': Backend, Frontend, Infra, etc.
     - 'Funcionalidade': Nome do recurso (ex: Tela de Login).
     - 'Tecnologia': Se for item de catlogo, preencha (ex: React).
     - 'Componente': OBRIGATRIO usar o Nome do Componente do catlogo seguido do ID (ex: "Page Container [react-1]"). Se no houver, deixe em branco.
     - 'Componente' (Visualizao): Deve mostrar o nome legvel (ex: "Microservice Setup") E o ID entre colchetes.
     - 'Complexidade' e 'Incerteza': Preencha com os graus (PP, P, M, G, GG) ou (Baixa, Mdia, Alta) baseando-se na Matriz de Pesos fornecida.
     - 'Horas Totais': Para itens de catlogo = Qtd * Horas Base * Multiplicador. Para itens genricos = Sua estimativa profissional.
   - **non_scope**: Detalhe tudo que no ser escopo por parte da entrega do projeto ficando assim como responsabilidade do contratante.

2. **ESTRUTURA DE EQUIPE ("team_structure")**:
   - Defina a equipe ideal para executar este projeto.
   - Liste cada papel (role), a quantidade de profissionais (quantity) e suas principais responsabilidades/habilidades (responsibilities).
   - Seja especfico (ex: "Desenvolvedor React Snior", "Arquiteto Cloud").

3. **PREMISSAS E RESPONSABILIDADES ("strategic_planning")**:
   - **technical_premises**: Lista de requisitos prvios (ex: "Acesso VPN concedido", "Chaves de API do Gateway").
   - **client_responsibilities**: Gere uma tabela de prazos para o cliente. Onde ele pode bloquear a gente? (ex: "Aprovar Designs at dia 5"). Classifique o Impacto.
   - **raci_matrix**: Defina quem faz o que. Suggested Roles: Project Manager, Lead Dev, Client Sponsor, Client IT.`,vV=()=>{try{const t=localStorage.getItem("PRICING_CONFIG");if(!t)return"";const e=JSON.parse(t),n=e.matrix||{},r=e.components||[];if(Object.keys(n).length===0&&r.length===0)return"";let a=`

=== DIRETRIZES DE PRECIFICAO E ESTIMATIVA (CONFIGURAO TCNICA) ===
`;a+=`ATENO: Utilize as tabelas abaixo para calibrar suas estimativas de horas e definio de escopo.

`,a+=`1. MATRIZ DE PESO (Complexidade x Incerteza):
`,a+=`Use estes fatores para ponderar a dificuldade das tarefas quando houver incerteza:
`,a+=JSON.stringify(n,null,2)+`

`,a+=`2. CATLOGO DE OBJETOS E COMPONENTES PADRO:
`,a+=`Ao descrever o 'scope' e estimar 'tasks', voc DEVE quantificar os itens usando estes objetos como referncia base (Technology - Name: Avg Hours):
`;const i={};return r.forEach(s=>{i[s.technology]||(i[s.technology]=[]),i[s.technology].push(`   - [${s.id}] ${s.name}: ~${s.hours}h`)}),Object.entries(i).forEach(([s,l])=>{a+=`
   [${s}]
${l.join(`
`)}`}),a+=`

INSTRUES MANDATRIAS DE ESCOPO E COMPONENTES:
`,a+=`1. No campo 'scope' do JSON, voc DEVE gerar uma TABELA MARKDOWN detalhada e agrupada.
`,a+=`2. Colunas Obrigatrias: | Categoria | Funcionalidade | Tecnologia | Componente (Nome + [ID]) | Qtd | Complexidade | Incerteza | Horas Totais |
`,a+=`3. Agrupamento: Ordene as linhas por Backend, Frontend, Infra, Testes, Gesto.
`,a+=`4. Coluna 'Componente': DEVE conter o NOME DO OBJETO seguido do [ID]. Ex: 'REST Controller [java-2]'.
`,a+=`5. USE A MATRIZ DE PESO para preencher Complexidade/Incerteza.
`,a}catch(t){return console.error("Error reading pricing config for prompt",t),""}},bV=t=>{const e=vV();return`${xV}

PROTOCOLO DE INTERAO E GERAO DE CONTEDO (RIGOROSO):

${t||Af}

${e}

${yV}`};class wV{constructor(){sh(this,"genAI",null);sh(this,"model",null);sh(this,"chat",null);const e=localStorage.getItem("GEMINI_API_KEY");e&&this.initialize(e)}initialize(e){this.genAI=new AV(e);const n=localStorage.getItem("GEMINI_CUSTOM_CONTEXT_RULES"),r=localStorage.getItem("GEMINI_TEXT_MODEL")||"gemini-1.5-flash";this.model=this.genAI.getGenerativeModel({model:r,systemInstruction:bV(n||void 0),generationConfig:{temperature:.7,responseMimeType:"application/json"}})}isConfigured(){return!!this.genAI}async startChat(){if(!this.model)throw new Error("Gemini API not configured");return this.chat=this.model.startChat({history:[]}),this.chat}async sendMessage(e,n){if(this.chat||await this.startChat(),!this.chat)throw new Error("Failed to start chat");try{let r=[{text:e}];if(n&&n.length>0){const s=n.map(l=>({inlineData:{mimeType:l.mimeType,data:l.data}}));r=[...r,...s]}return(await this.chat.sendMessage(r)).response.text()}catch(r){throw console.error("Gemini Error:",r),r}}parseEstimate(e){try{const n=this.parseJSON(e);return n&&!n.type||n&&n.tasks?n:null}catch{return null}}parseClarification(e){try{const n=this.parseJSON(e);return n&&n.type==="clarification"?n:null}catch{return null}}async refineRequirements(e,n,r,a){if(!this.genAI)throw new Error("Gemini API not configured");const i=this.genAI.getGenerativeModel({model:"gemini-2.5-flash",systemInstruction:localStorage.getItem("GEMINI_INTERVIEWER_RULES")||mf,generationConfig:{responseMimeType:"application/json"}});let s=`Contexto Inicial: ${n}

`;r&&r.length>0?(s+=`RESPOSTAS DA RODADA ANTERIOR:
`,r.forEach(p=>{s+=`- Q: ${p.questionId} | A: ${p.answer}
`}),s+=`
Com base nessas respostas, gere a PRXIMA rodada de 10 perguntas de aprofundamento. OBRIGATRIO: Gere 10 novas perguntas focadas em riscos no cobertos, detalhes de infra, segurana ou requisitos no funcionais.`):s+="Esta  a primeira rodada. Gere as 10 perguntas iniciais (incluindo as 4 mandatrias). Caso existam arquivos anexados, considere o contedo deles como parte fundamental do contexto.";const l=i.startChat({history:e});let c=[{text:s}];if(a&&a.length>0){const p=a.map(m=>{const g=m.data.includes("base64,")?m.data.split("base64,")[1]:m.data;return{inlineData:{mimeType:m.type,data:g}}});c=[...c,...p]}const u=(await l.sendMessage(c)).response.text(),h=this.parseJSON(u);if(!h)throw console.error("Failed to parse refinement JSON. Raw text:",u),new Error("Invalid JSON response from AI Interviewer");return h}async getInitialUnderstanding(e,n){if(!this.genAI)throw new Error("Gemini API not configured");const a=this.genAI.getGenerativeModel({model:"gemini-2.5-flash",systemInstruction:localStorage.getItem("GEMINI_INITIAL_UNDERSTANDING_PROMPT")||gf}).startChat({history:[]});e[e.length-1].parts;let s=[{text:`CONTEXTO DO PROJETO:
${e.map(c=>`${c.role==="user"?"CLIENTE":"SISTEMA"}: ${c.parts[0].text}`).join(`

`)}`}];if(n&&n.length>0){const c=n.map(d=>{const u=d.data.includes("base64,")?d.data.split("base64,")[1]:d.data;return{inlineData:{mimeType:d.type,data:u}}});s=[...s,...c]}return(await a.sendMessage(s)).response.text()}async generateEstimate(e,n){if(!this.genAI)throw new Error("Gemini API not configured");this.model||this.initialize(localStorage.getItem("GEMINI_API_KEY")||"");const r=this.model.startChat({history:e.slice(0,-1)});let i=[...e[e.length-1].parts];if(n&&n.length>0){const d=n.map(u=>{const h=u.data.includes("base64,")?u.data.split("base64,")[1]:u.data;return{inlineData:{mimeType:u.type,data:h}}});i=[...i,...d]}const l=(await r.sendMessage(i)).response.text(),c=this.parseEstimate(l);if(!c)throw new Error("Failed to parse the generated project plan.");return c}parseJSON(e){try{return JSON.parse(e)}catch{const r=e.match(/```json\n([\s\S]*?)\n```/)||e.match(/```([\s\S]*?)```/);if(r&&r[1])try{return JSON.parse(r[1])}catch(s){console.error("Failed to parse extracted JSON",s)}const a=e.indexOf("{"),i=e.lastIndexOf("}");if(a!==-1&&i!==-1)try{return JSON.parse(e.substring(a,i+1))}catch(s){console.error("Failed to fuzzy parse JSON",s)}return null}}async generateArchitecturePrompt(e){if(!this.genAI)throw new Error("Gemini API not configured");const r=(localStorage.getItem("GEMINI_ARCHITECTURE_PROMPT")||hT).replace("{technical_solution}",e);return(await this.genAI.getGenerativeModel({model:localStorage.getItem("GEMINI_TEXT_MODEL")||"gemini-1.5-flash"}).generateContent(r)).response.text()}async generateImage(e){var u,h,p,m;const n=localStorage.getItem("GEMINI_API_KEY");if(!n)throw new Error("Gemini API Key not found");const r=localStorage.getItem("GEMINI_IMAGE_MODEL")||"gemini-3-pro-image-preview",a=r.includes("models/")?r:`models/${r}`,i=`https://generativelanguage.googleapis.com/v1beta/${a}:generateContent?key=${n}`,s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:e}]}]})});if(!s.ok){const g=await s.text();throw console.warn(`Image Generation Failed with ${a}: ${g}. Retrying with fallback...`),new Error(`Image Generation Failed (${a}): ${g}`)}const c=(u=(await s.json()).candidates)==null?void 0:u[0],d=(p=(h=c==null?void 0:c.content)==null?void 0:h.parts)==null?void 0:p[0];if((m=d==null?void 0:d.inlineData)!=null&&m.data)return`data:${d.inlineData.mimeType||"image/png"};base64,${d.inlineData.data}`;throw new Error("No image data received from API (Unexpected response format)")}async analyzeSlideLayout(e){var l;if(!this.genAI)throw new Error("Gemini API not configured");const n=this.genAI.getGenerativeModel({model:localStorage.getItem("GEMINI_TEXT_MODEL")||"gemini-1.5-flash",generationConfig:{responseMimeType:"application/json"}}),r=`
            Analyze this presentation slide background image. 
            Identify the optimal "safe area" for placing text content. This should be a large, continuous empty or low-contrast space.
            Avoid covering important visual elements (logos, complex graphics).
            
            Return ONLY a JSON object with this structure:
            {
                "safe_area": { 
                    "x": number (percentage 0-100 from left), 
                    "y": number (percentage 0-100 from top), 
                    "w": number (percentage 0-100 width), 
                    "h": number (percentage 0-100 height) 
                },
                "font_color": string (hex color code best for contrast on this area, e.g. "#FFFFFF" or "#000000")
            }
        `,a=e.replace(/^data:image\/\w+;base64,/,""),s=(await n.generateContent([r,{inlineData:{data:a,mimeType:((l=e.match(/data:([^;]+);base64,/))==null?void 0:l[1])||"image/png"}}])).response.text();return this.parseJSON(s)}async optimizeContentForSlide(e,n){if(!this.genAI)throw new Error("Gemini API not configured");const r=this.genAI.getGenerativeModel({model:localStorage.getItem("GEMINI_TEXT_MODEL")||"gemini-1.5-flash"}),a=`
            You are a Presentation Design Expert.
            Refactor the following raw content to fit into a specific slide layout: "${n}".
            
            Global Rules:
            1. LANGUAGE: PORTUGUESE (BRAZIL) - MANDATORY.
            2. Maintain ALL critical information and details. Do NOT summarize too aggressively.
            3. Use concise bullet points for readability, but keep the depth of content.
            4. Use strong action verbs.
            5. Output must be in Markdown format (using * or - for bullets, ** for bold).
            6. Do NOT output a JSON, just the Markdown text.
            7. Ensure the text fits the description provided, optimizing line breaks if needed.

            Content to Refactor:
            ${e}
        `;return(await r.generateContent(a)).response.text()}async distributeContentAcrossSlides(e,n){if(!this.genAI)throw new Error("Gemini API not configured");const r=this.genAI.getGenerativeModel({model:localStorage.getItem("GEMINI_TEXT_MODEL")||"gemini-1.5-flash",generationConfig:{responseMimeType:"application/json"}}),i={context_overview:1300,technical_solution:2400,architecture_diagram:500,implementation_steps:1750,testing_strategy:1650,scope:1580,non_scope:1580,budget:1580,risks:1680,technical_premises:2500,team_structure:2e3,client_responsibilities:2e3,raci_matrix:2e3}[n]||1600,l=["technical_solution","implementation_steps","testing_strategy","scope","non_scope","budget","risks"].includes(n),c=e.length,d=Math.max(1,Math.ceil(c/i));let u="",h="";l?(d===1?u=`Length: ${c} chars. Capacity: ${i}. FIT: YES. Use 1 slide with Dual Columns.`:u=`Length: ${c} chars. Capacity: ${i}. FIT: NO. Split into approx ${d} slides (Dual Column each).`,h=`
                You are an Expert Presentation Layout Agent.
                Your goal is to format the provided text into a specialized "Executive Summary + Dual Column" layout.
                
                Technical Data:
                - Content Type: ${n}
                - Input Length: ${c} chars
                - Limit per Slide: ${i} chars
                - Analysis: ${u}
                
                Layout Requirements per Slide:
                1. **Summary Box (Top)**: Extract a refined, high-impact 1-sentence executive summary/subtitle for the slide.
                2. **Dual Columns (Body)**: Split the remaining detailed content into two semantically balanced columns (Left and Right).
                
                Rules:
                1. Language: Portuguese (Brazil).
                2. Balance the text between Left and Right columns visually (approx same length).
                3. Maintain bullet points and formatting.
                4. Do NOT split slides unless absolutely necessary (> ${i} chars).
                5. If splitting, ensure each slide has its own Summary and balanced columns.

                Input Text:
                "${e}"

                Output JSON Schema:
                [
                    {
                        "title_suffix": "", // e.g. "" or "(Cont.)"
                        "summary": "High-level executive summary of this slide's content",
                        "left_column": "Markdown text for left column",
                        "right_column": "Markdown text for right column",
                        "content": "", // Leave empty for this layout
                        "font_size": 10, // Default to 10 for dense 2-col layouts
                        "columns": 2
                    }
                ]
            `):(d===1?u="Character count: "+c+". Limit: "+i+". FIT: YES. Put ALL this content in 1 slide.":u="Character count: "+c+". Limit: "+i+". FIT: NO. Split into approx "+d+" slides.",h=`
                You are an Expert Presentation Layout Agent.
                Your task is to distribute the provided text into one or more slides based STRICTLY on the capacity limits provided.
                
                Technical Data:
                - Content Type: ${n}
                - Input Length: ${c} chars
                - Strict Capacity Limit: ${i} chars per slide
                - Analysis: ${u}
                - Layout: ${n==="context_overview"?"Vertical Column (Narrow): Width 4 inches, Height 4 inches.":"Standard Slide (Wide): Width 9 inches, Height 4 inches."}
                
                Rules:
                1. LANGUAGE: Portuguese (Brazil).
                2. PRIMARY GOAL: Fill each slide up to the capacity limit (${i} chars) before creating a new one.
                3. Do NOT match semantic blocks if it wastes significant space. Prioritize filling the slide.
                4. If the text fits in the limit, DO NOT SPLIT, absolutely forbidden.
                5. ALWAYS use a single full-width column (columns: 1).
                6. Return a JSON structure defining the slides.

                Input Text:
                "${e}"

                Output JSON Schema:
                [
                    {
                        "title_suffix": "", // e.g. "" for first slide, "(Cont.)" for others
                        "content": "markdown content for this specific slide",
                        "font_size": 11, // Default 11, reduce to 10 or 9 ONLY if very close to limit overflow
                        "columns": 1
                    }
                ]
            `);const m=(await r.generateContent(h)).response.text();return this.parseJSON(m)}async generateProjectDoubts(e,n){if(!this.genAI)throw new Error("Gemini API not configured");const r=this.genAI.getGenerativeModel({model:"gemini-2.5-flash",generationConfig:{responseMimeType:"application/json"}}),a=`
            Voc  um Auditor Tcnico Snior.
            Sua misso  gerar uma LISTA EXAUSTIVA de dvidas e pontos de ateno que precisam ser esclarecidos para garantir uma estimativa de projeto 100% segura.
            
            CONTEXTO ATUAL DO PROJETO:
            ${n}
            
            INSTRUES:
            1. Analise o contexto acima e todo o histrico da conversa (que ser enviado junto).
            2. Identifique lacunas, riscos, ou definies vagas em:
               - Requisitos Funcionais
               - Requisitos Tcnicos (Infra, Segurana, Performance)
               - Modelo de Negcio / Faturamento
               - Integraes
               - Dados (Migrao, Volumetria)
            3. Ignore o que J FOI RESPONDIDO. Foque no que FALTA.
            4. VERIFICAO MANDATRIA (Se no estiver claro no material):
               - [STACK]: Pergunte: "Qual a Stack Tecnolgica definida ou o contratado tem liberdade para sugerir?"
               - [INFRA]: Pergunte: "Qual provider de Cloud deve ser considerado (AWS/Azure/GCP) ou se a infraestrutura ser On-Premise?"
            5. Gere uma lista JSON plana com todas as dvidas. No h limite de quantidade, mas evite repeties bvias.
            
            SADA JSON ESPERADA:
            [
                { 
                    "category": "Infraestrutura", 
                    "question": "Qual a volumetria estimada de acessos simultneos?", 
                    "reason": "Necessrio para dimensionar Cluster Kubernetes." 
                }
            ]
        `,l=(await r.startChat({history:e}).sendMessage(a)).response.text(),c=this.parseJSON(l);return Array.isArray(c)?c:[]}}const zn=new wV;var fT={exports:{}},_V="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",CV=_V,EV=CV;function pT(){}function mT(){}mT.resetWarningCache=pT;var NV=function(){function t(r,a,i,s,l,c){if(c!==EV){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:mT,resetWarningCache:pT};return n.PropTypes=n,n};fT.exports=NV();var IV=fT.exports;const qt=RA(IV),SV=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function lc(t,e,n){const r=TV(t),{webkitRelativePath:a}=t,i=typeof e=="string"?e:typeof a=="string"&&a.length>0?a:`./${t.name}`;return typeof r.path!="string"&&N_(r,"path",i),N_(r,"relativePath",i),r}function TV(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),a=SV.get(r);a&&Object.defineProperty(t,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return t}function N_(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const kV=[".DS_Store","Thumbs.db"];function DV(t){return Oo(this,void 0,void 0,function*(){return Np(t)&&RV(t.dataTransfer)?LV(t.dataTransfer,t.type):PV(t)?jV(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?MV(t):[]})}function RV(t){return Np(t)}function PV(t){return Np(t)&&Np(t.target)}function Np(t){return typeof t=="object"&&t!==null}function jV(t){return yA(t.target.files).map(e=>lc(e))}function MV(t){return Oo(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>lc(n))})}function LV(t,e){return Oo(this,void 0,void 0,function*(){if(t.items){const n=yA(t.items).filter(a=>a.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(OV));return I_(gT(r))}return I_(yA(t.files).map(n=>lc(n)))})}function I_(t){return t.filter(e=>kV.indexOf(e.name)===-1)}function yA(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function OV(t){if(typeof t.webkitGetAsEntry!="function")return S_(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?AT(e):S_(t,e)}function gT(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?gT(n):[n]],[])}function S_(t,e){return Oo(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const i=yield t.getAsFileSystemHandle();if(i===null)throw new Error(`${t} is not a File`);if(i!==void 0){const s=yield i.getFile();return s.handle=i,lc(s)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return lc(r,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function FV(t){return Oo(this,void 0,void 0,function*(){return t.isDirectory?AT(t):BV(t)})}function AT(t){const e=t.createReader();return new Promise((n,r)=>{const a=[];function i(){e.readEntries(s=>Oo(this,void 0,void 0,function*(){if(s.length){const l=Promise.all(s.map(FV));a.push(l),i()}else try{const l=yield Promise.all(a);n(l)}catch(l){r(l)}}),s=>{r(s)})}i()})}function BV(t){return Oo(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const a=lc(r,t.fullPath);e(a)},r=>{n(r)})})})}var Sg=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",a=(t.type||"").toLowerCase(),i=a.replace(/\/.*$/,"");return n.some(function(s){var l=s.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?i===l.replace(/\/.*$/,""):a===l})}return!0};function T_(t){return UV(t)||VV(t)||yT(t)||zV()}function zV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VV(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UV(t){if(Array.isArray(t))return vA(t)}function k_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function D_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k_(Object(n),!0).forEach(function(r){xT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xT(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vu(t,e){return $V(t)||WV(t,e)||yT(t,e)||GV()}function GV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yT(t,e){if(t){if(typeof t=="string")return vA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vA(t,e)}}function vA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WV(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],a=!0,i=!1,s,l;try{for(n=n.call(t);!(a=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw l}}return r}}function $V(t){if(Array.isArray(t))return t}var qV=typeof Sg=="function"?Sg:Sg.default,HV="file-invalid-type",QV="file-too-large",XV="file-too-small",KV="too-many-files",YV=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:HV,message:"File type must be ".concat(r)}},R_=function(e){return{code:QV,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},P_=function(e){return{code:XV,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},JV={code:KV,message:"Too many files"};function vT(t,e){var n=t.type==="application/x-moz-file"||qV(t,e);return[n,n?null:YV(e)]}function bT(t,e,n){if(Qs(t.size))if(Qs(e)&&Qs(n)){if(t.size>n)return[!1,R_(n)];if(t.size<e)return[!1,P_(e)]}else{if(Qs(e)&&t.size<e)return[!1,P_(e)];if(Qs(n)&&t.size>n)return[!1,R_(n)]}return[!0,null]}function Qs(t){return t!=null}function ZV(t){var e=t.files,n=t.accept,r=t.minSize,a=t.maxSize,i=t.multiple,s=t.maxFiles,l=t.validator;return!i&&e.length>1||i&&s>=1&&e.length>s?!1:e.every(function(c){var d=vT(c,n),u=vu(d,1),h=u[0],p=bT(c,r,a),m=vu(p,1),g=m[0],A=l?l(c):null;return h&&g&&!A})}function Ip(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Oh(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function j_(t){t.preventDefault()}function e8(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function t8(t){return t.indexOf("Edge/")!==-1}function n8(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return e8(t)||t8(t)}function ba(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];return e.some(function(l){return!Ip(r)&&l&&l.apply(void 0,[r].concat(i)),Ip(r)})}}function r8(){return"showOpenFilePicker"in window}function a8(t){if(Qs(t)){var e=Object.entries(t).filter(function(n){var r=vu(n,2),a=r[0],i=r[1],s=!0;return wT(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(i)||!i.every(_T))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(n,r){var a=vu(r,2),i=a[0],s=a[1];return D_(D_({},n),{},xT({},i,s))},{});return[{description:"Files",accept:e}]}return t}function i8(t){if(Qs(t))return Object.entries(t).reduce(function(e,n){var r=vu(n,2),a=r[0],i=r[1];return[].concat(T_(e),[a],T_(i))},[]).filter(function(e){return wT(e)||_T(e)}).join(",")}function s8(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function o8(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function wT(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function _T(t){return/^.*\.[\w]+$/.test(t)}var l8=["children"],c8=["open"],d8=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],u8=["refKey","onChange","onClick"];function h8(t){return m8(t)||p8(t)||CT(t)||f8()}function f8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p8(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function m8(t){if(Array.isArray(t))return bA(t)}function Tg(t,e){return x8(t)||A8(t,e)||CT(t,e)||g8()}function g8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CT(t,e){if(t){if(typeof t=="string")return bA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bA(t,e)}}function bA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A8(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],a=!0,i=!1,s,l;try{for(n=n.call(t);!(a=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw l}}return r}}function x8(t){if(Array.isArray(t))return t}function M_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M_(Object(n),!0).forEach(function(r){wA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wA(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sp(t,e){if(t==null)return{};var n=y8(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function y8(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}var Uy=L.forwardRef(function(t,e){var n=t.children,r=Sp(t,l8),a=Tp(r),i=a.open,s=Sp(a,c8);return L.useImperativeHandle(e,function(){return{open:i}},[i]),ue.createElement(L.Fragment,null,n(nn(nn({},s),{},{open:i})))});Uy.displayName="Dropzone";var ET={disabled:!1,getFilesFromEvent:DV,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Uy.defaultProps=ET;Uy.propTypes={children:qt.func,accept:qt.objectOf(qt.arrayOf(qt.string)),multiple:qt.bool,preventDropOnDocument:qt.bool,noClick:qt.bool,noKeyboard:qt.bool,noDrag:qt.bool,noDragEventsBubbling:qt.bool,minSize:qt.number,maxSize:qt.number,maxFiles:qt.number,disabled:qt.bool,getFilesFromEvent:qt.func,onFileDialogCancel:qt.func,onFileDialogOpen:qt.func,useFsAccessApi:qt.bool,autoFocus:qt.bool,onDragEnter:qt.func,onDragLeave:qt.func,onDragOver:qt.func,onDrop:qt.func,onDropAccepted:qt.func,onDropRejected:qt.func,onError:qt.func,validator:qt.func};var _A={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Tp(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=nn(nn({},ET),t),n=e.accept,r=e.disabled,a=e.getFilesFromEvent,i=e.maxSize,s=e.minSize,l=e.multiple,c=e.maxFiles,d=e.onDragEnter,u=e.onDragLeave,h=e.onDragOver,p=e.onDrop,m=e.onDropAccepted,g=e.onDropRejected,A=e.onFileDialogCancel,v=e.onFileDialogOpen,x=e.useFsAccessApi,y=e.autoFocus,w=e.preventDropOnDocument,T=e.noClick,I=e.noKeyboard,R=e.noDrag,_=e.noDragEventsBubbling,N=e.onError,E=e.validator,k=L.useMemo(function(){return i8(n)},[n]),P=L.useMemo(function(){return a8(n)},[n]),C=L.useMemo(function(){return typeof v=="function"?v:L_},[v]),D=L.useMemo(function(){return typeof A=="function"?A:L_},[A]),b=L.useRef(null),O=L.useRef(null),z=L.useReducer(v8,_A),G=Tg(z,2),Q=G[0],q=G[1],ne=Q.isFocused,Y=Q.isFileDialogActive,K=L.useRef(typeof window<"u"&&window.isSecureContext&&x&&r8()),ce=function(){!K.current&&Y&&setTimeout(function(){if(O.current){var re=O.current.files;re.length||(q({type:"closeDialog"}),D())}},300)};L.useEffect(function(){return window.addEventListener("focus",ce,!1),function(){window.removeEventListener("focus",ce,!1)}},[O,Y,D,K]);var ie=L.useRef([]),oe=function(re){b.current&&b.current.contains(re.target)||(re.preventDefault(),ie.current=[])};L.useEffect(function(){return w&&(document.addEventListener("dragover",j_,!1),document.addEventListener("drop",oe,!1)),function(){w&&(document.removeEventListener("dragover",j_),document.removeEventListener("drop",oe))}},[b,w]),L.useEffect(function(){return!r&&y&&b.current&&b.current.focus(),function(){}},[b,y,r]);var ge=L.useCallback(function(J){N?N(J):console.error(J)},[N]),je=L.useCallback(function(J){J.preventDefault(),J.persist(),Z(J),ie.current=[].concat(h8(ie.current),[J.target]),Oh(J)&&Promise.resolve(a(J)).then(function(re){if(!(Ip(J)&&!_)){var he=re.length,Ie=he>0&&ZV({files:re,accept:k,minSize:s,maxSize:i,multiple:l,maxFiles:c,validator:E}),Ee=he>0&&!Ie;q({isDragAccept:Ie,isDragReject:Ee,isDragActive:!0,type:"setDraggedFiles"}),d&&d(J)}}).catch(function(re){return ge(re)})},[a,d,ge,_,k,s,i,l,c,E]),ye=L.useCallback(function(J){J.preventDefault(),J.persist(),Z(J);var re=Oh(J);if(re&&J.dataTransfer)try{J.dataTransfer.dropEffect="copy"}catch{}return re&&h&&h(J),!1},[h,_]),me=L.useCallback(function(J){J.preventDefault(),J.persist(),Z(J);var re=ie.current.filter(function(Ie){return b.current&&b.current.contains(Ie)}),he=re.indexOf(J.target);he!==-1&&re.splice(he,1),ie.current=re,!(re.length>0)&&(q({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Oh(J)&&u&&u(J))},[b,u,_]),Te=L.useCallback(function(J,re){var he=[],Ie=[];J.forEach(function(Ee){var We=vT(Ee,k),pt=Tg(We,2),ct=pt[0],Be=pt[1],Ue=bT(Ee,s,i),at=Tg(Ue,2),Tt=at[0],mt=at[1],Nt=E?E(Ee):null;if(ct&&Tt&&!Nt)he.push(Ee);else{var ze=[Be,mt];Nt&&(ze=ze.concat(Nt)),Ie.push({file:Ee,errors:ze.filter(function(gt){return gt})})}}),(!l&&he.length>1||l&&c>=1&&he.length>c)&&(he.forEach(function(Ee){Ie.push({file:Ee,errors:[JV]})}),he.splice(0)),q({acceptedFiles:he,fileRejections:Ie,isDragReject:Ie.length>0,type:"setFiles"}),p&&p(he,Ie,re),Ie.length>0&&g&&g(Ie,re),he.length>0&&m&&m(he,re)},[q,l,k,s,i,c,p,m,g,E]),xe=L.useCallback(function(J){J.preventDefault(),J.persist(),Z(J),ie.current=[],Oh(J)&&Promise.resolve(a(J)).then(function(re){Ip(J)&&!_||Te(re,J)}).catch(function(re){return ge(re)}),q({type:"reset"})},[a,Te,ge,_]),Ne=L.useCallback(function(){if(K.current){q({type:"openDialog"}),C();var J={multiple:l,types:P};window.showOpenFilePicker(J).then(function(re){return a(re)}).then(function(re){Te(re,null),q({type:"closeDialog"})}).catch(function(re){s8(re)?(D(re),q({type:"closeDialog"})):o8(re)?(K.current=!1,O.current?(O.current.value=null,O.current.click()):ge(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ge(re)});return}O.current&&(q({type:"openDialog"}),C(),O.current.value=null,O.current.click())},[q,C,D,x,Te,ge,P,l]),Ce=L.useCallback(function(J){!b.current||!b.current.isEqualNode(J.target)||(J.key===" "||J.key==="Enter"||J.keyCode===32||J.keyCode===13)&&(J.preventDefault(),Ne())},[b,Ne]),j=L.useCallback(function(){q({type:"focus"})},[]),H=L.useCallback(function(){q({type:"blur"})},[]),X=L.useCallback(function(){T||(n8()?setTimeout(Ne,0):Ne())},[T,Ne]),F=function(re){return r?null:re},B=function(re){return I?null:F(re)},U=function(re){return R?null:F(re)},Z=function(re){_&&re.stopPropagation()},W=L.useMemo(function(){return function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},re=J.refKey,he=re===void 0?"ref":re,Ie=J.role,Ee=J.onKeyDown,We=J.onFocus,pt=J.onBlur,ct=J.onClick,Be=J.onDragEnter,Ue=J.onDragOver,at=J.onDragLeave,Tt=J.onDrop,mt=Sp(J,d8);return nn(nn(wA({onKeyDown:B(ba(Ee,Ce)),onFocus:B(ba(We,j)),onBlur:B(ba(pt,H)),onClick:F(ba(ct,X)),onDragEnter:U(ba(Be,je)),onDragOver:U(ba(Ue,ye)),onDragLeave:U(ba(at,me)),onDrop:U(ba(Tt,xe)),role:typeof Ie=="string"&&Ie!==""?Ie:"presentation"},he,b),!r&&!I?{tabIndex:0}:{}),mt)}},[b,Ce,j,H,X,je,ye,me,xe,I,R,r]),V=L.useCallback(function(J){J.stopPropagation()},[]),te=L.useMemo(function(){return function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},re=J.refKey,he=re===void 0?"ref":re,Ie=J.onChange,Ee=J.onClick,We=Sp(J,u8),pt=wA({accept:k,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:F(ba(Ie,xe)),onClick:F(ba(Ee,V)),tabIndex:-1},he,O);return nn(nn({},pt),We)}},[O,n,l,xe,r]);return nn(nn({},Q),{},{isFocused:ne&&!r,getRootProps:W,getInputProps:te,rootRef:b,inputRef:O,open:F(Ne)})}function v8(t,e){switch(e.type){case"focus":return nn(nn({},t),{},{isFocused:!0});case"blur":return nn(nn({},t),{},{isFocused:!1});case"openDialog":return nn(nn({},_A),{},{isFileDialogActive:!0});case"closeDialog":return nn(nn({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return nn(nn({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return nn(nn({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return nn({},_A);default:return t}}function L_(){}const b8="ProposalSlidesDB",xs="images",w8=1,Gy=()=>new Promise((t,e)=>{const n=indexedDB.open(b8,w8);n.onupgradeneeded=r=>{const a=r.target.result;a.objectStoreNames.contains(xs)||a.createObjectStore(xs)},n.onsuccess=()=>t(n.result),n.onerror=()=>e(n.error)}),_8=t=>new Promise((e,n)=>{const r=new FileReader;r.onloadend=()=>{r.result&&typeof r.result=="string"?e(r.result):n(new Error("Failed to read file"))},r.onerror=n,r.readAsDataURL(t)}),O_=async(t,e)=>{const n=await _8(e),r=await Gy();return new Promise((a,i)=>{const s=r.transaction(xs,"readwrite");s.objectStore(xs).put(n,t),s.oncomplete=()=>a(),s.onerror=()=>i(s.error)})},no=async t=>{const e=await Gy();return new Promise((n,r)=>{const s=e.transaction(xs,"readonly").objectStore(xs).get(t);s.onsuccess=()=>n(s.result||null),s.onerror=()=>r(s.error)})},F_=async t=>{const e=await Gy();return new Promise((n,r)=>{const a=e.transaction(xs,"readwrite");a.objectStore(xs).delete(t),a.oncomplete=()=>n(),a.onerror=()=>r(a.error)})},C8=["GG","G","M","P","PP"],B_=["PP","P","M","G","GG"],z_={"GG-PP":5,"GG-P":6,"GG-M":7,"GG-G":8,"GG-GG":9,"G-PP":4,"G-P":5,"G-M":6,"G-G":7,"G-GG":8,"M-PP":3,"M-P":4,"M-M":5,"M-G":6,"M-GG":7,"P-PP":2,"P-P":3,"P-M":4,"P-G":5,"P-GG":6,"PP-PP":1,"PP-P":2,"PP-M":3,"PP-G":4,"PP-GG":5},E8=[{id:"java-1",name:"Microservice Setup",technology:"Java",hours:16},{id:"java-2",name:"REST Controller (CRUD)",technology:"Java",hours:8},{id:"java-3",name:"Service Layer Logic",technology:"Java",hours:12},{id:"java-4",name:"JPA/Hibernate Entity & Repository",technology:"Java",hours:6},{id:"java-5",name:"DTO Mapping",technology:"Java",hours:4},{id:"java-6",name:"Security Configuration (JWT/OAuth)",technology:"Java",hours:16},{id:"java-7",name:"Unit Testing (JUnit/Mockito)",technology:"Java",hours:8},{id:"java-8",name:"Batch Job (Spring Batch)",technology:"Java",hours:24},{id:"java-9",name:"Exception Handler (Global)",technology:"Java",hours:6},{id:"java-10",name:"Integration with 3rd Party API",technology:"Java",hours:12},{id:"java-11",name:"Thymeleaf / JSP View (SSR)",technology:"Java",hours:8},{id:"java-12",name:"JSF / PrimeFaces Page",technology:"Java",hours:12},{id:"java-13",name:"EJB / Message Driven Bean",technology:"Java",hours:10},{id:"node-1",name:"Express/Fastify Server Setup",technology:"Node.js",hours:8},{id:"node-2",name:"API Route Handler",technology:"Node.js",hours:6},{id:"node-3",name:"Middleware (Auth/Logging)",technology:"Node.js",hours:8},{id:"node-4",name:"Database Schema (Mongoose/Prisma)",technology:"Node.js",hours:6},{id:"node-5",name:"Authentication Logic",technology:"Node.js",hours:12},{id:"node-6",name:"WebSocket / Real-time Handler",technology:"Node.js",hours:16},{id:"node-7",name:"Background Worker (Bull/Agenda)",technology:"Node.js",hours:12},{id:"node-8",name:"File Upload Service",technology:"Node.js",hours:8},{id:"node-9",name:"Utility/Helper Functions",technology:"Node.js",hours:4},{id:"node-10",name:"Unit Tests (Jest)",technology:"Node.js",hours:8},{id:"node-11",name:"SSR View (EJS / Pug / Handlebars)",technology:"Node.js",hours:8},{id:"node-12",name:"Serverless Function (AWS Lambda/Vercel)",technology:"Node.js",hours:6},{id:"py-1",name:"API Endpoint Function",technology:"Python",hours:6},{id:"py-2",name:"Pydantic Model / Marshmallow Schema",technology:"Python",hours:4},{id:"py-3",name:"Celery Task (Async)",technology:"Python",hours:12},{id:"py-4",name:"Data Processing Script (Pandas/Polars)",technology:"Python",hours:16},{id:"py-5",name:"Auth & Dependency Injection",technology:"Python",hours:8},{id:"py-6",name:"Scraper / Crawler Bot",technology:"Python",hours:12},{id:"py-7",name:"FastAPI Router Setup",technology:"Python",hours:4},{id:"py-8",name:"OpenCV / Image Processing Module",technology:"Python",hours:20},{id:"py-9",name:"Database Migration (Alembic)",technology:"Python",hours:6},{id:"py-10",name:"PyTest Suite",technology:"Python",hours:8},{id:"py-11",name:"Django Template / Jinja2 View",technology:"Python",hours:8},{id:"py-12",name:"Streamlit / Dash App Page",technology:"Python",hours:10},{id:"py-13",name:"AI Model Inference Pipeline",technology:"Python",hours:24},{id:"react-1",name:"Page/View Container",technology:"React",hours:8},{id:"react-2",name:"Reusable UI Component (Atom)",technology:"React",hours:6},{id:"react-3",name:"Complex Widget / Dashboard",technology:"React",hours:24},{id:"react-4",name:"Custom Hook",technology:"React",hours:4},{id:"react-5",name:"Context Provider / State Slice",technology:"React",hours:8},{id:"react-6",name:"Form with Validation (Hook Form)",technology:"React",hours:12},{id:"react-7",name:"Data Fetching Hook (SWR/TanStack)",technology:"React",hours:6},{id:"react-8",name:"Layout / Navigation Setup",technology:"React",hours:12},{id:"react-9",name:"Modal / Popup Manager",technology:"React",hours:6},{id:"react-10",name:"Integration Tests (React Testing Lib)",technology:"React",hours:12},{id:"react-11",name:"Redux Store / Slice Setup",technology:"React",hours:8},{id:"react-12",name:"Next.js Server Component (RSC)",technology:"React",hours:8},{id:"rn-1",name:"Screen Container",technology:"React Native",hours:10},{id:"rn-2",name:"Custom Native Module (Bridge)",technology:"React Native",hours:24},{id:"rn-3",name:"Navigation Setup (React Navigation)",technology:"React Native",hours:12},{id:"rn-4",name:"List View (FlatList optimized)",technology:"React Native",hours:8},{id:"rn-5",name:"Platform Specific Style/Logic",technology:"React Native",hours:6},{id:"rn-6",name:"Camera / Media Logic",technology:"React Native",hours:16},{id:"rn-7",name:"Push Notification Handler",technology:"React Native",hours:12},{id:"rn-8",name:"Offline Storage (MMKV/Realm)",technology:"React Native",hours:8},{id:"rn-9",name:"Authentication Flow (Mobile)",technology:"React Native",hours:12},{id:"rn-10",name:"Deep Linking Setup",technology:"React Native",hours:8},{id:"rn-11",name:"Expo Config / Permission Handler",technology:"React Native",hours:6},{id:"rn-12",name:"OTA Update Config (CodePush)",technology:"React Native",hours:8},{id:"android-1",name:"Activity / Fragment Layout",technology:"Android",hours:10},{id:"android-2",name:"ViewModel & LiveData/Flow",technology:"Android",hours:8},{id:"android-3",name:"RecyclerView Adapter",technology:"Android",hours:6},{id:"android-4",name:"Room Database Entity/DAO",technology:"Android",hours:8},{id:"android-5",name:"Retrofit API Service",technology:"Android",hours:6},{id:"android-6",name:"Custom View Component",technology:"Android",hours:16},{id:"android-7",name:"Background Service / Worker",technology:"Android",hours:16},{id:"android-8",name:"Dependency Injection (Hilt/Koin)",technology:"Android",hours:8},{id:"android-9",name:"Gradle Build / Flavor Config",technology:"Android",hours:6},{id:"android-10",name:"Jetpack Compose Screen",technology:"Android",hours:12},{id:"android-11",name:"BroadcastReceiver / Intent Filter",technology:"Android",hours:6},{id:"ios-1",name:"ViewController / SwiftUI View",technology:"iOS",hours:10},{id:"ios-2",name:"ViewModel (MVVM)",technology:"iOS",hours:8},{id:"ios-3",name:"CoreData / SwiftData Model",technology:"iOS",hours:10},{id:"ios-4",name:"Network Manager (Combine/Async)",technology:"iOS",hours:10},{id:"ios-5",name:"Custom Table/Collection Cell",technology:"iOS",hours:6},{id:"ios-6",name:"SwiftUI Animation/Transition",technology:"iOS",hours:8},{id:"ios-7",name:"App Delegate / Scene Config",technology:"iOS",hours:4},{id:"ios-8",name:"Coordinator Pattern",technology:"iOS",hours:12},{id:"ios-9",name:"StoreKit Integration (IAP)",technology:"iOS",hours:16},{id:"ios-10",name:"Local Notification Manager",technology:"iOS",hours:8},{id:"ios-11",name:"Widget Extension",technology:"iOS",hours:16},{id:"net-1",name:"ASP.NET Core Controller",technology:".NET",hours:8},{id:"net-2",name:"Entity Framework Model/Context",technology:".NET",hours:8},{id:"net-3",name:"Business Service Layer",technology:".NET",hours:10},{id:"net-4",name:"LINQ Query / Repository Method",technology:".NET",hours:6},{id:"net-5",name:"Dependency Injection Config",technology:".NET",hours:4},{id:"net-6",name:"SignalR Hub (Real-time)",technology:".NET",hours:12},{id:"net-7",name:"Background Hosted Service",technology:".NET",hours:12},{id:"net-8",name:"Identity / Auth Setup",technology:".NET",hours:16},{id:"net-9",name:"Blazor Component",technology:".NET",hours:10},{id:"net-10",name:"NUnit / XUnit Test Class",technology:".NET",hours:8},{id:"net-11",name:"ASP.NET MVC View (Razor)",technology:".NET",hours:8},{id:"net-12",name:"Razor Page (.cshtml)",technology:".NET",hours:8},{id:"net-13",name:"WPF Window / UserControl (XAML)",technology:".NET",hours:12},{id:"net-14",name:"MAUI / Xamarin Page",technology:".NET",hours:12},{id:"net-15",name:"Azure Function (Serverless)",technology:".NET",hours:6},{id:"net-16",name:"Minimal API Endpoint",technology:".NET",hours:4}],N8=()=>{const[t,e]=L.useState(z_),[n,r]=L.useState(E8),[a,i]=L.useState(""),[s,l]=L.useState(""),[c,d]=L.useState(""),[u,h]=L.useState(0),[p,m]=L.useState(null),[g,A]=L.useState(null),[v,x]=L.useState(!1),{getRootProps:y,getInputProps:w}=Tp({onDrop:C=>{const D=C[0];if(D){const b=new FileReader;b.onload=O=>{var G;const z=(G=O.target)==null?void 0:G.result;m(z),localStorage.setItem("PRICING_EXAMPLE_IMG",z)},b.readAsDataURL(D)}},accept:{"image/*":[]},maxFiles:1});L.useEffect(()=>{const C=localStorage.getItem("PRICING_EXAMPLE_IMG");C&&m(C)},[]);const T=(C,D,b)=>{e(O=>({...O,[`${C}-${D}`]:b}))},I=()=>{A(null),l(""),d(""),h(0),x(!0)},R=C=>{l(C.name),d(C.technology),h(C.hours),A(C.id),x(!0)},_=()=>{if(!(!s||!c||u<=0)){if(g)r(C=>C.map(D=>D.id===g?{...D,name:s,technology:c,hours:u}:D)),A(null);else{const C={id:Date.now().toString(),name:s,technology:c,hours:u};r([...n,C])}l(""),h(0),A(null)}},N=()=>{l(""),h(0),A(null)},E=(C,D)=>{D.stopPropagation(),r(b=>b.filter(O=>O.id!==C)),g===C&&N()},P=n.filter(C=>C.technology.toLowerCase().includes(a.toLowerCase())||C.name.toLowerCase().includes(a.toLowerCase())).reduce((C,D)=>(C[D.technology]||(C[D.technology]=[]),C[D.technology].push(D),C),{});return o.jsxs("div",{className:"h-full flex flex-col md:flex-row gap-6 p-6 overflow-hidden",children:[o.jsxs("div",{className:"w-full md:w-1/2 flex flex-col gap-6 overflow-y-auto pr-2",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden shrink-0",children:[o.jsxs("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200 flex justify-between items-center",children:[o.jsx("h3",{className:"font-bold text-gray-800",children:"Matriz: Complexidade x Incerteza"}),o.jsxs("button",{onClick:()=>e(z_),className:"text-xs text-gray-500 hover:text-indigo-600 flex items-center gap-1",children:[o.jsx(IE,{size:12})," Resetar"]})]}),o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex mb-1",children:[o.jsx("div",{className:"w-16"})," ",o.jsx("div",{className:"flex-1 grid grid-cols-5 text-center font-bold text-xs text-gray-600 bg-gray-100 rounded-t py-1",children:B_.map(C=>o.jsx("div",{className:`${C==="PP"?"bg-blue-100":C==="P"?"bg-blue-200":C==="M"?"bg-blue-300":C==="G"?"bg-blue-600 text-white":"bg-blue-800 text-white"} py-1 px-1 mx-0.5 rounded-sm`,children:C},C))})]}),C8.map(C=>o.jsxs("div",{className:"flex items-center mb-1",children:[o.jsx("div",{className:`w-16 h-8 flex items-center justify-center font-bold text-xs rounded-l mr-1 ${C==="GG"?"bg-orange-700 text-white":C==="G"?"bg-orange-500 text-white":C==="M"?"bg-orange-300 text-gray-800":C==="P"?"bg-orange-200 text-gray-800":"bg-orange-100 text-gray-800"}`,children:C}),o.jsx("div",{className:"flex-1 grid grid-cols-5 gap-1",children:B_.map(D=>o.jsx("input",{type:"number",value:t[`${C}-${D}`]||0,onChange:b=>T(C,D,parseFloat(b.target.value)),className:"w-full h-8 text-center text-sm border rounded bg-white hover:border-indigo-300 focus:border-indigo-600 focus:ring-1 focus:ring-indigo-600 outline-none transition-all"},`${C}-${D}`))})]},C)),o.jsx("div",{className:"text-center text-[10px] text-gray-400 mt-2",children:"* Valores representam pontos de peso."})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden shrink-0 min-h-[250px] flex flex-col",children:[o.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:o.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[o.jsx(Yl,{size:16,className:"text-gray-500"})," Exemplo de Referncia"]})}),o.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[o.jsxs("div",{...y(),className:`flex-1 min-h-[150px] border-2 border-dashed rounded-lg flex items-center justify-center flex-col gap-2 cursor-pointer transition-colors ${p?"border-indigo-200 bg-gray-50":"border-gray-300 hover:border-indigo-400 hover:bg-gray-50"}`,style:{backgroundImage:p?`url(${p})`:"none",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},children:[o.jsx("input",{...w()}),!p&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"p-3 bg-indigo-50 text-indigo-600 rounded-full",children:o.jsx(Mn,{size:24})}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Clique ou arraste uma imagem"}),o.jsx("p",{className:"text-xs text-gray-400",children:"Referncia visual para estimativa"})]})]})]}),p&&o.jsx("button",{onClick:C=>{C.stopPropagation(),m(null),localStorage.removeItem("PRICING_EXAMPLE_IMG")},className:"mt-2 text-xs text-red-500 hover:text-red-700 self-center",children:"Remover Imagem"})]})]})]}),o.jsxs("div",{className:"w-full md:w-1/2 flex flex-col h-full bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden relative",children:[o.jsxs("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200 flex justify-between items-center shrink-0",children:[o.jsx("h3",{className:"font-bold text-gray-800",children:"Unidades de Servio por Objeto"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:I,className:"flex items-center gap-1 px-3 py-1 bg-white border border-indigo-200 text-indigo-600 rounded-md text-xs font-bold hover:bg-indigo-50 hover:border-indigo-300 transition-colors shadow-sm",children:[o.jsx(Mn,{size:12})," Novo"]}),o.jsxs("div",{className:"relative",children:[o.jsx(pc,{size:14,className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Buscar...",value:a,onChange:C=>i(C.target.value),className:"pl-8 pr-2 py-1 text-xs border rounded-full focus:outline-none focus:border-indigo-500 w-32 md:w-40"})]})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 min-h-[400px]",children:Object.keys(P).length===0?o.jsx("div",{className:"text-center text-gray-400 py-10",children:"Nenhum componente encontrado."}):Object.entries(P).map(([C,D])=>o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:"text-xs font-bold text-indigo-600 bg-indigo-50 px-2 py-1 rounded inline-block mb-2 uppercase tracking-wide",children:C}),o.jsx("div",{className:"space-y-1",children:D.map(b=>o.jsxs("div",{className:"flex items-center justify-between text-sm p-2 rounded border border-transparent hover:bg-gray-50 hover:border-gray-100 transition-all",children:[o.jsx("span",{className:"font-medium text-gray-700 truncate mr-2",onClick:()=>R(b),children:b.name}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[o.jsxs("span",{className:"text-gray-500 font-mono bg-gray-100 px-2 py-0.5 rounded text-xs mr-2",children:[b.hours,"h"]}),o.jsx("button",{onClick:()=>R(b),className:"text-gray-400 hover:text-indigo-600 p-1 rounded transition-colors",title:"Editar",children:o.jsx(L0,{size:14})}),o.jsx("button",{onClick:O=>E(b.id,O),className:"text-gray-300 hover:text-red-500 hover:bg-red-50 p-1 rounded transition-colors",title:"Excluir",children:o.jsx($n,{size:14})})]})]},b.id))})]},C))}),v&&o.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-[1px]",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 w-full max-w-sm mx-4 animate-in fade-in zoom-in-95 duration-200 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:g?"Editar Componente":"Novo Componente"}),o.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(yr,{size:20})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Nome do Objeto"}),o.jsx("input",{type:"text",value:s,onChange:C=>l(C.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none text-sm",placeholder:"Ex: Login Screen",autoFocus:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Tecnologia"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",list:"tech-list-modal",value:c,onChange:C=>d(C.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none text-sm",placeholder:"Ex: React"}),o.jsx("datalist",{id:"tech-list-modal",children:Object.keys(P).map(C=>o.jsx("option",{value:C},C))})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Horas Estimadas"}),o.jsx("input",{type:"number",value:u||"",onChange:C=>h(parseFloat(C.target.value)),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none text-sm",placeholder:"0"})]}),o.jsxs("div",{className:"pt-2 flex gap-3",children:[o.jsx("button",{onClick:()=>x(!1),className:"flex-1 py-2 text-sm font-medium text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:()=>{_(),x(!1)},disabled:!s||!c||u<=0,className:"flex-1 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g?"Salvar":"Criar"})]})]})]})})]})]})},kg={slides:[{id:"auto-1",type:"automatic",name:"Contedo Gerado (Cronograma, Documentao, etc.)"}],branding:{}},I8=({slide:t,preview:e,branding:n,logoPreview:r,onClose:a,onSave:i})=>{var D,b;const s=t.type==="automatic",[l,c]=L.useState(t.overlays||[]),[d,u]=L.useState(n||{}),[h,p]=L.useState(null),[m,g]=L.useState(null),[A,v]=L.useState(!1),[x,y]=L.useState(null),[w,T]=L.useState(null),I=()=>{const O={id:Date.now().toString(),text:"Novo Texto",x:1,y:1,fontSize:18,color:"000000",bold:!1,width:8};c([...l,O]),g(O.id)},R=(O,z)=>{c(G=>G.map(Q=>Q.id===O?{...Q,...z}:Q))},_=O=>{c(z=>z.filter(G=>G.id!==O)),m===O&&g(null)},N=(O,z,G,Q)=>{O.stopPropagation(),g(z),v(!0),y({x:O.clientX,y:O.clientY}),T({x:G,y:Q})};L.useEffect(()=>{n&&(u(n),n.logoWidth&&n.logoHeight&&p(n.logoWidth/n.logoHeight))},[n]);const E=O=>{if(!A||!x||!w||!m)return;const z=O.clientX-x.x,G=O.clientY-x.y,Q=100,q=z/Q,ne=G/Q;m==="logo"?u(Y=>({...Y,logoX:Math.max(0,parseFloat((w.x+q).toFixed(2))),logoY:Math.max(0,parseFloat((w.y+ne).toFixed(2)))})):c(Y=>Y.map(K=>K.id===m?{...K,x:Math.max(0,parseFloat((w.x+q).toFixed(2))),y:Math.max(0,parseFloat((w.y+ne).toFixed(2)))}:K))},k=()=>{v(!1),y(null),T(null)},P=m==="logo"?null:l.find(O=>O.id===m),C=()=>{s?i([],d):i(l)};return o.jsx("div",{className:"fixed inset-0 z-[99999] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",onMouseUp:k,onMouseMove:E,children:o.jsxs("div",{className:"bg-white w-full max-w-6xl h-[90vh] rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100 bg-gray-50",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Editar Layout: ",t.name]}),o.jsx("p",{className:"text-xs text-gray-500",children:s?"Arraste o logo para posicionar. Ajuste configuraes na barra lateral.":"Adicione textos dinmicos. Arraste para mover."})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:a,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg text-sm font-medium transition-colors",children:"Cancelar"}),o.jsxs("button",{onClick:C,className:"px-4 py-2 bg-indigo-600 text-white hover:bg-indigo-700 rounded-lg text-sm font-medium shadow-sm transition-colors flex items-center gap-2",children:[o.jsx(Tu,{size:16})," Salvar Alteraes"]})]})]}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsx("div",{className:"flex-1 bg-gray-200 p-8 flex items-center justify-center overflow-auto relative select-none",children:o.jsxs("div",{className:"relative bg-white shadow-lg overflow-hidden",style:{width:"1000px",aspectRatio:"16/9",backgroundImage:!s&&e?`url(${e})`:"none",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},children:[s&&o.jsxs(o.Fragment,{children:[r&&o.jsx("div",{onMouseDown:O=>N(O,"logo",d.logoX??8.4,d.logoY??.15),className:`absolute cursor-move border-2 border-dashed ${m==="logo"?"border-indigo-600 z-10":"border-red-500/50 hover:border-red-600"} transition-colors`,style:{left:`${(d.logoX??8.4)/10*100}%`,top:`${(d.logoY??.15)/5.625*100}%`,width:`${(d.logoWidth??1.5)/10*100}%`,minHeight:"20px",backgroundColor:"rgba(255,0,0,0.05)"},children:o.jsx("img",{src:r,alt:"Logo",className:"w-full h-auto pointer-events-none",onLoad:O=>{const z=O.currentTarget.naturalWidth/O.currentTarget.naturalHeight;z&&!isNaN(z)&&p(z)}})}),o.jsx("div",{onMouseDown:O=>N(O,"title",d.titleX??.5,d.titleY??.5),className:`absolute cursor-move border-2 border-dashed ${m==="title"?"border-indigo-600 z-10":"border-gray-200 hover:border-gray-400"}`,style:{left:`${(d.titleX??.5)/10*100}%`,top:`${(d.titleY??.5)/5.625*100}%`,right:"5%",width:"auto",height:"auto"},children:o.jsx("h1",{className:"font-bold pointer-events-none whitespace-nowrap leading-none",style:{fontSize:"26px",color:"#00204A",fontFamily:"Arial, sans-serif"},children:"Soluo Tcnica & Escopo"})}),o.jsx("div",{onMouseDown:O=>N(O,"line",d.lineX??.5,d.lineY??.9),className:`absolute cursor-move border-2 border-dashed ${m==="line"?"border-indigo-600 z-10":"border-gray-200 hover:border-gray-400"} flex items-start justify-center`,style:{left:`${(d.lineX??.5)/10*100}%`,top:`${(d.lineY??.9)/5.625*100}%`,width:`${(d.lineWidth??9)/10*100}%`,height:"24px"},children:o.jsx("div",{className:"w-full pointer-events-none rounded-full mt-0",style:{height:"3px",backgroundColor:"#0072BC"}})})]}),!s&&l.map(O=>o.jsx("div",{onMouseDown:z=>N(z,O.id,O.x,O.y),className:`absolute cursor-move border hover:border-indigo-300 transition-colors ${m===O.id?"border-indigo-600 ring-1 ring-indigo-600 z-10":"border-transparent"}`,style:{left:`${O.x/10*100}%`,top:`${O.y/5.625*100}%`,fontSize:`${O.fontSize}px`,color:`#${O.color}`,fontWeight:O.bold?"bold":"normal",width:O.width?`${O.width/10*100}%`:"auto",height:O.height?`${O.height/5.625*100}%`:"auto",whiteSpace:O.width?"normal":"nowrap",wordWrap:"break-word",lineHeight:"1.2"},children:O.text},O.id))]})}),o.jsxs("div",{className:"w-80 bg-white border-l border-gray-200 p-4 flex flex-col gap-6 overflow-y-auto",children:[!s&&o.jsx("div",{className:"p-4 bg-indigo-50 rounded-xl border border-indigo-100 text-center",children:o.jsxs("button",{onClick:I,className:"w-full py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2 font-medium shadow-sm",children:[o.jsx(Mn,{size:16})," Adicionar Texto"]})}),s&&m==="logo"&&o.jsxs("div",{className:"space-y-4 animate-in slide-in-from-right-4 fade-in duration-200",children:[o.jsx("h4",{className:"text-sm font-bold text-gray-900 border-b pb-2",children:"Editar Logo"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"X (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:d.logoX??8.4,onChange:O=>u(z=>({...z,logoX:parseFloat(O.target.value)})),className:"w-full px-2 py-2 border rounded-lg text-sm"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Y (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:d.logoY??.15,onChange:O=>u(z=>({...z,logoY:parseFloat(O.target.value)})),className:"w-full px-2 py-2 border rounded-lg text-sm"})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Largura (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:d.logoWidth??1.5,onChange:O=>{const z=Math.max(.1,parseFloat(O.target.value));u(G=>({...G,logoWidth:z,logoHeight:h?z/h:G.logoHeight}))},className:"w-full px-2 py-2 border rounded-lg text-sm"})]})]}),s&&m==="title"&&o.jsxs("div",{className:"space-y-4 animate-in slide-in-from-right-4 fade-in duration-200",children:[o.jsx("h4",{className:"text-sm font-bold text-gray-900 border-b pb-2",children:"Editar Ttulo"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"X (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:d.titleX??.5,onChange:O=>u(z=>({...z,titleX:parseFloat(O.target.value)})),className:"w-full px-2 py-2 border rounded-lg text-sm"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Y (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:d.titleY??.5,onChange:O=>u(z=>({...z,titleY:parseFloat(O.target.value)})),className:"w-full px-2 py-2 border rounded-lg text-sm"})]})]})]}),s&&m==="line"&&o.jsxs("div",{className:"space-y-4 animate-in slide-in-from-right-4 fade-in duration-200",children:[o.jsx("h4",{className:"text-sm font-bold text-gray-900 border-b pb-2",children:"Editar Linha Divisria"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"X (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:d.lineX??.5,onChange:O=>u(z=>({...z,lineX:parseFloat(O.target.value)})),className:"w-full px-2 py-2 border rounded-lg text-sm"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Y (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:d.lineY??.9,onChange:O=>u(z=>({...z,lineY:parseFloat(O.target.value)})),className:"w-full px-2 py-2 border rounded-lg text-sm"})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Largura (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:d.lineWidth??9,onChange:O=>u(z=>({...z,lineWidth:parseFloat(O.target.value)})),className:"w-full px-2 py-2 border rounded-lg text-sm"})]})]}),P?o.jsxs("div",{className:"space-y-4 animate-in slide-in-from-right-4 fade-in duration-200",children:[o.jsx("h4",{className:"text-sm font-bold text-gray-900 border-b pb-2",children:"Editar Texto Selecionado"}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Contedo"}),o.jsx("input",{type:"text",value:P.text,onChange:O=>R(P.id,{text:O.target.value}),className:"w-full px-3 py-2 border rounded-lg text-sm bg-gray-50 focus:bg-white transition-colors outline-none focus:ring-2 focus:ring-indigo-500"}),o.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[o.jsxs("button",{onClick:()=>R(P.id,{text:P.text+"{cliente}"}),className:"px-2 py-1 bg-indigo-50 text-indigo-700 hover:bg-indigo-100 border border-indigo-200 rounded text-[10px] font-medium transition-colors",title:"Nome do Cliente",children:["+ ","{cliente}"]}),o.jsxs("button",{onClick:()=>R(P.id,{text:P.text+"{projeto}"}),className:"px-2 py-1 bg-indigo-50 text-indigo-700 hover:bg-indigo-100 border border-indigo-200 rounded text-[10px] font-medium transition-colors",title:"Nome do Projeto",children:["+ ","{projeto}"]}),o.jsxs("button",{onClick:()=>R(P.id,{text:P.text+"{data}"}),className:"px-2 py-1 bg-indigo-50 text-indigo-700 hover:bg-indigo-100 border border-indigo-200 rounded text-[10px] font-medium transition-colors",title:"Data Atual (DD/MM/AAAA)",children:["+ ","{data}"]}),o.jsxs("button",{onClick:()=>R(P.id,{text:P.text+"{contexto}"}),className:"px-2 py-1 bg-indigo-50 text-indigo-700 hover:bg-indigo-100 border border-indigo-200 rounded text-[10px] font-medium transition-colors",title:"Contedo: Context Overview",children:["+ ","{contexto}"]}),o.jsx("button",{onClick:()=>R(P.id,{text:P.text+"[budget]"}),className:"px-2 py-1 bg-indigo-50 text-indigo-700 hover:bg-indigo-100 border border-indigo-200 rounded text-[10px] font-medium transition-colors",title:"Contedo: Budget",children:"+ [budget]"})]}),o.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Variveis sero preenchidas ao gerar o PPT."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"X (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:P.x,onChange:O=>R(P.id,{x:parseFloat(O.target.value)}),className:"w-full px-2 py-2 border rounded-lg text-sm"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Y (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:P.y,onChange:O=>R(P.id,{y:parseFloat(O.target.value)}),className:"w-full px-2 py-2 border rounded-lg text-sm"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"W (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:P.width&&P.width>0?P.width:"",onChange:O=>R(P.id,{width:parseFloat(O.target.value)||0}),className:"w-full px-2 py-2 border rounded-lg text-sm",placeholder:"Auto"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"H (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:P.height&&P.height>0?P.height:"",onChange:O=>R(P.id,{height:parseFloat(O.target.value)||0}),className:"w-full px-2 py-2 border rounded-lg text-sm",placeholder:"Auto"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Tamanho (pt)"}),o.jsx("input",{type:"number",value:P.fontSize,onChange:O=>R(P.id,{fontSize:parseInt(O.target.value)}),className:"w-full px-3 py-2 border rounded-lg text-sm"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Cor (Hex)"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"relative w-8 h-8 rounded border border-gray-300 overflow-hidden shrink-0 cursor-pointer",children:o.jsx("input",{type:"color",value:`#${P.color}`,onChange:O=>R(P.id,{color:O.target.value.replace("#","").toUpperCase()}),className:"absolute inset-0 w-[150%] h-[150%] -top-1/4 -left-1/4 p-0 m-0 border-0 cursor-pointer"})}),o.jsx("input",{type:"text",value:P.color,onChange:O=>R(P.id,{color:O.target.value.replace("#","").toUpperCase()}),className:"w-full px-3 py-2 border rounded-lg text-sm font-mono uppercase",maxLength:6})]})]})]}),o.jsx("div",{className:"flex items-center gap-2 pt-2",children:o.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer select-none",children:[o.jsx("input",{type:"checkbox",checked:P.bold,onChange:O=>R(P.id,{bold:O.target.checked}),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),"Negrito"]})}),o.jsxs("button",{onClick:()=>_(P.id),className:"w-full mt-4 py-2 text-red-600 hover:bg-red-50 border border-red-200 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2",children:[o.jsx($n,{size:14})," Excluir Texto"]})]}):!s&&o.jsx("div",{className:"text-center text-gray-400 mt-10 text-sm",children:"Selecione um texto para editar"}),s&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[o.jsx("h5",{className:"text-xs font-bold text-gray-500 mb-2 uppercase",children:"Ferramentas de Logo"}),o.jsxs("div",{className:"text-[10px] text-gray-400 font-mono mb-2",children:["Pos: ",((D=d.logoX)==null?void 0:D.toFixed(2))??"?",'" x ',((b=d.logoY)==null?void 0:b.toFixed(2))??"?",'"']}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[o.jsx("button",{onClick:()=>u(O=>({...O,logoX:8.4,logoY:.15})),className:"py-1 px-2 bg-gray-50 text-gray-600 rounded text-[10px] hover:bg-gray-100 border border-gray-200",children:"Resetar (Canto)"}),o.jsx("button",{onClick:()=>u(O=>({...O,logoX:4,logoY:2.5})),className:"py-1 px-2 bg-gray-50 text-gray-600 rounded text-[10px] hover:bg-gray-100 border border-gray-200",children:"Mover Centro"}),o.jsx("button",{onClick:()=>{h&&d.logoWidth&&u(O=>({...O,logoHeight:O.logoWidth/h}))},className:"col-span-2 py-1 px-2 bg-indigo-50 text-indigo-700 rounded text-[10px] hover:bg-indigo-100 border border-indigo-200 font-bold",children:"Corrigir Proporo (Original)"})]})]}),s&&!m&&o.jsx("div",{className:"text-center text-gray-400 mt-2 text-xs px-4",children:r?"O logo est destacado com borda vermelha/azul para facilitar a localizao.":o.jsxs("div",{className:"text-red-500",children:["Nenhum logo disponvel.",o.jsx("br",{}),'Carregue um logo na seo "Branding Global".']})})]})]})]})})},S8=({slide:t,onDelete:e,onEdit:n,preview:r})=>{const{attributes:a,listeners:i,setNodeRef:s,transform:l,transition:c,isDragging:d}=tN({id:t.id}),u={transform:Jl.Transform.toString(l),transition:c,zIndex:d?9999:"auto"},h=t.type==="automatic";return o.jsxs("div",{ref:s,style:u,className:`flex items-center gap-3 p-3 rounded-lg border mb-2 ${d?"shadow-lg ring-2 ring-indigo-500 bg-white":"bg-white border-gray-200"}`,children:[o.jsx("div",{...a,...i,className:"cursor-grab text-gray-400 hover:text-gray-600 p-1",children:o.jsx(EE,{size:20})}),o.jsx("div",{className:`p-1 rounded overflow-hidden flex-shrink-0 border border-gray-100 ${h?"bg-indigo-50":"bg-gray-50"}`,children:r?o.jsx("img",{src:r,alt:"Slide Preview",className:"h-10 w-16 object-cover rounded-sm"}):o.jsx("div",{className:`h-10 w-16 flex items-center justify-center ${h?"text-indigo-400":"text-gray-300"}`,children:h?o.jsx(M0,{size:20}):o.jsx(Yl,{size:20})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:`text-sm font-medium truncate ${h?"text-indigo-900":"text-gray-900"}`,children:t.name}),t.type==="automatic"&&o.jsx("span",{className:"text-[10px] text-indigo-500 uppercase font-bold tracking-wider",children:"Sistema"}),t.type==="custom"&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-[10px] text-gray-400",children:"Slide Fixo (Imagem)"}),t.overlays&&t.overlays.length>0&&o.jsxs("span",{className:"text-[10px] bg-indigo-50 text-indigo-600 px-1.5 py-0.5 rounded-full font-medium",children:[t.overlays.length," textos"]})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:()=>n&&n(t),className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:h?"Editar Layout/Branding":"Editar Textos Sobrepostos",children:h?o.jsx(M0,{size:18}):o.jsx(ni,{size:18})}),!h&&o.jsx("button",{onClick:()=>e(t.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded transition-colors",title:"Excluir Slide",children:o.jsx($n,{size:18})})]})]})},T8=()=>{const{user:t,isAdmin:e,approveUser:n,toggleAI:r}=zy(),[a,i]=L.useState("general"),[s,l]=L.useState(""),[c,d]=L.useState(!1),[u,h]=L.useState(""),[p,m]=L.useState("gemini-1.5-flash"),[g,A]=L.useState("gemini-3-pro-image-preview"),[v,x]=L.useState(""),[y,w]=L.useState(""),[T,I]=L.useState(""),[R,_]=L.useState(""),[N,E]=L.useState("initial"),[k,P]=L.useState(kg),[C,D]=L.useState(null),[b,O]=L.useState(null),[z,G]=L.useState(!1),[Q,q]=L.useState([]);L.useEffect(()=>{var Ee;const U=localStorage.getItem("GEMINI_API_KEY");U&&l(U);const Z=localStorage.getItem("GEMINI_TEXT_MODEL");Z&&m(Z);const W=localStorage.getItem("GEMINI_IMAGE_MODEL");W&&A(W);const V=localStorage.getItem("GEMINI_CUSTOM_CONTEXT_RULES");x(V||Af);const te=localStorage.getItem("GEMINI_INTERVIEWER_RULES");w(te||mf);const J=localStorage.getItem("GEMINI_INITIAL_UNDERSTANDING_PROMPT");I(J||gf);const re=localStorage.getItem("GEMINI_ARCHITECTURE_PROMPT");_(re||hT),localStorage.getItem("PPT_SMART_DESIGN_ENABLED")==="true"&&G(!0);const Ie=localStorage.getItem("PPT_TEMPLATE_CONFIG");if(Ie)try{const We=JSON.parse(Ie);We.slides.find(pt=>pt.type==="automatic")||We.slides.push(kg.slides[0]),P(We),(Ee=We.branding)!=null&&Ee.logoId&&no(We.branding.logoId).then(D)}catch(We){console.error("Failed to load template config",We)}},[]),L.useEffect(()=>{localStorage.setItem("GEMINI_CUSTOM_CONTEXT_RULES",v)},[v]),L.useEffect(()=>{localStorage.setItem("GEMINI_INITIAL_UNDERSTANDING_PROMPT",T)},[T]),L.useEffect(()=>{localStorage.setItem("GEMINI_INTERVIEWER_RULES",y)},[y]),L.useEffect(()=>{localStorage.setItem("GEMINI_ARCHITECTURE_PROMPT",R)},[R]),L.useEffect(()=>{k!==kg&&localStorage.setItem("PPT_TEMPLATE_CONFIG",JSON.stringify(k))},[k]),L.useEffect(()=>{localStorage.setItem("PPT_SMART_DESIGN_ENABLED",String(z))},[z]);const[ne,Y]=L.useState({});L.useEffect(()=>{a==="template"&&(async()=>{const Z={};let W=!1;for(const V of k.slides)if(V.type==="custom"&&V.imageId&&!ne[V.id])try{const te=await no(V.imageId);te&&(Z[V.id]=te,W=!0)}catch(te){console.error(`Failed to load preview for slide ${V.id}`,te)}W&&Y(V=>({...V,...Z}))})()},[k.slides,ne,a]),L.useEffect(()=>{if(!e)return;const U=Li(bn(ot,"users"),vS("createdAt","desc")),Z=wl(U,W=>{const V=W.docs.map(te=>te.data());q(V)});return()=>Z()},[e]);const K=DE(ep(Yp),ep(Kp,{coordinateGetter:nN})),ce=U=>{const{active:Z,over:W}=U;W&&Z.id!==W.id&&P(V=>{const te=V.slides.findIndex(he=>he.id===Z.id),J=V.slides.findIndex(he=>he.id===W.id),re=em(V.slides,te,J);return{...V,slides:re}})},ie=L.useCallback(async U=>{if(U.length===0)return;const Z=[...U].sort((V,te)=>V.name.localeCompare(te.name,void 0,{numeric:!0,sensitivity:"base"})),W=[];for(const V of Z){const te=`slide-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,J=`img-${te}`;try{await O_(J,V),W.push({id:te,type:"custom",name:V.name.replace(/\.[^/.]+$/,""),imageId:J})}catch(re){console.error(re),alert(`Erro ao salvar imagem do slide ${V.name}.`)}}W.length>0&&P(V=>({...V,slides:[...V.slides,...W]}))},[]),{getRootProps:oe,getInputProps:ge}=Tp({onDrop:ie,accept:{"image/*":[]},multiple:!0}),je=async U=>{const Z=k.branding[`${U}Id`];if(Z&&typeof Z=="string")try{await F_(Z)}catch(W){console.error("Error deleting branding image",W)}P(W=>{const V={...W.branding};return delete V[`${U}Id`],delete V.logoWidth,delete V.logoHeight,{...W,branding:V}}),D(null)},ye=(U,Z)=>{b&&(P(W=>({...W,slides:W.slides.map(V=>V.id===b?{...V,overlays:U}:V),branding:Z?{...W.branding,...Z}:W.branding})),O(null))},me=async(U,Z)=>{if(Z.length===0)return;const W=Z[0],V=`brand-${U}`;try{await O_(V,W);let te={};if(U==="logo"){const J=new FileReader;J.readAsDataURL(W),await new Promise(re=>{J.onload=he=>{var Ee;const Ie=new Image;Ie.src=(Ee=he.target)==null?void 0:Ee.result,Ie.onload=()=>{te={logoWidth:.5*(Ie.naturalWidth/Ie.naturalHeight),logoHeight:.5},re()}}})}if(P(J=>({...J,branding:{...J.branding,[`${U}Id`]:V,...te}})),U==="logo"){const J=await no(V);D(J)}}catch(te){console.error(te),alert("Erro ao salvar imagem de branding.")}},Te=async(U,Z)=>{confirm("Remover este slide?")&&(Z&&await F_(Z),P(W=>({...W,slides:W.slides.filter(V=>V.id!==U)})))},xe=()=>{localStorage.setItem("GEMINI_API_KEY",s),localStorage.setItem("GEMINI_TEXT_MODEL",p),localStorage.setItem("GEMINI_IMAGE_MODEL",g),v!==Af?localStorage.setItem("GEMINI_CUSTOM_CONTEXT_RULES",v):localStorage.removeItem("GEMINI_CUSTOM_CONTEXT_RULES"),y!==mf?localStorage.setItem("GEMINI_INTERVIEWER_RULES",y):localStorage.removeItem("GEMINI_INTERVIEWER_RULES"),T!==gf?localStorage.setItem("GEMINI_INITIAL_UNDERSTANDING_PROMPT",T):localStorage.removeItem("GEMINI_INITIAL_UNDERSTANDING_PROMPT"),localStorage.setItem("PPT_TEMPLATE_CONFIG",JSON.stringify(k)),s&&zn.initialize(s),h("Configuraes salvas com sucesso!"),setTimeout(()=>h(""),3e3)},Ne=()=>{window.confirm("Tem certeza que deseja restaurar as regras originais do prompt selecionado?")&&(N==="generation"?x(Af):N==="interviewer"?w(mf):I(gf))},Ce=async(U,Z)=>{try{await n(U,!Z)}catch(W){console.error(W),alert("Erro ao atualizar status.")}},j=({id:U,label:Z,icon:W})=>o.jsxs("button",{onClick:()=>i(U),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg transition-colors whitespace-nowrap ${a===U?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:[o.jsx(W,{size:16}),Z]}),{getRootProps:H,getInputProps:X,isDragActive:F}=Tp({onDrop:U=>me("logo",U),accept:{"image/*":[]},maxFiles:1}),B=b?k.slides.find(U=>U.id===b):null;return o.jsxs("div",{className:"w-full h-full flex flex-col bg-gray-50/30",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center p-4 md:p-6 border-b border-gray-100 bg-white shadow-sm z-10 shrink-0",children:[o.jsxs("div",{className:"mb-4 sm:mb-0",children:[o.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Configuraes"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Gerencie acessos, integraes e comportamento da IA"})]}),o.jsxs("div",{className:"flex gap-1 bg-gray-50 p-1 rounded-xl border border-gray-200 overflow-x-auto max-w-full",children:[o.jsx(j,{id:"general",label:"Geral",icon:_d}),o.jsx(j,{id:"template",label:"Template PPT",icon:M0}),o.jsx(j,{id:"pricing",label:"Peso de Precificao",icon:_d}),o.jsx(j,{id:"prompts",label:"Prompt IA",icon:ni})]})]}),o.jsxs("div",{className:"flex-1 overflow-hidden relative",children:[a==="pricing"&&o.jsx("div",{className:"h-full animate-in fade-in slide-in-from-bottom-2 duration-300",children:o.jsx(N8,{})}),a==="general"&&o.jsx("div",{className:"h-full overflow-y-auto p-4 md:p-6 lg:p-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:o.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e&&o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 mb-6 border-b pb-4",children:[o.jsx("div",{className:"p-2 bg-indigo-50 rounded-lg",children:o.jsx(Zj,{className:"text-indigo-600",size:24})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Gesto de Acessos"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Aprovao de logins e controle de permisses"})]})]}),o.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"text-xs text-gray-500 uppercase bg-gray-50 border-b",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Usurio"}),o.jsx("th",{className:"px-6 py-4 font-semibold",children:"Email"}),o.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Perfil"}),o.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Acesso IA"}),o.jsx("th",{className:"px-6 py-4 text-center font-semibold",children:"Status"}),o.jsx("th",{className:"px-6 py-4 text-right font-semibold",children:"Ao"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:Q.map(U=>o.jsxs("tr",{className:"bg-white hover:bg-gray-50/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:o.jsxs("div",{className:"flex items-center gap-2",children:[U.displayName||"Sem Nome",U.uid===(t==null?void 0:t.uid)&&o.jsx("span",{className:"text-[10px] bg-indigo-100 text-indigo-700 px-1.5 py-0.5 rounded font-bold",children:"VOC"})]})}),o.jsx("td",{className:"px-6 py-4 text-gray-500",children:U.email}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("span",{className:`inline-block px-2.5 py-1 rounded text-xs font-bold ${U.role==="master"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-600"}`,children:U.role.toUpperCase()})}),o.jsx("td",{className:"px-6 py-4 text-center",children:U.role!=="master"&&o.jsx("div",{className:"flex justify-center",children:o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer group",title:"Permitir uso de IA",children:[o.jsx("input",{type:"checkbox",className:"sr-only peer",checked:U.canUseAI,onChange:()=>r&&r(U.uid,!U.canUseAI)}),o.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})})}),o.jsx("td",{className:"px-6 py-4 text-center",children:U.isApproved?o.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-green-50 text-green-700 font-bold text-xs border border-green-100",children:[o.jsx(Ll,{size:12})," Ativo"]}):o.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-amber-50 text-amber-700 font-bold text-xs border border-amber-100 animate-pulse",children:[o.jsx(eM,{size:12})," Pendente"]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:U.role!=="master"&&(U.isApproved?o.jsx("button",{onClick:()=>Ce(U.uid,!0),className:"text-red-500 hover:text-red-700 font-medium text-xs border border-red-200 hover:bg-red-50 px-3 py-1.5 rounded transition-colors",children:"Bloquear"}):o.jsx("button",{onClick:()=>Ce(U.uid,!1),className:"bg-green-600 text-white hover:bg-green-700 font-medium text-xs px-4 py-1.5 rounded shadow-sm shadow-green-200 transition-all transform active:scale-95",children:"Aprovar Acesso"}))})]},U.uid))})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center gap-2",children:[o.jsx("div",{className:"p-1.5 bg-gray-100 rounded text-gray-600",children:o.jsx(_d,{size:20})}),"Integraes & Chaves"]}),o.jsxs("div",{className:"max-w-2xl",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Google Gemini API Key"}),o.jsxs("div",{className:"relative group",children:[o.jsx("input",{type:c?"text":"password",value:s,onChange:U=>l(U.target.value),placeholder:"Cole sua API Key do Google AI Studio aqui",className:"w-full pl-4 pr-12 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-mono text-sm bg-gray-50 focus:bg-white"}),o.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:c?o.jsx(Fj,{size:18}):o.jsx(Bj,{size:18})})]}),o.jsxs("p",{className:"text-xs text-gray-500 mt-2 flex items-center gap-1",children:["Necessrio para utilizar as funcionalidades de Estimativa Inteligente.",o.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 font-medium hover:underline inline-flex items-center gap-0.5 ml-1",children:["Obter chave ",o.jsx("span",{className:"text-[10px]",children:""})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6 pt-6 border-t border-gray-100",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Modelo de Texto (LLM)"}),o.jsx("input",{type:"text",value:p,onChange:U=>m(U.target.value),placeholder:"ex: gemini-1.5-flash",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-mono text-sm bg-gray-50 focus:bg-white"}),o.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Padro: gemini-1.5-flash"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Modelo de Imagem (Futuro)"}),o.jsx("input",{type:"text",value:g,onChange:U=>A(U.target.value),placeholder:"ex: gemini-3-pro-image-preview",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all font-mono text-sm bg-gray-50 focus:bg-white"}),o.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Padro: gemini-3-pro-image-preview"})]})]})]})]})]})}),a==="template"&&o.jsx("div",{className:"h-full overflow-y-auto p-4 md:p-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:o.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-1 space-y-6",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:"Branding Global"}),o.jsx("p",{className:"text-xs text-gray-500 mb-6",children:"Estes elementos sero aplicados aos Slides Automticos."}),o.jsx("div",{className:"mb-6 p-4 bg-indigo-50 rounded-lg border border-indigo-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"text-sm font-bold text-indigo-900 flex items-center gap-2",children:[o.jsx(or,{size:16,className:"text-indigo-600"}),"Smart Slide Engine (IA)"]}),o.jsx("p",{className:"text-xs text-indigo-700 mt-1",children:"Gera imagens de fundo, analisa layouts e otimiza textos autom."})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:z,onChange:U=>G(U.target.checked),className:"sr-only peer"}),o.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("label",{className:"text-xs font-bold text-gray-700 uppercase tracking-wide",children:"Logomarca (PNG)"}),k.branding.logoId&&o.jsx("button",{onClick:U=>{U.stopPropagation(),je("logo")},className:"text-red-500 hover:text-red-700 hover:bg-red-50 p-1 rounded transition-colors",title:"Remover Logo",children:o.jsx($n,{size:14})})]}),o.jsxs("div",{...H(),className:`border-2 border-dashed rounded-lg p-4 flex flex-col items-center justify-center cursor-pointer transition-colors relative ${F?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("input",{...X()}),C?o.jsxs("div",{className:"flex flex-col items-center gap-2 w-full",children:[o.jsx("div",{className:"h-24 w-full flex items-center justify-center bg-gray-50 rounded border border-gray-100 p-2",children:o.jsx("img",{src:C,alt:"Logo",className:"max-h-full max-w-full object-contain"})}),o.jsxs("div",{className:"w-full mt-2 pt-2 border-t border-gray-100 flex flex-col gap-3",onClick:U=>U.stopPropagation(),children:[o.jsxs("div",{className:"text-[10px] text-center text-gray-400 font-mono",children:[(k.branding.logoWidth??0).toFixed(2),'" x ',(k.branding.logoHeight??0).toFixed(2),'"']}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Pos X (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:k.branding.logoX??8.4,onChange:U=>{const Z=parseFloat(U.target.value);P(W=>({...W,branding:{...W.branding,logoX:Z}}))},className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-indigo-500 bg-white",placeholder:"8.4"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Pos Y (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:k.branding.logoY??.15,onChange:U=>{const Z=parseFloat(U.target.value);P(W=>({...W,branding:{...W.branding,logoY:Z}}))},className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-indigo-500 bg-white",placeholder:"0.15"})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Largura (pol)"}),o.jsx("input",{type:"number",step:"0.1",value:k.branding.logoWidth??1.5,onChange:U=>{const Z=parseFloat(U.target.value);if(Z>0){const W=k.branding.logoWidth||1.5,V=k.branding.logoHeight||.5,te=W/V,J=Z/te;P(re=>({...re,branding:{...re.branding,logoWidth:Z,logoHeight:J}}))}},className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-indigo-500 bg-white"}),o.jsxs("p",{className:"text-[10px] text-gray-400 text-right",children:["Altura Auto: ",(k.branding.logoHeight??0).toFixed(2),'"']})]})]})]}):o.jsxs("div",{className:"text-center text-gray-400 py-4",children:[o.jsx(Yl,{className:"mx-auto mb-2",size:24}),o.jsx("span",{className:"text-xs",children:"Arraste logo aqui"})]}),k.branding.logoId&&!C&&o.jsx("div",{className:"absolute top-1 right-1 bg-green-500 text-white rounded-full p-1",children:o.jsx(Ll,{size:8})})]})]})})]})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 flex flex-col h-full min-h-[500px]",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Estrutura de Slides"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Defina a ordem do PPT Final. Arraste para reordenar."})]}),o.jsxs("div",{...oe(),className:"cursor-pointer",children:[o.jsx("input",{...ge()}),o.jsxs("button",{className:"flex items-center gap-2 bg-indigo-50 hover:bg-indigo-100 text-indigo-700 px-3 py-2 rounded-lg text-sm font-bold border border-indigo-200 transition-colors",children:[o.jsx(Mn,{size:16})," Add Slide da Capa/Fim"]})]})]}),o.jsxs("div",{className:"flex-1 bg-gray-50 rounded-xl p-4 border border-gray-200 overflow-y-auto",children:[o.jsx(QE,{sensors:K,collisionDetection:ME,onDragEnd:ce,children:o.jsx(ZE,{items:k.slides.map(U=>U.id),strategy:KE,children:k.slides.map(U=>o.jsx(S8,{slide:U,onDelete:Z=>Te(Z,U.imageId),onEdit:()=>O(U.id),preview:ne[U.id]},U.id))})}),k.slides.length===0&&o.jsx("div",{className:"text-center py-10 text-gray-400",children:"Nenhum slide configurado."})]})]})})]})}),a==="prompts"&&o.jsx("div",{className:"h-full flex flex-col p-4 md:p-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:o.jsxs("div",{className:"flex-1 flex flex-col bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsxs("div",{className:"flex border-b border-gray-100 bg-gray-50/50",children:[o.jsx("button",{onClick:()=>E("initial"),className:`flex-1 py-3 px-4 text-sm font-bold transition-colors ${N==="initial"?"border-b-2 border-indigo-600 text-indigo-700 bg-white":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:"1. Entendimento Inicial"}),o.jsx("button",{onClick:()=>E("interviewer"),className:`flex-1 py-3 px-4 text-sm font-bold transition-colors ${N==="interviewer"?"border-b-2 border-indigo-600 text-indigo-700 bg-white":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:"2. Entrevistador (Chat)"}),o.jsx("button",{onClick:()=>E("generation"),className:`flex-1 py-3 px-4 text-sm font-bold transition-colors ${N==="generation"?"border-b-2 border-indigo-600 text-indigo-700 bg-white":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:"3. Documentao (Estimar)"}),o.jsx("button",{onClick:()=>E("architecture"),className:`flex-1 py-3 px-4 text-sm font-bold transition-colors ${N==="architecture"?"border-b-2 border-indigo-600 text-indigo-700 bg-white":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:"4. Arquitetura (Imagem)"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center p-4 border-b border-gray-100 bg-white gap-4",children:[o.jsx("div",{children:N==="initial"?o.jsxs(o.Fragment,{children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(or,{size:20,className:"text-indigo-600"}),"Validao de Entendimento (Fase 1)"]}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Prompt que orienta a IA a explicar o que entendeu do projeto ANTES de iniciar as perguntas."})]}):N==="interviewer"?o.jsxs(o.Fragment,{children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(R0,{size:20,className:"text-indigo-600"}),"Instrues do Sistema (Fase 2 - Chat)"]}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Define a personalidade, regras de perguntas e algoritmo de confiana da entrevista."})]}):N==="architecture"?o.jsxs(o.Fragment,{children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(Yl,{size:20,className:"text-indigo-600"}),"Prompt de Arquitetura (Fase 4 - Visual)"]}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Define como a IA deve instruir o modelo de imagem a gerar o diagrama de arquitetura."})]}):o.jsxs(o.Fragment,{children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(ni,{size:20,className:"text-indigo-600"}),"Regras de Documentao (Fase 3 - Sada)"]}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Edite apenas as regras de gerao da Documentao Tcnica (Contexto) e Planejamento."})]})}),o.jsxs("button",{onClick:Ne,className:"flex items-center gap-2 text-xs font-medium text-gray-600 hover:text-indigo-700 bg-white hover:bg-indigo-50 border border-gray-200 hover:border-indigo-200 px-3 py-2 rounded-lg transition-all shadow-sm",title:"Restaurar regra padro",children:[o.jsx(IE,{size:14}),"Restaurar Padro"]})]}),o.jsxs("div",{className:"flex-1 relative group bg-indigo-50/10 flex flex-col",children:[N==="generation"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"px-6 py-2 bg-gray-100 border-b border-gray-200 text-xs text-gray-400 font-mono select-none flex items-center gap-2",children:[o.jsx(cg,{size:12}),"[SISTEMA: Identidade, Regras SDLC e Formato JSON] (No editvel)"]}),o.jsx("div",{className:"px-6 py-2 bg-indigo-100/50 border-b border-indigo-100 text-xs text-indigo-700 font-bold font-mono select-none uppercase tracking-wide",children:" Suas regras de gerao (Injetadas no prompt)"}),o.jsx("textarea",{value:v,onChange:U=>x(U.target.value),className:"flex-1 w-full p-4 md:p-6 font-mono text-sm leading-relaxed text-indigo-900 bg-white outline-none resize-none selection:bg-indigo-100",placeholder:"Digite as instrues para Contexto e Planejamento aqui...",spellCheck:!1}),o.jsxs("div",{className:"px-6 py-2 bg-gray-100 border-t border-gray-200 text-xs text-gray-400 font-mono select-none flex items-center gap-2",children:[o.jsx(cg,{size:12}),"[SISTEMA: Exemplo de Sada JSON] (No editvel)"]})]}):N==="architecture"?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"px-6 py-2 bg-indigo-100/50 border-b border-indigo-100 text-xs text-indigo-700 font-bold font-mono select-none uppercase tracking-wide",children:" Prompt Gerador de Imagem (Meta-Prompt)"}),o.jsx("textarea",{value:R,onChange:U=>_(U.target.value),className:"flex-1 w-full p-4 md:p-6 font-mono text-sm leading-relaxed text-indigo-900 bg-white outline-none resize-none selection:bg-indigo-100",placeholder:"Digite as instrues para a IA criar o prompt da imagem...",spellCheck:!1})]}):N==="interviewer"?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"px-6 py-2 bg-indigo-100/50 border-b border-indigo-100 text-xs text-indigo-700 font-bold font-mono select-none uppercase tracking-wide",children:" Instruo de Sistema Completa (Substitui o padro)"}),o.jsx("textarea",{value:y,onChange:U=>w(U.target.value),className:"flex-1 w-full p-4 md:p-6 font-mono text-sm leading-relaxed text-indigo-900 bg-white outline-none resize-none selection:bg-indigo-100",placeholder:"Digite as instrues completas para o comportamento da IA...",spellCheck:!1})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"px-6 py-2 bg-indigo-100/50 border-b border-indigo-100 text-xs text-indigo-700 font-bold font-mono select-none uppercase tracking-wide",children:" Instruo para Fase de Entendimento Inicial (Validao)"}),o.jsx("textarea",{value:T,onChange:U=>I(U.target.value),className:"flex-1 w-full p-4 md:p-6 font-mono text-sm leading-relaxed text-indigo-900 bg-white outline-none resize-none selection:bg-indigo-100",placeholder:"Digite as instrues para a IA resumir o projeto...",spellCheck:!1})]}),o.jsxs("div",{className:"absolute top-24 right-8 pointer-events-none opacity-50 text-[10px] text-gray-400 bg-white/90 px-2 py-1 rounded border border-gray-100 backdrop-blur-sm z-10",children:[(N==="generation"?v:N==="interviewer"?y:N==="architecture"?R:T).length," caracteres"]})]}),N==="generation"&&o.jsxs("div",{className:"p-3 bg-blue-50 border-t border-blue-100 text-xs text-blue-800 flex items-start gap-2",children:[o.jsx(cg,{size:14,className:"mt-0.5 shrink-0"}),o.jsx("span",{className:"opacity-90 leading-relaxed",children:"O texto acima ser inserido no centro do Prompt do Sistema, entre as regras rgidas do sistema (SDLC) e o formato de sada JSON. Use isso para personalizar o estilo da documentao ou adicionar novas sees ao relatrio."})]})]})})]}),o.jsxs("div",{className:"p-4 md:p-6 border-t border-gray-200 bg-white shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] z-20 shrink-0 flex justify-between items-center",children:[o.jsx("div",{className:"flex-1",children:u&&o.jsxs("span",{className:"inline-flex items-center gap-2 text-green-700 bg-green-50 px-3 py-1.5 rounded-lg text-sm font-medium animate-in slide-in-from-left-2 fade-in",children:[o.jsx(Ll,{size:16})," ",u]})}),o.jsxs("button",{onClick:xe,className:"flex items-center gap-2 bg-indigo-600 text-white px-8 py-3 rounded-xl hover:bg-indigo-700 hover:shadow-lg hover:shadow-indigo-200 transition-all font-bold transform active:scale-95",children:[o.jsx(Tu,{size:18}),"Salvar Alteraes"]})]}),B&&o.jsx(I8,{slide:B,preview:ne[B.id],branding:k.branding,logoPreview:C,onClose:()=>O(null),onSave:ye})]})},Wy=({content:t,className:e=""})=>{if(t==null)return null;let n;typeof t!="string"?(console.warn("MarkdownRenderer received non-string content:",t),typeof t=="object"?n="```json\n"+JSON.stringify(t,null,2)+"\n```":n=String(t)):n=t;let r=n.replace(/([^\n])\s-\s\*\*/g,`$1
- **`);r=r.replace(/([^\n])(#{3,})/g,`$1
$2`);const a=r.split(`
`),i=[];let s=[],l=[],c=0;const d=()=>{s.length>0&&(i.push(o.jsx("ul",{className:"list-disc pl-5 space-y-2 mb-4",children:s.map((h,p)=>o.jsx("li",{className:"pl-1",children:cd(h)},p))},`list-${c++}`)),s=[])},u=()=>{if(l.length>0){const h=l.map(p=>p.split("|").map(m=>m.trim()).filter((m,g,A)=>g>0&&g<A.length-1));if(h.length>=2){const p=h[0],m=h.slice(1).filter(g=>{var A;return!((A=g[0])!=null&&A.match(/^[: -]+$/))});i.push(o.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 mb-6 shadow-sm",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-700 font-semibold",children:o.jsx("tr",{children:p.map((g,A)=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider border-b border-gray-200",children:cd(g)},A))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:m.map((g,A)=>o.jsx("tr",{className:"hover:bg-gray-50 transition-colors",children:g.map((v,x)=>o.jsx("td",{className:"px-6 py-4 whitespace-nowrap md:whitespace-normal text-gray-700 leading-snug",children:cd(v)},x))},A))})]})},`table-${c++}`))}l=[]}};return a.forEach((h,p)=>{const m=h.trim();if(!m){d(),u();return}if(m.startsWith("|")){d(),l.push(m);return}if(m.startsWith("- ")||m.startsWith("* ")){u(),s.push(m.substring(2));return}if(d(),u(),m.startsWith("### ")){i.push(o.jsx("h4",{className:"text-lg font-bold text-gray-900 mt-6 mb-3 border-b border-gray-100 pb-2",children:m.replace("### ","")},`h4-${c++}`));return}if(m.startsWith("#### ")){i.push(o.jsx("h5",{className:"font-bold text-gray-800 mt-4 mb-2",children:m.replace("#### ","")},`h5-${c++}`));return}i.push(o.jsx("p",{className:"mb-4 last:mb-0 text-justify",children:cd(m)},`p-${c++}`))}),d(),u(),o.jsx("div",{className:`text-gray-700 text-sm leading-relaxed ${e}`,children:i})},cd=t=>t.includes("<br/>")||t.includes("<br>")?t.split(/<br\/?>/g).reduce((r,a,i)=>(i>0&&r.push(o.jsx("br",{},`br-${i}`)),r.push(...cd(a)),r),[]):t.includes("**")?t.split(/(\*\*.*?\*\*)/g).map((n,r)=>n.startsWith("**")&&n.endsWith("**")?o.jsx("strong",{className:"font-semibold text-gray-900",children:n.slice(2,-2)},r):n):[t],k8=({estimate:t,onApply:e,isApplying:n,progressLog:r})=>{const[a,i]=L.useState("summary"),s=({id:l,label:c,icon:d})=>o.jsxs("button",{onClick:()=>i(l),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg transition-colors ${a===l?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"} `,children:[o.jsx(d,{size:16}),c]});return o.jsxs("div",{className:"w-full",children:[o.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2 text-gray-900",children:[o.jsx(or,{size:18,className:"text-yellow-500"}),"Proposta de Projeto Gerada"]}),o.jsxs("div",{className:"flex gap-2 mb-4 border-b border-gray-200 pb-2 overflow-x-auto",children:[o.jsx(s,{id:"summary",label:"Resumo & Gantt",icon:dg}),o.jsx(s,{id:"context",label:"Contexto do Projeto",icon:ni}),o.jsx(s,{id:"planning",label:"Premissas & RACI",icon:Ml}),o.jsx(s,{id:"delta",label:"Escopo (Delta)",icon:ew})]}),o.jsxs("div",{className:"min-h-[300px]",children:[a==="summary"&&o.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[o.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:t.description||"Cronograma gerado com sucesso."}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200 text-sm space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[o.jsx("span",{className:"font-semibold text-gray-600",children:"Projeto"}),o.jsx("span",{className:"font-medium text-gray-900",children:t.project_name})]}),o.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[o.jsx("span",{className:"font-semibold text-gray-600",children:"Total de Tarefas"}),o.jsx("span",{className:"bg-indigo-100 text-indigo-700 px-2 py-0.5 rounded-full text-xs font-bold",children:t.tasks.length})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"font-semibold text-gray-600",children:"Confiana da IA"}),o.jsxs("span",{className:`font-bold ${t.confidence_score>.7?"text-green-600":"text-orange-500"} `,children:[(t.confidence_score*100).toFixed(0),"%"]})]})]}),n?o.jsxs("div",{className:"bg-indigo-50 border border-indigo-100 p-4 rounded-xl space-y-3 animate-in fade-in",children:[o.jsxs("h4",{className:"font-semibold text-indigo-900 text-sm flex items-center gap-2",children:[o.jsx(ua,{size:16,className:"animate-spin text-indigo-600"}),"Processando Projeto..."]}),o.jsxs("div",{className:"space-y-2",children:[r.map((l,c)=>o.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-800",children:[o.jsx(Ml,{size:14,className:"text-green-600"}),l]},c)),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-400 italic",children:[o.jsx("div",{className:"w-3 h-3 rounded-full border-2 border-indigo-300 border-t-transparent animate-spin"}),"Trabalhando..."]})]})]}):o.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-4 rounded-xl",children:[o.jsx("h4",{className:"font-semibold text-blue-900 text-sm mb-2",children:"Prximos Passos"}),o.jsx("p",{className:"text-blue-700 text-xs",children:'Revise os detalhes nas abas "Contexto" e "Premissas" antes de gerar o grfico. Ao clicar em gerar, as tarefas sero importadas para o cronograma interativo.'})]}),o.jsx("button",{onClick:e,disabled:n,className:`w-full py-3 rounded-xl font-bold transition-all flex items-center justify-center gap-2 shadow-sm ${n?"bg-gray-100 text-gray-400 cursor-wait":"bg-green-600 hover:bg-green-700 hover:shadow-md text-white"} `,children:n?o.jsx(o.Fragment,{children:"Criando Projeto..."}):o.jsxs(o.Fragment,{children:[o.jsx(dg,{size:18})," Aprovar e Gerar Gantt"]})})]}),a==="context"&&o.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300 text-sm h-[350px] overflow-y-auto custom-scrollbar pr-2",children:[t.team_structure&&t.team_structure.length>0&&o.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200",children:[o.jsxs("h4",{className:"font-bold mb-4 flex items-center gap-2 text-indigo-900",children:[o.jsx(vo,{size:18,className:"text-indigo-600"}),"Time do Projeto (Escopo Geral)"]}),o.jsx("div",{className:"flex flex-wrap gap-4 mb-6 justify-center sm:justify-start",children:t.team_structure.map((l,c)=>o.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 px-3 py-2 rounded-lg border border-gray-100 min-w-[200px]",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold shrink-0",children:l.role.substring(0,2).toUpperCase()}),o.jsxs("div",{className:"text-xs",children:[o.jsx("div",{className:"font-bold text-gray-800",children:l.role}),o.jsx("div",{className:"text-gray-500",children:l.quantity>1?`${l.quantity} Profissionais`:"1 Profissional"})]})]},c))}),o.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 shadow-sm",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-indigo-600 text-white",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2 text-left text-xs font-bold uppercase tracking-wider",children:"Perfil"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-bold uppercase tracking-wider w-16 text-center",children:"Qtde"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-bold uppercase tracking-wider",children:"Responsabilidades / Habilidades"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.team_structure.map((l,c)=>o.jsxs("tr",{className:c%2===0?"bg-indigo-50/50":"bg-white",children:[o.jsx("td",{className:"px-3 py-2 text-gray-800 font-bold text-xs",children:l.role}),o.jsx("td",{className:"px-3 py-2 text-gray-600 text-xs font-bold text-center",children:l.quantity}),o.jsx("td",{className:"px-3 py-2 text-gray-600 text-xs text-justify leading-relaxed",children:o.jsx("ul",{className:"list-disc pl-4 space-y-1",children:l.responsibilities.map((d,u)=>o.jsx("li",{children:d},u))})})]},c))})]})})]}),t.documentation?o.jsx("div",{className:"space-y-4",children:Object.entries(t.documentation).map(([l,c],d)=>{const u=l.split("_").map(g=>g.charAt(0).toUpperCase()+g.slice(1)).join(" ");let h="bg-gray-50/50 border-gray-100 text-gray-900",p="text-gray-600",m=ni;return l==="context_overview"?(h="bg-indigo-50/50 border-indigo-100 text-indigo-900",p="text-indigo-600",m=hs):l==="technical_solution"?(h="bg-blue-50/50 border-blue-100 text-blue-900",p="text-blue-600",m=ni):l==="implementation_steps"?(h="bg-green-50/50 border-green-100 text-green-900",p="text-green-600",m=dg):l==="testing_strategy"&&(h="bg-teal-50/50 border-teal-100 text-teal-900",p="text-teal-600",m=Ml),o.jsxs("div",{className:`${h} p-4 rounded-xl border`,children:[o.jsxs("h4",{className:"font-bold mb-2 flex items-center gap-2 capitalize",children:[o.jsx(m,{size:16,className:p}),u]}),o.jsx(Wy,{content:c,className:"text-xs"})]},l)})}):o.jsx("div",{className:"text-center py-10 text-gray-500 italic",children:"Documentao detalhada no disponvel para esta estimativa."})]}),a==="planning"&&o.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300 text-sm",children:t.strategic_planning?o.jsxs(o.Fragment,{children:[o.jsxs("section",{children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Premissas Tcnicas"}),o.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-700 bg-white p-3 rounded-lg border border-gray-200",children:(t.strategic_planning.technical_premises||[]).map((l,c)=>o.jsx("li",{children:l},c))})]}),o.jsxs("section",{children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Responsabilidades do Cliente (Prazos Crticos)"}),o.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 shadow-sm",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ao Necessria"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prazo"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Impacto"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(t.strategic_planning.client_responsibilities||[]).map((l,c)=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-3 py-2 text-gray-800",children:l.action_item}),o.jsx("td",{className:"px-3 py-2 text-gray-600 italic",children:l.deadline_description}),o.jsx("td",{className:"px-3 py-2",children:o.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${l.impact==="BLOCKER"?"bg-red-100 text-red-800":l.impact==="HIGH"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:l.impact})})]},c))})]})})]}),o.jsxs("section",{children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Matriz RACI Sugerida"}),o.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 shadow-sm",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Atividade"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",title:"Responsvel (Executor)",children:"R"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",title:"Aprovador (Accountable)",children:"A"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",title:"Consultado",children:"C"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",title:"Informado",children:"I"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(t.strategic_planning.raci_matrix||[]).map((l,c)=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-3 py-2 text-gray-800 font-medium",children:l.activity_group}),o.jsx("td",{className:"px-3 py-2 text-gray-600 text-xs",children:l.responsible}),o.jsx("td",{className:"px-3 py-2 text-gray-600 text-xs",children:l.accountable}),o.jsx("td",{className:"px-3 py-2 text-gray-600 text-xs",children:l.consulted}),o.jsx("td",{className:"px-3 py-2 text-gray-600 text-xs",children:l.informed})]},c))})]})})]})]}):o.jsx("div",{className:"text-center py-10 text-gray-500 italic",children:"Dados de planejamento estratgico no gerados."})}),a==="delta"&&o.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300 text-sm h-[350px] overflow-y-auto custom-scrollbar pr-2",children:t.scope_delta?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-200",children:[o.jsxs("h4",{className:"font-bold text-gray-700 mb-2 flex items-center gap-2",children:[o.jsx(hs,{size:16})," Escopo Inicial"]}),o.jsx("p",{className:"text-gray-600",children:t.scope_delta.original_scope_summary})]}),o.jsxs("div",{className:"bg-indigo-50 p-4 rounded-xl border border-indigo-200",children:[o.jsxs("h4",{className:"font-bold text-indigo-900 mb-2 flex items-center gap-2",children:[o.jsx(or,{size:16})," Escopo Final"]}),o.jsx("p",{className:"text-indigo-800",children:t.scope_delta.final_scope_summary})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-3 px-1 border-b pb-2",children:"Mudanas e Justificativas"}),o.jsx("div",{className:"space-y-3",children:t.scope_delta.changes.map((l,c)=>o.jsxs("div",{className:`p-3 rounded-lg border-l-4 shadow-sm bg-white ${l.type==="added"?"border-l-emerald-500":l.type==="removed"?"border-l-red-500":"border-l-amber-500"}`,children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("span",{className:"font-bold text-gray-800",children:l.item}),o.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded uppercase ${l.type==="added"?"bg-emerald-100 text-emerald-700":l.type==="removed"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:l.type==="added"?"Adicionado":l.type==="removed"?"Removido":"Modificado"})]}),o.jsxs("p",{className:"text-xs text-gray-600 italic mt-1",children:['"',l.justification,'"']})]},c))})]})]}):o.jsxs("div",{className:"text-center py-12 text-gray-400 bg-gray-50 rounded-xl border border-dashed border-gray-300",children:[o.jsx(ew,{size:48,className:"mx-auto mb-3 opacity-20"}),o.jsx("p",{className:"font-medium",children:"Anlise de Delta no disponvel."}),o.jsx("p",{className:"text-xs mt-1",children:"Gere uma nova estimativa para visualizar."})]})})]})]})},D8=({isOpen:t,onClose:e,onApplyEstimate:n,user:r,clientContext:a="",knowledgeBase:i=[]})=>{const[s,l]=L.useState([]),[c,d]=L.useState(""),[u,h]=L.useState([]),[p,m]=L.useState(!1),[g,A]=L.useState(null),[v,x]=L.useState("idle"),[y,w]=L.useState(""),[T,I]=L.useState([]),[R,_]=L.useState(!1),[N,E]=L.useState([]);L.useEffect(()=>{t&&E([])},[t]);const[k]=L.useState(zn.isConfigured());(r==null?void 0:r.role)==="admin"||(r==null||r.role);const[P,C]=L.useState(!1),[D,b]=L.useState(null),[O,z]=L.useState({}),[G,Q]=L.useState({}),[q,ne]=L.useState({}),[Y,K]=L.useState(""),ce=L.useRef(null),ie=L.useRef(null);L.useEffect(()=>{t&&(l([{id:"welcome",role:"assistant",content:"Ol! Sou o Assistente UERJ-FAF. Posso ajudar voc a estruturar e estimar seu projeto de software. Descreva sua ideia ou faa upload de documentos para comearmos."}]),b(null),z({}),Q({}),ne({}),C(!1),K(""),x("idle"),w(""),d(""),h([]),A(null),_(!1))},[t]),L.useEffect(()=>{var H;(H=ce.current)==null||H.scrollIntoView({behavior:"smooth"})},[s,D]);const oe=async H=>{if(H.target.files&&H.target.files.length>0){const X=Array.from(H.target.files),F=await Promise.all(X.map(B=>new Promise(U=>{const Z=new FileReader;Z.onloadend=()=>U({name:B.name,type:B.type,data:Z.result}),Z.readAsDataURL(B)})));h(B=>[...B,...F]),H.target.value=""}},ge=(H,X)=>{Q(F=>({...F,[H]:X}))},je=(H,X)=>{ne(F=>({...F,[H]:X}))},ye=async(H=!1)=>{if(!D)return;m(!0);const X={};D.questions.forEach(Z=>{const W=G[Z.id],V=q[Z.id];W&&V?X[Z.id]=`${W} [Detalhes/Complemento: ${V}]`:W?X[Z.id]=W:V&&(X[Z.id]=V)});const F={...O,...X};z(F);const B=Object.entries(X).map(([Z,W])=>({questionId:Z,answer:W})),U=`**Respostas enviadas:**
`+Object.entries(X).map(([Z,W])=>{const V=D.questions.find(te=>te.id===Z);return`- **${V==null?void 0:V.text.substring(0,40)}${V!=null&&V.text&&V.text.length>40?"...":""}**: ${W}`}).join(`
`);l(Z=>[...Z,{id:Date.now().toString(),role:"user",content:U}]);try{if(H){const Z=D.current_confidence_score||0;b(null),C(!1);let W=`CONTEXTO ACUMULADO:
${Y}

`;W+=`DETALHAMENTO TCNICO DOS REQUISITOS (VIA ENTREVISTA):
`,Object.entries(F).forEach(([te,J])=>{W+=`[${te}]: ${J}
`}),W+=`

=== DIRETRIZ DE CONFIANA (MANDATRIO) ===
`,W+=`A auditoria tcnica avaliou a confiana atual em: ${Z}%.
`,W+=`Voc DEVE usar um valor prximo a este (entre ${Math.max(0,Z-5)}% e ${Math.min(100,Z+5)}%) no campo 'confidence_score' do JSON final (formato float 0.0-1.0, ex: ${(Z/100).toFixed(2)}).
`,W+="NO INFLACIONE A NOTA. Seja coerente com a auditoria.",l(te=>[...te,{id:Date.now().toString()+"gen",role:"assistant",content:"Entendido. Com base em todo o contexto refinado, estou gerando o planejamento executivo final..."}]);const V=await zn.generateEstimate([{role:"user",parts:[{text:W}]}],u);l(te=>[...te,{id:Date.now().toString(),role:"assistant",content:V.description||"Estimativa gerada com sucesso.",estimate:V}])}else{const Z=await zn.refineRequirements(s.filter(W=>W.id!=="welcome"&&!W.isError).map(W=>({role:W.role==="user"?"user":"model",parts:[{text:W.content||W.text||""}]})),Y,B);b(Z),Q({}),ne({})}}catch(Z){console.error(Z),A("Erro ao processar. Tente novamente."),l(W=>[...W,{id:Date.now().toString()+"err",role:"assistant",isError:!0,content:"Houve um erro ao processar suas respostas. Por favor, tente novamente."}])}finally{m(!1)}},me=async()=>{if(!c.trim()&&u.length===0||p)return;const H={id:Date.now().toString(),role:"user",content:c,text:c,attachments:u.map(B=>B.name)};l(B=>[...B,H]);const X=c,F=[...u];d(""),h([]),m(!0),A(null);try{let B=v,U=P;if(s.length<=1&&(B="idle",U=!1,x("idle"),C(!1),b(null)),B!=="accepted"&&!U){b(null);let Z=F;if(T.length>0){const J=new Set(T.map(he=>he.name)),re=F.filter(he=>!J.has(he.name));Z=[...T,...re]}I(Z),x("validating");const W=s.map(J=>({role:J.role==="user"?"user":"model",parts:[{text:J.content||J.text||""}]}));W.push({role:"user",parts:[{text:X}]});const V=await zn.getInitialUnderstanding(W,Z);w(V),x("reviewing");const te={id:(Date.now()+1).toString(),role:"assistant",content:"Analisei o contexto atualizado. Por favor, valide meu entendimento revisto antes de prosseguirmos.",isError:!1};l(J=>[...J,te])}else if(P)l(Z=>[...Z,{id:Date.now().toString(),role:"assistant",content:"Por favor, utilize o formulrio acima para responder s perguntas de refinamento, ou clique em 'Gerar Plano' se j estiver satisfeito."}]);else{C(!0),K(X);const Z=await zn.refineRequirements(s.filter(W=>W.id!=="welcome"&&!W.isError).map(W=>({role:W.role==="user"?"user":"model",parts:[{text:W.content||W.text||""}]})).concat([{role:"user",parts:[{text:X}]}]),X,void 0,F);b(Z)}}catch(B){console.error(B),A("Erro ao processar solicitao. Verifique sua API Key ou tente novamente."),C(!1),x("idle"),l(U=>[...U,{id:Date.now().toString()+"err",role:"assistant",isError:!0,content:`Erro: ${B.message||"Falha na comunicao com a IA"}`}])}finally{m(!1)}},Te=async(H,X)=>{if(H==="approve"){x("accepted"),C(!0),m(!0);try{const F=s.filter(W=>!W.isError&&W.id!=="welcome").map(W=>({role:W.role==="user"?"user":"model",parts:[{text:W.content||W.text||""}]})),B=s.find(W=>W.role==="user"),U=B?B.content||B.text||"":y;K(U);const Z=await zn.refineRequirements(F,U,void 0,T);b(Z)}catch(F){console.error(F),A("Erro ao iniciar refinamento. Verifique se o contedo do projeto  vlido."),C(!1),x("reviewing")}finally{m(!1)}}else x("idle"),w(""),l(F=>[...F,{id:Date.now().toString(),role:"assistant",content:"Entendido. Por favor, descreva em detalhes o que est incorreto ou o que falta considerar. Vou reavaliar o contexto com suas observaes."}])},xe=async H=>{if(!R){_(!0),E(["Iniciando criao do projeto..."]);try{await n(H,X=>{E(F=>[...F,X])}),e()}catch(X){console.error(X),_(!1)}}},Ne=async()=>{var H;m(!0);try{const X=s.filter(U=>!U.isError&&U.id!=="welcome").map(U=>({role:U.role==="user"?"user":"model",parts:[{text:U.content||U.text||""}]})),F=y||((H=s.find(U=>U.role==="user"))==null?void 0:H.content)||"",B=await zn.generateProjectDoubts(X,F);if(B&&B.length>0){const U=`\uFEFFCategoria;Pergunta;Motivo/Contexto
`,Z=B.map(re=>`"${re.category}";"${re.question}";"${re.reason}"`).join(`
`),W=U+Z,V=new Blob([W],{type:"text/csv;charset=utf-8;"}),te=URL.createObjectURL(V),J=document.createElement("a");J.href=te,J.setAttribute("download",`Duvidas_Projeto_${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(J),J.click(),document.body.removeChild(J)}else alert("No foram encontradas dvidas adicionais neste momento.")}catch(X){console.error(X),A("Erro ao gerar lista de dvidas.")}finally{m(!1)}},Ce=()=>D?o.jsxs("div",{className:"bg-white border border-indigo-100 rounded-xl shadow-lg p-6 mb-4 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 text-indigo-800",children:[o.jsx("div",{className:"bg-indigo-100 p-2 rounded-lg",children:o.jsx(rM,{size:20,className:"text-indigo-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg",children:"Refinamento de Escopo"}),o.jsx("p",{className:"text-xs text-indigo-600 max-w-xl",children:D.thought_process})]})]}),o.jsxs("div",{className:"mb-6 bg-gray-50 border border-gray-100 p-3 rounded-xl flex items-center gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex justify-between text-xs font-semibold uppercase tracking-wider text-gray-500 mb-1",children:[o.jsx("span",{children:"Confiabilidade da Estimativa Atual"}),o.jsxs("span",{className:`${D.current_confidence_score>=80?"text-green-600":D.current_confidence_score>=50?"text-amber-600":"text-red-500"}`,children:[D.current_confidence_score||0,"%"]})]}),o.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full overflow-hidden",children:o.jsx("div",{className:`h-full transition-all duration-500 rounded-full ${D.current_confidence_score>=80?"bg-green-500":D.current_confidence_score>=50?"bg-amber-500":"bg-red-500"}`,style:{width:`${D.current_confidence_score||0}%`}})})]}),o.jsx("div",{className:"text-xs text-gray-400 max-w-[200px] leading-tight hidden sm:block",children:D.current_confidence_score>=80?"Nvel timo. Podemos gerar o plano final.":"Ainda h incertezas. Recomenda-se mais uma rodada."})]}),o.jsx("div",{className:"space-y-6 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:D.questions.map((H,X)=>o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-100",children:[o.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:[o.jsxs("span",{className:"text-indigo-600 mr-2",children:[X+1,"."]}),H.text]}),o.jsxs("div",{className:"space-y-2",children:[H.options.map((F,B)=>{const U=F.toLowerCase().includes("[recomendado]")||F.toLowerCase().includes("(recomendado)"),Z=F.replace(/\[recomendado\]/gi,"").replace(/\(recomendado\)/gi,"").trim();return o.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all ${G[H.id]===F?"bg-indigo-50 border-indigo-300 ring-1 ring-indigo-300":"bg-white border-gray-200 hover:border-indigo-200"}`,children:[o.jsx("input",{type:"radio",name:H.id,value:F,checked:G[H.id]===F,onChange:W=>ge(H.id,W.target.value),className:"w-4 h-4 text-indigo-600 border-gray-300 focus:ring-indigo-500 mt-0.5 self-start"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("span",{className:"text-sm text-gray-700 block",children:Z}),U&&o.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-bold bg-green-100 text-green-700 mt-1 uppercase tracking-wider",children:"Recomendado"})]})]},B)}),H.allow_custom&&o.jsx("div",{className:"mt-2 text-xs",children:o.jsx("input",{type:"text",placeholder:"Complemento ou Resposta Personalizada...",className:`w-full text-sm p-3 rounded-lg border ${q[H.id]?"border-indigo-300 ring-1 ring-indigo-300 bg-white":"bg-gray-50 border-gray-200 text-gray-700 focus:bg-white"} focus:ring-2 focus:ring-indigo-500 outline-none transition-all`,onChange:F=>je(H.id,F.target.value),value:q[H.id]||""})})]})]},H.id))}),o.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-100 sticky bottom-0 bg-white z-10",children:[o.jsxs("button",{onClick:()=>ye(!1),disabled:p||D.questions.some(H=>!G[H.id]&&!q[H.id]),className:"flex-1 py-3 px-4 bg-white border-2 border-indigo-600 text-indigo-700 font-bold rounded-xl hover:bg-indigo-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[p?o.jsx(ua,{size:16,className:"animate-spin"}):null,o.jsx("span",{children:p?"Processando...":"Responder e Prxima Rodada"}),!p&&o.jsx(kx,{size:16})]}),o.jsxs("button",{onClick:()=>ye(!0),disabled:p||D.questions.some(H=>!G[H.id]&&!q[H.id]),className:"flex-1 py-3 px-4 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-indigo-200 flex items-center justify-center gap-2",children:[p?o.jsx(ua,{size:16,className:"animate-spin"}):o.jsx(or,{size:16}),o.jsx("span",{children:p?"Gerando...":"Gerar Plano Agora"})]})]})]}):null,j=(H,X)=>{const F=H.role==="user";return o.jsxs("div",{className:`flex gap-3 ${F?"flex-row-reverse":""} animate-in fade-in slide-in-from-bottom-2`,children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${F?"bg-gray-200 text-gray-600":"bg-indigo-600 text-white"}`,children:F?o.jsx(Yf,{size:18}):o.jsx(R0,{size:18})}),o.jsxs("div",{className:`max-w-[85%] ${F?"bg-gray-100":"bg-white border border-gray-100 shadow-sm"} p-4 rounded-2xl ${F?"rounded-tr-none":"rounded-tl-none"} text-sm text-gray-700`,children:[H.content&&o.jsx("div",{className:"whitespace-pre-wrap leading-relaxed",children:H.content}),H.text&&!H.content&&o.jsx("div",{className:"whitespace-pre-wrap leading-relaxed",children:H.text}),H.estimate&&o.jsx("div",{className:"mt-4 border-t border-gray-200 pt-3",children:o.jsx(k8,{estimate:H.estimate,onApply:()=>xe(H.estimate),isApplying:R,progressLog:N})}),H.isError&&o.jsxs("div",{className:"mt-2 flex items-center gap-2 text-red-600 font-semibold",children:[o.jsx(wd,{size:16}),o.jsx("span",{children:"Erro na gerao"})]}),H.attachments&&H.attachments.length>0&&o.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:H.attachments.map((B,U)=>o.jsxs("span",{className:"inline-flex items-center gap-1 bg-gray-200/50 px-2 py-1 rounded text-xs text-gray-600 border border-gray-300",children:[o.jsx(ug,{size:10})," ",B]},U))})]})]},H.id||X)};return o.jsxs("div",{className:`fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6 transition-all duration-300 ${t?"opacity-100 visible":"opacity-0 invisible"}`,children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),o.jsxs("div",{className:`relative bg-white w-full ${P&&D?"max-w-7xl":"max-w-4xl"} h-[90vh] rounded-2xl shadow-2xl flex overflow-hidden ring-1 ring-gray-900/5 transition-all duration-500`,children:[o.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 bg-white z-10",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-indigo-50 p-2 rounded-xl",children:o.jsx(or,{className:"text-indigo-600",size:24})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-bold text-gray-900 leading-tight",children:"UERJ-FAF 2025"}),o.jsx("p",{className:"text-xs text-gray-500 font-medium flex items-center gap-1",children:k?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"IA Pronta para planejar"]}):"Configurao necessria"})]})]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(yr,{size:20})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 bg-gray-50/50 scroll-smooth relative",children:k?o.jsxs(o.Fragment,{children:[s.map((H,X)=>j(H,X)),v==="reviewing"&&y&&o.jsx("div",{className:"flex w-full justify-start animate-in fade-in slide-in-from-left-2 duration-500 mb-6",children:o.jsxs("div",{className:"flex max-w-[90%] md:max-w-[85%] gap-3 flex-row",children:[o.jsx("div",{className:"shrink-0 w-8 h-8 rounded-full bg-indigo-100 border border-indigo-200 text-indigo-700 flex items-center justify-center",children:o.jsx(or,{size:16})}),o.jsx("div",{className:"flex flex-col gap-3 w-full",children:o.jsxs("div",{className:"bg-white border border-indigo-100 shadow-md rounded-2xl rounded-tl-sm overflow-hidden relative group",children:[o.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-indigo-500"}),o.jsxs("div",{className:"p-5 bg-indigo-50/10",children:[o.jsx("h4",{className:"font-bold text-indigo-900 flex items-center gap-2 mb-3",children:"Confirmao de Entendimento"}),o.jsx("div",{className:"prose prose-sm max-w-none text-gray-600 bg-white p-4 rounded-lg border border-indigo-50 scroll-smooth",children:o.jsx(Wy,{content:y})})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white border-t border-gray-100 flex-wrap",children:[o.jsxs("button",{onClick:Ne,disabled:p,className:"flex-1 min-w-[200px] py-2.5 px-4 bg-white border border-orange-200 text-orange-700 hover:bg-orange-50 rounded-lg font-bold text-xs transition-colors flex items-center justify-center gap-2",children:[p?o.jsx(ua,{size:14,className:"animate-spin"}):o.jsx(zj,{size:14}),"Gerar Lista Completa de Dvidas (Excel)"]}),o.jsxs("button",{onClick:()=>Te("adjust"),disabled:p,className:"flex-1 min-w-[200px] py-2.5 px-4 bg-white border border-red-200 text-red-600 hover:bg-red-50 rounded-lg font-bold text-xs transition-colors flex items-center justify-center gap-2",children:[o.jsx(yr,{size:14})," Corrigir / Ajustar"]}),o.jsxs("button",{onClick:()=>Te("approve"),disabled:p,className:"flex-1 min-w-[200px] py-2.5 px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-bold text-xs shadow-md transition-all flex items-center justify-center gap-2",children:[o.jsx(Ml,{size:14})," Correto, Prosseguir"]})]})]})})]})}),p&&o.jsxs("div",{className:"flex gap-3 animate-pulse",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 text-white flex items-center justify-center flex-shrink-0",children:o.jsx(R0,{size:18})}),o.jsxs("div",{className:"bg-white border border-gray-100 shadow-sm p-4 rounded-2xl rounded-tl-none flex items-center gap-2 text-gray-500 text-sm",children:[o.jsx(ua,{size:16,className:"animate-spin text-indigo-600"}),o.jsx("span",{className:"font-medium",children:v==="validating"?"Analisando documento e contexto...":P?"O Analista est gerando perguntas...":"Processando..."})]})]}),o.jsx("div",{ref:ce})]}):o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8 opacity-60",children:[o.jsx(wd,{size:48,className:"text-orange-400 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"API Key no configurada"}),o.jsx("p",{className:"text-sm text-gray-600 max-w-md mt-2",children:"Para usar a IA, voc precisa adicionar sua chave do Google Gemini nas configuraes do sistema."})]})}),o.jsxs("div",{className:"p-4 bg-white border-t border-gray-200 shrink-0",children:[g&&o.jsxs("div",{className:"mb-3 p-3 bg-red-50 border border-red-100 rounded-lg flex items-center gap-2 text-red-700 text-xs animate-in slide-in-from-bottom-2",children:[o.jsx(wd,{size:14}),g,o.jsx("button",{onClick:()=>A(null),className:"ml-auto hover:text-red-900",children:o.jsx(yr,{size:14})})]}),u.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:u.map((H,X)=>o.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-indigo-50 border border-indigo-100 rounded-lg text-xs font-medium text-indigo-700 animate-in zoom-in-95",children:[o.jsx(ug,{size:12}),o.jsx("span",{className:"max-w-[150px] truncate",children:H.name}),o.jsx("button",{onClick:()=>h(F=>F.filter((B,U)=>U!==X)),className:"hover:bg-indigo-100 p-0.5 rounded-full transition-colors",children:o.jsx(yr,{size:12})})]},X))}),o.jsxs("div",{className:"flex gap-2 items-end",children:[o.jsx("button",{onClick:()=>{var H;return(H=ie.current)==null?void 0:H.click()},className:"p-3 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-all border border-transparent hover:border-indigo-100",title:"Anexar arquivos",disabled:p||P&&v==="accepted",children:o.jsx(ug,{size:20})}),o.jsx("input",{type:"file",ref:ie,className:"hidden",multiple:!0,onChange:oe}),o.jsx("div",{className:"flex-1 relative",children:o.jsx("textarea",{value:c,onChange:H=>d(H.target.value),onKeyDown:H=>{H.key==="Enter"&&!H.shiftKey&&(H.preventDefault(),me())},placeholder:P?"Utilize o formulrio ao lado...":"Digite os detalhes do projeto...",className:"w-full bg-gray-50 border-gray-200 border rounded-xl px-4 py-3 text-sm focus:bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none resize-none min-h-[50px] max-h-[120px]",rows:1,disabled:p||P&&v==="accepted"||v==="reviewing"})}),o.jsx("button",{onClick:me,disabled:!c.trim()&&u.length===0||p||P&&v==="accepted"||v==="reviewing",className:"p-3 bg-indigo-600 text-white rounded-xl shadow-lg shadow-indigo-200 hover:bg-indigo-700 disabled:opacity-50 disabled:shadow-none transition-all transform active:scale-95",children:p?o.jsx(ua,{size:20,className:"animate-spin"}):o.jsx(Jj,{size:20})})]})]})]}),P&&D&&o.jsxs("div",{className:"w-full md:w-[450px] bg-slate-50 border-l border-gray-200 flex flex-col h-full animate-in slide-in-from-right-10 duration-500 shadow-2xl z-20",children:[o.jsxs("div",{className:"p-4 border-b border-gray-200 bg-white flex justify-between items-center",children:[o.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(hs,{size:18,className:"text-indigo-600"}),"Refinamento Ativo"]}),o.jsx("button",{onClick:()=>{confirm("Deseja cancelar a entrevista e voltar?")&&(C(!1),b(null),x("reviewing"))},className:"text-gray-400 hover:text-red-500",title:"Cancelar entrevista",children:o.jsx(yr,{size:16})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:Ce()})]})]})]})},R8=(t,e,n)=>{const r=new Map;t.forEach(d=>r.set(d.id,d.dependencies||[]));const a=r.get(n)||[];r.set(n,[...a,e]);const s=(()=>{const d=new Map;return t.forEach(u=>{u.dependencies.forEach(h=>{const p=d.get(h)||[];p.push(u.id),d.set(h,p)})}),d})(),l=[n],c=new Set([n]);for(;l.length>0;){const d=l.shift();if(d===e)return!0;const u=s.get(d)||[];for(const h of u)c.has(h)||(c.add(h),l.push(h))}return!1},Fh=t=>{const e=new Map;t.forEach(s=>{if(s.parent){const l=e.get(s.parent)||[];l.push(s),e.set(s.parent,l)}});let n=t.map(s=>{var c;const l=(((c=e.get(s.id))==null?void 0:c.length)||0)>0;return l&&s.type!=="project"?{...s,type:"project",progress:0}:!l&&s.type==="project"?{...s,type:"task"}:s});e.clear(),n.forEach(s=>{if(s.parent){const l=e.get(s.parent)||[];l.push(s),e.set(s.parent,l)}});const r=Math.max(t.length,100);for(let s=0;s<r;s++){let l=!1;if(n=n.map(d=>{if(d.dependencies.length===0)return d;let u=0;if(d.dependencies.forEach(h=>{const p=n.find(m=>m.id===h);p&&(u=Math.max(u,p.end.getTime()))}),u>0){const h=xn(new Date(u),1);if(h.getTime()!==d.start.getTime()){l=!0;const p=d.end.getTime()-d.start.getTime();return{...d,start:h,end:new Date(h.getTime()+p)}}}return d}),!l)break}const a=n.filter(s=>!s.parent||s.parent==="auto-id-1"),i=s=>{const l=n.filter(c=>c.parent===s.id);if(l.forEach(i),l.length>0){const c=n.filter(A=>A.parent===s.id),d=mP(c.map(A=>A.start)),u=pP(c.map(A=>A.end));let h=0,p=0;c.forEach(A=>{const v=Math.max(1,Sx(A.end,A.start));h+=v,p+=A.progress*v});const m=h===0?0:Math.round(p/h),g=n.findIndex(A=>A.id===s.id);g!==-1&&(n[g]={...n[g],start:d,end:u,progress:m,type:"project",styles:{progressColor:"#ff9e0b",backgroundColor:"#ffbb54"}})}};return a.forEach(i),n.map(s=>({...s,styles:s.type==="project"?s.styles:{progressColor:"#3b82f6",backgroundColor:"#60a5fa"}}))},P8=t=>{const[e,n]=L.useState(t);L.useEffect(()=>{n(p=>Fh(p))},[]),L.useEffect(()=>{t.length>0&&n(p=>{if(p.length===0)return Fh(t);const m=new Map(t.map(y=>[y.id,y])),g=new Set(t.map(y=>y.id)),A=new Set(p.map(y=>y.id));let v=p.filter(y=>g.has(y.id)).map(y=>({...y,...m.get(y.id)}));const x=t.filter(y=>!A.has(y.id));return v=[...v,...x],v.sort((y,w)=>(y.order??0)-(w.order??0)),Fh(v)})},[t]);const r=p=>Fh(p),a=(p,m)=>{n(g=>{const A=[...g];let v=A.length,x=p.parent;if(m){const w=A.findIndex(T=>T.id===m);w!==-1&&(v=w+1,x=A[w].parent)}p.end<p.start&&(p.end=p.start);const y={...p,parent:x||null};return A.splice(v,0,y),r(A)})},i=p=>{n(m=>{let g=[...m];const A=m.find(v=>v.id===p.id);if(A&&p.parent!==A.parent){const v=g.findIndex(y=>y.id===p.id);v!==-1&&g.splice(v,1);let x=g.length;if(p.parent){const y=g.findIndex(w=>w.id===p.parent);if(y!==-1){let w=y+1;for(;w<g.length&&s(g,w,p.parent);)w++;x=w}}else x=g.length;g.splice(x,0,p)}else{const v=m.find(x=>x.id===p.id);if(v){const x=v.end.getTime(),w=p.end.getTime()-x;let T=g.map(I=>I.id===p.id?p:I);if(w!==0){const I=new Map;T.forEach(N=>{var E;(E=N.dependencies)==null||E.forEach(k=>{const P=I.get(k)||[];P.push(N.id),I.set(k,P)})});const R=[p.id],_=new Set;for(;R.length>0;){const N=R.shift();(I.get(N)||[]).forEach(k=>{_.has(k)||(_.add(k),R.push(k))})}T=T.map(N=>_.has(N.id)?{...N,start:new Date(N.start.getTime()+w),end:new Date(N.end.getTime()+w)}:N)}g=T}else g=g.map(x=>x.id===p.id?p:x)}if(p.dependencies){const v=m.find(x=>x.id===p.id);for(const x of p.dependencies)if(R8(g,x,p.id)){console.error(`Cyclic dependency detected: ${x} -> ${p.id}`);const y={...p,dependencies:(v==null?void 0:v.dependencies)||[]};g=g.map(w=>w.id===p.id?y:w);break}}return r(g)})},s=(p,m,g)=>{let A=p[m];for(;A.parent;){if(A.parent===g)return!0;const v=p.find(x=>x.id===A.parent);if(!v)break;A=v}return!1};return{tasks:e,addTask:a,updateTask:i,deleteTask:p=>{n(m=>{const g=new Set,A=y=>{g.add(y),m.filter(w=>w.parent===y).forEach(w=>A(w.id))};A(p);const x=m.filter(y=>!g.has(y.id)).map(y=>{var w;return{...y,dependencies:((w=y.dependencies)==null?void 0:w.filter(T=>!g.has(T)))||[]}});return r(x)})},handleMoveTask:(p,m,g)=>{n(A=>{const v=A.find(R=>R.id===p);if(!v||v.type==="project")return A;const x=v.end.getTime(),w=g.getTime()-x,T={...v,start:m,end:g};let I=A.map(R=>R.id===p?T:R);if(w!==0){const R=new Map;I.forEach(E=>{var k;(k=E.dependencies)==null||k.forEach(P=>{const C=R.get(P)||[];C.push(E.id),R.set(P,C)})});const _=[p],N=new Set;for(;_.length>0;){const E=_.shift();(R.get(E)||[]).forEach(P=>{N.has(P)||(N.add(P),_.push(P))})}I=I.map(E=>N.has(E.id)?{...E,start:new Date(E.start.getTime()+w),end:new Date(E.end.getTime()+w)}:E)}return r(I)})},indentTask:p=>{const m=e.findIndex(x=>x.id===p);if(m<=0)return;const g=e[m],A=e[m-1],v={...g,parent:A.id};return n(x=>{const y=x.findIndex(_=>_.id===p);if(y<=0)return x;const w=x[y],T=x[y-1],I={...w,parent:T.id},R=[...x];return R[y]=I,r(R)}),v},outdentTask:p=>{const m=e.find(x=>x.id===p);if(!m||!m.parent)return;const g=e.find(x=>x.id===m.parent),A=(g==null?void 0:g.parent)||null,v={...m,parent:A};return n(x=>{const y=x.find(_=>_.id===p);if(!y||!y.parent)return x;const w=x.find(_=>_.id===y.parent),T=(w==null?void 0:w.parent)||null,I={...y,parent:T},R=x.map(_=>_.id===p?I:_);return r(R)}),v},reorderTasks:(p,m)=>{let g=[...p];g=g.map((A,v)=>{if(!A.parent)return A;const x=g.findIndex(y=>y.id===A.parent);return x===-1||x>v?{...A,parent:null}:A}),n(r(g))},handleTaskChange:i,getProjectStats:(p=[])=>{if(e.length===0)return{totalCost:0,totalRealCost:0,progress:0,totalDuration:0,totalRealDuration:0};const m=(z,G)=>!z||!G?0:Jr(z,G);let g=new Date(864e13),A=new Date(-864e13),v=new Date(864e13),x=new Date(-864e13),y=0,w=0,T=0;const I=e.filter(z=>z.type!=="project");if(I.length===0)return{totalCost:0,totalRealCost:0,progress:0,totalDuration:0};I.forEach(z=>{const G=z.start.getTime(),Q=z.end.getTime();G<g.getTime()&&(g=z.start),Q>A.getTime()&&(A=z.end),z.realStart&&z.realStart.getTime()<v.getTime()&&(v=z.realStart),z.realEnd&&z.realEnd.getTime()>x.getTime()&&(x=z.realEnd);const q=Q-G;if(y+=(z.progress||0)*q,z.resourceId&&p.length>0){const ne=p.find(Y=>Y.id===z.resourceId);if(ne){const Y=Math.max(1,m(z.start,z.end));if(w+=Y*8*ne.hourlyRate,z.realStart&&z.realEnd){const K=Math.max(1,m(z.realStart,z.realEnd));T+=K*8*ne.hourlyRate}}}});const R=e.filter(z=>!z.parent||!e.find(G=>G.id===z.parent));let _=0,N=0;R.forEach(z=>{let G=Math.max(1,Sx(z.end,z.start));_+=(z.progress||0)*G,N+=G});const E=N>0?Math.round(_/N):0,k=m(g,A);let P=0;x.getTime()>-864e13&&v.getTime()<864e13&&(P=m(v,x));const C=new Date;C.setHours(12,0,0,0);let D=0;if(g.getTime()<864e13&&k>0)if(jl(g,C))D=0;else if(jl(C,A))D=100;else{const z=m(g,C);D=Math.round(z/k*100)}D=Math.min(100,Math.max(0,D));let b=D>0?E/D:(E>0,1),O=T>0?w/T:(w>0,1);return{totalCost:w,totalRealCost:T,progress:E,plannedProgress:D,totalDuration:Math.max(0,k),totalRealDuration:Math.max(0,P),spi:b,cpi:O}}}},Ti=t=>t?t instanceof Date?t:typeof(t==null?void 0:t.toDate)=="function"?t.toDate():t!=null&&t.seconds?new Date(t.seconds*1e3):new Date(t):new Date,j8=(t,e)=>{var w,T;if(!t)return{monthlyCosts:[],revenueDistribution:[]};const n=e.filter(I=>I.start&&I.end);let r=Xl(new Date),a=[r];if(n.length||t.startDate){const I=n.map(k=>[Ti(k.start),Ti(k.end)]).flat();t.startDate&&I.push(Ti(t.startDate)),t.endDate&&I.push(Ti(t.endDate));const R=I.reduce((k,P)=>P<k?P:k,I[0]||new Date),_=I.reduce((k,P)=>P>k?P:k,I[0]||new Date);r=Xl(R);const N=as(_,12);a=[];let E=r;for(;E<=N;)a.push(E),E=as(E,1)}const i=new Map;(w=t.teamStructure)==null||w.forEach(I=>{I.hourlyRate&&i.set(I.role.trim(),I.hourlyRate)});const s=[],l=new Set;e.forEach(I=>{I.assignedResource&&l.add(I.assignedResource.trim())}),(T=t.teamStructure)==null||T.forEach(I=>l.add(I.role.trim())),l.forEach(I=>{const R=e.filter(_=>(_.assignedResource||"").trim()===I);a.forEach(_=>{let N=0,E=0;R.forEach(k=>{if(!k.start||!k.end)return;let P,C;k.progress===100&&k.realStart&&k.realEnd?(P=Ti(k.realStart),C=Ti(k.realEnd)):(P=Ti(k.start),C=Ti(k.end));const D=_,b=new Date(as(_,1).getTime()-1);if(P<=b&&C>=D){const O=P>D?P:D,z=C<b?C:b,G=Jr(O,z);if(G>0){const Q=G*8,q=k.hourlyRate||i.get(I)||0;N+=Q,E+=Q*q}}}),N>0&&s.push({id:crypto.randomUUID(),month:_.toISOString().slice(0,7),role:I,hours:N,cost:E})})});const c=new Map;let d=0;const u=t.otherCosts||[];a.forEach(I=>{const R=I.toISOString().slice(0,7),_=s.filter(k=>k.month===R).reduce((k,P)=>k+P.cost,0),N=u.reduce((k,P)=>k+(P.values[R]||0),0),E=_+N;c.set(R,E),d+=E});let h=t.margin||0,p="Margem Planejada";if(t.fixedSnapshot){p="Margem Real";const I=t.fixedSnapshot,_=I.price*(1-(I.taxRate||0)/100),N=(I.deliveryDeviation||0)/100,E=1-N>.001?I.cost/(1-N)-I.cost:0,k=t.deliveryDeviation||0,P=I.deliveryDeviation||1,C=P!==0?k*(E/P):0,D=_-E,b=_-C-d;D>.001?h=b/D*100:h=0}const m=h/100,g=(t.taxRate||0)/100,A=1-m,v=1-g,x={};a.forEach(I=>{const R=I.toISOString().slice(0,7),_=c.get(R)||0;if(_>0&&A>.001){const N=_/A,E=v>.001?N/v:N;x[R]=E}});const y={id:crypto.randomUUID(),description:`Receita Sugerida (${p} ${h.toFixed(1)}%)`,values:x};return{monthlyCosts:s,revenueDistribution:[y]}},M8=({isOpen:t,onClose:e,tasks:n,onUpdateTasks:r,project:a,onUpdateProject:i})=>{const[s,l]=L.useState([]),[c,d]=L.useState(!1);L.useEffect(()=>{if(!t)return;const g=lo(new Date),A=[];n.forEach(v=>{var k;if(v.type==="project")return;const x=P=>P?P instanceof Date?P:typeof P.toDate=="function"?P.toDate():new Date(P):new Date,y=lo(x(v.start)),w=lo(x(v.end)),T=v.progress||0,I=(k=v.clientBlockages)==null?void 0:k.find(P=>!P.end),R=!!I;if(T===100)return;let _=0;if(eo(y,g)){const P=Math.max(1,Nh(w,y)),C=Math.max(0,Nh(g,y));_=Math.min(100,Math.round(C/P*100))}let N=null,E="";eo(w,g)?(N="delayed",E=`Deveria ter terminado em ${Lt(w,"dd/MM")}. Deveria estar em 100%.`):eo(y,g)&&T===0?(N="not_started",E=`Deveria ter iniciado em ${Lt(y,"dd/MM")}. Deveria estar em ${_}%.`):eo(y,g)&&_-T>20&&(N="lagging",E=`Ritmo lento. Esperado ~${_}% (Decorridos ${Math.max(0,Nh(g,y))}/${Math.max(1,Nh(w,y))} dias).`),(N||R)&&A.push({taskId:v.id,taskName:v.name,type:N||"delayed",description:N?E:"Tarefa Bloqueada pelo Cliente.",currentProgress:T,currentStart:v.start,currentEnd:v.end,newProgress:T,newEndDate:Lt(new Date,"yyyy-MM-dd"),action:"keep",isBlocked:R,activeBlockageStart:I?x(I.start):void 0,blockageReason:""})}),l(A)},[t,n]);const u=(g,A)=>{if(!n.find(I=>I.id===g)||!A)return{count:0,names:[]};const x=new Date(A);if(!Zs(x))return{count:0,names:[]};const w=new Date,T=n.filter(I=>I.id!==g&&I.type!=="project"&&I.progress<100&&Wb({start:I.start,end:I.end},{start:x,end:w}));return{count:T.length,names:T.map(I=>I.name)}},h=(g,A)=>{const v=[...s];v[g].action=A;const x=new Date;if(Lt(x,"yyyy-MM-dd'T'HH:mm"),(A==="complete"||A==="complete_on_time"||A==="complete_custom")&&(v[g].newProgress=100),A==="complete_custom"){const y=n.find(w=>w.id===v[g].taskId);v[g].customRealStartDate=v[g].customRealStartDate||Lt(y?y.start:x,"yyyy-MM-dd"),v[g].customRealEndDate=v[g].customRealEndDate||Lt(x,"yyyy-MM-dd")}if(A==="blocked_by_client"){v[g].activeBlockageStart?v[g].blockageStartDate=Lt(v[g].activeBlockageStart,"yyyy-MM-dd'T'HH:00"):v[g].blockageStartDate=Lt(x,"yyyy-MM-dd'T'HH:00"),v[g].blockageEndDate="",v[g].blockageImpactPercentage=100;const y=u(v[g].taskId,v[g].blockageStartDate);v[g].affectedParallelTasks=y.count,v[g].affectedParallelTasksNames=y.names}A==="unblock_client"&&(v[g].blockageEndDate=Lt(x,"yyyy-MM-dd'T'HH:00")),l(v)},p=(g,A,v)=>{const x=[...s];if(x[g][A]=v,A==="newProgress"&&v!==x[g].currentProgress&&(v===100?x[g].action="complete":x[g].action="update_progress"),A==="newEndDate"&&v!==Lt(x[g].currentEnd,"yyyy-MM-dd")&&(x[g].action="reschedule"),A==="blockageStartDate"&&x[g].action==="blocked_by_client"){const y=u(x[g].taskId,v);x[g].affectedParallelTasks=y.count,x[g].affectedParallelTasksNames=y.names}l(x)},m=async()=>{d(!0);const g=new Map;let A=!1;const v=(y,w)=>{const T=g.get(y)||{};g.set(y,{...T,...w})};s.forEach(y=>{var T;if(y.action==="keep")return;const w=n.find(I=>I.id===y.taskId);if(y.action==="blocked_by_client"){if(y.blockageStartDate){const I=new Date(y.blockageStartDate);let R=y.blockageEndDate?new Date(y.blockageEndDate):void 0;if(!Zs(I))return;R&&!Zs(R)&&(R=void 0);const _=y.blockageReason||"Motivo no especificado",N={id:crypto.randomUUID(),start:I,end:R,reason:_,impactPercentage:y.blockageImpactPercentage??100},E=[...(w==null?void 0:w.clientBlockages)||[],N];v(y.taskId,{clientBlockages:E});const k=R||new Date;n.filter(C=>{var D;return C.id!==y.taskId&&C.type!=="project"&&C.progress<100&&!((D=C.clientBlockages)!=null&&D.some(b=>!b.end))&&Wb({start:C.start,end:C.end},{start:I,end:k})}).forEach(C=>{const D={id:crypto.randomUUID(),start:I,end:R,reason:`[IMPACTO SISTMICO] Bloqueio cascata originado em: "${w==null?void 0:w.name}". Motivo: ${_}`,impactPercentage:y.blockageImpactPercentage??100},b=[...C.clientBlockages||[],D];v(C.id,{clientBlockages:b})})}}else if(y.action==="unblock_client"){if(y.blockageEndDate){const I=new Date(y.blockageEndDate),R=y.activeBlockageStart||new Date(y.blockageStartDate||new Date),_=Tx(R,I),N=w!=null&&w.end?new Date(w.end):new Date,E=wj(N,_),k=(T=w==null?void 0:w.clientBlockages)==null?void 0:T.map(P=>P.end?P:{...P,end:I});if(v(y.taskId,{clientBlockages:k,end:E}),A=!0,w!=null&&w.name){const P=`[IMPACTO SISTMICO] Bloqueio cascata originado em: "${w.name}"`;n.filter(D=>{var b;return D.id!==y.taskId&&((b=D.clientBlockages)==null?void 0:b.some(O=>{var z;return!O.end&&((z=O.reason)==null?void 0:z.includes(P))}))}).forEach(D=>{var O;const b=(O=D.clientBlockages)==null?void 0:O.map(z=>{var G;return!z.end&&((G=z.reason)!=null&&G.includes(P))?{...z,end:I}:z});v(D.id,{clientBlockages:b})})}}}else if(y.action==="complete")v(y.taskId,{progress:100});else if(y.action==="complete_on_time")w&&v(y.taskId,{progress:100,realStart:w.start,realEnd:w.end});else if(y.action==="complete_custom"){const I={progress:100};if(y.customRealStartDate){const[R,_,N]=y.customRealStartDate.split("-").map(Number);I.realStart=new Date(R,_-1,N,12,0,0)}if(y.customRealEndDate){const[R,_,N]=y.customRealEndDate.split("-").map(Number);I.realEnd=new Date(R,_-1,N,18,0,0)}v(y.taskId,I)}else if(y.action==="update_progress")v(y.taskId,{progress:Math.min(100,Math.max(0,y.newProgress))});else if(y.action==="reschedule"){const[I,R,_]=y.newEndDate.split("-").map(Number),N=new Date(I,R-1,_,18,0,0);Zs(N)&&(v(y.taskId,{end:N}),A=!0)}});const x=Array.from(g.entries()).map(([y,w])=>({id:y,changes:w}));if(x.length>0&&(await r(x),A&&a&&i)){const y=n.map(T=>g.has(T.id)?{...T,...g.get(T.id)}:T),w=j8(a,y);await i({monthlyCosts:w.monthlyCosts,revenueDistribution:w.revenueDistribution})}d(!1),e()};return t?o.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl h-[80vh] flex flex-col animate-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"px-8 py-6 border-b border-gray-100 flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[o.jsx(Kl,{className:"text-amber-500"}),"Estabilizao do Cronograma"]}),o.jsxs("p",{className:"text-gray-500 mt-2",children:["Validao de ",s.length," tarefas com pendncias ou atrasos at hoje (",Lt(new Date,"dd/MM/yyyy"),")."]})]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(yr,{size:24})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-8 bg-gray-50",children:s.length===0?o.jsxs("div",{className:"text-center py-20 flex flex-col items-center",children:[o.jsx(j0,{size:64,className:"text-green-500 mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Tudo Certo!"}),o.jsx("p",{className:"text-gray-500 mt-2",children:"No encontramos tarefas atrasadas ou com evoluo pendente."})]}):o.jsx("div",{className:"space-y-4",children:s.map((g,A)=>{var v;return o.jsx("div",{className:`bg-white border rounded-lg p-5 shadow-sm transition-all ${g.action!=="keep"?"border-indigo-300 ring-1 ring-indigo-50":"border-gray-200"}`,children:o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-6",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded ${g.type==="delayed"?"bg-red-100 text-red-700":g.type==="not_started"?"bg-orange-100 text-orange-700":"bg-yellow-100 text-yellow-700"}`,children:g.type==="delayed"?"Atrasada":g.type==="not_started"?"No Iniciou":"Defasada"}),g.isBlocked&&o.jsx("span",{className:"text-[10px] font-bold uppercase px-2 py-0.5 rounded bg-red-600 text-white animate-pulse",children:"BLOQUEADO PELO CLIENTE"}),o.jsx("h4",{className:"font-bold text-gray-900",children:g.taskName})]}),o.jsx("p",{className:"text-sm text-gray-500",children:g.description}),o.jsxs("div",{className:"text-xs text-gray-400 mt-2 flex gap-4",children:[o.jsxs("span",{children:["Progress Atual: ",o.jsxs("b",{children:[g.currentProgress,"%"]})]}),o.jsxs("span",{children:["Fim Previsto: ",o.jsx("b",{children:Lt(g.currentEnd,"dd/MM/yyyy")})]}),g.isBlocked&&g.activeBlockageStart&&o.jsxs("span",{className:"text-red-400 flex items-center gap-1",children:[o.jsx(Qi,{size:10}),"Bloqueado em: ",Lt(new Date(g.activeBlockageStart),"dd/MM/yyyy")]})]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-6 bg-gray-50 p-3 rounded-lg border border-gray-100",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Ao"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("button",{onClick:()=>h(A,"update_progress"),className:`px-3 py-1.5 text-xs font-medium rounded border transition-colors ${g.action==="update_progress"?"bg-blue-100 text-blue-700 border-blue-200":"bg-white text-gray-600 border-gray-200 hover:border-blue-300"}`,children:"Evoluir"}),o.jsx("button",{onClick:()=>h(A,"reschedule"),className:`px-3 py-1.5 text-xs font-medium rounded border transition-colors ${g.action==="reschedule"?"bg-amber-100 text-amber-700 border-amber-200":"bg-white text-gray-600 border-gray-200 hover:border-amber-300"}`,children:"Reprogramar"}),g.isBlocked?o.jsx("button",{onClick:()=>h(A,"unblock_client"),className:`px-3 py-1.5 text-xs font-medium rounded border transition-colors border-red-200 text-red-700 bg-red-50 hover:bg-red-100 ${g.action==="unblock_client"?"ring-2 ring-red-400":""}`,children:"Desbloqueio pelo cliente"}):o.jsx("button",{onClick:()=>h(A,"blocked_by_client"),className:`px-3 py-1.5 text-xs font-medium rounded border transition-colors border-red-200 text-red-600 hover:bg-red-50 ${g.action==="blocked_by_client"?"bg-red-100 font-bold":"bg-white"}`,children:"Bloqueado pelo cliente"}),o.jsxs("div",{className:"flex gap-1 w-full",children:[o.jsx("button",{onClick:()=>h(A,"complete_custom"),className:`flex-1 px-3 py-1.5 text-xs font-medium rounded border transition-colors ${g.action==="complete_custom"?"bg-indigo-100 text-indigo-700 border-indigo-200":"bg-white text-gray-600 border-gray-200 hover:border-indigo-300"}`,children:"Conc. Atraso/Ant."}),o.jsx("button",{onClick:()=>h(A,"complete_on_time"),className:`flex-1 px-3 py-1.5 text-xs font-medium rounded border transition-colors ${g.action==="complete_on_time"?"bg-emerald-100 text-emerald-700 border-emerald-200":"bg-white text-gray-600 border-gray-200 hover:border-emerald-300"}`,children:"Conc. Prazo"})]})]})]}),o.jsxs("div",{className:"w-[180px] border-l border-gray-200 pl-6 flex flex-col justify-center",children:[g.action==="complete_on_time"&&o.jsxs("div",{className:"flex items-center gap-2 text-green-600 font-bold text-sm",children:[o.jsx(j0,{size:16})," Ser 100% (No Prazo)"]}),g.action==="blocked_by_client"&&o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-bold text-red-500 uppercase block mb-1",children:"Incio (Data/Hora)"}),o.jsx("input",{type:"datetime-local",step:"3600",value:g.blockageStartDate,onChange:x=>p(A,"blockageStartDate",x.target.value),className:"w-full text-xs p-1 border border-red-200 rounded focus:border-red-500 outline-none font-medium text-red-700",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase block mb-1",children:"Fim (Opcional)"}),o.jsx("input",{type:"datetime-local",step:"3600",value:g.blockageEndDate||"",onChange:x=>p(A,"blockageEndDate",x.target.value),min:g.blockageStartDate,className:"w-full text-xs p-1 border border-gray-200 rounded focus:border-red-500 outline-none font-medium text-gray-700 placeholder-gray-300"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-bold text-red-500 uppercase block mb-1",children:"Motivo"}),o.jsx("textarea",{value:g.blockageReason,onChange:x=>p(A,"blockageReason",x.target.value),className:"w-full text-xs p-2 border border-red-200 rounded focus:border-red-500 outline-none bg-red-50 resize-none h-14"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Impacto Financeiro (%)"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"range",min:"0",max:"100",value:g.blockageImpactPercentage??100,onChange:x=>p(A,"blockageImpactPercentage",parseInt(x.target.value)),className:"w-20 accent-red-600 h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),o.jsxs("span",{className:"text-sm font-bold text-red-700 w-8 text-right",children:[g.blockageImpactPercentage??100,"%"]})]})]}),g.affectedParallelTasks&&g.affectedParallelTasks>0?o.jsxs("div",{className:"text-[10px] text-amber-600 bg-amber-50 p-2 rounded flex flex-col gap-1 border border-amber-100",children:[o.jsxs("div",{className:"flex items-center gap-1 font-bold",children:[o.jsx(bE,{size:12}),"Impacto (+",g.affectedParallelTasks," tarefas):"]}),o.jsx("ul",{className:"list-disc list-inside opacity-80 pl-1 leading-tight",children:(v=g.affectedParallelTasksNames)==null?void 0:v.map((x,y)=>o.jsx("li",{className:"truncate",title:x,children:x},y))})]}):null]}),g.action==="unblock_client"&&o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"text-[10px] font-bold text-green-600 uppercase block mb-1",children:"Data/Hora Desbloqueio"}),o.jsx("input",{type:"datetime-local",value:g.blockageEndDate,onChange:x=>p(A,"blockageEndDate",x.target.value),className:"w-full text-xs p-1 border border-green-200 rounded focus:border-green-500 outline-none font-medium text-green-700",required:!0}),o.jsx("div",{className:"text-[10px] text-green-500 font-medium",children:"Contador de horas ociosas parado."})]}),g.action==="complete_custom"&&o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-0.5",children:"Incio Real"}),o.jsx("input",{type:"date",value:g.customRealStartDate,onChange:x=>p(A,"customRealStartDate",x.target.value),className:"w-full text-xs p-1 border border-indigo-200 rounded focus:border-indigo-500 outline-none",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-0.5",children:"Fim Real"}),o.jsx("input",{type:"date",value:g.customRealEndDate,onChange:x=>p(A,"customRealEndDate",x.target.value),className:"w-full text-xs p-1 border border-indigo-200 rounded focus:border-indigo-500 outline-none",required:!0})]})]}),g.action==="update_progress"&&o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Novo %"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"range",min:"0",max:"100",value:g.newProgress,onChange:x=>p(A,"newProgress",parseInt(x.target.value)),className:"w-20 accent-blue-600 h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),o.jsxs("span",{className:"text-sm font-bold text-blue-700 w-8 text-right",children:[g.newProgress,"%"]})]})]}),g.action==="reschedule"&&o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Nova Data Fim"}),o.jsx("input",{type:"date",value:g.newEndDate,onChange:x=>p(A,"newEndDate",x.target.value),className:"w-full text-xs p-1.5 border border-amber-300 rounded focus:ring-2 focus:ring-amber-500 outline-none text-gray-700 font-medium"})]})]})]})]})},g.taskId)})})}),o.jsxs("div",{className:"px-8 py-5 border-t border-gray-100 bg-white flex justify-end gap-3 rounded-b-xl",children:[o.jsx("button",{onClick:e,className:"px-6 py-2.5 text-gray-600 font-medium hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:"Cancelar"}),o.jsx("button",{onClick:m,disabled:c||s.length===0,className:"px-6 py-2.5 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:c?"Salvando...":`Aplicar ${s.filter(g=>g.action!=="keep").length} Correes`})]})]})}):null},L8=()=>{const{signInWithEmail:t,signUpWithEmail:e,signInWithGoogle:n,loading:r}=zy(),[a,i]=L.useState(!0),[s,l]=L.useState(""),[c,d]=L.useState(""),[u,h]=L.useState(""),[p,m]=L.useState(""),[g,A]=L.useState(!1),v=async y=>{y.preventDefault(),m(""),A(!0);try{if(a)await t(s,c);else{if(c.length<6)throw new Error("A senha deve ter pelo menos 6 caracteres.");await e(s,c,u)}}catch(w){console.error(w),w.code==="auth/invalid-credential"||w.code==="auth/user-not-found"||w.code==="auth/wrong-password"?m("Email ou senha incorretos."):w.code==="auth/email-already-in-use"?m("Este email j est em uso."):w.code==="auth/weak-password"?m("A senha  muito fraca."):m(w.message||"Ocorreu um erro ao tentar entrar.")}finally{A(!1)}},x=async()=>{m("");try{await n()}catch(y){console.error(y),m("Erro ao conectar com Google.")}};return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsx(ua,{className:"animate-spin text-indigo-600",size:48})}):o.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8 font-sans",children:[o.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[o.jsxs("div",{className:"flex flex-col items-center justify-center mb-6",children:[o.jsx("img",{src:"/logo.png",alt:"Logo",className:"h-24 w-auto object-contain mb-4"}),o.jsx("span",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"UERJ-FAF 2025"})]}),o.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 tracking-tight",children:a?"Bem-vindo de volta":"Crie sua conta"}),o.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:a?"Gerencie seus projetos com inteligncia.":"Comece a transformar sua gesto hoje."})]}),o.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:o.jsxs("div",{className:"bg-white py-8 px-4 shadow-xl shadow-gray-100 rounded-2xl sm:px-10 border border-gray-100",children:[o.jsxs("form",{className:"space-y-6",onSubmit:v,children:[!a&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nome Completo"}),o.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Yf,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:u,onChange:y=>h(y.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-lg py-2.5 transition-all",placeholder:"Seu nome"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email corporativo"}),o.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Qj,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s,onChange:y=>l(y.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-lg py-2.5 transition-all",placeholder:"voce@empresa.com"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Senha"}),o.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Dx,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:c,onChange:y=>d(y.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-lg py-2.5 transition-all",placeholder:""})]})]}),p&&o.jsx("div",{className:"rounded-md bg-red-50 p-4 border border-red-100 animate-in fade-in slide-in-from-top-1",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(wd,{className:"h-5 w-5 text-red-400"})}),o.jsx("div",{className:"ml-3",children:o.jsx("h3",{className:"text-sm font-medium text-red-800",children:p})})]})}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:g,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all hover:scale-[1.01] active:scale-[0.99] disabled:opacity-70 disabled:cursor-not-allowed",children:g?o.jsx(ua,{className:"animate-spin h-5 w-5"}):o.jsxs("span",{className:"flex items-center gap-2",children:[a?"Entrar na plataforma":"Criar nova conta"," ",o.jsx(kx,{size:16})]})})})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Ou continue com"})})]}),o.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:o.jsxs("button",{onClick:x,className:"w-full inline-flex justify-center py-2.5 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors",children:[o.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[o.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),o.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),o.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z",fill:"#FBBC05"}),o.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),o.jsx("span",{className:"ml-2",children:"Google"})]})})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-sm text-gray-600",children:[a?"No tem uma conta?":"J tem uma conta?",o.jsx("button",{onClick:()=>i(!a),className:"font-medium text-indigo-600 hover:text-indigo-500 hover:underline ml-1",children:a?"Cadastre-se gratuitamente":"Fazer login"})]})})]})})]})},V_=({initialValue:t,onSave:e,onCancel:n,label:r})=>{const[a,i]=ue.useState(t),s=L.useRef(null);L.useEffect(()=>{s.current&&(s.current.style.height="auto",s.current.style.height=s.current.scrollHeight+"px")},[a]);const l=(d,u="")=>{const h=s.current;if(!h)return;const p=h.selectionStart,m=h.selectionEnd,g=a.substring(p,m),A=a.substring(0,p)+d+g+u+a.substring(m);i(A),setTimeout(()=>{h.focus(),h.setSelectionRange(p+d.length,m+d.length)},0)},c=({icon:d,onClick:u,title:h})=>o.jsx("button",{type:"button",onClick:u,className:"p-1.5 text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:h,children:o.jsx(d,{size:16})});return o.jsxs("div",{className:"bg-white rounded-xl border-2 border-indigo-100 shadow-lg animate-in fade-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-indigo-50 bg-gray-50/50 rounded-t-lg",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[r&&o.jsx("span",{className:"text-xs font-bold text-gray-400 mr-2 uppercase tracking-wider",children:r}),o.jsx("div",{className:"h-4 w-px bg-gray-200 mx-1"}),o.jsx(c,{icon:Sj,onClick:()=>l("**","**"),title:"Negrito"}),o.jsx(c,{icon:$j,onClick:()=>l("*","*"),title:"Itlico"}),o.jsx("div",{className:"h-4 w-px bg-gray-200 mx-1"}),o.jsx(c,{icon:Gj,onClick:()=>l("# "),title:"Ttulo 1"}),o.jsx(c,{icon:Wj,onClick:()=>l("## "),title:"Ttulo 2"}),o.jsx("div",{className:"h-4 w-px bg-gray-200 mx-1"}),o.jsx(c,{icon:Hj,onClick:()=>l("- "),title:"Lista"}),o.jsx(c,{icon:Yj,onClick:()=>l("> "),title:"Citao"}),o.jsx(c,{icon:Mj,onClick:()=>l("```\n","\n```"),title:"Cdigo"})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("button",{onClick:()=>i(""),className:"text-xs text-red-400 hover:text-red-600 font-medium px-2",children:"Limpar"})})]}),o.jsx("div",{className:"p-2",children:o.jsx("textarea",{ref:s,value:a,onChange:d=>i(d.target.value),className:"w-full min-h-[200px] p-3 text-sm text-gray-800 bg-transparent border-0 focus:ring-0 resize-none font-mono leading-relaxed placeholder-gray-300",placeholder:"Escreva seu contedo aqui... Suporta Markdown."})}),o.jsxs("div",{className:"flex items-center justify-end gap-3 p-3 bg-gray-50 rounded-b-lg border-t border-gray-100",children:[o.jsxs("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors flex items-center gap-2",children:[o.jsx(yr,{size:16}),"Cancelar"]}),o.jsxs("button",{onClick:()=>e(a),className:"px-4 py-2 text-sm font-bold text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow-md shadow-indigo-100 transition-all hover:scale-105 active:scale-95 flex items-center gap-2",children:[o.jsx(Ll,{size:16}),"Salvar Alteraes"]})]})]})},O8=({onImport:t,onExport:e,onExportProposal:n})=>{const r=L.useRef(null),a=i=>{i.target.files&&i.target.files.length>0&&(t(i.target.files[0]),i.target.value="")};return o.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 flex items-center justify-between shadow-sm z-50 relative h-10",children:[o.jsx("div",{className:"flex items-center gap-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative group",children:[o.jsxs("button",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-indigo-600 px-3 py-1.5 rounded-md hover:bg-gray-50 transition-colors",children:[o.jsx(Uj,{size:18}),"Arquivo"]}),o.jsx("div",{className:"absolute left-0 top-full mt-1 w-64 bg-white border border-gray-100 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 transform origin-top-left z-50",children:o.jsxs("div",{className:"p-1",children:[o.jsxs("button",{onClick:()=>{var i;return(i=r.current)==null?void 0:i.click()},className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 rounded-md transition-colors",children:[o.jsx(Vj,{size:16}),o.jsx("span",{children:"Importar Project (.xml)"})]}),e&&o.jsxs("button",{onClick:e,className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 rounded-md transition-colors",children:[o.jsx(aw,{size:16}),o.jsx("span",{children:"Exportar Project (.xml)"})]}),o.jsx("div",{className:"h-px bg-gray-100 my-1"}),n&&o.jsxs("button",{onClick:n,className:"w-full text-left flex items-center gap-3 px-3 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 rounded-md transition-colors",children:[o.jsx(aw,{size:16,className:"text-orange-500"}),o.jsx("span",{children:"Baixar Proposta (.pptx)"})]})]})})]}),o.jsx("div",{className:"relative group",children:o.jsx("button",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-indigo-600 px-3 py-1.5 rounded-md hover:bg-gray-50 transition-colors",children:"Ajuda"})})]})}),o.jsx("input",{type:"file",accept:".xml",ref:r,className:"hidden",onChange:a})]})},F8=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=a=>{var i,s;try{let l=(i=a.target)==null?void 0:i.result;if(!l)throw new Error("Arquivo vazio");l=l.replace(/xmlns="[^"]*"/g,""),l=l.replace(/xmlns:[a-zA-Z0-9]+="[^"]*"/g,"");const d=new DOMParser().parseFromString(l,"text/xml"),u=d.getElementsByTagName("parsererror");if(u.length>0)throw new Error("Erro de Parse XML: "+u[0].textContent);const h=d.getElementsByTagName("Task"),p=[],m=new Map,g=new Map;for(let v=0;v<h.length;v++){const x=h[v],y=k=>{var P;return((P=x.getElementsByTagName(k)[0])==null?void 0:P.textContent)||""},w=y("UID"),I=y("Active")!=="0",R=y("Name")||"Sem Nome";if(!w||!I)continue;const _=crypto.randomUUID();m.set(w,_),g.set(w,x);let N=new Date(y("Start")),E=new Date(y("Finish"));isNaN(N.getTime())&&(N=new Date),isNaN(E.getTime())&&(E=new Date),p.push({id:_,order:v,name:R,start:N,end:E,type:y("Summary")==="1"?"project":"task",progress:parseInt(y("PercentComplete")||"0"),dependencies:[],parent:null,isExpanded:!0,isDisabled:!1,_xmlLevel:parseInt(y("OutlineLevel")||"0"),_xmlUid:w,styles:{backgroundColor:"#6366f1",progressColor:"#4338ca",backgroundSelectedColor:"#818cf8"}})}if(p.length===0)throw new Error("Nenhuma tarefa vlida encontrada no arquivo.");const A=[];for(const v of p){const x=v._xmlLevel,y=v._xmlUid;for(;A.length>0&&A[A.length-1].level>=x;)A.pop();A.length>0&&(v.parent=A[A.length-1].id),A.push({id:v.id,level:x});const w=g.get(y);if(w){const T=w.getElementsByTagName("PredecessorLink");for(let I=0;I<T.length;I++){const R=(s=T[I].getElementsByTagName("PredecessorUID")[0])==null?void 0:s.textContent;R&&m.has(R)&&v.dependencies.push(m.get(R))}}delete v._xmlLevel,delete v._xmlUid}e(p)}catch(l){console.error("XML Import Exception:",l),n(l)}},r.onerror=()=>{n(new Error("Erro ao ler o arquivo."))},r.readAsText(t)}),Dg=t=>t.replace(/[<>&'"]/g,e=>{switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return e}}),Di=t=>{if(!t)return Di(new Date);const e=new Date(t);if(isNaN(e.getTime()))return new Date().toISOString().split(".")[0];const n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${n}-${r}-${a}T08:00:00`},B8=(t,e)=>{if(!e||e.length===0){alert("O projeto no possui tarefas para exportar.");return}const n=[...e].sort((l,c)=>(l.order||0)-(c.order||0)),r=new Map;n.forEach((l,c)=>r.set(l.id,c+1));const a=new Map;n.forEach(l=>{let c=1;l.parent&&a.has(l.parent)&&(c=a.get(l.parent)+1),a.set(l.id,c)});let i=t.startDate;if(n.length>0){const l=n.map(c=>new Date(c.start).getTime()).filter(c=>!isNaN(c));l.length>0&&(i=new Date(Math.min(...l)))}let s=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
`;s+=`<Project xmlns="http://schemas.microsoft.com/project">
`,s+=`  <Name>${Dg(t.name)}</Name>
`,s+=`  <Title>${Dg(t.name)}</Title>
`,s+=`  <CreationDate>${Di(new Date)}</CreationDate>
`,s+=`  <LastSaved>${Di(new Date)}</LastSaved>
`,s+=`  <ScheduleFromStart>1</ScheduleFromStart>
`,s+=`  <StartDate>${Di(i)}</StartDate>
`,s+=`  <FinishDate>${Di(t.endDate)}</FinishDate>
`,s+=`  <Tasks>
`,n.forEach(l=>{const c=r.get(l.id),d=a.get(l.id),u=n.some(m=>m.parent===l.id),h=l.dependencies&&l.dependencies.length>0;s+=`    <Task>
`,s+=`      <UID>${c}</UID>
`,s+=`      <ID>${c}</ID>
`,s+=`      <Name>${Dg(l.name)}</Name>
`,s+=`      <Active>${l.isDisabled?0:1}</Active>
`;const p=(m,g)=>{const A=new Date(m),v=new Date(g);if(isNaN(A.getTime())||isNaN(v.getTime()))return"PT8H0M0S";const x=new Date(A),y=new Date(v);x.setHours(0,0,0,0),y.setHours(0,0,0,0);let w=0;const T=new Date(x.getTime());for(;T<=y;){const I=T.getDay();I!==0&&I!==6&&w++,T.setDate(T.getDate()+1)}return w===0&&A.getTime()<v.getTime()&&(w=1),`PT${w*8}H0M0S`};s+=`      <Manual>0</Manual>
`,s+=`      <OutlineLevel>${d}</OutlineLevel>
`,s+=`      <Start>${Di(l.start)}</Start>
`,s+=`      <Finish>${Di(l.end)}</Finish>
`,s+=`      <Duration>${p(l.start,l.end)}</Duration>
`,s+=`      <PercentComplete>${l.progress||0}</PercentComplete>
`,!h&&!u&&(s+=`      <ConstraintType>4</ConstraintType>
`,s+=`      <ConstraintDate>${Di(l.start)}</ConstraintDate>
`),s+=`      <Summary>${u?1:0}</Summary>
`,h&&l.dependencies.forEach(m=>{const g=r.get(m);g&&(s+=`      <PredecessorLink>
`,s+=`        <PredecessorUID>${g}</PredecessorUID>
`,s+=`        <Type>1</Type>
`,s+=`      </PredecessorLink>
`)}),s+=`    </Task>
`}),s+=`  </Tasks>
`,s+="</Project>";try{const l=new Blob([s],{type:"application/xml"}),c=URL.createObjectURL(l),d=document.createElement("a");d.href=c,d.download=`${t.name.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.xml`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(c)}catch(l){console.error("Download failed",l),alert("Erro ao gerar download do arquivo XML.")}};function Bh(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var NT={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,a,i){function s(d,u){if(!a[d]){if(!r[d]){var h=typeof Bh=="function"&&Bh;if(!u&&h)return h(d,!0);if(l)return l(d,!0);var p=new Error("Cannot find module '"+d+"'");throw p.code="MODULE_NOT_FOUND",p}var m=a[d]={exports:{}};r[d][0].call(m.exports,function(g){var A=r[d][1][g];return s(A||g)},m,m.exports,n,r,a,i)}return a[d].exports}for(var l=typeof Bh=="function"&&Bh,c=0;c<i.length;c++)s(i[c]);return s}({1:[function(n,r,a){var i=n("./utils"),s=n("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(c){for(var d,u,h,p,m,g,A,v=[],x=0,y=c.length,w=y,T=i.getTypeOf(c)!=="string";x<c.length;)w=y-x,h=T?(d=c[x++],u=x<y?c[x++]:0,x<y?c[x++]:0):(d=c.charCodeAt(x++),u=x<y?c.charCodeAt(x++):0,x<y?c.charCodeAt(x++):0),p=d>>2,m=(3&d)<<4|u>>4,g=1<w?(15&u)<<2|h>>6:64,A=2<w?63&h:64,v.push(l.charAt(p)+l.charAt(m)+l.charAt(g)+l.charAt(A));return v.join("")},a.decode=function(c){var d,u,h,p,m,g,A=0,v=0,x="data:";if(c.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var y,w=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===l.charAt(64)&&w--,c.charAt(c.length-2)===l.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=s.uint8array?new Uint8Array(0|w):new Array(0|w);A<c.length;)d=l.indexOf(c.charAt(A++))<<2|(p=l.indexOf(c.charAt(A++)))>>4,u=(15&p)<<4|(m=l.indexOf(c.charAt(A++)))>>2,h=(3&m)<<6|(g=l.indexOf(c.charAt(A++))),y[v++]=d,m!==64&&(y[v++]=u),g!==64&&(y[v++]=h);return y}},{"./support":30,"./utils":32}],2:[function(n,r,a){var i=n("./external"),s=n("./stream/DataWorker"),l=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function d(u,h,p,m,g){this.compressedSize=u,this.uncompressedSize=h,this.crc32=p,this.compression=m,this.compressedContent=g}d.prototype={getContentWorker:function(){var u=new s(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),h=this;return u.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new s(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(u,h,p){return u.pipe(new l).pipe(new c("uncompressedSize")).pipe(h.compressWorker(p)).pipe(new c("compressedSize")).withStreamInfo("compression",h)},r.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,a){var i=n("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},a.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,a){var i=n("./utils"),s=function(){for(var l,c=[],d=0;d<256;d++){l=d;for(var u=0;u<8;u++)l=1&l?3988292384^l>>>1:l>>>1;c[d]=l}return c}();r.exports=function(l,c){return l!==void 0&&l.length?i.getTypeOf(l)!=="string"?function(d,u,h,p){var m=s,g=p+h;d^=-1;for(var A=p;A<g;A++)d=d>>>8^m[255&(d^u[A])];return-1^d}(0|c,l,l.length,0):function(d,u,h,p){var m=s,g=p+h;d^=-1;for(var A=p;A<g;A++)d=d>>>8^m[255&(d^u.charCodeAt(A))];return-1^d}(0|c,l,l.length,0):0}},{"./utils":32}],5:[function(n,r,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(n,r,a){var i=null;i=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:i}},{lie:37}],7:[function(n,r,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),l=n("./utils"),c=n("./stream/GenericWorker"),d=i?"uint8array":"array";function u(h,p){c.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=p,this.meta={}}a.magic="\b\0",l.inherits(u,c),u.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(d,h.data),!1)},u.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(p){h.push({data:p,meta:h.meta})}},a.compressWorker=function(h){return new u("Deflate",h)},a.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,a){function i(m,g){var A,v="";for(A=0;A<g;A++)v+=String.fromCharCode(255&m),m>>>=8;return v}function s(m,g,A,v,x,y){var w,T,I=m.file,R=m.compression,_=y!==d.utf8encode,N=l.transformTo("string",y(I.name)),E=l.transformTo("string",d.utf8encode(I.name)),k=I.comment,P=l.transformTo("string",y(k)),C=l.transformTo("string",d.utf8encode(k)),D=E.length!==I.name.length,b=C.length!==k.length,O="",z="",G="",Q=I.dir,q=I.date,ne={crc32:0,compressedSize:0,uncompressedSize:0};g&&!A||(ne.crc32=m.crc32,ne.compressedSize=m.compressedSize,ne.uncompressedSize=m.uncompressedSize);var Y=0;g&&(Y|=8),_||!D&&!b||(Y|=2048);var K=0,ce=0;Q&&(K|=16),x==="UNIX"?(ce=798,K|=function(oe,ge){var je=oe;return oe||(je=ge?16893:33204),(65535&je)<<16}(I.unixPermissions,Q)):(ce=20,K|=function(oe){return 63&(oe||0)}(I.dosPermissions)),w=q.getUTCHours(),w<<=6,w|=q.getUTCMinutes(),w<<=5,w|=q.getUTCSeconds()/2,T=q.getUTCFullYear()-1980,T<<=4,T|=q.getUTCMonth()+1,T<<=5,T|=q.getUTCDate(),D&&(z=i(1,1)+i(u(N),4)+E,O+="up"+i(z.length,2)+z),b&&(G=i(1,1)+i(u(P),4)+C,O+="uc"+i(G.length,2)+G);var ie="";return ie+=`
\0`,ie+=i(Y,2),ie+=R.magic,ie+=i(w,2),ie+=i(T,2),ie+=i(ne.crc32,4),ie+=i(ne.compressedSize,4),ie+=i(ne.uncompressedSize,4),ie+=i(N.length,2),ie+=i(O.length,2),{fileRecord:h.LOCAL_FILE_HEADER+ie+N+O,dirRecord:h.CENTRAL_FILE_HEADER+i(ce,2)+ie+i(P.length,2)+"\0\0\0\0"+i(K,4)+i(v,4)+N+O+P}}var l=n("../utils"),c=n("../stream/GenericWorker"),d=n("../utf8"),u=n("../crc32"),h=n("../signature");function p(m,g,A,v){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=A,this.encodeFileName=v,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(p,c),p.prototype.push=function(m){var g=m.meta.percent||0,A=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,c.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:A?(g+100*(A-v-1))/A:100}}))},p.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var g=this.streamFiles&&!m.file.dir;if(g){var A=s(m,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:A.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(m){this.accumulate=!1;var g=this.streamFiles&&!m.file.dir,A=s(m,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(A.dirRecord),g)this.push({data:function(v){return h.DATA_DESCRIPTOR+i(v.crc32,4)+i(v.compressedSize,4)+i(v.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:A.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var m=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var A=this.bytesWritten-m,v=function(x,y,w,T,I){var R=l.transformTo("string",I(T));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(x,2)+i(x,2)+i(y,4)+i(w,4)+i(R.length,2)+R}(this.dirRecords.length,A,m,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(m){this._sources.push(m);var g=this;return m.on("data",function(A){g.processChunk(A)}),m.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),m.on("error",function(A){g.error(A)}),this},p.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(m){var g=this._sources;if(!c.prototype.error.call(this,m))return!1;for(var A=0;A<g.length;A++)try{g[A].error(m)}catch{}return!0},p.prototype.lock=function(){c.prototype.lock.call(this);for(var m=this._sources,g=0;g<m.length;g++)m[g].lock()},r.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,a){var i=n("../compressions"),s=n("./ZipFileWorker");a.generateWorker=function(l,c,d){var u=new s(c.streamFiles,d,c.platform,c.encodeFileName),h=0;try{l.forEach(function(p,m){h++;var g=function(y,w){var T=y||w,I=i[T];if(!I)throw new Error(T+" is not a valid compression method !");return I}(m.options.compression,c.compression),A=m.options.compressionOptions||c.compressionOptions||{},v=m.dir,x=m.date;m._compressWorker(g,A).withStreamInfo("file",{name:p,dir:v,date:x,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(u)}),u.entriesCount=h}catch(p){u.error(p)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,a){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new i;for(var l in this)typeof this[l]!="function"&&(s[l]=this[l]);return s}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(s,l){return new i().loadAsync(s,l)},i.external=n("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,a){var i=n("./utils"),s=n("./external"),l=n("./utf8"),c=n("./zipEntries"),d=n("./stream/Crc32Probe"),u=n("./nodejsUtils");function h(p){return new s.Promise(function(m,g){var A=p.decompressed.getContentWorker().pipe(new d);A.on("error",function(v){g(v)}).on("end",function(){A.streamInfo.crc32!==p.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}r.exports=function(p,m){var g=this;return m=i.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),u.isNode&&u.isStream(p)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",p,!0,m.optimizedBinaryString,m.base64).then(function(A){var v=new c(m);return v.load(A),v}).then(function(A){var v=[s.Promise.resolve(A)],x=A.files;if(m.checkCRC32)for(var y=0;y<x.length;y++)v.push(h(x[y]));return s.Promise.all(v)}).then(function(A){for(var v=A.shift(),x=v.files,y=0;y<x.length;y++){var w=x[y],T=w.fileNameStr,I=i.resolve(w.fileNameStr);g.file(I,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:m.createFolders}),w.dir||(g.file(I).unsafeOriginalName=T)}return v.zipComment.length&&(g.comment=v.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,a){var i=n("../utils"),s=n("../stream/GenericWorker");function l(c,d){s.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(d)}i.inherits(l,s),l.prototype._bindStream=function(c){var d=this;(this._stream=c).pause(),c.on("data",function(u){d.push({data:u,meta:{percent:0}})}).on("error",function(u){d.isPaused?this.generatedError=u:d.error(u)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},l.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,a){var i=n("readable-stream").Readable;function s(l,c,d){i.call(this,c),this._helper=l;var u=this;l.on("data",function(h,p){u.push(h)||u._helper.pause(),d&&d(p)}).on("error",function(h){u.emit("error",h)}).on("end",function(){u.push(null)})}n("../utils").inherits(s,i),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,a){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,s);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,s)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var s=new Buffer(i);return s.fill(0),s},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,r,a){function i(I,R,_){var N,E=l.getTypeOf(R),k=l.extend(_||{},u);k.date=k.date||new Date,k.compression!==null&&(k.compression=k.compression.toUpperCase()),typeof k.unixPermissions=="string"&&(k.unixPermissions=parseInt(k.unixPermissions,8)),k.unixPermissions&&16384&k.unixPermissions&&(k.dir=!0),k.dosPermissions&&16&k.dosPermissions&&(k.dir=!0),k.dir&&(I=x(I)),k.createFolders&&(N=v(I))&&y.call(this,N,!0);var P=E==="string"&&k.binary===!1&&k.base64===!1;_&&_.binary!==void 0||(k.binary=!P),(R instanceof h&&R.uncompressedSize===0||k.dir||!R||R.length===0)&&(k.base64=!1,k.binary=!0,R="",k.compression="STORE",E="string");var C=null;C=R instanceof h||R instanceof c?R:g.isNode&&g.isStream(R)?new A(I,R):l.prepareContent(I,R,k.binary,k.optimizedBinaryString,k.base64);var D=new p(I,C,k);this.files[I]=D}var s=n("./utf8"),l=n("./utils"),c=n("./stream/GenericWorker"),d=n("./stream/StreamHelper"),u=n("./defaults"),h=n("./compressedObject"),p=n("./zipObject"),m=n("./generate"),g=n("./nodejsUtils"),A=n("./nodejs/NodejsStreamInputAdapter"),v=function(I){I.slice(-1)==="/"&&(I=I.substring(0,I.length-1));var R=I.lastIndexOf("/");return 0<R?I.substring(0,R):""},x=function(I){return I.slice(-1)!=="/"&&(I+="/"),I},y=function(I,R){return R=R!==void 0?R:u.createFolders,I=x(I),this.files[I]||i.call(this,I,null,{dir:!0,createFolders:R}),this.files[I]};function w(I){return Object.prototype.toString.call(I)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(I){var R,_,N;for(R in this.files)N=this.files[R],(_=R.slice(this.root.length,R.length))&&R.slice(0,this.root.length)===this.root&&I(_,N)},filter:function(I){var R=[];return this.forEach(function(_,N){I(_,N)&&R.push(N)}),R},file:function(I,R,_){if(arguments.length!==1)return I=this.root+I,i.call(this,I,R,_),this;if(w(I)){var N=I;return this.filter(function(k,P){return!P.dir&&N.test(k)})}var E=this.files[this.root+I];return E&&!E.dir?E:null},folder:function(I){if(!I)return this;if(w(I))return this.filter(function(E,k){return k.dir&&I.test(E)});var R=this.root+I,_=y.call(this,R),N=this.clone();return N.root=_.name,N},remove:function(I){I=this.root+I;var R=this.files[I];if(R||(I.slice(-1)!=="/"&&(I+="/"),R=this.files[I]),R&&!R.dir)delete this.files[I];else for(var _=this.filter(function(E,k){return k.name.slice(0,I.length)===I}),N=0;N<_.length;N++)delete this.files[_[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(I){var R,_={};try{if((_=l.extend(I||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=_.type.toLowerCase(),_.compression=_.compression.toUpperCase(),_.type==="binarystring"&&(_.type="string"),!_.type)throw new Error("No output type specified.");l.checkSupport(_.type),_.platform!=="darwin"&&_.platform!=="freebsd"&&_.platform!=="linux"&&_.platform!=="sunos"||(_.platform="UNIX"),_.platform==="win32"&&(_.platform="DOS");var N=_.comment||this.comment||"";R=m.generateWorker(this,_,N)}catch(E){(R=new c("error")).error(E)}return new d(R,_.type||"string",_.mimeType)},generateAsync:function(I,R){return this.generateInternalStream(I).accumulate(R)},generateNodeStream:function(I,R){return(I=I||{}).type||(I.type="nodebuffer"),this.generateInternalStream(I).toNodejsStream(R)}};r.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,a){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,a){var i=n("./DataReader");function s(l){i.call(this,l);for(var c=0;c<this.data.length;c++)l[c]=255&l[c]}n("../utils").inherits(s,i),s.prototype.byteAt=function(l){return this.data[this.zero+l]},s.prototype.lastIndexOfSignature=function(l){for(var c=l.charCodeAt(0),d=l.charCodeAt(1),u=l.charCodeAt(2),h=l.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===c&&this.data[p+1]===d&&this.data[p+2]===u&&this.data[p+3]===h)return p-this.zero;return-1},s.prototype.readAndCheckSignature=function(l){var c=l.charCodeAt(0),d=l.charCodeAt(1),u=l.charCodeAt(2),h=l.charCodeAt(3),p=this.readData(4);return c===p[0]&&d===p[1]&&u===p[2]&&h===p[3]},s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,a){var i=n("../utils");function s(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var c,d=0;for(this.checkOffset(l),c=this.index+l-1;c>=this.index;c--)d=(d<<8)+this.byteAt(c);return this.index+=l,d},readString:function(l){return i.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,a){var i=n("./Uint8ArrayReader");function s(l){i.call(this,l)}n("../utils").inherits(s,i),s.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,a){var i=n("./DataReader");function s(l){i.call(this,l)}n("../utils").inherits(s,i),s.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},s.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},s.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},s.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,a){var i=n("./ArrayReader");function s(l){i.call(this,l)}n("../utils").inherits(s,i),s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,a){var i=n("../utils"),s=n("../support"),l=n("./ArrayReader"),c=n("./StringReader"),d=n("./NodeBufferReader"),u=n("./Uint8ArrayReader");r.exports=function(h){var p=i.getTypeOf(h);return i.checkSupport(p),p!=="string"||s.uint8array?p==="nodebuffer"?new d(h):s.uint8array?new u(i.transformTo("uint8array",h)):new l(i.transformTo("array",h)):new c(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,a){var i=n("./GenericWorker"),s=n("../utils");function l(c){i.call(this,"ConvertWorker to "+c),this.destType=c}s.inherits(l,i),l.prototype.processChunk=function(c){this.push({data:s.transformTo(this.destType,c.data),meta:c.meta})},r.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,a){var i=n("./GenericWorker"),s=n("../crc32");function l(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(l,i),l.prototype.processChunk=function(c){this.streamInfo.crc32=s(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,a){var i=n("../utils"),s=n("./GenericWorker");function l(c){s.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}i.inherits(l,s),l.prototype.processChunk=function(c){if(c){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+c.data.length}s.prototype.processChunk.call(this,c)},r.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,a){var i=n("../utils"),s=n("./GenericWorker");function l(c){s.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(u){d.dataIsReady=!0,d.data=u,d.max=u&&u.length||0,d.type=i.getTypeOf(u),d.isPaused||d._tickAndRepeat()},function(u){d.error(u)})}i.inherits(l,s),l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,d);break;case"uint8array":c=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":c=this.data.slice(this.index,d)}return this.index=d,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,a){function i(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,l){return this._listeners[s].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,l){if(this._listeners[s])for(var c=0;c<this._listeners[s].length;c++)this._listeners[s][c].call(this,l)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var l=this;return s.on("data",function(c){l.processChunk(c)}),s.on("end",function(){l.end()}),s.on("error",function(c){l.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,l){return this.extraStreamInfo[s]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=i},{}],29:[function(n,r,a){var i=n("../utils"),s=n("./ConvertWorker"),l=n("./GenericWorker"),c=n("../base64"),d=n("../support"),u=n("../external"),h=null;if(d.nodestream)try{h=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(g,A){return new u.Promise(function(v,x){var y=[],w=g._internalType,T=g._outputType,I=g._mimeType;g.on("data",function(R,_){y.push(R),A&&A(_)}).on("error",function(R){y=[],x(R)}).on("end",function(){try{var R=function(_,N,E){switch(_){case"blob":return i.newBlob(i.transformTo("arraybuffer",N),E);case"base64":return c.encode(N);default:return i.transformTo(_,N)}}(T,function(_,N){var E,k=0,P=null,C=0;for(E=0;E<N.length;E++)C+=N[E].length;switch(_){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(P=new Uint8Array(C),E=0;E<N.length;E++)P.set(N[E],k),k+=N[E].length;return P;case"nodebuffer":return Buffer.concat(N);default:throw new Error("concat : unsupported type '"+_+"'")}}(w,y),I);v(R)}catch(_){x(_)}y=[]}).resume()})}function m(g,A,v){var x=A;switch(A){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=A,this._mimeType=v,i.checkSupport(x),this._worker=g.pipe(new s(x)),g.lock()}catch(y){this._worker=new l("error"),this._worker.error(y)}}m.prototype={accumulate:function(g){return p(this,g)},on:function(g,A){var v=this;return g==="data"?this._worker.on(g,function(x){A.call(v,x.data,x.meta)}):this._worker.on(g,function(){i.delay(A,arguments,v)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},g)}},r.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var i=new ArrayBuffer(0);try{a.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(i),a.blob=s.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!n("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,a){for(var i=n("./utils"),s=n("./support"),l=n("./nodejsUtils"),c=n("./stream/GenericWorker"),d=new Array(256),u=0;u<256;u++)d[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;d[254]=d[254]=1;function h(){c.call(this,"utf-8 decode"),this.leftOver=null}function p(){c.call(this,"utf-8 encode")}a.utf8encode=function(m){return s.nodebuffer?l.newBufferFrom(m,"utf-8"):function(g){var A,v,x,y,w,T=g.length,I=0;for(y=0;y<T;y++)(64512&(v=g.charCodeAt(y)))==55296&&y+1<T&&(64512&(x=g.charCodeAt(y+1)))==56320&&(v=65536+(v-55296<<10)+(x-56320),y++),I+=v<128?1:v<2048?2:v<65536?3:4;for(A=s.uint8array?new Uint8Array(I):new Array(I),y=w=0;w<I;y++)(64512&(v=g.charCodeAt(y)))==55296&&y+1<T&&(64512&(x=g.charCodeAt(y+1)))==56320&&(v=65536+(v-55296<<10)+(x-56320),y++),v<128?A[w++]=v:(v<2048?A[w++]=192|v>>>6:(v<65536?A[w++]=224|v>>>12:(A[w++]=240|v>>>18,A[w++]=128|v>>>12&63),A[w++]=128|v>>>6&63),A[w++]=128|63&v);return A}(m)},a.utf8decode=function(m){return s.nodebuffer?i.transformTo("nodebuffer",m).toString("utf-8"):function(g){var A,v,x,y,w=g.length,T=new Array(2*w);for(A=v=0;A<w;)if((x=g[A++])<128)T[v++]=x;else if(4<(y=d[x]))T[v++]=65533,A+=y-1;else{for(x&=y===2?31:y===3?15:7;1<y&&A<w;)x=x<<6|63&g[A++],y--;1<y?T[v++]=65533:x<65536?T[v++]=x:(x-=65536,T[v++]=55296|x>>10&1023,T[v++]=56320|1023&x)}return T.length!==v&&(T.subarray?T=T.subarray(0,v):T.length=v),i.applyFromCharCode(T)}(m=i.transformTo(s.uint8array?"uint8array":"array",m))},i.inherits(h,c),h.prototype.processChunk=function(m){var g=i.transformTo(s.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var A=g;(g=new Uint8Array(A.length+this.leftOver.length)).set(this.leftOver,0),g.set(A,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var v=function(y,w){var T;for((w=w||y.length)>y.length&&(w=y.length),T=w-1;0<=T&&(192&y[T])==128;)T--;return T<0||T===0?w:T+d[y[T]]>w?T:w}(g),x=g;v!==g.length&&(s.uint8array?(x=g.subarray(0,v),this.leftOver=g.subarray(v,g.length)):(x=g.slice(0,v),this.leftOver=g.slice(v,g.length))),this.push({data:a.utf8decode(x),meta:m.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=h,i.inherits(p,c),p.prototype.processChunk=function(m){this.push({data:a.utf8encode(m.data),meta:m.meta})},a.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,a){var i=n("./support"),s=n("./base64"),l=n("./nodejsUtils"),c=n("./external");function d(A){return A}function u(A,v){for(var x=0;x<A.length;++x)v[x]=255&A.charCodeAt(x);return v}n("setimmediate"),a.newBlob=function(A,v){a.checkSupport("blob");try{return new Blob([A],{type:v})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(A),x.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(A,v,x){var y=[],w=0,T=A.length;if(T<=x)return String.fromCharCode.apply(null,A);for(;w<T;)v==="array"||v==="nodebuffer"?y.push(String.fromCharCode.apply(null,A.slice(w,Math.min(w+x,T)))):y.push(String.fromCharCode.apply(null,A.subarray(w,Math.min(w+x,T)))),w+=x;return y.join("")},stringifyByChar:function(A){for(var v="",x=0;x<A.length;x++)v+=String.fromCharCode(A[x]);return v},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function p(A){var v=65536,x=a.getTypeOf(A),y=!0;if(x==="uint8array"?y=h.applyCanBeUsed.uint8array:x==="nodebuffer"&&(y=h.applyCanBeUsed.nodebuffer),y)for(;1<v;)try{return h.stringifyByChunk(A,x,v)}catch{v=Math.floor(v/2)}return h.stringifyByChar(A)}function m(A,v){for(var x=0;x<A.length;x++)v[x]=A[x];return v}a.applyFromCharCode=p;var g={};g.string={string:d,array:function(A){return u(A,new Array(A.length))},arraybuffer:function(A){return g.string.uint8array(A).buffer},uint8array:function(A){return u(A,new Uint8Array(A.length))},nodebuffer:function(A){return u(A,l.allocBuffer(A.length))}},g.array={string:p,array:d,arraybuffer:function(A){return new Uint8Array(A).buffer},uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return l.newBufferFrom(A)}},g.arraybuffer={string:function(A){return p(new Uint8Array(A))},array:function(A){return m(new Uint8Array(A),new Array(A.byteLength))},arraybuffer:d,uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return l.newBufferFrom(new Uint8Array(A))}},g.uint8array={string:p,array:function(A){return m(A,new Array(A.length))},arraybuffer:function(A){return A.buffer},uint8array:d,nodebuffer:function(A){return l.newBufferFrom(A)}},g.nodebuffer={string:p,array:function(A){return m(A,new Array(A.length))},arraybuffer:function(A){return g.nodebuffer.uint8array(A).buffer},uint8array:function(A){return m(A,new Uint8Array(A.length))},nodebuffer:d},a.transformTo=function(A,v){if(v=v||"",!A)return v;a.checkSupport(A);var x=a.getTypeOf(v);return g[x][A](v)},a.resolve=function(A){for(var v=A.split("/"),x=[],y=0;y<v.length;y++){var w=v[y];w==="."||w===""&&y!==0&&y!==v.length-1||(w===".."?x.pop():x.push(w))}return x.join("/")},a.getTypeOf=function(A){return typeof A=="string"?"string":Object.prototype.toString.call(A)==="[object Array]"?"array":i.nodebuffer&&l.isBuffer(A)?"nodebuffer":i.uint8array&&A instanceof Uint8Array?"uint8array":i.arraybuffer&&A instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(A){if(!i[A.toLowerCase()])throw new Error(A+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(A){var v,x,y="";for(x=0;x<(A||"").length;x++)y+="\\x"+((v=A.charCodeAt(x))<16?"0":"")+v.toString(16).toUpperCase();return y},a.delay=function(A,v,x){setImmediate(function(){A.apply(x||null,v||[])})},a.inherits=function(A,v){function x(){}x.prototype=v.prototype,A.prototype=new x},a.extend=function(){var A,v,x={};for(A=0;A<arguments.length;A++)for(v in arguments[A])Object.prototype.hasOwnProperty.call(arguments[A],v)&&x[v]===void 0&&(x[v]=arguments[A][v]);return x},a.prepareContent=function(A,v,x,y,w){return c.Promise.resolve(v).then(function(T){return i.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new c.Promise(function(I,R){var _=new FileReader;_.onload=function(N){I(N.target.result)},_.onerror=function(N){R(N.target.error)},_.readAsArrayBuffer(T)}):T}).then(function(T){var I=a.getTypeOf(T);return I?(I==="arraybuffer"?T=a.transformTo("uint8array",T):I==="string"&&(w?T=s.decode(T):x&&y!==!0&&(T=function(R){return u(R,i.uint8array?new Uint8Array(R.length):new Array(R.length))}(T))),T):c.Promise.reject(new Error("Can't read the data of '"+A+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,a){var i=n("./reader/readerFor"),s=n("./utils"),l=n("./signature"),c=n("./zipEntry"),d=n("./support");function u(h){this.files=[],this.loadOptions=h}u.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(p)+", expected "+s.pretty(h)+")")}},isSignature:function(h,p){var m=this.reader.index;this.reader.setIndex(h);var g=this.reader.readString(4)===p;return this.reader.setIndex(m),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),p=d.uint8array?"uint8array":"array",m=s.transformTo(p,h);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,p,m,g=this.zip64EndOfCentralSize-44;0<g;)h=this.reader.readInt(2),p=this.reader.readInt(4),m=this.reader.readData(p),this.zip64ExtensibleData[h]={id:h,length:p,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,p;for(h=0;h<this.files.length;h++)p=this.files[h],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(h=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var p=h;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var g=p-m;if(0<g)this.isSignature(p,l.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(h){this.reader=i(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,a){var i=n("./reader/readerFor"),s=n("./utils"),l=n("./compressedObject"),c=n("./crc32"),d=n("./utf8"),u=n("./compressions"),h=n("./support");function p(m,g){this.options=m,this.loadOptions=g}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var g,A;if(m.skip(22),this.fileNameLength=m.readInt(2),A=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(A),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(v){for(var x in u)if(Object.prototype.hasOwnProperty.call(u,x)&&u[x].magic===v)return u[x];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,g,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var g=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(g),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=i(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var g,A,v,x=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<x;)g=m.readInt(2),A=m.readInt(2),v=m.readData(A),this.extraFields[g]={id:g,length:A,value:v};m.setIndex(x)},handleUTF8:function(){var m=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var A=s.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(A)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var x=s.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var g=i(m.value);return g.readInt(1)!==1||c(this.fileName)!==g.readInt(4)?null:d.utf8decode(g.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var g=i(m.value);return g.readInt(1)!==1||c(this.fileComment)!==g.readInt(4)?null:d.utf8decode(g.readData(m.length-5))}return null}},r.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,a){function i(g,A,v){this.name=g,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=A,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var s=n("./stream/StreamHelper"),l=n("./stream/DataWorker"),c=n("./utf8"),d=n("./compressedObject"),u=n("./stream/GenericWorker");i.prototype={internalStream:function(g){var A=null,v="string";try{if(!g)throw new Error("No output type specified.");var x=(v=g.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),A=this._decompressWorker();var y=!this._dataBinary;y&&!x&&(A=A.pipe(new c.Utf8EncodeWorker)),!y&&x&&(A=A.pipe(new c.Utf8DecodeWorker))}catch(w){(A=new u("error")).error(w)}return new s(A,v,"")},async:function(g,A){return this.internalStream(g).accumulate(A)},nodeStream:function(g,A){return this.internalStream(g||"nodebuffer").toNodejsStream(A)},_compressWorker:function(g,A){if(this._data instanceof d&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new c.Utf8EncodeWorker)),d.createWorkerFrom(v,g,A)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof u?this._data:new l(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<h.length;m++)i.prototype[h[m]]=p;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,a){(function(i){var s,l,c=i.MutationObserver||i.WebKitMutationObserver;if(c){var d=0,u=new c(g),h=i.document.createTextNode("");u.observe(h,{characterData:!0}),s=function(){h.data=d=++d%2}}else if(i.setImmediate||i.MessageChannel===void 0)s="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var A=i.document.createElement("script");A.onreadystatechange=function(){g(),A.onreadystatechange=null,A.parentNode.removeChild(A),A=null},i.document.documentElement.appendChild(A)}:function(){setTimeout(g,0)};else{var p=new i.MessageChannel;p.port1.onmessage=g,s=function(){p.port2.postMessage(0)}}var m=[];function g(){var A,v;l=!0;for(var x=m.length;x;){for(v=m,m=[],A=-1;++A<x;)v[A]();x=m.length}l=!1}r.exports=function(A){m.push(A)!==1||l||s()}}).call(this,typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,a){var i=n("immediate");function s(){}var l={},c=["REJECTED"],d=["FULFILLED"],u=["PENDING"];function h(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,x!==s&&A(this,x)}function p(x,y,w){this.promise=x,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function m(x,y,w){i(function(){var T;try{T=y(w)}catch(I){return l.reject(x,I)}T===x?l.reject(x,new TypeError("Cannot resolve promise with itself")):l.resolve(x,T)})}function g(x){var y=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof y=="function")return function(){y.apply(x,arguments)}}function A(x,y){var w=!1;function T(_){w||(w=!0,l.reject(x,_))}function I(_){w||(w=!0,l.resolve(x,_))}var R=v(function(){y(I,T)});R.status==="error"&&T(R.value)}function v(x,y){var w={};try{w.value=x(y),w.status="success"}catch(T){w.status="error",w.value=T}return w}(r.exports=h).prototype.finally=function(x){if(typeof x!="function")return this;var y=this.constructor;return this.then(function(w){return y.resolve(x()).then(function(){return w})},function(w){return y.resolve(x()).then(function(){throw w})})},h.prototype.catch=function(x){return this.then(null,x)},h.prototype.then=function(x,y){if(typeof x!="function"&&this.state===d||typeof y!="function"&&this.state===c)return this;var w=new this.constructor(s);return this.state!==u?m(w,this.state===d?x:y,this.outcome):this.queue.push(new p(w,x,y)),w},p.prototype.callFulfilled=function(x){l.resolve(this.promise,x)},p.prototype.otherCallFulfilled=function(x){m(this.promise,this.onFulfilled,x)},p.prototype.callRejected=function(x){l.reject(this.promise,x)},p.prototype.otherCallRejected=function(x){m(this.promise,this.onRejected,x)},l.resolve=function(x,y){var w=v(g,y);if(w.status==="error")return l.reject(x,w.value);var T=w.value;if(T)A(x,T);else{x.state=d,x.outcome=y;for(var I=-1,R=x.queue.length;++I<R;)x.queue[I].callFulfilled(y)}return x},l.reject=function(x,y){x.state=c,x.outcome=y;for(var w=-1,T=x.queue.length;++w<T;)x.queue[w].callRejected(y);return x},h.resolve=function(x){return x instanceof this?x:l.resolve(new this(s),x)},h.reject=function(x){var y=new this(s);return l.reject(y,x)},h.all=function(x){var y=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=x.length,T=!1;if(!w)return this.resolve([]);for(var I=new Array(w),R=0,_=-1,N=new this(s);++_<w;)E(x[_],_);return N;function E(k,P){y.resolve(k).then(function(C){I[P]=C,++R!==w||T||(T=!0,l.resolve(N,I))},function(C){T||(T=!0,l.reject(N,C))})}},h.race=function(x){var y=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=x.length,T=!1;if(!w)return this.resolve([]);for(var I=-1,R=new this(s);++I<w;)_=x[I],y.resolve(_).then(function(N){T||(T=!0,l.resolve(R,N))},function(N){T||(T=!0,l.reject(R,N))});var _;return R}},{immediate:36}],38:[function(n,r,a){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,a){var i=n("./zlib/deflate"),s=n("./utils/common"),l=n("./utils/strings"),c=n("./zlib/messages"),d=n("./zlib/zstream"),u=Object.prototype.toString,h=0,p=-1,m=0,g=8;function A(x){if(!(this instanceof A))return new A(x);this.options=s.assign({level:p,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},x||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var w=i.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(w!==h)throw new Error(c[w]);if(y.header&&i.deflateSetHeader(this.strm,y.header),y.dictionary){var T;if(T=typeof y.dictionary=="string"?l.string2buf(y.dictionary):u.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(w=i.deflateSetDictionary(this.strm,T))!==h)throw new Error(c[w]);this._dict_set=!0}}function v(x,y){var w=new A(y);if(w.push(x,!0),w.err)throw w.msg||c[w.err];return w.result}A.prototype.push=function(x,y){var w,T,I=this.strm,R=this.options.chunkSize;if(this.ended)return!1;T=y===~~y?y:y===!0?4:0,typeof x=="string"?I.input=l.string2buf(x):u.call(x)==="[object ArrayBuffer]"?I.input=new Uint8Array(x):I.input=x,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new s.Buf8(R),I.next_out=0,I.avail_out=R),(w=i.deflate(I,T))!==1&&w!==h)return this.onEnd(w),!(this.ended=!0);I.avail_out!==0&&(I.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(s.shrinkBuf(I.output,I.next_out))):this.onData(s.shrinkBuf(I.output,I.next_out)))}while((0<I.avail_in||I.avail_out===0)&&w!==1);return T===4?(w=i.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===h):T!==2||(this.onEnd(h),!(I.avail_out=0))},A.prototype.onData=function(x){this.chunks.push(x)},A.prototype.onEnd=function(x){x===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},a.Deflate=A,a.deflate=v,a.deflateRaw=function(x,y){return(y=y||{}).raw=!0,v(x,y)},a.gzip=function(x,y){return(y=y||{}).gzip=!0,v(x,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,a){var i=n("./zlib/inflate"),s=n("./utils/common"),l=n("./utils/strings"),c=n("./zlib/constants"),d=n("./zlib/messages"),u=n("./zlib/zstream"),h=n("./zlib/gzheader"),p=Object.prototype.toString;function m(A){if(!(this instanceof m))return new m(A);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},A||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||A&&A.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&!(15&v.windowBits)&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var x=i.inflateInit2(this.strm,v.windowBits);if(x!==c.Z_OK)throw new Error(d[x]);this.header=new h,i.inflateGetHeader(this.strm,this.header)}function g(A,v){var x=new m(v);if(x.push(A,!0),x.err)throw x.msg||d[x.err];return x.result}m.prototype.push=function(A,v){var x,y,w,T,I,R,_=this.strm,N=this.options.chunkSize,E=this.options.dictionary,k=!1;if(this.ended)return!1;y=v===~~v?v:v===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof A=="string"?_.input=l.binstring2buf(A):p.call(A)==="[object ArrayBuffer]"?_.input=new Uint8Array(A):_.input=A,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new s.Buf8(N),_.next_out=0,_.avail_out=N),(x=i.inflate(_,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&E&&(R=typeof E=="string"?l.string2buf(E):p.call(E)==="[object ArrayBuffer]"?new Uint8Array(E):E,x=i.inflateSetDictionary(this.strm,R)),x===c.Z_BUF_ERROR&&k===!0&&(x=c.Z_OK,k=!1),x!==c.Z_STREAM_END&&x!==c.Z_OK)return this.onEnd(x),!(this.ended=!0);_.next_out&&(_.avail_out!==0&&x!==c.Z_STREAM_END&&(_.avail_in!==0||y!==c.Z_FINISH&&y!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=l.utf8border(_.output,_.next_out),T=_.next_out-w,I=l.buf2string(_.output,w),_.next_out=T,_.avail_out=N-T,T&&s.arraySet(_.output,_.output,w,T,0),this.onData(I)):this.onData(s.shrinkBuf(_.output,_.next_out)))),_.avail_in===0&&_.avail_out===0&&(k=!0)}while((0<_.avail_in||_.avail_out===0)&&x!==c.Z_STREAM_END);return x===c.Z_STREAM_END&&(y=c.Z_FINISH),y===c.Z_FINISH?(x=i.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===c.Z_OK):y!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(_.avail_out=0))},m.prototype.onData=function(A){this.chunks.push(A)},m.prototype.onEnd=function(A){A===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg},a.Inflate=m,a.inflate=g,a.inflateRaw=function(A,v){return(v=v||{}).raw=!0,g(A,v)},a.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(c){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var u=d.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var h in u)u.hasOwnProperty(h)&&(c[h]=u[h])}}return c},a.shrinkBuf=function(c,d){return c.length===d?c:c.subarray?c.subarray(0,d):(c.length=d,c)};var s={arraySet:function(c,d,u,h,p){if(d.subarray&&c.subarray)c.set(d.subarray(u,u+h),p);else for(var m=0;m<h;m++)c[p+m]=d[u+m]},flattenChunks:function(c){var d,u,h,p,m,g;for(d=h=0,u=c.length;d<u;d++)h+=c[d].length;for(g=new Uint8Array(h),d=p=0,u=c.length;d<u;d++)m=c[d],g.set(m,p),p+=m.length;return g}},l={arraySet:function(c,d,u,h,p){for(var m=0;m<h;m++)c[p+m]=d[u+m]},flattenChunks:function(c){return[].concat.apply([],c)}};a.setTyped=function(c){c?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,s)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,l))},a.setTyped(i)},{}],42:[function(n,r,a){var i=n("./common"),s=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new i.Buf8(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function u(h,p){if(p<65537&&(h.subarray&&l||!h.subarray&&s))return String.fromCharCode.apply(null,i.shrinkBuf(h,p));for(var m="",g=0;g<p;g++)m+=String.fromCharCode(h[g]);return m}c[254]=c[254]=1,a.string2buf=function(h){var p,m,g,A,v,x=h.length,y=0;for(A=0;A<x;A++)(64512&(m=h.charCodeAt(A)))==55296&&A+1<x&&(64512&(g=h.charCodeAt(A+1)))==56320&&(m=65536+(m-55296<<10)+(g-56320),A++),y+=m<128?1:m<2048?2:m<65536?3:4;for(p=new i.Buf8(y),A=v=0;v<y;A++)(64512&(m=h.charCodeAt(A)))==55296&&A+1<x&&(64512&(g=h.charCodeAt(A+1)))==56320&&(m=65536+(m-55296<<10)+(g-56320),A++),m<128?p[v++]=m:(m<2048?p[v++]=192|m>>>6:(m<65536?p[v++]=224|m>>>12:(p[v++]=240|m>>>18,p[v++]=128|m>>>12&63),p[v++]=128|m>>>6&63),p[v++]=128|63&m);return p},a.buf2binstring=function(h){return u(h,h.length)},a.binstring2buf=function(h){for(var p=new i.Buf8(h.length),m=0,g=p.length;m<g;m++)p[m]=h.charCodeAt(m);return p},a.buf2string=function(h,p){var m,g,A,v,x=p||h.length,y=new Array(2*x);for(m=g=0;m<x;)if((A=h[m++])<128)y[g++]=A;else if(4<(v=c[A]))y[g++]=65533,m+=v-1;else{for(A&=v===2?31:v===3?15:7;1<v&&m<x;)A=A<<6|63&h[m++],v--;1<v?y[g++]=65533:A<65536?y[g++]=A:(A-=65536,y[g++]=55296|A>>10&1023,y[g++]=56320|1023&A)}return u(y,g)},a.utf8border=function(h,p){var m;for((p=p||h.length)>h.length&&(p=h.length),m=p-1;0<=m&&(192&h[m])==128;)m--;return m<0||m===0?p:m+c[h[m]]>p?m:p}},{"./common":41}],43:[function(n,r,a){r.exports=function(i,s,l,c){for(var d=65535&i|0,u=i>>>16&65535|0,h=0;l!==0;){for(l-=h=2e3<l?2e3:l;u=u+(d=d+s[c++]|0)|0,--h;);d%=65521,u%=65521}return d|u<<16|0}},{}],44:[function(n,r,a){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,a){var i=function(){for(var s,l=[],c=0;c<256;c++){s=c;for(var d=0;d<8;d++)s=1&s?3988292384^s>>>1:s>>>1;l[c]=s}return l}();r.exports=function(s,l,c,d){var u=i,h=d+c;s^=-1;for(var p=d;p<h;p++)s=s>>>8^u[255&(s^l[p])];return-1^s}},{}],46:[function(n,r,a){var i,s=n("../utils/common"),l=n("./trees"),c=n("./adler32"),d=n("./crc32"),u=n("./messages"),h=0,p=4,m=0,g=-2,A=-1,v=4,x=2,y=8,w=9,T=286,I=30,R=19,_=2*T+1,N=15,E=3,k=258,P=k+E+1,C=42,D=113,b=1,O=2,z=3,G=4;function Q(j,H){return j.msg=u[H],H}function q(j){return(j<<1)-(4<j?9:0)}function ne(j){for(var H=j.length;0<=--H;)j[H]=0}function Y(j){var H=j.state,X=H.pending;X>j.avail_out&&(X=j.avail_out),X!==0&&(s.arraySet(j.output,H.pending_buf,H.pending_out,X,j.next_out),j.next_out+=X,H.pending_out+=X,j.total_out+=X,j.avail_out-=X,H.pending-=X,H.pending===0&&(H.pending_out=0))}function K(j,H){l._tr_flush_block(j,0<=j.block_start?j.block_start:-1,j.strstart-j.block_start,H),j.block_start=j.strstart,Y(j.strm)}function ce(j,H){j.pending_buf[j.pending++]=H}function ie(j,H){j.pending_buf[j.pending++]=H>>>8&255,j.pending_buf[j.pending++]=255&H}function oe(j,H){var X,F,B=j.max_chain_length,U=j.strstart,Z=j.prev_length,W=j.nice_match,V=j.strstart>j.w_size-P?j.strstart-(j.w_size-P):0,te=j.window,J=j.w_mask,re=j.prev,he=j.strstart+k,Ie=te[U+Z-1],Ee=te[U+Z];j.prev_length>=j.good_match&&(B>>=2),W>j.lookahead&&(W=j.lookahead);do if(te[(X=H)+Z]===Ee&&te[X+Z-1]===Ie&&te[X]===te[U]&&te[++X]===te[U+1]){U+=2,X++;do;while(te[++U]===te[++X]&&te[++U]===te[++X]&&te[++U]===te[++X]&&te[++U]===te[++X]&&te[++U]===te[++X]&&te[++U]===te[++X]&&te[++U]===te[++X]&&te[++U]===te[++X]&&U<he);if(F=k-(he-U),U=he-k,Z<F){if(j.match_start=H,W<=(Z=F))break;Ie=te[U+Z-1],Ee=te[U+Z]}}while((H=re[H&J])>V&&--B!=0);return Z<=j.lookahead?Z:j.lookahead}function ge(j){var H,X,F,B,U,Z,W,V,te,J,re=j.w_size;do{if(B=j.window_size-j.lookahead-j.strstart,j.strstart>=re+(re-P)){for(s.arraySet(j.window,j.window,re,re,0),j.match_start-=re,j.strstart-=re,j.block_start-=re,H=X=j.hash_size;F=j.head[--H],j.head[H]=re<=F?F-re:0,--X;);for(H=X=re;F=j.prev[--H],j.prev[H]=re<=F?F-re:0,--X;);B+=re}if(j.strm.avail_in===0)break;if(Z=j.strm,W=j.window,V=j.strstart+j.lookahead,te=B,J=void 0,J=Z.avail_in,te<J&&(J=te),X=J===0?0:(Z.avail_in-=J,s.arraySet(W,Z.input,Z.next_in,J,V),Z.state.wrap===1?Z.adler=c(Z.adler,W,J,V):Z.state.wrap===2&&(Z.adler=d(Z.adler,W,J,V)),Z.next_in+=J,Z.total_in+=J,J),j.lookahead+=X,j.lookahead+j.insert>=E)for(U=j.strstart-j.insert,j.ins_h=j.window[U],j.ins_h=(j.ins_h<<j.hash_shift^j.window[U+1])&j.hash_mask;j.insert&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[U+E-1])&j.hash_mask,j.prev[U&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=U,U++,j.insert--,!(j.lookahead+j.insert<E)););}while(j.lookahead<P&&j.strm.avail_in!==0)}function je(j,H){for(var X,F;;){if(j.lookahead<P){if(ge(j),j.lookahead<P&&H===h)return b;if(j.lookahead===0)break}if(X=0,j.lookahead>=E&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+E-1])&j.hash_mask,X=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),X!==0&&j.strstart-X<=j.w_size-P&&(j.match_length=oe(j,X)),j.match_length>=E)if(F=l._tr_tally(j,j.strstart-j.match_start,j.match_length-E),j.lookahead-=j.match_length,j.match_length<=j.max_lazy_match&&j.lookahead>=E){for(j.match_length--;j.strstart++,j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+E-1])&j.hash_mask,X=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart,--j.match_length!=0;);j.strstart++}else j.strstart+=j.match_length,j.match_length=0,j.ins_h=j.window[j.strstart],j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+1])&j.hash_mask;else F=l._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++;if(F&&(K(j,!1),j.strm.avail_out===0))return b}return j.insert=j.strstart<E-1?j.strstart:E-1,H===p?(K(j,!0),j.strm.avail_out===0?z:G):j.last_lit&&(K(j,!1),j.strm.avail_out===0)?b:O}function ye(j,H){for(var X,F,B;;){if(j.lookahead<P){if(ge(j),j.lookahead<P&&H===h)return b;if(j.lookahead===0)break}if(X=0,j.lookahead>=E&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+E-1])&j.hash_mask,X=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),j.prev_length=j.match_length,j.prev_match=j.match_start,j.match_length=E-1,X!==0&&j.prev_length<j.max_lazy_match&&j.strstart-X<=j.w_size-P&&(j.match_length=oe(j,X),j.match_length<=5&&(j.strategy===1||j.match_length===E&&4096<j.strstart-j.match_start)&&(j.match_length=E-1)),j.prev_length>=E&&j.match_length<=j.prev_length){for(B=j.strstart+j.lookahead-E,F=l._tr_tally(j,j.strstart-1-j.prev_match,j.prev_length-E),j.lookahead-=j.prev_length-1,j.prev_length-=2;++j.strstart<=B&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+E-1])&j.hash_mask,X=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),--j.prev_length!=0;);if(j.match_available=0,j.match_length=E-1,j.strstart++,F&&(K(j,!1),j.strm.avail_out===0))return b}else if(j.match_available){if((F=l._tr_tally(j,0,j.window[j.strstart-1]))&&K(j,!1),j.strstart++,j.lookahead--,j.strm.avail_out===0)return b}else j.match_available=1,j.strstart++,j.lookahead--}return j.match_available&&(F=l._tr_tally(j,0,j.window[j.strstart-1]),j.match_available=0),j.insert=j.strstart<E-1?j.strstart:E-1,H===p?(K(j,!0),j.strm.avail_out===0?z:G):j.last_lit&&(K(j,!1),j.strm.avail_out===0)?b:O}function me(j,H,X,F,B){this.good_length=j,this.max_lazy=H,this.nice_length=X,this.max_chain=F,this.func=B}function Te(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*_),this.dyn_dtree=new s.Buf16(2*(2*I+1)),this.bl_tree=new s.Buf16(2*(2*R+1)),ne(this.dyn_ltree),ne(this.dyn_dtree),ne(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(N+1),this.heap=new s.Buf16(2*T+1),ne(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*T+1),ne(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function xe(j){var H;return j&&j.state?(j.total_in=j.total_out=0,j.data_type=x,(H=j.state).pending=0,H.pending_out=0,H.wrap<0&&(H.wrap=-H.wrap),H.status=H.wrap?C:D,j.adler=H.wrap===2?0:1,H.last_flush=h,l._tr_init(H),m):Q(j,g)}function Ne(j){var H=xe(j);return H===m&&function(X){X.window_size=2*X.w_size,ne(X.head),X.max_lazy_match=i[X.level].max_lazy,X.good_match=i[X.level].good_length,X.nice_match=i[X.level].nice_length,X.max_chain_length=i[X.level].max_chain,X.strstart=0,X.block_start=0,X.lookahead=0,X.insert=0,X.match_length=X.prev_length=E-1,X.match_available=0,X.ins_h=0}(j.state),H}function Ce(j,H,X,F,B,U){if(!j)return g;var Z=1;if(H===A&&(H=6),F<0?(Z=0,F=-F):15<F&&(Z=2,F-=16),B<1||w<B||X!==y||F<8||15<F||H<0||9<H||U<0||v<U)return Q(j,g);F===8&&(F=9);var W=new Te;return(j.state=W).strm=j,W.wrap=Z,W.gzhead=null,W.w_bits=F,W.w_size=1<<W.w_bits,W.w_mask=W.w_size-1,W.hash_bits=B+7,W.hash_size=1<<W.hash_bits,W.hash_mask=W.hash_size-1,W.hash_shift=~~((W.hash_bits+E-1)/E),W.window=new s.Buf8(2*W.w_size),W.head=new s.Buf16(W.hash_size),W.prev=new s.Buf16(W.w_size),W.lit_bufsize=1<<B+6,W.pending_buf_size=4*W.lit_bufsize,W.pending_buf=new s.Buf8(W.pending_buf_size),W.d_buf=1*W.lit_bufsize,W.l_buf=3*W.lit_bufsize,W.level=H,W.strategy=U,W.method=X,Ne(j)}i=[new me(0,0,0,0,function(j,H){var X=65535;for(X>j.pending_buf_size-5&&(X=j.pending_buf_size-5);;){if(j.lookahead<=1){if(ge(j),j.lookahead===0&&H===h)return b;if(j.lookahead===0)break}j.strstart+=j.lookahead,j.lookahead=0;var F=j.block_start+X;if((j.strstart===0||j.strstart>=F)&&(j.lookahead=j.strstart-F,j.strstart=F,K(j,!1),j.strm.avail_out===0)||j.strstart-j.block_start>=j.w_size-P&&(K(j,!1),j.strm.avail_out===0))return b}return j.insert=0,H===p?(K(j,!0),j.strm.avail_out===0?z:G):(j.strstart>j.block_start&&(K(j,!1),j.strm.avail_out),b)}),new me(4,4,8,4,je),new me(4,5,16,8,je),new me(4,6,32,32,je),new me(4,4,16,16,ye),new me(8,16,32,32,ye),new me(8,16,128,128,ye),new me(8,32,128,256,ye),new me(32,128,258,1024,ye),new me(32,258,258,4096,ye)],a.deflateInit=function(j,H){return Ce(j,H,y,15,8,0)},a.deflateInit2=Ce,a.deflateReset=Ne,a.deflateResetKeep=xe,a.deflateSetHeader=function(j,H){return j&&j.state?j.state.wrap!==2?g:(j.state.gzhead=H,m):g},a.deflate=function(j,H){var X,F,B,U;if(!j||!j.state||5<H||H<0)return j?Q(j,g):g;if(F=j.state,!j.output||!j.input&&j.avail_in!==0||F.status===666&&H!==p)return Q(j,j.avail_out===0?-5:g);if(F.strm=j,X=F.last_flush,F.last_flush=H,F.status===C)if(F.wrap===2)j.adler=0,ce(F,31),ce(F,139),ce(F,8),F.gzhead?(ce(F,(F.gzhead.text?1:0)+(F.gzhead.hcrc?2:0)+(F.gzhead.extra?4:0)+(F.gzhead.name?8:0)+(F.gzhead.comment?16:0)),ce(F,255&F.gzhead.time),ce(F,F.gzhead.time>>8&255),ce(F,F.gzhead.time>>16&255),ce(F,F.gzhead.time>>24&255),ce(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),ce(F,255&F.gzhead.os),F.gzhead.extra&&F.gzhead.extra.length&&(ce(F,255&F.gzhead.extra.length),ce(F,F.gzhead.extra.length>>8&255)),F.gzhead.hcrc&&(j.adler=d(j.adler,F.pending_buf,F.pending,0)),F.gzindex=0,F.status=69):(ce(F,0),ce(F,0),ce(F,0),ce(F,0),ce(F,0),ce(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),ce(F,3),F.status=D);else{var Z=y+(F.w_bits-8<<4)<<8;Z|=(2<=F.strategy||F.level<2?0:F.level<6?1:F.level===6?2:3)<<6,F.strstart!==0&&(Z|=32),Z+=31-Z%31,F.status=D,ie(F,Z),F.strstart!==0&&(ie(F,j.adler>>>16),ie(F,65535&j.adler)),j.adler=1}if(F.status===69)if(F.gzhead.extra){for(B=F.pending;F.gzindex<(65535&F.gzhead.extra.length)&&(F.pending!==F.pending_buf_size||(F.gzhead.hcrc&&F.pending>B&&(j.adler=d(j.adler,F.pending_buf,F.pending-B,B)),Y(j),B=F.pending,F.pending!==F.pending_buf_size));)ce(F,255&F.gzhead.extra[F.gzindex]),F.gzindex++;F.gzhead.hcrc&&F.pending>B&&(j.adler=d(j.adler,F.pending_buf,F.pending-B,B)),F.gzindex===F.gzhead.extra.length&&(F.gzindex=0,F.status=73)}else F.status=73;if(F.status===73)if(F.gzhead.name){B=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>B&&(j.adler=d(j.adler,F.pending_buf,F.pending-B,B)),Y(j),B=F.pending,F.pending===F.pending_buf_size)){U=1;break}U=F.gzindex<F.gzhead.name.length?255&F.gzhead.name.charCodeAt(F.gzindex++):0,ce(F,U)}while(U!==0);F.gzhead.hcrc&&F.pending>B&&(j.adler=d(j.adler,F.pending_buf,F.pending-B,B)),U===0&&(F.gzindex=0,F.status=91)}else F.status=91;if(F.status===91)if(F.gzhead.comment){B=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>B&&(j.adler=d(j.adler,F.pending_buf,F.pending-B,B)),Y(j),B=F.pending,F.pending===F.pending_buf_size)){U=1;break}U=F.gzindex<F.gzhead.comment.length?255&F.gzhead.comment.charCodeAt(F.gzindex++):0,ce(F,U)}while(U!==0);F.gzhead.hcrc&&F.pending>B&&(j.adler=d(j.adler,F.pending_buf,F.pending-B,B)),U===0&&(F.status=103)}else F.status=103;if(F.status===103&&(F.gzhead.hcrc?(F.pending+2>F.pending_buf_size&&Y(j),F.pending+2<=F.pending_buf_size&&(ce(F,255&j.adler),ce(F,j.adler>>8&255),j.adler=0,F.status=D)):F.status=D),F.pending!==0){if(Y(j),j.avail_out===0)return F.last_flush=-1,m}else if(j.avail_in===0&&q(H)<=q(X)&&H!==p)return Q(j,-5);if(F.status===666&&j.avail_in!==0)return Q(j,-5);if(j.avail_in!==0||F.lookahead!==0||H!==h&&F.status!==666){var W=F.strategy===2?function(V,te){for(var J;;){if(V.lookahead===0&&(ge(V),V.lookahead===0)){if(te===h)return b;break}if(V.match_length=0,J=l._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++,J&&(K(V,!1),V.strm.avail_out===0))return b}return V.insert=0,te===p?(K(V,!0),V.strm.avail_out===0?z:G):V.last_lit&&(K(V,!1),V.strm.avail_out===0)?b:O}(F,H):F.strategy===3?function(V,te){for(var J,re,he,Ie,Ee=V.window;;){if(V.lookahead<=k){if(ge(V),V.lookahead<=k&&te===h)return b;if(V.lookahead===0)break}if(V.match_length=0,V.lookahead>=E&&0<V.strstart&&(re=Ee[he=V.strstart-1])===Ee[++he]&&re===Ee[++he]&&re===Ee[++he]){Ie=V.strstart+k;do;while(re===Ee[++he]&&re===Ee[++he]&&re===Ee[++he]&&re===Ee[++he]&&re===Ee[++he]&&re===Ee[++he]&&re===Ee[++he]&&re===Ee[++he]&&he<Ie);V.match_length=k-(Ie-he),V.match_length>V.lookahead&&(V.match_length=V.lookahead)}if(V.match_length>=E?(J=l._tr_tally(V,1,V.match_length-E),V.lookahead-=V.match_length,V.strstart+=V.match_length,V.match_length=0):(J=l._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++),J&&(K(V,!1),V.strm.avail_out===0))return b}return V.insert=0,te===p?(K(V,!0),V.strm.avail_out===0?z:G):V.last_lit&&(K(V,!1),V.strm.avail_out===0)?b:O}(F,H):i[F.level].func(F,H);if(W!==z&&W!==G||(F.status=666),W===b||W===z)return j.avail_out===0&&(F.last_flush=-1),m;if(W===O&&(H===1?l._tr_align(F):H!==5&&(l._tr_stored_block(F,0,0,!1),H===3&&(ne(F.head),F.lookahead===0&&(F.strstart=0,F.block_start=0,F.insert=0))),Y(j),j.avail_out===0))return F.last_flush=-1,m}return H!==p?m:F.wrap<=0?1:(F.wrap===2?(ce(F,255&j.adler),ce(F,j.adler>>8&255),ce(F,j.adler>>16&255),ce(F,j.adler>>24&255),ce(F,255&j.total_in),ce(F,j.total_in>>8&255),ce(F,j.total_in>>16&255),ce(F,j.total_in>>24&255)):(ie(F,j.adler>>>16),ie(F,65535&j.adler)),Y(j),0<F.wrap&&(F.wrap=-F.wrap),F.pending!==0?m:1)},a.deflateEnd=function(j){var H;return j&&j.state?(H=j.state.status)!==C&&H!==69&&H!==73&&H!==91&&H!==103&&H!==D&&H!==666?Q(j,g):(j.state=null,H===D?Q(j,-3):m):g},a.deflateSetDictionary=function(j,H){var X,F,B,U,Z,W,V,te,J=H.length;if(!j||!j.state||(U=(X=j.state).wrap)===2||U===1&&X.status!==C||X.lookahead)return g;for(U===1&&(j.adler=c(j.adler,H,J,0)),X.wrap=0,J>=X.w_size&&(U===0&&(ne(X.head),X.strstart=0,X.block_start=0,X.insert=0),te=new s.Buf8(X.w_size),s.arraySet(te,H,J-X.w_size,X.w_size,0),H=te,J=X.w_size),Z=j.avail_in,W=j.next_in,V=j.input,j.avail_in=J,j.next_in=0,j.input=H,ge(X);X.lookahead>=E;){for(F=X.strstart,B=X.lookahead-(E-1);X.ins_h=(X.ins_h<<X.hash_shift^X.window[F+E-1])&X.hash_mask,X.prev[F&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=F,F++,--B;);X.strstart=F,X.lookahead=E-1,ge(X)}return X.strstart+=X.lookahead,X.block_start=X.strstart,X.insert=X.lookahead,X.lookahead=0,X.match_length=X.prev_length=E-1,X.match_available=0,j.next_in=W,j.input=V,j.avail_in=Z,X.wrap=U,m},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,a){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,a){r.exports=function(i,s){var l,c,d,u,h,p,m,g,A,v,x,y,w,T,I,R,_,N,E,k,P,C,D,b,O;l=i.state,c=i.next_in,b=i.input,d=c+(i.avail_in-5),u=i.next_out,O=i.output,h=u-(s-i.avail_out),p=u+(i.avail_out-257),m=l.dmax,g=l.wsize,A=l.whave,v=l.wnext,x=l.window,y=l.hold,w=l.bits,T=l.lencode,I=l.distcode,R=(1<<l.lenbits)-1,_=(1<<l.distbits)-1;e:do{w<15&&(y+=b[c++]<<w,w+=8,y+=b[c++]<<w,w+=8),N=T[y&R];t:for(;;){if(y>>>=E=N>>>24,w-=E,(E=N>>>16&255)===0)O[u++]=65535&N;else{if(!(16&E)){if(!(64&E)){N=T[(65535&N)+(y&(1<<E)-1)];continue t}if(32&E){l.mode=12;break e}i.msg="invalid literal/length code",l.mode=30;break e}k=65535&N,(E&=15)&&(w<E&&(y+=b[c++]<<w,w+=8),k+=y&(1<<E)-1,y>>>=E,w-=E),w<15&&(y+=b[c++]<<w,w+=8,y+=b[c++]<<w,w+=8),N=I[y&_];n:for(;;){if(y>>>=E=N>>>24,w-=E,!(16&(E=N>>>16&255))){if(!(64&E)){N=I[(65535&N)+(y&(1<<E)-1)];continue n}i.msg="invalid distance code",l.mode=30;break e}if(P=65535&N,w<(E&=15)&&(y+=b[c++]<<w,(w+=8)<E&&(y+=b[c++]<<w,w+=8)),m<(P+=y&(1<<E)-1)){i.msg="invalid distance too far back",l.mode=30;break e}if(y>>>=E,w-=E,(E=u-h)<P){if(A<(E=P-E)&&l.sane){i.msg="invalid distance too far back",l.mode=30;break e}if(D=x,(C=0)===v){if(C+=g-E,E<k){for(k-=E;O[u++]=x[C++],--E;);C=u-P,D=O}}else if(v<E){if(C+=g+v-E,(E-=v)<k){for(k-=E;O[u++]=x[C++],--E;);if(C=0,v<k){for(k-=E=v;O[u++]=x[C++],--E;);C=u-P,D=O}}}else if(C+=v-E,E<k){for(k-=E;O[u++]=x[C++],--E;);C=u-P,D=O}for(;2<k;)O[u++]=D[C++],O[u++]=D[C++],O[u++]=D[C++],k-=3;k&&(O[u++]=D[C++],1<k&&(O[u++]=D[C++]))}else{for(C=u-P;O[u++]=O[C++],O[u++]=O[C++],O[u++]=O[C++],2<(k-=3););k&&(O[u++]=O[C++],1<k&&(O[u++]=O[C++]))}break}}break}}while(c<d&&u<p);c-=k=w>>3,y&=(1<<(w-=k<<3))-1,i.next_in=c,i.next_out=u,i.avail_in=c<d?d-c+5:5-(c-d),i.avail_out=u<p?p-u+257:257-(u-p),l.hold=y,l.bits=w}},{}],49:[function(n,r,a){var i=n("../utils/common"),s=n("./adler32"),l=n("./crc32"),c=n("./inffast"),d=n("./inftrees"),u=1,h=2,p=0,m=-2,g=1,A=852,v=592;function x(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(C){var D;return C&&C.state?(D=C.state,C.total_in=C.total_out=D.total=0,C.msg="",D.wrap&&(C.adler=1&D.wrap),D.mode=g,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new i.Buf32(A),D.distcode=D.distdyn=new i.Buf32(v),D.sane=1,D.back=-1,p):m}function T(C){var D;return C&&C.state?((D=C.state).wsize=0,D.whave=0,D.wnext=0,w(C)):m}function I(C,D){var b,O;return C&&C.state?(O=C.state,D<0?(b=0,D=-D):(b=1+(D>>4),D<48&&(D&=15)),D&&(D<8||15<D)?m:(O.window!==null&&O.wbits!==D&&(O.window=null),O.wrap=b,O.wbits=D,T(C))):m}function R(C,D){var b,O;return C?(O=new y,(C.state=O).window=null,(b=I(C,D))!==p&&(C.state=null),b):m}var _,N,E=!0;function k(C){if(E){var D;for(_=new i.Buf32(512),N=new i.Buf32(32),D=0;D<144;)C.lens[D++]=8;for(;D<256;)C.lens[D++]=9;for(;D<280;)C.lens[D++]=7;for(;D<288;)C.lens[D++]=8;for(d(u,C.lens,0,288,_,0,C.work,{bits:9}),D=0;D<32;)C.lens[D++]=5;d(h,C.lens,0,32,N,0,C.work,{bits:5}),E=!1}C.lencode=_,C.lenbits=9,C.distcode=N,C.distbits=5}function P(C,D,b,O){var z,G=C.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new i.Buf8(G.wsize)),O>=G.wsize?(i.arraySet(G.window,D,b-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(O<(z=G.wsize-G.wnext)&&(z=O),i.arraySet(G.window,D,b-O,z,G.wnext),(O-=z)?(i.arraySet(G.window,D,b-O,O,0),G.wnext=O,G.whave=G.wsize):(G.wnext+=z,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=z))),0}a.inflateReset=T,a.inflateReset2=I,a.inflateResetKeep=w,a.inflateInit=function(C){return R(C,15)},a.inflateInit2=R,a.inflate=function(C,D){var b,O,z,G,Q,q,ne,Y,K,ce,ie,oe,ge,je,ye,me,Te,xe,Ne,Ce,j,H,X,F,B=0,U=new i.Buf8(4),Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return m;(b=C.state).mode===12&&(b.mode=13),Q=C.next_out,z=C.output,ne=C.avail_out,G=C.next_in,O=C.input,q=C.avail_in,Y=b.hold,K=b.bits,ce=q,ie=ne,H=p;e:for(;;)switch(b.mode){case g:if(b.wrap===0){b.mode=13;break}for(;K<16;){if(q===0)break e;q--,Y+=O[G++]<<K,K+=8}if(2&b.wrap&&Y===35615){U[b.check=0]=255&Y,U[1]=Y>>>8&255,b.check=l(b.check,U,2,0),K=Y=0,b.mode=2;break}if(b.flags=0,b.head&&(b.head.done=!1),!(1&b.wrap)||(((255&Y)<<8)+(Y>>8))%31){C.msg="incorrect header check",b.mode=30;break}if((15&Y)!=8){C.msg="unknown compression method",b.mode=30;break}if(K-=4,j=8+(15&(Y>>>=4)),b.wbits===0)b.wbits=j;else if(j>b.wbits){C.msg="invalid window size",b.mode=30;break}b.dmax=1<<j,C.adler=b.check=1,b.mode=512&Y?10:12,K=Y=0;break;case 2:for(;K<16;){if(q===0)break e;q--,Y+=O[G++]<<K,K+=8}if(b.flags=Y,(255&b.flags)!=8){C.msg="unknown compression method",b.mode=30;break}if(57344&b.flags){C.msg="unknown header flags set",b.mode=30;break}b.head&&(b.head.text=Y>>8&1),512&b.flags&&(U[0]=255&Y,U[1]=Y>>>8&255,b.check=l(b.check,U,2,0)),K=Y=0,b.mode=3;case 3:for(;K<32;){if(q===0)break e;q--,Y+=O[G++]<<K,K+=8}b.head&&(b.head.time=Y),512&b.flags&&(U[0]=255&Y,U[1]=Y>>>8&255,U[2]=Y>>>16&255,U[3]=Y>>>24&255,b.check=l(b.check,U,4,0)),K=Y=0,b.mode=4;case 4:for(;K<16;){if(q===0)break e;q--,Y+=O[G++]<<K,K+=8}b.head&&(b.head.xflags=255&Y,b.head.os=Y>>8),512&b.flags&&(U[0]=255&Y,U[1]=Y>>>8&255,b.check=l(b.check,U,2,0)),K=Y=0,b.mode=5;case 5:if(1024&b.flags){for(;K<16;){if(q===0)break e;q--,Y+=O[G++]<<K,K+=8}b.length=Y,b.head&&(b.head.extra_len=Y),512&b.flags&&(U[0]=255&Y,U[1]=Y>>>8&255,b.check=l(b.check,U,2,0)),K=Y=0}else b.head&&(b.head.extra=null);b.mode=6;case 6:if(1024&b.flags&&(q<(oe=b.length)&&(oe=q),oe&&(b.head&&(j=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Array(b.head.extra_len)),i.arraySet(b.head.extra,O,G,oe,j)),512&b.flags&&(b.check=l(b.check,O,oe,G)),q-=oe,G+=oe,b.length-=oe),b.length))break e;b.length=0,b.mode=7;case 7:if(2048&b.flags){if(q===0)break e;for(oe=0;j=O[G+oe++],b.head&&j&&b.length<65536&&(b.head.name+=String.fromCharCode(j)),j&&oe<q;);if(512&b.flags&&(b.check=l(b.check,O,oe,G)),q-=oe,G+=oe,j)break e}else b.head&&(b.head.name=null);b.length=0,b.mode=8;case 8:if(4096&b.flags){if(q===0)break e;for(oe=0;j=O[G+oe++],b.head&&j&&b.length<65536&&(b.head.comment+=String.fromCharCode(j)),j&&oe<q;);if(512&b.flags&&(b.check=l(b.check,O,oe,G)),q-=oe,G+=oe,j)break e}else b.head&&(b.head.comment=null);b.mode=9;case 9:if(512&b.flags){for(;K<16;){if(q===0)break e;q--,Y+=O[G++]<<K,K+=8}if(Y!==(65535&b.check)){C.msg="header crc mismatch",b.mode=30;break}K=Y=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0),C.adler=b.check=0,b.mode=12;break;case 10:for(;K<32;){if(q===0)break e;q--,Y+=O[G++]<<K,K+=8}C.adler=b.check=x(Y),K=Y=0,b.mode=11;case 11:if(b.havedict===0)return C.next_out=Q,C.avail_out=ne,C.next_in=G,C.avail_in=q,b.hold=Y,b.bits=K,2;C.adler=b.check=1,b.mode=12;case 12:if(D===5||D===6)break e;case 13:if(b.last){Y>>>=7&K,K-=7&K,b.mode=27;break}for(;K<3;){if(q===0)break e;q--,Y+=O[G++]<<K,K+=8}switch(b.last=1&Y,K-=1,3&(Y>>>=1)){case 0:b.mode=14;break;case 1:if(k(b),b.mode=20,D!==6)break;Y>>>=2,K-=2;break e;case 2:b.mode=17;break;case 3:C.msg="invalid block type",b.mode=30}Y>>>=2,K-=2;break;case 14:for(Y>>>=7&K,K-=7&K;K<32;){if(q===0)break e;q--,Y+=O[G++]<<K,K+=8}if((65535&Y)!=(Y>>>16^65535)){C.msg="invalid stored block lengths",b.mode=30;break}if(b.length=65535&Y,K=Y=0,b.mode=15,D===6)break e;case 15:b.mode=16;case 16:if(oe=b.length){if(q<oe&&(oe=q),ne<oe&&(oe=ne),oe===0)break e;i.arraySet(z,O,G,oe,Q),q-=oe,G+=oe,ne-=oe,Q+=oe,b.length-=oe;break}b.mode=12;break;case 17:for(;K<14;){if(q===0)break e;q--,Y+=O[G++]<<K,K+=8}if(b.nlen=257+(31&Y),Y>>>=5,K-=5,b.ndist=1+(31&Y),Y>>>=5,K-=5,b.ncode=4+(15&Y),Y>>>=4,K-=4,286<b.nlen||30<b.ndist){C.msg="too many length or distance symbols",b.mode=30;break}b.have=0,b.mode=18;case 18:for(;b.have<b.ncode;){for(;K<3;){if(q===0)break e;q--,Y+=O[G++]<<K,K+=8}b.lens[Z[b.have++]]=7&Y,Y>>>=3,K-=3}for(;b.have<19;)b.lens[Z[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,X={bits:b.lenbits},H=d(0,b.lens,0,19,b.lencode,0,b.work,X),b.lenbits=X.bits,H){C.msg="invalid code lengths set",b.mode=30;break}b.have=0,b.mode=19;case 19:for(;b.have<b.nlen+b.ndist;){for(;me=(B=b.lencode[Y&(1<<b.lenbits)-1])>>>16&255,Te=65535&B,!((ye=B>>>24)<=K);){if(q===0)break e;q--,Y+=O[G++]<<K,K+=8}if(Te<16)Y>>>=ye,K-=ye,b.lens[b.have++]=Te;else{if(Te===16){for(F=ye+2;K<F;){if(q===0)break e;q--,Y+=O[G++]<<K,K+=8}if(Y>>>=ye,K-=ye,b.have===0){C.msg="invalid bit length repeat",b.mode=30;break}j=b.lens[b.have-1],oe=3+(3&Y),Y>>>=2,K-=2}else if(Te===17){for(F=ye+3;K<F;){if(q===0)break e;q--,Y+=O[G++]<<K,K+=8}K-=ye,j=0,oe=3+(7&(Y>>>=ye)),Y>>>=3,K-=3}else{for(F=ye+7;K<F;){if(q===0)break e;q--,Y+=O[G++]<<K,K+=8}K-=ye,j=0,oe=11+(127&(Y>>>=ye)),Y>>>=7,K-=7}if(b.have+oe>b.nlen+b.ndist){C.msg="invalid bit length repeat",b.mode=30;break}for(;oe--;)b.lens[b.have++]=j}}if(b.mode===30)break;if(b.lens[256]===0){C.msg="invalid code -- missing end-of-block",b.mode=30;break}if(b.lenbits=9,X={bits:b.lenbits},H=d(u,b.lens,0,b.nlen,b.lencode,0,b.work,X),b.lenbits=X.bits,H){C.msg="invalid literal/lengths set",b.mode=30;break}if(b.distbits=6,b.distcode=b.distdyn,X={bits:b.distbits},H=d(h,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,X),b.distbits=X.bits,H){C.msg="invalid distances set",b.mode=30;break}if(b.mode=20,D===6)break e;case 20:b.mode=21;case 21:if(6<=q&&258<=ne){C.next_out=Q,C.avail_out=ne,C.next_in=G,C.avail_in=q,b.hold=Y,b.bits=K,c(C,ie),Q=C.next_out,z=C.output,ne=C.avail_out,G=C.next_in,O=C.input,q=C.avail_in,Y=b.hold,K=b.bits,b.mode===12&&(b.back=-1);break}for(b.back=0;me=(B=b.lencode[Y&(1<<b.lenbits)-1])>>>16&255,Te=65535&B,!((ye=B>>>24)<=K);){if(q===0)break e;q--,Y+=O[G++]<<K,K+=8}if(me&&!(240&me)){for(xe=ye,Ne=me,Ce=Te;me=(B=b.lencode[Ce+((Y&(1<<xe+Ne)-1)>>xe)])>>>16&255,Te=65535&B,!(xe+(ye=B>>>24)<=K);){if(q===0)break e;q--,Y+=O[G++]<<K,K+=8}Y>>>=xe,K-=xe,b.back+=xe}if(Y>>>=ye,K-=ye,b.back+=ye,b.length=Te,me===0){b.mode=26;break}if(32&me){b.back=-1,b.mode=12;break}if(64&me){C.msg="invalid literal/length code",b.mode=30;break}b.extra=15&me,b.mode=22;case 22:if(b.extra){for(F=b.extra;K<F;){if(q===0)break e;q--,Y+=O[G++]<<K,K+=8}b.length+=Y&(1<<b.extra)-1,Y>>>=b.extra,K-=b.extra,b.back+=b.extra}b.was=b.length,b.mode=23;case 23:for(;me=(B=b.distcode[Y&(1<<b.distbits)-1])>>>16&255,Te=65535&B,!((ye=B>>>24)<=K);){if(q===0)break e;q--,Y+=O[G++]<<K,K+=8}if(!(240&me)){for(xe=ye,Ne=me,Ce=Te;me=(B=b.distcode[Ce+((Y&(1<<xe+Ne)-1)>>xe)])>>>16&255,Te=65535&B,!(xe+(ye=B>>>24)<=K);){if(q===0)break e;q--,Y+=O[G++]<<K,K+=8}Y>>>=xe,K-=xe,b.back+=xe}if(Y>>>=ye,K-=ye,b.back+=ye,64&me){C.msg="invalid distance code",b.mode=30;break}b.offset=Te,b.extra=15&me,b.mode=24;case 24:if(b.extra){for(F=b.extra;K<F;){if(q===0)break e;q--,Y+=O[G++]<<K,K+=8}b.offset+=Y&(1<<b.extra)-1,Y>>>=b.extra,K-=b.extra,b.back+=b.extra}if(b.offset>b.dmax){C.msg="invalid distance too far back",b.mode=30;break}b.mode=25;case 25:if(ne===0)break e;if(oe=ie-ne,b.offset>oe){if((oe=b.offset-oe)>b.whave&&b.sane){C.msg="invalid distance too far back",b.mode=30;break}ge=oe>b.wnext?(oe-=b.wnext,b.wsize-oe):b.wnext-oe,oe>b.length&&(oe=b.length),je=b.window}else je=z,ge=Q-b.offset,oe=b.length;for(ne<oe&&(oe=ne),ne-=oe,b.length-=oe;z[Q++]=je[ge++],--oe;);b.length===0&&(b.mode=21);break;case 26:if(ne===0)break e;z[Q++]=b.length,ne--,b.mode=21;break;case 27:if(b.wrap){for(;K<32;){if(q===0)break e;q--,Y|=O[G++]<<K,K+=8}if(ie-=ne,C.total_out+=ie,b.total+=ie,ie&&(C.adler=b.check=b.flags?l(b.check,z,ie,Q-ie):s(b.check,z,ie,Q-ie)),ie=ne,(b.flags?Y:x(Y))!==b.check){C.msg="incorrect data check",b.mode=30;break}K=Y=0}b.mode=28;case 28:if(b.wrap&&b.flags){for(;K<32;){if(q===0)break e;q--,Y+=O[G++]<<K,K+=8}if(Y!==(4294967295&b.total)){C.msg="incorrect length check",b.mode=30;break}K=Y=0}b.mode=29;case 29:H=1;break e;case 30:H=-3;break e;case 31:return-4;case 32:default:return m}return C.next_out=Q,C.avail_out=ne,C.next_in=G,C.avail_in=q,b.hold=Y,b.bits=K,(b.wsize||ie!==C.avail_out&&b.mode<30&&(b.mode<27||D!==4))&&P(C,C.output,C.next_out,ie-C.avail_out)?(b.mode=31,-4):(ce-=C.avail_in,ie-=C.avail_out,C.total_in+=ce,C.total_out+=ie,b.total+=ie,b.wrap&&ie&&(C.adler=b.check=b.flags?l(b.check,z,ie,C.next_out-ie):s(b.check,z,ie,C.next_out-ie)),C.data_type=b.bits+(b.last?64:0)+(b.mode===12?128:0)+(b.mode===20||b.mode===15?256:0),(ce==0&&ie===0||D===4)&&H===p&&(H=-5),H)},a.inflateEnd=function(C){if(!C||!C.state)return m;var D=C.state;return D.window&&(D.window=null),C.state=null,p},a.inflateGetHeader=function(C,D){var b;return C&&C.state&&2&(b=C.state).wrap?((b.head=D).done=!1,p):m},a.inflateSetDictionary=function(C,D){var b,O=D.length;return C&&C.state?(b=C.state).wrap!==0&&b.mode!==11?m:b.mode===11&&s(1,D,O,0)!==b.check?-3:P(C,D,O,O)?(b.mode=31,-4):(b.havedict=1,p):m},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,a){var i=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(u,h,p,m,g,A,v,x){var y,w,T,I,R,_,N,E,k,P=x.bits,C=0,D=0,b=0,O=0,z=0,G=0,Q=0,q=0,ne=0,Y=0,K=null,ce=0,ie=new i.Buf16(16),oe=new i.Buf16(16),ge=null,je=0;for(C=0;C<=15;C++)ie[C]=0;for(D=0;D<m;D++)ie[h[p+D]]++;for(z=P,O=15;1<=O&&ie[O]===0;O--);if(O<z&&(z=O),O===0)return g[A++]=20971520,g[A++]=20971520,x.bits=1,0;for(b=1;b<O&&ie[b]===0;b++);for(z<b&&(z=b),C=q=1;C<=15;C++)if(q<<=1,(q-=ie[C])<0)return-1;if(0<q&&(u===0||O!==1))return-1;for(oe[1]=0,C=1;C<15;C++)oe[C+1]=oe[C]+ie[C];for(D=0;D<m;D++)h[p+D]!==0&&(v[oe[h[p+D]]++]=D);if(_=u===0?(K=ge=v,19):u===1?(K=s,ce-=257,ge=l,je-=257,256):(K=c,ge=d,-1),C=b,R=A,Q=D=Y=0,T=-1,I=(ne=1<<(G=z))-1,u===1&&852<ne||u===2&&592<ne)return 1;for(;;){for(N=C-Q,k=v[D]<_?(E=0,v[D]):v[D]>_?(E=ge[je+v[D]],K[ce+v[D]]):(E=96,0),y=1<<C-Q,b=w=1<<G;g[R+(Y>>Q)+(w-=y)]=N<<24|E<<16|k|0,w!==0;);for(y=1<<C-1;Y&y;)y>>=1;if(y!==0?(Y&=y-1,Y+=y):Y=0,D++,--ie[C]==0){if(C===O)break;C=h[p+v[D]]}if(z<C&&(Y&I)!==T){for(Q===0&&(Q=z),R+=b,q=1<<(G=C-Q);G+Q<O&&!((q-=ie[G+Q])<=0);)G++,q<<=1;if(ne+=1<<G,u===1&&852<ne||u===2&&592<ne)return 1;g[T=Y&I]=z<<24|G<<16|R-A|0}}return Y!==0&&(g[R+Y]=C-Q<<24|64<<16|0),x.bits=z,0}},{"../utils/common":41}],51:[function(n,r,a){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,a){var i=n("../utils/common"),s=0,l=1;function c(B){for(var U=B.length;0<=--U;)B[U]=0}var d=0,u=29,h=256,p=h+1+u,m=30,g=19,A=2*p+1,v=15,x=16,y=7,w=256,T=16,I=17,R=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=new Array(2*(p+2));c(P);var C=new Array(2*m);c(C);var D=new Array(512);c(D);var b=new Array(256);c(b);var O=new Array(u);c(O);var z,G,Q,q=new Array(m);function ne(B,U,Z,W,V){this.static_tree=B,this.extra_bits=U,this.extra_base=Z,this.elems=W,this.max_length=V,this.has_stree=B&&B.length}function Y(B,U){this.dyn_tree=B,this.max_code=0,this.stat_desc=U}function K(B){return B<256?D[B]:D[256+(B>>>7)]}function ce(B,U){B.pending_buf[B.pending++]=255&U,B.pending_buf[B.pending++]=U>>>8&255}function ie(B,U,Z){B.bi_valid>x-Z?(B.bi_buf|=U<<B.bi_valid&65535,ce(B,B.bi_buf),B.bi_buf=U>>x-B.bi_valid,B.bi_valid+=Z-x):(B.bi_buf|=U<<B.bi_valid&65535,B.bi_valid+=Z)}function oe(B,U,Z){ie(B,Z[2*U],Z[2*U+1])}function ge(B,U){for(var Z=0;Z|=1&B,B>>>=1,Z<<=1,0<--U;);return Z>>>1}function je(B,U,Z){var W,V,te=new Array(v+1),J=0;for(W=1;W<=v;W++)te[W]=J=J+Z[W-1]<<1;for(V=0;V<=U;V++){var re=B[2*V+1];re!==0&&(B[2*V]=ge(te[re]++,re))}}function ye(B){var U;for(U=0;U<p;U++)B.dyn_ltree[2*U]=0;for(U=0;U<m;U++)B.dyn_dtree[2*U]=0;for(U=0;U<g;U++)B.bl_tree[2*U]=0;B.dyn_ltree[2*w]=1,B.opt_len=B.static_len=0,B.last_lit=B.matches=0}function me(B){8<B.bi_valid?ce(B,B.bi_buf):0<B.bi_valid&&(B.pending_buf[B.pending++]=B.bi_buf),B.bi_buf=0,B.bi_valid=0}function Te(B,U,Z,W){var V=2*U,te=2*Z;return B[V]<B[te]||B[V]===B[te]&&W[U]<=W[Z]}function xe(B,U,Z){for(var W=B.heap[Z],V=Z<<1;V<=B.heap_len&&(V<B.heap_len&&Te(U,B.heap[V+1],B.heap[V],B.depth)&&V++,!Te(U,W,B.heap[V],B.depth));)B.heap[Z]=B.heap[V],Z=V,V<<=1;B.heap[Z]=W}function Ne(B,U,Z){var W,V,te,J,re=0;if(B.last_lit!==0)for(;W=B.pending_buf[B.d_buf+2*re]<<8|B.pending_buf[B.d_buf+2*re+1],V=B.pending_buf[B.l_buf+re],re++,W===0?oe(B,V,U):(oe(B,(te=b[V])+h+1,U),(J=_[te])!==0&&ie(B,V-=O[te],J),oe(B,te=K(--W),Z),(J=N[te])!==0&&ie(B,W-=q[te],J)),re<B.last_lit;);oe(B,w,U)}function Ce(B,U){var Z,W,V,te=U.dyn_tree,J=U.stat_desc.static_tree,re=U.stat_desc.has_stree,he=U.stat_desc.elems,Ie=-1;for(B.heap_len=0,B.heap_max=A,Z=0;Z<he;Z++)te[2*Z]!==0?(B.heap[++B.heap_len]=Ie=Z,B.depth[Z]=0):te[2*Z+1]=0;for(;B.heap_len<2;)te[2*(V=B.heap[++B.heap_len]=Ie<2?++Ie:0)]=1,B.depth[V]=0,B.opt_len--,re&&(B.static_len-=J[2*V+1]);for(U.max_code=Ie,Z=B.heap_len>>1;1<=Z;Z--)xe(B,te,Z);for(V=he;Z=B.heap[1],B.heap[1]=B.heap[B.heap_len--],xe(B,te,1),W=B.heap[1],B.heap[--B.heap_max]=Z,B.heap[--B.heap_max]=W,te[2*V]=te[2*Z]+te[2*W],B.depth[V]=(B.depth[Z]>=B.depth[W]?B.depth[Z]:B.depth[W])+1,te[2*Z+1]=te[2*W+1]=V,B.heap[1]=V++,xe(B,te,1),2<=B.heap_len;);B.heap[--B.heap_max]=B.heap[1],function(Ee,We){var pt,ct,Be,Ue,at,Tt,mt=We.dyn_tree,Nt=We.max_code,ze=We.stat_desc.static_tree,gt=We.stat_desc.has_stree,vt=We.stat_desc.extra_bits,ht=We.stat_desc.extra_base,rt=We.stat_desc.max_length,Fe=0;for(Ue=0;Ue<=v;Ue++)Ee.bl_count[Ue]=0;for(mt[2*Ee.heap[Ee.heap_max]+1]=0,pt=Ee.heap_max+1;pt<A;pt++)rt<(Ue=mt[2*mt[2*(ct=Ee.heap[pt])+1]+1]+1)&&(Ue=rt,Fe++),mt[2*ct+1]=Ue,Nt<ct||(Ee.bl_count[Ue]++,at=0,ht<=ct&&(at=vt[ct-ht]),Tt=mt[2*ct],Ee.opt_len+=Tt*(Ue+at),gt&&(Ee.static_len+=Tt*(ze[2*ct+1]+at)));if(Fe!==0){do{for(Ue=rt-1;Ee.bl_count[Ue]===0;)Ue--;Ee.bl_count[Ue]--,Ee.bl_count[Ue+1]+=2,Ee.bl_count[rt]--,Fe-=2}while(0<Fe);for(Ue=rt;Ue!==0;Ue--)for(ct=Ee.bl_count[Ue];ct!==0;)Nt<(Be=Ee.heap[--pt])||(mt[2*Be+1]!==Ue&&(Ee.opt_len+=(Ue-mt[2*Be+1])*mt[2*Be],mt[2*Be+1]=Ue),ct--)}}(B,U),je(te,Ie,B.bl_count)}function j(B,U,Z){var W,V,te=-1,J=U[1],re=0,he=7,Ie=4;for(J===0&&(he=138,Ie=3),U[2*(Z+1)+1]=65535,W=0;W<=Z;W++)V=J,J=U[2*(W+1)+1],++re<he&&V===J||(re<Ie?B.bl_tree[2*V]+=re:V!==0?(V!==te&&B.bl_tree[2*V]++,B.bl_tree[2*T]++):re<=10?B.bl_tree[2*I]++:B.bl_tree[2*R]++,te=V,Ie=(re=0)===J?(he=138,3):V===J?(he=6,3):(he=7,4))}function H(B,U,Z){var W,V,te=-1,J=U[1],re=0,he=7,Ie=4;for(J===0&&(he=138,Ie=3),W=0;W<=Z;W++)if(V=J,J=U[2*(W+1)+1],!(++re<he&&V===J)){if(re<Ie)for(;oe(B,V,B.bl_tree),--re!=0;);else V!==0?(V!==te&&(oe(B,V,B.bl_tree),re--),oe(B,T,B.bl_tree),ie(B,re-3,2)):re<=10?(oe(B,I,B.bl_tree),ie(B,re-3,3)):(oe(B,R,B.bl_tree),ie(B,re-11,7));te=V,Ie=(re=0)===J?(he=138,3):V===J?(he=6,3):(he=7,4)}}c(q);var X=!1;function F(B,U,Z,W){ie(B,(d<<1)+(W?1:0),3),function(V,te,J,re){me(V),ce(V,J),ce(V,~J),i.arraySet(V.pending_buf,V.window,te,J,V.pending),V.pending+=J}(B,U,Z)}a._tr_init=function(B){X||(function(){var U,Z,W,V,te,J=new Array(v+1);for(V=W=0;V<u-1;V++)for(O[V]=W,U=0;U<1<<_[V];U++)b[W++]=V;for(b[W-1]=V,V=te=0;V<16;V++)for(q[V]=te,U=0;U<1<<N[V];U++)D[te++]=V;for(te>>=7;V<m;V++)for(q[V]=te<<7,U=0;U<1<<N[V]-7;U++)D[256+te++]=V;for(Z=0;Z<=v;Z++)J[Z]=0;for(U=0;U<=143;)P[2*U+1]=8,U++,J[8]++;for(;U<=255;)P[2*U+1]=9,U++,J[9]++;for(;U<=279;)P[2*U+1]=7,U++,J[7]++;for(;U<=287;)P[2*U+1]=8,U++,J[8]++;for(je(P,p+1,J),U=0;U<m;U++)C[2*U+1]=5,C[2*U]=ge(U,5);z=new ne(P,_,h+1,p,v),G=new ne(C,N,0,m,v),Q=new ne(new Array(0),E,0,g,y)}(),X=!0),B.l_desc=new Y(B.dyn_ltree,z),B.d_desc=new Y(B.dyn_dtree,G),B.bl_desc=new Y(B.bl_tree,Q),B.bi_buf=0,B.bi_valid=0,ye(B)},a._tr_stored_block=F,a._tr_flush_block=function(B,U,Z,W){var V,te,J=0;0<B.level?(B.strm.data_type===2&&(B.strm.data_type=function(re){var he,Ie=4093624447;for(he=0;he<=31;he++,Ie>>>=1)if(1&Ie&&re.dyn_ltree[2*he]!==0)return s;if(re.dyn_ltree[18]!==0||re.dyn_ltree[20]!==0||re.dyn_ltree[26]!==0)return l;for(he=32;he<h;he++)if(re.dyn_ltree[2*he]!==0)return l;return s}(B)),Ce(B,B.l_desc),Ce(B,B.d_desc),J=function(re){var he;for(j(re,re.dyn_ltree,re.l_desc.max_code),j(re,re.dyn_dtree,re.d_desc.max_code),Ce(re,re.bl_desc),he=g-1;3<=he&&re.bl_tree[2*k[he]+1]===0;he--);return re.opt_len+=3*(he+1)+5+5+4,he}(B),V=B.opt_len+3+7>>>3,(te=B.static_len+3+7>>>3)<=V&&(V=te)):V=te=Z+5,Z+4<=V&&U!==-1?F(B,U,Z,W):B.strategy===4||te===V?(ie(B,2+(W?1:0),3),Ne(B,P,C)):(ie(B,4+(W?1:0),3),function(re,he,Ie,Ee){var We;for(ie(re,he-257,5),ie(re,Ie-1,5),ie(re,Ee-4,4),We=0;We<Ee;We++)ie(re,re.bl_tree[2*k[We]+1],3);H(re,re.dyn_ltree,he-1),H(re,re.dyn_dtree,Ie-1)}(B,B.l_desc.max_code+1,B.d_desc.max_code+1,J+1),Ne(B,B.dyn_ltree,B.dyn_dtree)),ye(B),W&&me(B)},a._tr_tally=function(B,U,Z){return B.pending_buf[B.d_buf+2*B.last_lit]=U>>>8&255,B.pending_buf[B.d_buf+2*B.last_lit+1]=255&U,B.pending_buf[B.l_buf+B.last_lit]=255&Z,B.last_lit++,U===0?B.dyn_ltree[2*Z]++:(B.matches++,U--,B.dyn_ltree[2*(b[Z]+h+1)]++,B.dyn_dtree[2*K(U)]++),B.last_lit===B.lit_bufsize-1},a._tr_align=function(B){ie(B,2,3),oe(B,w,P),function(U){U.bi_valid===16?(ce(U,U.bi_buf),U.bi_buf=0,U.bi_valid=0):8<=U.bi_valid&&(U.pending_buf[U.pending++]=255&U.bi_buf,U.bi_buf>>=8,U.bi_valid-=8)}(B)}},{"../utils/common":41}],53:[function(n,r,a){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,a){(function(i){(function(s,l){if(!s.setImmediate){var c,d,u,h,p=1,m={},g=!1,A=s.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(s);v=v&&v.setTimeout?v:s,c={}.toString.call(s.process)==="[object process]"?function(T){process.nextTick(function(){y(T)})}:function(){if(s.postMessage&&!s.importScripts){var T=!0,I=s.onmessage;return s.onmessage=function(){T=!1},s.postMessage("","*"),s.onmessage=I,T}}()?(h="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",w,!1):s.attachEvent("onmessage",w),function(T){s.postMessage(h+T,"*")}):s.MessageChannel?((u=new MessageChannel).port1.onmessage=function(T){y(T.data)},function(T){u.port2.postMessage(T)}):A&&"onreadystatechange"in A.createElement("script")?(d=A.documentElement,function(T){var I=A.createElement("script");I.onreadystatechange=function(){y(T),I.onreadystatechange=null,d.removeChild(I),I=null},d.appendChild(I)}):function(T){setTimeout(y,0,T)},v.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var I=new Array(arguments.length-1),R=0;R<I.length;R++)I[R]=arguments[R+1];var _={callback:T,args:I};return m[p]=_,c(p),p++},v.clearImmediate=x}function x(T){delete m[T]}function y(T){if(g)setTimeout(y,0,T);else{var I=m[T];if(I){g=!0;try{(function(R){var _=R.callback,N=R.args;switch(N.length){case 0:_();break;case 1:_(N[0]);break;case 2:_(N[0],N[1]);break;case 3:_(N[0],N[1],N[2]);break;default:_.apply(l,N)}})(I)}finally{x(T),g=!1}}}}function w(T){T.source===s&&typeof T.data=="string"&&T.data.indexOf(h)===0&&y(+T.data.slice(h.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(NT);var z8=NT.exports;const IT=RA(z8);function Rr(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(u){try{d(r.next(u))}catch(h){s(h)}}function c(u){try{d(r.throw(u))}catch(h){s(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((r=r.apply(t,[])).next())})}const Ye=914400,Yu=12700,jn=`\r
`,V8=2147483649,Rg=/^[0-9a-fA-F]{6}$/,U8=1.67,G8=27,Zo={type:"solid",color:"666666",pt:1},ST=[.05,.1,.05,.1],el={color:"363636",pt:1},ro={color:"888888",style:"solid",size:1,cap:"flat"},vr="000000",Qr=12,W8=18,tl="LAYOUT_16x9",CA="DEFAULT",TT="333333",Ms={type:"outer",blur:3,offset:23e3/12700,angle:90,color:"000000",opacity:.35,rotateWithShape:!0},bu=[.5,.5,.5,.5],U_={color:"000000"},$8={size:8,color:"FFFFFF",opacity:.75},Wa="2094734552",xf="2094734553",dd="2094734554",EA="2094734555",kT="2094734556",Qc="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),ud=["C0504D","4F81BD","9BBB59","8064A2","4BACC6","F79646","628FC6","C86360","C0504D","4F81BD","9BBB59","8064A2","4BACC6","F79646","628FC6","C86360"],q8=["5DA5DA","FAA43A","60BD68","F17CB0","B2912F","B276B2","DECF3F","F15854","A7A7A7","5DA5DA","FAA43A","60BD68","F17CB0","B2912F","B276B2","DECF3F","F15854","A7A7A7"];var _l;(function(t){t.left="left",t.center="center",t.right="right",t.justify="justify"})(_l||(_l={}));var Cl;(function(t){t.b="b",t.ctr="ctr",t.t="t"})(Cl||(Cl={}));const DT="{F7021451-1387-4CA6-816F-3879F97B5CBC}";var NA;(function(t){t.arraybuffer="arraybuffer",t.base64="base64",t.binarystring="binarystring",t.blob="blob",t.nodebuffer="nodebuffer",t.uint8array="uint8array"})(NA||(NA={}));var IA;(function(t){t.area="area",t.bar="bar",t.bar3d="bar3D",t.bubble="bubble",t.bubble3d="bubble3D",t.doughnut="doughnut",t.line="line",t.pie="pie",t.radar="radar",t.scatter="scatter"})(IA||(IA={}));var SA;(function(t){t.accentBorderCallout1="accentBorderCallout1",t.accentBorderCallout2="accentBorderCallout2",t.accentBorderCallout3="accentBorderCallout3",t.accentCallout1="accentCallout1",t.accentCallout2="accentCallout2",t.accentCallout3="accentCallout3",t.actionButtonBackPrevious="actionButtonBackPrevious",t.actionButtonBeginning="actionButtonBeginning",t.actionButtonBlank="actionButtonBlank",t.actionButtonDocument="actionButtonDocument",t.actionButtonEnd="actionButtonEnd",t.actionButtonForwardNext="actionButtonForwardNext",t.actionButtonHelp="actionButtonHelp",t.actionButtonHome="actionButtonHome",t.actionButtonInformation="actionButtonInformation",t.actionButtonMovie="actionButtonMovie",t.actionButtonReturn="actionButtonReturn",t.actionButtonSound="actionButtonSound",t.arc="arc",t.bentArrow="bentArrow",t.bentUpArrow="bentUpArrow",t.bevel="bevel",t.blockArc="blockArc",t.borderCallout1="borderCallout1",t.borderCallout2="borderCallout2",t.borderCallout3="borderCallout3",t.bracePair="bracePair",t.bracketPair="bracketPair",t.callout1="callout1",t.callout2="callout2",t.callout3="callout3",t.can="can",t.chartPlus="chartPlus",t.chartStar="chartStar",t.chartX="chartX",t.chevron="chevron",t.chord="chord",t.circularArrow="circularArrow",t.cloud="cloud",t.cloudCallout="cloudCallout",t.corner="corner",t.cornerTabs="cornerTabs",t.cube="cube",t.curvedDownArrow="curvedDownArrow",t.curvedLeftArrow="curvedLeftArrow",t.curvedRightArrow="curvedRightArrow",t.curvedUpArrow="curvedUpArrow",t.custGeom="custGeom",t.decagon="decagon",t.diagStripe="diagStripe",t.diamond="diamond",t.dodecagon="dodecagon",t.donut="donut",t.doubleWave="doubleWave",t.downArrow="downArrow",t.downArrowCallout="downArrowCallout",t.ellipse="ellipse",t.ellipseRibbon="ellipseRibbon",t.ellipseRibbon2="ellipseRibbon2",t.flowChartAlternateProcess="flowChartAlternateProcess",t.flowChartCollate="flowChartCollate",t.flowChartConnector="flowChartConnector",t.flowChartDecision="flowChartDecision",t.flowChartDelay="flowChartDelay",t.flowChartDisplay="flowChartDisplay",t.flowChartDocument="flowChartDocument",t.flowChartExtract="flowChartExtract",t.flowChartInputOutput="flowChartInputOutput",t.flowChartInternalStorage="flowChartInternalStorage",t.flowChartMagneticDisk="flowChartMagneticDisk",t.flowChartMagneticDrum="flowChartMagneticDrum",t.flowChartMagneticTape="flowChartMagneticTape",t.flowChartManualInput="flowChartManualInput",t.flowChartManualOperation="flowChartManualOperation",t.flowChartMerge="flowChartMerge",t.flowChartMultidocument="flowChartMultidocument",t.flowChartOfflineStorage="flowChartOfflineStorage",t.flowChartOffpageConnector="flowChartOffpageConnector",t.flowChartOnlineStorage="flowChartOnlineStorage",t.flowChartOr="flowChartOr",t.flowChartPredefinedProcess="flowChartPredefinedProcess",t.flowChartPreparation="flowChartPreparation",t.flowChartProcess="flowChartProcess",t.flowChartPunchedCard="flowChartPunchedCard",t.flowChartPunchedTape="flowChartPunchedTape",t.flowChartSort="flowChartSort",t.flowChartSummingJunction="flowChartSummingJunction",t.flowChartTerminator="flowChartTerminator",t.folderCorner="folderCorner",t.frame="frame",t.funnel="funnel",t.gear6="gear6",t.gear9="gear9",t.halfFrame="halfFrame",t.heart="heart",t.heptagon="heptagon",t.hexagon="hexagon",t.homePlate="homePlate",t.horizontalScroll="horizontalScroll",t.irregularSeal1="irregularSeal1",t.irregularSeal2="irregularSeal2",t.leftArrow="leftArrow",t.leftArrowCallout="leftArrowCallout",t.leftBrace="leftBrace",t.leftBracket="leftBracket",t.leftCircularArrow="leftCircularArrow",t.leftRightArrow="leftRightArrow",t.leftRightArrowCallout="leftRightArrowCallout",t.leftRightCircularArrow="leftRightCircularArrow",t.leftRightRibbon="leftRightRibbon",t.leftRightUpArrow="leftRightUpArrow",t.leftUpArrow="leftUpArrow",t.lightningBolt="lightningBolt",t.line="line",t.lineInv="lineInv",t.mathDivide="mathDivide",t.mathEqual="mathEqual",t.mathMinus="mathMinus",t.mathMultiply="mathMultiply",t.mathNotEqual="mathNotEqual",t.mathPlus="mathPlus",t.moon="moon",t.noSmoking="noSmoking",t.nonIsoscelesTrapezoid="nonIsoscelesTrapezoid",t.notchedRightArrow="notchedRightArrow",t.octagon="octagon",t.parallelogram="parallelogram",t.pentagon="pentagon",t.pie="pie",t.pieWedge="pieWedge",t.plaque="plaque",t.plaqueTabs="plaqueTabs",t.plus="plus",t.quadArrow="quadArrow",t.quadArrowCallout="quadArrowCallout",t.rect="rect",t.ribbon="ribbon",t.ribbon2="ribbon2",t.rightArrow="rightArrow",t.rightArrowCallout="rightArrowCallout",t.rightBrace="rightBrace",t.rightBracket="rightBracket",t.round1Rect="round1Rect",t.round2DiagRect="round2DiagRect",t.round2SameRect="round2SameRect",t.roundRect="roundRect",t.rtTriangle="rtTriangle",t.smileyFace="smileyFace",t.snip1Rect="snip1Rect",t.snip2DiagRect="snip2DiagRect",t.snip2SameRect="snip2SameRect",t.snipRoundRect="snipRoundRect",t.squareTabs="squareTabs",t.star10="star10",t.star12="star12",t.star16="star16",t.star24="star24",t.star32="star32",t.star4="star4",t.star5="star5",t.star6="star6",t.star7="star7",t.star8="star8",t.stripedRightArrow="stripedRightArrow",t.sun="sun",t.swooshArrow="swooshArrow",t.teardrop="teardrop",t.trapezoid="trapezoid",t.triangle="triangle",t.upArrow="upArrow",t.upArrowCallout="upArrowCallout",t.upDownArrow="upDownArrow",t.upDownArrowCallout="upDownArrowCallout",t.uturnArrow="uturnArrow",t.verticalScroll="verticalScroll",t.wave="wave",t.wedgeEllipseCallout="wedgeEllipseCallout",t.wedgeRectCallout="wedgeRectCallout",t.wedgeRoundRectCallout="wedgeRoundRectCallout"})(SA||(SA={}));var kr;(function(t){t.text1="tx1",t.text2="tx2",t.background1="bg1",t.background2="bg2",t.accent1="accent1",t.accent2="accent2",t.accent3="accent3",t.accent4="accent4",t.accent5="accent5",t.accent6="accent6"})(kr||(kr={}));var TA;(function(t){t.left="left",t.center="center",t.right="right",t.justify="justify"})(TA||(TA={}));var kA;(function(t){t.top="top",t.middle="middle",t.bottom="bottom"})(kA||(kA={}));var ys;(function(t){t.ACTION_BUTTON_BACK_OR_PREVIOUS="actionButtonBackPrevious",t.ACTION_BUTTON_BEGINNING="actionButtonBeginning",t.ACTION_BUTTON_CUSTOM="actionButtonBlank",t.ACTION_BUTTON_DOCUMENT="actionButtonDocument",t.ACTION_BUTTON_END="actionButtonEnd",t.ACTION_BUTTON_FORWARD_OR_NEXT="actionButtonForwardNext",t.ACTION_BUTTON_HELP="actionButtonHelp",t.ACTION_BUTTON_HOME="actionButtonHome",t.ACTION_BUTTON_INFORMATION="actionButtonInformation",t.ACTION_BUTTON_MOVIE="actionButtonMovie",t.ACTION_BUTTON_RETURN="actionButtonReturn",t.ACTION_BUTTON_SOUND="actionButtonSound",t.ARC="arc",t.BALLOON="wedgeRoundRectCallout",t.BENT_ARROW="bentArrow",t.BENT_UP_ARROW="bentUpArrow",t.BEVEL="bevel",t.BLOCK_ARC="blockArc",t.CAN="can",t.CHART_PLUS="chartPlus",t.CHART_STAR="chartStar",t.CHART_X="chartX",t.CHEVRON="chevron",t.CHORD="chord",t.CIRCULAR_ARROW="circularArrow",t.CLOUD="cloud",t.CLOUD_CALLOUT="cloudCallout",t.CORNER="corner",t.CORNER_TABS="cornerTabs",t.CROSS="plus",t.CUBE="cube",t.CURVED_DOWN_ARROW="curvedDownArrow",t.CURVED_DOWN_RIBBON="ellipseRibbon",t.CURVED_LEFT_ARROW="curvedLeftArrow",t.CURVED_RIGHT_ARROW="curvedRightArrow",t.CURVED_UP_ARROW="curvedUpArrow",t.CURVED_UP_RIBBON="ellipseRibbon2",t.CUSTOM_GEOMETRY="custGeom",t.DECAGON="decagon",t.DIAGONAL_STRIPE="diagStripe",t.DIAMOND="diamond",t.DODECAGON="dodecagon",t.DONUT="donut",t.DOUBLE_BRACE="bracePair",t.DOUBLE_BRACKET="bracketPair",t.DOUBLE_WAVE="doubleWave",t.DOWN_ARROW="downArrow",t.DOWN_ARROW_CALLOUT="downArrowCallout",t.DOWN_RIBBON="ribbon",t.EXPLOSION1="irregularSeal1",t.EXPLOSION2="irregularSeal2",t.FLOWCHART_ALTERNATE_PROCESS="flowChartAlternateProcess",t.FLOWCHART_CARD="flowChartPunchedCard",t.FLOWCHART_COLLATE="flowChartCollate",t.FLOWCHART_CONNECTOR="flowChartConnector",t.FLOWCHART_DATA="flowChartInputOutput",t.FLOWCHART_DECISION="flowChartDecision",t.FLOWCHART_DELAY="flowChartDelay",t.FLOWCHART_DIRECT_ACCESS_STORAGE="flowChartMagneticDrum",t.FLOWCHART_DISPLAY="flowChartDisplay",t.FLOWCHART_DOCUMENT="flowChartDocument",t.FLOWCHART_EXTRACT="flowChartExtract",t.FLOWCHART_INTERNAL_STORAGE="flowChartInternalStorage",t.FLOWCHART_MAGNETIC_DISK="flowChartMagneticDisk",t.FLOWCHART_MANUAL_INPUT="flowChartManualInput",t.FLOWCHART_MANUAL_OPERATION="flowChartManualOperation",t.FLOWCHART_MERGE="flowChartMerge",t.FLOWCHART_MULTIDOCUMENT="flowChartMultidocument",t.FLOWCHART_OFFLINE_STORAGE="flowChartOfflineStorage",t.FLOWCHART_OFFPAGE_CONNECTOR="flowChartOffpageConnector",t.FLOWCHART_OR="flowChartOr",t.FLOWCHART_PREDEFINED_PROCESS="flowChartPredefinedProcess",t.FLOWCHART_PREPARATION="flowChartPreparation",t.FLOWCHART_PROCESS="flowChartProcess",t.FLOWCHART_PUNCHED_TAPE="flowChartPunchedTape",t.FLOWCHART_SEQUENTIAL_ACCESS_STORAGE="flowChartMagneticTape",t.FLOWCHART_SORT="flowChartSort",t.FLOWCHART_STORED_DATA="flowChartOnlineStorage",t.FLOWCHART_SUMMING_JUNCTION="flowChartSummingJunction",t.FLOWCHART_TERMINATOR="flowChartTerminator",t.FOLDED_CORNER="folderCorner",t.FRAME="frame",t.FUNNEL="funnel",t.GEAR_6="gear6",t.GEAR_9="gear9",t.HALF_FRAME="halfFrame",t.HEART="heart",t.HEPTAGON="heptagon",t.HEXAGON="hexagon",t.HORIZONTAL_SCROLL="horizontalScroll",t.ISOSCELES_TRIANGLE="triangle",t.LEFT_ARROW="leftArrow",t.LEFT_ARROW_CALLOUT="leftArrowCallout",t.LEFT_BRACE="leftBrace",t.LEFT_BRACKET="leftBracket",t.LEFT_CIRCULAR_ARROW="leftCircularArrow",t.LEFT_RIGHT_ARROW="leftRightArrow",t.LEFT_RIGHT_ARROW_CALLOUT="leftRightArrowCallout",t.LEFT_RIGHT_CIRCULAR_ARROW="leftRightCircularArrow",t.LEFT_RIGHT_RIBBON="leftRightRibbon",t.LEFT_RIGHT_UP_ARROW="leftRightUpArrow",t.LEFT_UP_ARROW="leftUpArrow",t.LIGHTNING_BOLT="lightningBolt",t.LINE_CALLOUT_1="borderCallout1",t.LINE_CALLOUT_1_ACCENT_BAR="accentCallout1",t.LINE_CALLOUT_1_BORDER_AND_ACCENT_BAR="accentBorderCallout1",t.LINE_CALLOUT_1_NO_BORDER="callout1",t.LINE_CALLOUT_2="borderCallout2",t.LINE_CALLOUT_2_ACCENT_BAR="accentCallout2",t.LINE_CALLOUT_2_BORDER_AND_ACCENT_BAR="accentBorderCallout2",t.LINE_CALLOUT_2_NO_BORDER="callout2",t.LINE_CALLOUT_3="borderCallout3",t.LINE_CALLOUT_3_ACCENT_BAR="accentCallout3",t.LINE_CALLOUT_3_BORDER_AND_ACCENT_BAR="accentBorderCallout3",t.LINE_CALLOUT_3_NO_BORDER="callout3",t.LINE_CALLOUT_4="borderCallout4",t.LINE_CALLOUT_4_ACCENT_BAR="accentCallout3=4",t.LINE_CALLOUT_4_BORDER_AND_ACCENT_BAR="accentBorderCallout4",t.LINE_CALLOUT_4_NO_BORDER="callout4",t.LINE="line",t.LINE_INVERSE="lineInv",t.MATH_DIVIDE="mathDivide",t.MATH_EQUAL="mathEqual",t.MATH_MINUS="mathMinus",t.MATH_MULTIPLY="mathMultiply",t.MATH_NOT_EQUAL="mathNotEqual",t.MATH_PLUS="mathPlus",t.MOON="moon",t.NON_ISOSCELES_TRAPEZOID="nonIsoscelesTrapezoid",t.NOTCHED_RIGHT_ARROW="notchedRightArrow",t.NO_SYMBOL="noSmoking",t.OCTAGON="octagon",t.OVAL="ellipse",t.OVAL_CALLOUT="wedgeEllipseCallout",t.PARALLELOGRAM="parallelogram",t.PENTAGON="homePlate",t.PIE="pie",t.PIE_WEDGE="pieWedge",t.PLAQUE="plaque",t.PLAQUE_TABS="plaqueTabs",t.QUAD_ARROW="quadArrow",t.QUAD_ARROW_CALLOUT="quadArrowCallout",t.RECTANGLE="rect",t.RECTANGULAR_CALLOUT="wedgeRectCallout",t.REGULAR_PENTAGON="pentagon",t.RIGHT_ARROW="rightArrow",t.RIGHT_ARROW_CALLOUT="rightArrowCallout",t.RIGHT_BRACE="rightBrace",t.RIGHT_BRACKET="rightBracket",t.RIGHT_TRIANGLE="rtTriangle",t.ROUNDED_RECTANGLE="roundRect",t.ROUNDED_RECTANGULAR_CALLOUT="wedgeRoundRectCallout",t.ROUND_1_RECTANGLE="round1Rect",t.ROUND_2_DIAG_RECTANGLE="round2DiagRect",t.ROUND_2_SAME_RECTANGLE="round2SameRect",t.SMILEY_FACE="smileyFace",t.SNIP_1_RECTANGLE="snip1Rect",t.SNIP_2_DIAG_RECTANGLE="snip2DiagRect",t.SNIP_2_SAME_RECTANGLE="snip2SameRect",t.SNIP_ROUND_RECTANGLE="snipRoundRect",t.SQUARE_TABS="squareTabs",t.STAR_10_POINT="star10",t.STAR_12_POINT="star12",t.STAR_16_POINT="star16",t.STAR_24_POINT="star24",t.STAR_32_POINT="star32",t.STAR_4_POINT="star4",t.STAR_5_POINT="star5",t.STAR_6_POINT="star6",t.STAR_7_POINT="star7",t.STAR_8_POINT="star8",t.STRIPED_RIGHT_ARROW="stripedRightArrow",t.SUN="sun",t.SWOOSH_ARROW="swooshArrow",t.TEAR="teardrop",t.TRAPEZOID="trapezoid",t.UP_ARROW="upArrow",t.UP_ARROW_CALLOUT="upArrowCallout",t.UP_DOWN_ARROW="upDownArrow",t.UP_DOWN_ARROW_CALLOUT="upDownArrowCallout",t.UP_RIBBON="ribbon2",t.U_TURN_ARROW="uturnArrow",t.VERTICAL_SCROLL="verticalScroll",t.WAVE="wave"})(ys||(ys={}));var be;(function(t){t.AREA="area",t.BAR="bar",t.BAR3D="bar3D",t.BUBBLE="bubble",t.BUBBLE3D="bubble3D",t.DOUGHNUT="doughnut",t.LINE="line",t.PIE="pie",t.RADAR="radar",t.SCATTER="scatter"})(be||(be={}));var kp;(function(t){t.TEXT1="tx1",t.TEXT2="tx2",t.BACKGROUND1="bg1",t.BACKGROUND2="bg2",t.ACCENT1="accent1",t.ACCENT2="accent2",t.ACCENT3="accent3",t.ACCENT4="accent4",t.ACCENT5="accent5",t.ACCENT6="accent6"})(kp||(kp={}));var Fi;(function(t){t.chart="chart",t.image="image",t.line="line",t.rect="rect",t.text="text",t.placeholder="placeholder"})(Fi||(Fi={}));var Ke;(function(t){t.chart="chart",t.hyperlink="hyperlink",t.image="image",t.media="media",t.online="online",t.placeholder="placeholder",t.table="table",t.tablecell="tablecell",t.text="text",t.notes="notes"})(Ke||(Ke={}));var Md;(function(t){t.title="title",t.body="body",t.image="pic",t.chart="chart",t.table="tbl",t.media="media"})(Md||(Md={}));var El;(function(t){t.DEFAULT="&#x2022;",t.CHECK="&#x2713;",t.STAR="&#x2605;",t.TRIANGLE="&#x25B6;"})(El||(El={}));const Nl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAB3CAYAAAD1oOVhAAAGAUlEQVR4Xu2dT0xcRRzHf7tAYSsc0EBSIq2xEg8mtTGebVzEqOVIolz0siRE4gGTStqKwdpWsXoyGhMuyAVJOHBgqyvLNgonDkabeCBYW/8kTUr0wsJC+Wfm0bfuvn37Znbem9mR9303mJnf/Pb7ed95M7PDI5JIJPYJV5EC7e3t1N/fT62trdqViQCIu+bVgpIHEo/Hqbe3V/sdYVKHyWSSZmZm8ilVA0oeyNjYmEnaVC2Xvr6+qg5fAOJAz4DU1dURGzFSqZRVqtMpAFIGyMjICC0vL9PExIRWKADiAYTNshYWFrRCARAOEFZcCKWtrY0GBgaUTYkBRACIE4rKZwqACALR5RQAqQCIDqcASIVAVDsFQCSAqHQKgEgCUeUUAPEBRIVTAMQnEBvK5OQkbW9vk991CoAEAMQJxc86BUACAhKUUwAkQCBBOAVAAgbi1ykAogCIH6cAiCIgsk4BEIVAZJwCIIqBVLqiBxANQFgXS0tLND4+zl08AogmIG5OSSQS1gGKwgtANAIRcQqAaAbCe6YASBWA2E6xDyeyDUl7+AKQMkDYYevm5mZHabA/Li4uUiaTsYLau8QA4gLE/hU7wajyYtv1hReDAiAOxQcHBymbzark4BkbQKom/X8dp9Npmpqasn4BIAYAYSnYp+4BBEAMUcCwNOCQsAKZnp62NtQOw8WmwT09PUo+ijaHsOMx7GppaaH6+nolH0Z10K2tLVpdXbW6UfV3mNqBdHd3U1NTk2rtlMRfW1uj2dlZAFGirkRQAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAGHqrm8caPzQ0WC1logbeiC7X3xJm0PvUmRzh45cuki1588FAmVn9BO6P3yF9utrqGH0MtW82S8UN9RA9v/4k7InjhcJFTs/TLVXLwmJV67S7vD7tHF5pKi46fYdosdOcOOGG8j1OcqefbFEJD9Q3GCwDhqT31HklS4A8VRgfYM2Op6k3bt/BQJl58J7lPvwg5JYNccepaMry0LPqFA7hCm39+NNyp2J0172b19QysGINj5CsRtpij57musOViH0QPJQXn6J9u7dlYJSFkbrMYolrwvDAJAC+WWdEpQz7FTgECeUCpzi6YxvvqXoM6eEhqnCSgDikEzUKUE7Aw7xuHctKB5OYU3dZlNR9syQdAaAcAYTC0pXF+39c09o2Ik+3EqxVKqiB7hbYAxZkk4pbBaEM+AQofv+wTrFwylBOQNABIGwavdfe4O2pg5elO+86l99nY58/VUF0byrYsjiSFluNlXYrOHcBar7+EogUADEQ0YRGHbzoKAASBkg2+9cpM1rV0tK2QOcXW7bLEFAARAXIF4w2DrDWoeUWaf4hQIgDiA8GPZ2iNfi0Q8UACkAIgrDbrJ385eDxaPLLrEsFAB5oG6lMPJQPLZZZKAACBGVhcG2Q+bmuLu2nk55e4jqPv1IeEoceiBeX7s2zCa5MAqdstl91vfXwaEGsv/rb5TtOFk6tWXOuJGh6KmnhO9sayrMninPx103JBtXblHkice58cINZP4Hyr5wpkgkdiChEmc4FWazLzenNKa/p0jncwDiqcD6BuWePk07t1asatZGoYQzSqA4nFJ7soNiP/+EUyfc25GI2GG53dHPrKo1g/1Cw4pIXLrzO+1c+/wg7tBbFDle/EbQcjFCPWQJCau5EoBoFpzXHYDwFNJcDiCaBed1ByA8hTSXA4hmwXndAQhPIc3lAKJZcF53AMJTSHM5gGgWnNcdgPAU0lwOIJoF53UHIDyFNJcfSiCdnZ0Ui8U0SxlMd7lcjubn561gh+Y1scFIU/0o/3sgeLO12E2k7UXKYumgFoAYdg8ACIAYpoBh6cAhAGKYAoalA4cAiGEKGJYOHAIghilgWDpwCIAYpoBh6cAhAGKYAoalA4cAiGEKGJYOHAIghilgWDpwCIAYpoBh6ZQ4JB6PKzviYthnNy4d9h+1M5mMlVckkUjsG5dhiBMCEMPg/wuOfrZZ/RSywQAAAABJRU5ErkJggg==",H8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB4AAAAVnCAYAAACzfHDVAAAAYHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjaVcjJDYAwDEXBu6ughBfH+YnLQSwSHVA+Yrkwx7HtPHabHuEWrQ+lBBAZ6TMweBWoCwUH8quZH6VWFXVT696zxp12ARkVFEqn8wB8AAAACXBIWXMAAC4jAAAuIwF4pT92AADZLklEQVR42uzdd5hV9Z0/8M+dmcsUZmDovYOhKCiKYhR7JJuoSTCWGFI0WUxijBoTTXazVlyza4maYm9rTRSJigVsqCDNQhHBAogKCEgRMjMMU+7vj93sL8kqClLmnPt6PY+PeXZM9vP9vO8jZ+Y955xMfJLjorBrRMuSgmiViyjN1Ee2oSCyucbIBAAAAAAAAADbXaYgcoWNUZcrirpMbdRsysa69wbF+rggGrf439vSF7seF12aFUTnxvoosGIAAAAAAACAXacgoqEgF++/VRgr4r5o+Kh/pvD//F8uiII+LaPrum/EXzqui2b1ddHGKgEAAAAAAAB2rVxEQWMmWrQtjHZlA6N2w2tR84//zP8pgHu3ib6NBdG+zdqorK6KVUXZaB85j3sGAAAAAAAAaAoaG6OwIBdtyneP2PBabPzbr/1dAdx3VHRtyESHiIhcYzQrLo7WmVzkcjmPgAYAAAAAAABoSgpy0eIfS+D/LYD7fy3abC6Inn/7X2hsjELlLwAAAAAAAEDT9D8lcM1fHwddFBFxyAVR9M686PVp/gfqayKiJiLqLBMAAAAAAABgh8hGRGlEUekn/6PFEb3ikNgQk6O+KCJi6dzoksv83/cB/1X9xoiaJdmoWxlRV1dk2QAAAAAAAAA7QTZbH9muERX96v7n9t7/q6Exinq3i86LI94pjOOisHUu+uYykfmof7h+Y8Sa6aVRt74gGhs9DRoAAAAAAABgZ2lsLIi69QWxeUUmSjs0/vedwR8hk4uydSfE+wVd6qOyMfMx7/mtj9jwUtbjngEAAAAAAAB2obrqolg7IxtR/9Ffb4wo7P5GtCwobRaVH/c/UvNmNuqqPfIZAAAAAAAAYFerqy6KmjezH/v1ktpoVZBr/PgCeMN7yl8AAAAAAACApmJLHW5jUVQWNDSP+Q3ZeLco4i9/+8X6teHRzwAAAAAAAABNSd3/dLn/oLAoqqIuVhXFxhhSGB/xqGjlLwAAAAAAAECTU1eTjaK/KXSLIv7SWB+bc5ko9YxnAAAAAAAAgATJFv393bz1EeV//c8F1gMAAAAAAACQDgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKREkRUAAACwrUpLSwuGDRvWfMCAAS26du3avKysrLiioqKkZcuWzZs1a1bcvHnz0tLS0rJsNtusuLi4ebNmzUoLCgo+8/eijY2N9Zs3b66pra2tqqur21xTU1NdVVVVs2nTptqNGzdWbdiwoeYvf/nL5hUrVlQtWLBgw6xZs6pqamoaJQYAAEDaKYABAACIiIghQ4aUHnTQQW379u3bql27dq3at2/fpkWLFq2bN29eWVpa2qpZs2bNCwsLm2ez2fLCwsLyoqKi8sLCwtKknK+hoaG6vr6+qqGh4S91dXV/aWhoqNq8eXNVTU3NuqqqqvUbNmxYu2rVqjWrV69e99Zbb6177rnnPpgzZ06NTwYAAABJogAGAADIA8OGDWt+xBFHdBwwYECnLl26dGjdunXHFi1adCgtLe1YUlLSvlmzZq0KCgqK07yDwsLCssLCwrKIaPdp/zuNjY21mzdvXrdp06ZVNTU172/YsGHl2rVr31+2bNnKBQsWrHjyySffnzVrVpVPGAAAAE1Fpuexsd9HfaF+ZcSal0ptCAAAIAE6deqUPf744zvtueeeXbp3796lbdu2XSorKzuXlpZ2KS0t7VBYWFhhSztGQ0PDxpqampU1NTXL169fv+yDDz5Y9s477yybPXv2sj/96U8rVqxYUWdLAAAAbE9t9q6Jog4f/TUFMAAAQEJks9nMt7/97Y4jRozo1bdv397t2rXrXl5e3rWsrKxzcXFx+4gosKUmp7G2tnZVTU3Nso0bNy5btWrV0tdff/2tJ598cvG999672noAAADYFgpgAACAhPne977X6a9Fb/v27Xu1bNmyV1lZWa8kvXOXLauvr9/wl7/8ZdG6desWL1u2bNHChQsX/fGPf1w8derUjbYDAADAliiAAQAAmqhsNps59dRTuxx66KH9+/Tp87n27dv3Ly8v719UVOSRzXlq06ZNKzZu3Pj6+++//8abb775xqOPPvrG3XffvcpmAAAA+CsFMAAAQBNx6qmndvniF784qHfv3v3btWv3uYqKis8VFhaW2wxbUl9fv37Dhg1vfPDBB68vXrz4jccee2z+jTfeuNxmAAAA8pMCGAAAYBc45phjWn/rW9/aq3///kPatGnTv6Kiop9HOLO9NDQ0VG/cuPGtNWvWLFy4cOGcO+6445WHHnporc0AAACknwIYAABgJzjjjDO6f+lLX9qrV69eg1u3bj2orKysR0RkbIadJFddXb103bp18xcvXjz30UcffeXqq69+x1oAAADSRwEMAACwnZWWlhb86le/2u3QQw8d1r17931btmw5qLCwsMxmaEoaGhqqP/zww/nvvPPOzGeeeWbW2LFj36ipqWm0GQAAgGRTAAMAAGwHP/7xj7t+9atf3bdXr15D27Ztu1c2m21jKyRJXV3dmg8++OCVRYsWvfznP/95xh/+8IdltgIAAJA8CmAAAIBtcOKJJ7Y75ZRTDujXr9+w1q1bD81ms61shTSpq6tbt3bt2pfffPPNWbfccsvUe++9d7WtAAAANH0KYAAAgE+hoqKi4IILLhg0YsSI/bp27bpfy5YtB2YymUKbIR/kcrmGDz/8cP6777474/nnn59x4YUXvrZx40aPiwYAAGiCFMAAAAAf4/jjj2/7/e9//8D+/fsf2Lp1630KCgpKbAUiGhsbN61fv37eW2+9NeWGG2545u67715lKwAAAE2DAhgAAOB/ZLPZzAUXXPC5I4888sDu3bsfWFFRsVtEFNgMbFl1dfWSd999d8qsWbNmnnvuuS+vW7euwVYAAAB2DQUwAACQ10pLSwsuvfTSQYcccsjBXbt2HVFWVtbDVmDb1dbWrnr//fdfmDp16uRf/vKXL65evbreVgAAAHYeBTAAAJB3Bg0aVHrBBRd8fs899zywQ4cOBxQVFbWwFdj+Ghsba9euXTtrzpw5T59//vmTX3755WpbAQAA2LEUwAAAQF4YNmxY8/POO+/gIUOGHOZ9vrDz/W0ZfNFFFz07a9asKlsBAADY/hTAAABAarVq1arwyiuv3HfEiBEjO3TocFBhYWGZrcCu19DQUP3+++8/O2XKlIk/+clPZm7cuLHRVgAAALYPBTAAAJAqrVq1Kvztb3+7/3777Xd4x44dRxQWFpbbCjRdDQ0NG99///0pM2bMeOqHP/zhC8pgAACAz0YBDAAApMJZZ53V45vf/OaRvXr1GllaWtrVRiB5ampq3l28ePHEO++8c9LVV1/9jo0AAABsPQUwAACQWMOHDy+/6KKLvjB48OCjW7RoMdBGID0+/PDDV+fNmzfhvPPOe3L69Ol/sREAAIBPRwEMAAAkSqtWrQpvuOGGQ/bbb79/atOmzX6ZTCZrK5BeuVyubs2aNTNmzJjx2JgxYyavW7euwVYAAAA+ngIYAABIhB//+Mddv/e9732lZ8+e/1RcXNzWRiD/1NbWfvD2228/dssttzz029/+9l0bAQAA+L8UwAAAQJNVUVFRcO21137+4IMPPrZ169b7ZTKZAlsBIqJxzZo1M59//vnxp5122hR3BQMAAPx/CmAAAKDJOeWUUzqefvrpx/bu3ftL2Wy2jY0AH6e+vn7j0qVLH/vd7373x+uvv36ZjQAAAPlOAQwAADQJ2Ww2c+uttx5wyCGHnNC6deu9I8LdvsDWaFy7du1L06ZN+/OPfvSjZ1evXl1vJQAAQD5SAAMAALtU//79S6655pp/2nPPPY8tLy/vayPAZ1VTU7NswYIF488999wHp06dutFGAACAfKIABgAAdomf//znPU855ZQTu3btemRhYWGZjQDbW2NjY92KFSuevOWWW+689NJLF9kIAACQDxTAAADATuMxz8Cusn79+rlPP/30f5188slT6+rqcjYCAACklQIYAADY4fr27Vv8hz/84a+Pee5nI8CuUlNT8+68efPu/8EPfvDgwoULN9kIAACQNgpgAABghxkyZEjpNddc89XBgwefWFxc3MFGgKaitrZ21dy5c+/5yU9+8uc5c+bU2AgAAJAWWyqAPYoNAADYJqNHj+4wb968n06ZMuXRYcOGnaH8BZqa4uLi9sOGDTtjypQpj86bN++nJ510UntbAQAA0s4dwAAAwFY599xze33/+9//dufOnY/IZDJZGwGSIpfL1S1fvvzJG2644fbLLrvsbRsBAACSyiOgAQCAz+y8887r+53vfOfbHTt2PDyTyRTaCJBUuVyuYcWKFU/cdNNN//XrX/96sY0AAABJowAGAAC22WWXXTboG9/4xg9at249zDaAtFm7du2su++++9pzzjnnNdsAAACSQgEMAABsNcUvkE8UwQAAQJIogAEAgE9N8Qvks7Vr18665557rvv5z38+3zYAAICmaksFcGHlwOj6UV9orIqoWZG1PQAAyBO/+MUvet9xxx3nHHrooT8pLS3tYiNAPiotLe2y7777HvP973+/X1lZ2ZIpU6assxUAAKCpKetcHwXlH/01BTAAAOS5M844o/u99957zpe//OWflZeX94qIjK0AeS5TXl7e8+CDDx71/e9/v3dEvDVjxowPrQUAAGgqFMAAAMD/ceKJJ7a77777fjJq1Kh/KS8v7xOKX4B/lCkvL+99+OGHj/rWt77VfvXq1Qvnz59fbS0AAMCutqUC2DuAAQAgzwwdOrTs+uuvP6l///4nFRYWltkI20NjY2Ns2rQpqquro6amJurr62PTpk2xefPmqK+vj+rq6qivr4/NmzfHpk2boqGhYZv/fxUWFkZJSUk0a9YsioqKoqysLIqKiqJZs2ZRUlISRUVFUVpa+r9/FRQUCIjtoqGhoeq11167a8yYMffMmTOnxkYAAIBdZUvvAFYAAwBAnujUqVP2nnvuGbXXXnudnM1mK22Ej9PQ0BAbN26MDRs2/J+/Nm7cGBs3boyamprYtGlTbNq0KWpqaqK2trbJnqe4uDhKSkqitLT0f/9eUVERFRUV0aJFi//zV0VFRRQWFvog8LHq6urWvvjii7eceOKJf169enW9jQAAADubAhgAAPLcXXfdddAXv/jF00tLS7vZRn7L5XKxYcOGWLt2baxbty7Wrl37d3+tW7cuNmzYkPd7atGiRbRu3TpatWoVrVu3jjZt2vzvf27dunW0aNHCh4morq5e+sgjj1zzne98Z6ptAAAAO5MCGAAA8tTVV189+MQTTzyzoqJioG3kj8bGxli5cmUsX748Pvjgg1i9evX//n3t2rXR2NhoSZ9RYWFhtGrVKtq1axdt27b937937tw5OnTo4LHTeWbDhg3z77333qvOPPPMebYBAADsDApgAADIM1/72tfaXHrppad27979qIjQRKVUQ0NDrFq1KlasWBHvv//+//595cqVTfqRzGlXXFwcHTp0iI4dO0bnzp2jY8eO0alTp2jXrp1HS6dYLpdrfOeddx76+c9/fv2ECRPW2QgAALAjKYABACBP9OrVq9ldd931jT322OM7hYWFZTaSHh9++GG88847sXTp0njvvfdixYoVsXr16mhoaLCchCgsLIz27dtHp06dolu3btG9e/fo3r27x0mnTENDQ9W8efNu++Y3v/nHJUuWbLYRAABgR1AAAwBAHrjrrrtG/NM//dOZJSUlXWwj2davXx9Lly6Nd955539L3w8//NBiUqqysvJ/y+C//tWqVSuLSbiamppljz322G9Gjx49xTYAAIDtTQEMAAAp9qtf/arPD3/4w5+1atVqL9tIno0bN8aSJUvirbfeikWLFsV7770XmzZtspg8V1JSEl27do0+ffpE3759o3fv3lFeXm4xCbRu3bqXr7322ivGjh27yDYAAIDtRQEMAAApNGjQoNI77rjju7vttttJBQUFWRtJhtWrV8ebb74ZixcvjiVLlsTy5cujsbHRYtiigoKC6Ny5c/Tu3Tt69+4d/fr1i7Zt21pMQjQ2Nta98cYbd33rW9+6ff78+TU2AgAAfFYKYAAASJHS0tKCBx988Jj99tvvn7PZbBsbaboaGhri7bffjrfeeisWLFgQS5YscXcv201FRUX06tUr+vbtG3379o2ePXtGYWGhxTRhdXV1a2bMmHHjV77ylYdqamr85gcAALDNFMAAAJASp59+erdf/vKX51ZWVu5jG03T6tWr47XXXouFCxfGm2++GRs3brQUdooWLVpE3759Y8CAATFw4EB3CDdh69evf/E//uM//vPqq69+xzYAAIBtoQAGAICEGzRoUOm99977w969ex+byWTc4teErF+/PubNmxcLFiyIN954Q+FLk9GiRYvo169fDBgwIPbYY4+orKy0lCYkl8s1LF68eNyJJ554rcdCAwAAW0sBDAAACXbNNdcMOemkk35RVlbWyzZ2vVwuF++++27MnTs3XnvttViyZIl3+NLkFRQURK9evWLQoEExePDg6Natm6U0EdXV1UvuvvvuX//kJz+ZYxsAAMCnpQAGAIAEOuqoo1r99re//VmHDh0Ot41da9OmTTF79uyYO3duLFy4MKqqqiyFRGvevHn0798/Bg8eHHvuuWeUlJRYyi62cuXKp04//fTLJ0yYsM42AACAT6IABgCAhBk3btwRRxxxxFnZbLaNbewaVVVVMXfu3Jg7d27Mnz8/amtrLYVUKi4ujoEDB8bgwYNj8ODBUV5ebim7SF1d3ZqnnnrqqlGjRj1hGwAAwJYogAEAICFOOeWUjhdddNEvW7duvZ9t7HwrV66MWbNmxdy5c+Odd96JXC5nKeSdzp07x9577x3Dhg2LDh06WMgusHbt2hnnnXfepbfccsv7tgEAAHwUBTAAADRxpaWlBU899dQ3Bw8e/L2CggLPYt2JVqxYES+99FK89NJLsXz5cguBv/HXMnjvvfeOTp06WchO1NjYuGnu3Lk3H3744XfV1NR40TgAAPB3FMAAANCEjR49usOll176yzZt2gy3jZ1j/fr18eKLL8bMmTNj6dKlFgKfQs+ePWPfffeNYcOGRYsWLSxkJ1mzZs0L55577q/vvvvuVbYBAAD8lQIYAACaoIqKioKJEyd+c/Dgwd8vKCgotpEda8OGDfHiiy/G9OnTlb7wGfXo0SOGDx8ew4YNi4qKCgvZwdwNDAAA/CMFMAAANDGnnHJKx7Fjx/5rZWXlMNvYcerr6+PVV1+NGTNmxLx586Kurs5SYDvKZrMxZMiQ2HfffWP33XePwsJCS9mB1q5dO+MXv/jFv995550rbQMAAPKbAhgAAJqIbDabeeKJJ47fZ599fuSu3x0jl8vFwoULY/r06TF79uzYtGmTpcBOUFpaGkOGDInhw4fHgAEDLGQHaWhoqJ42bdo1Rx555J9tAwAA8pcCGAAAmoDjjz++7ZVXXvmr1q1be9fvDrBmzZqYNm1azJw5M1audHMc7EodO3aMz3/+87H//vt7X/CO+3fetDPPPPOScePGfWAbAACQfxTAAACwi9100037HXvssf9WXFzc1ja2n1wuF6+99lo8//zzMW/evKivr7cUaEKKiopizz33jBEjRsTnPve5yGQylrId1dbWrvrjH/948Q9+8INZtgEAAPlFAQwAALvIkCFDSu+///5zunTp8k+2sf2sXbs2Jk+eHNOnT48PP/zQQiABKisrY8SIEXHIIYdEeXm5hWxHy5Yte+zrX//6f86ZM6fGNgAAID9sqQAurBwYXT/qC41VETUrsrYHAADb6IILLtjt97///VVt2rQZZhvbx+LFi2P8+PFx9913xxtvvBG1tbWWAgmxadOmeOONN+LZZ5+NtWvXRps2bTweejtp0aJFv5NOOumg0tLSuc8+++xaGwEAgPQr61wfBR/zu7XuAAYAgO0sm81mJk2a9PVhw4b9pKCgwG9VfkZ1dXUxY8aMeOaZZ+K9996zEEiRfv36xSGHHBJDhw6NgoICC/mMGhsbN8+YMeOaL37xi+Pq6upyNgIAAOnlEdAAALCTHH/88W2vuuqqCyorK/exjc9mzZo18dRTT8XUqVNj06ZNFgIpVlFREZ///OfjsMMOi8rKSgv5jNavXz/r9NNPv3DcuHEf2AYAAKSTAhgAAHaC22677fNf+9rXzstms5W2se0WLVoUjz/+eMybNy9yOTewQT4pKiqKIUOGxBFHHBG9e/e2kM+grq5u3QMPPHDRySefPM02AAAgfRTAAACwA1VUVBQ8/fTTpwwcOPCUTCbjGabbIJfLxauvvhpPPvlkLFy40EIgz2UymRgwYEAcccQRMWjQIAvZ9n+3Ns6fP/+Www8//JaNGzc22ggAAKTHlgrgwsqB0fWjvtBYFVGzwuvKAABgS0488cR2EyZMuLx79+5fzmQyGRvZOo2NjTFr1qy49dZb48knn4wPPvC0UuC/rV69OmbMmBFz5syJ0tLS6NSpU/jX7NbJZDKZ9u3bD/3+978/dPny5TNfffXValsBAIB0KOtcHwXlH/O9gDuAAQBg29x66637H3vssRcWFRW1sI2tU1NTE0899VQ8++yzsWHDBgsBPlGLFi3i4IMPjsMPPzxKS/28YmvV19d/OG7cuPNPPvnk6bYBAADJ5xHQAACwHWWz2cyzzz77rSFDhvzAI5+3zqZNm2Ly5Mnx1FNPKX6BbdKiRYs47LDD4pBDDlEEb6VcLtfwyiuvXHfooYfeWVdX5yXrAACQYApgAADYTo455pjW11133cWVlZV728ant2HDhnj88cdjypQpUVtbayHAZ1ZcXBwHHnhgfPGLX4wWLTyIYWusWbNm2re//e3zn3nmGb+JAwAACeUdwAAAsB1cfvnlu1900UW/LS8v72cbn05VVVVMmDAhbrnllnjzzTejoaHBUoDtoqGhIZYsWRLPPfdc1NTURI8ePSKb9XOMT6OsrKzb17/+9SPbtm0774knnlhtIwAAkMDreu8ABgCAz+bhhx/+8qGHHnpOQUFBsW18sk2bNsUzzzwTTzzxRFRVVVkIsMOVl5fHkUceGYccckgUF/tX9afR2Ni46emnn/71Mccc87htAABAsngENAAAbKN27doVTZ48+YxevXodZxufrK6uLp5++umYOHGi4hfYJSoqKuKLX/xiHHzwwe4I/pQWLVr0x4MOOuiadevWeUwDAAAkhEdAAwDANjj22GPbPvzww7/p2LHjobaxZXV1dfHkk0/GddddF3Pnzo26ujpLAXaJzZs3x2uvvRbPPfdcRET06NEjCgsLLWYLWrduvfv3vve9fd9+++1pCxYsqLYRAABo+rb0CGgFMAAAfITLL7989wsuuOB3zZs372UbH6+xsTGmTJkS119/fbzyyiuKX6DJ2Lx5cyxYsCCmT58excXF0a1bt8hkMhbzMUpKSjp8+ctfPrJt27ZzvBcYAACaPu8ABgCArTB+/Pgjv/CFL/xLQUFBiW18vAULFsT48eNj6dKllgE0eT169IivfOUrMWjQIMvYgsbGxpqJEydecuyxxz5pGwAA0HR5BzAAAHwK7dq1K3ruued+1qNHj6/axsdbtGhR3H///bF48WLLABKnV69ecdxxx0WfPn0sYwuWLl3654MOOujy1atX19sGAAA0Pd4BDAAAn2DYsGHNn3766V936tTpC7bx0TZs2BD33Xdf/PGPf4y1a9daCJBI69evj2nTpsW6deuiZ8+eUVLiYQ8fpbKysv+3v/3t/lOmTJmyfPlyz/cHAIAmxjuAAQBgC372s5/1uP76669t0aKF54J+hJqamhg/fnzcfPPN8fbbb0cul7MUINFyuVy888478cwzz0RVVVX07t07slk/A/lHZWVl3U488cTD6+rqZkyfPv1DGwEAgCZ0va4ABgCAj3bFFVfscdZZZ11dXFzcwTb+Xi6XixkzZsR1110XCxYsiMbGRksBUqWxsTGWLFkSM2bMiPLy8ujSpUtkMhmL+RvZbLbFQQcddHibNm1mP/HEE6ttBAAAmoYtFcDeAQwAQN6aNGnSqAMOOODsTCZTaBt/b9GiRXHPPffEu+++axlA3ujWrVucdNJJ0bt3b8v4B7lcrm7y5Mm//vKXv/yIbQAAwK63pXcAK4ABAMg7paWlBTNnzjyzT58+x9vG39uwYUOMGzcuZsyY4VHPQF7KZDKx3377xde//vWoqKiwkH+waNGiP+27775X1dTUeCwEAADsQgpgAAD4H926dctOnjz5V506dRppG/9fLpeLqVOnxp///OfYuHGjhQB5r6KiIkaNGhX777+/x0L/g+XLlz9+6KGHXvLuu+/W2QYAAOwaWyqAvQMYAIC8MXz48PInnnjiynbt2o2wjf/vnXfeiWuvvTaee+652Lx5s4UARMTmzZtjzpw58dprr0XPnj2jRYsWlvI/Kioq+n7rW98aMnXq1Ofee+89f3AAAMAusKV3ACuAAQDIC9/+9rc73n777X9o0aLFANv4b1VVVXHXXXfFvffeG+vXr7cQgI+wbt26eP7552P9+vWx2267RVFRkaVERElJSefjjjvuoA8++GDKK6+88hcbAQCAnUsBDABAXjv//PP7XXzxxX8oKSnpbBv/bfr06XHttdfGokWLLAPgU3jnnXdi2rRp0bp16+jc2R8nERHZbLbyC1/4whElJSUvTp48eY2NAADAzqMABgAgb/3ud7/b60c/+tFVRUVFrWwjYs2aNXHzzTfHpEmTora21kIAtkJtbW289NJL8c4770Tfvn2jtLQ073dSWFhYNnz48C/26dNn4UMPPbTMpwQAAHYOBTAAAHnp1ltv3f+b3/zmfxYWFjbP913kcrl4/vnn4/rrr4/ly5f7cAB8BitXroxp06ZFRUVFdOvWLTKZTF7vo6CgIDto0KBDBw0atOiBBx54xycEAAB2vC0VwJmex8Z+H/WF+pURa17ym6wAACTTww8//KXDDjvsXzKZTN6/rPGDDz6I22+/Pd544w0fDIDtbMCAAfGtb30r2rRpk/e7yOVyjVOmTPn1yJEjH/LJAACAHavN3jVR1OGjv6YABgAgdV555ZXTPve5z30r3/fQ0NAQjz32WDz++ONRV1fngwGwg2Sz2Tj66KPjC1/4QhQUFOT9Pl5//fU79tprr9/7ZAAAwI6jAAYAIC9ks9nMyy+/fFafPn2Oz/ddvPvuu3HbbbfFe++954MBsJN069YtvvOd70S3bt3yfhdLliy5f5999rmypqam0ScDAAC2PwUwAACpV1paWjBr1qyzevfufVw+7yGXy8WTTz4ZDz74oLt+AXaBbDYbxxxzTBxxxBF5fzfw0qVLHxg6dOjlSmAAANj+FMAAAKRar169mk2ePHlsu3btDsrnPaxcuTJuueWWePvtt30oAHaxnj17ximnnBIdOnTI6z2sXr16yiGHHPIvS5Ys2exTAQAA28+WCuDCyoHR9aO+0FgVUbMia3sAADRpQ4cOLXvqqacub9Omzf75uoNcLhfPPPNMXH/99bF27VofCoAmYP369TFlypQoKSmJnj17RiaTycs9NG/evPtJJ500ZPLkyc+sWLHCoykAAGA7KetcHwXlH/01BTAAAIk1ZMiQ0kceeeSKVq1a7Z2vO6iuro7bb789nnjiiWhs9IRNgKaksbEx5s+fH++//34MGDAgstn8/DlLaWlpp6997WuDn3rqqadXrlxZ75MBAACfnQIYAIDUOfTQQ1s8+OCDv2/ZsuUe+bqDOXPmxNVXX+2RzwBN3PLly+OFF16Ijh075u0joUtLSzudcMIJ+7/00ktPv/3227U+FQAA8NkogAEASJVhw4Y1v++++37TsmXLQfl4/vr6+hg/fnz88Y9/jNpaP0MHSILNmzfHiy++GJs3b47ddtstCgoK8m4HxcXFbY866qg9n3vuuaeXL1/ucdAAAPAZKIABAEiNI488snLcuHG/b9GixcB8PP97770XV111VcyZM8eHASCBFi1aFC+//HL069cvWrRokXfnLykp6XDcccftP2fOnGcWLVq0yScCAAC2jQIYAIBUOPLIIyvvvPPO35aXl++Wj+d/+umn48Ybb4wPP/zQhwEgwf7yl7/ECy+8ECUlJdGrV6+8O3+zZs3aHHXUUfspgQEAYNspgAEASLxjjz227W233faH5s2b98m3s1dVVcXNN98cTz31VDQ2NvowAKRAY2NjzJ8/P5YtWxYDBgyIZs2a5dX5mzVr1uaYY4458M0333xm4cKFNT4RAACwdRTAAAAk2qGHHtritttuuzofy9+33347rrnmmli8eLEPAkAKvf/++/HKK69Enz59orKyMq/Ons1mK4888sh9Zs6c+dTSpUs3+zQAAMCnpwAGACCxjjjiiJb33nvvteXl5f3y6dy5XC4mTZoUN998c1RVVfkgAKRYVVVVTJ06NbLZbPTp0ycymUzenL24uLjtV7/61c+/8sorTy1evLjWpwEAAD4dBTAAAIl06KGHtrj33nt/l2/lb3V1ddx0000xefLkyOVyPggAeSCXy8WCBQvi3Xffjd133z2y2fz5mUyzZs1aH3300fvNmDHjSXcCAwDAp6MABgAgcYYOHVo2fvz4qysqKgbk07mXLVsWV111lUc+A+SplStXxiuvvBKf+9znoqKiIm/O3axZszZHH3300GeeeebJFStW1PkkAADAlimAAQBIlCFDhpQ++uij17Rs2XL3fDr31KlT49prr42NGzf6EADksaqqqpg+fXq0bds2unTpkjfnLikpaT9q1KihTz755JMrV66s90kAAICPt6UCuMB6AABoSjp16pSdMGHCv1dWVu6RL2dubGyMcePGxR133BF1dW56AiCitrY2br755hg/fnw0NjbmzbkrKyv3mDBhwr9369bNXQkAALCNFMAAADQZrVq1Kpw+ffolbdq02T9fzlxdXR2/+93vYtKkSd73C8DfyeVy8fjjj8fvf//7qK6uzptzt2nTZv8pU6Zc0qpVq0KfAgAA2HoKYAAAmoSKioqC2bNnX9KuXbuD8uXMS5cujYsuuijmz5/vAwDAx3r11VfjoosuiqVLl+bNmdu1a3fQ7Nmz/72iosLPrgAAYCu5iAYAoEmYOXPmz9q1a3dIvpz35ZdfjiuuuCLWrVsnfAA+0bp16+KKK66Il19+OW/O3K5du4Nnzpz5M+kDAMDWUQADALDLvfjii2N69OgxKh/Omsvl4oEHHogbbrghamtrhQ/Ap1ZbWxs33HBDPPDAA3nz2oAePXqMevHFF8dIHwAAPj0FMAAAu9SkSZO+NnDgwFPy4ax1dXVx8803x8SJE73vF4BtksvlYuLEiXHLLbdEXV1dXpx54MCBJ0+aNOlr0gcAgE9HAQwAwC7z6KOPHnXggQeekw9nXbduXfz617+OWbNmCR6Az2zmzJnx61//Ol9eJZA58MADz3n00UePkjwAAHyywsqB0fWjvtBYFVGzImtDAADsEDfeeOO+Rx999EWZTKYw7Wddvnx5XHXVVbFy5UrBA7DdbNiwIWbPnh0DBw6MioqKtB8307179/179uz56sMPP7xc+gAA5LuyzvVRUP7RX1MAAwCw011xxRV7fPe7372qoKCgWdrPOmfOnPjtb38bGzduFDwA2111dXVMmzYtOnfuHB07dkz1WTOZTOHuu+9+eJs2bV6aNGnSKukDAJDPFMAAADQZZ5xxRvef/exnvy0sLCxP+1knTJgQd999d9TX1wsegB2moaEhXnrppchms9G3b99UnzWTyRTttddeB/3lL395dubMmRukDwBAvlIAAwDQJBx00EEVf/jDH64pLi7ulOZz5nK5eOCBB+Kxxx4TOgA77c+eBQsWRF1dXfTv3z8ymUxqz1pQUFBywAEHDJs+ffqkpUuXbpY+AAD5aEsFcIH1AACwMwwaNKj0vvvuu7qsrKxXms9ZV1cX1113XUyaNEnoAOx0EydOjOuvvz7q6upSfc6ysrJef/rTn67u379/idQBAODvKYABANjhKioqCh577LGLKyoqBqb5nNXV1XHNNdfE7NmzhQ7ALvPKK6/ElVdeGVVVVak+Z4sWLQZOnDhxbEVFhZ9vAQDA33CBDADADjdz5syftW3b9sA0n3HdunVx2WWXxRtvvCFwAHa5xYsXx2WXXRZr165N9TnbtWt34MyZM38mcQAA+P8UwAAA7FBPPvnkqB49eoxK8xlXrVoVV1xxRSxfvlzgADQZK1asiCuuuCJWrlyZ6nP26NFj1KRJk0ZJHAAA/lth5cDo+lFfaKyKqFmRtSEAALbZjTfeuO+XvvSlCzOZTGp/8fDdd9+NK6+8MtatWydwAJqc6urqmDVrVvTv3z8qKytTe85u3boN79mz57yHH37Yb2MBAJAXyjrXR0H5R39NAQwAwA5x3nnn9T311FOvLigoKE7rGV977bW45pprorq6WuAANFmbN2+OGTNmRI8ePaJ9+/apPGMmkykYNGjQIYWFhVOee+45v5UFAEDqKYABANipjjrqqFb/8R//8YdmzZq1SusZX3755bj++uujrq5O4AA0eQ0NDfHSSy9Fp06dolOnTqk8Y0FBQXbYsGGfnz9//qQ33nhjk9QBAEizLRXA3gEMAMB21a1bt+wNN9zwnyUlJR3TesYpU6bEjTfeGPX19QIHIDHq6+vjxhtvjKlTp6b2jCUlJZ1uuOGG/+jWrZu7GgAAyFsKYAAAtqunn376XyorK/dI6/kmTZoUd955ZzQ2NgobgMRpbGyMO+64I5588snUnrGysnLw008//UtpAwCQrxTAAABsN88///w3unTp8k9pPd/EiRNj3LhxkcvlhA1AYuVyubj//vtTXQJ36dLlS88+++yJ0gYAIB95BzAAANvFTTfdNPzII488L5PJZNJ4vsceeyzGjx8vaABS47XXXotmzZpF3759U3m+zp0779urV695Dz/88DJpAwCQNlt6B7ACGACAz+wXv/hF7x/+8IdXFxQUNEvj+R544IF45JFHBA1A6ixYsCDq6upiwIABqTtbJpPJDBo06ODGxsbnpk6dul7aAACkiQIYAIAd5oADDqj43e9+99tmzZq1TeP5xo0bF5MmTRI0AKm1aNGi2Lx5cwwcODB1ZysoKMjut99+w5577rnH33vvvc3SBgAgLbZUAHsHMAAA2yybzWbuvPPOfyktLe2exvNNmDBB+QtAXpg0aVI89NBDqTxbaWlpj3vuuedfstlsRtIAAOQDBTAAANvs+eef/06HDh0OTePZHn744Xj44YeFDEDeeOSRR+LPf/5zKs/WoUOHw5599tlvSxkAgHygAAYAYJvcd999hw8ePPjUNJ7t/vvvjwkTJggZgLzz2GOPxX333ZfKs+25554/+NOf/nSYlAEASDvvAAYAYKudccYZ3ceMGXN5QUFBcdrONnHixHjkkUeEDEDeWrx4cWSz2ejbt2/ajpbp06fPvn/5y18mz5w5c4OkAQBIsi29A1gBDADAVhk2bFjzG2+88Q/NmjVrl7azPfroo6l99CUAbI2FCxdGUVFR9OvXL1XnKigoKD7wwAP3e/LJJx9dsWJFnaQBAEiqLRXAHgENAMBWuffee39ZWlraPW3nevzxx+PBBx8UMAD8jz//+c8xceLE1J2rtLS0x3333fdLCQMAkFYKYAAAPrVJkyaN6tSp0xEpPFeMHz9ewADwD8aPHx+TJ09O3bk6der0hUmTJn1VwgAApJFHQAMA8Kmcd955fU888cR/z2QyRWk618yZM+Puu+8WMAB8jNdeey06duwYnTt3TtW5unbtuk9BQcHzzz333DopAwCQNN4BDADAZ3LEEUe0vOKKK67NZrOVaTrXyy+/HDfffHPkcjkhA8DHyOVyMXv27OjSpUt06tQpNefKZDJF++yzz/CpU6c+9u67726WNAAASeIdwAAAbLNsNpu55ZZb/q2kpKRjms61YMGCuPnmm6OxsVHIAPAJGhsb4+abb44333wzVecqLS3tcvfdd5+fzWYzUgYAIC0UwAAAbNGkSZO+3rZt2wPTdKZly5bFDTfcEPX19QIGgE+prq4urr322li+fHmqztWuXbsDH3/88VESBgAgLTwCGgCAj3XZZZcN+upXvzo2k8mk5hcH33///bjyyiujqqpKwACwlerq6uLll1+OIUOGRHl5eWrO1aVLl31LS0unPvPMM2ukDABAEngENAAAW61///4lJ5988q8ymUxRWs60YcOG+P3vfx8bN24UMABso40bN8bvfve7VP15WlBQkP3hD394ft++fYslDABA4q9vrQAAgI/y4IMPnl1WVtYrLeeprq6O3/zmN7Fq1SrhAsBntGrVqrjyyiujuro6NWcqKyvr8/DDD58lXQAAkk4BDADA/zF+/Pgju3XrdnRazlNfX5/KdxYCwK60fPnyuO6666K+vj41Z+rRo8dXx40bd4R0AQBIMgUwAAB/53vf+16nI4444py0nCeXy8Vtt90Wb7zxhnABYDt7/fXX47bbbotcLpeaMx155JHnfvvb3+4oXQAAkkoBDADA/6qoqCi4+OKLLywsLCxPy5nGjx8fs2bNEi4A7CCzZs2Khx56KDXnKSwsrPj1r399QUVFhZ+bAQCQSC5kAQD4XxMnThxdWVk5OC3nef7552PixImCBYAd7LHHHosXXnghNeeprKzc89FHHz1RsgAAJFFh5cDo+lFfaKyKqFmRtSEAgDxxwQUX7DZq1KgLM5lMYRrO8+qrr8Ytt9ySqkdSAkBT/7O3d+/e0a5du1Scp2PHjkNzudxzU6ZMWSddAACamrLO9VHwMc/wcwcwAADRt2/f4h//+McXZzKZVPwG4HvvvRc33HBDNDY2ChcAdpKGhoa47rrrYtmyZak4T0FBQfbss88e27dv32LpAgCQqGtZKwAAYPz48T8qKyvrkYazbNiwIX7/+99HbW2tYAFgJ9u0aVP8/ve/j40bN6biPGVlZb3GjRs3RrIAACSJAhgAIM/ddNNNw/v06XN8Gs5SX18f1157baxdu1awALCLrFmzJq699tqor69PxXn69ev3jd///vdDJQsAQFIogAEA8thBBx1Uceyxx/5rRGTScJ477rgjFi9eLFgA2MUWLVoUd955Z1qOU/CNb3zj34YNG9ZcsgAAJOIC1goAAPLXzTfffFZxcXG7NJxl4sSJMX36dKECQBMxbdq0mDRpUirOUlJS0unOO+88Q6oAACSBAhgAIE/913/914FdunT5UhrO8tprr8Wf//xnoQJAEzN+/PhYsGBBKs7SrVu3o2+66abhUgUAoKlTAAMA5KEvfelLlV/5yld+lYazrFixIq6//vpobGwULAA0MY2NjXHdddfFihUr0nCczHHHHfergw46qEKyAAA0ZQpgAIA8dPXVV5+ezWYrk36OmpqauPbaa2PTpk1CBYAmatOmTXHttddGTU1N4s+SzWbb3njjjT+RKgAATZkCGAAgz9x6663Du3Tp8uWknyOXy8Utt9wSK1euFCoANHErV66MW2+9NXK5XOLP4lHQAAA0dQpgAIA8MnTo0LKvfvWrv0jDWSZMmBBz584VKgAkxJw5c+Kxxx5LxVlGjRr1i6FDh5ZJFQCApkgBDACQR+64444fFRcXd0z6OV5++eV45JFHBAoACfPQQw+l4he4SkpKOt5xxx0/lCgAAE2RAhgAIE9cfvnlu/fs2XNU0s/xwQcfxB133JGKR0gCQL7J5XJx2223xZo1axJ/lp49ex57+eWX7y5VAACaGgUwAEAe6NatW/a73/3uv2YymURf/9XX18cNN9wQ1dXVQgWAhKqqqoobb7wx6uvrE32OTCZT8N3vfvdX3bp1y0oVAICmRAEMAJAHxo8ff0pZWVmvpJ/jnnvuiaVLlwoUABJuyZIlcd999yX+HGVlZT3Hjx9/ikQBAGhKFMAAACn385//vOeAAQNGJ/0c06dPjylTpggUAFJi8uTJMWPGjMSfY8CAAaN//vOf95QoAABNhQIYACDFstls5qyzzjo3k8kk+tGEK1asiLvvvlugAJAyd911V6xYsSLRZ8hkMtmzzjrr3Gw2m5EoAABNgQIYACDFxo0b98XKysq9knyG2trauOGGG6K2tlagAJAyf/1zfvPmzYk+R2Vl5V7jxo0bKVEAAJoCBTAAQEoNHz68/OCDDz4t6ee4//77Y/ny5QIFgJRavnx5jBs3LvHnGDFixI+HDRvWXKIAAOxqCmAAgJS69dZbT8tms22TfIYZM2bEc889J0wASLnJkyfHzJkzE32G4uLitrfffvtp0gQAYFdTAAMApNBVV121R48ePb6S5DOsXLky7rrrLmECQJ64++6744MPPkj0GXr27PnVK664Yg9pAgCwKymAAQBSprS0tOAb3/jGT5N8rdfY2Bi333679/4CQB6pqamJ2267LRobG5N8jIJvfvObZ5aWlvqZGwAAu+6i1AoAANJlwoQJX6uoqBiQ5DOMHz8+Fi1aJEwAyDNvvvlmPPjgg4k+Q4sWLQY9+OCDx0gTAIBdRQEMAJAiRx55ZOWwYcN+kOQzzJ07N5544glhAkCemjhxYixYsCDRZxg+fPiPjjjiiJbSBABgV1AAAwCkyBVXXHFyUVFRRVLnr6qqijvvvDNyuZwwASBP5XK5uP3226O6ujqxZygqKmrxm9/85mRpAgCwKyiAAQBS4vzzz+/Xu3fv45J8httvvz0+/PBDYQJAnlu3bl3cfvvtiT5D7969jz///PP7SRMAgJ1NAQwAkALZbDZz6qmn/jyTyST2+m769OkxZ84cYQIAERExe/bsmDFjRmLnz2QyBaeeeurPs9lsRpoAAOxMCmAAgBT44x//eERlZeXgpM6/du3auPfeewUJAPyde+65J9atW5fY+SsrKwf/6U9/+oIkAQDYmRTAAAAJ17dv3+JDDjnkR0k+w9133x01NTXCBAD+Tk1NTdx9992JPsPBBx/8o759+xZLEwCAnUUBDACQcHfdddc3S0pKOiV1/smTJ8e8efMECQB8pLlz58azzz6b2PlLSko63nPPPd+SJAAAO4sCGAAgwb70pS9VDhw48KSkzr9mzZoYP368IAGALXrggQdizZo1iZ2/f//+Jx111FGtJAkAwM6gAAYASLArrrji1MLCwvIkzp7L5eK2226LTZs2CRIA2KJNmzbFbbfdFrlcLpHzFxYWll1++eU/kCQAADuDAhgAIKF+8Ytf9O7evftXkjr/s88+G2+88YYgAYBP5Y033ojnn38+sfN369bt6F/96ld9JAkAwI6mAAYASKgf/vCHP8pkMom8nvvggw/igQceECIAsFXGjRsX69atS+TsmUym4NRTT/2xFAEA2NEUwAAACXTdddcNa9eu3YFJnD2Xy8Udd9wRtbW1ggQAtsqmTZvizjvvTOz8bdq02f+mm27aT5IAAOxICmAAgIQpLS0t+NrXvnZ6Uud/4YUXYuHChYIEALbJq6++GjNmzEjs/Mccc8zpFRUVfiYHAMAO42ITACBhbr/99oMrKip2S+LsGzZsiHHjxgkRAPhM7r///qiqqkrk7OXl5X3/67/+6wgpAgCwoyiAAQASpKKiouCwww47Nanz33vvvYn9YS0A0HRs2LAh7r///sTOf9BBB/1zq1atCiUJAMCOoAAGAEiQ+++//+iysrKeSZx9zpw58dJLLwkRANguXnjhhViwYEEiZy8tLe32xz/+8StSBABgR1AAAwAkRN++fYv33Xfff07i7LW1tXHvvfcKEQDYru6+++6oq6tL5Oz77bffKf379y+RIgAA25sCGAAgIW6++eZRxcXFbZM4+yOPPBJr164VIgCwXa1atSoee+yxRM6ezWbb3njjjV+TIgAA25sCGAAgAYYOHVq21157fSeJs7/33nvxxBNPCBEA2CEmTpwYK1asSOTsQ4YM+c7QoUPLpAgAwPakAAYASIBrr732xKKiosqkzZ3L5eKee+6JxsZGIQIAO0R9fX3cddddkcvlEjd7UVFR5bXXXnuCFAEA2J4UwAAATdwBBxxQMWDAgG8kcfYZM2bEW2+9JUQAYId6880348UXX0zk7AMGDPjG8OHDy6UIAMD2ogAGAGjirrrqqhOKiooqkjb3pk2b4oEHHhAgALBT3H///VFbW5u4uYuKilpcffXV7gIGAGC7UQADADRhBx10UEX//v0Teffvww8/HB9++KEQAYCdYv369TFhwoREzj5w4MBvHHDAARVSBABge1AAAwA0Yf/5n/95bGFhYfOkzb1q1aqYPHmyAAGAnerpp5+O1atXJ27uwsLC8ssuu2yUBAEA2B4UwAAATdQBBxxQMWjQoNFJnP3uu++O+vp6IQIAO1V9fX3cddddiZx99913/+bQoUPLpAgAwGelAAYAaKIuv/zyYwsLC8uTNvfcuXNjwYIFAgQAdokFCxbE3LlzEzd3UVFRi9/97ndflyAAAJ+VAhgAoAkaOnRo2aBBgxL37t+6urr405/+JEAAYJf605/+FHV1dYmbe/fdd//mkCFDSiUIAMBnoQAGAGiCfvOb33ylqKioZdLmfu655xL53j0AIF1Wr14dzz33XOLmLioqann11VcfLUEAAD4LBTAAQBPTq1evZoMHD/5m0uaurq6ORx55RIAAQJPwyCOPRHV1deLmHjJkyLe6deuWlSAAANtKAQwA0MTcdNNNxxQXF7dN2twTJkyIqqoqAQIATUJVVVUifzmtuLi43a233uouYAAAtpkCGACgCWnVqlXhXnvtdVLS5l61alU8++yzAgQAmpTJkyfHqlWrEjf30KFDR7dq1apQggAAbAsFMABAE3LLLbccXlJS0jlpcz/44INRX18vQACgSamvr48HH3wwcXOXlJR0vummmw6VIAAA20IBDADQRGSz2cwBBxzw7aTNvWjRonjppZcECAA0SS+99FIsXrw4cXOPGDHiO9lsNiNBAAC2lgIYAKCJuOaaa/YuLy/vm7S5H3roocjlcgIEAJqkXC6XyLuAy8vL+1111VV7SRAAgK2lAAYAaCK+8pWvfDdpM8+bNy8WLlwoPACgSVu4cGG8+uqrrg8BAMgLCmAAgCbgsssuG1RZWblPkmbO5XIxfvx44QEAifDAAw8k7qklrVu33veSSy7pLz0AALaGAhgAoAkYNWrUCUmbefbs2bFs2TLhAQCJsGzZsnjllVcSN/cJJ5xwovQAANgaCmAAgF3sn//5nzt37NjxiCTN3NjYGA888IDwAIBEGT9+fDQ0NCRq5k6dOn1h9OjRHaQHAMCnpQAGANjFfvSjH30tk8kk6rps2rRpsWrVKuEBAImyatWqeOGFFxI1cyaTKfzpT386SnoAAHxaCmAAgF1o0KBBpX369Plqkmaur6+PCRMmCA8ASKQJEyZEXV1dombu27fvV/r27VssPQAAPg0FMADALnTZZZcdXlRUVJGkmadOnRpr164VHgCQSOvXr48pU6YkauaioqLK3/zmN0dIDwCAT0MBDACwi2Sz2cy+++57UpJmrqurc/cvAJB4jz76aOLuAt5///1PymazGekBAPBJFMAAALvI1VdfPbSsrKx3kmaeMmVKbNiwQXgAQKJt2LAhnn/++UTNXFZW1ueqq67aS3oAAHwSBTAAwC7y5S9/+bgkzVtfXx8TJ04UHACQCo8//nji7gL+0pe+dLzkAAD4JApgAIBdYPTo0R3atm07IkkzT5s2LdatWyc8ACAVPvzww5g+fXqiZm7fvv2I0aNHd5AeAABbogAGANgFfvrTn47KZDKFSZm3vr4+HnnkEcEBAKnyyCOPRH19fWLmzWQyhT/96U+/JjkAALZEAQwAsJN16tQp26dPn6OTNLO7fwGANFq3bl1MmzYtUTP36dPnmE6dOmWlBwDAx1EAAwDsZFddddUB2Wy2dVLmbWxsjEmTJgmOVOvYsWN06OCJmgD5aNKkSdHY2JiYebPZbOurrrrqAMkBAPBxFMAAADvZiBEjvp6keV988cVYtWqV4Ei1Ll26xIUXXhinnXZadO3a1UIA8siqVavipZdecj0JAEBqKIABAHaiM844o3tlZeXeSZk3l8vFxIkTBUdeyGQyMXjw4PjVr34VY8aMcUcwQB55/PHHI5fLJWbeysrKvc8444zukgMA4KMogAEAdqJTTjnlqxGRScq8CxYsiPfee09w5JVMJhN77713XHjhhTFmzJho3769pQCk3HvvvRcLFy5M1B9X/3NdCQAA/4cCGABgJ+nVq1ezXr16fTlJM3v3L/nsr0XwBRdcECeffHK0bdvWUgBSLGnXPb169fpyr169mkkOAIB/pAAGANhJrrjiioOLiopaJmXeBN4JAztEYWFhDB8+PC688MIYPXp0VFZWWgpACi1YsCCWLVuWmHmLiopaXnnllYdIDgCAf6QABgDYSYYPH/6VJM2btHfhwY5WVFQUI0aMiEsuuSRGjx4dLVu2tBSAFMnlcvH4448naub99tvvK5IDAOAfKYABAHaC0aNHd6isrByalHnXrl0bL7/8suDgI/y1CL744ovjhBNOiBYtWlgKQEq89NJLsW7dusTMW1lZudfo0aM7SA4AgL+lAAYA2AlOP/30o5J07fXMM89EQ0OD4GALiouL47DDDouxY8fGqFGjoqyszFIAEq6hoSGeeeaZJI1c8D/XmQAA8P8vEq0AAGDHymazmX79+n05KfPW1tbGlClTBAefUnFxcYwcOTIuvfTSGDVqVJSWlloKQII9//zzUVtbm5h5+/Xr9+VsNpuRHAAAf6UABgDYwX7zm9/sWVJS0jkp886YMSOqq6sFB1uppKQkRo4cGZdcckkcffTRUVJSYikACVRdXR0zZ85M0p8/na+44orBkgMA4K8UwAAAO9gXvvCFLyVl1lwuF08//bTQ4DNo3rx5HHXUUXHJJZfEyJEjI5vNWgpAwjz11FORy+USM++RRx75ZakBAPBXCmAAgB1oyJAhpZ07dz4iKfO+/vrrsWLFCsHBdlBeXh6jRo2KSy+9VBEMkDArVqyI119/PTHzdunS5fD+/ft79AQAABGhAAYA2KHGjh17aGFhYWJeCOruX9j+KioqYtSoUXHxxRfH4YcfHkVFRZYC4LpouyosLGz+H//xHwdLDQCACAUwAMAOteeeex6ZlFnXrl0b8+bNExrsIK1atYrjjz8+LrroohgxYkQUFPh2DKApmzdvXqxZsyYx8+61115HSg0AgAgFMADADnPMMce0bt269b5Jmfe5556LxsZGwcEO1qZNmxg9enRcfPHFimCAJqyxsTGee+65JP35MvyYY45pLTkAAPykAQBgBznzzDMPz2Qyibjeqq+vj6lTpwoNdqK2bdvG6NGj47zzzovhw4crggGaoBdeeCHq6+sTMWsmkyk844wzDpUaAAB+wgAAsIP079//C0mZdc6cObFhwwahwS7QqVOnOPnkk+Pf/u3fYu+9945MJmMpAE3Ehg0bYvbs2YmZd8CAAR4DDQCAAhgAYEf43ve+16mysnKPpMybpMcbQlp17tw5xowZE7/61a8UwQBNyPPPP5+YWSsrKwd/73vf6yQ1AID8pgAGANgBTj755CMiIhHtzcqVK+P1118XGjQRXbt2jTFjxsQ555wTgwcPthCAXez111+PlStXJmXczMknn3y41AAA8psCGABgB+jXr19iHv88ZcqUyOVyQoMmpnfv3nHaaafFOeecE/3797cQgF0kl8vFlClTknQd6jHQAAB5TgEMALCdnX766d0qKip2S8Ks9fX1MW3aNKFBE9anT58466yz4pxzzonddtvNQgB2gWnTpkV9fX0iZq2oqNjt9NNP7yY1AID8pQAGANjORo8efURSZp03b15s3LhRaJAAffr0ibPPPjvOPPPM6Nmzp4UA7EQbN26MefPmuR4FACARFMAAANtZr169EvPetSQ9zhD4bwMGDIhf/vKXceaZZ0b37t0tBGAnmTp1apKuRw+TGABA/lIAAwBsR2eccUb38vLyvkmYdf369fHaa68JDRJqwIAB8S//8i9x2mmnRbdunvQJsKPNnz8/Pvzww0TMWl5e3u9HP/pRF6kBAOQnBTAAwHZ03HHHHZSUWWfMmBGNjY1CgwTLZDIxePDg+Nd//dcYM2ZMdOjQwVIAdpDGxsaYMWNGYub9xje+cYjUAADykwIYAGA76tOnz8FJmDOXyyXqMYbAlmUymdh7773jwgsvjDFjxkT79u0tBWAHeOGFF5J0XXqIxAAA8pMCGABgOznppJPat2zZcvckzLpkyZJYuXKl0CBl/loEX3DBBXHyySdH27ZtLQVgO1qxYkW8/fbbiZi1srJy0PHHH+8PAgCAPKQABgDYTr773e8eGBGZJMyapMcXAluvsLAwhg8fHhdeeGGMHj06KisrLQVgO5k+fXpSRi34/ve/f6DEAADyjwIYAGA72X333Q9Nwpz19fUxc+ZMgUEeKCoqihEjRsQll1wSo0ePjpYtW1oKwGc0c+bMqK+vT8SsAwcOPFRiAAD5RwEMALAdHHTQQRUtW7bcKwmzLly4MKqrq4UGeeSvRfDFF18cJ5xwQrRo0cJSALZRVVVVvP7664mYtVWrVkOHDx9eLjUAgPyiAAYA2A7OPvvsz2cymaIkzOrxz5C/iouL47DDDouxY8fGqFGjoqyszFIAtkFSnqaSyWSy55577uclBgCQXxTAAADbwe67735AEuasra2NOXPmCAzyXHFxcYwcOTIuvfRSRTDANpg9e3bU1dUlYtY99tjjAIkBAOQXBTAAwGfUqlWrwnbt2u2fhFnnzZsXtbW1QgMiIqKkpCRGjhwZY8eOjaOPPjpKSkosBeBT2LRpU8ybNy8Rs7Zv337/iooKPwMEAMgjLv4AAD6jCy+8cPeioqKKJMz64osvCgz4P5o3bx5HHXVUXHLJJTFy5MjIZrOWAvAJZs2alYg5i4qKWlx88cWDJAYAkD8UwAAAn9GBBx6YiMfqVVdXJ+ZOFWDXKC8vj1GjRsWll16qCAb4BPPmzYuamppEzHrQQQd5DDQAQB5RAAMAfEZdu3YdnoQ5582bF/X19QIDPlFFRUWMGjUqLr744jj88MOjqKjIUgD+QV1dXbz66quJmLVLly77SwwAIH8ogAEAPoNTTjmlY3l5+W5JmPXll18WGLBVWrVqFccff3xcdNFFMWLEiCgo8C0kwN966aWXEjFnRUXFbieddFJ7iQEA5AffvQMAfAYnnnji55MwZ21tbcyfP19gwDZp06ZNjB49OsaOHasIBvgb8+fPj9ra2iSMmvnud7/7eYkBAOQH37UDAHwGn/vc5/ZLwpwLFy6Muro6gQGfyV+L4PPOOy+GDx+uCAby3ubNm2PhwoWJmLVfv37DJQYAkB98tw4AsI1atWpV2Lp1672TMKvHPwPbU6dOneLkk0+Oc889NwYNGmQhQF6bPXt2IuZs06bN3hUVFX4WCACQB1z0AQBso/PPP39gYWFheVOfs76+PubMmSMwYLvr2bNn/OQnP4nzzjsv9t5778hkMpYC5J3Zs2dHfX19k5+zqKio4vzzzx8oMQCA9FMAAwBso/3333/fJMz5+uuvR01NjcCAHaZLly4xZsyYOOecc2Lw4MEWAuSV6urqeOONNxIx64EHHriPxAAA0k8BDACwjbp27ZqIxz/PnTtXWMBO0bt37zjttNPinHPOif79+1sIkDeScr3VvXv3vaUFAJB+CmAAgG0wZMiQ0srKyj2a+py5XM7jn4Gdrk+fPnHWWWfFOeecE7vttpuFAKk3e/bsyOVyTX7Oli1b7jlo0KBSiQEApJsCGABgG5x55pl7ZjKZbFOfc9myZbFu3TqBAbtEnz594uyzz44zzzwzevbsaSFAaq1bty6WL1/e5OfMZDLZs846a4jEAADSrcgKAAC23tChQ4clYc558+YJC9jlBgwYEAMGDIgFCxbE+PHjY+nSpZYCpM68efOiS5cuTX7OffbZZ5+ImC4xAID0cgcwAMA26Nix4z5JmHP+/PnCApqMAQMGxC9/+cs47bTTolu3bhYCpEpSrrs6deq0j7QAANJNAQwAsJWOOOKIlhUVFf2a+pxVVVWxaNEigQFNSiaTicGDB8e//uu/xpgxY6JDhw6WAqTCW2+9FVVVVU1+zoqKis8deuihLSQGAJBeCmAAgK108sknD46ITFOfc/78+dHY2CgwoEnKZDKx9957x4UXXhhjxoyJ9u3bWwqQaI2NjbFgwYJE/Cv4u9/97h4SAwBILwUwAMBW2n333fdMwpze/wskwV+L4AsuuCBOPvnkaNu2raUAiZWU66/BgwfvKS0AgPQqsgIAgK3Trl27wU19xlwul5Q7UAAiIqKwsDCGDx8e++yzT0ybNi0mTJgQ69evtxggURYsWBC5XC4ymab9sJgOHToMlhYAQHq5AxgAYCsMGjSotGXLlgOa+pzvvfdebNy4UWBA4hQVFcWIESPikksuidGjR0fLli0tBUiMDz/8MJYtW9bk52zZsuXA/v37l0gMACCdFMAAAFvhxz/+8aBMJtPkn6Li7l8g6f5aBI8dOzZOOOGEaNGihaUAibBw4cImP2Mmk8n+5Cc/GSAtAIB0UgADAGyFvffee88kzJmEHzwCfBrNmjWLww47LMaOHRujRo2KsrIySwGatKT8Il5SrmsBANh63gEMALAVunbtOqSpz1hfXx9vvvmmsIBUKS4ujpEjR8bBBx8czz77bDz++ONRXV1tMUCT8+abb0Z9fX0UFTXtH7t16dJlT2kBAKSTO4ABAD6lioqKgoqKikFNfc4lS5bE5s2bBQakUklJSYwcOTLGjh0bRx99dJSUeIUl0LTU1tbG0qVLm/ycLVu2HFRaWupngwAAKeQiDwDgUzr77LP7FhYWNvlnj7722mvCAlKvefPmcdRRR8Ull1wSI0eOjGbNmlkK4HpsKxQWFpafffbZvaQFAJA+CmAAgE9p//3375+EOV9//XVhAXmjvLw8Ro0aFf/+7/8eI0eOjGw2aymA67FP6fOf//xAaQEApI8CGADgU+rRo8fuTX3G2traePvtt4UF5J2KiooYNWpUXHzxxXH44Yc3+XdvAum2ePHiRLySo1evXoOkBQCQPgpgAIBPqXXr1k3+DoklS5ZEQ0ODsIC81apVqzj++OPj4osvjhEjRkRBgW97gZ2voaEhlixZ0uTnbNOmjQIYACCFfCcMAPApDBkypLR58+a9m/qcb775prAAIqJ169YxevToGDt2rCIYcF32MZo3b95n0KBBpdICAEgX3wEDAHwKp556av9MJtPkr53eeustYQH8jTZt2sTo0aPjvPPOi+HDhyuCAddlfyOTyRT84Ac/+Jy0AADSxXe+AACfwuDBg5v84/Hq6+tj0aJFwgL4CJ06dYqTTz45/u3f/i323nvvyGQylgLsUIsXL07Eqzn23HPPgdICAEgXBTAAwKfQpUuXAU19xnfeeSfq6uqEBbAFnTt3jjFjxiiCgR2utrY23n333SRc53oPMABAyiiAAQA+hZYtW/Zv6jN6/DPAp9elS5cYM2ZMnHvuuTF48GALAfL2+iwJ17kAAGwdBTAAwCcYPnx4eUlJSeemPqfHPwNsvV69esVpp50W55xzTvTvrwMB8u/6rLS0tPPw4cPLpQUAkB4KYACAT/Ctb31rt4ho8s8IXbx4sbAAtlGfPn3irLPOinPOOSd22203CwG2i4T8gl7m29/+dj9pAQCkhwIYAOAT7L777k2+CVi7dm1s2LBBWACfUZ8+feLss8+OM888M3r27GkhwGfy4Ycfxrp165r8nAMHDlQAAwCkSJEVAABsWadOnZr8D8TefvttQQFsRwMGDIgBAwbEggULYvz48bF06VJLAbb5Oq1Vq1audwEA2GkUwAAAn6CyslIBDJCnBgwYEP3794958+bFQw89FO+++66lAFtlyZIlsddeezX1613PvgcASBEFMADAFnTq1CnbvHnzXk19ziVLlggLYAfJZDIxePDg2GOPPeLll1+OBx98MFauXGkxQGqu05o3b967Xbt2RatXr66XGABA8nkHMADAFowZM6ZnJpPJNuUZGxsbPZoUYCfIZDKx9957x4UXXhhjxoyJ9u3bWwrwiZYuXRqNjY1NesaCgoLsqaee2kNaAADp4A5gAIAt2Hvvvfs29RlXrlwZtbW1wgLYSf5aBO+5554xa9asmDBhQqxevdpigI9UW1sb77//fnTu3LlJzzls2LC+EbFIYgAAyecOYACALejRo0eTL4DfeecdQQHsAoWFhTF8+PC48MILY/To0VFZWWkpQGKv15Jw3QsAwKejAAYA2ILWrVs3+ff/vvvuu4IC2IUKCwtjxIgRcckll8To0aOjZcuWlgIk7notCde9AAB8Oh4BDQCwBc2bN+/Z1GdUAAM0kW+wi4pixIgRsd9++8WUKVPiscceiw0bNlgMEO+9914SrnsVwAAAKeEOYACAj9G/f/+SkpKSjk19TgUwQNPSrFmzOOyww2Ls2LExatSoKCsrsxTIc0m4XistLe3Ut2/fYmkBACSfAhgA4GOccMIJ3Zr69dK6deuiqqpKWABNUHFxcYwcOTJ+/etfK4Ihz1VVVcX69eub+pgF3/zmN7tLCwAg+RTAAAAfY8iQIT2b+oxJeJwgQL77axE8duzYOProo6OkpMRSIA8l4botCde/AAB8MgUwAMDH6N69e8+mPqPHPwMkR/PmzeOoo46KSy65JEaOHBnNmjWzFMgjSbhuS8L1LwAAn0wBDADwMVq1atWjqc+4bNkyQQEkTHl5eYwaNSr+/d//PUaOHBnZbNZSIA8k4botCde/AAB8MgUwAMDHqKio6NXUZ1y+fLmgAJL750yMGjUqLr744jj88MOjqKjIUiDFknDd1rJly16SAgBIPgUwAMBHyGazmbKysq5NecbGxsZYtWqVsAASrlWrVnH88cfHxRdfHCNGjIiCAt+qQxqtWrUqGhsbm/SMJSUlXbPZbEZaAADJ5rtKAICPcNxxx7UrKCgobsozrl69Ourr64UFkBKtW7eO0aNHx9ixYxXBkEJ1dXXxwQcfNOkZCwoKio877rh20gIASDbfTQIAfITPf/7zXZr6jO+//76gAFKoTZs2MXr06Dj//PNj+PDhimBIkRUrVrgOBgBgh/NdJP+PvTuPr7I888d/nSwEkhD2HUQEUVRAoIiouCtq64Jabd1arVorbqO2tlXbaavTOu38Rqffdmpbu9rWpYogsqgFRXCttAIKArJDgAAJBLKQ5JzfH8WO4+DOcp6T9/v18jWvTv657ut6hNvnk/t+AICd2G+//bL+xVcSXiAC8PF17do1Lr300rj99ttj2LBhkUq5lRWSLgn7tyTsgwEAeH8FWgAA8H917txZAAxAVujevXtceeWVsXr16njiiSdi9uzZkclkNAYSKAn7tyTsgwEAeH8CYACAnWjXrp0roAHIKj169Igrr7wyli5dGpMmTYo5c+ZoCiRMEvZvSdgHAwDw/gTAAAA7UVxc3D3baxQAAzRPffr0ibFjx8aSJUti/PjxsWDBAk2BhEjC/i0J+2AAAN6fbwADAOxESUlJz2yur7q6Ourq6gwKoBnbb7/94l/+5V/ia1/7WhxwwAEaAglQV1cX1dXV9sEAAOxWAmAAgHc5/PDDSwsKCtpmc40VFRUGBUBERPTt2zduvPHGuOGGG2LffffVEMhy2b6PKygoaDt8+PASkwIASC4BMADAu5x44oldsr3GDRs2GBQA/8uAAQPiG9/4Rtxwww3Ru3dvDQH7uE+yH+5qUgAAyeUbwAAA79KvX7+sD4DXr19vUADs1IABA+LAAw+MuXPnxoQJE2LlypWaAlkkCTe5HHDAAV0i4i3TAgBIJgEwAMC7dO/evXO21+gEMADvJ5VKxaBBg2LgwIExe/bsGD9+fKxbt05jwD4uZ/bDAAC8NwEwAMC7tG/fvlO21ygABuDDSKVSMWzYsBg6dGjMnj07HnvsMbdIwF6WhBPASdgPAwDw3gTAAADv0rp166w/8ZCEF4cAZI+3g+BDDz00XnnllZg4caK/S8A+LtH7YQAA3psAGADgXUpKSrL6xENjY2Ns3rzZoAD4yPLz8+Pwww+P4cOHx/PPPx8TJ06MqqoqjYE9aPPmzdHY2BgFBdn7Wi7b98MAALw/ATAAwLu0bNmySzbXV1lZGZlMxqAA+Njy8/Nj1KhRMXLkyHjhhRcEwbAHZTKZqKqqio4dO9oPAwCwWwiAAQDepaioKKuvvKusrDQkAHaJgoKCGDVqVIwYMSJmzpwZkydPji1btmgM7IH9XDYHwNm+HwYA4P3laQEAwP8YPnx4SX5+fkk21ygABmBXa9GiRRx//PFxxx13xNlnnx0lJSWaAs14P5efn18yfPhwfxAAACSUABgA4B2OOOKIDtleo+//ArC7FBUVxejRo+P73/9+nH322VFcXKwpsBsk4cr1JOyLAQDYOQEwAMA79O3bt1221+gEMAC729tB8B133BGnn356tGrVSlOgme3n9ttvv7YmBQCQTAJgAIB36NSpkwAYAHYoKSmJz3zmM3HnnXfG6NGjo0WLFpoCzWQ/l4R9MQAAOycABgB4hw4dOrTN9hqTcGUgALmlpKQkzj777PjOd74To0aNivz8fE2BHN/PJWFfDADAzgmAAQDeoaysrG221ygABmBvad++fVx00UVx5513xgknnBCFhYWaAjm6nysrK3MCGAAgoQTAAADvUFJS0j6b68tkMlFdXW1QAOxV7dq1i/POOy+++93vxqhRoyIvz+sF+CiSsJ8rLS0VAAMAJJT/QgMAeIfi4uK22VxfXV1dNDY2GhQAWeHtE8F33HGHIBg+gsbGxqirq7MvBgBgt/BfZgAA79CqVausPung9C8A2ahDhw5x0UUXxbe//e04/PDDBcGQA/u6oqIiJ4ABABLKf5EBALxDQUGBABgAPqauXbvGpZdeGt/61rdi2LBhkUqlNAUSuq9r0aJFW1MCAEimAi0AAPgfhYWFZdlc39atWw0JgKzXrVu3uPLKK2P16tXxxBNPxOzZsyOTyWgMJGhfl+37YgAA3psAGADgnZujgoLW2VyfE8AAJEmPHj3iyiuvjKVLl8akSZNizpw5mgIJ2ddl+74YAID35gpoAIAdWrdunZefn98ym2sUAAOQRH369ImxY8fGLbfcEgMGDNAQSMC+Lj8/v1WrVq28OwQASCCbOACAHQYNGlQSEVn9scJt27YZFACJtd9++8UNN9wQX/va1+KAAw7QEJq1BOzr8gYPHlxsUgAAySMABgDY4YADDijJ9hpramoMCoDE69u3b9x4441xww03xL777qshNEu1tbVZX2P//v1LTQoAIHl8AxgAYIeePXtm/QuuJLwoBIAPa8CAATFgwICYP39+jBs3LpYvX64pNBtJ2Nf16NGjxKQAAJJHAAwAsEOnTp0EwACwFwwYMCAOPPDAmDt3bkyYMCFWrlypKeS8JOzrunbtKgAGAEggATAAwA5lZWVZ/4Krrq7OoADISalUKgYNGhQDBw6M2bNnx4QJE2Lt2rUaQ85KQgDcpk0bV0ADACSQABgAYIeysjIngAFgL0ulUjFs2LAYOnRozJ49O8aPHx/r1q3TGHKOABgAgN1FAAwAsENJSUlxttfoBDAAzcXbQfCQIUPi5ZdfjokTJ0ZFRYXGkDOSEAAnYX8MAMD/JQAGANihqKioKNtrrKmpMSgAmpW8vLw4/PDDY/jw4fH888/HE088EZWVlRpD4iUhAG7RokWRSQEAJI8AGABgh8LCwhbZXF86nY7t27cbFADNUn5+fowaNSpGjhwZL7zwQkycODGqqqo0hsTavn17ZDKZSKVSWVtjixYtWpgUAEDyCIABAHbI9gC4oaHBkABo9goKCmLUqFExYsSImDlzZkyePDm2bNmiMSROJpOJhoaGyOaMtbCw0AlgAIAk/neTFgAA7NgYFRRk9QuuxsZGQwKAHVq0aBHHH398HHnkkfHMM8/E1KlTY9u2bRpDomR7AJzt+2MAAN5jH6cFAAA7NkZZ/oLL9c8A8H8VFRXF6NGj49hjj41nnnkmpkyZEjU1NRpDImT7DS8FBQWugAYASCABMADA2xujLH/B5QpoAHhvbwfBRx11VEyfPj2efvrpqK2t1RiymgAYAIDdIU8LAAD+QQAMAMlXUlISn/nMZ+LOO++M0aNHZ/X1uiAABgBgdxAAAwDskO1XQAuAAeDDKykpibPPPjv+7d/+LUaPHh2FhYWagv3dR5Sfn9/SlAAAkkcADADw9sYoL88JYADIMa1bt46zzz47vve978UJJ5wgCMb+7iPIz8/3LwwAQAIJgAEAdkilUlm9N2psbDQkAPiY2rVrF+edd15897vfjRNOOCEKCgo0Bfu7D94f55sSAEDyCIABAHbI9gA4nU4bEgB8Qu3bt/9nEDxq1KjIy/NqBPu799kfp0wJACB5/FcOAMAOXnABQPPRoUOHuOiii+J73/ueIJi9JpPJZHuJ/sUAAEggmzgAgP+R1QFwAl4QAkDidOzYMS666KL41re+FYcffnj4fTDs796xOc7yG3IAANg5mzgAgITsjQTAALD7dOvWLS699NL41re+FcOGDRMEs0dk+xXQeXl5/kUAAEigAi0AAPiHbH/BJQAGgN2ve/fuceWVV8ayZcviiSeeiDlz5mgKzXl/5/AIAEACCYABAHbIZDJOAAMAERGx7777xtixY2PJkiUxYcKEmD9/vqZgfwwAQCIIgAEA/ocr7gCA/2W//faLG264Id56660YP358vPnmm5rCLpPtV0Cn3IUOAJBIAmAAgB2y/QVXtr8gBIBc1rdv37jxxhvjrbfeinHjxsWiRYs0hU/MFdAAANjEAQDsXln9Bs4BDADY+/r27Rs333xz3HDDDdG7d28NIdf3d75BAgCQQE4AAwDskO0nMATAAJA9BgwYEAMGDIj58+fHI488EitXrtQUcnF/5woaAIAEcgIYAGCHVCqVzvL6DAkAssyAAQPi1ltvjbFjx0bPnj01hJza32UScEc1AAD/lxPAAAD/QwAMAHysv6MHDRoUBx98cDz//PMxadKk2LRpk8aQ+P1dtv+CJAAAO+cEMADADul0dr/fEgADQHarr6+PioqK2LZtm2aQE/u7dDrtBDAAQAI5AQwA8D+cAAYAPrK6urp4+umnY9q0acJfcm1/5wQwAEACCYABAP6HEw4AwIfW0NAQ06ZNiyeffDK2bt2qIXxkCfgGsAAYACCBBMAAADtkMpmsDoDz8ny9AwCywdvB71NPPRXV1dUaQs7u7wTAAADJJAAGANgh219wCYABYO9qbGyMGTNmxJNPPhmVlZUawieWn5+f9VtkUwIASB4BMADADplMpiGb6yssLDQkANgL0ul0zJo1KyZPnhwbN27UEHaZgoLsfjXX1NTUaEoAAAncZ2oBAMA/NDY2bs/m+gTAALBnpdPpePnll2Py5Mmxdu1aDWGXa9GiRbb/O1BvSgAAySMABgDYoampSQAMAEQmk4nZs2fH448/HuXl5RpCs93fNTY2CoABABJIAAwAsENDQ0NWv+ASAAPA7vV28PvEE0/E6tWrNYTdLtuvgM72G3IAAHiPfaYWAAD8gyugAaD5mjNnTkyaNCmWLl2qGewx2X4FtAAYACCZBMAAADs0NTU5AQwAzcyCBQtiwoQJ8dZbb2kG9nfv0tDQIAAGAEggATAAwA7Z/oJLAAwAu87ChQtj/PjxsXjxYs1gr8n2K6Cz/RckAQB4j32mFgAA/EO2B8AFBQWRl5cX6XTasADgY1q+fHmMGzcu5s+frxnsVXl5eVkfAG/fvt0JYACABBIAAwDs0NDQkPUnHFq1ahXbtm0zLAD4iFauXBmPPPKI4Jes2tclYH8sAAYASCABMADADrW1tXXZXqMAGAA+mnXr1sX48eNj9uzZkclkNISs2tdlu7q6ulqTAgBIHgEwAMAOW7du3ZrtNSbhRSEAZIP169fHY489JvjFvu4TqK6u3mpSAADJIwAGANihqqpKAAwACbdhw4Z4/PHH45VXXommpiYNwb7uE6isrHT1DABAAgmAAQB22LRpU9a/4GrZsqVBAcBOVFVVxcSJE+OFF16IxsZGDSHrJSEA3rRpkxPAAAAJJAAGANhh3bp1WR8AOwEMAP/bli1bYsKECYJfEicJ+7ry8nIBMABAAgmAAQB2WLZsmSugASAhqqurY/LkyTFz5syor6/XEBInCfu6pUuXCoABABJIAAwAsMP8+fOz/gRwcXGxQQHQrNXU1MSUKVPimWeeEfySaEnY173++uu+AQwAkEACYACAHRYsWFCXyWQaUqlUYbbW2Lp1a4MCoFmqq6uLp59+OqZNmxbbtsmkSL5s39el0+mGpUuXbjcpAIDkEQADALxDU1PTtoKCgrbZWp8AGIDmZvv27TF9+vR48sknY+tWt9GSO7J9X9fU1ORfOACAhBIAAwC8Q0NDw9ZsDoBLS0sNCYDm8ndyTJs2LZ566qmorq7WEHJOtu/rGhsb/YsHAJBQAmAAgHeor6+vbNWqVc9src8JYAByXWNjY8yYMSOefPLJqKys1BByVrbv6+rr66tMCQAgmQTAAADv0NDQkNVvmgXAAOSqdDods2bNismTJ8fGjRs1hJyX7fu6bN8XAwDw3gTAAADvUFdXV5XN9ZWWlkYqlYpMJmNYAOSETCYTr732Wjz++OOxatUqDaFZSKVSUVJSktU11tbWVpkUAEAyCYABAN5h27Ztm7K5vvz8/GjVqlXU1NQYFgCJlslkYvbs2fH4449HeXm5htCstGrVKvLz87O6xq1btzoBDACQUAJgAIB3qK6u3pztNZaVlQmAAUist4PfiRMnxpo1azSEZqmsrCzra9y2bVuVSQEAJJMAGADgHaqqqjZle43t2rWLtWvXGhYAiTNnzpyYNGlSLF26VDNo1tq1a5f1NW7atMkJYACALNbQWBgFjQ0REZFKRSavMJre/pkAGADgHSoqKqqyvcYkvDAEgHdasGBBTJgwId566y3NgITs5zZs2CAABgDIYoUFDf9MejMRqab0/+S+AmAAgHdYtWpV1r/oatu2rUEBkAgLFy6M8ePHx+LFizUD3iEJAfDq1aurTAoAIJkEwAAA77BgwYKsD4CdAAYg2y1fvjzGjRsX8+fP1wzYiST8Ql8S9sUAAOycABgA4B2eeOKJjZlMpimVSuVna41OAAOQrVauXBmPPPKI4Bc+QLb/Ql8mk2l64oknNpoUAEAyCYABAN6huro6vX379g1FRUVdsrVGJ4AByDZr166NCRMmxOzZsyOTyWgIJHw/t3379g3V1dVpkwIASCYBMADAu9TV1a0XAAPAB1u/fn089thjgl/Isf1cXV3delMCAEguATAAwLvU1dVVtGnTJmvrKykpiRYtWsT27dsNC4C9oqKiIiZOnBivvPJKNDU1aQh8BEVFRVFcXJz1+2GTAgBILgEwAMC7bN26dV2XLll7ADhSqVR07Ngx1qxZY1gA7FFVVVUxceLEeP755wW/8DF17NgxUqlU1u+HTQoAILkEwAAA71JVVZX1Jx46deokAAZgj9m8eXM8/vjj8cILL0RjY6OGwCfcx9kPAwCwOwmAAQDeZf369Vn/zbMkvDgEIPm2bNkSU6ZMiZkzZ0Z9fb2GwC7QsWNH+2EAAHYrATAAwLusXr066088JOHFIQDJVVNTE1OmTIlnnnlG8Au7WBJ+kW/VqlUCYACABBMAAwC8y9///ves/+aZABiA3aG2tjYmT54czz77bNTV1WkINNN93KuvvioABgBIMAEwAMC7PPzww+t//OMfN6RSqcJsrbFz584GBcAus3379pg+fXpMnTo1tm3bpiGwG2X7CeB0Ot3w8MMPC4ABABJMAAwA8C7V1dXpurq68latWu2TrTV26NAh8vLyIp1OGxgAH1tDQ0NMmzYtnnrqqaiurtYQ2M3y8vKiQ4cOWV1jfX39mtraWptMAIAEEwADAOxEbW3tmmwOgAsKCqJdu3axceNGwwLgI2tsbIwZM2bEk08+GZWVlRoCe0j79u2joCC7X8fV1NSUmxQAQLIJgAEAdmLz5s2r2rdvn9U1duvWTQAMwEeSTqdj1qxZMXnyZH+HwF7av2W7LVu2rDQpAIBkEwADAOzEpk2bVvfp0yera+zWrVvMmzfPsAD4QG8Hv1OmTIkNGzZoCOzF/Vu227BhwxqTAgBINgEwAMBOrFixYvWwYcOyusYkvEAEYO/KZDLx0ksvxZQpU6K83K2usLd17do162tctWrVKpMCAEg2ATAAwE7Mnz9/9ZgxY7K6xiS8QARg78hkMjF79uyYOHFirFnjMB9kiyT8At+8efP8oQEAkHACYACAnRg3btyab37zm5mISGVrjU4AA7Azc+bMiSeeeCKWLVumGZBlEvALfJlx48atNikAgGQTAAMA7MTrr79e29DQsKmwsLBDttZYXFwcZWVlsWXLFgMDIBYsWBDjx4+PJUuWaAZkobKysiguLs7qGhsaGjYuWLCgzrQAAJJNAAwA8B62bt26vF27dh2yucauXbsKgAGauYULF8b48eNj8eLFmgFZLAm3t2zbtm25SQEAJJ8AGADgPVRVVS1t167d0GyusWfPnrFw4ULDAmiGli1bFo899ljMnz9fMyABevbsmfU1VlZWLjUpAIDkEwADALyHdevWLevTp09W15iEF4kA7ForVqyIRx99VPALCZOEfdvatWuXmRQAQPIJgAEA3sPChQuXHX744VldY69evQwKoJlYtWpVjB8/PubOnRuZTEZDIGGSsG9buHDhMpMCAEg+ATAAwHuYNm3a0ksuuSSra+zevXvk5+dHU1OTgQHkqHXr1sX48eNj9uzZgl9IqIKCgkR8A/jpp59eZloAADmw/9QCAICde+ihhzbcd999W/Pz80uzdjNXUBBdunSJNWvWGBhAjqmoqIiJEyfGyy+/HOl0WkMgwbp27RoFBdn9Gq6xsbH6kUce2WBaAADJJwAGAHgf27ZtW15WVnZwNtfYq1cvATBADqmqqoqJEyfG888/74YHyBFJ+P7vtm3blpsUAEBuEAADALyPLVu2LMv2ALhnz57x0ksvGRZAwm3evDkef/zxeOGFF6KxsVFDIIck4fu/W7ZsWWpSAAC5QQAMAPA+1q9fvyzbT2z06NHDoAASbMuWLTFlypSYOXNm1NfXawjkoCTs19avX7/MpAAAcoMAGADgfSxYsGDh0KFDs7rGfffdN1KpVGQyGQMDSJCampqYMmVKPPPMM4JfyGGpVCr23XffrK9z/vz5C00LACA3CIABAN7Ho48++uYFF1yQ1TWWlJRE586dY926dQYGkAC1tbUxefLkePbZZ6Ourk5DIMd17do1WrVqlfV1/vnPf15kWgAAuUEADADwPiZNmlRVX1+/oaioqGM217nvvvsKgAGy3Pbt22P69OkxderU2LZtm4ZAM9GnT5+sr7G+vr7iySefrDItAIDcIAAGAPgAW7duXZTtAXCfPn3ipZdeMiyALNTQ0BDTpk2Lp556KqqrqzUEmpkkXP+8detWp38BAHKIABgA4ANUVFQs7NChw8hsrjEJLxYBmpvGxsaYMWNGPPnkk1FZWakh0EwlYZ9WUVHh+78AADlEAAwA8AGWLl266MADD8zqGnv16hUFBQXR2NhoYAB7WTqdjlmzZsWkSZNi06ZNGgLNWGFhYfTs2TMR+13TAgDIHQJgAIAPMHPmzEWnnnpqdm/qCgqiZ8+esWzZMgMD2EveDn4nT54cGzdu1BAg9tlnn8jPz0/CfnexaQEA5I48LQAAeH+//OUvV6bT6bpsr7NPnz6GBbAXZDKZePHFF+O73/1u3H///cJf4J+ScP1zOp2u++Uvf7nStAAAcocTwAAAH6C6ujpdXV29uE2bNodkc539+vWL6dOnGxjAHpLJZGL27NkxceLEWLNmjYYAO92fJWCvu7i6ujptWgAAuUMADADwIWzYsGFetgfA/fv3NyiAPeTVV1+NSZMmxapVqzQD2KlUKpWI/dmGDRvmmhYAQG4RAAMAfAiLFy9+o2/fvlldY1lZWXTu3DnWr19vYAC7yYIFC2L8+PGxZMkSzQDeV5cuXaK0tDQJ+9z5pgUAkFsEwAAAH8JTTz31+ujRo7O+zv33318ADLAbLFy4MMaPHx+LFy/WDOBD78uSYMqUKa+bFgBAbsnTAgCAD/aLX/xiTWNjY1W215mUF40ASbFs2bK4++674z/+4z+Ev8BHkoTv/zY0NFTee++9q00LACC3OAEMAPAhNDQ0ZDZv3jy/Q4cOI7O5TgEwwK6xYsWKePTRR2P+fDejArm7L9uyZYs/5AAAcpAAGADgQ1q3bl3WB8AdO3aMNm3axObNmw0M4GNYtWpVjB8/PubOnRuZTEZDgI+lbdu20aFDh0Tsb00LACD3CIABAD6kefPmzTvooIOyvs4DDzwwXnrpJQMD+AjWrVsX48ePj9mzZwt+gV2yH0uCuXPnzjMtAIDcIwAGAPiQ/vznP88/77zzsr7OAw44QAAM8CFVVFTEuHHjBL/ALt+PJcHDDz/sBDAAQA4SAAMAfEgTJ06srK2tXdGqVat9srnOgw8+2LAAPkBVVVVMnDgxnn/++WhqatIQYJdKwq0xNTU1yydNmlRlWgAAuUcADADwEWzYsOHvvXr1yuoAuG3bttG1a9dYu3atgQG8y+bNm+Pxxx+PF154IRobGzUE2OW6desWbdu2TcS+1rQAAHKTABgA4CNYuHDha7169Toj2+scMGCAABjgHbZs2RJTpkyJ5557LrZv364hwG6TlO//Lly48O+mBQCQmwTAAAAfwcSJE/9+wgknZH2dBx54YEyfPt3AgGavpqYmpkyZEs8880zU19drCLDbDRgwIBF1jh8//u+mBQCQmwTAAAAfwb333rv6Bz/4wfqioqLO2VznAQccEHl5eZFOpw0NaJZqa2tj8uTJ8eyzz0ZdXZ2GAHtEXl5e9O/fP+vrrK+vX3ffffeVmxgAQG4SAAMAfESVlZVzu3btmtXHgFu1ahX77LNPLFu2zMCAZqWuri6efvrpmDZtWmzbtk1DgD1qn332iVatWmV9nZs2bZpjWgAAuUsADADwES1dunR2tgfAERGDBg0SAAPNRkNDQ0ybNi2eeuqpqK6u1hBgr+2/kuCtt976m2kBAOQuATAAwEc0ffr0v48cOTLr6xw4cGBMmDDBwICc1tDQEM8991w8+eSTUVlZqSHAXt9/JcG0adP+bloAALlLAAwA8BH9x3/8x9JbbrmlOj8/v3U219mrV68oKyuLLVu2GBqQc9LpdMyaNSsmTZoUmzZt0hBgrysrK4tevXplfZ2NjY1b7rnnnmUmBgCQuwTAAAAfUW1tbXrDhg1/7dKly3HZXGcqlYqBAwfGrFmzDA3IGW8Hv5MnT46NGzdqCJA1Bg4cGKlUKuvr3Lhx4yu1tbVpEwMAyF0CYACAj+Gtt956JdsD4IgQAAM5I51Ox8svvxxTpkyJ8vJyDQGyct+VBIsWLXrFtAAAcpsAGADgYxg/fvwrRxxxRNbXedBBB0VBQUE0NjYaGpBImUwmZs+eHRMnTow1a9ZoCJCVCgoK4qCDDkpErY888ogAGAAgx+VpAQDAR/fjH/94ZX19/fpsr7OoqCj69etnYEAivfrqq3HHHXfEz3/+c+EvkNX69esXRUVFWV9nXV1d+b333rvaxAAAcpsTwAAAH9OGDRte6dGjx6ezvc5BgwbFggULDAxIjCVLlsSECRNi/vz5mgEkwuDBgxNR5/r1653+BQBoBgTAAAAf07x5815OQgA8bNiwePjhhyOTyRgakNXefPPNmDBhQixevFgzgMRIpVIxdOjQRNQ6d+7cl0wMACD3CYABAD6m++677+XRo0dnIiKVzXW2bds2evfuHcuWLTM0ICstW7YsHnvsMSd+gUTq06dPtG3bNgmlpu+9996/mhgAQO4TAAMAfEwTJ06s3Lp165LS0tK+2V7rkCFDBMBA1lmxYkU8+uijgl8g0YYMGZKIOqurqxc+/fTTm00MACD3CYABAD6B8vLyl/fff/+sD4AHDx4c48aNMzAgK6xcuTImTJgQc+fOdT09kHhJ+f7vmjVrfP8XAKCZEAADAHwCM2fOfG7//ff/fLbX2a1bt+jWrVuUl5cbGrDXrFu3LsaPHx+zZ88W/AI5oWfPntGlS5dE1DpjxoznTAwAoHkQAAMAfAK33Xbba5dcckl1fn5+62yvdciQIQJgYK9Yv359PPbYY4JfIOck5frnxsbGzbfddts8EwMAaB4EwAAAn0BlZWXThg0b/tqlS5fjsr3WQw89NCZNmmRowJ78MzKeeOKJeP7556OpqUlDgJxz6KGHJqLOioqKV6qrq9MmBgDQPAiAAQA+oXnz5s1MQgDcu3dv10ADe0RVVVVMnDgxXnjhhWhsbNQQICd17949evbsmZT9quufAQCakTwtAAD4ZP77v/97VkQk4kTFpz71KQMDdpstW7bEQw89FLfffns899xzwl8gpw0fPjwRdWYymfTdd9/9gokBADQfTgADAHxCkyZNqtqyZcuCsrKyg7K91uHDh8fjjz9uaMAuVVNTE1OmTIlnnnkm6uvrNQTIealUKg477LBE1Lply5bXp0+fvsXUAACaDwEwAMAusHz58lkDBw7M+gC4S5cu0atXr1i5cqWhAZ9YbW1tTJ48OZ599tmoq6vTEKDZ6N27d3Ts2DEx+1QTAwBoXgTAAAC7wLPPPvvCwIEDr0hCrcOGDRMAA59IXV1dPP300zFt2rTYtm2bhgDNzrBhwxJT61/+8pcXTQwAoHnxDWAAgF3g1ltvnV9fX782CbUefvjhkUqlDA34yBoaGmLq1Klx6623xuOPPy78BZqlJF3/XFdXt/rWW29dYGoAAM2LE8AAALtAQ0NDZs2aNc/16dPns9lea7t27aJPnz6xZMkSgwM+7J9xMW3atHjqqaeiurpaQ4Bmbb/99ou2bdsmotbVq1fPNDEAgOZHAAwAsIs8++yz05IQAEdEHHHEEQJg4AOl0+mYNWtWTJo0KTZt2qQhABFx5JFHJqbW6dOnTzMxAIDmxxXQAAC7yC233PJaQ0NDZRJqHT58eLRo0cLQgJ1Kp9Px3HPPxW233Rb333+/8Bdgh6KiovjUpz6ViFobGho23HLLLXNNDQCg+XECGABgF6murk6Xl5c/t88++5yR7bW2bNkyDj300Hj55ZcNDvindDodL7/8ckyZMiXKy8s1BOBdhgwZEkVFRYmodc2aNc/V1tamTQ0AoPkRAAMA7EIvvvjiM0kIgCMiRo4cKQAGIiIik8nE7NmzY+LEibFmzRoNAXif/VNSzJo161kTAwBongTAAAC70O233/7KOeecszU/P78022sdMGBAtG/f3tWu0My9+uqrMWnSpFi1apVmALyPjh07xgEHHJCIWhsbG6u/8Y1v/NXUAACaJwEwAMAutHLlyob169fP6tat2+hsrzWVSsXhhx8ekyZNMjhohubMmROTJ0+OJUuWaAbAh3D44YdHKpVKRK3r16+fVVFR0WhqAADNU54WAADsWq+++mpirts77LDDDAyamTfffDP+/d//PX7yk58IfwE+pFQqFSNGjEhMva+88sozpgYA0Hw5AQwAsIvddNNNz5166qnV+fn5rbO91m7dukX//v1j4cKFBgc5btmyZfHYY4/F/PnzNQPgIzrggAOic+fOiai1sbFxy4033jjL1AAAmi8BMADALrZy5cqG8vLyGT179vx0Euo9+uijBcCQw5YvXx7jxo0T/AJ8wv1SUpSXlz9TXl7eYGoAAM2XABgAYDeYMWPGUxdccEEiAuAhQ4ZE69ato7q62uAgh6xcuTImTJgQc+fOjUwmoyEAH1ObNm3i0EMPTUy9zz777FOmBgDQvPkGMADAbvDVr371lYaGhk1JqLWgoCCOOOIIQ4McsW7duvj5z38ed955Z8yZM0f4C/AJjRw5MvLz8xNRa0NDw8abbrrpVVMDAGjenAAGANgNKisrm1atWjW9T58+5ySh3qOPPjqefPJJQREk2Pr16+Oxxx6L2bNn+3cZYBdJpVIxatSoxNS7cuXKadXV1WmTAwBo3pwABgDYTaZNm5aY6/c6duwYAwYMMDRIoA0bNsSvf/3r+Nd//dd49dVXhb8Au9CAAQOiY8eOian36aefftLUAAAQAAMA7CZf+9rX5tTX11ckpd6jjjrK0CBBqqqq4v77749vf/vb8eKLL0ZTU5OmAOxiRx55ZGJqra+vX/eNb3zjdVMDAMAV0AAAu0ltbW16xYoVT++///6fT0K9hx56aLRt2zaqqqoMD7LYli1bYsqUKfHcc8/F9u3bNQRgN2nbtm0MGTIkMfUuX778qdraWtc/AwDgBDAAwO70xz/+cUJSas3Pz4/jjjvO0CBL1dTUxKOPPhq33XZb/OUvfxH+Auxmxx57bOTn5yel3Myvf/3rCaYGAECEABgAYLe66667llZXV89PSr1HH310tGjRwuAgi7wd/H7jG9+IqVOnRn19vaYA7GYtWrSIo48+OjH1btmy5Y177rlnhckBABDhCmgAgN3u9ddfn3T44YcPSEKtxcXFcdhhh8XMmTMNDvayurq6ePrpp2PatGmxbds2DQHYgw477LAoKSlJTL3z5s17wtQAAHibE8AAALvZ9773vanpdLohKfWecMIJkUqlDA72koaGhpg6dWrceuut8fjjjwt/AfawVCoVJ5xwQmLqTafT27/73e8+ZXIAALzNCWAAgN1s+vTpWyoqKmZ26dIlER/Y7d69e/Tv3z/efPNNw4M9qKGhIaZNmxZPPfVUVFdXawjAXnLAAQdE9+7dE1NvRUXFczNmzPAXBwAA/+QEMADAHjBr1qxEXcuXpFMvkHTpdDqee+65uP322+PRRx8V/gLsZccff3yi6p0xY8YkUwMA4J2cAAYA2AO++tWvvnT66adXFRYWtk1CvQMHDoyOHTvGhg0bDA92k3Q6HbNmzYrJkyfHxo0bNQQgC3Ts2DEGDhyYmHobGhoqb7755pdMDgCAd3ICGABgDygvL29YsWLF1MRsEvPy4sQTTzQ42A3S6XS8+OKL8Z3vfCfuv/9+4S9AFjnppJMiLy85r8tWrFgxpaKiotHkAAB4JwEwAMAe8qtf/erRiMgkpd6jjjoqysrKDA52kUwmE6+++mp873vfi1//+texdu1aTQHIImVlZXHUUUcl6q+W//7v//6zyQEA8G4CYACAPeQ///M/l1dWVv4tKfUWFhbGMcccY3CwC7wd/P785z+PNWvWaAhAFjruuOOioCA5X0urqqqa/dOf/nS1yQEA8G4CYACAPeill14al6R6jzvuuCgqKjI4+JjmzJkTd911V/z85z+P1au9owfIVkVFRYn7xbcXXnhhnMkBALAzBVoAALDnjB079pkFCxZUFhYWtktCvSUlJXHEEUfE9OnTDQ8+gjfffDPGjx8fb731lmYAJMCRRx4ZJSUliam3oaFh0zXXXPOsyQEAsDMCYACAPai8vLxh6dKlE/v3739xUmo+8cQT49lnn410Om2A8AEWLVoUjz32WCxevFgzABIiLy8vTjzxxETVvGTJkifKy8sbTA8AgJ3ucbUAAGDP+u1vfzsxIjJJqbdjx44xdOhQg4P3sXz58rj77rvjRz/6kfAXIGGGDRsWHTp0SFLJmd/85jePmxwAAO9FAAwAsIf953/+5/JNmza9kqSaTz/99EilUoYH77Jy5cr4yU9+Et///vdj/vz5GgKQMHl5eXHGGWckquZNmza9fM8996wwPQAA3osroAEA9oKXXnpp/KmnnnpYUurt2rVrDBkyJGbPnm14EBHr1q2L8ePHx+zZsyOTyWgIQEINHTo0OnfunKiaX3jhhQkmBwDA+xEAAwDsBZdffvkzS5YsWVdUVNQlKTWfccYZ8be//U3YRbO2fv36eOyxxwS/ADkglUrF6aefnqia6+rq1lx22WXTTQ8AgPcjAAYA2AsqKyub5s+f/8ihhx56dVJq7tatm1PANFsbNmyIxx9/PF555ZVoamrSEIAc8KlPfSq6du2aqJrfeOONcdXV1WnTAwDg/fgGMADAXvL1r399XDqdrktSzb4FTHNTVVUV999/f3z729+OF198UfgLkCNSqVR8+tOfTlTN6XS69pvf/OZjpgcAwAdxAhgAYC+ZMWNG9Zo1a/7Ss2fPxLx97N69ewwcODDmzJljgOS0LVu2xIQJE+KFF16IxsZGDQHIMYceemh069YtUTWvXr36qRkzZlSbHgAAH8QJYACAvejXv/71HyMiUR8SPeuss5wCJmdt27YtHn300bjtttviueeeE/4C5KC8vLwYM2ZM0srO/OpXv/qT6QEA8KH2vFoAALD3fP/733+rqqoqUR/V7dGjR3zqU58yPHJKfX19TJ06Nb71rW/F1KlTo76+XlMActSIESOiS5cuiap506ZNf73rrruWmh4AAB+GABgAYC975plnHkpazWeccUbk5dlKkjvmzZsXjz76aGzdulUzAHJYQUFBnH766Ymre9q0aQ+aHgAAH5a3dgAAe9nYsWNn1tfXr01SzZ07d47DDjvM8ACARBk5cmR06NAhUTXX1dWtHjt27POmBwDAhyUABgDYyyorK5tee+21Pyat7jPPPDMKCgoMEABIhBYtWiTy9O/s2bP/UF1dnTZBAAA+LAEwAEAWuOqqqyY0NjZWJanm9u3bx9FHH214AEAiHHfccdGmTZtE1dzQ0LDxiiuumGh6AAB8FAJgAIAssGDBgrqFCxc+lrS6R48eHYWFhQYIAGS1li1bxsknn5y4uhcuXDhu6dKl200QAICPQgAMAJAlvv71r/8pnU7XJqnmtm3bximnnGJ4AEBWO+2006K0tDRRNTc1NdV+7Wtfe8j0AAD4qATAAABZ4umnn968fPnyxF3xN3r06GjXrp0BAgBZqUOHDnH88ccnru5ly5ZNmD59+hYTBADgoxIAAwBkkbvvvvtPmUymKUk1FxYWxumnn254AEBWOvPMMxP3yYpMJtN41113/dH0AAD4OATAAABZ5Be/+MWatWvXTkta3UcccUT06tXLAAGArNK7d+847LDDEld3eXn5X+6///51JggAwMchAAYAyDIPP/zwn5JWcyqVijPPPNPwAICsMmbMmEilUomr+8EHH/yT6QEA8HEJgAEAsszXv/71NzZs2DAraXUPHDgwDj74YAMEALLCoEGDYsCAAYmru6KiYuatt966wAQBAPi4BMAAAFlo3Lhxv01i3WPGjIm8PFtMAGDvysvLizFjxiSy9j//+c+/NUEAAD7RflgLAACyz/XXXz+nqqrqr0mru1evXnHUUUcZIACwVx1zzDHRvXv3xNW9adOmV2666aa5JggAwCchAAYAyFJ/+tOf7k1i3WPGjInS0lIDBAD2ijZt2sRZZ52VyNofeOCBe00QAIBPSgAMAJClbrrpprlJPAVcXFwcZ555pgECAHvFWWedFS1btkxc3Zs2bXrl5ptvnmeCAAB8UgJgAIAsNm7cuF8lse5Ro0ZF7969DRAA2KP69OkTI0eOTGTtjz322K9MEACAXUEADACQxcaOHTu7qqrqb0mrO5VKxfnnnx+pVMoQAYA9tv/4/Oc/n8j9R2Vl5d+uueaav5kiAAC7ggAYACDLTZ069bdJrLtv374xZMgQAwQA9ojDDjsssTeQTJ48+TcmCADAriIABgDIcpdeeumLVVVVryax9s9//vNRXFxsiADAblVaWhrnn39+Imuvqqr66+WXX/6SKQIAsKsIgAEAEuChhx76WRLrLisri9NPP90AAYDd6qyzzoqSkpIklp753e9+91MTBABgVxIAAwAkwA033DB3w4YNs5JY+3HHHRd9+vQxRABgt+jbt28cddRRiay9oqJi1te//vU3TBEAgF1JAAwAkBA///nPfxoR6aTVnUql4vOf/3zk5dl6AgC7Vn5+flx00UWRSqWSWH76F7/4xX+bIgAAu5q3cAAACXHHHXe8tW7duulJrL13795xzDHHGCIAsEudcMIJ0b1790TWXl5e/pc77rjjLVMEAGBXEwADACTI3XfffW8mk2lKYu1nnXVWtG3b1hABgF2iQ4cOcfrppyey9kwm03T33Xf/3BQBANgdBMAAAAlyzz33rCgvL386ibW3bNkyzj33XEMEAHaJc889N1q0aJHI2tesWTP1xz/+8UpTBABgdxAAAwAkzA9/+MOfZzKZhiTWPnz48Bg0aJAhAgCfyKGHHhpDhw5NZO3pdLrhBz/4wS9MEQCA3UUADACQMPfee+/qRYsWPZDU+i+++OIoKSkxSADgY2ndunVcfPHFia1/4cKFf7jvvvvKTRIAgN1FAAwAkECXXXbZrxsaGjYlsfaysjJXQQMAH9u5554bpaWliay9oaFh4+WXX/47UwQAYHcSAAMAJNDs2bNrXn311V8ntf4jjjgiDj74YIMEAD6SwYMHx+GHH57Y+l955ZX7Zs+eXWOSAADsTgJgAICEOueccx6tqalZmtT6L7roomjZsqVBAgAfSsuWLeNzn/tcYuuvqalZMmbMmMdMEgCA3U0ADACQUJWVlU3Tpk37RVLrb9++fZx++ukGCQB8KGeccUa0b98+sfU/+eST91ZXV6dNEgCA3U0ADACQYOedd960qqqqV5Ja/wknnOAqaADgAx188MFx/PHHJ7b+TZs2vXzBBRc8a5IAAOwJAmAAgIT74x//eG9EZJJYeyqVigsuuMBV0ADAe2rZsmVccMEFkUqlkrqEzP333/8zkwQAYE8RAAMAJNzNN988b9WqVU8ktf6OHTsm+nt+AMDudcEFF0THjh0TW/+KFSse//rXv/6GSQIAsKcIgAEAcsCNN974k6ampq1JrX/kyJExdOhQgwQA/pdPfepTMWLEiMTW39TUVH3zzTf/t0kCALAnCYABAHLAxIkTK//+97//KslruPDCC6OsrMwwAYCIiGjTpk18/vOfT/QaZs+efd/EiRMrTRMAgD1JAAwAkCPOPvvsh2pqapYntf7S0tK46KKLDBIAiFQqFV/84hejtLQ0sWuoqal566yzznrYNAEA2NMEwAAAOaKioqJx0qRJP07yGgYPHhwjR440TABo5o444og46KCDEr2GJ5544qeVlZVNpgkAwJ4mAAYAyCGXXHLJzIqKihlJXsMFF1wQ3bp1M0wAaKZ69uyZ+KufKyoqZnzhC1+YZZoAAOwNAmAAgBzzb//2b/ek0+ntSa2/RYsWceWVV0ZhYaFhAkAzU1hYGF/60pcSvQ9Ip9Pb/+3f/u0e0wQAYG8RAAMA5Jh777139aJFix5M8hq6d+8eZ555pmECQDNzxhlnRPfu3RO9hsWLFz947733rjZNAAD2FgEwAEAO+uxnP/vL2traRL94PPHEE2Pw4MGGCQDNxKBBg+Kkk05K9Bpqa2tXn3vuub80TQAA9iYBMABADlq8eHH9uHHj/j3Ja0ilUnHJJZdE27ZtDRQAclybNm3ikksuiVQqleh1jBs37t8XL15cb6IAAOxNAmAAgBx1+eWXv1RRUTEjyWsoLS2NL3zhC4l/GQwAvLe3f+mrdevWiV5HRUXFM5dffvlLJgoAwN4mAAYAyGE33HDDXU1NTVuTvIaDDjrI94ABIId95jOfiUMOOSTRa2hqaqq+4YYbfmiaAABkAwEwAEAOGzdu3MbZs2cn/jt0p5xyiu8BA0AOOuSQQ+LTn/504tfx17/+9efjxo3baKIAAGQDATAAQI77zGc+81B1dfXCJK8hlUrFF7/4xejQoYOBAkCO6NixY3zpS19K/KceNm/ePO+00057xEQBAMgWAmAAgBxXXV2dfuCBB34UEekkr6O4uDguvfTSyMuzhQWApMvPz4/LLrssiouLk76U9P333/+ftbW1aVMFACBbeHsGANAMXH/99XMWLVr0YNLXsf/++8e5555roACQcOedd1707ds38etYuHDhH7/61a++bqIAAGQTATAAQDNxySWX/Lyurq486es4/vjjfQ8YABJs2LBhccwxxyR+HXV1dWsuvPDC+0wUAIBsIwAGAGgmXnvttdoHHnjguxGRSfI6UqlUfOlLX4oePXoYKgAkTO/evePSSy9N/Hd/IyLzwAMPfO/111+vNVUAALKNABgAoBm5+uqr/7Z06dJHk76OoqKiGDt2bJSWlhoqACRE69at46qrrorCwsLEr2X58uXjrr766r+ZKgAA2UgADADQzJx33nn/r66ubnXS19GhQ4e4/PLLIy/PlhYAsl1eXl5cfvnl0b59+8Svpb6+ft0ll1zyE1MFACBr999aAADQvLz++uu1Dz744Pcj4VdBR0QMGDAgzjrrLEMFgCw3ZsyYOPDAA3NiLY899tgPXnnllW2mCgBAthIAAwA0Q1/5ylf+umbNmqm5sJaTTz45Dj30UEMFgCw1ZMiQOOmkk3JiLWvXrv3LpZde+oKpAgCQzQTAAADN1GWXXfYf9fX1FUlfRyqViksvvTS6d+9uqACQZXr06BFf/OIXI5VKJX4tDQ0Nm6655pofmioAANlOAAwA0EzNmDGj+oEHHvhO5MBV0C1btozrr78+2rZta7AAkCXatWsX1113XbRs2TIXlpN56KGH/nXSpElVJgsAQLYTAAMANGNf+cpX/rpkyZI/58Ja2rZtG1dffXW0aNHCYAFgL2vRokVcffXVOfPLWUuXLn30iiuueNlkAQBIAgEwAEAzd+655/6ktrZ2eS6spXfv3jlzzSQAJNXbn2fYZ599cmI9tbW1y88555wfmywAAEkhAAYAaOYWLFhQ97Of/ezbmUymMRfWM2zYsDjllFMMFgD2kk9/+tMxdOjQnFhLJpNp/NnPfvbtBQsW1JksAABJIQAGACBuvfXWBfPnz78/V9Zz5plnxuDBgw0WAPaw4cOHx2c+85mcWc/8+fN/d+utty4wWQAAkkQADABARESMGTPmvpqamrdyYS2pVCouu+yy6Nmzp8ECwB7Su3fvuPjii3PmUwxbt25ddPrpp//aZAEASBoBMAAAERGxcuXKhh/+8Ie3pdPpnLjisGXLlvEv//Iv0aVLF8MFgN2sS5cucf3110dRUVFOrKepqanmu9/97jfKy8sbTBcAgKQRAAMA8E933XXX0ueff/6eXFlPaWlpXHvttVFWVma4ALCblJWVxXXXXRclJSU5s6aZM2fe/f/+3/9bZboAACSRABgAgP/l5JNPHldeXv50rqynU6dOMXbs2Jw5kQQA2aSoqCiuueaa6NixY86sqby8/MlTTz11gukCAJBUAmAAAP6PSy655K66urq1ubKefffdN6644orIy7P9BYBdJS8vL6688sro3bt3zqyprq6u/JJLLvmh6QIAkOi9uhYAAPBus2bNqn7ooYfujIh0rqxp4MCBcd555xkuAOwi559/fhxyyCG5tKT0gw8+eOesWbOqTRcAgCTLb3tQ9NzpjndbRG15oQ4BADRTEydOXDNmzJi8Tp06Dc2VNfXp0yfy8/PjzTffNGAA+ATOOuusOOmkk3JqTa+//vp9Z5555kTTBQAgCYq7N0Ze6c5/5gQwAADv6dRTT/31li1bXs+lNZ122mlx9NFHGy4AfEzHHntsnHrqqTm1pi1btrxx2mmn/cZ0AQDIBQJgAADeU0VFReONN974jcbGxqpcWtcFF1wQRx55pAEDwEd05JFHxuc+97mcWlNjY2PVzTff/I2KiopGEwYAIBcIgAEAeF9//OMf1z/yyCPfiRz6HnAqlYqLLroohgwZYsAA8CENHTo0LrrookilUrm0rPQjjzzynfvvv3+dCQMAkCsEwAAAfKBLL730hQULFvwupzbCeXnxpS99Kfbff38DBoAPcNBBB8WXvvSlyMvLrVdJCxYs+N2ll176ggkDAJBLBMAAAHwoo0eP/mVVVdXcXFpTYWFhfOUrX4kePXoYMAC8h169esUVV1wRBQUFObWuqqqqOaNHj/6lCQMAkGsEwAAAfCgVFRWNV1111S0NDQ0bcmldJSUlcfPNN8c+++xjyADwLr17946bbropiouLc2pdDQ0NG6666qqv++4vAAC5SAAMAMCHNmHChE3333//tzKZTDqX1lVcXBzXXXdddO/e3ZABYIfu3bvHtddeG61atcqpdWUymfT999//rQkTJmwyZQAAcpEAGACAj2Ts2LGz58+f/9tcW1fr1q3juuuuiw4dOhgyAM1ehw4d4rrrrovWrVvn3Nrmz5//m7Fjx842ZQAAcpUAGACAj+y44477xaZNm17MtXW1a9cubrzxxmjXrp0hA9BstW3bNmf/Pty4ceOLxx13nO/+AgCQ0wTAAAB8ZNXV1emLL774W3V1datzbW0dO3aMG2+8Mdq0aWPQADQ7ZWVlceONN0bHjh1zbm21tbWrL7zwwturq6vTJg0AQC7Lb3tQ9NzZD9LbImrLC3UIAICdWrZsWf327dtfOvbYY0/Ny8trkUtrKykpiaFDh8Zrr70WNTU1hg1As9ChQ4f42te+Fp06dcq5tTU1NW39zne+M/bBBx9cb9IAAOSC4u6NkVe6858JgAEA+NhefPHFzYcccsiyAQMGnBgRqZzaRBcXx5AhQ4TAADQLHTt2jJtuuik6dOiQi8tLjx8//ravfvWrc0waAIBc8X4BsCugAQD4RC688MIZb7zxxm9ycW3t27ePm266KSdPQgHA2zp16pTL4W+88cYbv77wwgufM2kAAJoLATAAAJ/YqFGjfrFhw4aZubi2t0Pgzp07GzQAOadz585x0003Rfv27XNyfRs2bJg5atSo+0waAIDmRAAMAMAnVltbm77sssu+V1dXtzoX19euXbu44YYbomPHjoYNQM7o0KFDXH/99dGuXbtc3Z+s/sIXvvDd2tratGkDANCc+AYwAAC7xJIlS+oj4pVRo0admpeX1yLX1ldcXBxDhw6NuXPnxrZt2wwcgETr0qVL3HjjjTl77XNTU1P1nXfeec0f/vCHdaYNAEAuer9vAAuAAQDYZWbNmlXVo0ePuYceeujoVCqVn2vra9WqVYwYMSIWLVoUlZWVBg5AIu23335x0003RVlZWU6uL51ON/z617++4fbbb3/TtAEAyFUCYAAA9phJkyatPeqoozbsu+++R+fi+goLC2P48OGxbNmy2LBhg4EDkCgDBgyIa6+9Nlq1apWza5w2bdq/XXLJJc+ZNgAAuez9AmDfAAYAYJc77bTTHn/rrbcezNX1FRUVxTXXXBNDhgwxbAASY8iQIXHNNddEUVFRzq5xwYIFvzv99NOfMG0AAJozATAAALvFEUcccc+GDRtm5ur6CgoK4sorr4wjjjjCsAFIwt/LceWVV0ZBQUHOrrG8vPypESNG/LdpAwDQ3AmAAQDYLaqrq9MXXXTRd2pra1fk7GY6Ly8uvvjiOPLIIw0cgKw1atSouPjiiyMvL3dfA23dunXxZz/72e83NDRkTBwAgObON4ABANhtli9fvr2mpuaFY4899uT8/PyWubjGVCoVgwYNikwmE4sWLTJ0ALLK6aefHueee26kUqmcXWN9fX3FDTfccM3UqVOrTBwAgObi/b4BLAAGAGC3evnll7cUFBS8cMQRR4zOy8trkYtrTKVSccABB0SnTp1i7ty5kck4fATA3lVYWBhXXHFFHHPMMTm9zsbGxuo777zzKz/72c9WmzoAAM2JABgAgL1qxowZlb169Xp98ODBJ6dSqfxcXWfPnj2jb9++8fe//z0aGxsNHoC9olWrVnH11VfHwIEDc3qd6XS64be//e2Nt9122wJTBwCguREAAwCw1z3xxBPlw4cPX9OvX79jIyJn76Hs2LFjDBw4MObMmRN1dXUGD8Ae1a5du7jxxhujT58+ub7U9JQpU779xS9+8XlTBwCgOXq/ADhPewAA2FPGjBkz9Y033vh1rq+zZ8+eceONN0bHjh0NHYA9pkuXLnHTTTdF9+7dc36tc+fO/eU555zzF1MHAID/SwAMAMAe9alPfernS5cufTjX19mlS5e49dZb48ADDzR0AHa7gQMHxje/+c3o1KlTzq/1rbfeemjEiBG/MnUAANg5ATAAAHvcsccee8/GjRtfyPV1FhcXx7XXXhsjRowwdAB2m8MPPzyuuuqqaNmyZc6vdePGjc8fffTR95g6AAC8NwEwAAB7XEVFReNxxx339crKyr/l+loLCgrisssui/PPPz9SqZThA7DLpFKpOP/88+PSSy+NgoKCnF/vpk2bXj7ssMNuqaysbDJ9AAB4bwJgAAD2isWLF9efddZZN1dXV7/ZHNZ7/PHHx5e//OUoKioyfAA+sRYtWsSXv/zlOP7445vFequrq98cM2bMN8rLyxtMHwAA3l9+24Oi585+kN4WUVteqEMAAOw2a9asaVi1atWs0aNHH1dQUNA619fbrVu3OOCAA2LevHlRX1/vAQDgYykrK4trrrkmDjrooGax3rq6uvKxY8de89RTT202fQAA+Ifi7o2RV7rznwmAAQDYq+bNm1ezevXqZ04++eTjCwoKSnN9ve3atYuRI0fG8uXLY+PGjR4AAD6S/v37x0033RRdu3ZtFuutr69fd9111335T3/6U4XpAwDA/xAAAwCQ1ebMmbMtlUq9fOSRR56Ul5eX83ckt2jRIkaMGBG1tbWxdOlSDwAAH8rxxx8fX/rSl5rN5wQaGxu33HXXXdf99Kc/XWn6AADwvwmAAQDIejNnzqzs2bPn64MHDz4plUrl5/p6U6lUHHLIIdGqVatYsGBBZDIZDwEAO5WXlxef/exn4/TTT49UKtUs1pxOp7f//ve//+o3vvGN1z0BAADwfwmAAQBIhEmTJpXvs88+8wYOHHhCKpUqaA5r3m+//WLAgAExd+5c3wUG4P8oKyuL6667LoYNG9Zs1pxOp7f/8Y9/vOmqq676qycAAAB2TgAMAEBiTJw4cc3BBx+85MADDzwulUrlNYc1t2/fPoYOHRqLFi2KLVu2eAgAiIiIffbZJ66//vro2bNns1lzJpNpnDBhwm1f/OIXn/cEAADAexMAAwCQKI8++ujy/fff/42DDjrohOZwHXRERHFxcRx11FHR2NgYb731locAoJkbPXp0XHHFFVFSUtJs1pxOpxsefvjhr15yySWzPAEAAPD+BMAAACTO+PHjVw0cOHDpAQcccGxzOQmcSqViwIAB0aVLl3jjjTeiqanJgwDQzBQVFcWll14aJ554YrP53m/EP07+Pv7447dffPHFMz0FAADwwQTAAAAk0iOPPLLs0EMPXbb//vs3mxA4IqJHjx4xZMiQePPNN2Pr1q0eBIBmonv37vEv//IvccABBzSrdWcymaYnnnji9s997nPPeAoAAODDEQADAJBYDz/88NJjjjlmY+/evY+KiGZzFKq0tDSGDx8eq1evjvXr13sQAHLcwIED45prrol27do1t6VnZsyY8YOzzjprqqcAAAA+PAEwAACJdv/99795zDHHVO6zzz5HRDMKgVu0aBGHHXZYtGzZMhYuXBjpdNrDAJBjCgoK4pxzzonzzz8/WrRo0dyWn37uuefuOuWUUyZ4EgAA4KMRAAMAkHi///3v5w8bNmxF3759j2lO10GnUqno27dvDB06NBYvXhxbtmzxMADkiJ49e8YNN9wQgwcPblbf+434x7XPU6ZM+fbpp58+2ZMAAAAfnQAYAICc8OCDDy4ZNmzYin79+jWrEDgionXr1nHEEUdEfX19LF261MMAkGCpVCpOOOGEuOKKK6JNmzbNbv07wt9vnXPOOX/xNAAAwMcjAAYAIGc89NBDS4YNG7a8X79+xza3EDg/Pz8OPvjg6NWrV8yfPz8aGho8EAAJU1JSEpdffnmccMIJkZ+f3+zWn8lkGp944olvffazn53maQAAgI9PAAwAQE556KGHlo4cOXJdnz59RqWa252ZEdG1a9cYNmxYLFu2LCorKz0QAAnRt2/fuO6662K//fZrluvPZDLpp59++rvnnHPO054GAAD4ZATAAADknD/96U+LDj300KX7779/s7sOOiKiuLg4jjzyyCgpKYk333wz0um0hwIgSxUUFMRnP/vZuPDCC6OkpKRZ9iCdTjc88sgjt5x//vnTPREAAPDJCYABAMhJDz/88NId3wQelUqlmt09mqlUKvr06RMHH3xwLFy4MLZt2+ahAMgynTt3jrFjx8bQoUOjGV5aERH/CH+feOKJ2y+88MLnPBEAALBrCIABAMhZDz300JIePXq8NmjQoGPz8vJaNMcetG3bNkaNGhVNTU2xZMkSDwVAFkilUjF69Oi48soro0OHDs22D01NTdt++9vf/stll132oqcCAAB2HQEwAAA5bdKkSeXdu3efM3jw4GYbAufn58eAAQOiV69esWDBgti+fbsHA2Avad26dVx66aVx/PHHR35+frPtQ2NjY/WvfvWrf7nuuute81QAAMCuJQAGACDnTZ48eW1jY+OMI4444uiCgoKS5tqHrl27xqhRo2Lbtm2xcuVKDwbAHpRKpWLUqFExduzY6NWrV7PuRX19/fo77rjjK9/61rcWejIAAGDXEwADANAsPP/881UbNmx45rjjjjuqsLCwrLn2obCwMAYNGhT77bdfLF68OGpraz0cALtZ+/bt44orrogTTzwxCgub9/uU2tralTfffPPVP/nJT1Z7MgAAYPcQAAMA0Gz87W9/27p27doZJ5xwwsjCwsK2zbkXnTp1ipEjR0Z1dbXTwAC70ciRI+Pqq6+OHj16NPte1NTULL/hhhuu/e1vf7vOkwEAALuPABgAgGbltdde2zpv3rynTznllKFFRUWdmnMvCgsL49BDD4399tsvFi1a5DQwwC709qnfk08+udmf+o2I2Lx587yLL774unHjxm30dAAAwO71fgFwat9zYsTOftC4LmLjq610DwCAxOrVq1fhs88++69du3Y9QTciGhoaYurUqTF58uRobGzUEICPqaCgIE499dQYPXq04HeH8vLyp4499tjvrly5skE3AABg9+swrDYKuuz8ZwJgAAByWuvWrfNeeumlm/fdd9+zdeMfVq9eHffff38sWbJEMwA+ov322y8uuugi1z2/w8KFC38/fPjwnzY0NGR0AwAA9gwBMAAAzd7zzz9/8aGHHnp1RKR0IyKTycTMmTPjz3/+c9TV1WkIwAcoKSmJ8847L0aMGBGplL9Kdki//PLL9xx77LEPagUAAOxZ7xcA+wYwAADNwn333Tfn+OOP39yrV6/DQwgcqVQqevfuHcOHD49169ZFRUWFhwTgPRxyyCExduzY6N+/v/B3h0wm0/jMM8/828knnzxONwAAYM97v28AC4ABAGg2fve7370xePDgJf369Ts6lUrl60hEcXFxjBgxInr06BFLly6N2tpaTQHYoUOHDvGFL3whzjzzzCguLtaQHZqammoeeOCBWz73uc9N1w0AANg7BMAAALDDww8/vKygoOC54cOHH1FQUFCqI//QrVu3OO6446K0tDQWL14cTU1NmgI0Wy1btoxzzjknLr300ujevbuGvENtbe2K22677arbbrvtDd0AAIC9RwAMAADv8Oyzz25avHjx0yeddNKQoqKiTjryD3l5edGnT58YOXJkbN26NVatWqUpQLNz+OGHx1e+8pUYMGBA5OXlacg7VFVV/e3CCy+8/oEHHvDdAAAA2MsEwAAA8C7z58+vefbZZ58+44wz+hcXF/fSkf/RsmXLGDJkSOyzzz6xdOnSqKmp0RQg53Xs2DG++MUvximnnBItW7bUkHdZt27dMyeffPI3Xn755W26AQAAe9/7BcCpfc+JETv7QeO6iI2vttI9AAByWmFhYer555//0sEHH3y5bvxfTU1N8fzzz8f48eOjurpaQ4Cc07p16zjzzDPjyCOPdOJ35zJ///vff3rMMcfc39DQkNEOAADIDh2G1UZBl53/TAAMAAARMWnSpM8cc8wxt6RSKdfg7ERNTU1MmTIlpk2bFg0NDRoCJF5hYWGccsopcdJJJ0VRUZGG7EQ6na6fOnXqd88555y/6AYAAGSX9wuAXQENAAAR8Yc//GHhfvvt98aAAQOOysvLkwS8S2FhYQwYMCCGDh0amzZtinXr1mkKkFiDBw+Oq666KoYOHRoFBQUashONjY1Vv//972/5whe+MEs3AAAg+/gGMAAAfAgTJkxYXV1dPf3II4/8VGFhYTsd+b9KS0vjsMMOi/79+8eaNWti8+bNmgIkRu/evePyyy+PU045JUpLSzXkPWzdunXxLbfccs33vve9hboBAADZyTeAAQDgI+jTp0+LJ5988us9evQ4TTfe3/z58+ORRx6JlStXagaQtXr16hXnnHNODBgwQDM+wKpVq5444YQTfrBy5Ur3/QMAQBbzDWAAAPgYnnnmmfOHDx9+fSqVytON95bJZGL27Nkxbty4qKio0BAga3Tu3DnOOuusGDp0aKRSKQ15/z/Lm2bNmvXDk08++THdAACA7OcbwAAA8DH85je/eX3//fd//cADDzzSd4HfWyqViu7du8cxxxwT7dq1i2XLlkV9fb3GAHtN27Zt49xzz42LL744evToIfz9AI2NjdUPPvjgLZ/97Gf/ohsAAJAMvgEMAAAf0/jx41dFxPOHHXbYiMLCwjIdeW95eXnRu3fvOOqoo6KgoCBWrlwZjY2NGgPsMcXFxXHKKafEl770pejbt2/k5bnA4YPU1tau+MEPfnD9LbfcMk83AAAgQf/94xvAAADwyQwePLjVo48++s1u3bqdpBsfTn19fTzzzDMxderU2LZtm4YAu01ZWVmceuqpceSRR0ZRkQsbPqyVK1c+/ulPf/pHixcvdm0DAAAkjG8AAwDALvLkk0+edeSRR96USqVcl/MhCYKB3eXtE7/HHnus4PcjyGQyDbNmzfoP3/sFAIDk8g1gAADYRX7/+98v6NGjx2uHHHLIyPz8fL8x+SEUFBREv3794qijjoq8vLxYtWqVq6GBT6Rly5ZxwgknxBVXXBEHHXRQFBQUaMqH1NDQsOG3v/3t1z7/+c8/oxsAAJBcroAGAIBd7Lzzzut4991339m2bdvBuvHR1NTUxLPPPhvTpk2LLVu2aAjwoZWVlcXxxx8fxxxzTBQXF2vIR1RVVfW3a6+99vZHHnlkg24AAECyuQIaAAB2g06dOhVMmzZtbN++fT8XESkd+WgaGhri+eefjyeffDI2bJBFAO/7522cdNJJccQRR0RhodvKPobMokWL/nTsscf+pLKyskk7AAAg+QTAAACwG/3hD38Ydfrpp99WUFDQRjc+unQ6Ha+++mpMnTo1Vq5cqSHAP/Xq1StOOeWUGDp0aOTl5WnIx9DY2Fg1YcKEOy666KKZugEAALlDAAwAALvZaaed1vbee+/9docOHUbqxse3fPnymDZtWrz88suRTqc1BJqhvLy8OOyww+L444+P3r17a8gnsHHjxue//OUvf3fSpElVugEAALlFAAwAAHtAYWFh6qmnnjpv+PDh16RSKXeUfgIbNmyIGTNmxHPPPRc1NTUaAs1AcXFxjBo1Ko4++ujo2LGjhnwCmUym4ZVXXvl/J5100kMNDQ0ZHQEAgNzzfgFwftuDoufOfpDeFlFb7p0VAAB8WOl0On7zm9+8Xlpa+uLgwYM/VVhYWKYrH09xcXEMGDAgjj322GjTpk2sXbs2amtrNQZyUIcOHeKMM86ISy+9NAYOHBjFxcWa8gnU1tau+slPfnLjxRdf/IybFAAAIHcVd2+MvNKd/8wJYAAA2A1OPPHENvfdd9+tnTp1Olo3PrnGxsb429/+Fs8++2wsWrRIQyAH9OvXL44++ugYNmxYFBQUaMguUFFR8cwXv/jFf5s+ffoW3QAAgNzmCmgAANhLHn744RNGjx799YKCgta6sWusX78+Zs6cGc8//3xUV1drCCRIaWlpHHnkkXHUUUdF586dNWQXaWxs3DJ16tS7PvvZz/5FNwAAoHkQAAMAwF50ySWXdP3+97//rXbt2g3VjV2nsbExXnvttXjuuedi/vz5GgJZbMCAATFq1KgYPHiw0767WFVV1atf//rXv/e73/1urW4AAEDzIQAGAIC9rF27dvlTp0699OCDD740lUrl68iutXz58nj++efj5ZdfjpqaGg2BLFBSUhLDhw+PI444Inr37q0hu1gmk2mcN2/efSeeeOJvq6urfewXAACaGQEwAABkia9//ev73Xjjjf9aWlraXzd2vXQ6HW+++WY899xz8dprr0VjY6OmwB5UUFAQgwcPjlGjRsUBBxwQeXl5mrIbVFdXL/zP//zPf/3BD36wRDcAAKB5EgADAEAWOfjgg1v9+c9/vrZ3795jIiKlI7tHZWVlvPjii/HCCy/EunXrNAR2o65du8bIkSPj8MMPj7Zt22rI7pNZunTpn88888z/t3jx4nrtAACA5ksADAAAWejuu+8eePHFF9/WqlUrd6PuZuXl5fHqq6/GSy+9FOvXr9cQ2AU6d+4cI0aMiGHDhkW3bt00ZDerqalZ9tvf/vbOm266aa5uAAAAAmAAAMhS/fr1K3r44Ycv79+//4WpVMpdqXvA8uXL46WXXoqXX345qqurNQQ+grKyshg+fHiMGDHCd333kEwmk164cOEfzj777F8sXbp0u44AAAARAmAAAMh6P/3pT4d97nOf+2bLli176Mae0dDQEHPnzo2//vWvMXfu3Ni+Xa4CO9OyZcsYNGhQDBs2LA455JAoKCjQlD2ktrZ21R//+Mc7rr322r/rBgAA8E4CYAAASIA+ffq0ePTRR69wGnjPS6fTsXTp0nj11VedDIaIaNu2bQwbNiyGDRsWffr0ibw8fyTtSZlMpuG11177+ZlnnvmnioqKRh0BAADeTQAMAAAJ8uMf//jQCy644JutWrXaRzf2vLdPBs+ePTvmzp0bdXV1mkKzUFZWFoMHD45hw4ZF//79Iz8/X1P2gpqammX333//nTfccINv/QIAAO9JAAwAAAnTrl27/HHjxp37qU996qq8vDwb870kk8nEihUrYu7cuTFnzpxYsWJFZDIZjSEnpFKp6Nu3bwwbNiwGDRoUHTt21JS9qKmpqfbVV1/92ZgxY/5cWVnZpCMAAMD7EQADAEBCffnLX+5x++23f7V9+/aH68bet2XLlnjjjTdizpw5MW/evKivr9cUEqVly5Zx8MEHx6BBg+KQQw6J0tJSTckCGzdufPG73/3uv//iF79YoxsAAMCHIQAGAIAEKywsTE2cOPGMkSNHXlNQUNBaR7JDXV1dvPnmm/HGG2/EG2+8EevXr9cUslKXLl3ioIMOioMOOigOOOCAKCoq0pQs0djYuGXmzJk/PvPMMyc2NDS4XgAAAPjQBMAAAJADjjzyyNY/+9nPrujbt++5EZGnI9mluro6Fi5cGPPnz4958+ZFZWWlprBXtGvXLg455JAYMGBA9O/fP1q39nsjWSj91ltv/fmqq676xaxZs6q1AwAA+KgEwAAAkEN++ctfjhgzZsyNrVq16q0b2SmdTsfKlStj0aJFsXDhwli8eHFs27ZNY9gtSkpKol+/ftG/f//Yf//9o1evXpGX53dEslVNTc3yRx999EdXXnnlK7oBAAB8XAJgAADIMd26dSt8+OGHPzd48ODL8vPzbdyzXCaTiTVr1sTChQtj0aJFsWjRotiyZYvG8LGUlZVF//79/xn6du/ePVKplMZkuaampprXXnvtV2PGjHmgoqKiUUcAAIBPQgAMAAA56rjjjiv7r//6r8tdC508mzdvjuXLl8eKFSti+fLlsXjx4qipqdEY/pfi4uLo169f9O7dO/bZZ5/Yd999o6ysTGMSJJPJpJcsWfLn66677pfTp0/3mx8AAMAuIQAGAIAc99Of/nTIueeee3NpaWlf3UimxsbGWLlyZSxdujSWLVsWy5cvj3Xr1kUmk9GcZiKVSkWXLl1in332iT59+kSfPn2iV69eUVBQoDkJtXXr1sUPPvjgj6699tq/6wYAALArCYABAKAZaNeuXf64cePOGTp06BUFBQWtdST56uvrY+XKlf88KbxixYpYu3ZtpNNpzUm4vLy86Nq1a+yzzz7//KdXr17RsmVLzckBjY2NW/7617/+4pxzznm0srKySUcAAIBdTQAMAADNyIknntjmnnvuuXzfffcdk0qlHB3MMdu3b481a9bEmjVrYu3atbF27dooLy+PDRs2CIazUF5eXnTs2DG6desWXbt2jW7dukW3bt2iR48eUVhYqEE5JpPJNC5ZsuRR1z0DAAC7mwAYAACaoa9+9av7Xnfdddd16NDhCN3IfY2Njf8MhNetWxfr1q2LioqKWLduXWzbtk2DdrPS0tLo3LnzP//p0qVLdO3aNbp27eoK52Ziw4YNM//rv/7rxz/60Y+W6wYAALC7CYABAKAZ++UvfznirLPOuq64uNj3gZupmpqaWL9+/T//qaioiMrKyqisrIxNmzZFY2OjJn2AgoKCaN++fbRr1y7at28fHTt2jC5dukSnTp2ic+fOUVxcrEnN1NatW98aP378PVdcccXLugEAAOwpAmAAAGjm2rVrl//ggw+eOWLEiCsLCwvb6gjvtHnz5n+GwZs2bYrKysqorq6OLVu2xJYtW6K6ujqqq6sjk8nk3NpTqVS0bt06WrduHWVlZdGmTZsoLS39X2Fvu3btok2bNh4U/peGhobKl1566efnnHPO+OrqavevAwAAe5QAGAAAiIiIoUOHFt97770XHHjggRfk5+c7ssiHlk6n/xkEV1dXR01Nzfv+k8lkora2NtLpdNTX10dTU1PU1dXt0u8U5+XlRcuWLSM/Pz+KiooiLy8vWrVqFalUKoqLi3f6T0lJSbRq1eqfgW9paWnk5eUZMB9aU1NTzYIFC/745S9/+Y+zZ8+u0REAAGBvEAADAAD/y2mnndb2rrvuurRPnz5n5+XlFeoIe9LbgfDbtm/f/r7XUBcUFESLFi3++b/fDnxhT8pkMg1LliwZd8stt/xq0qRJVToCAADsTQJgAABgp0477bS2d95554X777//5wTBAP9XJpNpWLhw4QO33nrrHwS/AABAtni/ADi/7UHRc2c/SG+LqC33/gcAAHLZokWL6u69995X0un0swcddFCnkpKS3roC8A8VFRUz/7//7/+77aKLLpq6aNGiOh0BAACyRXH3xsgr3fnPBMAAAEDMnDmz8u67736qqalpWr9+/Ypbt27dN5VKpXQGaG4ymUx6zZo1U+65555/Peeccx6cOXNmpa4AAADZRgAMAAB8KDNnzqz88Y9//Gw6nZ4uCAaak7eD37vvvvtfzz///McEvwAAQDYTAAMAAB+JIBhoLgS/AABAEgmAAQCAj+XtILisrOyFvn37diwuLu4VEYJgIBdkKioqnrv33nu/PWbMmEcEvwAAQJK8XwCc2vecGLGzHzSui9j4aivdAwAA/unqq6/u8ZWvfOX8Pn36nJWXl9dCR4CkSafT9UuXLh3/X//1Xw/84he/WKMjAABAEnUYVhsFXXb+MwEwAADwkZ1xxhntb7/99rMPPPDA8/Pz81vrCJDtmpqaqhcsWPDgd77znUcmTpzotC8AAJBoAmAAAGC3GD58eMkPf/jDzwwePPjioqKijjoCZJv6+voNr7322u9vvPHGx2fPnl2jIwAAQC4QAAMAALvV0KFDi++5556zDjnkkPOKioq66giwt9XV1a19/fXXH7z++uvHC34BAIBcIwAGAAD2iFatWuXdc889w0455ZTzO3bseJSOAHtYZsOGDbOmTJny4PXXX/9qbW1tWksAAIBcJAAGAAD2uH/913/tf/7555/dq1ev0/Ly8lroCLC7pNPp+pUrV05+4IEHHvnOd76zSEcAAIBcJwAGAAD2mjPOOKP97bfffvYBBxzw2YKCgjY6AuwqjY2NVW+++eafv/e97z06YcKETToCAAA0FwJgAABgrxs+fHjJ97///dGDBg0aU1paur+OAB9XdXX1wtdee+3Rr371q1Nfe+21Wh0BAACaGwEwAACQVb761a/ue8EFF3y6b9++ZxUUFLTWEeCDNDY2bnnrrbfG/+EPf5j4ox/9aLmOAAAAzZkAGAAAyEpDhw4t/sEPfnDy4MGDz27dunV/HQHerbq6+s2XX375weuuu+7ppUuXbtcRAAAAATAAAJDlCgsLU3ffffeQ0aNHn9G1a9fj8vLyinQFmq90Ol1XXl4+bcqUKROuvfbav+sIAADA/yYABgAAEqNPnz4t/v3f/33UyJEjz2rfvv2nIiKlK9AsZDZt2vTXF1544bGvfe1rzzntCwAA8N4EwAAAQCJddNFFXa6++uqTDzzwwLNbtmzZTUcg99TV1a1ZsGDBuJ/+9KdP3n///et0BAAA4IMJgAEAgETr1q1b4d13333k4YcffmqHDh2OyMvLK9QVSK50Ot2wcePGWbNmzZp8/fXXz6qoqGjUFQAAgA9PAAwAAOSMo48+uvWtt956/CGHHHJKu3btBkdEnq5AIqQrKytfmzdv3uQ777xz+owZM6q1BAAA4OMRAAMAADnpuOOOK/vGN75x/CGHHHJa27ZtB4bvBUO2yVRVVc2dN2/epO9///vTpk+fvkVLAAAAPjkBMAAAkPNuu+22vmedddZJffr0Oa5Vq1a9dQT2ntra2uXLly+f/uijjz51xx13vKUjAAAAu5YAGAAAaFa+9KUvdbv44ouP7t+//wlOBsMekamqqpq7cOHCv/z+97+fcd9995VrCQAAwO4jAAYAAJqtSy65pOtll112jDAYdrl0VVXVvIULF/7lV7/61bO/+93v1moJAADAniEABgAAiIirr766x/nnnz9q//33P7JNmzZDUqlUga7Ah5fJZBoqKyv/vnjx4uf+9Kc/zbr33ntX6woAAMCeJwAGAAB4l379+hV97WtfGzRy5MhRPXv2PLaoqKizrsD/VV9fv37VqlXPvPDCC8/9+7//+5zFixfX6woAAMDeJQAGAAB4H61bt8678847Bx599NFHde/efURpaen+4apomq/M1q1bF69Zs+bF5557btY3v/nNOdXV1WltAQAAyB4CYAAAgI9g8ODBrcaOHXvI8OHDD+vevfvw1q1bHxACYXJXprq6+s01a9a88sorr7z8k5/8ZN5rr71Wqy0AAADZSwAMAADwCVx//fX7nHHGGYf169dvePv27Yfm5+e31hWSrLGxsXrjxo2vvvXWWy+PHz/+lR//+McrdQUAACA5BMAAAAC70Je//OUe55xzzvA+ffoM7tix45CioqKuukI2q6+vX7t27doXFy9ePGfixImv3Xvvvat1BQAAILkEwAAAALvRl7/85R6f+cxnBvfr129Qly5dDm/ZsqVAmL2qrq5u7bp16wS+AAAAOUoADAAAsIe0atUq75prrtnn2GOPPXi//fY7uH379oeUlpb2TaVS+brDbpKuqalZtnHjxnlvvfXW3GeffXbef/3Xfy2vra1Naw0AAEBuEgADAADsRQceeGDLq6+++oAhQ4Yc3LNnz4Pbtm17sGuj+biampqqq6qqXi8vL583Z86ceb/85S/nvfjii1t1BgAAoPkQAAMAAGSZoUOHFn/xi1/cf9CgQQf26NHjwHbt2h3YqlWr3qlUKk932CFdU1OzvLKycsHq1asXzJkzZ8Gf//znJTNmzKjWGgAAgOZNAAwAAJAAxx13XNkFF1xw4MEHH3xA165dDywtLd23pKRkn1QqVag7uS2TyTRs27ZtRXV19dJ169YtfOONNxZOmDBh4YQJEzbpDgAAAO8mAAYAAEiw8847r+OJJ57Yp3///vt16dKlT5s2bfZr3bp1v/z8/GLdSZampqaa6urqxZs3b16ybt26pQsXLlzy9NNPL33ooYc26A4AAAAflgAYAAAgx7Rr1y7/kksu6TFkyJCe++67b89OnTr1Kisr61VcXNyzZcuW3VKpVL4u7R2ZTKaprq6uvKamZtWWLVtWVlRUrFy6dOnK2bNnr7r//vvXVFZWNukSAAAAn4QAGAAAoBnp1KlTwec+97luQ4cO7bnPPvv0aNeuXafWrVt3Li4u7tqyZcvORUVFnfLy8lro1MeTTqe319fXr6+rq6uoqalZW11dvb6ysnL9ihUrVr/66qurHnzwwbUVFRWNOgUAAMDuIgAGAADgfznjjDPaH3bYYZ369OnTuUuXLp3Kysral5SUtC0uLu5YVFTUrqioqG2LFi065OfnlzaXnjQ1NW3dvn37xvr6+qr6+vrKmpqaDdu2bavasmXLpnXr1lUsXbp0/Ysvvrh+4sSJlZ4gAAAA9iYBMAAAAB9Lr169CkeNGtXuoIMOatexY8ey9u3bl7Zp06Z1SUlJWXFxcetWrVq1btGiRVlRUVHrwsLC1hGRX1hYWBoR+QUFBSV5eXkFeXl5u/0/LtPpdG06nW5sbGzcFhFNDQ0NW3f83+r6+vrq7du3b6mtra2uqamp3rZtW/XmzZurN23aVL1hw4YtCxYsqJo1a1bl0qVLt5s4AAAASSAABgAAYK/q169fUffu3Vvss88+xSUlJQVv//8LCwtT3bp1+8BTxuXl5VsbGhoyb//vbdu2Na5YsaJmzZo12xcvXlyvwwAAADQn7xcAF2gPAAAAu9vixYvrdwS11boBAAAAu0+eFgAAAAAAAADkBgEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4o0AIAAAAAAACA5GhoLIyCxoaIiEilIpNXGE1v/0wADAAAAAAAAJAghQUN/0x6MxGppvT/5L6ugAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAIb/v5272ZHiusM4/FZ1NUkz9sQwOF4EyZJtpJCwysa5jSy4n1xPEqRIuQFvvfGSgIwBOzGRQAQERnx0d1UW0cgWGvKxsMGvnmfVdc7/1OJsf+oCAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoMY3JP//9K8My551lzpAk293a7QAAAAAAAAD8iIw3r+SL7TpPxuSt4/ibJJuz20QDBgAAAAAAAHhzrJPp6NvHYcyyjLl7dJTPbl/Jp6sPLufSsM+5ec7q5YOrF0OeP/SVaAAAAAAAAIA3weH7u6zfm79dWDIMSw6225w785vsx3XyzasOby5ssz69c4sAAAAAAAAAr9n69C6bC9sT93a7rKdnORin5Otxynzi1JQcfiwCAwAAAAAAALxO69O7HH68TaaT98cp85R8vbp3Nfszv8q0LHn7xMF1sjk/ZzUPmZ/MmWefhAYAAAAAAAD4oayPdjn7223Gn7x6ZrXPnetX8mBKkpv3cufDd/Pufn5FL56SzcVtNheT3dNt8tQlAwAAAAAAAHyv1sm0ySv/9XtsNWZ3I/lHkgzHi7/4XY7WYz5yiwAAAAAAAAA/Ivtcv/3nPEyS1fHa42t5+vNLyX7JoRsCAAAAAAAAePPt1/nbV3/KvePn1Xc371/NYxEYAAAAAAAA4M0yTHk2rvNo2WdzvHZqzN9v/SF3vju3evng/at5fPDLPDu1yuGyZHSVAAAAAAAAAK/XOGe4ueSvZ4e8M8xZbVe5ceuPufvy3Oqkw4+v5emDX+fuuTlLhhwsEYIBAAAAAAAAXpclGR8OuXP0TR4cPM/9z/+SRyfNDf/1TZezOp/87KdjzizJZkhO7edMy/w/nAUAAAAAAADg/zaMWcZkP8/ZLsmLacr2/MV8+cnvs/tP5/4FmLjAq1ifcioAAAAASUVORK5CYII=";function it(t,e,n){return typeof t=="string"&&!isNaN(Number(t))&&(t=Number(t)),typeof t=="number"&&t<100?xt(t):typeof t=="number"&&t>=100?t:typeof t=="string"&&t.includes("%")?Math.round(e&&e==="X"?parseFloat(t)/100*n.width:e&&e==="Y"?parseFloat(t)/100*n.height:parseFloat(t)/100*n.width):0}function yf(t){return t.replace(/[xy]/g,function(e){const n=Math.random()*16|0;return(e==="x"?n:n&3|8).toString(16)})}function Xe(t){return typeof t>"u"||t==null?"":t.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function xt(t){return typeof t=="number"&&t>100?t:(typeof t=="string"&&(t=Number(t.replace(/in*/gi,""))),Math.round(Ye*t))}function He(t){const e=Number(t)||0;return isNaN(e)?0:Math.round(e*Yu)}function ao(t){return t=t||0,Math.round((t>360?t-360:t)*6e4)}function Pg(t){const e=t.toString(16);return e.length===1?"0"+e:e}function jg(t,e,n){return(Pg(t)+Pg(e)+Pg(n)).toUpperCase()}function Ct(t,e){let n=(t||"").replace("#","");!Rg.test(n)&&n!==kr.background1&&n!==kr.background2&&n!==kr.text1&&n!==kr.text2&&n!==kr.accent1&&n!==kr.accent2&&n!==kr.accent3&&n!==kr.accent4&&n!==kr.accent5&&n!==kr.accent6&&(console.warn(`"${n}" is not a valid scheme color or hex RGB! "${vr}" used instead. Only provide 6-digit RGB or 'pptx.SchemeColor' values!`),n=vr);const r=Rg.test(n)?"srgbClr":"schemeClr",a='val="'+(Rg.test(n)?n.toUpperCase():n)+'"';return e?`<a:${r} ${a}>${e}</a:${r}>`:`<a:${r} ${a}/>`}function Q8(t,e){let n="";const r=Object.assign(Object.assign({},e),t),a=Math.round(r.size*Yu),i=r.color,s=Math.round(r.opacity*1e5);return n+=`<a:glow rad="${a}">`,n+=Ct(i,`<a:alpha val="${s}"/>`),n+="</a:glow>",n}function Pr(t){let e="solid",n="",r="",a="";if(t)switch(typeof t=="string"?n=t:(t.type&&(e=t.type),t.color&&(n=t.color),t.alpha&&(r+=`<a:alpha val="${Math.round((100-t.alpha)*1e3)}"/>`),t.transparency&&(r+=`<a:alpha val="${Math.round((100-t.transparency)*1e3)}"/>`)),e){case"solid":a+=`<a:solidFill>${Ct(n,r)}</a:solidFill>`;break;default:a+="";break}return a}function Ha(t){return t._rels.length+t._relsChart.length+t._relsMedia.length+1}function $y(t){if(!(!t||typeof t!="object"))return t.type!=="outer"&&t.type!=="inner"&&t.type!=="none"&&(console.warn("Warning: shadow.type options are `outer`, `inner` or `none`."),t.type="outer"),t.angle&&((isNaN(Number(t.angle))||t.angle<0||t.angle>359)&&(console.warn("Warning: shadow.angle can only be 0-359"),t.angle=270),t.angle=Math.round(Number(t.angle))),t.opacity&&((isNaN(Number(t.opacity))||t.opacity<0||t.opacity>1)&&(console.warn("Warning: shadow.opacity can only be 0-1"),t.opacity=.75),t.opacity=Number(t.opacity)),t.color&&t.color.startsWith("#")&&(console.warn('Warning: shadow.color should not include hash (#) character, , e.g. "FF0000"'),t.color=t.color.replace("#","")),t}function X8(t,e,n){var r,a;const i=2.3+(!((r=t.options)===null||r===void 0)&&r.autoPageCharWeight?t.options.autoPageCharWeight:0),s=Math.floor(e/Yu*Ye)/((!((a=t.options)===null||a===void 0)&&a.fontSize?t.options.fontSize:Qr)/i),l=[];let c=[];const d=[],u=[];t.text&&t.text.toString().trim().length===0?c.push({_type:Ke.tablecell,text:" "}):typeof t.text=="number"||typeof t.text=="string"?c.push({_type:Ke.tablecell,text:(t.text||"").toString().trim()}):Array.isArray(t.text)&&(c=t.text);let h=[];return c.forEach(p=>{var m;typeof p.text=="string"&&(p.text.split(`
`).length>1?p.text.split(`
`).forEach(g=>{h.push({_type:Ke.tablecell,text:g,options:Object.assign(Object.assign({},p.options),{breakLine:!0})})}):h.push({_type:Ke.tablecell,text:p.text.trim(),options:p.options}),!((m=p.options)===null||m===void 0)&&m.breakLine&&(d.push(h),h=[])),h.length>0&&(d.push(h),h=[])}),d.forEach(p=>{p.forEach(m=>{const g=[],v=String(m.text).split(" ");v.forEach((x,y)=>{const w=Object.assign({},m.options);w!=null&&w.breakLine&&(w.breakLine=y+1===v.length),g.push({_type:Ke.tablecell,text:x+(y+1<v.length?" ":""),options:w})}),u.push(g)})}),u.forEach(p=>{let m=[],g="";p.forEach(A=>{g.length+A.text.length>s&&(l.push(m),m=[],g=""),m.push(A),g+=A.text.toString()}),m.length>0&&l.push(m)}),l}function RT(t=[],e={},n,r){let a=bu,i=Ye*1,s=Ye*1,l=0,c=0;const d=[],u=it(e.x,"X",n),h=it(e.y,"Y",n),p=it(e.w,"X",n),m=it(e.h,"Y",n);let g=p;function A(){let x=0;d.length===0&&(x=h||xt(a[0])),d.length>0&&(x=xt(e.autoPageSlideStartY||e.newSlideStartY||a[0])),s=(m||n.height)-x-xt(a[2]),d.length>1&&(typeof e.autoPageSlideStartY=="number"?s=(m||n.height)-xt(e.autoPageSlideStartY+a[2]):typeof e.newSlideStartY=="number"?s=(m||n.height)-xt(e.newSlideStartY+a[2]):h&&(s=(m||n.height)-xt((h/Ye<a[0]?h/Ye:a[0])+a[2]),s<m&&(s=m)))}if(e.verbose&&(console.log("[[VERBOSE MODE]]"),console.log("|-- TABLE PROPS --------------------------------------------------------|"),console.log(`| presLayout.width ................................ = ${(n.width/Ye).toFixed(1)}`),console.log(`| presLayout.height ............................... = ${(n.height/Ye).toFixed(1)}`),console.log(`| tableProps.x .................................... = ${typeof e.x=="number"?(e.x/Ye).toFixed(1):e.x}`),console.log(`| tableProps.y .................................... = ${typeof e.y=="number"?(e.y/Ye).toFixed(1):e.y}`),console.log(`| tableProps.w .................................... = ${typeof e.w=="number"?(e.w/Ye).toFixed(1):e.w}`),console.log(`| tableProps.h .................................... = ${typeof e.h=="number"?(e.h/Ye).toFixed(1):e.h}`),console.log(`| tableProps.slideMargin .......................... = ${e.slideMargin?String(e.slideMargin):""}`),console.log(`| tableProps.margin ............................... = ${String(e.margin)}`),console.log(`| tableProps.colW ................................. = ${String(e.colW)}`),console.log(`| tableProps.autoPageSlideStartY .................. = ${e.autoPageSlideStartY}`),console.log(`| tableProps.autoPageCharWeight ................... = ${e.autoPageCharWeight}`),console.log("|-- CALCULATIONS -------------------------------------------------------|"),console.log(`| tablePropX ...................................... = ${u/Ye}`),console.log(`| tablePropY ...................................... = ${h/Ye}`),console.log(`| tablePropW ...................................... = ${p/Ye}`),console.log(`| tablePropH ...................................... = ${m/Ye}`),console.log(`| tableCalcW ...................................... = ${g/Ye}`)),!e.slideMargin&&e.slideMargin!==0&&(e.slideMargin=bu[0]),r&&typeof r._margin<"u"?Array.isArray(r._margin)?a=r._margin:isNaN(Number(r._margin))||(a=[Number(r._margin),Number(r._margin),Number(r._margin),Number(r._margin)]):(e.slideMargin||e.slideMargin===0)&&(Array.isArray(e.slideMargin)?a=e.slideMargin:isNaN(e.slideMargin)||(a=[e.slideMargin,e.slideMargin,e.slideMargin,e.slideMargin])),e.verbose&&console.log(`| arrInchMargins .................................. = [${a.join(", ")}]`),(t[0]||[]).forEach(y=>{y||(y={_type:Ke.tablecell});const w=y.options||null;c+=Number(w!=null&&w.colspan?w.colspan:1)}),e.verbose&&console.log(`| numCols ......................................... = ${c}`),!p&&e.colW&&(g=Array.isArray(e.colW)?e.colW.reduce((x,y)=>x+y)*Ye:e.colW*c||0,e.verbose&&console.log(`| tableCalcW ...................................... = ${g/Ye}`)),i=g||xt((u?u/Ye:a[1])+a[3]),e.verbose&&console.log(`| emuSlideTabW .................................... = ${(i/Ye).toFixed(1)}`),!e.colW||!Array.isArray(e.colW))if(e.colW&&!isNaN(Number(e.colW))){const x=[];(t[0]||[]).forEach(()=>x.push(e.colW)),e.colW=[],x.forEach(w=>{Array.isArray(e.colW)&&e.colW.push(w)})}else{e.colW=[];for(let x=0;x<c;x++)e.colW.push(i/Ye/c)}let v={rows:[]};return t.forEach((x,y)=>{const w=[];let T=0,I=0,R=[];x.forEach(k=>{var P,C,D,b;R.push({_type:Ke.tablecell,text:[],options:k.options}),k.options.margin&&k.options.margin[0]>=1?(!((P=k.options)===null||P===void 0)&&P.margin&&k.options.margin[0]&&He(k.options.margin[0])>T?T=He(k.options.margin[0]):e!=null&&e.margin&&e.margin[0]&&He(e.margin[0])>T&&(T=He(e.margin[0])),!((C=k.options)===null||C===void 0)&&C.margin&&k.options.margin[2]&&He(k.options.margin[2])>I?I=He(k.options.margin[2]):e!=null&&e.margin&&e.margin[2]&&He(e.margin[2])>I&&(I=He(e.margin[2]))):(!((D=k.options)===null||D===void 0)&&D.margin&&k.options.margin[0]&&xt(k.options.margin[0])>T?T=xt(k.options.margin[0]):e!=null&&e.margin&&e.margin[0]&&xt(e.margin[0])>T&&(T=xt(e.margin[0])),!((b=k.options)===null||b===void 0)&&b.margin&&k.options.margin[2]&&xt(k.options.margin[2])>I?I=xt(k.options.margin[2]):e!=null&&e.margin&&e.margin[2]&&xt(e.margin[2])>I&&(I=xt(e.margin[2])))}),A(),l+=T+I,e.verbose&&y===0&&console.log(`| SLIDE [${d.length}]: emuSlideTabH ...... = ${(s/Ye).toFixed(1)} `),x.forEach((k,P)=>{var C;const D={_type:Ke.tablecell,_lines:null,_lineHeight:xt((!((C=k.options)===null||C===void 0)&&C.fontSize?k.options.fontSize:e.fontSize?e.fontSize:Qr)*(U8+(e.autoPageLineWeight?e.autoPageLineWeight:0))/100),text:[],options:k.options};D.options.rowspan&&(D._lineHeight=0),D.options.autoPageCharWeight=e.autoPageCharWeight?e.autoPageCharWeight:null;let b=e.colW[P];k.options.colspan&&Array.isArray(e.colW)&&(b=e.colW.filter((O,z)=>z>=P&&z<z+k.options.colspan).reduce((O,z)=>O+z)),D._lines=X8(k,b),w.push(D)}),e.verbose&&console.log(`
| SLIDE [${d.length}]: ROW [${y}]: START...`);let _=0,N=0,E=!1;for(;!E;){const k=w[_];let P=R[_];w.forEach(b=>{b._lineHeight>=N&&(N=b._lineHeight)}),l+N>s&&(e.verbose&&(console.log(`
|-----------------------------------------------------------------------|`),console.log(`|-- NEW SLIDE CREATED (currTabH+currLineH > maxH) => ${(l/Ye).toFixed(2)} + ${(k._lineHeight/Ye).toFixed(2)} > ${s/Ye}`),console.log(`|-----------------------------------------------------------------------|

`)),R.length>0&&R.map(O=>O.text.length).reduce((O,z)=>O+z)>0&&v.rows.push(R),d.push(v),v={rows:[]},R=[],x.forEach(O=>R.push({_type:Ke.tablecell,text:[],options:O.options})),A(),l+=T+I,e.verbose&&console.log(`| SLIDE [${d.length}]: emuSlideTabH ...... = ${(s/Ye).toFixed(1)} `),l=0,(e.addHeaderToEach||e.autoPageRepeatHeader)&&e._arrObjTabHeadRows&&e._arrObjTabHeadRows.forEach(O=>{const z=[];let G=0;O.forEach(Q=>{z.push(Q),Q._lineHeight>G&&(G=Q._lineHeight)}),v.rows.push(z),l+=G}),P=R[_]);const C=k._lines.shift();Array.isArray(P.text)&&(C?P.text=P.text.concat(C):P.text.length===0&&(P.text=P.text.concat({_type:Ke.tablecell,text:""}))),_===w.length-1&&(l+=N),_=_<w.length-1?_+1:0,w.map(b=>b._lines.length).reduce((b,O)=>b+O)===0&&(E=!0)}R.length>0&&v.rows.push(R),e.verbose&&console.log(`- SLIDE [${d.length}]: ROW [${y}]: ...COMPLETE ...... emuTabCurrH = ${(l/Ye).toFixed(2)} ( emuSlideTabH = ${(s/Ye).toFixed(2)} )`)}),d.push(v),e.verbose&&(console.log(`
|================================================|`),console.log(`| FINAL: tableRowSlides.length = ${d.length}`),d.forEach(x=>console.log(x)),console.log(`|================================================|

`)),d}function K8(t,e,n={},r){const a=n||{};a.slideMargin=a.slideMargin||a.slideMargin===0?a.slideMargin:.5;let i=a.w||t.presLayout.width;const s=[],l=[],c=[],d=[],u=[];let h=[.5,.5,.5,.5],p=0;if(!document.getElementById(e))throw new Error('tableToSlides: Table ID "'+e+'" does not exist!');r!=null&&r._margin?(Array.isArray(r._margin)?h=r._margin:isNaN(r._margin)||(h=[r._margin,r._margin,r._margin,r._margin]),a.slideMargin=h):a!=null&&a.slideMargin&&(Array.isArray(a.slideMargin)?h=a.slideMargin:isNaN(a.slideMargin)||(h=[a.slideMargin,a.slideMargin,a.slideMargin,a.slideMargin])),i=(a.w?xt(a.w):t.presLayout.width)-xt(h[1]+h[3]),a.verbose&&(console.log("[[VERBOSE MODE]]"),console.log("|-- `tableToSlides` ----------------------------------------------------|"),console.log(`| tableProps.h .................................... = ${a.h}`),console.log(`| tableProps.w .................................... = ${a.w}`),console.log(`| pptx.presLayout.width ........................... = ${(t.presLayout.width/Ye).toFixed(1)}`),console.log(`| pptx.presLayout.height .......................... = ${(t.presLayout.height/Ye).toFixed(1)}`),console.log(`| emuSlideTabW .................................... = ${(i/Ye).toFixed(1)}`));let m=document.querySelectorAll(`#${e} tr:first-child th`);m.length===0&&(m=document.querySelectorAll(`#${e} tr:first-child td`)),m.forEach(A=>{const v=A;if(v.getAttribute("colspan"))for(let x=0;x<Number(v.getAttribute("colspan"));x++)u.push(Math.round(v.offsetWidth/Number(v.getAttribute("colspan"))));else u.push(v.offsetWidth)}),u.forEach(A=>{p+=A}),u.forEach((A,v)=>{const x=Number((Number(i)*(A/p*100)/100/Ye).toFixed(2));let y=0;const w=document.querySelector(`#${e} thead tr:first-child th:nth-child(${v+1})`);w&&(y=Number(w.getAttribute("data-pptx-min-width")));const T=document.querySelector(`#${e} thead tr:first-child th:nth-child(${v+1})`);T&&(y=Number(T.getAttribute("data-pptx-width"))),d.push(y>x?y:x)}),a.verbose&&console.log(`| arrColW ......................................... = [${d.join(", ")}]`),["thead","tbody","tfoot"].forEach(A=>{document.querySelectorAll(`#${e} ${A} tr`).forEach(v=>{const x=v,y=[];switch(Array.from(x.cells).forEach(w=>{const T=window.getComputedStyle(w).getPropertyValue("color").replace(/\s+/gi,"").replace("rgba(","").replace("rgb(","").replace(")","").split(",");let I=window.getComputedStyle(w).getPropertyValue("background-color").replace(/\s+/gi,"").replace("rgba(","").replace("rgb(","").replace(")","").split(",");(window.getComputedStyle(w).getPropertyValue("background-color")==="rgba(0, 0, 0, 0)"||window.getComputedStyle(w).getPropertyValue("transparent"))&&(I=["255","255","255"]);const R={align:null,bold:window.getComputedStyle(w).getPropertyValue("font-weight")==="bold"||Number(window.getComputedStyle(w).getPropertyValue("font-weight"))>=500,border:null,color:jg(Number(T[0]),Number(T[1]),Number(T[2])),fill:{color:jg(Number(I[0]),Number(I[1]),Number(I[2]))},fontFace:(window.getComputedStyle(w).getPropertyValue("font-family")||"").split(",")[0].replace(/"/g,"").replace("inherit","").replace("initial","")||null,fontSize:Number(window.getComputedStyle(w).getPropertyValue("font-size").replace(/[a-z]/gi,"")),margin:null,colspan:Number(w.getAttribute("colspan"))||null,rowspan:Number(w.getAttribute("rowspan"))||null,valign:null};if(["left","center","right","start","end"].includes(window.getComputedStyle(w).getPropertyValue("text-align"))){const _=window.getComputedStyle(w).getPropertyValue("text-align").replace("start","left").replace("end","right");R.align=_==="center"?"center":_==="left"?"left":_==="right"?"right":null}if(["top","middle","bottom"].includes(window.getComputedStyle(w).getPropertyValue("vertical-align"))){const _=window.getComputedStyle(w).getPropertyValue("vertical-align");R.valign=_==="top"?"top":_==="middle"?"middle":_==="bottom"?"bottom":null}window.getComputedStyle(w).getPropertyValue("padding-left")&&(R.margin=[0,0,0,0],["padding-top","padding-right","padding-bottom","padding-left"].forEach((N,E)=>{R.margin[E]=Math.round(Number(window.getComputedStyle(w).getPropertyValue(N).replace(/\D/gi,"")))})),(window.getComputedStyle(w).getPropertyValue("border-top-width")||window.getComputedStyle(w).getPropertyValue("border-right-width")||window.getComputedStyle(w).getPropertyValue("border-bottom-width")||window.getComputedStyle(w).getPropertyValue("border-left-width"))&&(R.border=[null,null,null,null],["top","right","bottom","left"].forEach((N,E)=>{const k=Math.round(Number(window.getComputedStyle(w).getPropertyValue("border-"+N+"-width").replace("px","")));let P=[];P=window.getComputedStyle(w).getPropertyValue("border-"+N+"-color").replace(/\s+/gi,"").replace("rgba(","").replace("rgb(","").replace(")","").split(",");const C=jg(Number(P[0]),Number(P[1]),Number(P[2]));R.border[E]={pt:k,color:C}})),y.push({_type:Ke.tablecell,text:w.innerText,options:R})}),A){case"thead":s.push(y);break;case"tbody":l.push(y);break;case"tfoot":c.push(y);break;default:console.log(`table parsing: unexpected table part: ${A}`);break}})}),a._arrObjTabHeadRows=s||null,a.colW=d,RT([...s,...l,...c],a,t.presLayout,r).forEach((A,v)=>{const x=t.addSlide({masterName:a.masterSlideName||null});v===0&&(a.y=a.y||h[0]),v>0&&(a.y=a.autoPageSlideStartY||a.newSlideStartY||h[0]),a.verbose&&console.log(`| opts.autoPageSlideStartY: ${a.autoPageSlideStartY} / arrInchMargins[0]: ${h[0]} => opts.y = ${a.y}`),x.addTable(A.rows,{x:a.x||h[3],y:a.y,w:Number(i)/Ye,colW:d,autoPage:!1}),a.addImage&&(a.addImage.options=a.addImage.options||{},!a.addImage.image||!a.addImage.image.path&&!a.addImage.image.data?console.warn("Warning: tableToSlides.addImage requires either `path` or `data`"):x.addImage({path:a.addImage.image.path,data:a.addImage.image.data,x:a.addImage.options.x,y:a.addImage.options.y,w:a.addImage.options.w,h:a.addImage.options.h})),a.addShape&&x.addShape(a.addShape.shapeName,a.addShape.options||{}),a.addTable&&x.addTable(a.addTable.rows,a.addTable.options||{}),a.addText&&x.addText(a.addText.text,a.addText.options||{})})}let Y8=0;function J8(t,e){t.bkgd&&(e.bkgd=t.bkgd),t.objects&&Array.isArray(t.objects)&&t.objects.length>0&&t.objects.forEach((n,r)=>{const a=Object.keys(n)[0],i=e;Fi[a]&&a==="chart"?PT(i,n[a].type,n[a].data,n[a].opts):Fi[a]&&a==="image"?jT(i,n[a]):Fi[a]&&a==="line"?DA(i,ys.LINE,n[a]):Fi[a]&&a==="rect"?DA(i,ys.RECTANGLE,n[a]):Fi[a]&&a==="text"?Dp(i,[{text:n[a].text}],n[a].options,!1):Fi[a]&&a==="placeholder"&&(n[a].options.placeholder=n[a].options.name,delete n[a].options.name,n[a].options._placeholderType=n[a].options.type,delete n[a].options.type,n[a].options._placeholderIdx=100+r,Dp(i,[{text:n[a].text}],n[a].options,!0))}),t.slideNumber&&typeof t.slideNumber=="object"&&(e._slideNumberProps=t.slideNumber)}function PT(t,e,n,r){var a;function i(h){!h||h.style==="none"||(h.size!==void 0&&(isNaN(Number(h.size))||h.size<=0)&&(console.warn("Warning: chart.gridLine.size must be greater than 0."),delete h.size),h.style&&!["solid","dash","dot"].includes(h.style)&&(console.warn("Warning: chart.gridLine.style options: `solid`, `dash`, `dot`."),delete h.style),h.cap&&!["flat","square","round"].includes(h.cap)&&(console.warn("Warning: chart.gridLine.cap options: `flat`, `square`, `round`."),delete h.cap))}const s=++Y8,l={_type:null,text:null,options:null,chartRid:null};let c=null,d=[];Array.isArray(e)?(e.forEach(h=>{d=d.concat(h.data)}),c=n||r):(d=n,c=r),d.forEach((h,p)=>{h._dataIndex=p,h.labels!==void 0&&!Array.isArray(h.labels[0])&&(h.labels=[h.labels])});const u=c&&typeof c=="object"?c:{};if(u._type=e,u.x=typeof u.x<"u"&&u.x!=null&&!isNaN(Number(u.x))?u.x:1,u.y=typeof u.y<"u"&&u.y!=null&&!isNaN(Number(u.y))?u.y:1,u.w=u.w||"50%",u.h=u.h||"50%",u.objectName=u.objectName?Xe(u.objectName):`Chart ${t._slideObjects.filter(h=>h._type===Ke.chart).length}`,["bar","col"].includes(u.barDir||"")||(u.barDir="col"),u._type===be.AREA&&(["stacked","standard","percentStacked"].includes(u.barGrouping||"")||(u.barGrouping="standard")),u._type===be.BAR&&(["clustered","stacked","percentStacked"].includes(u.barGrouping||"")||(u.barGrouping="clustered")),u._type===be.BAR3D&&(["clustered","stacked","standard","percentStacked"].includes(u.barGrouping||"")||(u.barGrouping="standard")),!((a=u.barGrouping)===null||a===void 0)&&a.includes("tacked")&&(u.barGapWidthPct||(u.barGapWidthPct=50)),u.dataLabelPosition&&((u._type===be.AREA||u._type===be.BAR3D||u._type===be.DOUGHNUT||u._type===be.RADAR)&&delete u.dataLabelPosition,u._type===be.PIE&&(["bestFit","ctr","inEnd","outEnd"].includes(u.dataLabelPosition)||delete u.dataLabelPosition),(u._type===be.BUBBLE||u._type===be.BUBBLE3D||u._type===be.LINE||u._type===be.SCATTER)&&(["b","ctr","l","r","t"].includes(u.dataLabelPosition)||delete u.dataLabelPosition),u._type===be.BAR&&(["stacked","percentStacked"].includes(u.barGrouping||"")||["ctr","inBase","inEnd"].includes(u.dataLabelPosition)||delete u.dataLabelPosition,["clustered"].includes(u.barGrouping||"")||["ctr","inBase","inEnd","outEnd"].includes(u.dataLabelPosition)||delete u.dataLabelPosition)),u.dataLabelBkgrdColors=u.dataLabelBkgrdColors||!u.dataLabelBkgrdColors?u.dataLabelBkgrdColors:!1,["b","l","r","t","tr"].includes(u.legendPos||"")||(u.legendPos="r"),["cone","coneToMax","box","cylinder","pyramid","pyramidToMax"].includes(u.bar3DShape||"")||(u.bar3DShape="box"),["circle","dash","diamond","dot","none","square","triangle"].includes(u.lineDataSymbol||"")||(u.lineDataSymbol="circle"),["gap","span"].includes(u.displayBlanksAs||"")||(u.displayBlanksAs="span"),["standard","marker","filled"].includes(u.radarStyle||"")||(u.radarStyle="standard"),u.lineDataSymbolSize=u.lineDataSymbolSize&&!isNaN(u.lineDataSymbolSize)?u.lineDataSymbolSize:6,u.lineDataSymbolLineSize=u.lineDataSymbolLineSize&&!isNaN(u.lineDataSymbolLineSize)?He(u.lineDataSymbolLineSize):He(.75),u.layout&&["x","y","w","h"].forEach(h=>{const p=u.layout[h];(isNaN(Number(p))||p<0||p>1)&&(console.warn("Warning: chart.layout."+h+" can only be 0-1"),delete u.layout[h])}),u.catGridLine=u.catGridLine||(u._type===be.SCATTER?{color:"D9D9D9",size:1}:{style:"none"}),u.valGridLine=u.valGridLine||(u._type===be.SCATTER?{color:"D9D9D9",size:1}:{}),u.serGridLine=u.serGridLine||(u._type===be.SCATTER?{color:"D9D9D9",size:1}:{style:"none"}),i(u.catGridLine),i(u.valGridLine),i(u.serGridLine),$y(u.shadow),u.showDataTable=u.showDataTable||!u.showDataTable?u.showDataTable:!1,u.showDataTableHorzBorder=u.showDataTableHorzBorder||!u.showDataTableHorzBorder?u.showDataTableHorzBorder:!0,u.showDataTableVertBorder=u.showDataTableVertBorder||!u.showDataTableVertBorder?u.showDataTableVertBorder:!0,u.showDataTableOutline=u.showDataTableOutline||!u.showDataTableOutline?u.showDataTableOutline:!0,u.showDataTableKeys=u.showDataTableKeys||!u.showDataTableKeys?u.showDataTableKeys:!0,u.showLabel=u.showLabel||!u.showLabel?u.showLabel:!1,u.showLegend=u.showLegend||!u.showLegend?u.showLegend:!1,u.showPercent=u.showPercent||!u.showPercent?u.showPercent:!0,u.showTitle=u.showTitle||!u.showTitle?u.showTitle:!1,u.showValue=u.showValue||!u.showValue?u.showValue:!1,u.showLeaderLines=u.showLeaderLines||!u.showLeaderLines?u.showLeaderLines:!1,u.catAxisLineShow=typeof u.catAxisLineShow<"u"?u.catAxisLineShow:!0,u.valAxisLineShow=typeof u.valAxisLineShow<"u"?u.valAxisLineShow:!0,u.serAxisLineShow=typeof u.serAxisLineShow<"u"?u.serAxisLineShow:!0,u.v3DRotX=!isNaN(u.v3DRotX)&&u.v3DRotX>=-90&&u.v3DRotX<=90?u.v3DRotX:30,u.v3DRotY=!isNaN(u.v3DRotY)&&u.v3DRotY>=0&&u.v3DRotY<=360?u.v3DRotY:30,u.v3DRAngAx=u.v3DRAngAx||!u.v3DRAngAx?u.v3DRAngAx:!0,u.v3DPerspective=!isNaN(u.v3DPerspective)&&u.v3DPerspective>=0&&u.v3DPerspective<=240?u.v3DPerspective:30,u.barGapWidthPct=!isNaN(u.barGapWidthPct)&&u.barGapWidthPct>=0&&u.barGapWidthPct<=1e3?u.barGapWidthPct:150,u.barGapDepthPct=!isNaN(u.barGapDepthPct)&&u.barGapDepthPct>=0&&u.barGapDepthPct<=1e3?u.barGapDepthPct:150,u.chartColors=Array.isArray(u.chartColors)?u.chartColors:u._type===be.PIE||u._type===be.DOUGHNUT?q8:ud,u.chartColorsOpacity=u.chartColorsOpacity&&!isNaN(u.chartColorsOpacity)?u.chartColorsOpacity:null,u.border=u.border&&typeof u.border=="object"?u.border:null,u.border&&(!u.border.pt||isNaN(u.border.pt))&&(u.border.pt=el.pt),u.border&&(!u.border.color||typeof u.border.color!="string")&&(u.border.color=el.color),u.plotArea=u.plotArea||{},u.plotArea.border=u.plotArea.border&&typeof u.plotArea.border=="object"?u.plotArea.border:null,u.plotArea.border&&(!u.plotArea.border.pt||isNaN(u.plotArea.border.pt))&&(u.plotArea.border.pt=el.pt),u.plotArea.border&&(!u.plotArea.border.color||typeof u.plotArea.border.color!="string")&&(u.plotArea.border.color=el.color),u.border&&(u.plotArea.border=u.border),u.plotArea.fill=u.plotArea.fill||{color:null,transparency:null},u.fill&&(u.plotArea.fill.color=u.fill),u.chartArea=u.chartArea||{},u.chartArea.border=u.chartArea.border&&typeof u.chartArea.border=="object"?u.chartArea.border:null,u.chartArea.border&&(u.chartArea.border={color:u.chartArea.border.color||el.color,pt:u.chartArea.border.pt||el.pt}),u.chartArea.roundedCorners=typeof u.chartArea.roundedCorners=="boolean"?u.chartArea.roundedCorners:!0,u.dataBorder=u.dataBorder&&typeof u.dataBorder=="object"?u.dataBorder:null,u.dataBorder&&(!u.dataBorder.pt||isNaN(u.dataBorder.pt))&&(u.dataBorder.pt=.75),u.dataBorder&&u.dataBorder.color){const h=typeof u.dataBorder.color=="string"&&u.dataBorder.color.length===6&&/^[0-9A-Fa-f]{6}$/.test(u.dataBorder.color),p=Object.values(kp).includes(u.dataBorder.color);!h&&!p&&(u.dataBorder.color="F9F9F9")}return!u.dataLabelFormatCode&&u._type===be.SCATTER&&(u.dataLabelFormatCode="General"),!u.dataLabelFormatCode&&(u._type===be.PIE||u._type===be.DOUGHNUT)&&(u.dataLabelFormatCode=u.showPercent?"0%":"General"),u.dataLabelFormatCode=u.dataLabelFormatCode&&typeof u.dataLabelFormatCode=="string"?u.dataLabelFormatCode:"#,##0",!u.dataLabelFormatScatter&&u._type===be.SCATTER&&(u.dataLabelFormatScatter="custom"),u.lineSize=typeof u.lineSize=="number"?u.lineSize:2,u.valAxisMajorUnit=typeof u.valAxisMajorUnit=="number"?u.valAxisMajorUnit:null,u._type===be.AREA||u._type===be.BAR||u._type===be.BAR3D||u._type===be.LINE?u.catAxisMultiLevelLabels=!!u.catAxisMultiLevelLabels:delete u.catAxisMultiLevelLabels,l._type="chart",l.options=u,l.chartRid=Ha(t),t._relsChart.push({rId:Ha(t),data:d,opts:u,type:u._type,globalId:s,fileName:`chart${s}.xml`,Target:`/ppt/charts/chart${s}.xml`}),t._slideObjects.push(l),l}function jT(t,e){const n={_type:null,text:null,options:null,image:null,imageRid:null,hyperlink:null},r=e.x||0,a=e.y||0,i=e.w||0,s=e.h||0,l=e.sizing||null,c=e.hyperlink||"",d=e.data||"",u=e.path||"";let h=Ha(t);const p=e.objectName?Xe(e.objectName):`Image ${t._slideObjects.filter(g=>g._type===Ke.image).length}`;if(!u&&!d)return console.error("ERROR: addImage() requires either 'data' or 'path' parameter!"),null;if(u&&typeof u!="string")return console.error(`ERROR: addImage() 'path' should be a string, ex: {path:'/img/sample.png'} - you sent ${String(u)}`),null;if(d&&typeof d!="string")return console.error(`ERROR: addImage() 'data' should be a string, ex: {data:'image/png;base64,NMP[...]'} - you sent ${String(d)}`),null;if(d&&typeof d=="string"&&!d.toLowerCase().includes("base64,"))return console.error("ERROR: Image `data` value lacks a base64 header! Ex: 'image/png;base64,NMP[...]')"),null;let m=(u.substring(u.lastIndexOf("/")+1).split("?")[0].split(".").pop().split("#")[0]||"png").toLowerCase();if(d&&/image\/(\w+);/.exec(d)&&/image\/(\w+);/.exec(d).length>0?m=/image\/(\w+);/.exec(d)[1]:d!=null&&d.toLowerCase().includes("image/svg+xml")&&(m="svg"),n._type=Ke.image,n.image=u||"preencoded.png",n.options={x:r||0,y:a||0,w:i||1,h:s||1,altText:e.altText||"",rounding:typeof e.rounding=="boolean"?e.rounding:!1,sizing:l,placeholder:e.placeholder,rotate:e.rotate||0,flipV:e.flipV||!1,flipH:e.flipH||!1,transparency:e.transparency||0,objectName:p,shadow:$y(e.shadow)},m==="svg")t._relsMedia.push({path:u||d+"png",type:"image/png",extn:"png",data:d||"",rId:h,Target:`../media/image-${t._slideNum}-${t._relsMedia.length+1}.png`,isSvgPng:!0,svgSize:{w:it(n.options.w,"X",t._presLayout),h:it(n.options.h,"Y",t._presLayout)}}),n.imageRid=h,t._relsMedia.push({path:u||d,type:"image/svg+xml",extn:m,data:d||"",rId:h+1,Target:`../media/image-${t._slideNum}-${t._relsMedia.length+1}.${m}`}),n.imageRid=h+1;else{const g=t._relsMedia.filter(A=>A.path&&A.path===u&&A.type==="image/"+m&&!A.isDuplicate)[0];t._relsMedia.push({path:u||"preencoded."+m,type:"image/"+m,extn:m,data:d||"",rId:h,isDuplicate:!!(g!=null&&g.Target),Target:g!=null&&g.Target?g.Target:`../media/image-${t._slideNum}-${t._relsMedia.length+1}.${m}`}),n.imageRid=h}if(typeof c=="object"){if(!c.url&&!c.slide)throw new Error("ERROR: `hyperlink` option requires either: `url` or `slide`");h++,t._rels.push({type:Ke.hyperlink,data:c.slide?"slide":"dummy",rId:h,Target:c.url||c.slide.toString()}),c._rId=h,n.hyperlink=c}t._slideObjects.push(n)}function Z8(t,e){const n=e.x||0,r=e.y||0,a=e.w||2,i=e.h||2,s=e.data||"",l=e.link||"",c=e.path||"",d=e.type||"audio";let u="";const h=e.cover||H8,p=e.objectName?Xe(e.objectName):`Media ${t._slideObjects.filter(g=>g._type===Ke.media).length}`,m={_type:Ke.media};if(!c&&!s&&d!=="online")throw new Error("addMedia() error: either `data` or `path` are required!");if(s&&!s.toLowerCase().includes("base64,"))throw new Error("addMedia() error: `data` value lacks a base64 header! Ex: 'video/mpeg;base64,NMP[...]')");if(!h.toLowerCase().includes("base64,"))throw new Error("addMedia() error: `cover` value lacks a base64 header! Ex: 'data:image/png;base64,iV[...]')");if(d==="online"&&!l)throw new Error("addMedia() error: online videos require `link` value");if(u=e.extn||(s?s.split(";")[0].split("/")[1]:c.split(".").pop())||"mp3",m.mtype=d,m.media=c||"preencoded.mov",m.options={},m.options.x=n,m.options.y=r,m.options.w=a,m.options.h=i,m.options.objectName=p,d==="online"){const g=Ha(t);t._relsMedia.push({path:c||"preencoded"+u,data:"dummy",type:"online",extn:u,rId:g,Target:l}),m.mediaRid=g,t._relsMedia.push({path:"preencoded.png",data:h,type:"image/png",extn:"png",rId:Ha(t),Target:`../media/image-${t._slideNum}-${t._relsMedia.length+1}.png`})}else{const g=t._relsMedia.filter(v=>v.path&&v.path===c&&v.type===d+"/"+u&&!v.isDuplicate)[0],A=Ha(t);t._relsMedia.push({path:c||"preencoded"+u,type:d+"/"+u,extn:u,data:s||"",rId:A,isDuplicate:!!(g!=null&&g.Target),Target:g!=null&&g.Target?g.Target:`../media/media-${t._slideNum}-${t._relsMedia.length+1}.${u}`}),m.mediaRid=A,t._relsMedia.push({path:c||"preencoded"+u,type:d+"/"+u,extn:u,data:s||"",rId:Ha(t),isDuplicate:!!(g!=null&&g.Target),Target:g!=null&&g.Target?g.Target:`../media/media-${t._slideNum}-${t._relsMedia.length+0}.${u}`}),t._relsMedia.push({path:"preencoded.png",type:"image/png",extn:"png",data:h,rId:Ha(t),Target:`../media/image-${t._slideNum}-${t._relsMedia.length+1}.png`})}t._slideObjects.push(m)}function e9(t,e){t._slideObjects.push({_type:Ke.notes,text:[{text:e}]})}function DA(t,e,n){const r=typeof n=="object"?n:{};r.line=r.line||{type:"none"};const a={_type:Ke.text,shape:e||ys.RECTANGLE,options:r,text:null};if(!e)throw new Error("Missing/Invalid shape parameter! Example: `addShape(pptxgen.shapes.LINE, {x:1, y:1, w:1, h:1});`");const i={type:r.line.type||"solid",color:r.line.color||TT,transparency:r.line.transparency||0,width:r.line.width||1,dashType:r.line.dashType||"solid",beginArrowType:r.line.beginArrowType||null,endArrowType:r.line.endArrowType||null};if(typeof r.line=="object"&&r.line.type!=="none"&&(r.line=i),r.x=r.x||(r.x===0?0:1),r.y=r.y||(r.y===0?0:1),r.w=r.w||(r.w===0?0:1),r.h=r.h||(r.h===0?0:1),r.objectName=r.objectName?Xe(r.objectName):`Shape ${t._slideObjects.filter(s=>s._type===Ke.text).length}`,typeof r.line=="string"){const s=i;s.color=String(r.line),r.line=s}typeof r.lineSize=="number"&&(r.line.width=r.lineSize),typeof r.lineDash=="string"&&(r.line.dashType=r.lineDash),typeof r.lineHead=="string"&&(r.line.beginArrowType=r.lineHead),typeof r.lineTail=="string"&&(r.line.endArrowType=r.lineTail),cc(t,a),t._slideObjects.push(a)}function t9(t,e,n,r,a,i,s){const l=[t],c=n&&typeof n=="object"?n:{};c.objectName=c.objectName?Xe(c.objectName):`Table ${t._slideObjects.filter(p=>p._type===Ke.table).length}`;{if(e===null||e.length===0||!Array.isArray(e))throw new Error("addTable: Array expected! EX: 'slide.addTable( [rows], {options} );' (https://gitbrent.github.io/PptxGenJS/docs/api-tables.html)");if(!e[0]||!Array.isArray(e[0]))throw new Error("addTable: 'rows' should be an array of cells! EX: 'slide.addTable( [ ['A'], ['B'], {text:'C',options:{align:'center'}} ] );' (https://gitbrent.github.io/PptxGenJS/docs/api-tables.html)")}const d=[];e.forEach(p=>{const m=[];Array.isArray(p)?p.forEach(g=>{const A={_type:Ke.tablecell,text:"",options:typeof g=="object"&&g.options?g.options:{}};typeof g=="string"||typeof g=="number"?A.text=g.toString():g.text&&(typeof g.text=="string"||typeof g.text=="number"?A.text=g.text.toString():g.text&&(A.text=g.text),g.options&&typeof g.options=="object"&&(A.options=g.options)),A.options.border=A.options.border||c.border||[{type:"none"},{type:"none"},{type:"none"},{type:"none"}];const v=A.options.border;!Array.isArray(v)&&typeof v=="object"&&(A.options.border=[v,v,v,v]),A.options.border[0]||(A.options.border[0]={type:"none"}),A.options.border[1]||(A.options.border[1]={type:"none"}),A.options.border[2]||(A.options.border[2]={type:"none"}),A.options.border[3]||(A.options.border[3]={type:"none"}),[0,1,2,3].forEach(y=>{A.options.border[y]={type:A.options.border[y].type||Zo.type,color:A.options.border[y].color||Zo.color,pt:typeof A.options.border[y].pt=="number"?A.options.border[y].pt:Zo.pt}}),m.push(A)}):(console.log("addTable: tableRows has a bad row. A row should be an array of cells. You provided:"),console.log(p)),d.push(m)}),c.x=it(c.x||(c.x===0?0:Ye/2),"X",a),c.y=it(c.y||(c.y===0?0:Ye/2),"Y",a),c.h&&(c.h=it(c.h,"Y",a)),c.fontSize=c.fontSize||Qr,c.margin=c.margin===0||c.margin?c.margin:ST,typeof c.margin=="number"&&(c.margin=[Number(c.margin),Number(c.margin),Number(c.margin),Number(c.margin)]),JSON.stringify({arrRows:d}).indexOf("hyperlink")===-1&&(c.color||(c.color=c.color||vr)),typeof c.border=="string"?(console.warn("addTable `border` option must be an object. Ex: `{border: {type:'none'}}`"),c.border=null):Array.isArray(c.border)&&[0,1,2,3].forEach(p=>{c.border[p]=c.border[p]?{type:c.border[p].type||Zo.type,color:c.border[p].color||Zo.color,pt:c.border[p].pt||Zo.pt}:{type:"none"}}),c.autoPage=typeof c.autoPage=="boolean"?c.autoPage:!1,c.autoPageRepeatHeader=typeof c.autoPageRepeatHeader=="boolean"?c.autoPageRepeatHeader:!1,c.autoPageHeaderRows=typeof c.autoPageHeaderRows<"u"&&!isNaN(Number(c.autoPageHeaderRows))?Number(c.autoPageHeaderRows):1,c.autoPageLineWeight=typeof c.autoPageLineWeight<"u"&&!isNaN(Number(c.autoPageLineWeight))?Number(c.autoPageLineWeight):0,c.autoPageLineWeight&&(c.autoPageLineWeight>1?c.autoPageLineWeight=1:c.autoPageLineWeight<-1&&(c.autoPageLineWeight=-1));let u=bu;if(r&&typeof r._margin<"u"&&(Array.isArray(r._margin)?u=r._margin:isNaN(Number(r._margin))||(u=[Number(r._margin),Number(r._margin),Number(r._margin),Number(r._margin)])),c.colW){const p=d[0].reduce((m,g)=>{var A;return!((A=g==null?void 0:g.options)===null||A===void 0)&&A.colspan&&typeof g.options.colspan=="number"?m+=g.options.colspan:m+=1,m},0);typeof c.colW=="string"||typeof c.colW=="number"||c.colW&&Array.isArray(c.colW)&&c.colW.length===1&&p>1?(c.w=Math.floor(Number(c.colW)*p),c.colW=null):c.colW&&Array.isArray(c.colW)&&c.colW.length!==p&&(console.warn("addTable: mismatch: (colW.length != data.length) Therefore, defaulting to evenly distributed col widths."),c.colW=null)}else c.w?c.w=it(c.w,"X",a):c.w=Math.floor(a._sizeW/Ye-u[1]-u[3]);c.x&&c.x<20&&(c.x=xt(c.x)),c.y&&c.y<20&&(c.y=xt(c.y)),c.w&&typeof c.w=="number"&&c.w<20&&(c.w=xt(c.w)),c.h&&typeof c.h=="number"&&c.h<20&&(c.h=xt(c.h)),d.forEach(p=>{p.forEach((m,g)=>{typeof m=="number"||typeof m=="string"?p[g]={_type:Ke.tablecell,text:String(p[g]),options:c}:typeof m=="object"&&(typeof m.text=="number"?p[g].text=p[g].text.toString():(typeof m.text>"u"||m.text===null)&&(p[g].text=""),p[g].options=m.options||{},p[g]._type=Ke.tablecell)})});const h=[];return c&&!c.autoPage?(cc(t,d),t._slideObjects.push({_type:Ke.table,arrTabRows:d,options:Object.assign({},c)})):(c.autoPageRepeatHeader&&(c._arrObjTabHeadRows=d.filter((p,m)=>m<c.autoPageHeaderRows)),RT(d,c,a,r).forEach((p,m)=>{s(t._slideNum+m)||l.push(i({masterName:(r==null?void 0:r._name)||null})),m>0&&(c.y=xt(c.autoPageSlideStartY||c.newSlideStartY||u[0]));{const g=s(t._slideNum+m);c.autoPage=!1,cc(g,p.rows),g.addTable(p.rows,Object.assign({},c)),m>0&&h.push(g)}})),h}function Dp(t,e,n,r){const a={_type:r?Ke.placeholder:Ke.text,shape:(n==null?void 0:n.shape)||ys.RECTANGLE,text:!e||e.length===0?[{text:"",options:null}]:e,options:n||{}};function i(s){{if(s.placeholder||(s.color=s.color||a.options.color||t.color||vr),(s.placeholder||r)&&(s.bullet=s.bullet||!1),s.placeholder&&t._slideLayout&&t._slideLayout._slideObjects){const l=t._slideLayout._slideObjects.filter(c=>c._type==="placeholder"&&c.options&&c.options.placeholder&&c.options.placeholder===s.placeholder)[0];l!=null&&l.options&&(s=Object.assign(Object.assign({},s),l.options))}if(s.objectName=s.objectName?Xe(s.objectName):`Text ${t._slideObjects.filter(l=>l._type===Ke.text).length}`,s.shape===ys.LINE){const l={type:s.line.type||"solid",color:s.line.color||TT,transparency:s.line.transparency||0,width:s.line.width||1,dashType:s.line.dashType||"solid",beginArrowType:s.line.beginArrowType||null,endArrowType:s.line.endArrowType||null};if(typeof s.line=="object"&&(s.line=l),typeof s.line=="string"){const c=l;typeof s.line=="string"&&(c.color=s.line),s.line=c}typeof s.lineSize=="number"&&(s.line.width=s.lineSize),typeof s.lineDash=="string"&&(s.line.dashType=s.lineDash),typeof s.lineHead=="string"&&(s.line.beginArrowType=s.lineHead),typeof s.lineTail=="string"&&(s.line.endArrowType=s.lineTail)}s.line=s.line||{},s.lineSpacing=s.lineSpacing&&!isNaN(s.lineSpacing)?s.lineSpacing:null,s.lineSpacingMultiple=s.lineSpacingMultiple&&!isNaN(s.lineSpacingMultiple)?s.lineSpacingMultiple:null,s._bodyProp=s._bodyProp||{},s._bodyProp.autoFit=s.autoFit||!1,s._bodyProp.anchor=s.placeholder?null:Cl.ctr,s._bodyProp.vert=s.vert||null,s._bodyProp.wrap=typeof s.wrap=="boolean"?s.wrap:!0,(s.inset&&!isNaN(Number(s.inset))||s.inset===0)&&(s._bodyProp.lIns=xt(s.inset),s._bodyProp.rIns=xt(s.inset),s._bodyProp.tIns=xt(s.inset),s._bodyProp.bIns=xt(s.inset)),typeof s.underline=="boolean"&&s.underline===!0&&(s.underline={style:"sng"})}return(s.align||"").toLowerCase().indexOf("c")===0?s._bodyProp.align=_l.center:(s.align||"").toLowerCase().indexOf("l")===0?s._bodyProp.align=_l.left:(s.align||"").toLowerCase().indexOf("r")===0?s._bodyProp.align=_l.right:(s.align||"").toLowerCase().indexOf("j")===0&&(s._bodyProp.align=_l.justify),(s.valign||"").toLowerCase().indexOf("b")===0?s._bodyProp.anchor=Cl.b:(s.valign||"").toLowerCase().indexOf("m")===0?s._bodyProp.anchor=Cl.ctr:(s.valign||"").toLowerCase().indexOf("t")===0&&(s._bodyProp.anchor=Cl.t),$y(s.shadow),s}a.options=i(a.options),a.text.forEach(s=>s.options=i(s.options||{})),cc(t,a.text||""),t._slideObjects.push(a)}function n9(t){(t._slideLayout._slideObjects||[]).forEach(e=>{e._type===Ke.placeholder&&t._slideObjects.filter(n=>n.options&&n.options.placeholder===e.options.placeholder).length===0&&Dp(t,[{text:""}],e.options,!1)})}function MT(t,e){var n;if(e.bkgd&&(e.background||(e.background={}),typeof e.bkgd=="string"?e.background.color=e.bkgd:(e.bkgd.data&&(e.background.data=e.bkgd.data),e.bkgd.path&&(e.background.path=e.bkgd.path),e.bkgd.src&&(e.background.path=e.bkgd.src))),!((n=e.background)===null||n===void 0)&&n.fill&&(e.background.color=e.background.fill),t&&(t.path||t.data)){t.path=t.path||"preencoded.png";let r=(t.path.split(".").pop()||"png").split("?")[0];r==="jpg"&&(r="jpeg"),e._relsMedia=e._relsMedia||[];const a=e._relsMedia.length+1;e._relsMedia.push({path:t.path,type:Ke.image,extn:r,data:t.data||null,rId:a,Target:`../media/${(e._name||"").replace(/\s+/gi,"-")}-image-${e._relsMedia.length+1}.${r}`}),e._bkgdImgRid=a}}function cc(t,e,n){let r=[];typeof e=="string"||typeof e=="number"||(Array.isArray(e)?r=e:typeof e=="object"&&(r=[e]),r.forEach((a,i)=>{if(n&&n[i]&&n[i].hyperlink&&(a.options=Object.assign(Object.assign({},a.options),n[i])),Array.isArray(a)){const s=[];a.forEach(l=>{l.options&&!l.text.options&&s.push(l.options)}),cc(t,a,s)}else if(Array.isArray(a.text))cc(t,a.text,n&&n[i]?[n[i]]:void 0);else if(a&&typeof a=="object"&&a.options&&a.options.hyperlink&&!a.options.hyperlink._rId)if(typeof a.options.hyperlink!="object")console.log("ERROR: text `hyperlink` option should be an object. Ex: `hyperlink: {url:'https://github.com'}` ");else if(!a.options.hyperlink.url&&!a.options.hyperlink.slide)console.log("ERROR: 'hyperlink requires either: `url` or `slide`'");else{const s=Ha(t);t._rels.push({type:Ke.hyperlink,data:a.options.hyperlink.slide?"slide":"dummy",rId:s,Target:Xe(a.options.hyperlink.url)||a.options.hyperlink.slide.toString()}),a.options.hyperlink._rId=s}else a&&typeof a=="object"&&a.options&&a.options.hyperlink&&a.options.hyperlink._rId&&t._rels.filter(s=>s.rId===a.options.hyperlink._rId).length===0&&t._rels.push({type:Ke.hyperlink,data:a.options.hyperlink.slide?"slide":"dummy",rId:a.options.hyperlink._rId,Target:Xe(a.options.hyperlink.url)||a.options.hyperlink.slide.toString()})}))}class r9{constructor(e){var n;this.addSlide=e.addSlide,this.getSlide=e.getSlide,this._name=`Slide ${e.slideNumber}`,this._presLayout=e.presLayout,this._rId=e.slideRId,this._rels=[],this._relsChart=[],this._relsMedia=[],this._setSlideNum=e.setSlideNum,this._slideId=e.slideId,this._slideLayout=e.slideLayout||null,this._slideNum=e.slideNumber,this._slideObjects=[],this._slideNumberProps=!((n=this._slideLayout)===null||n===void 0)&&n._slideNumberProps?this._slideLayout._slideNumberProps:null}set bkgd(e){this._bkgd=e,(!this._background||!this._background.color)&&(this._background||(this._background={}),typeof e=="string"&&(this._background.color=e))}get bkgd(){return this._bkgd}set background(e){this._background=e,e&&MT(e,this)}get background(){return this._background}set color(e){this._color=e}get color(){return this._color}set hidden(e){this._hidden=e}get hidden(){return this._hidden}set slideNumber(e){this._slideNumberProps=e,this._setSlideNum(e)}get slideNumber(){return this._slideNumberProps}get newAutoPagedSlides(){return this._newAutoPagedSlides}addChart(e,n,r){const a=r||{};return a._type=e,PT(this,e,n,r),this}addImage(e){return jT(this,e),this}addMedia(e){return Z8(this,e),this}addNotes(e){return e9(this,e),this}addShape(e,n){return DA(this,e,n),this}addTable(e,n){return this._newAutoPagedSlides=t9(this,e,n,this._slideLayout,this._presLayout,this.addSlide,this.getSlide),this}addText(e,n){return Dp(this,typeof e=="string"||typeof e=="number"?[{text:e,options:n}]:e,n,!1),this}}function a9(t,e){return Rr(this,void 0,void 0,function*(){const n=t.data;return yield new Promise((r,a)=>{var i,s;const l=new IT,c=(n.length-1)*2+1,d=((s=(i=n[0])===null||i===void 0?void 0:i.labels)===null||s===void 0?void 0:s.length)>1;l.folder("_rels"),l.folder("docProps"),l.folder("xl/_rels"),l.folder("xl/tables"),l.folder("xl/theme"),l.folder("xl/worksheets"),l.folder("xl/worksheets/_rels"),l.file("[Content_Types].xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">  <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>  <Default Extension="xml" ContentType="application/xml"/>  <Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/>  <Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>  <Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/>  <Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/>  <Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/>  <Override PartName="/xl/tables/table1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"/>  <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/>  <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/></Types>
`),l.file("_rels/.rels",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>
`),l.file("docProps/app.xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Macintosh Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>1</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="1" baseType="lpstr"><vt:lpstr>Sheet1</vt:lpstr></vt:vector></TitlesOfParts><Company></Company><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>16.0300</AppVersion></Properties>
`),l.file("docProps/core.xml",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>PptxGenJS</dc:creator><cp:lastModifiedBy>PptxGenJS</cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">'+new Date().toISOString()+'</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">'+new Date().toISOString()+"</dcterms:modified></cp:coreProperties>"),l.file("xl/_rels/workbook.xml.rels",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/><Relationship Id="rId4" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml"/></Relationships>'),l.file("xl/styles.xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"><numFmts count="1"><numFmt numFmtId="0" formatCode="General"/></numFmts><fonts count="4"><font><sz val="9"/><color indexed="8"/><name val="Geneva"/></font><font><sz val="9"/><color indexed="8"/><name val="Geneva"/></font><font><sz val="10"/><color indexed="8"/><name val="Geneva"/></font><font><sz val="18"/><color indexed="8"/><name val="Arial"/></font></fonts><fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><dxfs count="0"/><tableStyles count="0"/><colors><indexedColors><rgbColor rgb="ff000000"/><rgbColor rgb="ffffffff"/><rgbColor rgb="ffff0000"/><rgbColor rgb="ff00ff00"/><rgbColor rgb="ff0000ff"/><rgbColor rgb="ffffff00"/><rgbColor rgb="ffff00ff"/><rgbColor rgb="ff00ffff"/><rgbColor rgb="ff000000"/><rgbColor rgb="ffffffff"/><rgbColor rgb="ff878787"/><rgbColor rgb="fff9f9f9"/></indexedColors></colors></styleSheet>
`),l.file("xl/theme/theme1.xml",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="44546A"/></a:dk2><a:lt2><a:srgbClr val="E7E6E6"/></a:lt2><a:accent1><a:srgbClr val="4472C4"/></a:accent1><a:accent2><a:srgbClr val="ED7D31"/></a:accent2><a:accent3><a:srgbClr val="A5A5A5"/></a:accent3><a:accent4><a:srgbClr val="FFC000"/></a:accent4><a:accent5><a:srgbClr val="5B9BD5"/></a:accent5><a:accent6><a:srgbClr val="70AD47"/></a:accent6><a:hlink><a:srgbClr val="0563C1"/></a:hlink><a:folHlink><a:srgbClr val="954F72"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Calibri Light" panose="020F0302020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="Yu Gothic Light"/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface="DengXian Light"/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:majorFont><a:minorFont><a:latin typeface="Calibri" panose="020F0502020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="Yu Gothic"/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface="DengXian"/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:lumMod val="110000"/><a:satMod val="105000"/><a:tint val="67000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="103000"/><a:tint val="73000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="109000"/><a:tint val="81000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:satMod val="103000"/><a:lumMod val="102000"/><a:tint val="94000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:satMod val="110000"/><a:lumMod val="100000"/><a:shade val="100000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="99000"/><a:satMod val="120000"/><a:shade val="78000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="6350" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="12700" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="19050" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="57150" dist="19050" dir="5400000" algn="ctr" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="63000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:solidFill><a:schemeClr val="phClr"><a:tint val="95000"/><a:satMod val="170000"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="93000"/><a:satMod val="150000"/><a:shade val="98000"/><a:lumMod val="102000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:tint val="98000"/><a:satMod val="130000"/><a:shade val="90000"/><a:lumMod val="103000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="63000"/><a:satMod val="120000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri="{05A4C25C-085E-4340-85A3-A5531E510DB2}"><thm15:themeFamily xmlns:thm15="http://schemas.microsoft.com/office/thememl/2012/main" name="Office Theme" id="{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}" vid="{4A3C46E8-61CC-4603-A589-7422A47A8E4A}"/></a:ext></a:extLst></a:theme>'),l.file("xl/workbook.xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x15" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><fileVersion appName="xl" lastEdited="7" lowestEdited="6" rupBuild="10507"/><workbookPr/><bookViews><workbookView xWindow="0" yWindow="500" windowWidth="20960" windowHeight="15960"/></bookViews><sheets><sheet name="Sheet1" sheetId="1" r:id="rId1"/></sheets><calcPr calcId="0" concurrentCalc="0"/></workbook>
`),l.file("xl/worksheets/_rels/sheet1.xml.rels",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/table" Target="../tables/table1.xml"/></Relationships>
`);{let u='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>';if(t.opts._type===be.BUBBLE||t.opts._type===be.BUBBLE3D)u+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${c}" uniqueCount="${c}">`;else if(t.opts._type===be.SCATTER)u+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${n.length}" uniqueCount="${n.length}">`;else if(d){let h=n.length;n[0].labels.forEach(p=>h+=p.filter(m=>m&&m!=="").length),u+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${h}" uniqueCount="${h}">`,u+="<si><t/></si>"}else{const h=n.length+n[0].labels.length*n[0].labels[0].length+n[0].labels.length,p=n.length+n[0].labels.length*n[0].labels[0].length+1;u+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${h}" uniqueCount="${p}">`,u+='<si><t xml:space="preserve"></t></si>'}t.opts._type===be.BUBBLE||t.opts._type===be.BUBBLE3D?n.forEach((h,p)=>{p===0?u+="<si><t>X-Axis</t></si>":(u+=`<si><t>${Xe(h.name||`Y-Axis${p}`)}</t></si>`,u+=`<si><t>${Xe(`Size${p}`)}</t></si>`)}):n.forEach(h=>{u+=`<si><t>${Xe((h.name||" ").replace("X-Axis","X-Values"))}</t></si>`}),t.opts._type!==be.BUBBLE&&t.opts._type!==be.BUBBLE3D&&t.opts._type!==be.SCATTER&&n[0].labels.slice().reverse().forEach(h=>{h.filter(p=>p&&p!=="").forEach(p=>{u+=`<si><t>${Xe(p)}</t></si>`})}),u+=`</sst>
`,l.file("xl/sharedStrings.xml",u)}{let u='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>';if(t.opts._type===be.BUBBLE||t.opts._type===be.BUBBLE3D){u+=`<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="A1:${Pt(c)}${c}" totalsRowShown="0">`,u+=`<tableColumns count="${c}">`;let h=1;n.forEach((p,m)=>{m===0?u+=`<tableColumn id="${m+1}" name="X-Values"/>`:(u+=`<tableColumn id="${m+h}" name="${p.name}"/>`,h++,u+=`<tableColumn id="${m+h}" name="Size${m}"/>`)})}else t.opts._type===be.SCATTER?(u+=`<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="A1:${Pt(n.length)}${n[0].values.length+1}" totalsRowShown="0">`,u+=`<tableColumns count="${n.length}">`,n.forEach((h,p)=>{u+=`<tableColumn id="${p+1}" name="${p===0?"X-Values":"Y-Value "}${p}"/>`})):(u+=`<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="A1:${Pt(n.length+n[0].labels.length)}${n[0].labels[0].length+1}'" totalsRowShown="0">`,u+=`<tableColumns count="${n.length+n[0].labels.length}">`,n[0].labels.forEach((h,p)=>{u+=`<tableColumn id="${p+1}" name="Column${p+1}"/>`}),n.forEach((h,p)=>{u+=`<tableColumn id="${p+n[0].labels.length+1}" name="${Xe(h.name)}"/>`}));u+="</tableColumns>",u+='<tableStyleInfo showFirstColumn="0" showLastColumn="0" showRowStripes="1" showColumnStripes="0"/>',u+="</table>",l.file("xl/tables/table1.xml",u)}{let u='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>';if(u+='<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">',t.opts._type===be.BUBBLE||t.opts._type===be.BUBBLE3D?u+=`<dimension ref="A1:${Pt(c)}${n[0].values.length+1}"/>`:t.opts._type===be.SCATTER?u+=`<dimension ref="A1:${Pt(n.length)}${n[0].values.length+1}"/>`:u+=`<dimension ref="A1:${Pt(n.length+1)}${n[0].values.length+1}"/>`,u+='<sheetViews><sheetView tabSelected="1" workbookViewId="0"><selection activeCell="B1" sqref="B1"/></sheetView></sheetViews>',u+='<sheetFormatPr baseColWidth="10" defaultRowHeight="16"/>',t.opts._type===be.BUBBLE||t.opts._type===be.BUBBLE3D){u+="<sheetData>",u+=`<row r="1" spans="1:${c}">`,u+='<c r="A1" t="s"><v>0</v></c>';for(let h=1;h<c;h++)u+=`<c r="${Pt(h+1)}1" t="s"><v>${h}</v></c>`;u+="</row>",n[0].values.forEach((h,p)=>{u+=`<row r="${p+2}" spans="1:${c}">`,u+=`<c r="A${p+2}"><v>${h}</v></c>`;let m=2;for(let g=1;g<n.length;g++)u+=`<c r="${Pt(m)}${p+2}"><v>${n[g].values[p]||""}</v></c>`,m++,u+=`<c r="${Pt(m)}${p+2}"><v>${n[g].sizes[p]||""}</v></c>`,m++;u+="</row>"})}else if(t.opts._type===be.SCATTER){u+="<sheetData>",u+=`<row r="1" spans="1:${n.length}">`;for(let h=0;h<n.length;h++)u+=`<c r="${Pt(h+1)}1" t="s"><v>${h}</v></c>`;u+="</row>",n[0].values.forEach((h,p)=>{u+=`<row r="${p+2}" spans="1:${n.length}">`,u+=`<c r="A${p+2}"><v>${h}</v></c>`;for(let m=1;m<n.length;m++)u+=`<c r="${Pt(m+1)}${p+2}"><v>${n[m].values[p]||n[m].values[p]===0?n[m].values[p]:""}</v></c>`;u+="</row>"})}else if(u+="<sheetData>",d){u+=`<row r="1" spans="1:${n.length+n[0].labels.length}">`;for(let g=0;g<n[0].labels.length;g++)u+=`<c r="${Pt(g+1)}1" t="s"><v>0</v></c>`;for(let g=n[0].labels.length-1;g<n.length+n[0].labels.length-1;g++)u+=`<c r="${Pt(g+n[0].labels.length)}1" t="s"><v>${g}</v></c>`;u+="</row>";const h=n.length,p=n[0].labels[0].length,m=n[0].labels.length;for(let g=0;g<p;g++){u+=`<row r="${g+2}" spans="1:${h+m}">`;let A=h;const v=n[0].labels.slice().reverse();v.forEach((x,y)=>{if(x[g]){const T=y===0?1:v[y-1].filter(I=>I&&I!=="").length;A+=T,u+=`<c r="${Pt(g+1+y)}${g+2}" t="s"><v>${A}</v></c>`}});for(let x=0;x<h;x++)u+=`<c r="${Pt(m+x+1)}${g+2}"><v>${n[x].values[g]||0}</v></c>`;u+="</row>"}}else{u+=`<row r="1" spans="1:${n.length+n[0].labels.length}">`,n[0].labels.forEach((h,p)=>{u+=`<c r="${Pt(p+1)}1" t="s"><v>0</v></c>`});for(let h=0;h<n.length;h++)u+=`<c r="${Pt(h+1+n[0].labels.length)}1" t="s"><v>${h+1}</v></c>`;u+="</row>",n[0].labels[0].forEach((h,p)=>{u+=`<row r="${p+2}" spans="1:${n.length+n[0].labels.length}">`;for(let m=n[0].labels.length-1;m>=0;m--)u+=`<c r="${Pt(n[0].labels.length-m)}${p+2}" t="s">`,u+=`<v>${n.length+p+1}</v>`,u+="</c>";for(let m=0;m<n.length;m++)u+=`<c r="${Pt(n[0].labels.length+m+1)}${p+2}"><v>${n[m].values[p]||""}</v></c>`;u+="</row>"})}u+="</sheetData>",u+='<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3"/>',u+=`</worksheet>
`,l.file("xl/worksheets/sheet1.xml",u)}l.generateAsync({type:"base64"}).then(u=>{e.file(`ppt/embeddings/Microsoft_Excel_Worksheet${t.globalId}.xlsx`,u,{base64:!0}),e.file("ppt/charts/_rels/"+t.fileName+".rels",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/package" Target="../embeddings/Microsoft_Excel_Worksheet${t.globalId}.xlsx"/></Relationships>`),e.file(`ppt/charts/${t.fileName}`,i9(t)),r("")}).catch(u=>{a(u)})})})}function i9(t){var e,n,r,a;let i='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>',s=!1;if(i+='<c:chartSpace xmlns:c="http://schemas.openxmlformats.org/drawingml/2006/chart" xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">',i+='<c:date1904 val="0"/>',i+=`<c:roundedCorners val="${t.opts.chartArea.roundedCorners?"1":"0"}"/>`,i+="<c:chart>",t.opts.showTitle?(i+=Nm({title:t.opts.title||"Chart Title",color:t.opts.titleColor,fontFace:t.opts.titleFontFace,fontSize:t.opts.titleFontSize||W8,titleAlign:t.opts.titleAlign,titleBold:t.opts.titleBold,titlePos:t.opts.titlePos,titleRotate:t.opts.titleRotate},t.opts.x,t.opts.y),i+='<c:autoTitleDeleted val="0"/>'):i+='<c:autoTitleDeleted val="1"/>',t.opts._type===be.BAR3D&&(i+=`<c:view3D><c:rotX val="${t.opts.v3DRotX}"/><c:rotY val="${t.opts.v3DRotY}"/><c:rAngAx val="${t.opts.v3DRAngAx?1:0}"/><c:perspective val="${t.opts.v3DPerspective}"/></c:view3D>`),i+="<c:plotArea>",t.opts.layout?(i+="<c:layout>",i+=" <c:manualLayout>",i+='  <c:layoutTarget val="inner" />',i+='  <c:xMode val="edge" />',i+='  <c:yMode val="edge" />',i+='  <c:x val="'+(t.opts.layout.x||0)+'" />',i+='  <c:y val="'+(t.opts.layout.y||0)+'" />',i+='  <c:w val="'+(t.opts.layout.w||1)+'" />',i+='  <c:h val="'+(t.opts.layout.h||1)+'" />',i+=" </c:manualLayout>",i+="</c:layout>"):i+="<c:layout/>",Array.isArray(t.opts._type)?t.opts._type.forEach(l=>{const c=Object.assign(Object.assign({},t.opts),l.options),d=c.secondaryValAxis?xf:Wa,u=c.secondaryCatAxis?EA:dd;s=s||c.secondaryValAxis,i+=G_(l.type,l.data,c,d,u)}):i+=G_(t.opts._type,t.data,t.opts,Wa,dd),t.opts._type!==be.PIE&&t.opts._type!==be.DOUGHNUT){if(t.opts.valAxes&&t.opts.valAxes.length>1&&!s)throw new Error("Secondary axis must be used by one of the multiple charts");if(t.opts.catAxes){if(!t.opts.valAxes||t.opts.valAxes.length!==t.opts.catAxes.length)throw new Error("There must be the same number of value and category axes.");i+=Mg(Object.assign(Object.assign({},t.opts),t.opts.catAxes[0]),dd,Wa)}else i+=Mg(t.opts,dd,Wa);t.opts.valAxes?(i+=Lg(Object.assign(Object.assign({},t.opts),t.opts.valAxes[0]),Wa),t.opts.valAxes[1]&&(i+=Lg(Object.assign(Object.assign({},t.opts),t.opts.valAxes[1]),xf))):(i+=Lg(t.opts,Wa),t.opts._type===be.BAR3D&&(i+=s9(t.opts,kT,Wa))),!((e=t.opts)===null||e===void 0)&&e.catAxes&&(!((n=t.opts)===null||n===void 0)&&n.catAxes[1])&&(i+=Mg(Object.assign(Object.assign({},t.opts),t.opts.catAxes[1]),EA,xf))}return t.opts.showDataTable&&(i+="<c:dTable>",i+=`  <c:showHorzBorder val="${t.opts.showDataTableHorzBorder?1:0}"/>`,i+=`  <c:showVertBorder val="${t.opts.showDataTableVertBorder?1:0}"/>`,i+=`  <c:showOutline    val="${t.opts.showDataTableOutline?1:0}"/>`,i+=`  <c:showKeys       val="${t.opts.showDataTableKeys?1:0}"/>`,i+="  <c:spPr>",i+="    <a:noFill/>",i+='    <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="tx1"><a:lumMod val="15000"/><a:lumOff val="85000"/></a:schemeClr></a:solidFill><a:round/></a:ln>',i+="    <a:effectLst/>",i+="  </c:spPr>",i+="  <c:txPr>",i+='   <a:bodyPr rot="0" spcFirstLastPara="1" vertOverflow="ellipsis" vert="horz" wrap="square" anchor="ctr" anchorCtr="1"/>',i+="   <a:lstStyle/>",i+="   <a:p>",i+='     <a:pPr rtl="0">',i+=`       <a:defRPr sz="${Math.round((t.opts.dataTableFontSize||Qr)*100)}" b="0" i="0" u="none" strike="noStrike" kern="1200" baseline="0">`,i+='         <a:solidFill><a:schemeClr val="tx1"><a:lumMod val="65000"/><a:lumOff val="35000"/></a:schemeClr></a:solidFill>',i+='         <a:latin typeface="+mn-lt"/>',i+='         <a:ea typeface="+mn-ea"/>',i+='         <a:cs typeface="+mn-cs"/>',i+="       </a:defRPr>",i+="     </a:pPr>",i+='    <a:endParaRPr lang="en-US"/>',i+="   </a:p>",i+=" </c:txPr>",i+="</c:dTable>"),i+="  <c:spPr>",i+=!((r=t.opts.plotArea.fill)===null||r===void 0)&&r.color?Pr(t.opts.plotArea.fill):"<a:noFill/>",i+=t.opts.plotArea.border?`<a:ln w="${He(t.opts.plotArea.border.pt)}" cap="flat">${Pr(t.opts.plotArea.border.color)}</a:ln>`:"<a:ln><a:noFill/></a:ln>",i+="    <a:effectLst/>",i+="  </c:spPr>",i+="</c:plotArea>",t.opts.showLegend&&(i+="<c:legend>",i+='<c:legendPos val="'+t.opts.legendPos+'"/>',i+='<c:overlay val="0"/>',(t.opts.legendFontFace||t.opts.legendFontSize||t.opts.legendColor)&&(i+="<c:txPr>",i+="  <a:bodyPr/>",i+="  <a:lstStyle/>",i+="  <a:p>",i+="    <a:pPr>",i+=t.opts.legendFontSize?`<a:defRPr sz="${Math.round(Number(t.opts.legendFontSize)*100)}">`:"<a:defRPr>",t.opts.legendColor&&(i+=Pr(t.opts.legendColor)),t.opts.legendFontFace&&(i+='<a:latin typeface="'+t.opts.legendFontFace+'"/>'),t.opts.legendFontFace&&(i+='<a:cs    typeface="'+t.opts.legendFontFace+'"/>'),i+="      </a:defRPr>",i+="    </a:pPr>",i+='    <a:endParaRPr lang="en-US"/>',i+="  </a:p>",i+="</c:txPr>"),i+="</c:legend>"),i+='  <c:plotVisOnly val="1"/>',i+='  <c:dispBlanksAs val="'+t.opts.displayBlanksAs+'"/>',t.opts._type===be.SCATTER&&(i+='<c:showDLblsOverMax val="1"/>'),i+="</c:chart>",i+="<c:spPr>",i+=!((a=t.opts.chartArea.fill)===null||a===void 0)&&a.color?Pr(t.opts.chartArea.fill):"<a:noFill/>",i+=t.opts.chartArea.border?`<a:ln w="${He(t.opts.chartArea.border.pt)}" cap="flat">${Pr(t.opts.chartArea.border.color)}</a:ln>`:"<a:ln><a:noFill/></a:ln>",i+="  <a:effectLst/>",i+="</c:spPr>",i+='<c:externalData r:id="rId1"><c:autoUpdate val="0"/></c:externalData>',i+="</c:chartSpace>",i}function G_(t,e,n,r,a,i){let s=-1,l=1,c=null,d="";switch(t){case be.AREA:case be.BAR:case be.BAR3D:case be.LINE:case be.RADAR:d+=`<c:${t}Chart>`,t===be.AREA&&n.barGrouping==="stacked"&&(d+='<c:grouping val="'+n.barGrouping+'"/>'),(t===be.BAR||t===be.BAR3D)&&(d+='<c:barDir val="'+n.barDir+'"/>',d+='<c:grouping val="'+(n.barGrouping||"clustered")+'"/>'),t===be.RADAR&&(d+='<c:radarStyle val="'+n.radarStyle+'"/>'),d+='<c:varyColors val="0"/>',e.forEach(u=>{var h;s++,d+="<c:ser>",d+=`  <c:idx val="${u._dataIndex}"/><c:order val="${u._dataIndex}"/>`,d+="  <c:tx>",d+="    <c:strRef>",d+="      <c:f>Sheet1!$"+Pt(u._dataIndex+u.labels.length+1)+"$1</c:f>",d+='      <c:strCache><c:ptCount val="1"/><c:pt idx="0"><c:v>'+Xe(u.name)+"</c:v></c:pt></c:strCache>",d+="    </c:strRef>",d+="  </c:tx>";const p=n.chartColors?n.chartColors[s%n.chartColors.length]:null;d+="  <c:spPr>",p==="transparent"?d+="<a:noFill/>":n.chartColorsOpacity?d+="<a:solidFill>"+Ct(p,`<a:alpha val="${Math.round(n.chartColorsOpacity*1e3)}"/>`)+"</a:solidFill>":d+="<a:solidFill>"+Ct(p)+"</a:solidFill>",t===be.LINE||t===be.RADAR?n.lineSize===0?d+="<a:ln><a:noFill/></a:ln>":(d+=`<a:ln w="${He(n.lineSize)}" cap="${vf(n.lineCap)}"><a:solidFill>${Ct(p)}</a:solidFill>`,d+='<a:prstDash val="'+(n.lineDash||"solid")+'"/><a:round/></a:ln>'):n.dataBorder&&(d+=`<a:ln w="${He(n.dataBorder.pt)}" cap="${vf(n.lineCap)}"><a:solidFill>${Ct(n.dataBorder.color)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`),d+=Ls(n.shadow,Ms),d+="  </c:spPr>",d+='  <c:invertIfNegative val="0"/>',t!==be.RADAR&&(d+="<c:dLbls>",d+=`<c:numFmt formatCode="${Xe(n.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,n.dataLabelBkgrdColors&&(d+=`<c:spPr><a:solidFill>${Ct(p)}</a:solidFill></c:spPr>`),d+="<c:txPr><a:bodyPr/><a:lstStyle/><a:p><a:pPr>",d+=`<a:defRPr b="${n.dataLabelFontBold?1:0}" i="${n.dataLabelFontItalic?1:0}" strike="noStrike" sz="${Math.round((n.dataLabelFontSize||Qr)*100)}" u="none">`,d+=`<a:solidFill>${Ct(n.dataLabelColor||vr)}</a:solidFill>`,d+=`<a:latin typeface="${n.dataLabelFontFace||"Arial"}"/>`,d+="</a:defRPr></a:pPr></a:p></c:txPr>",n.dataLabelPosition&&(d+=`<c:dLblPos val="${n.dataLabelPosition}"/>`),d+='<c:showLegendKey val="0"/>',d+=`<c:showVal val="${n.showValue?"1":"0"}"/>`,d+=`<c:showCatName val="0"/><c:showSerName val="${n.showSerName?"1":"0"}"/><c:showPercent val="0"/><c:showBubbleSize val="0"/>`,d+=`<c:showLeaderLines val="${n.showLeaderLines?"1":"0"}"/>`,d+="</c:dLbls>"),(t===be.LINE||t===be.RADAR)&&(d+="<c:marker>",d+='  <c:symbol val="'+n.lineDataSymbol+'"/>',n.lineDataSymbolSize&&(d+=`<c:size val="${n.lineDataSymbolSize}"/>`),d+="  <c:spPr>",d+=`    <a:solidFill>${Ct(n.chartColors[u._dataIndex+1>n.chartColors.length?Math.floor(Math.random()*n.chartColors.length):u._dataIndex])}</a:solidFill>`,d+=`    <a:ln w="${n.lineDataSymbolLineSize}" cap="flat"><a:solidFill>${Ct(n.lineDataSymbolLineColor||p)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`,d+="    <a:effectLst/>",d+="  </c:spPr>",d+="</c:marker>"),(t===be.BAR||t===be.BAR3D)&&e.length===1&&(n.chartColors&&n.chartColors!==ud&&n.chartColors.length>1||!((h=n.invertedColors)===null||h===void 0)&&h.length)&&u.values.forEach((m,g)=>{const A=m<0?n.invertedColors||n.chartColors||ud:n.chartColors||[];d+="  <c:dPt>",d+=`    <c:idx val="${g}"/>`,d+='      <c:invertIfNegative val="0"/>',d+='    <c:bubble3D val="0"/>',d+="    <c:spPr>",n.lineSize===0?d+="<a:ln><a:noFill/></a:ln>":t===be.BAR?(d+="<a:solidFill>",d+='  <a:srgbClr val="'+A[g%A.length]+'"/>',d+="</a:solidFill>"):(d+="<a:ln>",d+="  <a:solidFill>",d+='   <a:srgbClr val="'+A[g%A.length]+'"/>',d+="  </a:solidFill>",d+="</a:ln>"),d+=Ls(n.shadow,Ms),d+="    </c:spPr>",d+="  </c:dPt>"}),d+="<c:cat>",n.catLabelFormatCode?(d+="  <c:numRef>",d+=`    <c:f>Sheet1!$A$2:$A$${u.labels[0].length+1}</c:f>`,d+="    <c:numCache>",d+="      <c:formatCode>"+(n.catLabelFormatCode||"General")+"</c:formatCode>",d+=`      <c:ptCount val="${u.labels[0].length}"/>`,u.labels[0].forEach((m,g)=>d+=`<c:pt idx="${g}"><c:v>${Xe(m)}</c:v></c:pt>`),d+="    </c:numCache>",d+="  </c:numRef>"):(d+="  <c:multiLvlStrRef>",d+=`    <c:f>Sheet1!$A$2:$${Pt(u.labels.length)}$${u.labels[0].length+1}</c:f>`,d+="    <c:multiLvlStrCache>",d+=`      <c:ptCount val="${u.labels[0].length}"/>`,u.labels.forEach(m=>{d+="<c:lvl>",m.forEach((g,A)=>d+=`<c:pt idx="${A}"><c:v>${Xe(g)}</c:v></c:pt>`),d+="</c:lvl>"}),d+="    </c:multiLvlStrCache>",d+="  </c:multiLvlStrRef>"),d+="</c:cat>",d+="<c:val>",d+="  <c:numRef>",d+=`<c:f>Sheet1!$${Pt(u._dataIndex+u.labels.length+1)}$2:$${Pt(u._dataIndex+u.labels.length+1)}$${u.labels[0].length+1}</c:f>`,d+="    <c:numCache>",d+="      <c:formatCode>"+(n.valLabelFormatCode||n.dataTableFormatCode||"General")+"</c:formatCode>",d+=`      <c:ptCount val="${u.labels[0].length}"/>`,u.values.forEach((m,g)=>d+=`<c:pt idx="${g}"><c:v>${m||m===0?m:""}</c:v></c:pt>`),d+="    </c:numCache>",d+="  </c:numRef>",d+="</c:val>",t===be.LINE&&(d+='<c:smooth val="'+(n.lineSmooth?"1":"0")+'"/>'),d+="</c:ser>"}),d+="  <c:dLbls>",d+=`    <c:numFmt formatCode="${Xe(n.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,d+="    <c:txPr>",d+="      <a:bodyPr/>",d+="      <a:lstStyle/>",d+="      <a:p><a:pPr>",d+=`        <a:defRPr b="${n.dataLabelFontBold?1:0}" i="${n.dataLabelFontItalic?1:0}" strike="noStrike" sz="${Math.round((n.dataLabelFontSize||Qr)*100)}" u="none">`,d+="          <a:solidFill>"+Ct(n.dataLabelColor||vr)+"</a:solidFill>",d+='          <a:latin typeface="'+(n.dataLabelFontFace||"Arial")+'"/>',d+="        </a:defRPr>",d+="      </a:pPr></a:p>",d+="    </c:txPr>",n.dataLabelPosition&&(d+=' <c:dLblPos val="'+n.dataLabelPosition+'"/>'),d+='    <c:showLegendKey val="0"/>',d+='    <c:showVal val="'+(n.showValue?"1":"0")+'"/>',d+='    <c:showCatName val="0"/>',d+='    <c:showSerName val="'+(n.showSerName?"1":"0")+'"/>',d+='    <c:showPercent val="0"/>',d+='    <c:showBubbleSize val="0"/>',d+=`    <c:showLeaderLines val="${n.showLeaderLines?"1":"0"}"/>`,d+="  </c:dLbls>",t===be.BAR?(d+=`  <c:gapWidth val="${n.barGapWidthPct}"/>`,d+=`  <c:overlap val="${(n.barGrouping||"").includes("tacked")?100:n.barOverlapPct?n.barOverlapPct:0}"/>`):t===be.BAR3D?(d+=`  <c:gapWidth val="${n.barGapWidthPct}"/>`,d+=`  <c:gapDepth val="${n.barGapDepthPct}"/>`,d+='  <c:shape val="'+n.bar3DShape+'"/>'):t===be.LINE&&(d+='  <c:marker val="1"/>'),d+=`<c:axId val="${a}"/><c:axId val="${r}"/><c:axId val="${kT}"/>`,d+=`</c:${t}Chart>`;break;case be.SCATTER:d+="<c:"+t+"Chart>",d+='<c:scatterStyle val="lineMarker"/>',d+='<c:varyColors val="0"/>',s=-1,e.filter((u,h)=>h>0).forEach((u,h)=>{s++,d+="<c:ser>",d+=`  <c:idx val="${h}"/>`,d+=`  <c:order val="${h}"/>`,d+="  <c:tx>",d+="    <c:strRef>",d+=`      <c:f>Sheet1!$${Pt(h+2)}$1</c:f>`,d+='      <c:strCache><c:ptCount val="1"/><c:pt idx="0"><c:v>'+Xe(u.name)+"</c:v></c:pt></c:strCache>",d+="    </c:strRef>",d+="  </c:tx>",d+="  <c:spPr>";{const p=n.chartColors[s%n.chartColors.length];p==="transparent"?d+="<a:noFill/>":n.chartColorsOpacity?d+="<a:solidFill>"+Ct(p,'<a:alpha val="'+Math.round(n.chartColorsOpacity*1e3).toString()+'"/>')+"</a:solidFill>":d+="<a:solidFill>"+Ct(p)+"</a:solidFill>",n.lineSize===0?d+="<a:ln><a:noFill/></a:ln>":(d+=`<a:ln w="${He(n.lineSize)}" cap="${vf(n.lineCap)}"><a:solidFill>${Ct(p)}</a:solidFill>`,d+=`<a:prstDash val="${n.lineDash||"solid"}"/><a:round/></a:ln>`),d+=Ls(n.shadow,Ms)}if(d+="  </c:spPr>",d+="<c:marker>",d+='  <c:symbol val="'+n.lineDataSymbol+'"/>',n.lineDataSymbolSize&&(d+=`<c:size val="${n.lineDataSymbolSize}"/>`),d+="<c:spPr>",d+=`<a:solidFill>${Ct(n.chartColors[h+1>n.chartColors.length?Math.floor(Math.random()*n.chartColors.length):h])}</a:solidFill>`,d+=`<a:ln w="${n.lineDataSymbolLineSize}" cap="flat"><a:solidFill>${Ct(n.lineDataSymbolLineColor||n.chartColors[s%n.chartColors.length])}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`,d+="<a:effectLst/>",d+="</c:spPr>",d+="</c:marker>",n.showLabel){const p=yf("-xxxx-xxxx-xxxx-xxxxxxxxxxxx");u.labels[0]&&(n.dataLabelFormatScatter==="custom"||n.dataLabelFormatScatter==="customXY")&&(d+="<c:dLbls>",u.labels[0].forEach((m,g)=>{(n.dataLabelFormatScatter==="custom"||n.dataLabelFormatScatter==="customXY")&&(d+="  <c:dLbl>",d+=`    <c:idx val="${g}"/>`,d+="    <c:tx>",d+="      <c:rich>",d+="            <a:bodyPr>",d+="                <a:spAutoFit/>",d+="            </a:bodyPr>",d+="            <a:lstStyle/>",d+="            <a:p>",d+="                <a:pPr>",d+="                    <a:defRPr/>",d+="                </a:pPr>",d+="              <a:r>",d+='                    <a:rPr lang="'+(n.lang||"en-US")+'" dirty="0"/>',d+="                    <a:t>"+Xe(m)+"</a:t>",d+="              </a:r>",n.dataLabelFormatScatter==="customXY"&&!/^ *$/.test(m)&&(d+="              <a:r>",d+='                  <a:rPr lang="'+(n.lang||"en-US")+'" baseline="0" dirty="0"/>',d+="                  <a:t> (</a:t>",d+="              </a:r>",d+='              <a:fld id="{'+yf("xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")+'}" type="XVALUE">',d+='                  <a:rPr lang="'+(n.lang||"en-US")+'" baseline="0"/>',d+="                  <a:pPr>",d+="                      <a:defRPr/>",d+="                  </a:pPr>",d+="                  <a:t>["+Xe(u.name)+"</a:t>",d+="              </a:fld>",d+="              <a:r>",d+='                  <a:rPr lang="'+(n.lang||"en-US")+'" baseline="0" dirty="0"/>',d+="                  <a:t>, </a:t>",d+="              </a:r>",d+='              <a:fld id="{'+yf("xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")+'}" type="YVALUE">',d+='                  <a:rPr lang="'+(n.lang||"en-US")+'" baseline="0"/>',d+="                  <a:pPr>",d+="                      <a:defRPr/>",d+="                  </a:pPr>",d+="                  <a:t>["+Xe(u.name)+"]</a:t>",d+="              </a:fld>",d+="              <a:r>",d+='                  <a:rPr lang="'+(n.lang||"en-US")+'" baseline="0" dirty="0"/>',d+="                  <a:t>)</a:t>",d+="              </a:r>",d+='              <a:endParaRPr lang="'+(n.lang||"en-US")+'" dirty="0"/>'),d+="            </a:p>",d+="      </c:rich>",d+="    </c:tx>",d+="    <c:spPr>",d+="        <a:noFill/>",d+="        <a:ln>",d+="            <a:noFill/>",d+="        </a:ln>",d+="        <a:effectLst/>",d+="    </c:spPr>",n.dataLabelPosition&&(d+=' <c:dLblPos val="'+n.dataLabelPosition+'"/>'),d+='    <c:showLegendKey val="0"/>',d+='    <c:showVal val="0"/>',d+='    <c:showCatName val="0"/>',d+='    <c:showSerName val="0"/>',d+='    <c:showPercent val="0"/>',d+='    <c:showBubbleSize val="0"/>',d+='       <c:showLeaderLines val="1"/>',d+="    <c:extLst>",d+='      <c:ext uri="{CE6537A1-D6FC-4f65-9D91-7224C49458BB}" xmlns:c15="http://schemas.microsoft.com/office/drawing/2012/chart"/>',d+='      <c:ext uri="{C3380CC4-5D6E-409C-BE32-E72D297353CC}" xmlns:c16="http://schemas.microsoft.com/office/drawing/2014/chart">',d+=`            <c16:uniqueId val="{${"00000000".substring(0,8-(g+1).toString().length).toString()}${g+1}${p}}"/>`,d+="      </c:ext>",d+="        </c:extLst>",d+="</c:dLbl>")}),d+="</c:dLbls>"),n.dataLabelFormatScatter==="XY"&&(d+="<c:dLbls>",d+="    <c:spPr>",d+="        <a:noFill/>",d+="        <a:ln>",d+="            <a:noFill/>",d+="        </a:ln>",d+="          <a:effectLst/>",d+="    </c:spPr>",d+="    <c:txPr>",d+="        <a:bodyPr>",d+="            <a:spAutoFit/>",d+="        </a:bodyPr>",d+="        <a:lstStyle/>",d+="        <a:p>",d+="            <a:pPr>",d+="                <a:defRPr/>",d+="            </a:pPr>",d+='            <a:endParaRPr lang="en-US"/>',d+="        </a:p>",d+="    </c:txPr>",n.dataLabelPosition&&(d+=' <c:dLblPos val="'+n.dataLabelPosition+'"/>'),d+='    <c:showLegendKey val="0"/>',d+=` <c:showVal val="${n.showLabel?"1":"0"}"/>`,d+=` <c:showCatName val="${n.showLabel?"1":"0"}"/>`,d+=` <c:showSerName val="${n.showSerName?"1":"0"}"/>`,d+='    <c:showPercent val="0"/>',d+='    <c:showBubbleSize val="0"/>',d+="    <c:extLst>",d+='        <c:ext uri="{CE6537A1-D6FC-4f65-9D91-7224C49458BB}" xmlns:c15="http://schemas.microsoft.com/office/drawing/2012/chart">',d+='            <c15:showLeaderLines val="1"/>',d+="        </c:ext>",d+="    </c:extLst>",d+="</c:dLbls>")}e.length===1&&n.chartColors!==ud&&u.values.forEach((p,m)=>{const g=p<0?n.invertedColors||n.chartColors||ud:n.chartColors||[];d+="  <c:dPt>",d+=`    <c:idx val="${m}"/>`,d+='      <c:invertIfNegative val="0"/>',d+='    <c:bubble3D val="0"/>',d+="    <c:spPr>",n.lineSize===0?d+="<a:ln><a:noFill/></a:ln>":(d+="<a:solidFill>",d+=' <a:srgbClr val="'+g[m%g.length]+'"/>',d+="</a:solidFill>"),d+=Ls(n.shadow,Ms),d+="    </c:spPr>",d+="  </c:dPt>"}),d+="<c:xVal>",d+="  <c:numRef>",d+=`    <c:f>Sheet1!$A$2:$A$${e[0].values.length+1}</c:f>`,d+="    <c:numCache>",d+="      <c:formatCode>General</c:formatCode>",d+=`      <c:ptCount val="${e[0].values.length}"/>`,e[0].values.forEach((p,m)=>{d+=`<c:pt idx="${m}"><c:v>${p||p===0?p:""}</c:v></c:pt>`}),d+="    </c:numCache>",d+="  </c:numRef>",d+="</c:xVal>",d+="<c:yVal>",d+="  <c:numRef>",d+=`    <c:f>Sheet1!$${Pt(h+2)}$2:$${Pt(h+2)}$${e[0].values.length+1}</c:f>`,d+="    <c:numCache>",d+="      <c:formatCode>General</c:formatCode>",d+=`      <c:ptCount val="${e[0].values.length}"/>`,e[0].values.forEach((p,m)=>{d+=`<c:pt idx="${m}"><c:v>${u.values[m]||u.values[m]===0?u.values[m]:""}</c:v></c:pt>`}),d+="    </c:numCache>",d+="  </c:numRef>",d+="</c:yVal>",d+='<c:smooth val="'+(n.lineSmooth?"1":"0")+'"/>',d+="</c:ser>"}),d+="  <c:dLbls>",d+=`    <c:numFmt formatCode="${Xe(n.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,d+="    <c:txPr>",d+="      <a:bodyPr/>",d+="      <a:lstStyle/>",d+="      <a:p><a:pPr>",d+=`        <a:defRPr b="${n.dataLabelFontBold?"1":"0"}" i="${n.dataLabelFontItalic?"1":"0"}" strike="noStrike" sz="${Math.round((n.dataLabelFontSize||Qr)*100)}" u="none">`,d+="          <a:solidFill>"+Ct(n.dataLabelColor||vr)+"</a:solidFill>",d+='          <a:latin typeface="'+(n.dataLabelFontFace||"Arial")+'"/>',d+="        </a:defRPr>",d+="      </a:pPr></a:p>",d+="    </c:txPr>",n.dataLabelPosition&&(d+=' <c:dLblPos val="'+n.dataLabelPosition+'"/>'),d+='    <c:showLegendKey val="0"/>',d+='    <c:showVal val="'+(n.showValue?"1":"0")+'"/>',d+='    <c:showCatName val="0"/>',d+='    <c:showSerName val="'+(n.showSerName?"1":"0")+'"/>',d+='    <c:showPercent val="0"/>',d+='    <c:showBubbleSize val="0"/>',d+="  </c:dLbls>",d+=`<c:axId val="${a}"/><c:axId val="${r}"/>`,d+="</c:"+t+"Chart>";break;case be.BUBBLE:case be.BUBBLE3D:d+="<c:bubbleChart>",d+='<c:varyColors val="0"/>',s=-1,e.filter((u,h)=>h>0).forEach((u,h)=>{s++,d+="<c:ser>",d+=`  <c:idx val="${h}"/>`,d+=`  <c:order val="${h}"/>`,d+="  <c:tx>",d+="    <c:strRef>",d+="      <c:f>Sheet1!$"+Pt(l+1)+"$1</c:f>",d+='      <c:strCache><c:ptCount val="1"/><c:pt idx="0"><c:v>'+Xe(u.name)+"</c:v></c:pt></c:strCache>",d+="    </c:strRef>",d+="  </c:tx>";{d+="<c:spPr>";const p=n.chartColors[s%n.chartColors.length];p==="transparent"?d+="<a:noFill/>":n.chartColorsOpacity?d+=`<a:solidFill>${Ct(p,'<a:alpha val="'+Math.round(n.chartColorsOpacity*1e3).toString()+'"/>')}</a:solidFill>`:d+="<a:solidFill>"+Ct(p)+"</a:solidFill>",n.lineSize===0?d+="<a:ln><a:noFill/></a:ln>":n.dataBorder?d+=`<a:ln w="${He(n.dataBorder.pt)}" cap="flat"><a:solidFill>${Ct(n.dataBorder.color)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`:(d+=`<a:ln w="${He(n.lineSize)}" cap="flat"><a:solidFill>${Ct(p)}</a:solidFill>`,d+=`<a:prstDash val="${n.lineDash||"solid"}"/><a:round/></a:ln>`),d+=Ls(n.shadow,Ms),d+="</c:spPr>"}d+="<c:xVal>",d+="  <c:numRef>",d+=`    <c:f>Sheet1!$A$2:$A$${e[0].values.length+1}</c:f>`,d+="    <c:numCache>",d+="      <c:formatCode>General</c:formatCode>",d+=`      <c:ptCount val="${e[0].values.length}"/>`,e[0].values.forEach((p,m)=>{d+=`<c:pt idx="${m}"><c:v>${p||p===0?p:""}</c:v></c:pt>`}),d+="    </c:numCache>",d+="  </c:numRef>",d+="</c:xVal>",d+="<c:yVal>",d+="  <c:numRef>",d+=`<c:f>Sheet1!$${Pt(l+1)}$2:$${Pt(l+1)}$${e[0].values.length+1}</c:f>`,l++,d+="    <c:numCache>",d+="      <c:formatCode>General</c:formatCode>",d+=`      <c:ptCount val="${e[0].values.length}"/>`,e[0].values.forEach((p,m)=>{d+=`<c:pt idx="${m}"><c:v>${u.values[m]||u.values[m]===0?u.values[m]:""}</c:v></c:pt>`}),d+="    </c:numCache>",d+="  </c:numRef>",d+="</c:yVal>",d+="  <c:bubbleSize>",d+="    <c:numRef>",d+=`<c:f>Sheet1!$${Pt(l+1)}$2:$${Pt(l+1)}$${u.sizes.length+1}</c:f>`,l++,d+="      <c:numCache>",d+="        <c:formatCode>General</c:formatCode>",d+=`           <c:ptCount val="${u.sizes.length}"/>`,u.sizes.forEach((p,m)=>{d+=`<c:pt idx="${m}"><c:v>${p||""}</c:v></c:pt>`}),d+="      </c:numCache>",d+="    </c:numRef>",d+="  </c:bubbleSize>",d+='  <c:bubble3D val="'+(t===be.BUBBLE3D?"1":"0")+'"/>',d+="</c:ser>"}),d+="<c:dLbls>",d+=`<c:numFmt formatCode="${Xe(n.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,d+="<c:txPr><a:bodyPr/><a:lstStyle/><a:p><a:pPr>",d+=`<a:defRPr b="${n.dataLabelFontBold?1:0}" i="${n.dataLabelFontItalic?1:0}" strike="noStrike" sz="${Math.round(Math.round(n.dataLabelFontSize||Qr)*100)}" u="none">`,d+=`<a:solidFill>${Ct(n.dataLabelColor||vr)}</a:solidFill>`,d+=`<a:latin typeface="${n.dataLabelFontFace||"Arial"}"/>`,d+="</a:defRPr></a:pPr></a:p></c:txPr>",n.dataLabelPosition&&(d+=`<c:dLblPos val="${n.dataLabelPosition}"/>`),d+='<c:showLegendKey val="0"/>',d+=`<c:showVal val="${n.showValue?"1":"0"}"/>`,d+=`<c:showCatName val="0"/><c:showSerName val="${n.showSerName?"1":"0"}"/><c:showPercent val="0"/><c:showBubbleSize val="0"/>`,d+="<c:extLst>",d+='  <c:ext uri="{CE6537A1-D6FC-4f65-9D91-7224C49458BB}" xmlns:c15="http://schemas.microsoft.com/office/drawing/2012/chart">',d+='    <c15:showLeaderLines val="'+(n.showLeaderLines?"1":"0")+'"/>',d+="  </c:ext>",d+="</c:extLst>",d+="</c:dLbls>",d+=`<c:axId val="${a}"/><c:axId val="${r}"/>`,d+="</c:bubbleChart>";break;case be.DOUGHNUT:case be.PIE:c=e[0],d+="<c:"+t+"Chart>",d+='  <c:varyColors val="1"/>',d+="<c:ser>",d+='  <c:idx val="0"/>',d+='  <c:order val="0"/>',d+="  <c:tx>",d+="    <c:strRef>",d+="      <c:f>Sheet1!$B$1</c:f>",d+="      <c:strCache>",d+='        <c:ptCount val="1"/>',d+='        <c:pt idx="0"><c:v>'+Xe(c.name)+"</c:v></c:pt>",d+="      </c:strCache>",d+="    </c:strRef>",d+="  </c:tx>",d+="  <c:spPr>",d+='    <a:solidFill><a:schemeClr val="accent1"/></a:solidFill>',d+='    <a:ln w="9525" cap="flat"><a:solidFill><a:srgbClr val="F9F9F9"/></a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>',n.dataNoEffects?d+="<a:effectLst/>":d+=Ls(n.shadow,Ms),d+="  </c:spPr>",c.labels[0].forEach((u,h)=>{d+="<c:dPt>",d+=` <c:idx val="${h}"/>`,d+=' <c:bubble3D val="0"/>',d+=" <c:spPr>",d+=`<a:solidFill>${Ct(n.chartColors[h+1>n.chartColors.length?Math.floor(Math.random()*n.chartColors.length):h])}</a:solidFill>`,n.dataBorder&&(d+=`<a:ln w="${He(n.dataBorder.pt)}" cap="flat"><a:solidFill>${Ct(n.dataBorder.color)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`),d+=Ls(n.shadow,Ms),d+="  </c:spPr>",d+="</c:dPt>"}),d+="<c:dLbls>",c.labels[0].forEach((u,h)=>{d+="<c:dLbl>",d+=` <c:idx val="${h}"/>`,d+=`  <c:numFmt formatCode="${Xe(n.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,d+="  <c:spPr/><c:txPr>",d+="   <a:bodyPr/><a:lstStyle/>",d+="   <a:p><a:pPr>",d+=`   <a:defRPr sz="${Math.round((n.dataLabelFontSize||Qr)*100)}" b="${n.dataLabelFontBold?1:0}" i="${n.dataLabelFontItalic?1:0}" u="none" strike="noStrike">`,d+="    <a:solidFill>"+Ct(n.dataLabelColor||vr)+"</a:solidFill>",d+=`    <a:latin typeface="${n.dataLabelFontFace||"Arial"}"/>`,d+="   </a:defRPr>",d+="      </a:pPr></a:p>",d+="    </c:txPr>",t===be.PIE&&n.dataLabelPosition&&(d+=`<c:dLblPos val="${n.dataLabelPosition}"/>`),d+='    <c:showLegendKey val="0"/>',d+='    <c:showVal val="'+(n.showValue?"1":"0")+'"/>',d+='    <c:showCatName val="'+(n.showLabel?"1":"0")+'"/>',d+='    <c:showSerName val="'+(n.showSerName?"1":"0")+'"/>',d+='    <c:showPercent val="'+(n.showPercent?"1":"0")+'"/>',d+='    <c:showBubbleSize val="0"/>',d+="  </c:dLbl>"}),d+=` <c:numFmt formatCode="${Xe(n.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,d+="    <c:txPr>",d+="      <a:bodyPr/>",d+="      <a:lstStyle/>",d+="      <a:p>",d+="        <a:pPr>",d+=`          <a:defRPr sz="1800" b="${n.dataLabelFontBold?"1":"0"}" i="${n.dataLabelFontItalic?"1":"0"}" u="none" strike="noStrike">`,d+='            <a:solidFill><a:srgbClr val="000000"/></a:solidFill><a:latin typeface="Arial"/>',d+="          </a:defRPr>",d+="        </a:pPr>",d+="      </a:p>",d+="    </c:txPr>",d+=t===be.PIE?'<c:dLblPos val="ctr"/>':"",d+='    <c:showLegendKey val="0"/>',d+='    <c:showVal val="0"/>',d+='    <c:showCatName val="1"/>',d+='    <c:showSerName val="0"/>',d+='    <c:showPercent val="1"/>',d+='    <c:showBubbleSize val="0"/>',d+=` <c:showLeaderLines val="${n.showLeaderLines?"1":"0"}"/>`,d+="</c:dLbls>",d+="<c:cat>",d+="  <c:strRef>",d+=`    <c:f>Sheet1!$A$2:$A$${c.labels[0].length+1}</c:f>`,d+="    <c:strCache>",d+=`         <c:ptCount val="${c.labels[0].length}"/>`,c.labels[0].forEach((u,h)=>{d+=`<c:pt idx="${h}"><c:v>${Xe(u)}</c:v></c:pt>`}),d+="    </c:strCache>",d+="  </c:strRef>",d+="</c:cat>",d+="  <c:val>",d+="    <c:numRef>",d+=`      <c:f>Sheet1!$B$2:$B$${c.labels[0].length+1}</c:f>`,d+="      <c:numCache>",d+=`           <c:ptCount val="${c.labels[0].length}"/>`,c.values.forEach((u,h)=>{d+=`<c:pt idx="${h}"><c:v>${u||u===0?u:""}</c:v></c:pt>`}),d+="      </c:numCache>",d+="    </c:numRef>",d+="  </c:val>",d+="  </c:ser>",d+=`  <c:firstSliceAng val="${n.firstSliceAng?Math.round(n.firstSliceAng):0}"/>`,t===be.DOUGHNUT&&(d+=`<c:holeSize val="${typeof n.holeSize=="number"?n.holeSize:"50"}"/>`),d+="</c:"+t+"Chart>";break;default:d+="";break}return d}function Mg(t,e,n){let r="";return t._type===be.SCATTER||t._type===be.BUBBLE||t._type===be.BUBBLE3D?r+="<c:valAx>":r+="<c:"+(t.catLabelFormatCode?"dateAx":"catAx")+">",r+='  <c:axId val="'+e+'"/>',r+="  <c:scaling>",r+='<c:orientation val="'+(t.catAxisOrientation||(t.barDir==="col","minMax"))+'"/>',(t.catAxisMaxVal||t.catAxisMaxVal===0)&&(r+=`<c:max val="${t.catAxisMaxVal}"/>`),(t.catAxisMinVal||t.catAxisMinVal===0)&&(r+=`<c:min val="${t.catAxisMinVal}"/>`),r+="</c:scaling>",r+='  <c:delete val="'+(t.catAxisHidden?"1":"0")+'"/>',r+='  <c:axPos val="'+(t.barDir==="col"?"b":"l")+'"/>',r+=t.catGridLine.style!=="none"?qy(t.catGridLine):"",t.showCatAxisTitle&&(r+=Nm({color:t.catAxisTitleColor,fontFace:t.catAxisTitleFontFace,fontSize:t.catAxisTitleFontSize,titleRotate:t.catAxisTitleRotate,title:t.catAxisTitle||"Axis Title"})),t._type===be.SCATTER||t._type===be.BUBBLE||t._type===be.BUBBLE3D?r+='  <c:numFmt formatCode="'+(t.valAxisLabelFormatCode?Xe(t.valAxisLabelFormatCode):"General")+'" sourceLinked="1"/>':r+='  <c:numFmt formatCode="'+(Xe(t.catLabelFormatCode)||"General")+'" sourceLinked="1"/>',t._type===be.SCATTER?(r+='  <c:majorTickMark val="none"/>',r+='  <c:minorTickMark val="none"/>',r+='  <c:tickLblPos val="nextTo"/>'):(r+='  <c:majorTickMark val="'+(t.catAxisMajorTickMark||"out")+'"/>',r+='  <c:minorTickMark val="'+(t.catAxisMinorTickMark||"none")+'"/>',r+='  <c:tickLblPos val="'+(t.catAxisLabelPos||(t.barDir==="col"?"low":"nextTo"))+'"/>'),r+="  <c:spPr>",r+=`    <a:ln w="${t.catAxisLineSize?He(t.catAxisLineSize):Yu}" cap="flat">`,r+=t.catAxisLineShow?"<a:solidFill>"+Ct(t.catAxisLineColor||ro.color)+"</a:solidFill>":"<a:noFill/>",r+='      <a:prstDash val="'+(t.catAxisLineStyle||"solid")+'"/>',r+="      <a:round/>",r+="    </a:ln>",r+="  </c:spPr>",r+="  <c:txPr>",t.catAxisLabelRotate?r+=`<a:bodyPr rot="${ao(t.catAxisLabelRotate)}"/>`:r+="<a:bodyPr/>",r+="    <a:lstStyle/>",r+="    <a:p>",r+="    <a:pPr>",r+=`      <a:defRPr sz="${Math.round((t.catAxisLabelFontSize||Qr)*100)}" b="${t.catAxisLabelFontBold?1:0}" i="${t.catAxisLabelFontItalic?1:0}" u="none" strike="noStrike">`,r+="      <a:solidFill>"+Ct(t.catAxisLabelColor||vr)+"</a:solidFill>",r+='      <a:latin typeface="'+(t.catAxisLabelFontFace||"Arial")+'"/>',r+="   </a:defRPr>",r+="  </a:pPr>",r+='  <a:endParaRPr lang="'+(t.lang||"en-US")+'"/>',r+="  </a:p>",r+=" </c:txPr>",r+=' <c:crossAx val="'+n+'"/>',r+=` <c:${typeof t.valAxisCrossesAt=="number"?"crossesAt":"crosses"} val="${t.valAxisCrossesAt||"autoZero"}"/>`,r+=' <c:auto val="1"/>',r+=' <c:lblAlgn val="ctr"/>',r+=` <c:noMultiLvlLbl val="${t.catAxisMultiLevelLabels?0:1}"/>`,t.catAxisLabelFrequency&&(r+=' <c:tickLblSkip val="'+t.catAxisLabelFrequency+'"/>'),(t.catLabelFormatCode||t._type===be.SCATTER||t._type===be.BUBBLE||t._type===be.BUBBLE3D)&&(t.catLabelFormatCode&&(["catAxisBaseTimeUnit","catAxisMajorTimeUnit","catAxisMinorTimeUnit"].forEach(a=>{t[a]&&(typeof t[a]!="string"||!["days","months","years"].includes(t[a].toLowerCase()))&&(console.warn(`"${a}" must be one of: 'days','months','years' !`),t[a]=null)}),t.catAxisBaseTimeUnit&&(r+='<c:baseTimeUnit val="'+t.catAxisBaseTimeUnit.toLowerCase()+'"/>'),t.catAxisMajorTimeUnit&&(r+='<c:majorTimeUnit val="'+t.catAxisMajorTimeUnit.toLowerCase()+'"/>'),t.catAxisMinorTimeUnit&&(r+='<c:minorTimeUnit val="'+t.catAxisMinorTimeUnit.toLowerCase()+'"/>')),t.catAxisMajorUnit&&(r+=`<c:majorUnit val="${t.catAxisMajorUnit}"/>`),t.catAxisMinorUnit&&(r+=`<c:minorUnit val="${t.catAxisMinorUnit}"/>`)),t._type===be.SCATTER||t._type===be.BUBBLE||t._type===be.BUBBLE3D?r+="</c:valAx>":r+="</c:"+(t.catLabelFormatCode?"dateAx":"catAx")+">",r}function Lg(t,e){let n=e===Wa?t.barDir==="col"?"l":"b":t.barDir!=="col"?"r":"t";e===xf&&(n="r");const r=e===Wa?dd:EA;let a="";return a+="<c:valAx>",a+='  <c:axId val="'+e+'"/>',a+="  <c:scaling>",t.valAxisLogScaleBase&&(a+=`<c:logBase val="${t.valAxisLogScaleBase}"/>`),a+='<c:orientation val="'+(t.valAxisOrientation||(t.barDir==="col","minMax"))+'"/>',(t.valAxisMaxVal||t.valAxisMaxVal===0)&&(a+=`<c:max val="${t.valAxisMaxVal}"/>`),(t.valAxisMinVal||t.valAxisMinVal===0)&&(a+=`<c:min val="${t.valAxisMinVal}"/>`),a+="  </c:scaling>",a+=`  <c:delete val="${t.valAxisHidden?1:0}"/>`,a+='  <c:axPos val="'+n+'"/>',t.valGridLine.style!=="none"&&(a+=qy(t.valGridLine)),t.showValAxisTitle&&(a+=Nm({color:t.valAxisTitleColor,fontFace:t.valAxisTitleFontFace,fontSize:t.valAxisTitleFontSize,titleRotate:t.valAxisTitleRotate,title:t.valAxisTitle||"Axis Title"})),a+=`<c:numFmt formatCode="${t.valAxisLabelFormatCode?Xe(t.valAxisLabelFormatCode):"General"}" sourceLinked="0"/>`,t._type===be.SCATTER?(a+='  <c:majorTickMark val="none"/>',a+='  <c:minorTickMark val="none"/>',a+='  <c:tickLblPos val="nextTo"/>'):(a+=' <c:majorTickMark val="'+(t.valAxisMajorTickMark||"out")+'"/>',a+=' <c:minorTickMark val="'+(t.valAxisMinorTickMark||"none")+'"/>',a+=' <c:tickLblPos val="'+(t.valAxisLabelPos||(t.barDir==="col"?"nextTo":"low"))+'"/>'),a+=" <c:spPr>",a+=`   <a:ln w="${t.valAxisLineSize?He(t.valAxisLineSize):Yu}" cap="flat">`,a+=t.valAxisLineShow?"<a:solidFill>"+Ct(t.valAxisLineColor||ro.color)+"</a:solidFill>":"<a:noFill/>",a+='     <a:prstDash val="'+(t.valAxisLineStyle||"solid")+'"/>',a+="     <a:round/>",a+="   </a:ln>",a+=" </c:spPr>",a+=" <c:txPr>",a+=`  <a:bodyPr${t.valAxisLabelRotate?' rot="'+ao(t.valAxisLabelRotate).toString()+'"':""}/>`,a+="  <a:lstStyle/>",a+="  <a:p>",a+="    <a:pPr>",a+=`      <a:defRPr sz="${Math.round((t.valAxisLabelFontSize||Qr)*100)}" b="${t.valAxisLabelFontBold?1:0}" i="${t.valAxisLabelFontItalic?1:0}" u="none" strike="noStrike">`,a+="        <a:solidFill>"+Ct(t.valAxisLabelColor||vr)+"</a:solidFill>",a+='        <a:latin typeface="'+(t.valAxisLabelFontFace||"Arial")+'"/>',a+="      </a:defRPr>",a+="    </a:pPr>",a+='  <a:endParaRPr lang="'+(t.lang||"en-US")+'"/>',a+="  </a:p>",a+=" </c:txPr>",a+=' <c:crossAx val="'+r+'"/>',typeof t.catAxisCrossesAt=="number"?a+=` <c:crossesAt val="${t.catAxisCrossesAt}"/>`:typeof t.catAxisCrossesAt=="string"?a+=' <c:crosses val="'+t.catAxisCrossesAt+'"/>':a+=' <c:crosses val="'+(n==="r"||n==="t"?"max":"autoZero")+'"/>',a+=' <c:crossBetween val="'+(t._type===be.SCATTER||Array.isArray(t._type)&&t._type.filter(i=>i.type===be.AREA).length>0?"midCat":"between")+'"/>',t.valAxisMajorUnit&&(a+=` <c:majorUnit val="${t.valAxisMajorUnit}"/>`),t.valAxisDisplayUnit&&(a+=`<c:dispUnits><c:builtInUnit val="${t.valAxisDisplayUnit}"/>${t.valAxisDisplayUnitLabel?"<c:dispUnitsLbl/>":""}</c:dispUnits>`),a+="</c:valAx>",a}function s9(t,e,n){let r="";return r+="<c:serAx>",r+='  <c:axId val="'+e+'"/>',r+='  <c:scaling><c:orientation val="'+(t.serAxisOrientation||(t.barDir==="col","minMax"))+'"/></c:scaling>',r+='  <c:delete val="'+(t.serAxisHidden?"1":"0")+'"/>',r+='  <c:axPos val="'+(t.barDir==="col"?"b":"l")+'"/>',r+=t.serGridLine.style!=="none"?qy(t.serGridLine):"",t.showSerAxisTitle&&(r+=Nm({color:t.serAxisTitleColor,fontFace:t.serAxisTitleFontFace,fontSize:t.serAxisTitleFontSize,titleRotate:t.serAxisTitleRotate,title:t.serAxisTitle||"Axis Title"})),r+=`  <c:numFmt formatCode="${Xe(t.serLabelFormatCode)||"General"}" sourceLinked="0"/>`,r+='  <c:majorTickMark val="out"/>',r+='  <c:minorTickMark val="none"/>',r+=`  <c:tickLblPos val="${t.serAxisLabelPos||t.barDir==="col"?"low":"nextTo"}"/>`,r+="  <c:spPr>",r+='    <a:ln w="12700" cap="flat">',r+=t.serAxisLineShow?`<a:solidFill>${Ct(t.serAxisLineColor||ro.color)}</a:solidFill>`:"<a:noFill/>",r+='      <a:prstDash val="solid"/>',r+="      <a:round/>",r+="    </a:ln>",r+="  </c:spPr>",r+="  <c:txPr>",r+="    <a:bodyPr/>",r+="    <a:lstStyle/>",r+="    <a:p>",r+="    <a:pPr>",r+=`    <a:defRPr sz="${Math.round((t.serAxisLabelFontSize||Qr)*100)}" b="${t.serAxisLabelFontBold?"1":"0"}" i="${t.serAxisLabelFontItalic?"1":"0"}" u="none" strike="noStrike">`,r+=`      <a:solidFill>${Ct(t.serAxisLabelColor||vr)}</a:solidFill>`,r+=`      <a:latin typeface="${t.serAxisLabelFontFace||"Arial"}"/>`,r+="   </a:defRPr>",r+="  </a:pPr>",r+='  <a:endParaRPr lang="'+(t.lang||"en-US")+'"/>',r+="  </a:p>",r+=" </c:txPr>",r+=' <c:crossAx val="'+n+'"/>',r+=' <c:crosses val="autoZero"/>',t.serAxisLabelFrequency&&(r+=' <c:tickLblSkip val="'+t.serAxisLabelFrequency+'"/>'),t.serLabelFormatCode&&(["serAxisBaseTimeUnit","serAxisMajorTimeUnit","serAxisMinorTimeUnit"].forEach(a=>{t[a]&&(typeof t[a]!="string"||!["days","months","years"].includes(a.toLowerCase()))&&(console.warn(`"${a}" must be one of: 'days','months','years' !`),t[a]=null)}),t.serAxisBaseTimeUnit&&(r+=` <c:baseTimeUnit  val="${t.serAxisBaseTimeUnit.toLowerCase()}"/>`),t.serAxisMajorTimeUnit&&(r+=` <c:majorTimeUnit val="${t.serAxisMajorTimeUnit.toLowerCase()}"/>`),t.serAxisMinorTimeUnit&&(r+=` <c:minorTimeUnit val="${t.serAxisMinorTimeUnit.toLowerCase()}"/>`),t.serAxisMajorUnit&&(r+=` <c:majorUnit val="${t.serAxisMajorUnit}"/>`),t.serAxisMinorUnit&&(r+=` <c:minorUnit val="${t.serAxisMinorUnit}"/>`)),r+="</c:serAx>",r}function Nm(t,e,n){const r=t.titleAlign==="left"||t.titleAlign==="right"?`<a:pPr algn="${t.titleAlign.substring(0,1)}">`:"<a:pPr>",a=t.titleRotate?`<a:bodyPr rot="${ao(t.titleRotate)}"/>`:"<a:bodyPr/>",i=t.fontSize?`sz="${Math.round(t.fontSize*100)}"`:"",s=t.titleBold?1:0;let l="<c:layout/>";if(t.titlePos&&typeof t.titlePos.x=="number"&&typeof t.titlePos.y=="number"){const c=t.titlePos.x+e,d=t.titlePos.y+n;let u=c===0?0:c*(c/5)/10;u>=1&&(u=u/10),u>=.1&&(u=u/10);let h=d===0?0:d*(d/5)/10;h>=1&&(h=h/10),h>=.1&&(h=h/10),l=`<c:layout><c:manualLayout><c:xMode val="edge"/><c:yMode val="edge"/><c:x val="${u}"/><c:y val="${h}"/></c:manualLayout></c:layout>`}return`<c:title>
      <c:tx>
        <c:rich>
          ${a}
          <a:lstStyle/>
          <a:p>
            ${r}
            <a:defRPr ${i} b="${s}" i="0" u="none" strike="noStrike">
              <a:solidFill>${Ct(t.color||vr)}</a:solidFill>
              <a:latin typeface="${t.fontFace||"Arial"}"/>
            </a:defRPr>
          </a:pPr>
          <a:r>
            <a:rPr ${i} b="${s}" i="0" u="none" strike="noStrike">
              <a:solidFill>${Ct(t.color||vr)}</a:solidFill>
              <a:latin typeface="${t.fontFace||"Arial"}"/>
            </a:rPr>
            <a:t>${Xe(t.title)||""}</a:t>
          </a:r>
        </a:p>
        </c:rich>
      </c:tx>
      ${l}
      <c:overlay val="0"/>
    </c:title>`}function Pt(t){let e="";const n=t-1;return n<=25?e=Qc[n]:e=`${Qc[Math.floor(n/Qc.length-1)]}${Qc[n%Qc.length]}`,e}function Ls(t,e){if(t){if(typeof t!="object")return console.warn("`shadow` options must be an object. Ex: `{shadow: {type:'none'}}`"),"<a:effectLst/>"}else return"<a:effectLst/>";let n="<a:effectLst>";const r=Object.assign(Object.assign({},e),t),a=r.type||"outer",i=He(r.blur),s=He(r.offset),l=Math.round(r.angle*6e4),c=r.color,d=Math.round(r.opacity*1e5),u=r.rotateWithShape?1:0;return n+=`<a:${a}Shdw sx="100000" sy="100000" kx="0" ky="0"  algn="bl" blurRad="${i}" rotWithShape="${u}" dist="${s}" dir="${l}">`,n+=`<a:srgbClr val="${c}">`,n+=`<a:alpha val="${d}"/></a:srgbClr>`,n+=`</a:${a}Shdw>`,n+="</a:effectLst>",n}function qy(t){let e="<c:majorGridlines>";return e+=" <c:spPr>",e+=`  <a:ln w="${He(t.size||ro.size)}" cap="${vf(t.cap||ro.cap)}">`,e+='  <a:solidFill><a:srgbClr val="'+(t.color||ro.color)+'"/></a:solidFill>',e+='   <a:prstDash val="'+(t.style||ro.style)+'"/><a:round/>',e+="  </a:ln>",e+=" </c:spPr>",e+="</c:majorGridlines>",e}function vf(t){if(!t||t==="flat")return"flat";if(t==="square")return"sq";if(t==="round")return"rnd";{const e=t;throw new Error(`Invalid chart line cap: ${e}`)}}function Og(t){var e,n;const r=typeof process<"u"&&!!(!((e=process.versions)===null||e===void 0)&&e.node)&&((n=process.release)===null||n===void 0?void 0:n.name)==="node";let a,i;const s=r?()=>Rr(this,void 0,void 0,function*(){({default:a}=yield Ep(()=>import("./__vite-browser-external-BIHI7g3E.js"),[])),{default:i}=yield Ep(()=>import("./__vite-browser-external-BIHI7g3E.js"),[])}):()=>Rr(this,void 0,void 0,function*(){});r&&s();const l=[],c=t._relsMedia.filter(u=>u.type!=="online"&&!u.data&&(!u.path||u.path&&!u.path.includes("preencoded"))),d=[];return c.forEach(u=>{d.includes(u.path)?u.isDuplicate=!0:(u.isDuplicate=!1,d.push(u.path))}),c.filter(u=>!u.isDuplicate).forEach(u=>{l.push(Rr(this,void 0,void 0,function*(){if(i||(yield s()),r&&a&&u.path.indexOf("http")!==0)try{const h=a.readFileSync(u.path);return u.data=Buffer.from(h).toString("base64"),c.filter(p=>p.isDuplicate&&p.path===u.path).forEach(p=>p.data=u.data),"done"}catch(h){throw u.data=Nl,c.filter(p=>p.isDuplicate&&p.path===u.path).forEach(p=>p.data=u.data),new Error(`ERROR: Unable to read media: "${u.path}"
${String(h)}`)}return r&&i&&u.path.startsWith("http")?yield new Promise((h,p)=>{i.get(u.path,m=>{let g="";m.setEncoding("binary"),m.on("data",A=>g+=A),m.on("end",()=>{u.data=Buffer.from(g,"binary").toString("base64"),c.filter(A=>A.isDuplicate&&A.path===u.path).forEach(A=>A.data=u.data),h("done")}),m.on("error",()=>{u.data=Nl,c.filter(A=>A.isDuplicate&&A.path===u.path).forEach(A=>A.data=u.data),p(new Error(`ERROR! Unable to load image (https.get): ${u.path}`))})})}):yield new Promise((h,p)=>{const m=new XMLHttpRequest;m.onload=()=>{const g=new FileReader;g.onloadend=()=>{u.data=g.result,c.filter(A=>A.isDuplicate&&A.path===u.path).forEach(A=>A.data=u.data),u.isSvgPng?W_(u).then(()=>h("done")).catch(p):h("done")},g.readAsDataURL(m.response)},m.onerror=()=>{u.data=Nl,c.filter(g=>g.isDuplicate&&g.path===u.path).forEach(g=>g.data=u.data),p(new Error(`ERROR! Unable to load image (xhr.onerror): ${u.path}`))},m.open("GET",u.path),m.responseType="blob",m.send()})}))}),t._relsMedia.filter(u=>u.isSvgPng&&u.data).forEach(u=>{Rr(this,void 0,void 0,function*(){r&&!a&&(yield s()),r&&a?(u.data=Nl,l.push(Promise.resolve("done"))):l.push(W_(u))})}),l}function W_(t){return Rr(this,void 0,void 0,function*(){return yield new Promise((e,n)=>{const r=new Image;r.onload=()=>{r.width+r.height===0&&r.onerror("h/w=0");let a=document.createElement("CANVAS");const i=a.getContext("2d");a.width=r.width,a.height=r.height,i.drawImage(r,0,0);try{t.data=a.toDataURL(t.type),e("done")}catch(s){r.onerror(s.toString())}a=null},r.onerror=()=>{t.data=Nl,n(new Error(`ERROR! Unable to load image (image.onerror): ${t.path}`))},r.src=typeof t.data=="string"?t.data:Nl})})}const o9={cover:function(t,e){const n=t.h/t.w,a=e.h/e.w>n,i=a?e.h/n:e.w,s=a?e.h:e.w*n,l=Math.round(1e5*.5*(1-e.w/i)),c=Math.round(1e5*.5*(1-e.h/s));return`<a:srcRect l="${l}" r="${l}" t="${c}" b="${c}"/><a:stretch/>`},contain:function(t,e){const n=t.h/t.w,a=e.h/e.w>n,i=a?e.w:e.h/n,s=a?e.w*n:e.h,l=Math.round(1e5*.5*(1-e.w/i)),c=Math.round(1e5*.5*(1-e.h/s));return`<a:srcRect l="${l}" r="${l}" t="${c}" b="${c}"/><a:stretch/>`},crop:function(t,e){const n=e.x,r=t.w-(e.x+e.w),a=e.y,i=t.h-(e.y+e.h),s=Math.round(1e5*(n/t.w)),l=Math.round(1e5*(r/t.w)),c=Math.round(1e5*(a/t.h)),d=Math.round(1e5*(i/t.h));return`<a:srcRect l="${s}" r="${l}" t="${c}" b="${d}"/><a:stretch/>`}};function Hy(t){var e;let n=t._name?'<p:cSld name="'+t._name+'">':"<p:cSld>",r=1;return t._bkgdImgRid?n+=`<p:bg><p:bgPr><a:blipFill dpi="0" rotWithShape="1"><a:blip r:embed="rId${t._bkgdImgRid}"><a:lum/></a:blip><a:srcRect/><a:stretch><a:fillRect/></a:stretch></a:blipFill><a:effectLst/></p:bgPr></p:bg>`:!((e=t.background)===null||e===void 0)&&e.color?n+=`<p:bg><p:bgPr>${Pr(t.background)}</p:bgPr></p:bg>`:!t.bkgd&&t._name&&t._name===CA&&(n+='<p:bg><p:bgRef idx="1001"><a:schemeClr val="bg1"/></p:bgRef></p:bg>'),n+="<p:spTree>",n+='<p:nvGrpSpPr><p:cNvPr id="1" name=""/><p:cNvGrpSpPr/><p:nvPr/></p:nvGrpSpPr>',n+='<p:grpSpPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="0" cy="0"/>',n+='<a:chOff x="0" y="0"/><a:chExt cx="0" cy="0"/></a:xfrm></p:grpSpPr>',t._slideObjects.forEach((a,i)=>{var s,l,c,d,u,h,p,m;let g=0,A=0,v=it("75%","X",t._presLayout),x=0,y,w="",T=null,I=null,R=0,_=0,N=null,E=null;const k=(s=a.options)===null||s===void 0?void 0:s.sizing,P=(l=a.options)===null||l===void 0?void 0:l.rounding;t._slideLayout!==void 0&&t._slideLayout._slideObjects!==void 0&&a.options&&a.options.placeholder&&(y=t._slideLayout._slideObjects.filter(b=>b.options.placeholder===a.options.placeholder)[0]),a.options=a.options||{},typeof a.options.x<"u"&&(g=it(a.options.x,"X",t._presLayout)),typeof a.options.y<"u"&&(A=it(a.options.y,"Y",t._presLayout)),typeof a.options.w<"u"&&(v=it(a.options.w,"X",t._presLayout)),typeof a.options.h<"u"&&(x=it(a.options.h,"Y",t._presLayout));let C=v,D=x;switch(y&&((y.options.x||y.options.x===0)&&(g=it(y.options.x,"X",t._presLayout)),(y.options.y||y.options.y===0)&&(A=it(y.options.y,"Y",t._presLayout)),(y.options.w||y.options.w===0)&&(v=it(y.options.w,"X",t._presLayout)),(y.options.h||y.options.h===0)&&(x=it(y.options.h,"Y",t._presLayout))),a.options.flipH&&(w+=' flipH="1"'),a.options.flipV&&(w+=' flipV="1"'),a.options.rotate&&(w+=` rot="${ao(a.options.rotate)}"`),a._type){case Ke.table:if(T=a.arrTabRows,I=a.options,R=0,_=0,T[0].forEach(b=>{N=b.options||null,R+=N!=null&&N.colspan?Number(N.colspan):1}),E=`<p:graphicFrame><p:nvGraphicFramePr><p:cNvPr id="${r*t._slideNum+1}" name="${a.options.objectName}"/>`,E+='<p:cNvGraphicFramePr><a:graphicFrameLocks noGrp="1"/></p:cNvGraphicFramePr>  <p:nvPr><p:extLst><p:ext uri="{D42A27DB-BD31-4B8C-83A1-F6EECF244321}"><p14:modId xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" val="1579011935"/></p:ext></p:extLst></p:nvPr></p:nvGraphicFramePr>',E+=`<p:xfrm><a:off x="${g||(g===0?0:Ye)}" y="${A||(A===0?0:Ye)}"/><a:ext cx="${v||(v===0?0:Ye)}" cy="${x||Ye}"/></p:xfrm>`,E+='<a:graphic><a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/table"><a:tbl><a:tblPr/>',Array.isArray(I.colW)){E+="<a:tblGrid>";for(let b=0;b<R;b++){let O=xt(I.colW[b]);(O==null||isNaN(O))&&(O=(typeof a.options.w=="number"?a.options.w:1)/R),E+=`<a:gridCol w="${Math.round(O)}"/>`}E+="</a:tblGrid>"}else{_=I.colW?I.colW:Ye,a.options.w&&!I.colW&&(_=Math.round((typeof a.options.w=="number"?a.options.w:1)/R)),E+="<a:tblGrid>";for(let b=0;b<R;b++)E+=`<a:gridCol w="${_}"/>`;E+="</a:tblGrid>"}T.forEach(b=>{var O,z;for(let G=0;G<b.length;){const Q=b[G],q=(O=Q.options)===null||O===void 0?void 0:O.colspan,ne=(z=Q.options)===null||z===void 0?void 0:z.rowspan;if(q&&q>1){const Y=new Array(q-1).fill(void 0).map(()=>({_type:Ke.tablecell,options:{rowspan:ne},_hmerge:!0}));b.splice(G+1,0,...Y),G+=q}else G+=1}}),T.forEach((b,O)=>{const z=T[O+1];z&&b.forEach((G,Q)=>{var q,ne;const Y=G._rowContinue||((q=G.options)===null||q===void 0?void 0:q.rowspan),K=(ne=G.options)===null||ne===void 0?void 0:ne.colspan,ce=G._hmerge;if(Y&&Y>1){const ie={_type:Ke.tablecell,options:{colspan:K},_rowContinue:Y-1,_vmerge:!0,_hmerge:ce};z.splice(Q,0,ie)}})}),T.forEach((b,O)=>{let z=0;Array.isArray(I.rowH)&&I.rowH[O]?z=xt(Number(I.rowH[O])):I.rowH&&!isNaN(Number(I.rowH))?z=xt(Number(I.rowH)):(a.options.cy||a.options.h)&&(z=Math.round((a.options.h?xt(a.options.h):typeof a.options.cy=="number"?a.options.cy:1)/T.length)),E+=`<a:tr h="${z}">`,b.forEach(G=>{var Q,q,ne,Y,K;const ce=G,ie={rowSpan:((Q=ce.options)===null||Q===void 0?void 0:Q.rowspan)>1?ce.options.rowspan:void 0,gridSpan:((q=ce.options)===null||q===void 0?void 0:q.colspan)>1?ce.options.colspan:void 0,vMerge:ce._vmerge?1:void 0,hMerge:ce._hmerge?1:void 0};let oe=Object.keys(ie).map(Ce=>[Ce,ie[Ce]]).filter(([,Ce])=>!!Ce).map(([Ce,j])=>`${String(Ce)}="${String(j)}"`).join(" ");if(oe&&(oe=" "+oe),ce._hmerge||ce._vmerge){E+=`<a:tc${oe}><a:tcPr/></a:tc>`;return}const ge=ce.options||{};ce.options=ge,["align","bold","border","color","fill","fontFace","fontSize","margin","textDirection","underline","valign"].forEach(Ce=>{I[Ce]&&!ge[Ce]&&ge[Ce]!==0&&(ge[Ce]=I[Ce])});const je=ge.valign?` anchor="${ge.valign.replace(/^c$/i,"ctr").replace(/^m$/i,"ctr").replace("center","ctr").replace("middle","ctr").replace("top","t").replace("btm","b").replace("bottom","b")}"`:"",ye=ge.textDirection&&ge.textDirection!=="horz"?` vert="${ge.textDirection}"`:"";let me=!((Y=(ne=ce._optImp)===null||ne===void 0?void 0:ne.fill)===null||Y===void 0)&&Y.color?ce._optImp.fill.color:!((K=ce._optImp)===null||K===void 0)&&K.fill&&typeof ce._optImp.fill=="string"?ce._optImp.fill:"";me=me||ge.fill?ge.fill:"";const Te=me?Pr(me):"";let xe=ge.margin===0||ge.margin?ge.margin:ST;!Array.isArray(xe)&&typeof xe=="number"&&(xe=[xe,xe,xe,xe]);let Ne="";xe[0]>=1?Ne=` marL="${He(xe[3])}" marR="${He(xe[1])}" marT="${He(xe[0])}" marB="${He(xe[2])}"`:Ne=` marL="${xt(xe[3])}" marR="${xt(xe[1])}" marT="${xt(xe[0])}" marB="${xt(xe[2])}"`,E+=`<a:tc${oe}>${q_(ce)}<a:tcPr${Ne}${je}${ye}>`,ge.border&&Array.isArray(ge.border)&&[{idx:3,name:"lnL"},{idx:1,name:"lnR"},{idx:0,name:"lnT"},{idx:2,name:"lnB"}].forEach(Ce=>{ge.border[Ce.idx].type!=="none"?(E+=`<a:${Ce.name} w="${He(ge.border[Ce.idx].pt)}" cap="flat" cmpd="sng" algn="ctr">`,E+=`<a:solidFill>${Ct(ge.border[Ce.idx].color)}</a:solidFill>`,E+=`<a:prstDash val="${ge.border[Ce.idx].type==="dash"?"sysDash":"solid"}"/><a:round/><a:headEnd type="none" w="med" len="med"/><a:tailEnd type="none" w="med" len="med"/>`,E+=`</a:${Ce.name}>`):E+=`<a:${Ce.name} w="0" cap="flat" cmpd="sng" algn="ctr"><a:noFill/></a:${Ce.name}>`}),E+=Te,E+="  </a:tcPr>",E+=" </a:tc>"}),E+="</a:tr>"}),E+="      </a:tbl>",E+="    </a:graphicData>",E+="  </a:graphic>",E+="</p:graphicFrame>",n+=E,r++;break;case Ke.text:case Ke.placeholder:if(!a.options.line&&x===0&&(x=Ye*.3),a.options._bodyProp||(a.options._bodyProp={}),a.options.margin&&Array.isArray(a.options.margin)?(a.options._bodyProp.lIns=He(a.options.margin[0]||0),a.options._bodyProp.rIns=He(a.options.margin[1]||0),a.options._bodyProp.bIns=He(a.options.margin[2]||0),a.options._bodyProp.tIns=He(a.options.margin[3]||0)):typeof a.options.margin=="number"&&(a.options._bodyProp.lIns=He(a.options.margin),a.options._bodyProp.rIns=He(a.options.margin),a.options._bodyProp.bIns=He(a.options.margin),a.options._bodyProp.tIns=He(a.options.margin)),n+="<p:sp>",n+=`<p:nvSpPr><p:cNvPr id="${i+2}" name="${a.options.objectName}">`,!((c=a.options.hyperlink)===null||c===void 0)&&c.url&&(n+=`<a:hlinkClick r:id="rId${a.options.hyperlink._rId}" tooltip="${a.options.hyperlink.tooltip?Xe(a.options.hyperlink.tooltip):""}"/>`),!((d=a.options.hyperlink)===null||d===void 0)&&d.slide&&(n+=`<a:hlinkClick r:id="rId${a.options.hyperlink._rId}" tooltip="${a.options.hyperlink.tooltip?Xe(a.options.hyperlink.tooltip):""}" action="ppaction://hlinksldjump"/>`),n+="</p:cNvPr>",n+="<p:cNvSpPr"+(!((u=a.options)===null||u===void 0)&&u.isTextBox?' txBox="1"/>':"/>"),n+=`<p:nvPr>${a._type==="placeholder"?zh(a):zh(y)}</p:nvPr>`,n+="</p:nvSpPr><p:spPr>",n+=`<a:xfrm${w}>`,n+=`<a:off x="${g}" y="${A}"/>`,n+=`<a:ext cx="${v}" cy="${x}"/></a:xfrm>`,a.shape==="custGeom")n+="<a:custGeom><a:avLst />",n+="<a:gdLst>",n+="</a:gdLst>",n+="<a:ahLst />",n+="<a:cxnLst>",n+="</a:cxnLst>",n+='<a:rect l="l" t="t" r="r" b="b" />',n+="<a:pathLst>",n+=`<a:path w="${v}" h="${x}">`,(h=a.options.points)===null||h===void 0||h.forEach((b,O)=>{if("curve"in b)switch(b.curve.type){case"arc":n+=`<a:arcTo hR="${it(b.curve.hR,"Y",t._presLayout)}" wR="${it(b.curve.wR,"X",t._presLayout)}" stAng="${ao(b.curve.stAng)}" swAng="${ao(b.curve.swAng)}" />`;break;case"cubic":n+=`<a:cubicBezTo>
									<a:pt x="${it(b.curve.x1,"X",t._presLayout)}" y="${it(b.curve.y1,"Y",t._presLayout)}" />
									<a:pt x="${it(b.curve.x2,"X",t._presLayout)}" y="${it(b.curve.y2,"Y",t._presLayout)}" />
									<a:pt x="${it(b.x,"X",t._presLayout)}" y="${it(b.y,"Y",t._presLayout)}" />
									</a:cubicBezTo>`;break;case"quadratic":n+=`<a:quadBezTo>
									<a:pt x="${it(b.curve.x1,"X",t._presLayout)}" y="${it(b.curve.y1,"Y",t._presLayout)}" />
									<a:pt x="${it(b.x,"X",t._presLayout)}" y="${it(b.y,"Y",t._presLayout)}" />
									</a:quadBezTo>`;break}else"close"in b?n+="<a:close />":b.moveTo||O===0?n+=`<a:moveTo><a:pt x="${it(b.x,"X",t._presLayout)}" y="${it(b.y,"Y",t._presLayout)}" /></a:moveTo>`:n+=`<a:lnTo><a:pt x="${it(b.x,"X",t._presLayout)}" y="${it(b.y,"Y",t._presLayout)}" /></a:lnTo>`}),n+="</a:path>",n+="</a:pathLst>",n+="</a:custGeom>";else{if(n+='<a:prstGeom prst="'+a.shape+'"><a:avLst>',a.options.rectRadius)n+=`<a:gd name="adj" fmla="val ${Math.round(a.options.rectRadius*Ye*1e5/Math.min(v,x))}"/>`;else if(a.options.angleRange){for(let b=0;b<2;b++){const O=a.options.angleRange[b];n+=`<a:gd name="adj${b+1}" fmla="val ${ao(O)}" />`}a.options.arcThicknessRatio&&(n+=`<a:gd name="adj3" fmla="val ${Math.round(a.options.arcThicknessRatio*5e4)}" />`)}n+="</a:avLst></a:prstGeom>"}n+=a.options.fill?Pr(a.options.fill):"<a:noFill/>",a.options.line&&(n+=a.options.line.width?`<a:ln w="${He(a.options.line.width)}">`:"<a:ln>",a.options.line.color&&(n+=Pr(a.options.line)),a.options.line.dashType&&(n+=`<a:prstDash val="${a.options.line.dashType}"/>`),a.options.line.beginArrowType&&(n+=`<a:headEnd type="${a.options.line.beginArrowType}"/>`),a.options.line.endArrowType&&(n+=`<a:tailEnd type="${a.options.line.endArrowType}"/>`),n+="</a:ln>"),a.options.shadow&&a.options.shadow.type!=="none"&&(a.options.shadow.type=a.options.shadow.type||"outer",a.options.shadow.blur=He(a.options.shadow.blur||8),a.options.shadow.offset=He(a.options.shadow.offset||4),a.options.shadow.angle=Math.round((a.options.shadow.angle||270)*6e4),a.options.shadow.opacity=Math.round((a.options.shadow.opacity||.75)*1e5),a.options.shadow.color=a.options.shadow.color||U_.color,n+="<a:effectLst>",n+=` <a:${a.options.shadow.type}Shdw ${a.options.shadow.type==="outer"?'sx="100000" sy="100000" kx="0" ky="0" algn="bl" rotWithShape="0"':""} blurRad="${a.options.shadow.blur}" dist="${a.options.shadow.offset}" dir="${a.options.shadow.angle}">`,n+=` <a:srgbClr val="${a.options.shadow.color}">`,n+=` <a:alpha val="${a.options.shadow.opacity}"/></a:srgbClr>`,n+=" </a:outerShdw>",n+="</a:effectLst>"),n+="</p:spPr>",n+=q_(a),n+="</p:sp>";break;case Ke.image:if(n+="<p:pic>",n+="  <p:nvPicPr>",n+=`<p:cNvPr id="${i+2}" name="${a.options.objectName}" descr="${Xe(a.options.altText||a.image)}">`,!((p=a.hyperlink)===null||p===void 0)&&p.url&&(n+=`<a:hlinkClick r:id="rId${a.hyperlink._rId}" tooltip="${a.hyperlink.tooltip?Xe(a.hyperlink.tooltip):""}"/>`),!((m=a.hyperlink)===null||m===void 0)&&m.slide&&(n+=`<a:hlinkClick r:id="rId${a.hyperlink._rId}" tooltip="${a.hyperlink.tooltip?Xe(a.hyperlink.tooltip):""}" action="ppaction://hlinksldjump"/>`),n+="    </p:cNvPr>",n+='    <p:cNvPicPr><a:picLocks noChangeAspect="1"/></p:cNvPicPr>',n+="    <p:nvPr>"+zh(y)+"</p:nvPr>",n+="  </p:nvPicPr>",n+="<p:blipFill>",(t._relsMedia||[]).filter(b=>b.rId===a.imageRid)[0]&&(t._relsMedia||[]).filter(b=>b.rId===a.imageRid)[0].extn==="svg"?(n+=`<a:blip r:embed="rId${a.imageRid-1}">`,n+=a.options.transparency?` <a:alphaModFix amt="${Math.round((100-a.options.transparency)*1e3)}"/>`:"",n+=" <a:extLst>",n+='  <a:ext uri="{96DAC541-7B7A-43D3-8B79-37D633B846F1}">',n+=`   <asvg:svgBlip xmlns:asvg="http://schemas.microsoft.com/office/drawing/2016/SVG/main" r:embed="rId${a.imageRid}"/>`,n+="  </a:ext>",n+=" </a:extLst>",n+="</a:blip>"):(n+=`<a:blip r:embed="rId${a.imageRid}">`,n+=a.options.transparency?`<a:alphaModFix amt="${Math.round((100-a.options.transparency)*1e3)}"/>`:"",n+="</a:blip>"),k!=null&&k.type){const b=k.w?it(k.w,"X",t._presLayout):v,O=k.h?it(k.h,"Y",t._presLayout):x,z=it(k.x||0,"X",t._presLayout),G=it(k.y||0,"Y",t._presLayout);n+=o9[k.type]({w:C,h:D},{w:b,h:O,x:z,y:G}),C=b,D=O}else n+="  <a:stretch><a:fillRect/></a:stretch>";n+="</p:blipFill>",n+="<p:spPr>",n+=" <a:xfrm"+w+">",n+=`  <a:off x="${g}" y="${A}"/>`,n+=`  <a:ext cx="${C}" cy="${D}"/>`,n+=" </a:xfrm>",n+=` <a:prstGeom prst="${P?"ellipse":"rect"}"><a:avLst/></a:prstGeom>`,a.options.shadow&&a.options.shadow.type!=="none"&&(a.options.shadow.type=a.options.shadow.type||"outer",a.options.shadow.blur=He(a.options.shadow.blur||8),a.options.shadow.offset=He(a.options.shadow.offset||4),a.options.shadow.angle=Math.round((a.options.shadow.angle||270)*6e4),a.options.shadow.opacity=Math.round((a.options.shadow.opacity||.75)*1e5),a.options.shadow.color=a.options.shadow.color||U_.color,n+="<a:effectLst>",n+=`<a:${a.options.shadow.type}Shdw ${a.options.shadow.type==="outer"?'sx="100000" sy="100000" kx="0" ky="0" algn="bl" rotWithShape="0"':""} blurRad="${a.options.shadow.blur}" dist="${a.options.shadow.offset}" dir="${a.options.shadow.angle}">`,n+=`<a:srgbClr val="${a.options.shadow.color}">`,n+=`<a:alpha val="${a.options.shadow.opacity}"/></a:srgbClr>`,n+=`</a:${a.options.shadow.type}Shdw>`,n+="</a:effectLst>"),n+="</p:spPr>",n+="</p:pic>";break;case Ke.media:a.mtype==="online"?(n+="<p:pic>",n+=" <p:nvPicPr>",n+=`<p:cNvPr id="${a.mediaRid+2}" name="${a.options.objectName}"/>`,n+=" <p:cNvPicPr/>",n+=" <p:nvPr>",n+=`  <a:videoFile r:link="rId${a.mediaRid}"/>`,n+=" </p:nvPr>",n+=" </p:nvPicPr>",n+=` <p:blipFill><a:blip r:embed="rId${a.mediaRid+1}"/><a:stretch><a:fillRect/></a:stretch></p:blipFill>`,n+=" <p:spPr>",n+=`  <a:xfrm${w}><a:off x="${g}" y="${A}"/><a:ext cx="${v}" cy="${x}"/></a:xfrm>`,n+='  <a:prstGeom prst="rect"><a:avLst/></a:prstGeom>',n+=" </p:spPr>",n+="</p:pic>"):(n+="<p:pic>",n+=" <p:nvPicPr>",n+=`<p:cNvPr id="${a.mediaRid+2}" name="${a.options.objectName}"><a:hlinkClick r:id="" action="ppaction://media"/></p:cNvPr>`,n+=' <p:cNvPicPr><a:picLocks noChangeAspect="1"/></p:cNvPicPr>',n+=" <p:nvPr>",n+=`  <a:videoFile r:link="rId${a.mediaRid}"/>`,n+="  <p:extLst>",n+='   <p:ext uri="{DAA4B4D4-6D71-4841-9C94-3DE7FCFB9230}">',n+=`    <p14:media xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" r:embed="rId${a.mediaRid+1}"/>`,n+="   </p:ext>",n+="  </p:extLst>",n+=" </p:nvPr>",n+=" </p:nvPicPr>",n+=` <p:blipFill><a:blip r:embed="rId${a.mediaRid+2}"/><a:stretch><a:fillRect/></a:stretch></p:blipFill>`,n+=" <p:spPr>",n+=`  <a:xfrm${w}><a:off x="${g}" y="${A}"/><a:ext cx="${v}" cy="${x}"/></a:xfrm>`,n+='  <a:prstGeom prst="rect"><a:avLst/></a:prstGeom>',n+=" </p:spPr>",n+="</p:pic>");break;case Ke.chart:n+="<p:graphicFrame>",n+=" <p:nvGraphicFramePr>",n+=`   <p:cNvPr id="${i+2}" name="${a.options.objectName}" descr="${Xe(a.options.altText||"")}"/>`,n+="   <p:cNvGraphicFramePr/>",n+=`   <p:nvPr>${zh(y)}</p:nvPr>`,n+=" </p:nvGraphicFramePr>",n+=` <p:xfrm><a:off x="${g}" y="${A}"/><a:ext cx="${v}" cy="${x}"/></p:xfrm>`,n+=' <a:graphic xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main">',n+='  <a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/chart">',n+=`   <c:chart r:id="rId${a.chartRid}" xmlns:c="http://schemas.openxmlformats.org/drawingml/2006/chart"/>`,n+="  </a:graphicData>",n+=" </a:graphic>",n+="</p:graphicFrame>";break;default:n+="";break}}),t._slideNumberProps&&(t._slideNumberProps.align||(t._slideNumberProps.align="left"),n+="<p:sp>",n+=" <p:nvSpPr>",n+='  <p:cNvPr id="25" name="Slide Number Placeholder 0"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr>',n+='  <p:nvPr><p:ph type="sldNum" sz="quarter" idx="4294967295"/></p:nvPr>',n+=" </p:nvSpPr>",n+=" <p:spPr>",n+=`<a:xfrm><a:off x="${it(t._slideNumberProps.x,"X",t._presLayout)}" y="${it(t._slideNumberProps.y,"Y",t._presLayout)}"/><a:ext cx="${t._slideNumberProps.w?it(t._slideNumberProps.w,"X",t._presLayout):"800000"}" cy="${t._slideNumberProps.h?it(t._slideNumberProps.h,"Y",t._presLayout):"300000"}"/></a:xfrm> <a:prstGeom prst="rect"><a:avLst/></a:prstGeom> <a:extLst><a:ext uri="{C572A759-6A51-4108-AA02-DFA0A04FC94B}"><ma14:wrappingTextBoxFlag val="0" xmlns:ma14="http://schemas.microsoft.com/office/mac/drawingml/2011/main"/></a:ext></a:extLst></p:spPr>`,n+="<p:txBody>",n+="<a:bodyPr",t._slideNumberProps.margin&&Array.isArray(t._slideNumberProps.margin)?(n+=` lIns="${He(t._slideNumberProps.margin[3]||0)}"`,n+=` tIns="${He(t._slideNumberProps.margin[0]||0)}"`,n+=` rIns="${He(t._slideNumberProps.margin[1]||0)}"`,n+=` bIns="${He(t._slideNumberProps.margin[2]||0)}"`):typeof t._slideNumberProps.margin=="number"&&(n+=` lIns="${He(t._slideNumberProps.margin||0)}"`,n+=` tIns="${He(t._slideNumberProps.margin||0)}"`,n+=` rIns="${He(t._slideNumberProps.margin||0)}"`,n+=` bIns="${He(t._slideNumberProps.margin||0)}"`),t._slideNumberProps.valign&&(n+=` anchor="${t._slideNumberProps.valign.replace("top","t").replace("middle","ctr").replace("bottom","b")}"`),n+="/>",n+="  <a:lstStyle><a:lvl1pPr>",(t._slideNumberProps.fontFace||t._slideNumberProps.fontSize||t._slideNumberProps.color)&&(n+=`<a:defRPr sz="${Math.round((t._slideNumberProps.fontSize||12)*100)}">`,t._slideNumberProps.color&&(n+=Pr(t._slideNumberProps.color)),t._slideNumberProps.fontFace&&(n+=`<a:latin typeface="${t._slideNumberProps.fontFace}"/><a:ea typeface="${t._slideNumberProps.fontFace}"/><a:cs typeface="${t._slideNumberProps.fontFace}"/>`),n+="</a:defRPr>"),n+="</a:lvl1pPr></a:lstStyle>",n+="<a:p>",t._slideNumberProps.align.startsWith("l")?n+='<a:pPr algn="l"/>':t._slideNumberProps.align.startsWith("c")?n+='<a:pPr algn="ctr"/>':t._slideNumberProps.align.startsWith("r")?n+='<a:pPr algn="r"/>':n+='<a:pPr algn="l"/>',n+=`<a:fld id="${DT}" type="slidenum"><a:rPr b="${t._slideNumberProps.bold?1:0}" lang="en-US"/>`,n+=`<a:t>${t._slideNum}</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p>`,n+="</p:txBody></p:sp>"),n+="</p:spTree>",n+="</p:cSld>",n}function Qy(t,e){let n=0,r='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+jn+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">';return t._rels.forEach(a=>{n=Math.max(n,a.rId),a.type.toLowerCase().includes("hyperlink")?a.data==="slide"?r+=`<Relationship Id="rId${a.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slide" Target="slide${a.Target}.xml"/>`:r+=`<Relationship Id="rId${a.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink" Target="${a.Target}" TargetMode="External"/>`:a.type.toLowerCase().includes("notesSlide")&&(r+=`<Relationship Id="rId${a.rId}" Target="${a.Target}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesSlide"/>`)}),(t._relsChart||[]).forEach(a=>{n=Math.max(n,a.rId),r+=`<Relationship Id="rId${a.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart" Target="${a.Target}"/>`}),(t._relsMedia||[]).forEach(a=>{const i=a.rId.toString();n=Math.max(n,a.rId),a.type.toLowerCase().includes("image")?r+='<Relationship Id="rId'+i+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image" Target="'+a.Target+'"/>':a.type.toLowerCase().includes("audio")?r.includes(' Target="'+a.Target+'"')?r+='<Relationship Id="rId'+i+'" Type="http://schemas.microsoft.com/office/2007/relationships/media" Target="'+a.Target+'"/>':r+='<Relationship Id="rId'+i+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/audio" Target="'+a.Target+'"/>':a.type.toLowerCase().includes("video")?r.includes(' Target="'+a.Target+'"')?r+='<Relationship Id="rId'+i+'" Type="http://schemas.microsoft.com/office/2007/relationships/media" Target="'+a.Target+'"/>':r+='<Relationship Id="rId'+i+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/video" Target="'+a.Target+'"/>':a.type.toLowerCase().includes("online")&&(r.includes(' Target="'+a.Target+'"')?r+='<Relationship Id="rId'+i+'" Type="http://schemas.microsoft.com/office/2007/relationships/image" Target="'+a.Target+'"/>':r+='<Relationship Id="rId'+i+'" Target="'+a.Target+'" TargetMode="External" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/video"/>')}),e.forEach((a,i)=>{r+=`<Relationship Id="rId${n+i+1}" Type="${a.type}" Target="${a.target}"/>`}),r+="</Relationships>",r}function $_(t,e){var n,r;let a="",i="",s="",l="";const c=e?"a:lvl1pPr":"a:pPr";let d=He(G8),u=`<${c}${t.options.rtlMode?' rtl="1" ':""}`;{if(t.options.align)switch(t.options.align){case"left":u+=' algn="l"';break;case"right":u+=' algn="r"';break;case"center":u+=' algn="ctr"';break;case"justify":u+=' algn="just"';break;default:u+="";break}if(t.options.lineSpacing?i=`<a:lnSpc><a:spcPts val="${Math.round(t.options.lineSpacing*100)}"/></a:lnSpc>`:t.options.lineSpacingMultiple&&(i=`<a:lnSpc><a:spcPct val="${Math.round(t.options.lineSpacingMultiple*1e5)}"/></a:lnSpc>`),t.options.indentLevel&&!isNaN(Number(t.options.indentLevel))&&t.options.indentLevel>0&&(u+=` lvl="${t.options.indentLevel}"`),t.options.paraSpaceBefore&&!isNaN(Number(t.options.paraSpaceBefore))&&t.options.paraSpaceBefore>0&&(s+=`<a:spcBef><a:spcPts val="${Math.round(t.options.paraSpaceBefore*100)}"/></a:spcBef>`),t.options.paraSpaceAfter&&!isNaN(Number(t.options.paraSpaceAfter))&&t.options.paraSpaceAfter>0&&(s+=`<a:spcAft><a:spcPts val="${Math.round(t.options.paraSpaceAfter*100)}"/></a:spcAft>`),typeof t.options.bullet=="object")if(!((r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.bullet)===null||r===void 0)&&r.indent&&(d=He(t.options.bullet.indent)),t.options.bullet.type)t.options.bullet.type.toString().toLowerCase()==="number"&&(u+=` marL="${t.options.indentLevel&&t.options.indentLevel>0?d+d*t.options.indentLevel:d}" indent="-${d}"`,a=`<a:buSzPct val="100000"/><a:buFont typeface="+mj-lt"/><a:buAutoNum type="${t.options.bullet.style||"arabicPeriod"}" startAt="${t.options.bullet.numberStartAt||t.options.bullet.startAt||"1"}"/>`);else if(t.options.bullet.characterCode){let h=`&#x${t.options.bullet.characterCode};`;/^[0-9A-Fa-f]{4}$/.test(t.options.bullet.characterCode)||(console.warn("Warning: `bullet.characterCode should be a 4-digit unicode charatcer (ex: 22AB)`!"),h=El.DEFAULT),u+=` marL="${t.options.indentLevel&&t.options.indentLevel>0?d+d*t.options.indentLevel:d}" indent="-${d}"`,a='<a:buSzPct val="100000"/><a:buChar char="'+h+'"/>'}else if(t.options.bullet.code){let h=`&#x${t.options.bullet.code};`;/^[0-9A-Fa-f]{4}$/.test(t.options.bullet.code)||(console.warn("Warning: `bullet.code should be a 4-digit hex code (ex: 22AB)`!"),h=El.DEFAULT),u+=` marL="${t.options.indentLevel&&t.options.indentLevel>0?d+d*t.options.indentLevel:d}" indent="-${d}"`,a='<a:buSzPct val="100000"/><a:buChar char="'+h+'"/>'}else u+=` marL="${t.options.indentLevel&&t.options.indentLevel>0?d+d*t.options.indentLevel:d}" indent="-${d}"`,a=`<a:buSzPct val="100000"/><a:buChar char="${El.DEFAULT}"/>`;else t.options.bullet?(u+=` marL="${t.options.indentLevel&&t.options.indentLevel>0?d+d*t.options.indentLevel:d}" indent="-${d}"`,a=`<a:buSzPct val="100000"/><a:buChar char="${El.DEFAULT}"/>`):t.options.bullet||(u+=' indent="0" marL="0"',a="<a:buNone/>");t.options.tabStops&&Array.isArray(t.options.tabStops)&&(l=`<a:tabLst>${t.options.tabStops.map(p=>`<a:tab pos="${xt(p.position||1)}" algn="${p.alignment||"l"}"/>`).join("")}</a:tabLst>`),u+=">"+i+s+a+l,e&&(u+=LT(t.options,!0)),u+="</"+c+">"}return u}function LT(t,e){var n;let r="";const a=e?"a:defRPr":"a:rPr";if(r+="<"+a+' lang="'+(t.lang?t.lang:"en-US")+'"'+(t.lang?' altLang="en-US"':""),r+=t.fontSize?` sz="${Math.round(t.fontSize*100)}"`:"",r+=t!=null&&t.bold?` b="${t.bold?"1":"0"}"`:"",r+=t!=null&&t.italic?` i="${t.italic?"1":"0"}"`:"",r+=t!=null&&t.strike?` strike="${typeof t.strike=="string"?t.strike:"sngStrike"}"`:"",typeof t.underline=="object"&&(!((n=t.underline)===null||n===void 0)&&n.style)?r+=` u="${t.underline.style}"`:typeof t.underline=="string"?r+=` u="${String(t.underline)}"`:t.hyperlink&&(r+=' u="sng"'),t.baseline?r+=` baseline="${Math.round(t.baseline*50)}"`:t.subscript?r+=' baseline="-40000"':t.superscript&&(r+=' baseline="30000"'),r+=t.charSpacing?` spc="${Math.round(t.charSpacing*100)}" kern="0"`:"",r+=' dirty="0">',(t.color||t.fontFace||t.outline||typeof t.underline=="object"&&t.underline.color)&&(t.outline&&typeof t.outline=="object"&&(r+=`<a:ln w="${He(t.outline.size||.75)}">${Pr(t.outline.color||"FFFFFF")}</a:ln>`),t.color&&(r+=Pr({color:t.color,transparency:t.transparency})),t.highlight&&(r+=`<a:highlight>${Ct(t.highlight)}</a:highlight>`),typeof t.underline=="object"&&t.underline.color&&(r+=`<a:uFill>${Pr(t.underline.color)}</a:uFill>`),t.glow&&(r+=`<a:effectLst>${Q8(t.glow,$8)}</a:effectLst>`),t.fontFace&&(r+=`<a:latin typeface="${t.fontFace}" pitchFamily="34" charset="0"/><a:ea typeface="${t.fontFace}" pitchFamily="34" charset="-122"/><a:cs typeface="${t.fontFace}" pitchFamily="34" charset="-120"/>`)),t.hyperlink){if(typeof t.hyperlink!="object")throw new Error("ERROR: text `hyperlink` option should be an object. Ex: `hyperlink:{url:'https://github.com'}` ");if(!t.hyperlink.url&&!t.hyperlink.slide)throw new Error("ERROR: 'hyperlink requires either `url` or `slide`'");t.hyperlink.url?r+=`<a:hlinkClick r:id="rId${t.hyperlink._rId}" invalidUrl="" action="" tgtFrame="" tooltip="${t.hyperlink.tooltip?Xe(t.hyperlink.tooltip):""}" history="1" highlightClick="0" endSnd="0"${t.color?">":"/>"}`:t.hyperlink.slide&&(r+=`<a:hlinkClick r:id="rId${t.hyperlink._rId}" action="ppaction://hlinksldjump" tooltip="${t.hyperlink.tooltip?Xe(t.hyperlink.tooltip):""}"${t.color?">":"/>"}`),t.color&&(r+=" <a:extLst>",r+='  <a:ext uri="{A12FA001-AC4F-418D-AE19-62706E023703}">',r+='   <ahyp:hlinkClr xmlns:ahyp="http://schemas.microsoft.com/office/drawing/2018/hyperlinkcolor" val="tx"/>',r+="  </a:ext>",r+=" </a:extLst>",r+="</a:hlinkClick>")}return r+=`</${a}>`,r}function l9(t){return t.text?`<a:r>${LT(t.options,!1)}<a:t>${Xe(t.text)}</a:t></a:r>`:""}function c9(t){let e="<a:bodyPr";return t&&t._type===Ke.text&&t.options._bodyProp?(e+=t.options._bodyProp.wrap?' wrap="square"':' wrap="none"',(t.options._bodyProp.lIns||t.options._bodyProp.lIns===0)&&(e+=` lIns="${t.options._bodyProp.lIns}"`),(t.options._bodyProp.tIns||t.options._bodyProp.tIns===0)&&(e+=` tIns="${t.options._bodyProp.tIns}"`),(t.options._bodyProp.rIns||t.options._bodyProp.rIns===0)&&(e+=` rIns="${t.options._bodyProp.rIns}"`),(t.options._bodyProp.bIns||t.options._bodyProp.bIns===0)&&(e+=` bIns="${t.options._bodyProp.bIns}"`),e+=' rtlCol="0"',t.options._bodyProp.anchor&&(e+=' anchor="'+t.options._bodyProp.anchor+'"'),t.options._bodyProp.vert&&(e+=' vert="'+t.options._bodyProp.vert+'"'),e+=">",t.options.fit&&(t.options.fit==="none"?e+="":t.options.fit==="shrink"?e+="<a:normAutofit/>":t.options.fit==="resize"&&(e+="<a:spAutoFit/>")),t.options.shrinkText&&(e+="<a:normAutofit/>"),e+=t.options._bodyProp.autoFit?"<a:spAutoFit/>":"",e+="</a:bodyPr>"):(e+=' wrap="square" rtlCol="0">',e+="</a:bodyPr>"),t._type===Ke.tablecell?"<a:bodyPr/>":e}function q_(t){const e=t.options||{};let n=[];const r=[];if(e&&t._type!==Ke.tablecell&&(typeof t.text>"u"||t.text===null))return"";let a=t._type===Ke.tablecell?"<a:txBody>":"<p:txBody>";a+=c9(t),e.h===0&&e.line&&e.align?a+='<a:lstStyle><a:lvl1pPr algn="l"/></a:lstStyle>':t._type==="placeholder"?a+=`<a:lstStyle>${$_(t,!0)}</a:lstStyle>`:a+="<a:lstStyle/>",typeof t.text=="string"||typeof t.text=="number"?n.push({text:t.text.toString(),options:e||{}}):t.text&&!Array.isArray(t.text)&&typeof t.text=="object"&&Object.keys(t.text).includes("text")?n.push({text:t.text||"",options:t.options||{}}):Array.isArray(t.text)&&(n=t.text.map(l=>({text:l.text,options:l.options}))),n.forEach((l,c)=>{l.text||(l.text=""),l.options=l.options||e||{},c===0&&l.options&&!l.options.bullet&&e.bullet&&(l.options.bullet=e.bullet),(typeof l.text=="string"||typeof l.text=="number")&&(l.text=l.text.toString().replace(/\r*\n/g,jn)),l.text.includes(jn)&&l.text.match(/\n$/g)===null?l.text.split(jn).forEach(d=>{l.options.breakLine=!0,r.push({text:d,options:l.options})}):r.push(l)});const i=[];let s=[];return r.forEach((l,c)=>{s.length>0&&(l.options.align||e.align)?l.options.align!==r[c-1].options.align&&(i.push(s),s=[]):s.length>0&&l.options.bullet&&s.length>0&&(i.push(s),s=[],l.options.breakLine=!1),s.push(l),s.length>0&&l.options.breakLine&&c+1<r.length&&(i.push(s),s=[]),c+1===r.length&&i.push(s)}),i.forEach(l=>{var c;let d=!1;a+="<a:p>";let u=`<a:pPr ${!((c=l[0].options)===null||c===void 0)&&c.rtlMode?' rtl="1" ':""}`;l.forEach((h,p)=>{h.options._lineIdx=p,p>0&&h.options.softBreakBefore&&(a+="<a:br/>"),h.options.align=h.options.align||e.align,h.options.lineSpacing=h.options.lineSpacing||e.lineSpacing,h.options.lineSpacingMultiple=h.options.lineSpacingMultiple||e.lineSpacingMultiple,h.options.indentLevel=h.options.indentLevel||e.indentLevel,h.options.paraSpaceBefore=h.options.paraSpaceBefore||e.paraSpaceBefore,h.options.paraSpaceAfter=h.options.paraSpaceAfter||e.paraSpaceAfter,u=$_(h,!1),a+=u.replace("<a:pPr></a:pPr>",""),Object.entries(e).filter(([m])=>!(h.options.hyperlink&&m==="color")).forEach(([m,g])=>{m!=="bullet"&&!h.options[m]&&(h.options[m]=g)}),a+=l9(h),(!h.text&&e.fontSize||h.options.fontSize)&&(d=!0,e.fontSize=e.fontSize||h.options.fontSize)}),t._type===Ke.tablecell&&(e.fontSize||e.fontFace)?e.fontFace?(a+=`<a:endParaRPr lang="${e.lang||"en-US"}"`+(e.fontSize?` sz="${Math.round(e.fontSize*100)}"`:"")+' dirty="0">',a+=`<a:latin typeface="${e.fontFace}" charset="0"/>`,a+=`<a:ea typeface="${e.fontFace}" charset="0"/>`,a+=`<a:cs typeface="${e.fontFace}" charset="0"/>`,a+="</a:endParaRPr>"):a+=`<a:endParaRPr lang="${e.lang||"en-US"}"`+(e.fontSize?` sz="${Math.round(e.fontSize*100)}"`:"")+' dirty="0"/>':d?a+=`<a:endParaRPr lang="${e.lang||"en-US"}"`+(e.fontSize?` sz="${Math.round(e.fontSize*100)}"`:"")+' dirty="0"/>':a+=`<a:endParaRPr lang="${e.lang||"en-US"}" dirty="0"/>`,a+="</a:p>"}),a.indexOf("<a:p>")===-1&&(a+="<a:p><a:endParaRPr/></a:p>"),a+=t._type===Ke.tablecell?"</a:txBody>":"</p:txBody>",a}function zh(t){var e,n;if(!t)return"";const r=!((e=t.options)===null||e===void 0)&&e._placeholderIdx?t.options._placeholderIdx:"",a=!((n=t.options)===null||n===void 0)&&n._placeholderType?t.options._placeholderType:"",i=a&&Md[a]?Md[a].toString():"";return`<p:ph
		${r?' idx="'+r.toString()+'"':""}
		${i&&Md[i]?` type="${i}"`:""}
		${t.text&&t.text.length>0?' hasCustomPrompt="1"':""}
		/>`}function d9(t,e,n){let r='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+jn;return r+='<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">',r+='<Default Extension="xml" ContentType="application/xml"/>',r+='<Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>',r+='<Default Extension="jpeg" ContentType="image/jpeg"/>',r+='<Default Extension="jpg" ContentType="image/jpg"/>',r+='<Default Extension="svg" ContentType="image/svg+xml"/>',r+='<Default Extension="png" ContentType="image/png"/>',r+='<Default Extension="gif" ContentType="image/gif"/>',r+='<Default Extension="m4v" ContentType="video/mp4"/>',r+='<Default Extension="mp4" ContentType="video/mp4"/>',t.forEach(a=>{(a._relsMedia||[]).forEach(i=>{i.type!=="image"&&i.type!=="online"&&i.type!=="chart"&&i.extn!=="m4v"&&!r.includes(i.type)&&(r+='<Default Extension="'+i.extn+'" ContentType="'+i.type+'"/>')})}),r+='<Default Extension="vml" ContentType="application/vnd.openxmlformats-officedocument.vmlDrawing"/>',r+='<Default Extension="xlsx" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"/>',r+='<Override PartName="/ppt/presentation.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml"/>',r+='<Override PartName="/ppt/notesMasters/notesMaster1.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.notesMaster+xml"/>',t.forEach((a,i)=>{r+=`<Override PartName="/ppt/slideMasters/slideMaster${i+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.slideMaster+xml"/>`,r+=`<Override PartName="/ppt/slides/slide${i+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.slide+xml"/>`,a._relsChart.forEach(s=>{r+=`<Override PartName="${s.Target}" ContentType="application/vnd.openxmlformats-officedocument.drawingml.chart+xml"/>`})}),r+='<Override PartName="/ppt/presProps.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.presProps+xml"/>',r+='<Override PartName="/ppt/viewProps.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.viewProps+xml"/>',r+='<Override PartName="/ppt/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/>',r+='<Override PartName="/ppt/tableStyles.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.tableStyles+xml"/>',e.forEach((a,i)=>{r+=`<Override PartName="/ppt/slideLayouts/slideLayout${i+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.slideLayout+xml"/>`,(a._relsChart||[]).forEach(s=>{r+=' <Override PartName="'+s.Target+'" ContentType="application/vnd.openxmlformats-officedocument.drawingml.chart+xml"/>'})}),t.forEach((a,i)=>{r+=`<Override PartName="/ppt/notesSlides/notesSlide${i+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.notesSlide+xml"/>`}),n._relsChart.forEach(a=>{r+=' <Override PartName="'+a.Target+'" ContentType="application/vnd.openxmlformats-officedocument.drawingml.chart+xml"/>'}),n._relsMedia.forEach(a=>{a.type!=="image"&&a.type!=="online"&&a.type!=="chart"&&a.extn!=="m4v"&&!r.includes(a.type)&&(r+=' <Default Extension="'+a.extn+'" ContentType="'+a.type+'"/>')}),r+=' <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/>',r+=' <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/>',r+="</Types>",r}function u9(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${jn}<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
		<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/>
		<Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/>
		<Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="ppt/presentation.xml"/>
		</Relationships>`}function h9(t,e){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${jn}<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes">
	<TotalTime>0</TotalTime>
	<Words>0</Words>
	<Application>Microsoft Office PowerPoint</Application>
	<PresentationFormat>On-screen Show (16:9)</PresentationFormat>
	<Paragraphs>0</Paragraphs>
	<Slides>${t.length}</Slides>
	<Notes>${t.length}</Notes>
	<HiddenSlides>0</HiddenSlides>
	<MMClips>0</MMClips>
	<ScaleCrop>false</ScaleCrop>
	<HeadingPairs>
		<vt:vector size="6" baseType="variant">
			<vt:variant><vt:lpstr>Fonts Used</vt:lpstr></vt:variant>
			<vt:variant><vt:i4>2</vt:i4></vt:variant>
			<vt:variant><vt:lpstr>Theme</vt:lpstr></vt:variant>
			<vt:variant><vt:i4>1</vt:i4></vt:variant>
			<vt:variant><vt:lpstr>Slide Titles</vt:lpstr></vt:variant>
			<vt:variant><vt:i4>${t.length}</vt:i4></vt:variant>
		</vt:vector>
	</HeadingPairs>
	<TitlesOfParts>
		<vt:vector size="${t.length+1+2}" baseType="lpstr">
			<vt:lpstr>Arial</vt:lpstr>
			<vt:lpstr>Calibri</vt:lpstr>
			<vt:lpstr>Office Theme</vt:lpstr>
			${t.map((n,r)=>`<vt:lpstr>Slide ${r+1}</vt:lpstr>`).join("")}
		</vt:vector>
	</TitlesOfParts>
	<Company>${e}</Company>
	<LinksUpToDate>false</LinksUpToDate>
	<SharedDoc>false</SharedDoc>
	<HyperlinksChanged>false</HyperlinksChanged>
	<AppVersion>16.0000</AppVersion>
	</Properties>`}function f9(t,e,n,r){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
	<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<dc:title>${Xe(t)}</dc:title>
		<dc:subject>${Xe(e)}</dc:subject>
		<dc:creator>${Xe(n)}</dc:creator>
		<cp:lastModifiedBy>${Xe(n)}</cp:lastModifiedBy>
		<cp:revision>${r}</cp:revision>
		<dcterms:created xsi:type="dcterms:W3CDTF">${new Date().toISOString().replace(/\.\d\d\dZ/,"Z")}</dcterms:created>
		<dcterms:modified xsi:type="dcterms:W3CDTF">${new Date().toISOString().replace(/\.\d\d\dZ/,"Z")}</dcterms:modified>
	</cp:coreProperties>`}function p9(t){let e=1,n='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+jn;n+='<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">',n+='<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideMaster" Target="slideMasters/slideMaster1.xml"/>';for(let r=1;r<=t.length;r++)n+=`<Relationship Id="rId${++e}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slide" Target="slides/slide${r}.xml"/>`;return e++,n+=`<Relationship Id="rId${e+0}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesMaster" Target="notesMasters/notesMaster1.xml"/><Relationship Id="rId${e+1}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/presProps" Target="presProps.xml"/><Relationship Id="rId${e+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/viewProps" Target="viewProps.xml"/><Relationship Id="rId${e+3}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId${e+4}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/tableStyles" Target="tableStyles.xml"/></Relationships>`,n}function m9(t){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${jn}<p:sld xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"${t!=null&&t.hidden?' show="0"':""}>${Hy(t)}<p:clrMapOvr><a:masterClrMapping/></p:clrMapOvr></p:sld>`}function g9(t){let e="";return t._slideObjects.forEach(n=>{n._type===Ke.notes&&(e+=n!=null&&n.text&&n.text[0]?n.text[0].text:"")}),e.replace(/\r*\n/g,jn)}function A9(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${jn}<p:notesMaster xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"><p:cSld><p:bg><p:bgRef idx="1001"><a:schemeClr val="bg1"/></p:bgRef></p:bg><p:spTree><p:nvGrpSpPr><p:cNvPr id="1" name=""/><p:cNvGrpSpPr/><p:nvPr/></p:nvGrpSpPr><p:grpSpPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="0" cy="0"/><a:chOff x="0" y="0"/><a:chExt cx="0" cy="0"/></a:xfrm></p:grpSpPr><p:sp><p:nvSpPr><p:cNvPr id="2" name="Header Placeholder 1"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="hdr" sz="quarter"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="2971800" cy="458788"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0"/><a:lstStyle><a:lvl1pPr algn="l"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="3" name="Date Placeholder 2"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="dt" idx="1"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="3884613" y="0"/><a:ext cx="2971800" cy="458788"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0"/><a:lstStyle><a:lvl1pPr algn="r"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:fld id="{5282F153-3F37-0F45-9E97-73ACFA13230C}" type="datetimeFigureOut"><a:rPr lang="en-US"/><a:t>7/23/19</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="4" name="Slide Image Placeholder 3"/><p:cNvSpPr><a:spLocks noGrp="1" noRot="1" noChangeAspect="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldImg" idx="2"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="685800" y="1143000"/><a:ext cx="5486400" cy="3086100"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom><a:noFill/><a:ln w="12700"><a:solidFill><a:prstClr val="black"/></a:solidFill></a:ln></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0" anchor="ctr"/><a:lstStyle/><a:p><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="5" name="Notes Placeholder 4"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="body" sz="quarter" idx="3"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="685800" y="4400550"/><a:ext cx="5486400" cy="3600450"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0"/><a:lstStyle/><a:p><a:pPr lvl="0"/><a:r><a:rPr lang="en-US"/><a:t>Click to edit Master text styles</a:t></a:r></a:p><a:p><a:pPr lvl="1"/><a:r><a:rPr lang="en-US"/><a:t>Second level</a:t></a:r></a:p><a:p><a:pPr lvl="2"/><a:r><a:rPr lang="en-US"/><a:t>Third level</a:t></a:r></a:p><a:p><a:pPr lvl="3"/><a:r><a:rPr lang="en-US"/><a:t>Fourth level</a:t></a:r></a:p><a:p><a:pPr lvl="4"/><a:r><a:rPr lang="en-US"/><a:t>Fifth level</a:t></a:r></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="6" name="Footer Placeholder 5"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="ftr" sz="quarter" idx="4"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="0" y="8685213"/><a:ext cx="2971800" cy="458787"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0" anchor="b"/><a:lstStyle><a:lvl1pPr algn="l"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="7" name="Slide Number Placeholder 6"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldNum" sz="quarter" idx="5"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="3884613" y="8685213"/><a:ext cx="2971800" cy="458787"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0" anchor="b"/><a:lstStyle><a:lvl1pPr algn="r"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:fld id="{CE5E9CC1-C706-0F49-92D6-E571CC5EEA8F}" type="slidenum"><a:rPr lang="en-US"/><a:t>#</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp></p:spTree><p:extLst><p:ext uri="{BB962C8B-B14F-4D97-AF65-F5344CB8AC3E}"><p14:creationId xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" val="1024086991"/></p:ext></p:extLst></p:cSld><p:clrMap bg1="lt1" tx1="dk1" bg2="lt2" tx2="dk2" accent1="accent1" accent2="accent2" accent3="accent3" accent4="accent4" accent5="accent5" accent6="accent6" hlink="hlink" folHlink="folHlink"/><p:notesStyle><a:lvl1pPr marL="0" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl1pPr><a:lvl2pPr marL="457200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl2pPr><a:lvl3pPr marL="914400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl3pPr><a:lvl4pPr marL="1371600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl4pPr><a:lvl5pPr marL="1828800" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl5pPr><a:lvl6pPr marL="2286000" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl6pPr><a:lvl7pPr marL="2743200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl7pPr><a:lvl8pPr marL="3200400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl8pPr><a:lvl9pPr marL="3657600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl9pPr></p:notesStyle></p:notesMaster>`}function x9(t){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${jn}<p:notes xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"><p:cSld><p:spTree><p:nvGrpSpPr><p:cNvPr id="1" name=""/><p:cNvGrpSpPr/><p:nvPr/></p:nvGrpSpPr><p:grpSpPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="0" cy="0"/><a:chOff x="0" y="0"/><a:chExt cx="0" cy="0"/></a:xfrm></p:grpSpPr><p:sp><p:nvSpPr><p:cNvPr id="2" name="Slide Image Placeholder 1"/><p:cNvSpPr><a:spLocks noGrp="1" noRot="1" noChangeAspect="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldImg"/></p:nvPr></p:nvSpPr><p:spPr/></p:sp><p:sp><p:nvSpPr><p:cNvPr id="3" name="Notes Placeholder 2"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="body" idx="1"/></p:nvPr></p:nvSpPr><p:spPr/><p:txBody><a:bodyPr/><a:lstStyle/><a:p><a:r><a:rPr lang="en-US" dirty="0"/><a:t>${Xe(g9(t))}</a:t></a:r><a:endParaRPr lang="en-US" dirty="0"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="4" name="Slide Number Placeholder 3"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldNum" sz="quarter" idx="10"/></p:nvPr></p:nvSpPr><p:spPr/><p:txBody><a:bodyPr/><a:lstStyle/><a:p><a:fld id="${DT}" type="slidenum"><a:rPr lang="en-US"/><a:t>${t._slideNum}</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp></p:spTree><p:extLst><p:ext uri="{BB962C8B-B14F-4D97-AF65-F5344CB8AC3E}"><p14:creationId xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" val="1024086991"/></p:ext></p:extLst></p:cSld><p:clrMapOvr><a:masterClrMapping/></p:clrMapOvr></p:notes>`}function y9(t){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
		<p:sldLayout xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main" preserve="1">
		${Hy(t)}
		<p:clrMapOvr><a:masterClrMapping/></p:clrMapOvr></p:sldLayout>`}function v9(t,e){const n=e.map((a,i)=>`<p:sldLayoutId id="${V8+i}" r:id="rId${t._rels.length+i+1}"/>`);let r='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+jn;return r+='<p:sldMaster xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main">',r+=Hy(t),r+='<p:clrMap bg1="lt1" tx1="dk1" bg2="lt2" tx2="dk2" accent1="accent1" accent2="accent2" accent3="accent3" accent4="accent4" accent5="accent5" accent6="accent6" hlink="hlink" folHlink="folHlink"/>',r+="<p:sldLayoutIdLst>"+n.join("")+"</p:sldLayoutIdLst>",r+='<p:hf sldNum="0" hdr="0" ftr="0" dt="0"/>',r+='<p:txStyles> <p:titleStyle>  <a:lvl1pPr algn="ctr" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="0"/></a:spcBef><a:buNone/><a:defRPr sz="4400" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mj-lt"/><a:ea typeface="+mj-ea"/><a:cs typeface="+mj-cs"/></a:defRPr></a:lvl1pPr> </p:titleStyle> <p:bodyStyle>  <a:lvl1pPr marL="342900" indent="-342900" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="3200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl1pPr>  <a:lvl2pPr marL="742950" indent="-285750" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl2pPr>  <a:lvl3pPr marL="1143000" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2400" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl3pPr>  <a:lvl4pPr marL="1600200" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl4pPr>  <a:lvl5pPr marL="2057400" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl5pPr>  <a:lvl6pPr marL="2514600" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl6pPr>  <a:lvl7pPr marL="2971800" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl7pPr>  <a:lvl8pPr marL="3429000" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl8pPr>  <a:lvl9pPr marL="3886200" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl9pPr> </p:bodyStyle> <p:otherStyle>  <a:defPPr><a:defRPr lang="en-US"/></a:defPPr>  <a:lvl1pPr marL="0" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl1pPr>  <a:lvl2pPr marL="457200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl2pPr>  <a:lvl3pPr marL="914400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl3pPr>  <a:lvl4pPr marL="1371600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl4pPr>  <a:lvl5pPr marL="1828800" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl5pPr>  <a:lvl6pPr marL="2286000" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl6pPr>  <a:lvl7pPr marL="2743200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl7pPr>  <a:lvl8pPr marL="3200400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl8pPr>  <a:lvl9pPr marL="3657600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl9pPr> </p:otherStyle></p:txStyles>',r+="</p:sldMaster>",r}function b9(t,e){return Qy(e[t-1],[{target:"../slideMasters/slideMaster1.xml",type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideMaster"}])}function w9(t,e,n){return Qy(t[n-1],[{target:`../slideLayouts/slideLayout${N9(t,e,n)}.xml`,type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideLayout"},{target:`../notesSlides/notesSlide${n}.xml`,type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesSlide"}])}function _9(t){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
		<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
			<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesMaster" Target="../notesMasters/notesMaster1.xml"/>
			<Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slide" Target="../slides/slide${t}.xml"/>
		</Relationships>`}function C9(t,e){const n=e.map((r,a)=>({target:`../slideLayouts/slideLayout${a+1}.xml`,type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideLayout"}));return n.push({target:"../theme/theme1.xml",type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme"}),Qy(t,n)}function E9(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${jn}<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
		<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="../theme/theme1.xml"/>
		</Relationships>`}function N9(t,e,n){for(let r=0;r<e.length;r++)if(e[r]._name===t[n-1]._slideLayout._name)return r+1;return 1}function I9(t){var e,n,r,a;const i=!((e=t.theme)===null||e===void 0)&&e.headFontFace?`<a:latin typeface="${(n=t.theme)===null||n===void 0?void 0:n.headFontFace}"/>`:'<a:latin typeface="Calibri Light" panose="020F0302020204030204"/>',s=!((r=t.theme)===null||r===void 0)&&r.bodyFontFace?`<a:latin typeface="${(a=t.theme)===null||a===void 0?void 0:a.bodyFontFace}"/>`:'<a:latin typeface="Calibri" panose="020F0502020204030204"/>';return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="44546A"/></a:dk2><a:lt2><a:srgbClr val="E7E6E6"/></a:lt2><a:accent1><a:srgbClr val="4472C4"/></a:accent1><a:accent2><a:srgbClr val="ED7D31"/></a:accent2><a:accent3><a:srgbClr val="A5A5A5"/></a:accent3><a:accent4><a:srgbClr val="FFC000"/></a:accent4><a:accent5><a:srgbClr val="5B9BD5"/></a:accent5><a:accent6><a:srgbClr val="70AD47"/></a:accent6><a:hlink><a:srgbClr val="0563C1"/></a:hlink><a:folHlink><a:srgbClr val="954F72"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont>${i}<a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=" Light"/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=" Light"/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Angsana New"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/><a:font script="Armn" typeface="Arial"/><a:font script="Bugi" typeface="Leelawadee UI"/><a:font script="Bopo" typeface="Microsoft JhengHei"/><a:font script="Java" typeface="Javanese Text"/><a:font script="Lisu" typeface="Segoe UI"/><a:font script="Mymr" typeface="Myanmar Text"/><a:font script="Nkoo" typeface="Ebrima"/><a:font script="Olck" typeface="Nirmala UI"/><a:font script="Osma" typeface="Ebrima"/><a:font script="Phag" typeface="Phagspa"/><a:font script="Syrn" typeface="Estrangelo Edessa"/><a:font script="Syrj" typeface="Estrangelo Edessa"/><a:font script="Syre" typeface="Estrangelo Edessa"/><a:font script="Sora" typeface="Nirmala UI"/><a:font script="Tale" typeface="Microsoft Tai Le"/><a:font script="Talu" typeface="Microsoft New Tai Lue"/><a:font script="Tfng" typeface="Ebrima"/></a:majorFont><a:minorFont>${s}<a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=""/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=""/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Cordia New"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/><a:font script="Armn" typeface="Arial"/><a:font script="Bugi" typeface="Leelawadee UI"/><a:font script="Bopo" typeface="Microsoft JhengHei"/><a:font script="Java" typeface="Javanese Text"/><a:font script="Lisu" typeface="Segoe UI"/><a:font script="Mymr" typeface="Myanmar Text"/><a:font script="Nkoo" typeface="Ebrima"/><a:font script="Olck" typeface="Nirmala UI"/><a:font script="Osma" typeface="Ebrima"/><a:font script="Phag" typeface="Phagspa"/><a:font script="Syrn" typeface="Estrangelo Edessa"/><a:font script="Syrj" typeface="Estrangelo Edessa"/><a:font script="Syre" typeface="Estrangelo Edessa"/><a:font script="Sora" typeface="Nirmala UI"/><a:font script="Tale" typeface="Microsoft Tai Le"/><a:font script="Talu" typeface="Microsoft New Tai Lue"/><a:font script="Tfng" typeface="Ebrima"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:lumMod val="110000"/><a:satMod val="105000"/><a:tint val="67000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="103000"/><a:tint val="73000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="109000"/><a:tint val="81000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:satMod val="103000"/><a:lumMod val="102000"/><a:tint val="94000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:satMod val="110000"/><a:lumMod val="100000"/><a:shade val="100000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="99000"/><a:satMod val="120000"/><a:shade val="78000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="6350" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="12700" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="19050" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="57150" dist="19050" dir="5400000" algn="ctr" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="63000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:solidFill><a:schemeClr val="phClr"><a:tint val="95000"/><a:satMod val="170000"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="93000"/><a:satMod val="150000"/><a:shade val="98000"/><a:lumMod val="102000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:tint val="98000"/><a:satMod val="130000"/><a:shade val="90000"/><a:lumMod val="103000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="63000"/><a:satMod val="120000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri="{05A4C25C-085E-4340-85A3-A5531E510DB2}"><thm15:themeFamily xmlns:thm15="http://schemas.microsoft.com/office/thememl/2012/main" name="Office Theme" id="{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}" vid="{4A3C46E8-61CC-4603-A589-7422A47A8E4A}"/></a:ext></a:extLst></a:theme>`}function S9(t){let e=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${jn}<p:presentation xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main" ${t.rtlMode?'rtl="1"':""} saveSubsetFonts="1" autoCompressPictures="0">`;e+='<p:sldMasterIdLst><p:sldMasterId id="2147483648" r:id="rId1"/></p:sldMasterIdLst>',e+="<p:sldIdLst>",t.slides.forEach(n=>e+=`<p:sldId id="${n._slideId}" r:id="rId${n._rId}"/>`),e+="</p:sldIdLst>",e+=`<p:notesMasterIdLst><p:notesMasterId r:id="rId${t.slides.length+2}"/></p:notesMasterIdLst>`,e+=`<p:sldSz cx="${t.presLayout.width}" cy="${t.presLayout.height}"/>`,e+=`<p:notesSz cx="${t.presLayout.height}" cy="${t.presLayout.width}"/>`,e+="<p:defaultTextStyle>";for(let n=1;n<10;n++)e+=`<a:lvl${n}pPr marL="${(n-1)*457200}" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl${n}pPr>`;return e+="</p:defaultTextStyle>",t.sections&&t.sections.length>0&&(e+='<p:extLst><p:ext uri="{521415D9-36F7-43E2-AB2F-B90AF26B5E84}">',e+='<p14:sectionLst xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main">',t.sections.forEach(n=>{e+=`<p14:section name="${Xe(n.title)}" id="{${yf("xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}}"><p14:sldIdLst>`,n._slides.forEach(r=>e+=`<p14:sldId id="${r._slideId}"/>`),e+="</p14:sldIdLst></p14:section>"}),e+="</p14:sectionLst></p:ext>",e+='<p:ext uri="{EFAFB233-063F-42B5-8137-9DF3F51BA10A}"><p15:sldGuideLst xmlns:p15="http://schemas.microsoft.com/office/powerpoint/2012/main"/></p:ext>',e+="</p:extLst>"),e+="</p:presentation>",e}function T9(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${jn}<p:presentationPr xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"/>`}function k9(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${jn}<a:tblStyleLst xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" def="{5C22544A-7EE6-4342-B048-85BDC9FD1C3A}"/>`}function D9(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${jn}<p:viewPr xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"><p:normalViewPr horzBarState="maximized"><p:restoredLeft sz="15611"/><p:restoredTop sz="94610"/></p:normalViewPr><p:slideViewPr><p:cSldViewPr snapToGrid="0" snapToObjects="1"><p:cViewPr varScale="1"><p:scale><a:sx n="136" d="100"/><a:sy n="136" d="100"/></p:scale><p:origin x="216" y="312"/></p:cViewPr><p:guideLst/></p:cSldViewPr></p:slideViewPr><p:notesTextViewPr><p:cViewPr><p:scale><a:sx n="1" d="1"/><a:sy n="1" d="1"/></p:scale><p:origin x="0" y="0"/></p:cViewPr></p:notesTextViewPr><p:gridSpacing cx="76200" cy="76200"/></p:viewPr>`}const R9="4.0.1";class P9{set layout(e){const n=this.LAYOUTS[e];if(n)this._layout=e,this._presLayout=n;else throw new Error("UNKNOWN-LAYOUT")}get layout(){return this._layout}get version(){return this._version}set author(e){this._author=e}get author(){return this._author}set company(e){this._company=e}get company(){return this._company}set revision(e){this._revision=e}get revision(){return this._revision}set subject(e){this._subject=e}get subject(){return this._subject}set theme(e){this._theme=e}get theme(){return this._theme}set title(e){this._title=e}get title(){return this._title}set rtlMode(e){this._rtlMode=e}get rtlMode(){return this._rtlMode}get masterSlide(){return this._masterSlide}get slides(){return this._slides}get sections(){return this._sections}get slideLayouts(){return this._slideLayouts}get AlignH(){return this._alignH}get AlignV(){return this._alignV}get ChartType(){return this._chartType}get OutputType(){return this._outputType}get presLayout(){return this._presLayout}get SchemeColor(){return this._schemeColor}get ShapeType(){return this._shapeType}get charts(){return this._charts}get colors(){return this._colors}get shapes(){return this._shapes}constructor(){this._version=R9,this._alignH=TA,this._alignV=kA,this._chartType=IA,this._outputType=NA,this._schemeColor=kr,this._shapeType=SA,this._charts=be,this._colors=kp,this._shapes=ys,this.addNewSlide=i=>{const s=this.sections.length>0&&this.sections[this.sections.length-1]._slides.filter(l=>l._slideNum===this.slides[this.slides.length-1]._slideNum).length>0;return i.sectionTitle=s?this.sections[this.sections.length-1].title:null,this.addSlide(i)},this.getSlide=i=>this.slides.filter(s=>s._slideNum===i)[0],this.setSlideNumber=i=>{this.masterSlide._slideNumberProps=i,this.slideLayouts.filter(s=>s._name===CA)[0]._slideNumberProps=i},this.createChartMediaRels=(i,s,l)=>{i._relsChart.forEach(c=>l.push(a9(c,s))),i._relsMedia.forEach(c=>{if(c.type!=="online"&&c.type!=="hyperlink"){let d=c.data&&typeof c.data=="string"?c.data:"";!d.includes(",")&&!d.includes(";")?d="image/png;base64,"+d:d.includes(",")?d.includes(";")||(d="image/png;"+d):d="image/png;base64,"+d,s.file(c.Target.replace("..","ppt"),d.split(",").pop(),{base64:!0})}})},this.writeFileToBrowser=(i,s)=>Rr(this,void 0,void 0,function*(){const l=document.createElement("a");if(l.setAttribute("style","display:none;"),l.dataset.interception="off",document.body.appendChild(l),window.URL.createObjectURL){const c=window.URL.createObjectURL(new Blob([s],{type:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}));return l.href=c,l.download=i,l.click(),setTimeout(()=>{window.URL.revokeObjectURL(c),document.body.removeChild(l)},100),yield Promise.resolve(i)}}),this.exportPresentation=i=>Rr(this,void 0,void 0,function*(){const s=[];let l=[];const c=new IT;return this.slides.forEach(d=>{l=l.concat(Og(d))}),this.slideLayouts.forEach(d=>{l=l.concat(Og(d))}),l=l.concat(Og(this.masterSlide)),yield Promise.all(l).then(()=>Rr(this,void 0,void 0,function*(){return this.slides.forEach(d=>{d._slideLayout&&n9(d)}),c.folder("_rels"),c.folder("docProps"),c.folder("ppt").folder("_rels"),c.folder("ppt/charts").folder("_rels"),c.folder("ppt/embeddings"),c.folder("ppt/media"),c.folder("ppt/slideLayouts").folder("_rels"),c.folder("ppt/slideMasters").folder("_rels"),c.folder("ppt/slides").folder("_rels"),c.folder("ppt/theme"),c.folder("ppt/notesMasters").folder("_rels"),c.folder("ppt/notesSlides").folder("_rels"),c.file("[Content_Types].xml",d9(this.slides,this.slideLayouts,this.masterSlide)),c.file("_rels/.rels",u9()),c.file("docProps/app.xml",h9(this.slides,this.company)),c.file("docProps/core.xml",f9(this.title,this.subject,this.author,this.revision)),c.file("ppt/_rels/presentation.xml.rels",p9(this.slides)),c.file("ppt/theme/theme1.xml",I9(this)),c.file("ppt/presentation.xml",S9(this)),c.file("ppt/presProps.xml",T9()),c.file("ppt/tableStyles.xml",k9()),c.file("ppt/viewProps.xml",D9()),this.slideLayouts.forEach((d,u)=>{c.file(`ppt/slideLayouts/slideLayout${u+1}.xml`,y9(d)),c.file(`ppt/slideLayouts/_rels/slideLayout${u+1}.xml.rels`,b9(u+1,this.slideLayouts))}),this.slides.forEach((d,u)=>{c.file(`ppt/slides/slide${u+1}.xml`,m9(d)),c.file(`ppt/slides/_rels/slide${u+1}.xml.rels`,w9(this.slides,this.slideLayouts,u+1)),c.file(`ppt/notesSlides/notesSlide${u+1}.xml`,x9(d)),c.file(`ppt/notesSlides/_rels/notesSlide${u+1}.xml.rels`,_9(u+1))}),c.file("ppt/slideMasters/slideMaster1.xml",v9(this.masterSlide,this.slideLayouts)),c.file("ppt/slideMasters/_rels/slideMaster1.xml.rels",C9(this.masterSlide,this.slideLayouts)),c.file("ppt/notesMasters/notesMaster1.xml",A9()),c.file("ppt/notesMasters/_rels/notesMaster1.xml.rels",E9()),this.slideLayouts.forEach(d=>{this.createChartMediaRels(d,c,s)}),this.slides.forEach(d=>{this.createChartMediaRels(d,c,s)}),this.createChartMediaRels(this.masterSlide,c,s),yield Promise.all(s).then(()=>Rr(this,void 0,void 0,function*(){return i.outputType==="STREAM"?yield c.generateAsync({type:"nodebuffer",compression:i.compression?"DEFLATE":"STORE"}):i.outputType?yield c.generateAsync({type:i.outputType}):yield c.generateAsync({type:"blob",compression:i.compression?"DEFLATE":"STORE"})}))}))});const e={name:"screen4x3",width:9144e3,height:6858e3},n={name:"screen16x9",width:9144e3,height:5143500},r={name:"screen16x10",width:9144e3,height:5715e3},a={name:"custom",width:12192e3,height:6858e3};this.LAYOUTS={LAYOUT_4x3:e,LAYOUT_16x9:n,LAYOUT_16x10:r,LAYOUT_WIDE:a},this._author="PptxGenJS",this._company="PptxGenJS",this._revision="1",this._subject="PptxGenJS Presentation",this._title="PptxGenJS Presentation",this._presLayout={name:this.LAYOUTS[tl].name,_sizeW:this.LAYOUTS[tl].width,_sizeH:this.LAYOUTS[tl].height,width:this.LAYOUTS[tl].width,height:this.LAYOUTS[tl].height},this._rtlMode=!1,this._slideLayouts=[{_margin:bu,_name:CA,_presLayout:this._presLayout,_rels:[],_relsChart:[],_relsMedia:[],_slide:null,_slideNum:1e3,_slideNumberProps:null,_slideObjects:[]}],this._slides=[],this._sections=[],this._masterSlide={addChart:null,addImage:null,addMedia:null,addNotes:null,addShape:null,addTable:null,addText:null,_name:null,_presLayout:this._presLayout,_rId:null,_rels:[],_relsChart:[],_relsMedia:[],_slideId:null,_slideLayout:null,_slideNum:null,_slideNumberProps:null,_slideObjects:[]}}stream(e){return Rr(this,void 0,void 0,function*(){return yield this.exportPresentation({compression:e==null?void 0:e.compression,outputType:"STREAM"})})}write(e){return Rr(this,void 0,void 0,function*(){const n=typeof e=="object"&&(e!=null&&e.outputType)?e.outputType:e||null,r=typeof e=="object"&&(e!=null&&e.compression)?e.compression:!1;return yield this.exportPresentation({compression:r,outputType:n})})}writeFile(e){return Rr(this,void 0,void 0,function*(){var n,r;const a=typeof process<"u"&&!!(!((n=process.versions)===null||n===void 0)&&n.node)&&((r=process.release)===null||r===void 0?void 0:r.name)==="node";typeof e=="string"&&(console.warn("[WARNING] writeFile(string) is deprecated - pass { fileName } instead."),e={fileName:e});const{fileName:i="Presentation.pptx",compression:s=!1}=e,l=i.toLowerCase().endsWith(".pptx")?i:`${i}.pptx`,c=a?"nodebuffer":null,d=yield this.exportPresentation({compression:s,outputType:c});if(a){const{promises:u}=yield Ep(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),{writeFile:h}=u;return yield h(l,d),l}return yield this.writeFileToBrowser(l,d),l})}addSection(e){e?e.title||console.warn("addSection requires a title"):console.warn("addSection requires an argument");const n={_type:"user",_slides:[],title:e.title};e.order?this.sections.splice(e.order,0,n):this._sections.push(n)}addSlide(e){const n=typeof e=="string"?e:e!=null&&e.masterName?e.masterName:"";let r={_name:this.LAYOUTS[tl].name,_presLayout:this.presLayout,_rels:[],_relsChart:[],_relsMedia:[],_slideNum:this.slides.length+1};if(n){const i=this.slideLayouts.filter(s=>s._name===n)[0];i&&(r=i)}const a=new r9({addSlide:this.addNewSlide,getSlide:this.getSlide,presLayout:this.presLayout,setSlideNum:this.setSlideNumber,slideId:this.slides.length+256,slideRId:this.slides.length+2,slideNumber:this.slides.length+1,slideLayout:r});if(this._slides.push(a),e!=null&&e.sectionTitle){const i=this.sections.filter(s=>s.title===e.sectionTitle)[0];i?i._slides.push(a):console.warn(`addSlide: unable to find section with title: "${e.sectionTitle}"`)}else if(this.sections&&this.sections.length>0&&!(e!=null&&e.sectionTitle)){const i=this._sections[this.sections.length-1];i._type==="default"?i._slides.push(a):this._sections.push({title:`Default-${this.sections.filter(s=>s._type==="default").length+1}`,_type:"default",_slides:[a]})}return a}defineLayout(e){e?e.name?e.width?e.height?typeof e.height!="number"?console.warn("defineLayout `height` should be a number (inches)"):typeof e.width!="number"&&console.warn("defineLayout `width` should be a number (inches)"):console.warn("defineLayout requires `height`"):console.warn("defineLayout requires `width`"):console.warn("defineLayout requires `name`"):console.warn("defineLayout requires `{name, width, height}`"),this.LAYOUTS[e.name]={name:e.name,_sizeW:Math.round(Number(e.width)*Ye),_sizeH:Math.round(Number(e.height)*Ye),width:Math.round(Number(e.width)*Ye),height:Math.round(Number(e.height)*Ye)}}defineSlideMaster(e){const n=JSON.parse(JSON.stringify(e));if(!n.title)throw new Error("defineSlideMaster() object argument requires a `title` value. (https://gitbrent.github.io/PptxGenJS/docs/masters.html)");const r={_margin:n.margin||bu,_name:n.title,_presLayout:this.presLayout,_rels:[],_relsChart:[],_relsMedia:[],_slide:null,_slideNum:1e3+this.slideLayouts.length+1,_slideNumberProps:n.slideNumber||null,_slideObjects:[],background:n.background||null,bkgd:n.bkgd||null};J8(n,r),this.slideLayouts.push(r),(n.background||n.bkgd)&&MT(n.background,r),r._slideNumberProps&&!this.masterSlide._slideNumberProps&&(this.masterSlide._slideNumberProps=r._slideNumberProps)}tableToSlides(e,n={}){K8(this,e,n,n!=null&&n.masterSlideName?this.slideLayouts.filter(r=>r._name===n.masterSlideName)[0]:null)}}const H_=async(t,e={})=>{var p,m,g;const n=new P9;n.layout="LAYOUT_16x9";const r="111827",a="4F46E5",i="374151";let s={},l={};(p=e.templateConfig)!=null&&p.branding&&(console.log("Loading Branding Images for configuration:",e.templateConfig.branding),e.templateConfig.branding.logoId&&(s.logo=await no(e.templateConfig.branding.logoId)||void 0,e.templateConfig.branding.logoWidth&&e.templateConfig.branding.logoHeight&&(l.logo={w:e.templateConfig.branding.logoWidth,h:e.templateConfig.branding.logoHeight}),console.log("Logo Loaded:",!!s.logo,l.logo)),e.templateConfig.branding.headerId&&(s.header=await no(e.templateConfig.branding.headerId)||void 0),e.templateConfig.branding.footerId&&(s.footer=await no(e.templateConfig.branding.footerId)||void 0));const c=A=>{var x,y,w,T,I,R,_;const v=n.addSlide();if(v.color=i,s.header?v.addImage({data:s.header,x:0,y:0,w:"100%",h:1}):(v.addShape(n.ShapeType.rect,{x:9,y:0,w:1,h:.15,fill:{color:a}}),v.addShape(n.ShapeType.rect,{x:9.4,y:0,w:.6,h:.3,fill:{color:a,transparency:50}})),s.footer?v.addImage({data:s.footer,x:0,y:5.625-.8,w:"100%",h:.8}):v.addText("CONFIDENCIAL",{x:.5,y:5.2,fontSize:8,color:"9CA3AF"}),s.logo){const N=((x=l.logo)==null?void 0:x.w)||1.42,E=((y=l.logo)==null?void 0:y.h)||.29;let k=10-N-.3,P=.25;((T=(w=e.templateConfig)==null?void 0:w.branding)==null?void 0:T.logoX)!==void 0&&(k=e.templateConfig.branding.logoX),((R=(I=e.templateConfig)==null?void 0:I.branding)==null?void 0:R.logoY)!==void 0&&(P=e.templateConfig.branding.logoY),v.addImage({data:s.logo,x:k,y:P,w:N,h:E})}if(A){let N=.6,E=.45;if((_=e.templateConfig)!=null&&_.branding){const k=e.templateConfig.branding;k.titleX!==void 0&&(N=k.titleX),k.titleY!==void 0&&(E=k.titleY)}v.addShape(n.ShapeType.rect,{x:N-.2,y:E+.05,w:.08,h:.35,fill:{color:a}}),v.addText(A,{x:N,y:E,w:8,h:.5,fontSize:24,color:r,bold:!0,align:"left",fontFace:"Segoe UI",isTextBox:!0,autoFit:!1})}return v},d=(A,v)=>{const x=[],y=A.split(`
`);return y.forEach((w,T)=>{const I=w.trim();if(I.length===0){T<y.length-1&&x.push({text:"",options:{breakLine:!0,fontSize:v*.5}});return}let R=!1,_=!1,N=0,E=w;if(I.startsWith("#")){const P=I.match(/^(#+)\s+(.*)/);if(P){const C=P[1].length;E=P[2]||"",_=!0,C===1?N=4:C===2?N=2:_=!0}}else if(I.startsWith("-")||I.startsWith("*")){const P=I.match(/^[-*]\s*(.*)/);P&&(R=!0,E=P[1].trim())}const k=E.split(/(\*\*.*?\*\*)/g);k.forEach((P,C)=>{if(!P)return;let D=!1,b=P;P.startsWith("**")&&P.endsWith("**")&&(D=!0,b=P.substring(2,P.length-2));const O={fontSize:v+N,bold:D||_,paraSpaceBefore:0,paraSpaceAfter:0};C===k.length-1&&(O.breakLine=!0),R&&C===0&&(O.bullet={code:"2022"},O.indentLevel=0),x.push({text:b,options:O})})}),x},u=async()=>{var A,v,x,y,w,T;if(!t.documentation&&e.smartDesign&&((A=e.onStatusUpdate)==null||A.call(e,"AVISO: Documentao ausente. Ignorando slides inteligentes.")),t.documentation){console.log("Docs found:",Object.keys(t.documentation)),console.log("Smart Design Enabled:",e.smartDesign);const I=(v=e.templateConfig)==null?void 0:v.slides.some(C=>{var D;return C.type==="custom"&&((D=C.overlays)==null?void 0:D.some(b=>b.text.toLowerCase().includes("{contexto}")))}),R=["context_overview","technical_solution","implementation_steps","testing_strategy","scope","non_scope"],_=Object.keys(t.documentation),N=R.filter(C=>_.includes(C)),E=_.filter(C=>!R.includes(C)),k=[...N,...E],P=t.documentation;for(const C of k){if(console.log(`Processing Auto Slide: ${C}`),C==="budget")continue;const D=P?P[C]:void 0;if(!D||D.trim().length===0||C==="context_overview"&&I)continue;let b=C.split("_").map(Q=>Q.charAt(0).toUpperCase()+Q.slice(1)).join(" ");const O={context_overview:"Contexto Estratgico",technical_solution:"Soluo Tcnica",implementation_steps:"Estratgia de Implementao",testing_strategy:"Plano de Testes",scope:"Detalhamento de Escopo (Quantitativo)",non_scope:"No Escopo (Fora do Permetro)"};if(O[C]&&(b=O[C]),e.smartDesign)try{const Q=`Agente de Layout (IA): ${b}`;(x=e.onStatusUpdate)==null||x.call(e,Q);const q=C==="context_overview"?"context":"standard",ne=await zn.optimizeContentForSlide(D,q);if((await zn.distributeContentAcrossSlides(ne,C)).forEach((K,ce)=>{const ie=ce===0?b:`${b} ${K.title_suffix}`,oe=c(ie);if(K.summary&&K.left_column&&K.right_column){oe.addText(K.summary,{x:.5,y:1,w:"90%",h:.8,fontSize:14,color:i,bold:!0,valign:"top",align:"left",fill:{color:"F5F5F5"},paraSpaceBefore:0,paraSpaceAfter:0});const ge=d(K.left_column,K.font_size||10);oe.addText(ge,{x:.5,y:2,w:4.3,h:3.5,color:i,valign:"top",align:"justify",paraSpaceBefore:0,paraSpaceAfter:0});const je=d(K.right_column,K.font_size||10);oe.addText(je,{x:5.1,y:2,w:4.3,h:3.5,color:i,valign:"top",align:"justify",paraSpaceBefore:0,paraSpaceAfter:0})}else{const ge=d(K.content||"",K.font_size||11);C==="context_overview"?(oe.addText(ge,{x:.5,y:1.2,w:"45%",h:4,color:i,align:"justify",valign:"top",paraSpaceBefore:0,paraSpaceAfter:0}),ce===0&&oe.addText("Espao para Diagrama / Imagem",{x:5.5,y:1.2,w:"40%",h:3.5,fontSize:14,color:"AAAAAA",align:"center",shape:n.ShapeType.rect,fill:{color:"FFFFFF"},line:{color:"DDDDDD",dashType:"dash"}})):oe.addText(ge,{x:.5,y:1.2,w:"90%",h:4,color:i,valign:"top",paraSpaceBefore:0,paraSpaceAfter:0})}}),C==="technical_solution"){(y=e.onStatusUpdate)==null||y.call(e,"Gerando Arquitetura de Soluo (IA Image)...");try{const K=D,ce=await zn.generateArchitecturePrompt(K);console.log("Architecture Prompt Generated:",ce);const ie=await zn.generateImage(ce),oe=`
                                    Analise a seguinte soluo tcnica e gere um resumo explicativo conciso para acompanhar o diagrama de arquitetura.
                                    Foque nos 3 ou 4 pilares principais da tecnologia escolhida.
                                    Use bullet points curtos.
                                    Limite total: 600 caracteres.
                                    
                                    Contexto:
                                    ${K}
                                `,ge=await zn.optimizeContentForSlide(K,"Summarize as 3-5 bullet points for a sidebar text box next to a diagram. Max 500 chars."),je=c("Arquitetura da Soluo");je.addImage({data:ie,x:3.5,y:1.2,w:6,h:3.37});const ye=d(ge,10);je.addText(ye,{x:.5,y:1.2,w:2.8,h:3.4,fontSize:10,color:i,align:"left",valign:"top",paraSpaceBefore:5}),je.addText(`Prompt IA: ${ce.substring(0,100)}...`,{x:.5,y:5.4,w:9,h:.2,fontSize:8,color:"999999"})}catch(K){console.error("Architecture Gen Failed",K),c("Arquitetura da Soluo").addText(`No foi possvel gerar a imagem de arquitetura.
Erro: ${K.message}`,{x:.5,y:2,w:9,fontSize:12,color:"FF0000",align:"center"})}}continue}catch(Q){console.error(`Smart Slide verification failed for ${b}, using raw content.`,Q);const q=(Q==null?void 0:Q.message)||"Erro desconhecido";(w=e.onStatusUpdate)==null||w.call(e,`Aviso IA: ${q}. Usando texto original...`),await new Promise(ne=>setTimeout(ne,1500))}const z=c(b),G=d(D,10);if(C==="context_overview")if(z.addText(G,{x:.5,y:1.2,w:"45%",h:4,color:i,align:"justify",valign:"top",paraSpaceBefore:0,paraSpaceAfter:0}),e.smartDesign)try{const Q=`
                                Create a conceptual, professional corporate illustration for a presentation slide about:
                                "${D.substring(0,500)}"
                                
                                Style: Modern Tech, Minimalist, Isometric or Abstract Vector. 
                                Color Palette: Indigo/Blue/White. Clean white background.
                                NO TEXT inside the image.
                            `,q=await zn.generateImage(Q);z.addImage({data:q,x:5.5,y:1.2,w:4,h:3.5})}catch(Q){console.error("Context Image Generation Failed",Q),z.addText("Espao para Diagrama / Imagem",{x:5.5,y:1.2,w:"40%",h:3.5,fontSize:14,color:"AAAAAA",align:"center",shape:n.ShapeType.rect,fill:{color:"FFFFFF"},line:{color:"DDDDDD",dashType:"dash"}})}else z.addText("Espao para Diagrama / Imagem (IA Desativada)",{x:5.5,y:1.2,w:"40%",h:3.5,fontSize:14,color:"AAAAAA",align:"center",shape:n.ShapeType.rect,fill:{color:"FFFFFF"},line:{color:"DDDDDD",dashType:"dash"}});else z.addText(G,{x:.5,y:1.2,w:"90%",h:4,color:i,valign:"top",paraSpaceBefore:0,paraSpaceAfter:0})}}if(t.technicalPremises&&t.technicalPremises.length>0){const I=c("Premissas Tcnicas e Restries"),R=t.technicalPremises.map(_=>({text:_,options:{fontSize:10,breakLine:!0,bullet:{code:"2022"},paraSpaceBefore:0,paraSpaceAfter:0}}));I.addText(R,{x:.5,y:1.2,w:"90%",color:i,valign:"top"})}if(t.raciMatrix&&t.raciMatrix.length>0){const I=c("Matriz de Responsabilidades (RACI)"),R=[[{text:"Atividade",options:{bold:!0,fill:a,color:"FFFFFF"}},{text:"Responsvel (R)",options:{bold:!0,fill:a,color:"FFFFFF"}},{text:"Aprovador (A)",options:{bold:!0,fill:a,color:"FFFFFF"}},{text:"Consultado (C)",options:{bold:!0,fill:a,color:"FFFFFF"}},{text:"Informado (I)",options:{bold:!0,fill:a,color:"FFFFFF"}}]];t.raciMatrix.forEach(_=>{R.push([{text:_.activity_group,options:{fontSize:10}},{text:_.responsible,options:{fontSize:10}},{text:_.accountable,options:{fontSize:10}},{text:_.consulted,options:{fontSize:10}},{text:_.informed,options:{fontSize:10}}])}),I.addTable(R,{x:.5,y:1.2,w:9,colW:[4,1.25,1.25,1.25,1.25],fontSize:10,border:{pt:1,color:"DDDDDD"},autoPage:!0,rowH:.4})}if(t.teamStructure&&t.teamStructure.length>0){const I=c("Estrutura de Equipe Sugerida"),R=[[{text:"Papel / Especialista",options:{bold:!0,fill:a,color:"FFFFFF"}},{text:"Qtd",options:{bold:!0,fill:a,color:"FFFFFF",align:"center"}},{text:"Responsabilidades Chave",options:{bold:!0,fill:a,color:"FFFFFF"}}]];t.teamStructure.forEach(_=>{R.push([{text:_.role,options:{fontSize:10,bold:!0,fill:"F3F4F6",color:r}},{text:_.quantity.toString(),options:{fontSize:10,align:"center"}},{text:_.responsibilities.join(", "),options:{fontSize:10}}])}),I.addTable(R,{x:.25,y:1.1,w:9.5,colW:[3,.8,5.7],fontSize:10,border:{pt:1,color:"E5E7EB"},rowH:.35,autoPage:!0,autoPageCharWeight:.1,autoPageLineWeight:.5}),I.addText("Nota: A alocao considera dedicao varivel conforme a fase do projeto. O dimensionamento final pode ser ajustado na etapa de contrato.",{x:.5,y:5.3,w:9,h:.3,fontSize:8,color:"9CA3AF",italic:!0})}if(t.clientResponsibilities&&t.clientResponsibilities.length>0){const I=c("Responsabilidades do Cliente"),R=[[{text:"Ao Necessria",options:{bold:!0,fill:a,color:"FFFFFF"}},{text:"Prazo / Marco",options:{bold:!0,fill:a,color:"FFFFFF"}},{text:"Impacto no Projeto",options:{bold:!0,fill:a,color:"FFFFFF"}}]];t.clientResponsibilities.forEach(_=>{R.push([{text:_.action_item,options:{fontSize:10}},{text:_.deadline_description,options:{fontSize:10}},{text:_.impact,options:{fontSize:10,bold:!0,color:_.impact==="BLOCKER"?"DC2626":"000000"}}])}),I.addTable(R,{x:.5,y:1.2,w:9,fontSize:10,border:{pt:1,color:"DDDDDD"},rowH:.5})}if(e.tasks&&e.tasks.length>0){const I=c("Cronograma Macro (Editvel)"),R=e.tasks.filter(_=>_.type==="project"||!_.parent).sort((_,N)=>(_.order||0)-(N.order||0));if(R.length>0){e.viewMode;const _=R.filter(b=>!b.id.includes("phase-mgmt"));Math.min(..._.map(b=>new Date(b.start).getTime())),Math.max(..._.map(b=>new Date(b.end).getTime()));const N=_.reduce((b,O)=>b+Jr(new Date(O.start),new Date(O.end)),0),E=N*8;(T=e.onStatusUpdate)==null||T.call(e,"Gerando Visualizao de Cronograma (IA Image)...");try{let b=[];if(R.length===4)b=[10,25,45,20];else{const q=Math.floor(100/R.length);b=Array(R.length).fill(q);const ne=b.reduce((Y,K)=>Y+K,0);ne<100&&(b[b.length-1]+=100-ne)}const O=_.map((q,ne)=>`${ne+1}. ${q.name}: ${new Date(q.start).toLocaleDateString("pt-BR")} a ${new Date(q.end).toLocaleDateString("pt-BR")} (${Jr(new Date(q.start),new Date(q.end))} dias)`).join(`
`),z=_.map((q,ne)=>{const Y=b[ne]||0,K=new Date(q.end).toLocaleDateString("pt-BR");return`   - Milestone ${ne+1} (${q.name}): ${Y}% Faturamento na entrega em ${K}`}).join(`
`),G=`
                        Create a high-quality, professional Gantt Chart / Project Roadmap visualization.
                        Style: Modern Corporate, Clean, Minimalist. White background.
                        Color Palette: Indigo/Blue shades (Professional Tech).

                        Timeline Scope: Total ${N} business days (~${Math.round(N/20)} months).
                        
                        Data to Visualize (DRAW THESE BARS AND LABELS CLEARLY):
                        ${O}

                        BILLING MILESTONES (Must be visualized, e.g., as diamonds or flags at the end of phases):
                        ${z}

                        Instructions:
                        - Draw a horizontal timeline header with Months/Weeks.
                        - Draw horizontal bars for each phase listed above, respecting relative lengths.
                        - NUMBER the phases (1, 2, 3...) corresponding to the list.
                        - Include the Phase Name and Dates next to or inside the bars.
                        = IMPORTANT: Visualize the Billing Milestones (percentage and date) clearly at the end of each respective phase bar.
                        - Make text legible and sharp.
                        - High resolution, 16:9 aspect ratio suitable for a presentation slide.
                        - Do NOT add generic "Lorem Ipsum" text. Use the provided task names.
                    `,Q=await zn.generateImage(G);I.addImage({data:Q,x:.5,y:1,w:9,h:4.2}),I.addText(`Visualizao gerada por IA (Estimativa: ${N} dias teis / ${E}h)`,{x:.5,y:5.25,w:9,h:.2,fontSize:8,color:"999999",align:"right"})}catch(b){console.error("Roadmap Image Gen Failed",b),I.addText("Cronograma Macro (Lista)",{x:.5,y:1.2,w:9,fontSize:14,bold:!0,color:"374151"});const O=_.map((z,G)=>({text:`${G+1}. ${z.name} (${new Date(z.start).toLocaleDateString("pt-BR")} - ${new Date(z.end).toLocaleDateString("pt-BR")})`,options:{fontSize:11,breakLine:!0,bullet:{code:"2022"}}}));I.addText(O,{x:.5,y:1.6,w:9,h:3.5,valign:"top"})}I.addText("Este cronograma macro apresenta uma viso executiva e no exaustiva das atividades previstas. As datas e duraes so estimativas preliminares que podero sofrer ajustes conforme o aprofundamento tcnico preliminar.",{x:.5,y:5.35,w:9,h:.3,fontSize:7,color:"9CA3AF",align:"center",valign:"top",italic:!0})}}};console.log("Starting PPT Generation with options:",e);const h=((m=e.templateConfig)==null?void 0:m.slides)||[{id:"auto",type:"automatic",name:"Standard"}];console.log("Slides to generate:",h);for(const A of h)if(console.log(`Processing slide: ${A.name} (${A.type})`),A.type==="custom"&&A.imageId){console.log(`Attempting to retrieve image: ${A.imageId}`);try{const v=await no(A.imageId);if(v){console.log("Image retrieved successfully. Adding slide.");const x=n.addSlide();if(x.background={data:v},A.overlays&&A.overlays.length>0)try{const y=t.clientName||"Cliente",w=t.name||"Projeto",T=new Date().toLocaleDateString("pt-BR"),I=((g=t.documentation)==null?void 0:g.context_overview)||"";A.overlays.forEach(R=>{var k;let _=R.text||"";_=_.replace(/{cliente}/gi,y),_=_.replace(/{projeto}/gi,w),_=_.replace(/{data}/gi,T),_=_.replace(/{contexto}/gi,I);const N=((k=t.documentation)==null?void 0:k.budget)||"";_=_.replace(/\[budget\]/gi,N);const E=d(_,R.fontSize);x.addText(E,{x:R.x,y:R.y,w:R.width&&R.width>0?R.width:void 0,h:R.height&&R.height>0?R.height:void 0,color:R.color,fontFace:"Arial",wrap:!!(R.width&&R.width>0)})})}catch(y){console.error("Error adding overlays:",y)}}else console.error(`Image not found in DB for key: ${A.imageId}`),n.addSlide().addText(`AVISO: Imagem no encontrada (ID: ${A.imageId})`,{x:.5,y:.5,fontSize:14,color:"FF0000"})}catch(v){console.error("Error retrieving image from DB:",v),n.addSlide().addText("ERRO: Falha ao carregar imagem",{x:.5,y:.5,fontSize:14,color:"FF0000"})}}else A.type==="automatic"&&(console.log("Generating automatic project content..."),await u());console.log("Writing file..."),n.writeFile({fileName:`Proposta_${t.name}.pptx`})},Vh=t=>{if(!t)return new Date;let e;return t instanceof Date?e=t:t&&typeof t=="object"&&typeof t.toDate=="function"?e=t.toDate():e=new Date(t),isNaN(e.getTime())?new Date:e},j9=({isOpen:t,onClose:e,tasks:n,resources:r,onUpdateTasks:a})=>{const[i,s]=L.useState(new Set),l=u=>{const h=new Set(i);h.has(u)?h.delete(u):h.add(u),s(h)},c=L.useMemo(()=>{const u=[];n.forEach(g=>{if(!g.clientBlockages||g.clientBlockages.length===0)return;let A=g.hourlyRate||0;if(A===0&&g.resourceId&&r.length>0){const v=r.find(x=>x.id===g.resourceId);v&&(A=v.hourlyRate)}g.clientBlockages.forEach(v=>{const x=Vh(v.start),y=v.end?Vh(v.end):new Date,w=!v.end,T=Tx(x,y),I=T*A,R=v.reason.match(/\[IMPACTO SISTMICO\] Bloqueio cascata originado em: "(.*?)"/),_=!!R,N=R?R[1]:void 0,E=_?0:T,k=_?0:I;u.push({id:v.id,taskId:g.id,taskName:g.name,start:x,end:v.end?y:void 0,isOngoing:w,reason:v.reason,hours:E,cost:k,isSystemic:_,originTaskName:N,rawHours:T})})});const h=new Map,p=[];u.forEach(g=>{if(!g.isSystemic){const A=`${g.start.getTime()}_${g.taskName}`;h.set(A,{id:A,originTaskName:g.taskName,mainReason:g.reason,start:g.start,end:g.end,isOngoing:g.isOngoing,totalHours:g.hours,totalCost:g.cost,items:[g]})}}),u.forEach(g=>{if(g.isSystemic&&g.originTaskName){const A=`${g.start.getTime()}_${g.originTaskName}`,v=h.get(A);v?(v.items.push(g),v.totalHours+=g.hours,v.totalCost+=g.cost,g.isOngoing&&(v.isOngoing=!0)):p.push(g)}else g.isSystemic&&!g.originTaskName&&p.push(g)});const m=Array.from(h.values());return p.forEach(g=>{m.push({id:g.taskId+g.start.getTime(),originTaskName:g.taskName,mainReason:g.reason,start:g.start,end:g.end,isOngoing:g.isOngoing,totalHours:g.hours,totalCost:g.cost,items:[g]})}),m.sort((g,A)=>A.start.getTime()-g.start.getTime())},[n,r]),d=async(u,h)=>{if(h.stopPropagation(),!confirm("Tem certeza que deseja excluir esse(s) registro(s) de bloqueio? Essa ao no pode ser desfeita."))return;const p=new Map;n.forEach(A=>{A.clientBlockages&&p.set(A.id,A.clientBlockages)});const m=new Set(u.map(A=>A.id).filter(Boolean));u.forEach(A=>{if(!A.isSystemic){const v=`[IMPACTO SISTMICO] Bloqueio cascata originado em: "${A.taskName}"`;n.forEach(x=>{var y;(y=x.clientBlockages)==null||y.forEach(w=>{var T;if((T=w.reason)!=null&&T.includes(v)){const I=Vh(w.start).getTime(),R=Vh(A.start).getTime();Math.abs(I-R)<1e4&&m.add(w.id)}})})}});const g=[];p.forEach((A,v)=>{if(A.some(y=>m.has(y.id))){const y=A.filter(w=>!m.has(w.id));g.push({id:v,changes:{clientBlockages:y}})}}),g.length>0&&await a(g)};return t?o.jsx("div",{className:"fixed inset-0 bg-black/50 z-[70] flex items-center justify-center backdrop-blur-sm p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[80vh] flex flex-col animate-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"px-6 py-5 border-b border-gray-100 flex justify-between items-center bg-red-50 rounded-t-xl",children:[o.jsxs("h2",{className:"text-xl font-bold text-red-700 flex items-center gap-2",children:[o.jsx(Kl,{className:"text-red-600"}),"Histrico de Bloqueios pelo Cliente"]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-red-100 rounded-full text-red-400 hover:text-red-700 transition-colors",children:o.jsx(yr,{size:20})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50/50",children:c.length===0?o.jsx("div",{className:"text-center text-gray-400 py-10",children:"Nenhum bloqueio registrado."}):o.jsx("div",{className:"space-y-4",children:c.map(u=>{const h=i.has(u.id);return o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm hover:border-red-200 transition-colors overflow-hidden",children:[o.jsxs("div",{className:"p-5 flex flex-col md:flex-row justify-between gap-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>l(u.id),children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded ${u.isOngoing?"bg-red-600 text-white animate-pulse":"bg-gray-100 text-gray-600"}`,children:u.isOngoing?"ATIVO":"FINALIZADO"}),o.jsx("h4",{className:"font-bold text-gray-900 text-lg",children:u.originTaskName}),u.items.length>1&&o.jsxs("span",{className:"text-xs bg-red-50 text-red-600 px-2 py-0.5 rounded-full border border-red-100 flex items-center gap-1",children:[o.jsx(bE,{size:10}),"+",u.items.length-1," Impactados"]})]}),o.jsxs("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:[o.jsx("span",{className:"font-semibold text-gray-700",children:"Motivo:"})," ",u.mainReason]}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(yo,{size:12})," Incio: ",Lt(u.start,"dd/MM/yyyy HH:mm")]}),u.end&&o.jsxs("span",{className:"flex items-center gap-1",children:["Fim: ",Lt(u.end,"dd/MM/yyyy HH:mm")]})]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-1 border-t md:border-t-0 md:border-l border-gray-100 pt-3 md:pt-0 md:pl-4 min-w-[150px] justify-center text-right",children:[o.jsx("button",{onClick:p=>d(u.items,p),className:"p-1 mb-2 text-gray-300 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Excluir todo este grupo de bloqueios",children:o.jsx($n,{size:14})}),o.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Impacto Gerado"}),o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsxs("span",{className:"text-lg font-bold text-red-700",children:[Math.round(u.totalHours),"h"]}),o.jsx("span",{className:"text-sm font-medium text-red-500",children:u.totalCost.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),o.jsx("div",{className:"mt-2 text-gray-400",children:h?o.jsx(_E,{size:16}):o.jsx(_s,{size:16})})]})]}),h&&o.jsxs("div",{className:"border-t border-gray-100 bg-gray-50 p-4 animate-in slide-in-from-top-2 duration-200",children:[o.jsx("h5",{className:"text-xs font-bold text-gray-500 uppercase mb-3 px-2",children:"Detalhamento do Impacto"}),o.jsx("div",{className:"space-y-2",children:u.items.map((p,m)=>o.jsxs("div",{className:"flex justify-between items-center bg-white p-3 rounded border border-gray-200 text-sm",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium text-gray-900",children:p.taskName}),p.isSystemic&&o.jsx("span",{className:"text-[10px] text-amber-600 italic",children:"Impacto Cascata"})]}),o.jsxs("div",{className:"text-right flex items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-bold text-gray-700 text-right",children:p.isSystemic?o.jsx("span",{className:"text-gray-500 text-xs uppercase bg-gray-100 px-2 py-1 rounded inline-block",children:"Reagendamento"}):o.jsxs("span",{children:[Math.round(p.hours),"h"]})}),o.jsx("div",{className:"text-xs text-gray-500 text-right mt-1",children:p.isSystemic?o.jsxs("span",{className:"text-gray-400",children:["Deslocamento: ",Math.round(p.rawHours),"h teis"]}):p.cost.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),o.jsx("button",{onClick:g=>d([p],g),className:"text-gray-300 hover:text-red-500 p-1 hover:bg-red-50 rounded",title:"Excluir este item",children:o.jsx($n,{size:14})})]})]},m))})]})]},u.id)})})}),o.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50 rounded-b-xl flex justify-end",children:o.jsx("button",{onClick:e,className:"px-4 py-2 bg-white border border-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"Fechar"})})]})}):null},Ri=(t,e)=>!t||!e?0:Jr(t,e),M9=(t,e,n)=>{var P;if(t.length===0)return{totalCost:0,totalRealCost:0,progress:0,plannedProgress:0,totalDuration:0,totalRealDuration:0,spi:0,cpi:0};let r=new Date(864e13),a=new Date(-864e13),i=new Date(864e13),s=new Date(-864e13),l=0,c=0,d=0,u=0,h=0,p=0,m=0;const g=t.filter(C=>C.type!=="project"&&!t.some(D=>D.parent===C.id)),A=t.filter(C=>!C.parent||!t.find(D=>D.id===C.parent));if(g.length===0&&A.length===0)return{totalCost:0,totalRealCost:0,progress:0,plannedProgress:0,totalDuration:0,totalRealDuration:0,spi:0,cpi:0};const v=new Date;v.setHours(12,0,0,0);const x=A.reduce((C,D)=>C+Math.max(1,Ri(D.start,D.end)),0);if(g.forEach(C=>{const D=C.start.getTime(),b=C.end.getTime();D<r.getTime()&&(r=C.start),b>a.getTime()&&(a=C.end),C.realStart&&C.realStart.getTime()<i.getTime()&&(i=C.realStart),C.realEnd&&C.realEnd.getTime()>s.getTime()&&(s=C.realEnd);const O=Math.max(1,Ri(C.start,C.end));let z=0;const G=new Date(C.start);G.setHours(12,0,0,0);const Q=new Date(C.end);if(Q.setHours(12,0,0,0),jl(G,v))z=0;else if(jl(v,Q))z=1;else{const ne=Ri(G,v);z=Math.min(1,Math.max(0,ne/O))}h+=O,p+=O*((C.progress||0)/100),m+=O*z;let q=C.hourlyRate||0;if(q>0){const ne=O*8*q;if(n||(l+=ne),d+=ne*((C.progress||0)/100),C.realStart&&C.realEnd){const Y=Ri(C.realStart,C.realEnd);c+=Y*8*q}u+=ne*z}}),n){const C=((P=n.monthlyCosts)==null?void 0:P.reduce((b,O)=>b+(O.cost||0),0))||0;let D=0;n.otherCosts&&(D=n.otherCosts.reduce((b,O)=>{const z=Object.values(O.values).reduce((G,Q)=>G+Q,0);return b+z},0)),l=C+D}const y=Ri(r,a);let w=0;s.getTime()>-864e13&&i.getTime()<864e13&&(w=Ri(i,s));let T=0,I=0;const R=g.reduce((C,D)=>{let b=D.hourlyRate||0;if(!b&&D.resourceId&&e.length>0){const O=e.find(z=>z.id===D.resourceId);O&&(b=O.hourlyRate)}return C+Ri(D.start,D.end)*8*b},0);R>0?(T=Math.round(d/R*100),I=Math.round(u/R*100)):(T=Math.round(p/h*100),I=Math.round(m/h*100));const _=c>0?u/c:1,N=u>0?d/u:1;let E=0,k=0;return t.forEach(C=>{if(C.clientBlockages&&C.clientBlockages.length>0){let D=C.hourlyRate||0;if(D===0&&C.resourceId&&e.length>0){const b=e.find(O=>O.id===C.resourceId);b&&(D=b.hourlyRate)}C.clientBlockages.forEach(b=>{const O=q=>q?q instanceof Date?q:typeof q.toDate=="function"?q.toDate():new Date(q):new Date,z=O(b.start),G=b.end?O(b.end):new Date;if(isNaN(z.getTime())||isNaN(G.getTime())||jl(z,G))return;const Q=Tx(z,G);E+=Q,k+=Q*D})}}),{totalCost:l,totalRealCost:c,progress:Math.min(100,T),plannedProgress:Math.min(100,I),totalDuration:x>0?x:y,totalRealDuration:w,spi:N,cpi:_,startDate:r.getTime()!==864e13?r:void 0,endDate:a.getTime()!==-864e13?a:void 0,plannedDurationToDate:Math.round(m),realDurationToDate:Math.round(p),plannedCostToDate:u,realCostToDate:c,totalClientBlockageCost:k,totalClientBlockageHours:E}},L9=[{id:"res-1",name:"Andre Senior",role:"Architect",hourlyRate:150,avatarUrl:""},{id:"res-2",name:"Beatriz Dev",role:"Frontend",hourlyRate:90,avatarUrl:""},{id:"res-3",name:"Carlos UX",role:"Designer",hourlyRate:85,avatarUrl:""}],Q_=[{id:"project-1",type:"project",name:"Plataforma SaaS MVP",start:new Date,end:new Date,progress:0,isDisabled:!1,parent:null,dependencies:[],styles:{progressColor:"#ffbb54",backgroundColor:"#ffbb54"}},{id:"step-1",type:"task",name:"Requisitos e Planejamento",start:new Date(Date.now()),end:new Date(Date.now()+2*24*60*60*1e3),progress:100,parent:"project-1",dependencies:[],resourceId:"res-1"},{id:"step-2",type:"task",name:"Sistema de Design UI",start:new Date(Date.now()+2*24*60*60*1e3),end:new Date(Date.now()+6*24*60*60*1e3),progress:40,dependencies:["step-1"],parent:"project-1",resourceId:"res-3"},{id:"step-3",type:"task",name:"Ncleo Frontend",start:new Date(Date.now()+6*24*60*60*1e3),end:new Date(Date.now()+12*24*60*60*1e3),progress:10,dependencies:["step-2"],parent:"project-1",resourceId:"res-2"},{id:"milestone-alpha",type:"milestone",name:"Lanamento Alpha",start:new Date(Date.now()+13*24*60*60*1e3),end:new Date(Date.now()+13*24*60*60*1e3),progress:0,dependencies:["step-3"],parent:"project-1",styles:{backgroundColor:"#ef4444",backgroundSelectedColor:"#ef4444"}}];function O9(){var La,Hn,Ur,xi,pr;const{user:t,loading:e,logout:n,isAdmin:r}=zy(),[a,i]=L.useState([]),[s,l]=L.useState(L9),[c,d]=L.useState(!1),[u,h]=L.useState(null),[p,m]=L.useState(navigator.onLine),[g,A]=L.useState("clients_manage"),[v,x]=L.useState("schedule"),[y,w]=L.useState(Qe.Year),[T,I]=L.useState(!1),[R,_]=L.useState(!1),[N,E]=L.useState(!1),[k,P]=L.useState(!1),[C,D]=L.useState(!1),[b,O]=L.useState("1"),[z,G]=L.useState([]),[Q,q]=L.useState(null),[ne,Y]=L.useState(!1),[K,ce]=L.useState(!1),[ie,oe]=L.useState(!1),[ge,je]=L.useState(""),ye=(ee,ae)=>{const de=Ne.find(ve=>ve.id===b);if(de&&de.documentation){const ve={...de.documentation,[ee]:ae},Ae={...de,documentation:ve};Ce($e=>$e.map(Le=>Le.id===de.id?Ae:Le)),lt.updateProject(de.id,{documentation:ve}),q(null)}},me=ee=>{if(!confirm("Tem certeza que deseja remover este bloco de documentao?"))return;const ae=Ne.find(de=>de.id===b);if(ae&&ae.documentation){const de={...ae.documentation};delete de[ee];const ve={...ae,documentation:de};Ce(Ae=>Ae.map($e=>$e.id===ae.id?ve:$e)),lt.updateProject(ae.id,{documentation:de})}},Te=ee=>{const ae=Ne.find(de=>de.id===b);if(ae){const de=ee.split(`
`).map(Ae=>Ae.replace(/^-\s*/,"").trim()).filter(Ae=>Ae.length>0),ve={...ae,technicalPremises:de};Ce(Ae=>Ae.map($e=>$e.id===ae.id?ve:$e)),lt.updateProject(ae.id,{technicalPremises:de}),Y(!1)}},xe=async()=>{var ae;const ee=Ne.find(de=>de.id===b);if(!ee||!((ae=ee.documentation)!=null&&ae.technical_solution)){alert(" necessrio ter a 'Soluo Tcnica' preenchida na documentao para gerar a arquitetura.");return}ce(!0);try{console.log("Generating Architecture Prompt...");const de=await zn.generateArchitecturePrompt(ee.documentation.technical_solution);console.log("Prompt generated:",de),console.log("Generating Image...");const ve=await zn.generateImage(de);console.log("Image generated.");const Ae={...ee,architectureImage:ve};Ce($e=>$e.map(Le=>Le.id===ee.id?Ae:Le)),await lt.updateProject(ee.id,{architectureImage:ve})}catch(de){console.error(de),alert("Erro ao gerar arquitetura: "+de.message)}finally{ce(!1)}};L.useEffect(()=>{document.title="UERJ-FAF 2025"},[]),L.useEffect(()=>{const ee=async()=>{if(!navigator.onLine){m(!1);return}try{await fetch("https://www.google.com/favicon.ico?"+Date.now(),{mode:"no-cors",cache:"no-store"}),m(!0)}catch{m(!1)}};ee();const ae=setInterval(ee,5e3),de=()=>ee(),ve=()=>m(!1);return window.addEventListener("online",de),window.addEventListener("offline",ve),()=>{clearInterval(ae),window.removeEventListener("online",de),window.removeEventListener("offline",ve)}},[]);const[Ne,Ce]=L.useState([]);L.useEffect(()=>{if(!t){Ce([]),rt([]);return}const ee=lt.subscribeProjects(de=>{Ce(de)},t.uid,t.role),ae=lt.subscribeClients(de=>{rt(de)},t.uid,t.role);return()=>{ee(),ae()}},[t]);const j=async ee=>{if(t)try{await lt.createProject({...ee,createdAt:new Date,ownerId:t.uid})}catch(ae){console.error("Error creating project:",ae)}},H=async ee=>{try{await lt.deleteProject(ee)}catch(ae){console.error("Error deleting project:",ae)}},X=async ee=>{try{const{id:ae,...de}=ee;await lt.updateProject(ae,de)}catch(ae){console.error("Error updating project:",ae)}},{tasks:F,addTask:B,updateTask:U,deleteTask:Z,handleMoveTask:W,indentTask:V,outdentTask:te,reorderTasks:J}=P8(a),[re,he]=L.useState(!1),[Ie,Ee]=L.useState(!1),[We,pt]=L.useState(void 0),[ct,Be]=L.useState(void 0);L.useEffect(()=>{const ee=b||"1";let ae;try{ae=lt.subscribeTasks(ee,ve=>{ve.length>=0&&(i(ve),d(!0),h(null))})}catch(ve){console.error("Firebase connection error",ve),i(Q_.filter(Ae=>Ae.projectId===ee))}const de=lt.subscribeResources(ve=>{ve.length>0&&l(ve)});return()=>{ae&&ae(),de()}},[b]);const Ue=ee=>{let ae=new Date(ee.start),de=new Date(ee.end);const ve=Cp(ae);if(ve.getTime()!==ae.getTime()){const Le=ve.getTime()-ae.getTime();ae=ve,de=new Date(de.getTime()+Le)}const Ae={...ee,start:ae,end:de},$e=F.find(Le=>Le.id===Ae.id);$e&&($e.start.getTime()!==Ae.start.getTime()||$e.end.getTime()!==Ae.end.getTime())?W(Ae.id,Ae.start,Ae.end):U(Ae),lt.updateTask(Ae.id,{start:Ae.start,end:Ae.end,realStart:Ae.realStart||null,realEnd:Ae.realEnd||null,progress:Ae.progress||0,name:Ae.name||"",dependencies:Ae.dependencies||[],resourceId:Ae.resourceId||"",type:Ae.type||"task",parent:Ae.parent}).then(()=>{if(b){const Le=a.filter(Dt=>Dt.projectId===b).map(Dt=>Dt.id===Ae.id?Ae:Dt);lt.recalculateProjectSchedule(b,Le).catch(Dt=>console.error("Auto-schedule failed:",Dt))}}).catch(Le=>console.error("Failed to update task in DB:",Le))},at=async(ee,ae)=>{const de=ae!==void 0?ae||void 0:ct;if(!c){B(ee,de);return}try{await lt.addTask(ee)}catch(ve){console.error("Failed to add task",ve),B(ee,de)}},Tt=async ee=>{if(Z(ee),c)try{await lt.deleteTask(ee)}catch(ae){console.error("Failed to delete task in DB",ae)}},mt=ee=>{typeof ee=="object"&&(ee=void 0),Be(ee);let ae;if(ee){const de=F.find(ve=>ve.id===ee);de&&(ae=de.parent)}pt({parent:ae}),he(!0)},Nt=ee=>{if(ee.id)Ue(ee);else{const ae=F.length>0?Math.max(...F.map(ve=>ve.order||0)):0,de={...ee,order:ae+1,type:ee.type||"task",projectId:b||"1",parent:ee.parent||null};at(de)}he(!1)},ze=(ee,ae)=>{if(J(ee,ae),c){const de=ee.map((ve,Ae)=>({id:ve.id,data:{order:Ae}}));lt.batchUpdateTasks(de).catch(console.error)}},[gt,vt]=L.useState(new Date().getFullYear().toString()),[ht,rt]=L.useState([]),[Fe,dt]=L.useState(null),[Ft,_t]=L.useState([]);L.useEffect(()=>{if(!Fe){_t([]);return}c?lt.getKnowledgeBase(Fe).then(_t).catch(console.error):_t([])},[Fe,c]),L.useEffect(()=>{if(g==="clients_manage"||g==="global_projects")dt(null),O(null);else if(g.startsWith("client_")){let ee="";g.endsWith("_reports")?ee=g.replace("client_","").replace("_reports",""):g.endsWith("_my_projects")&&(ee=g.replace("client_","").replace("_my_projects","")),ee&&(dt(ee),O(null))}else if(g.startsWith("project_")){let ee="";if(g.endsWith("_dashboard")?ee=g.replace("project_","").replace("_dashboard",""):g.endsWith("_gantt")&&(ee=g.replace("project_","").replace("_gantt","")),ee){O(ee);const ae=Ne.find(de=>de.id===ee);ae&&ae.clientId&&dt(ae.clientId)}}},[g,Ne]);const Bt=async ee=>{if(t)try{await lt.createClient({...ee,ownerId:t.uid})}catch(ae){console.error("Error creating client:",ae)}},un=async ee=>{try{const ae=await F8(ee);if(console.log("Tarefas Importadas:",ae),b){if(confirm(`Importar "${ee.name}" substituir todas as tarefas do projeto atual. Deseja continuar?`)){const de=Ne.find(ve=>ve.id===b);de&&(await lt.replaceProjectTasks(de.id,ae),alert(`Sucesso! ${ae.length} tarefas importadas.`))}}else alert("Por favor, abra um projeto antes de importar um arquivo .XML do MS Project.")}catch(ae){console.error(ae),alert("Erro ao importar projeto: "+ae.message)}},Ir=()=>{if(!b)return;const ee=Ne.find(de=>de.id===b);if(!ee)return;const ae=a.filter(de=>de.projectId===b);B8(ee,ae)},At=async()=>{if(!b)return;const ee=Ne.find(ae=>ae.id===b);if(ee){oe(!0),je("Inicializando motor de apresentao...");try{const ae=a.filter($e=>$e.projectId===b);let de;try{const $e=localStorage.getItem("PPT_TEMPLATE_CONFIG");$e?(de=JSON.parse($e),console.log("Loaded Template Config:",de)):console.warn("No Template Config found in localStorage")}catch($e){console.error("Error parsing PPT template config",$e)}const ve=document.getElementById("gantt-chart-area"),Ae=localStorage.getItem("PPT_SMART_DESIGN_ENABLED")==="true";ve?await H_(ee,{includeGantt:!0,ganttElementId:"gantt-chart-area",tasks:ae,viewMode:y,templateConfig:de,smartDesign:Ae,onStatusUpdate:$e=>je($e)}):confirm("Visualizao do Cronograma no encontrada (Necessrio estar na aba 'Contronograma' para captura de imagem). Deseja gerar a proposta apenas com o Roadmap Macro nativo?")&&await H_(ee,{includeGantt:!1,tasks:ae,templateConfig:de,smartDesign:Ae,onStatusUpdate:$e=>je($e)})}catch(ae){console.error(ae),alert("Erro ao gerar proposta: "+ae.message)}finally{oe(!1)}}},qn=async ee=>{try{const{id:ae,...de}=ee;if(Object.keys(de).forEach(ve=>de[ve]===void 0&&delete de[ve]),!ae){alert("Erro: ID do cliente no encontrado.");return}await lt.updateClient(ae,de)}catch(ae){console.error("Error updating client:",ae),alert("Erro ao salvar: "+(ae.message||"Erro desconhecido"))}},mn=async ee=>{try{await lt.deleteClient(ee)}catch(ae){console.error("Error deleting client:",ae)}},kt=(()=>{if(g==="clients_manage")return"clients_manage";if(g==="global_projects")return"my_projects";if(g==="team")return"team";if(g==="settings")return"settings";if(g.startsWith("client_")){if(g.endsWith("_reports"))return"reports";if(g.endsWith("_my_projects"))return"my_projects"}if(g.startsWith("project_")){if(g.endsWith("_dashboard"))return"dashboard";if(g.endsWith("_gantt"))return"gantt"}return"unknown"})();L.useEffect(()=>{if(kt!=="reports"||!Fe)return;const ee=Ne.filter(ve=>ve.clientId===Fe);if(ee.length===0){G([]);return}const ae=[],de=new Map;return ee.forEach(ve=>{try{const Ae=lt.subscribeTasks(ve.id,$e=>{de.set(ve.id,$e);const Le=Array.from(de.values()).flat();G(Le)});ae.push(Ae)}catch(Ae){console.error("Error aggregating project",ve.id,Ae);const $e=Q_.filter(Le=>Le.projectId===ve.id);$e.length>0&&(de.set(ve.id,$e),G(Array.from(de.values()).flat()))}}),()=>{ae.forEach(ve=>ve())}},[kt,Fe,Ne]);const jt=b?F.filter(ee=>ee.projectId===b||ee.projectId==="1"&&b==="1"):[],tn=L.useMemo(()=>Ne.find(ee=>ee.id===b),[Ne,b]),Vr=L.useMemo(()=>M9(jt,s,tn),[jt,s,tn]),ir=Fe?Ne.filter(ee=>ee.clientId!==Fe?!1:new Date(ee.startDate).getFullYear().toString()===gt):kt==="my_projects"?Ne.filter(ee=>new Date(ee.startDate).getFullYear().toString()===gt):[],ja=ee=>{let ae=new Date;const de=parseInt(gt);ae.getFullYear()!==de&&(ae=new Date(de,0,1)),j({...ee,clientId:Fe,startDate:ae})},gi=ee=>{const ae=V(ee.id);if(ae&&c&&(lt.updateTask(ae.id,{parent:ae.parent,type:ae.type}).catch(console.error),ae.parent)){const de=F.find(ve=>ve.id===ae.parent);de&&de.type!=="project"&&lt.updateTask(de.id,{type:"project"}).catch(console.error)}},Ai=ee=>{const ae=te(ee.id);ae&&c&&lt.updateTask(ae.id,{parent:ae.parent}).catch(console.error)},ia=async(ee,ae)=>{var Bo,zo,ut;if(!b)return;ae==null||ae("Inicializando cronograma...");let de=Cp(new Date);const ve=`ai-${Date.now()}-`,Ae={};ae==null||ae("Definindo fases do projeto...");const $e={planning:`${ve}phase-plan`,development:`${ve}phase-dev`,testing:`${ve}phase-test`,rollout:`${ve}phase-rollout`,management:`${ve}phase-mgmt`},Le=[{id:$e.planning,projectId:b,name:"Planejamento e Anlise",type:"project",start:de,end:xn(de,5),progress:0,parent:null,dependencies:[],styles:{backgroundColor:"#60a5fa",progressColor:"#93c5fd"},order:0},{id:$e.development,projectId:b,name:"Desenvolvimento",type:"project",start:xn(de,6),end:xn(de,15),progress:0,parent:null,dependencies:[$e.planning],styles:{backgroundColor:"#f59e0b",progressColor:"#fcd34d"},order:100},{id:$e.testing,projectId:b,name:"Testes",type:"project",start:xn(de,16),end:xn(de,20),progress:0,parent:null,dependencies:[$e.development],styles:{backgroundColor:"#ef4444",progressColor:"#fca5a5"},order:200},{id:$e.rollout,projectId:b,name:"Preparao, Rollout e Acompanhamento",type:"project",start:xn(de,21),end:xn(de,25),progress:0,parent:null,dependencies:[$e.testing],styles:{backgroundColor:"#10b981",progressColor:"#6ee7b7"},order:300},{id:$e.management,projectId:b,name:"Gesto do Projeto (GP)",type:"project",start:de,end:xn(de,25),progress:0,parent:null,dependencies:[],styles:{backgroundColor:"#8b5cf6",progressColor:"#c4b5fd"},order:-100}];ee.tasks.forEach(Re=>{Ae[Re.id]=ve+Re.id}),ae==null||ae(`Estruturando ${ee.tasks.length} tarefas inteligentes...`);const Dt=ee.tasks.map((Re,Ze)=>{const qe=og(de,Re.start_offset_days||0),tt=Math.max(1,Re.duration_days||1),gn=og(qe,tt);let Tn=null;return Re.category&&$e[Re.category]?Tn=$e[Re.category]:Re.parent_id&&Ae[Re.parent_id]&&(Tn=Ae[Re.parent_id]),{id:Ae[Re.id],projectId:b,name:Re.name,type:Re.type==="project"?"project":Re.type==="milestone"?"milestone":"task",start:qe,end:gn,progress:0,parent:Tn,dependencies:Re.dependencies?Re.dependencies.map(yi=>Ae[yi]||yi):[],assignedResource:Re.role||"",hourlyRate:Re.hourly_rate||0,styles:{progressColor:"#8b5cf6",backgroundColor:"#8b5cf6"},order:Ze+500}}),Wt={};Dt.forEach(Re=>{Re.parent&&(Wt[Re.parent]||(Wt[Re.parent]=[]),Wt[Re.parent].push(Re))});const Qn=[];let Xn=0;for(const Re of Le){const Ze=Wt[Re.id]||[];if(Ze.length>0){let qe=Ze[0].start,tt=Ze[0].end;Ze.forEach(gn=>{gn.start<qe&&(qe=gn.start),gn.end>tt&&(tt=gn.end)}),Re.start=qe,Re.end=tt}Qn.push({...Re,order:Xn++}),Ze.forEach(qe=>{Qn.push({...qe,order:Xn++})})}Dt.filter(Re=>!Re.parent||!Object.values($e).includes(Re.parent)).forEach(Re=>{Qn.push({...Re,order:Xn++})}),ae==null||ae("Salvando tarefas no banco de dados...");for(const Re of Qn)await at(Re);const mr=new Map;Qn.forEach(Re=>{if(Re.type==="task"&&Re.assignedResource){const Ze=Re.assignedResource.trim();if(!Ze)return;const qe=Re.hourlyRate||0;if(mr.has(Ze)){const tt=mr.get(Ze);qe>0&&(!tt.hourlyRate||tt.hourlyRate===0)&&(tt.hourlyRate=qe)}else{let tt=1,gn=[],Tn=0;if(ee.team_structure){const yi=Fa=>Fa.toLowerCase().trim(),Mt=yi(Ze),Oa=ee.team_structure.find(Fa=>{const Ba=yi(Fa.role);return!!(Ba===Mt||Ba.split(/[\s()]+/).includes(Mt)||Mt.length>3&&Ba.includes(Mt))});Oa&&(tt=Oa.quantity,gn=Oa.responsibilities,Tn=Oa.hourlyRate||0)}mr.set(Ze,{role:Ze,quantity:tt,hourlyRate:qe>0?qe:Tn,responsibilities:gn})}}});const Fo=Array.from(mr.values());if(b){ae==null||ae("Atualizando documentao e contexto do projeto...");const Re={aiConfidence:ee.confidence_score,aiSummary:ee.description,documentation:ee.documentation,technicalPremises:(Bo=ee.strategic_planning)==null?void 0:Bo.technical_premises,clientResponsibilities:(zo=ee.strategic_planning)==null?void 0:zo.client_responsibilities,raciMatrix:(ut=ee.strategic_planning)==null?void 0:ut.raci_matrix,teamStructure:Fo,scopeDelta:ee.scope_delta};c?await lt.updateProject(b,Re):Ce(Ze=>Ze.map(qe=>qe.id===b?{...qe,...Re}:qe))}ae==null||ae("Finalizado com sucesso!"),E(!1)},Sr=async()=>{if(jt.length>0){if(window.confirm("J existem tarefas criadas para este projeto. Deseja excluir todo planejamento atual e gerar um novo?")){if(c)try{await lt.deleteAllTasksForProject(b),await lt.updateProject(b,{documentation:void 0,teamStructure:[],monthlyCosts:[],otherCosts:[],technicalPremises:[],clientResponsibilities:[],raciMatrix:[],scopeDelta:void 0,aiSummary:void 0,aiConfidence:void 0,architectureImage:void 0})}catch(ee){console.error("Error clearing tasks",ee),alert("Erro ao limpar tarefas antigas. Verifique a conexo.");return}else i(ee=>ee.filter(ae=>ae.projectId!==b)),Ce(ee=>ee.map(ae=>ae.id===b?{...ae,documentation:void 0,teamStructure:[],monthlyCosts:[],otherCosts:[],technicalPremises:[],clientResponsibilities:[],raciMatrix:[],scopeDelta:void 0,aiSummary:void 0,aiConfidence:void 0,architectureImage:void 0}:ae));E(!0)}}else E(!0)},Ts=async(ee,ae)=>{if(ae<2)return;const de=Ri(ee.start,ee.end),ve=Math.max(1,Math.floor(de/ae)),Ae=og(ee.start,ve),$e={...ee,name:`${ee.name} (Parte 1)`,end:Ae};await Ue($e);let Le=ee.id;for(let Dt=2;Dt<=ae;Dt++){const Wt={...ee,id:self.crypto.randomUUID(),name:`${ee.name} (Parte ${Dt})`,start:ee.start,end:Ae,progress:0,order:(ee.order||0)+.01*(Dt-1),dependencies:ee.dependencies?[...ee.dependencies]:[],styles:{...ee.styles,progressColor:"#f97316",backgroundColor:"#f97316"}};await at(Wt,Le),Le=Wt.id}he(!1)},Ma=async ee=>{if(!b)return;const ae=Ne.find(de=>de.id===b);if(ae){const de={...ae,teamStructure:ee};Ce(Le=>Le.map(Dt=>Dt.id===b?de:Dt));const ve=[],Ae=new Map;ee.forEach(Le=>{Le.hourlyRate!==void 0&&Ae.set(Le.role,Le.hourlyRate)}),a.filter(Le=>Le.projectId===b).forEach(Le=>{const Dt=Le.assignedResource;if(Dt&&Ae.has(Dt)){const Wt=Ae.get(Dt);Wt!==void 0&&Le.hourlyRate!==Wt&&ve.push({id:Le.id,data:{hourlyRate:Wt}})}}),c&&(await lt.updateProject(b,{teamStructure:ee}),ve.length>0&&await lt.batchUpdateTasks(ve)),ve.length>0&&i(Le=>{const Dt=new Map(ve.map(Wt=>[Wt.id,Wt.data]));return Le.map(Wt=>Dt.has(Wt.id)?{...Wt,...Dt.get(Wt.id)}:Wt)})}};return e?o.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-gray-50",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):t?!t.isApproved&&!r?o.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-md w-full text-center border border-yellow-200",children:[o.jsx("div",{className:"mx-auto w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mb-4",children:o.jsx(Dx,{className:"text-yellow-600",size:32})}),o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Acesso Pendente"}),o.jsxs("p",{className:"text-gray-600 mb-6",children:["Sua conta (",t.email,") foi criada, mas aguarda aprovao do administrador Master."]}),o.jsxs("button",{onClick:n,className:"text-indigo-600 hover:text-indigo-800 font-medium text-sm hover:underline flex items-center justify-center gap-2",children:[o.jsx(iw,{size:16}),"Sair e tentar outra conta"]})]})}):o.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden font-sans",children:[o.jsx(iN,{activeView:g,onNavigate:A,className:"hidden lg:flex",clients:ht,projects:Ne,currentUser:t}),o.jsx(VL,{activeView:g,onNavigate:A,isOpen:T,onClose:()=>I(!1),currentUser:t}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[o.jsx(O8,{onImport:un,onExport:b?Ir:void 0,onExportProposal:b?At:void 0}),!p&&o.jsxs("div",{className:"bg-red-600 text-white px-4 py-3 text-center text-sm font-bold flex justify-center items-center gap-2 shadow-md animate-in slide-in-from-top-2 z-50 transition-all",children:[o.jsx(Ih,{size:20}),o.jsx("span",{children:"MODO OFFLINE: Voc est trabalhando sem internet. Suas alteraes foram salvas localmente e sero enviadas ao servidor automaticamente assim que a conexo retornar."})]}),o.jsxs("header",{className:"bg-white border-b border-gray-200 h-12 px-4 flex items-center justify-between z-40",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{className:"lg:hidden p-2 -ml-2 text-gray-600",onClick:()=>I(!0),children:o.jsx(Xj,{size:24})}),o.jsx("h2",{className:"text-xl font-bold text-gray-800",children:Fe?(La=ht.find(ee=>ee.id===Fe))==null?void 0:La.name:"Gesto de Projetos"}),p?u?o.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs font-semibold flex items-center gap-1",title:u,children:[o.jsx(Ih,{size:12})," Erro"]}):c?o.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold flex items-center gap-1",children:[o.jsx(rw,{size:12})," Live"]}):o.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-500 rounded-full text-xs font-semibold flex items-center gap-1",children:[o.jsx(Ih,{size:12})," Demo"]}):o.jsxs("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-semibold flex items-center gap-1",title:"Sem conexo com a internet",children:[o.jsx(Ih,{size:12})," Offline"]})]}),o.jsxs("div",{className:"flex items-center gap-6 relative",children:[o.jsxs("button",{onClick:()=>P(!k),className:"flex items-center gap-2 hover:bg-gray-100 p-1.5 rounded-lg transition-all outline-none focus:ring-2 focus:ring-indigo-500 group",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 text-white flex items-center justify-center font-bold shadow-sm group-hover:shadow-md transition-shadow",children:t!=null&&t.displayName?t.displayName.charAt(0).toUpperCase():"U"}),o.jsx("span",{className:"text-sm font-medium text-gray-700 hidden md:block max-w-[150px] truncate",children:(t==null?void 0:t.displayName)||"Usurio"}),o.jsx(_s,{size:14,className:`text-gray-400 transition-transform duration-200 ${k?"rotate-180":""}`})]}),k&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>P(!1)}),o.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white rounded-xl shadow-xl border border-gray-100 py-2 z-50 animate-in fade-in slide-in-from-top-2",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-gray-50 bg-gray-50/50",children:[o.jsx("p",{className:"text-sm font-bold text-gray-900 truncate",children:(t==null?void 0:t.displayName)||"Usurio"}),o.jsx("p",{className:"text-xs text-gray-500 truncate",children:t==null?void 0:t.email})]}),o.jsx("div",{className:"p-2",children:o.jsxs("button",{onClick:()=>{n(),P(!1)},className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg flex items-center gap-2 transition-colors font-medium",children:[o.jsx(iw,{size:16}),"Sair da conta"]})})]})]})]})]}),o.jsxs("main",{className:"flex-1 p-2 lg:p-8 overflow-y-auto",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-end mb-6 gap-4 md:gap-0",children:[o.jsxs("div",{className:"flex-1 md:mr-6 text-center md:text-left",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:kt==="team"?"Gesto da Equipe":kt==="settings"?"Configuraes do Sistema":kt==="clients_manage"?"Gesto de Clientes":kt==="my_projects"?"Portflio de Projetos":kt==="dashboard"?"Relatrio Operacional (Execuo Diria)":kt==="reports"?"Relatrio Estratgico (Viso Executiva)":kt==="gantt"?"Relatrio Ttico-Gerencial":((Hn=Ne.find(ee=>ee.id===b))==null?void 0:Hn.name)||"Viso Geral"}),o.jsx("p",{className:"text-gray-500 mt-1",children:kt==="dashboard"?"Foco em tarefas, eficincia e rotina do dia a dia.":kt==="reports"?"Viso de longo prazo, KPIs de portflio e alinhamento de negcio.":""}),kt==="gantt"&&b&&(()=>{const ee=Ne.find(ae=>ae.id===b);return ee?o.jsx("div",{className:"mt-3 w-full animate-in fade-in slide-in-from-top-2 hidden md:block",children:o.jsxs("div",{className:"relative group",children:[o.jsx("textarea",{value:ee.aiSummary||"",onChange:ae=>{const de=ae.target.value;Ce(ve=>ve.map(Ae=>Ae.id===b?{...Ae,aiSummary:de}:Ae))},onBlur:ae=>{c&&lt.updateProject(b,{aiSummary:ae.target.value}).catch(console.error)},className:"w-full bg-transparent border-0 text-gray-600 text-sm p-0 focus:ring-0 resize-none hover:bg-gray-50 rounded px-2 -ml-2 transition-colors",rows:2,placeholder:"Adicione um resumo executivo..."}),o.jsx(or,{size:12,className:"absolute -left-5 top-1 text-purple-400 opacity-50"})]})}):null})()]}),o.jsx("div",{className:"flex items-center gap-3 shrink-0 mb-1",children:kt==="gantt"&&b&&(Ne.find(ee=>ee.id===b),o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>_(!0),className:"bg-amber-500 hover:bg-amber-600 text-white px-3 py-2.5 rounded-lg flex items-center gap-2 font-medium shadow-lg shadow-amber-100 transition-all hover:scale-105 active:scale-95 text-xs lg:text-sm",title:"Estabilizar Cronograma (Atrasos e Pendncias)",children:[o.jsx(Xf,{size:16}),"Estabilizar"]}),(r||(t==null?void 0:t.canUseAI))&&o.jsxs("button",{onClick:Sr,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-2.5 rounded-lg flex items-center gap-2 font-medium shadow-lg shadow-indigo-100 transition-all hover:scale-105 active:scale-95 text-xs lg:text-sm",title:"Estimar com IA",children:[o.jsx(or,{size:16}),"Estimar"]})]}))})]}),kt==="settings"&&o.jsx(T8,{}),kt==="clients_manage"&&o.jsx(Fz,{clients:ht,onCreateClient:Bt,onUpdateClient:qn,onDeleteClient:mn,currentFiscalYear:gt,onFiscalYearChange:vt,onSelectClient:ee=>{A(`client_${ee}_my_projects`)}}),kt==="gantt"&&o.jsxs(o.Fragment,{children:[o.jsx(UL,{stats:Vr,project:Ne.find(ee=>ee.id===b),onUpdateProject:ee=>{c?lt.updateProject(ee.id,ee).catch(console.error):Ce(ae=>ae.map(de=>de.id===ee.id?ee:de))},onShowClientBlockages:()=>D(!0)}),o.jsxs("div",{className:"flex items-end mb-0 overflow-x-auto no-scrollbar pl-1",children:[o.jsx("button",{onClick:()=>x("schedule"),className:`flex items-center gap-2 px-4 py-2 lg:px-6 lg:py-3 text-xs lg:text-sm font-bold rounded-t-lg transition-all border border-b-0 relative ${v==="schedule"?"bg-white text-indigo-600 border-gray-200 shadow-[0_-2px_10px_rgba(0,0,0,0.02)] z-10 scale-105 origin-bottom":"bg-gray-50 text-gray-400 border-transparent hover:bg-gray-100 -mr-2 lg:-mr-0"}`,children:"Cronograma"}),o.jsx("button",{onClick:()=>x("tasks"),className:`flex items-center gap-2 px-4 py-2 lg:px-6 lg:py-3 text-xs lg:text-sm font-bold rounded-t-lg transition-all border border-b-0 relative ${v==="tasks"?"bg-white text-indigo-600 border-gray-200 shadow-[0_-2px_10px_rgba(0,0,0,0.02)] z-10 scale-105 origin-bottom":"bg-gray-50 text-gray-400 border-transparent hover:bg-gray-100 -mr-2 lg:-mr-0"}`,children:"Lista de Tarefas"}),o.jsxs("button",{onClick:()=>x("context"),className:`flex items-center gap-2 px-4 py-2 lg:px-6 lg:py-3 text-xs lg:text-sm font-bold rounded-t-lg transition-all border border-b-0 relative ${v==="context"?"bg-white text-indigo-600 border-gray-200 shadow-[0_-2px_10px_rgba(0,0,0,0.02)] z-10 scale-105 origin-bottom":"bg-gray-50 text-gray-400 border-transparent hover:bg-gray-100"}`,children:[o.jsx(hs,{size:16}),"Contexto"]}),o.jsxs("button",{onClick:()=>x("premises"),className:`flex items-center gap-2 px-4 py-2 lg:px-6 lg:py-3 text-xs lg:text-sm font-bold rounded-t-lg transition-all border border-b-0 relative ${v==="premises"?"bg-white text-indigo-600 border-gray-200 shadow-[0_-2px_10px_rgba(0,0,0,0.02)] z-10 scale-105 origin-bottom":"bg-gray-50 text-gray-400 border-transparent hover:bg-gray-100"}`,children:[o.jsx(Ml,{size:16}),"Premissas & RACI"]}),o.jsxs("button",{onClick:()=>x("team"),className:`flex items-center gap-2 px-4 py-2 lg:px-6 lg:py-3 text-xs lg:text-sm font-bold rounded-t-lg transition-all border border-b-0 relative ${v==="team"?"bg-white text-indigo-600 border-gray-200 shadow-[0_-2px_10px_rgba(0,0,0,0.02)] z-10 scale-105 origin-bottom":"bg-gray-50 text-gray-400 border-transparent hover:bg-gray-100"}`,children:[o.jsx(vo,{size:16}),"EQUIPE"]}),o.jsxs("button",{onClick:()=>x("monthly_costs"),className:`flex items-center gap-2 px-4 py-2 lg:px-6 lg:py-3 text-xs lg:text-sm font-bold rounded-t-lg transition-all border border-b-0 relative ${v==="monthly_costs"?"bg-white text-indigo-600 border-gray-200 shadow-[0_-2px_10px_rgba(0,0,0,0.02)] z-10 scale-105 origin-bottom":"bg-gray-50 text-gray-400 border-transparent hover:bg-gray-100"}`,children:[o.jsx(ma,{size:16}),"Declarao Mensal"]}),o.jsx("div",{className:"flex-1 border-b border-gray-200 h-px"})]}),v==="schedule"&&o.jsx("div",{className:"bg-white p-0 rounded-xl rounded-tl-none shadow-sm border border-gray-100 h-[650px] flex flex-col mt-0 gantt-landscape-container",children:o.jsx("div",{className:"flex-1 overflow-hidden relative",children:o.jsx(BL,{tasks:jt,onTaskChange:Ue,onEditTask:ee=>{pt(ee),Be(void 0),he(!0)},onAddTask:mt,onDeleteTask:Tt,onReorderTasks:ze,onIndent:gi,onOutdent:Ai,onViewModeChange:w,isModalOpen:re||R||N,onLandscapeModeChange:Ee,aiConfidence:(Ur=Ne.find(ee=>ee.id===b))==null?void 0:Ur.aiConfidence})})}),v==="tasks"&&o.jsx(Mz,{tasks:jt,resources:s,onEditTask:ee=>{pt(ee),Be(void 0),he(!0)},isConnected:c}),v==="context"&&(()=>{const ee=Ne.find(ae=>ae.id===b);return o.jsx("div",{className:"bg-gray-50/50 p-6 rounded-xl border border-gray-100 animate-in fade-in slide-in-from-bottom-2 duration-300 h-[650px] overflow-y-auto custom-scrollbar",children:ee!=null&&ee.documentation?o.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-800 rounded-2xl p-6 text-white shadow-lg mb-8",children:[o.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-3",children:[o.jsx(ni,{size:28}),"Documentao do Projeto"]}),o.jsx("p",{className:"text-indigo-100 mt-2 max-w-2xl",children:"Viso estratgica, arquitetura tcnica e plano de qualidade definidos pela Inteligncia Artificial."})]}),o.jsx("div",{className:"grid grid-cols-1 gap-6",children:(()=>{const ae=["context_overview","technical_solution","implementation_steps","testing_strategy","scope","non_scope"],de=Object.keys(ee.documentation),ve=ae.filter(Le=>de.includes(Le)),Ae=de.filter(Le=>!ae.includes(Le));return[...ve,...Ae].map(Le=>{const Dt=ee.documentation?ee.documentation[Le]:"",Wt=Le.split("_").map(mr=>mr.charAt(0).toUpperCase()+mr.slice(1)).join(" ");let Qn="border-gray-100",Xn="bg-gray-50 text-gray-600",Gr=ni;return Le==="context_overview"?(Qn="border-indigo-100",Xn="bg-indigo-50 text-indigo-600",Gr=hs):Le==="technical_solution"?(Qn="border-blue-100",Xn="bg-blue-50 text-blue-600",Gr=rw):Le==="implementation_steps"?(Qn="border-green-100",Xn="bg-green-50 text-green-600",Gr=Xf):Le==="testing_strategy"&&(Qn="border-teal-100",Xn="bg-teal-50 text-teal-600",Gr=j0),Q===Le?o.jsx("div",{className:"col-span-1",children:o.jsx(V_,{label:Wt,initialValue:Dt,onSave:mr=>ye(Le,mr),onCancel:()=>q(null)})},Le):o.jsxs(ue.Fragment,{children:[o.jsxs("div",{className:`bg-white p-6 rounded-2xl border shadow-sm hover:shadow-md transition-shadow ${Qn} group relative`,children:[o.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white/90 backdrop-blur-sm rounded-lg border border-gray-100 shadow-sm p-1",children:[o.jsx("button",{onClick:()=>q(Le),className:"p-1.5 text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors",title:"Editar Bloco",children:o.jsx(eu,{size:14})}),o.jsx("div",{className:"w-px h-4 bg-gray-200"}),o.jsx("button",{onClick:()=>me(Le),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Remover Bloco",children:o.jsx($n,{size:14})})]}),o.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-3 border-b border-gray-100",children:[o.jsx("div",{className:`p-2 rounded-lg ${Xn}`,children:o.jsx(Gr,{size:24})}),o.jsx("h4",{className:"text-lg font-bold text-gray-900",children:Wt})]}),o.jsx(Wy,{content:Dt,className:"text-sm"})]}),Le==="technical_solution"&&o.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-blue-100 shadow-sm hover:shadow-md transition-shadow relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-gray-100",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-blue-50 text-blue-600",children:o.jsx(Yl,{size:24})}),o.jsx("h4",{className:"text-lg font-bold text-gray-900",children:"Diagrama de Arquitetura"})]}),ee.architectureImage&&o.jsx("button",{onClick:xe,disabled:K,className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Regerar Imagem",children:K?o.jsx(ua,{className:"animate-spin",size:16}):o.jsx(or,{size:16})})]}),o.jsx("div",{className:"flex flex-col items-center justify-center min-h-[300px] bg-gray-50 rounded-xl border-2 border-dashed border-gray-200 p-4",children:ee.architectureImage?o.jsx("img",{src:ee.architectureImage,alt:"Architecture Diagram",className:"w-full h-auto rounded-lg shadow-sm object-contain max-h-[500px]"}):o.jsxs("div",{className:"text-center max-w-md",children:[o.jsx(Yl,{className:"mx-auto text-gray-300 mb-4",size:48}),o.jsx("h5",{className:"text-gray-900 font-bold mb-2",children:"Nenhum diagrama gerado"}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Utilize a IA para visualizar a arquitetura tcnica baseada na documentao do projeto."}),o.jsx("button",{onClick:xe,disabled:K,className:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-sm font-medium",children:K?o.jsxs(o.Fragment,{children:[o.jsx(ua,{className:"animate-spin",size:16})," Gerando Diagrama..."]}):o.jsxs(o.Fragment,{children:[o.jsx(or,{size:16})," Gerar Arquitetura com IA"]})})]})})]})]},Le)})})()}),ee.teamStructure&&ee.teamStructure.length>0&&o.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-indigo-100 shadow-sm",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-3 border-b border-gray-100",children:[o.jsx("div",{className:"p-2 rounded-lg bg-indigo-50 text-indigo-600",children:o.jsx(vo,{size:24})}),o.jsx("h4",{className:"text-lg font-bold text-gray-900",children:"Estrutura de Equipe Sugerida"})]}),o.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Profissional / Papel"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Qtd"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Responsabilidades Chave"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ee.teamStructure.map((ae,de)=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-3 text-sm font-medium text-indigo-900",children:ae.role}),o.jsx("td",{className:"px-4 py-3 text-sm text-center text-gray-600",children:o.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 bg-gray-100 rounded-full font-bold text-xs",children:ae.quantity})}),o.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:o.jsx("div",{className:"flex flex-wrap gap-1",children:ae.responsibilities.map((ve,Ae)=>o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-indigo-50 text-indigo-700",children:ve},Ae))})})]},de))})]})})]})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-500 space-y-4",children:[o.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center",children:o.jsx(ni,{size:40,className:"text-gray-400"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xl font-bold text-gray-700",children:"Documentao no disponvel"}),o.jsx("p",{className:"text-sm mt-2 max-w-sm mx-auto text-gray-400",children:"Este projeto no possui dados de contexto gerados pela IA. Crie uma nova estimativa para gerar este contedo automaticamente."})]}),(r||(t==null?void 0:t.canUseAI))&&o.jsxs("button",{onClick:Sr,className:"mt-4 px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium flex items-center gap-2",children:[o.jsx(or,{size:16}),"Gerar Documentao com IA"]})]})})})(),v==="premises"&&(()=>{const ee=Ne.find(ae=>ae.id===b);return o.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 animate-in fade-in slide-in-from-bottom-2 duration-300",children:ee!=null&&ee.technicalPremises||ee!=null&&ee.clientResponsibilities||ee!=null&&ee.raciMatrix?o.jsxs("div",{className:"space-y-8 max-w-5xl mx-auto",children:[ee.technicalPremises&&ee.technicalPremises.length>0&&o.jsx("section",{className:"relative group -mx-2 p-2 rounded-xl transition-colors hover:bg-gray-50/80",children:ne?o.jsx("div",{className:"bg-white rounded-xl shadow-lg ring-1 ring-black/5 p-1",children:o.jsx(V_,{label:"Editando Premissas Tcnicas",initialValue:ee.technicalPremises.map(ae=>`- ${ae}`).join(`
`),onSave:Te,onCancel:()=>Y(!1)})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h4",{className:"font-bold text-gray-900 text-lg flex items-center gap-2",children:"Premissas Tcnicas"}),o.jsx("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx("button",{onClick:()=>Y(!0),className:"p-1.5 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Editar Premissas",children:o.jsx(eu,{size:16})})})]}),o.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:ee.technicalPremises.map((ae,de)=>o.jsxs("li",{className:"bg-amber-50 text-amber-900 p-3 rounded-lg border border-amber-100 flex items-start gap-2 text-sm",children:[o.jsx("div",{className:"mt-1 min-w-[6px] h-1.5 rounded-full bg-amber-400"}),ae]},de))})]})}),ee.clientResponsibilities&&ee.clientResponsibilities.length>0&&o.jsxs("section",{children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-3 text-lg",children:"Responsabilidades do Cliente"}),o.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-gray-50 text-gray-700 font-semibold border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3",children:"Ao Necessria"}),o.jsx("th",{className:"px-4 py-3",children:"Prazo Limite"}),o.jsx("th",{className:"px-4 py-3 text-center",children:"Impacto"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:ee.clientResponsibilities.map((ae,de)=>o.jsxs("tr",{className:"hover:bg-gray-50/50",children:[o.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:ae.action_item}),o.jsx("td",{className:"px-4 py-3 text-gray-600",children:ae.deadline_description}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("span",{className:`inline-flex px-2 py-1 rounded-md text-xs font-bold border ${ae.impact==="BLOCKER"?"bg-red-50 text-red-700 border-red-200":ae.impact==="HIGH"?"bg-orange-50 text-orange-700 border-orange-200":"bg-blue-50 text-blue-700 border-blue-200"}`,children:ae.impact})})]},de))})]})})]}),ee.raciMatrix&&ee.raciMatrix.length>0&&o.jsxs("section",{children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-3 text-lg",children:"Matriz RACI Sugerida"}),o.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200",children:o.jsxs("table",{className:"w-full text-sm text-center",children:[o.jsx("thead",{className:"bg-gray-800 text-white font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left w-1/3",children:"Atividade / Entrega"}),o.jsx("th",{className:"px-2 py-3 w-[15%] bg-gray-700",title:"Responsible (Quem Executa)",children:"R"}),o.jsx("th",{className:"px-2 py-3 w-[15%] bg-gray-700",title:"Accountable (Quem Aprova)",children:"A"}),o.jsx("th",{className:"px-2 py-3 w-[15%] bg-gray-700",title:"Consulted (Quem  Consultado)",children:"C"}),o.jsx("th",{className:"px-2 py-3 w-[15%] bg-gray-700",title:"Informed (Quem  Informado)",children:"I"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:ee.raciMatrix.map((ae,de)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3 text-left font-medium text-gray-900",children:ae.activity_group}),o.jsx("td",{className:"px-2 py-3 text-gray-600 bg-blue-50/30",children:ae.responsible}),o.jsx("td",{className:"px-2 py-3 text-gray-600 font-semibold bg-indigo-50/30",children:ae.accountable}),o.jsx("td",{className:"px-2 py-3 text-gray-500",children:ae.consulted}),o.jsx("td",{className:"px-2 py-3 text-gray-400",children:ae.informed})]},de))})]})})]})]}):o.jsxs("div",{className:"text-center py-16 text-gray-500",children:[o.jsx(Ml,{size:48,className:"mx-auto mb-4 text-gray-300"}),o.jsx("p",{className:"text-lg font-medium",children:"Planejamento Estratgico no encontrado"}),o.jsx("p",{className:"text-sm mt-2",children:"Gere uma nova estimativa com IA para obter a Matriz RACI e Premissas."})]})})})(),v==="team"&&(()=>{const ee=Ne.find(ae=>ae.id===b);return ee?o.jsx(Iz,{project:ee,tasks:jt,onUpdateTeam:Ma}):null})(),v==="monthly_costs"&&(()=>{const ee=Ne.find(ae=>ae.id===b);return ee?o.jsx(Tz,{project:ee,tasks:jt}):null})()]}),kt==="team"&&o.jsx(Nz,{resources:s,isConnected:c}),kt==="dashboard"&&o.jsx(Pz,{tasks:jt,resources:s}),kt==="reports"&&o.jsx(Lz,{tasks:z,resources:s,projects:ir,client:ht.find(ee=>ee.id===Fe),fiscalYear:gt}),kt==="my_projects"&&o.jsx(Oz,{projects:ir,onCreateProject:ja,onUpdateProject:X,onDeleteProject:H,onSelectProject:ee=>{O(ee),A(`project_${ee}_gantt`)}})]})]}),o.jsx(M8,{isOpen:R,onClose:()=>_(!1),tasks:jt,onUpdateTasks:async ee=>{const ae=ee.map(de=>({id:de.id,data:de.changes}));if(c)try{await lt.batchUpdateTasks(ae),i(de=>{const ve=new Map(ee.map(Ae=>[Ae.id,Ae.changes]));return de.map(Ae=>ve.has(Ae.id)?{...Ae,...ve.get(Ae.id)}:Ae)})}catch(de){console.error("Batch update failed",de),alert("Erro ao salvar correes.")}else i(de=>{const ve=new Map(ee.map(Ae=>[Ae.id,Ae.changes]));return de.map(Ae=>ve.has(Ae.id)?{...Ae,...ve.get(Ae.id)}:Ae)})},project:Ne.find(ee=>ee.id===b),onUpdateProject:async ee=>{b&&await lt.updateProject(b,ee)}}),o.jsx(j9,{isOpen:C,onClose:()=>D(!1),tasks:jt,resources:s,onUpdateTasks:async ee=>{const ae=ee.map(de=>({id:de.id,data:de.changes}));if(c)try{await lt.batchUpdateTasks(ae),i(de=>{const ve=new Map(ee.map(Ae=>[Ae.id,Ae.changes]));return de.map(Ae=>ve.has(Ae.id)?{...Ae,...ve.get(Ae.id)}:Ae)})}catch(de){console.error("Batch update failed",de),alert("Erro ao excluir bloqueios.")}else i(de=>{const ve=new Map(ee.map(Ae=>[Ae.id,Ae.changes]));return de.map(Ae=>ve.has(Ae.id)?{...Ae,...ve.get(Ae.id)}:Ae)})}}),re&&o.jsx(y4,{task:We,forceLandscape:Ie,allTasks:F,projectTeam:(xi=Ne.find(ee=>ee.id===b))==null?void 0:xi.teamStructure,resources:s,onSave:Nt,onCancel:()=>he(!1),onSplit:Ts}),o.jsx(D8,{isOpen:N,onClose:()=>E(!1),onApplyEstimate:ia,clientContext:(pr=ht.find(ee=>ee.id===Fe))==null?void 0:pr.context,knowledgeBase:Ft}),ie&&o.jsx("div",{className:"fixed inset-0 bg-white/90 backdrop-blur-sm z-[100] flex flex-col items-center justify-center",children:o.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl border border-indigo-100 flex flex-col items-center max-w-md text-center animate-in fade-in zoom-in duration-300",children:[o.jsxs("div",{className:"relative mb-6",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-indigo-100 border-t-indigo-600 rounded-full animate-spin"}),o.jsx(or,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-indigo-600 animate-pulse",size:24})]}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Gerando Proposta Inteligente"}),o.jsx("p",{className:"text-gray-500 mb-6",children:"A IA est analisando o contexto, criando designs e otimizando o contedo dos slides. Isso pode levar alguns instantes."}),o.jsxs("div",{className:"flex bg-indigo-50 px-4 py-2 rounded-lg text-indigo-700 text-sm font-medium items-center gap-2",children:[o.jsx(ua,{size:16,className:"animate-spin"}),ge||"Processando slides..."]})]})})]}):o.jsx(L8,{})}Fg.createRoot(document.getElementById("root")).render(o.jsx(ue.StrictMode,{children:o.jsx(Vz,{children:o.jsx(O9,{})})}));
